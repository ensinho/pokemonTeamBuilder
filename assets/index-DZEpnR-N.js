(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fv={exports:{}},_c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb=Symbol.for("react.transitional.element"),fb=Symbol.for("react.fragment");function dv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:hb,type:e,key:i,ref:t!==void 0?t:null,props:n}}_c.Fragment=fb;_c.jsx=dv;_c.jsxs=dv;fv.exports=_c;var R=fv.exports,mv={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.transitional.element"),db=Symbol.for("react.portal"),mb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),yb=Symbol.for("react.consumer"),_b=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Eb=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),hp=Symbol.iterator;function Ab(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,_v={};function sa(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}sa.prototype.isReactComponent={};sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vv(){}vv.prototype=sa.prototype;function kd(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}var Pd=kd.prototype=new vv;Pd.constructor=kd;yv(Pd,sa.prototype);Pd.isPureReactComponent=!0;var fp=Array.isArray,Ut={H:null,A:null,T:null,S:null,V:null},Tv=Object.prototype.hasOwnProperty;function Ld(e,t,n,i,r,s){return n=s.ref,{$$typeof:Vd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function bb(e,t){return Ld(e.type,t,void 0,void 0,void 0,e.props)}function Ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vd}function Sb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dp=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sb(""+e.key):t.toString(36)}function mp(){}function wb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(mp,mp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function as(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vd:case db:a=!0;break;case gv:return a=e._init,as(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+ph(e,0):i,fp(r)?(n="",a!=null&&(n=a.replace(dp,"$&/")+"/"),as(r,t,n,"",function(h){return h})):r!=null&&(Ud(r)&&(r=bb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(dp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(fp(e))for(var u=0;u<e.length;u++)i=e[u],s=l+ph(i,u),a+=as(i,t,n,s,r);else if(u=Ab(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+ph(i,u++),a+=as(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return as(wb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ol(e,t,n){if(e==null)return e;var i=[],r=0;return as(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Rb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ib(){}st.Children={map:Ol,forEach:function(e,t,n){Ol(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ol(e,function(){t++}),t},toArray:function(e){return Ol(e,function(t){return t})||[]},only:function(e){if(!Ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=sa;st.Fragment=mb;st.Profiler=pb;st.PureComponent=kd;st.StrictMode=gb;st.Suspense=Tb;st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;st.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ut.H.useMemoCache(e)}};st.cache=function(e){return function(){return e.apply(null,arguments)}};st.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=yv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Tv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Ld(e.type,r,void 0,void 0,s,i)};st.createContext=function(e){return e={$$typeof:_b,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:yb,_context:e},e};st.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Tv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Ld(e,s,void 0,void 0,null,r)};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:vb,render:e}};st.isValidElement=Ud;st.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:Rb}};st.memo=function(e,t){return{$$typeof:Eb,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Ut.T,n={};Ut.T=n;try{var i=e(),r=Ut.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Ib,gp)}catch(s){gp(s)}finally{Ut.T=t}};st.unstable_useCacheRefresh=function(){return Ut.H.useCacheRefresh()};st.use=function(e){return Ut.H.use(e)};st.useActionState=function(e,t,n){return Ut.H.useActionState(e,t,n)};st.useCallback=function(e,t){return Ut.H.useCallback(e,t)};st.useContext=function(e){return Ut.H.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e,t){return Ut.H.useDeferredValue(e,t)};st.useEffect=function(e,t,n){var i=Ut.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};st.useId=function(){return Ut.H.useId()};st.useImperativeHandle=function(e,t,n){return Ut.H.useImperativeHandle(e,t,n)};st.useInsertionEffect=function(e,t){return Ut.H.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Ut.H.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Ut.H.useMemo(e,t)};st.useOptimistic=function(e,t){return Ut.H.useOptimistic(e,t)};st.useReducer=function(e,t,n){return Ut.H.useReducer(e,t,n)};st.useRef=function(e){return Ut.H.useRef(e)};st.useState=function(e){return Ut.H.useState(e)};st.useSyncExternalStore=function(e,t,n){return Ut.H.useSyncExternalStore(e,t,n)};st.useTransition=function(){return Ut.H.useTransition()};st.version="19.1.0";mv.exports=st;var Q=mv.exports;const Ev=hv(Q);var Av={exports:{}},vc={},bv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,W){var J=q.length;q.push(W);t:for(;0<J;){var It=J-1>>>1,kt=q[It];if(0<r(kt,W))q[It]=W,q[J]=kt,J=It;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],J=q.pop();if(J!==W){q[0]=J;t:for(var It=0,kt=q.length,vn=kt>>>1;It<vn;){var re=2*(It+1)-1,Pt=q[re],ke=re+1,Kt=q[ke];if(0>r(Pt,J))ke<kt&&0>r(Kt,Pt)?(q[It]=Kt,q[ke]=J,It=ke):(q[It]=Pt,q[re]=J,It=re);else if(ke<kt&&0>r(Kt,J))q[It]=Kt,q[ke]=J,It=ke;else break t}}return W}function r(q,W){var J=q.sortIndex-W.sortIndex;return J!==0?J:q.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,v=!1,x=!1,M=!1,V=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=q)i(h),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(h)}}function U(q){if(M=!1,N(q),!x)if(n(u)!==null)x=!0,B||(B=!0,C());else{var W=n(h);W!==null&&Ce(U,W.startTime-q)}}var B=!1,E=-1,y=5,A=-1;function b(){return V?!0:!(e.unstable_now()-A<y)}function I(){if(V=!1,B){var q=e.unstable_now();A=q;var W=!0;try{t:{x=!1,M&&(M=!1,T(E),E=-1),v=!0;var J=m;try{e:{for(N(q),g=n(u);g!==null&&!(g.expirationTime>q&&b());){var It=g.callback;if(typeof It=="function"){g.callback=null,m=g.priorityLevel;var kt=It(g.expirationTime<=q);if(q=e.unstable_now(),typeof kt=="function"){g.callback=kt,N(q),W=!0;break e}g===n(u)&&i(u),N(q)}else i(u);g=n(u)}if(g!==null)W=!0;else{var vn=n(h);vn!==null&&Ce(U,vn.startTime-q),W=!1}}break t}finally{g=null,m=J,v=!1}W=void 0}}finally{W?C():B=!1}}}var C;if(typeof S=="function")C=function(){S(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,pt=_.port2;_.port1.onmessage=I,C=function(){pt.postMessage(null)}}else C=function(){w(I,0)};function Ce(q,W){E=w(function(){q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var J=m;m=W;try{return q()}finally{m=J}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=m;m=q;try{return W()}finally{m=J}},e.unstable_scheduleCallback=function(q,W,J){var It=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?It+J:It):J=It,q){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=J+kt,q={id:d++,callback:W,priorityLevel:q,startTime:J,expirationTime:kt,sortIndex:-1},J>It?(q.sortIndex=J,t(h,q),n(u)===null&&q===n(h)&&(M?(T(E),E=-1):M=!0,Ce(U,J-It))):(q.sortIndex=kt,t(u,q),x||v||(x=!0,B||(B=!0,C()))),q},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(q){var W=m;return function(){var J=m;m=W;try{return q.apply(this,arguments)}finally{m=J}}}})(Sv);bv.exports=Sv;var Cb=bv.exports,wv={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=Q;function Rv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ti(){}var Oe={d:{f:Ti,r:function(){throw Error(Rv(522))},D:Ti,C:Ti,L:Ti,m:Ti,X:Ti,S:Ti,M:Ti},p:0,findDOMNode:null},Nb=Symbol.for("react.portal");function xb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var $a=Db.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Tc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oe;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Rv(299));return xb(e,t,null,n)};Ve.flushSync=function(e){var t=$a.T,n=Oe.p;try{if($a.T=null,Oe.p=2,e)return e()}finally{$a.T=t,Oe.p=n,Oe.d.f()}};Ve.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Oe.d.C(e,t))};Ve.prefetchDNS=function(e){typeof e=="string"&&Oe.d.D(e)};Ve.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Tc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Oe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Oe.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ve.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Tc(t.as,t.crossOrigin);Oe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Oe.d.M(e)};Ve.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Tc(n,t.crossOrigin);Oe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ve.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Tc(t.as,t.crossOrigin);Oe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Oe.d.m(e)};Ve.requestFormReset=function(e){Oe.d.r(e)};Ve.unstable_batchedUpdates=function(e,t){return e(t)};Ve.useFormState=function(e,t,n){return $a.H.useFormState(e,t,n)};Ve.useFormStatus=function(){return $a.H.useHostTransitionStatus()};Ve.version="19.1.0";function Iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iv)}catch(e){console.error(e)}}Iv(),wv.exports=Ve;var Ob=wv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=Cb,Cv=Q,Mb=Ob;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pp(e){if(zo(e)!==e)throw Error(P(188))}function Vb(e){var t=e.alternate;if(!t){if(t=zo(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return pp(r),e;if(s===i)return pp(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function xv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xv(e),t!==null)return t;e=e.sibling}return null}var Vt=Object.assign,kb=Symbol.for("react.element"),Ml=Symbol.for("react.transitional.element"),qa=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Mv=Symbol.for("react.consumer"),Yn=Symbol.for("react.context"),jd=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),mf=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),gf=Symbol.for("react.activity"),Lb=Symbol.for("react.memo_cache_sentinel"),yp=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var Ub=Symbol.for("react.client.reference");function pf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ub?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ms:return"Fragment";case ff:return"Profiler";case Ov:return"StrictMode";case df:return"Suspense";case mf:return"SuspenseList";case gf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qa:return"Portal";case Yn:return(e.displayName||"Context")+".Provider";case Mv:return(e._context.displayName||"Context")+".Consumer";case jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zd:return t=e.displayName||null,t!==null?t:pf(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return pf(e(t))}catch{}}return null}var Ha=Array.isArray,Z=Cv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt=Mb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rr={pending:!1,data:null,method:null,action:null},yf=[],gs=-1;function kn(e){return{current:e}}function he(e){0>gs||(e.current=yf[gs],yf[gs]=null,gs--)}function jt(e,t){gs++,yf[gs]=e.current,e.current=t}var Rn=kn(null),_o=kn(null),zi=kn(null),Au=kn(null);function bu(e,t){switch(jt(zi,t),jt(_o,e),jt(Rn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ay(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ay(t),e=$T(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}he(Rn),jt(Rn,e)}function js(){he(Rn),he(_o),he(zi)}function _f(e){e.memoizedState!==null&&jt(Au,e);var t=Rn.current,n=$T(t,e.type);t!==n&&(jt(_o,e),jt(Rn,n))}function Su(e){_o.current===e&&(he(Rn),he(_o)),Au.current===e&&(he(Au),Co._currentValue=Rr)}var vf=Object.prototype.hasOwnProperty,Bd=ie.unstable_scheduleCallback,yh=ie.unstable_cancelCallback,jb=ie.unstable_shouldYield,zb=ie.unstable_requestPaint,In=ie.unstable_now,Bb=ie.unstable_getCurrentPriorityLevel,Vv=ie.unstable_ImmediatePriority,kv=ie.unstable_UserBlockingPriority,wu=ie.unstable_NormalPriority,qb=ie.unstable_LowPriority,Pv=ie.unstable_IdlePriority,Hb=ie.log,Fb=ie.unstable_setDisableYieldValue,Bo=null,Ke=null;function ki(e){if(typeof Hb=="function"&&Fb(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Bo,e)}catch{}}var Xe=Math.clz32?Math.clz32:Yb,Gb=Math.log,Qb=Math.LN2;function Yb(e){return e>>>=0,e===0?32:31-(Gb(e)/Qb|0)|0}var Vl=256,kl=4194304;function Er(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ec(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Er(i):(a&=l,a!==0?r=Er(a):n||(n=l&~e,n!==0&&(r=Er(n))))):(l=i&~s,l!==0?r=Er(l):a!==0?r=Er(a):n||(n=i&~e,n!==0&&(r=Er(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function qo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lv(){var e=Vl;return Vl<<=1,!(Vl&4194048)&&(Vl=256),e}function Uv(){var e=kl;return kl<<=1,!(kl&62914560)&&(kl=4194304),e}function _h(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ho(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Xe(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~g}i!==0&&jv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function jv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Xe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function qd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Bv(){var e=Tt.p;return e!==0?e:(e=window.event,e===void 0?32:aE(e.type))}function $b(e,t){var n=Tt.p;try{return Tt.p=e,t()}finally{Tt.p=n}}var ur=Math.random().toString(36).slice(2),we="__reactFiber$"+ur,ze="__reactProps$"+ur,aa="__reactContainer$"+ur,Tf="__reactEvents$"+ur,Zb="__reactListeners$"+ur,Wb="__reactHandles$"+ur,_p="__reactResources$"+ur,Fo="__reactMarker$"+ur;function Fd(e){delete e[we],delete e[ze],delete e[Tf],delete e[Zb],delete e[Wb]}function ps(e){var t=e[we];if(t)return t;for(var n=e.parentNode;n;){if(t=n[aa]||n[we]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wy(e);e!==null;){if(n=e[we])return n;e=wy(e)}return t}e=n,n=e.parentNode}return null}function oa(e){if(e=e[we]||e[aa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Is(e){var t=e[_p];return t||(t=e[_p]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ue(e){e[Fo]=!0}var qv=new Set,Hv={};function qr(e,t){zs(e,t),zs(e+"Capture",t)}function zs(e,t){for(Hv[e]=t,e=0;e<t.length;e++)qv.add(t[e])}var Jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},Tp={};function tS(e){return vf.call(Tp,e)?!0:vf.call(vp,e)?!1:Jb.test(e)?Tp[e]=!0:(vp[e]=!0,!1)}function Jl(e,t,n){if(tS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Pl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function qn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var vh,Ep;function os(e){if(vh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vh=t&&t[1]||"",Ep=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vh+e+Ep}var Th=!1;function Eh(e,t){if(!e||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(v){var m=v}Reflect.construct(e,[],g)}else{try{g.call()}catch(v){m=v}e.call(g.prototype)}}else{try{throw Error()}catch(v){m=v}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?os(n):""}function eS(e){switch(e.tag){case 26:case 27:case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Eh(e.type,!1);case 11:return Eh(e.type.render,!1);case 1:return Eh(e.type,!0);case 31:return os("Activity");default:return""}}function Ap(e){try{var t="";do t+=eS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nS(e){var t=Fv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=nS(e))}function Gv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Fv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iS=/[\n"\\]/g;function sn(e){return e.replace(iS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ef(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Af(e,a,en(t)):n!=null?Af(e,a,en(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+en(l):e.removeAttribute("name")}function Qv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+en(n):"",t=t!=null?""+en(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Af(e,t,n){t==="number"&&Iu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Cs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Yv(e,t,n){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+en(n):""}function Kv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ha(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=en(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||rS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&bp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&bp(e,s,t[s])}function Gd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tu(e){return aS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bf=null;function Qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,Ds=null;function Sp(e){var t=oa(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;t:switch(e=t.stateNode,t.type){case"input":if(Ef(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[ze]||null;if(!r)throw Error(P(90));Ef(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Gv(i)}break t;case"textarea":Yv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Cs(e,!!n.multiple,t,!1)}}}var Ah=!1;function $v(e,t,n){if(Ah)return e(t,n);Ah=!0;try{var i=e(t);return i}finally{if(Ah=!1,(ys!==null||Ds!==null)&&(xc(),ys&&(t=ys,e=Ds,Ds=ys=null,Sp(t),e)))for(t=0;t<e.length;t++)Sp(e[t])}}function vo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ze]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=!1;if(ri)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Sf=!1}var Pi=null,Yd=null,eu=null;function Zv(){if(eu)return eu;var e,t=Yd,n=t.length,i,r="value"in Pi?Pi.value:Pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return eu=r.slice(e,1<i?1-i:void 0)}function nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function wp(){return!1}function qe(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ll:wp,this.isPropagationStopped=wp,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=qe(Hr),Go=Vt({},Hr,{view:0,detail:0}),oS=qe(Go),bh,Sh,Pa,bc=Vt({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(bh=e.screenX-Pa.screenX,Sh=e.screenY-Pa.screenY):Sh=bh=0,Pa=e),bh)},movementY:function(e){return"movementY"in e?e.movementY:Sh}}),Rp=qe(bc),lS=Vt({},bc,{dataTransfer:0}),uS=qe(lS),cS=Vt({},Go,{relatedTarget:0}),wh=qe(cS),hS=Vt({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=qe(hS),dS=Vt({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=qe(dS),gS=Vt({},Hr,{data:0}),Ip=qe(gS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_S[e])?!!t[e]:!1}function Kd(){return vS}var TS=Vt({},Go,{key:function(e){if(e.key){var t=pS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(e){return e.type==="keypress"?nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=qe(TS),AS=Vt({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=qe(AS),bS=Vt({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),SS=qe(bS),wS=Vt({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=qe(wS),IS=Vt({},bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=qe(IS),DS=Vt({},Hr,{newState:0,oldState:0}),NS=qe(DS),xS=[9,13,27,32],Xd=ri&&"CompositionEvent"in window,Za=null;ri&&"documentMode"in document&&(Za=document.documentMode);var OS=ri&&"TextEvent"in window&&!Za,Wv=ri&&(!Xd||Za&&8<Za&&11>=Za),Dp=" ",Np=!1;function Jv(e,t){switch(e){case"keyup":return xS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function MS(e,t){switch(e){case"compositionend":return t0(t);case"keypress":return t.which!==32?null:(Np=!0,Dp);case"textInput":return e=t.data,e===Dp&&Np?null:e;default:return null}}function VS(e,t){if(_s)return e==="compositionend"||!Xd&&Jv(e,t)?(e=Zv(),eu=Yd=Pi=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wv&&t.locale!=="ko"?null:t.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kS[e.type]:t==="textarea"}function e0(e,t,n,i){ys?Ds?Ds.push(i):Ds=[i]:ys=i,t=Gu(t,"onChange"),0<t.length&&(n=new Ac("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wa=null,To=null;function PS(e){YT(e,0)}function Sc(e){var t=Fa(e);if(Gv(t))return e}function Op(e,t){if(e==="change")return t}var n0=!1;if(ri){var Rh;if(ri){var Ih="oninput"in document;if(!Ih){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Ih=typeof Mp.oninput=="function"}Rh=Ih}else Rh=!1;n0=Rh&&(!document.documentMode||9<document.documentMode)}function Vp(){Wa&&(Wa.detachEvent("onpropertychange",i0),To=Wa=null)}function i0(e){if(e.propertyName==="value"&&Sc(To)){var t=[];e0(t,To,e,Qd(e)),$v(PS,t)}}function LS(e,t,n){e==="focusin"?(Vp(),Wa=t,To=n,Wa.attachEvent("onpropertychange",i0)):e==="focusout"&&Vp()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(To)}function jS(e,t){if(e==="click")return Sc(t)}function zS(e,t){if(e==="input"||e==="change")return Sc(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:BS;function Eo(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!vf.call(t,r)||!We(e[r],t[r]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pp(e,t){var n=kp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=kp(n)}}function r0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Iu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Iu(e.document)}return t}function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qS=ri&&"documentMode"in document&&11>=document.documentMode,vs=null,wf=null,Ja=null,Rf=!1;function Lp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rf||vs==null||vs!==Iu(i)||(i=vs,"selectionStart"in i&&$d(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ja&&Eo(Ja,i)||(Ja=i,i=Gu(wf,"onSelect"),0<i.length&&(t=new Ac("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=vs)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ts={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},Ch={},a0={};ri&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Fr(e){if(Ch[e])return Ch[e];if(!Ts[e])return e;var t=Ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a0)return Ch[e]=t[n];return e}var o0=Fr("animationend"),l0=Fr("animationiteration"),u0=Fr("animationstart"),HS=Fr("transitionrun"),FS=Fr("transitionstart"),GS=Fr("transitioncancel"),c0=Fr("transitionend"),h0=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function _n(e,t){h0.set(e,t),qr(t,[e])}var Up=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var n=Up.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ap(t)},Up.set(e,t),t)}return{value:e,source:t,stack:Ap(t)}}var tn=[],Es=0,Zd=0;function wc(){for(var e=Es,t=Zd=Es=0;t<e;){var n=tn[t];tn[t++]=null;var i=tn[t];tn[t++]=null;var r=tn[t];tn[t++]=null;var s=tn[t];if(tn[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&f0(n,r,s)}}function Rc(e,t,n,i){tn[Es++]=e,tn[Es++]=t,tn[Es++]=n,tn[Es++]=i,Zd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Wd(e,t,n,i){return Rc(e,t,n,i),Cu(e)}function la(e,t){return Rc(e,null,null,t),Cu(e)}function f0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Xe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Cu(e){if(50<uo)throw uo=0,Kf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var As={};function QS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,i){return new QS(e,t,n,i)}function Jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ti(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function d0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function iu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Jd(e)&&(a=1);else if(typeof e=="string")a=K2(e,n,Rn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case gf:return e=Ye(31,n,t,r),e.elementType=gf,e.lanes=s,e;case ms:return Ir(n.children,r,s,t);case Ov:a=8,r|=24;break;case ff:return e=Ye(12,n,t,r|2),e.elementType=ff,e.lanes=s,e;case df:return e=Ye(13,n,t,r),e.elementType=df,e.lanes=s,e;case mf:return e=Ye(19,n,t,r),e.elementType=mf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pb:case Yn:a=10;break t;case Mv:a=9;break t;case jd:a=11;break t;case zd:a=14;break t;case wi:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ye(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Ir(e,t,n,i){return e=Ye(7,e,i,t),e.lanes=n,e}function Dh(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function Nh(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bs=[],Ss=0,Du=null,Nu=0,nn=[],rn=0,Cr=null,Kn=1,Xn="";function Ar(e,t){bs[Ss++]=Nu,bs[Ss++]=Du,Du=e,Nu=t}function m0(e,t,n){nn[rn++]=Kn,nn[rn++]=Xn,nn[rn++]=Cr,Cr=e;var i=Kn;e=Xn;var r=32-Xe(i)-1;i&=~(1<<r),n+=1;var s=32-Xe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Kn=1<<32-Xe(t)+r|n<<r|i,Xn=s+e}else Kn=1<<s|n<<r|i,Xn=e}function tm(e){e.return!==null&&(Ar(e,1),m0(e,1,0))}function em(e){for(;e===Du;)Du=bs[--Ss],bs[Ss]=null,Nu=bs[--Ss],bs[Ss]=null;for(;e===Cr;)Cr=nn[--rn],nn[rn]=null,Xn=nn[--rn],nn[rn]=null,Kn=nn[--rn],nn[rn]=null}var xe=null,Ht=null,vt=!1,Dr=null,Sn=!1,Cf=Error(P(519));function Mr(e){var t=Error(P(418,""));throw Ao(an(t,e)),Cf}function jp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[we]=e,t[ze]=i,n){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(n=0;n<wo.length;n++)lt(wo[n],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),Qv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ru(t);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),Kv(t,i.value,i.defaultValue,i.children),Ru(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||XT(t.textContent,n)?(i.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),i.onScroll!=null&&lt("scroll",t),i.onScrollEnd!=null&&lt("scrollend",t),i.onClick!=null&&(t.onclick=Vc),t=!0):t=!1,t||Mr(e)}function zp(e){for(xe=e.return;xe;)switch(xe.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:xe=xe.return}}function La(e){if(e!==xe)return!1;if(!vt)return zp(e),vt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||td(e.type,e.memoizedProps)),n=!n),n&&Ht&&Mr(e),zp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ht=pn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ht=null}}else t===27?(t=Ht,cr(e.type)?(e=id,id=null,Ht=e):Ht=t):Ht=xe?pn(e.stateNode.nextSibling):null;return!0}function Qo(){Ht=xe=null,vt=!1}function Bp(){var e=Dr;return e!==null&&(Ue===null?Ue=e:Ue.push.apply(Ue,e),Dr=null),e}function Ao(e){Dr===null?Dr=[e]:Dr.push(e)}var Df=kn(null),Gr=null,$n=null;function Ii(e,t,n){jt(Df,t._currentValue),t._currentValue=n}function ei(e){e._currentValue=Df.current,he(Df)}function Nf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Nf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Yo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;We(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Au.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}r=r.return}e!==null&&xf(t,e,n,i),t.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Gr=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return g0(Gr,e)}function Ul(e,t){return Gr===null&&Vr(e),g0(e,t)}function g0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},$n===null){if(e===null)throw Error(P(308));$n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $n=$n.next=t;return n}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},KS=ie.unstable_scheduleCallback,XS=ie.unstable_NormalPriority,Jt={$$typeof:Yn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new YS,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&KS(XS,function(){e.controller.abort()})}var to=null,Of=0,qs=0,Ns=null;function $S(e,t){if(to===null){var n=to=[];Of=0,qs=wm(),Ns={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Of++,t.then(qp,qp),t}function qp(){if(--Of===0&&to!==null){Ns!==null&&(Ns.status="fulfilled");var e=to;to=null,qs=0,Ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ZS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Hp=Z.S;Z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&$S(e,t),Hp!==null&&Hp(e,t)};var Nr=kn(null);function im(){var e=Nr.current;return e!==null?e:xt.pooledCache}function ru(e,t){t===null?jt(Nr,Nr.current):jt(Nr,t.pool)}function p0(){var e=im();return e===null?null:{parent:Jt._currentValue,pool:e}}var Xo=Error(P(460)),y0=Error(P(474)),Ic=Error(P(542)),Mf={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jl(){}function _0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(jl,jl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qp(e),e;default:if(typeof t.status=="string")t.then(jl,jl);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qp(e),e}throw eo=t,Xo}}var eo=null;function Gp(){if(eo===null)throw Error(P(459));var e=eo;return eo=null,e}function Qp(e){if(e===Xo||e===Ic)throw Error(P(483))}var Ri=!1;function rm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,bt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Cu(e),f0(e,null,n),t}return Rc(e,i,t,n),Cu(e)}function no(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}function xh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kf=!1;function io(){if(kf){var e=Ns;if(e!==null)throw e}}function ro(e,t,n,i){kf=!1;var r=e.updateQueue;Ri=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,v=m!==l.lane;if(v?(mt&m)===m:(i&m)===m){m!==0&&m===qs&&(kf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var x=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){g=x.call(V,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,m=typeof x=="function"?x.call(V,g,m):x,m==null)break t;g=Vt({},g,m);break t;case 2:Ri=!0}}m=l.callback,m!==null&&(e.flags|=64,v&&(e.flags|=8192),v=r.callbacks,v===null?r.callbacks=[m]:v.push(m))}else v={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=v,u=g):d=d.next=v,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;v=l,l=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),nr|=a,e.lanes=a,e.memoizedState=g}}function v0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function T0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)v0(n[e],t)}var Hs=kn(null),Ou=kn(0);function Yp(e,t){e=oi,jt(Ou,e),jt(Hs,t),oi=e|t.baseLanes}function Pf(){jt(Ou,oi),jt(Hs,Hs.current)}function sm(){oi=Ou.current,he(Hs),he(Ou)}var tr=0,ot=null,Rt=null,$t=null,Mu=!1,xs=!1,kr=!1,Vu=0,bo=0,Os=null,WS=0;function Gt(){throw Error(P(321))}function am(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!We(e[n],t[n]))return!1;return!0}function om(e,t,n,i,r,s){return tr=s,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?Z0:W0,kr=!1,s=n(i,r),kr=!1,xs&&(s=A0(t,n,i,r)),E0(e),s}function E0(e){Z.H=ku;var t=Rt!==null&&Rt.next!==null;if(tr=0,$t=Rt=ot=null,Mu=!1,bo=0,Os=null,t)throw Error(P(300));e===null||ce||(e=e.dependencies,e!==null&&xu(e)&&(ce=!0))}function A0(e,t,n,i){ot=e;var r=0;do{if(xs&&(Os=null),bo=0,xs=!1,25<=r)throw Error(P(301));if(r+=1,$t=Rt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Z.H=s2,s=t(n,i)}while(xs);return s}function JS(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?$o(t):t,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(ot.flags|=1024),t}function lm(){var e=Vu!==0;return Vu=0,e}function um(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cm(e){if(Mu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mu=!1}tr=0,$t=Rt=ot=null,xs=!1,bo=Vu=0,Os=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ot.memoizedState=$t=e:$t=$t.next=e,$t}function Wt(){if(Rt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=$t===null?ot.memoizedState:$t.next;if(t!==null)$t=t,Rt=e;else{if(e===null)throw ot.alternate===null?Error(P(467)):Error(P(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?ot.memoizedState=$t=e:$t=$t.next=e}return $t}function hm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var t=bo;return bo+=1,Os===null&&(Os=[]),e=_0(Os,e,t),t=ot,($t===null?t.memoizedState:$t.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?Z0:W0),e}function Cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===Yn)return Re(e)}throw Error(P(438,String(e)))}function fm(e){var t=null,n=ot.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ot.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hm(),ot.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Lb;return t.index++,n}function si(e,t){return typeof t=="function"?t(e):t}function su(e){var t=Wt();return dm(t,Rt,e)}function dm(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(mt&g)===g:(tr&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===qs&&(d=!0);else if((tr&m)===m){h=h.next,m===qs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ot.lanes|=m,nr|=m;g=h.action,kr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ot.lanes|=g,nr|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!We(s,e.memoizedState)&&(ce=!0,d&&(n=Ns,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Oh(e){var t=Wt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);We(s,t.memoizedState)||(ce=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function b0(e,t,n){var i=ot,r=Wt(),s=vt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!We((Rt||r).memoizedState,n);a&&(r.memoizedState=n,ce=!0),r=r.queue;var l=R0.bind(null,i,r,e);if(Zo(2048,8,l,[e]),r.getSnapshot!==t||a||$t!==null&&$t.memoizedState.tag&1){if(i.flags|=2048,Fs(9,Dc(),w0.bind(null,i,r,n,t),null),xt===null)throw Error(P(349));s||tr&124||S0(i,t,n)}return n}function S0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t=hm(),ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w0(e,t,n,i){t.value=n,t.getSnapshot=i,I0(t)&&C0(e)}function R0(e,t,n){return n(function(){I0(t)&&C0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!We(e,n)}catch{return!0}}function C0(e){var t=la(e,2);t!==null&&Ze(t,e,2)}function Lf(e){var t=Pe();if(typeof e=="function"){var n=e;if(e=n(),kr){ki(!0);try{n()}finally{ki(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},t}function D0(e,t,n,i){return e.baseState=n,dm(e,Rt,typeof i=="function"?i:si)}function t2(e,t,n,i,r){if(Nc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Z.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,N0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function N0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Z.T,a={};Z.T=a;try{var l=n(r,i),u=Z.S;u!==null&&u(a,l),Kp(e,t,l)}catch(h){Uf(e,t,h)}finally{Z.T=s}}else try{s=n(r,i),Kp(e,t,s)}catch(h){Uf(e,t,h)}}function Kp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Xp(e,t,i)},function(i){return Uf(e,t,i)}):Xp(e,t,n)}function Xp(e,t,n){t.status="fulfilled",t.value=n,x0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,N0(e,n)))}function Uf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,x0(t),t=t.next;while(t!==i)}e.action=null}function x0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function O0(e,t){return t}function $p(e,t){if(vt){var n=xt.formState;if(n!==null){t:{var i=ot;if(vt){if(Ht){e:{for(var r=Ht,s=Sn;r.nodeType!==8;){if(!s){r=null;break e}if(r=pn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ht=pn(r.nextSibling),i=r.data==="F!";break t}}Mr(i)}i=!1}i&&(t=n[0])}}return n=Pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:t},n.queue=i,n=K0.bind(null,ot,i),i.dispatch=n,i=Lf(!1),s=ym.bind(null,ot,!1,i.queue),i=Pe(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=t2.bind(null,ot,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Zp(e){var t=Wt();return M0(t,Rt,e)}function M0(e,t,n){if(t=dm(e,t,O0)[0],e=su(si)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=$o(t)}catch(a){throw a===Xo?Ic:a}else i=t;t=Wt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(ot.flags|=2048,Fs(9,Dc(),e2.bind(null,r,n),null)),[i,s,e]}function e2(e,t){e.action=t}function Wp(e){var t=Wt(),n=Rt;if(n!==null)return M0(t,n,e);Wt(),t=t.memoizedState,n=Wt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Fs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ot.updateQueue,t===null&&(t=hm(),ot.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Dc(){return{destroy:void 0,resource:void 0}}function V0(){return Wt().memoizedState}function au(e,t,n,i){var r=Pe();i=i===void 0?null:i,ot.flags|=e,r.memoizedState=Fs(1|t,Dc(),n,i)}function Zo(e,t,n,i){var r=Wt();i=i===void 0?null:i;var s=r.memoizedState.inst;Rt!==null&&i!==null&&am(i,Rt.memoizedState.deps)?r.memoizedState=Fs(t,s,n,i):(ot.flags|=e,r.memoizedState=Fs(1|t,s,n,i))}function Jp(e,t){au(8390656,8,e,t)}function k0(e,t){Zo(2048,8,e,t)}function P0(e,t){return Zo(4,2,e,t)}function L0(e,t){return Zo(4,4,e,t)}function U0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j0(e,t,n){n=n!=null?n.concat([e]):null,Zo(4,4,U0.bind(null,t,e),n)}function mm(){}function z0(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&am(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function B0(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&am(t,i[1]))return i[0];if(i=e(),kr){ki(!0);try{e()}finally{ki(!1)}}return n.memoizedState=[i,t],i}function gm(e,t,n){return n===void 0||tr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=xT(),ot.lanes|=e,nr|=e,n)}function q0(e,t,n,i){return We(n,t)?n:Hs.current!==null?(e=gm(e,n,i),We(e,t)||(ce=!0),e):tr&42?(e=xT(),ot.lanes|=e,nr|=e,t):(ce=!0,e.memoizedState=n)}function H0(e,t,n,i,r){var s=Tt.p;Tt.p=s!==0&&8>s?s:8;var a=Z.T,l={};Z.T=l,ym(e,!1,t,n);try{var u=r(),h=Z.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=ZS(u,i);so(e,t,d,$e(e))}else so(e,t,i,$e(e))}catch(g){so(e,t,{then:function(){},status:"rejected",reason:g},$e())}finally{Tt.p=s,Z.T=a}}function n2(){}function jf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=F0(e).queue;H0(e,r,t,Rr,n===null?n2:function(){return G0(e),n(i)})}function F0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rr,baseState:Rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:Rr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function G0(e){var t=F0(e).next.queue;so(e,t,{},$e())}function pm(){return Re(Co)}function Q0(){return Wt().memoizedState}function Y0(){return Wt().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=$e();e=Bi(n);var i=qi(t,e,n);i!==null&&(Ze(i,t,n),no(i,t,n)),t={cache:nm()},e.payload=t;return}t=t.return}}function r2(e,t,n){var i=$e();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(e)?X0(t,n):(n=Wd(e,t,n,i),n!==null&&(Ze(n,e,i),$0(n,t,i)))}function K0(e,t,n){var i=$e();so(e,t,n,i)}function so(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))X0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,We(l,a))return Rc(e,t,r,0),xt===null&&wc(),!1}catch{}finally{}if(n=Wd(e,t,r,i),n!==null)return Ze(n,e,i),$0(n,t,i),!0}return!1}function ym(e,t,n,i){if(i={lane:2,revertLane:wm(),action:i,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(t)throw Error(P(479))}else t=Wd(e,n,i,2),t!==null&&Ze(t,e,2)}function Nc(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function X0(e,t){xs=Mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}var ku={readContext:Re,use:Cc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Z0={readContext:Re,use:Cc,useCallback:function(e,t){return Pe().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:Jp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,au(4194308,4,U0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return au(4194308,4,e,t)},useInsertionEffect:function(e,t){au(4,2,e,t)},useMemo:function(e,t){var n=Pe();t=t===void 0?null:t;var i=e();if(kr){ki(!0);try{e()}finally{ki(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Pe();if(n!==void 0){var r=n(t);if(kr){ki(!0);try{n(t)}finally{ki(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=r2.bind(null,ot,e),[i.memoizedState,e]},useRef:function(e){var t=Pe();return e={current:e},t.memoizedState=e},useState:function(e){e=Lf(e);var t=e.queue,n=K0.bind(null,ot,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mm,useDeferredValue:function(e,t){var n=Pe();return gm(n,e,t)},useTransition:function(){var e=Lf(!1);return e=H0.bind(null,ot,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ot,r=Pe();if(vt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),xt===null)throw Error(P(349));mt&124||S0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Jp(R0.bind(null,i,s,e),[e]),i.flags|=2048,Fs(9,Dc(),w0.bind(null,i,s,n,t),null),n},useId:function(){var e=Pe(),t=xt.identifierPrefix;if(vt){var n=Xn,i=Kn;n=(i&~(1<<32-Xe(i)-1)).toString(32)+n,t=""+t+"R"+n,n=Vu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=WS++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:pm,useFormState:$p,useActionState:$p,useOptimistic:function(e){var t=Pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ym.bind(null,ot,!0,n),n.dispatch=t,[e,t]},useMemoCache:fm,useCacheRefresh:function(){return Pe().memoizedState=i2.bind(null,ot)}},W0={readContext:Re,use:Cc,useCallback:z0,useContext:Re,useEffect:k0,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:B0,useReducer:su,useRef:V0,useState:function(){return su(si)},useDebugValue:mm,useDeferredValue:function(e,t){var n=Wt();return q0(n,Rt.memoizedState,e,t)},useTransition:function(){var e=su(si)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:$o(e),t]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:pm,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,t){var n=Wt();return D0(n,Rt,e,t)},useMemoCache:fm,useCacheRefresh:Y0},s2={readContext:Re,use:Cc,useCallback:z0,useContext:Re,useEffect:k0,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:B0,useReducer:Oh,useRef:V0,useState:function(){return Oh(si)},useDebugValue:mm,useDeferredValue:function(e,t){var n=Wt();return Rt===null?gm(n,e,t):q0(n,Rt.memoizedState,e,t)},useTransition:function(){var e=Oh(si)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:$o(e),t]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:pm,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,t){var n=Wt();return Rt!==null?D0(n,Rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fm,useCacheRefresh:Y0},Ms=null,So=0;function zl(e){var t=So;return So+=1,Ms===null&&(Ms=[]),_0(Ms,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bl(e,t){throw t.$$typeof===kb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ty(e){var t=e._init;return t(e._payload)}function J0(e){function t(w,T){if(e){var S=w.deletions;S===null?(w.deletions=[T],w.flags|=16):S.push(T)}}function n(w,T){if(!e)return null;for(;T!==null;)t(w,T),T=T.sibling;return null}function i(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function r(w,T){return w=ti(w,T),w.index=0,w.sibling=null,w}function s(w,T,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<T?(w.flags|=67108866,T):S):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function a(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function l(w,T,S,N){return T===null||T.tag!==6?(T=Dh(S,w.mode,N),T.return=w,T):(T=r(T,S),T.return=w,T)}function u(w,T,S,N){var U=S.type;return U===ms?d(w,T,S.props.children,N,S.key):T!==null&&(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wi&&ty(U)===T.type)?(T=r(T,S.props),Ua(T,S),T.return=w,T):(T=iu(S.type,S.key,S.props,null,w.mode,N),Ua(T,S),T.return=w,T)}function h(w,T,S,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=Nh(S,w.mode,N),T.return=w,T):(T=r(T,S.children||[]),T.return=w,T)}function d(w,T,S,N,U){return T===null||T.tag!==7?(T=Ir(S,w.mode,N,U),T.return=w,T):(T=r(T,S),T.return=w,T)}function g(w,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Dh(""+T,w.mode,S),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ml:return S=iu(T.type,T.key,T.props,null,w.mode,S),Ua(S,T),S.return=w,S;case qa:return T=Nh(T,w.mode,S),T.return=w,T;case wi:var N=T._init;return T=N(T._payload),g(w,T,S)}if(Ha(T)||Va(T))return T=Ir(T,w.mode,S,null),T.return=w,T;if(typeof T.then=="function")return g(w,zl(T),S);if(T.$$typeof===Yn)return g(w,Ul(w,T),S);Bl(w,T)}return null}function m(w,T,S,N){var U=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return U!==null?null:l(w,T,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ml:return S.key===U?u(w,T,S,N):null;case qa:return S.key===U?h(w,T,S,N):null;case wi:return U=S._init,S=U(S._payload),m(w,T,S,N)}if(Ha(S)||Va(S))return U!==null?null:d(w,T,S,N,null);if(typeof S.then=="function")return m(w,T,zl(S),N);if(S.$$typeof===Yn)return m(w,T,Ul(w,S),N);Bl(w,S)}return null}function v(w,T,S,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(S)||null,l(T,w,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ml:return w=w.get(N.key===null?S:N.key)||null,u(T,w,N,U);case qa:return w=w.get(N.key===null?S:N.key)||null,h(T,w,N,U);case wi:var B=N._init;return N=B(N._payload),v(w,T,S,N,U)}if(Ha(N)||Va(N))return w=w.get(S)||null,d(T,w,N,U,null);if(typeof N.then=="function")return v(w,T,S,zl(N),U);if(N.$$typeof===Yn)return v(w,T,S,Ul(T,N),U);Bl(T,N)}return null}function x(w,T,S,N){for(var U=null,B=null,E=T,y=T=0,A=null;E!==null&&y<S.length;y++){E.index>y?(A=E,E=null):A=E.sibling;var b=m(w,E,S[y],N);if(b===null){E===null&&(E=A);break}e&&E&&b.alternate===null&&t(w,E),T=s(b,T,y),B===null?U=b:B.sibling=b,B=b,E=A}if(y===S.length)return n(w,E),vt&&Ar(w,y),U;if(E===null){for(;y<S.length;y++)E=g(w,S[y],N),E!==null&&(T=s(E,T,y),B===null?U=E:B.sibling=E,B=E);return vt&&Ar(w,y),U}for(E=i(E);y<S.length;y++)A=v(E,w,y,S[y],N),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?y:A.key),T=s(A,T,y),B===null?U=A:B.sibling=A,B=A);return e&&E.forEach(function(I){return t(w,I)}),vt&&Ar(w,y),U}function M(w,T,S,N){if(S==null)throw Error(P(151));for(var U=null,B=null,E=T,y=T=0,A=null,b=S.next();E!==null&&!b.done;y++,b=S.next()){E.index>y?(A=E,E=null):A=E.sibling;var I=m(w,E,b.value,N);if(I===null){E===null&&(E=A);break}e&&E&&I.alternate===null&&t(w,E),T=s(I,T,y),B===null?U=I:B.sibling=I,B=I,E=A}if(b.done)return n(w,E),vt&&Ar(w,y),U;if(E===null){for(;!b.done;y++,b=S.next())b=g(w,b.value,N),b!==null&&(T=s(b,T,y),B===null?U=b:B.sibling=b,B=b);return vt&&Ar(w,y),U}for(E=i(E);!b.done;y++,b=S.next())b=v(E,w,y,b.value,N),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?y:b.key),T=s(b,T,y),B===null?U=b:B.sibling=b,B=b);return e&&E.forEach(function(C){return t(w,C)}),vt&&Ar(w,y),U}function V(w,T,S,N){if(typeof S=="object"&&S!==null&&S.type===ms&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ml:t:{for(var U=S.key;T!==null;){if(T.key===U){if(U=S.type,U===ms){if(T.tag===7){n(w,T.sibling),N=r(T,S.props.children),N.return=w,w=N;break t}}else if(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wi&&ty(U)===T.type){n(w,T.sibling),N=r(T,S.props),Ua(N,S),N.return=w,w=N;break t}n(w,T);break}else t(w,T);T=T.sibling}S.type===ms?(N=Ir(S.props.children,w.mode,N,S.key),N.return=w,w=N):(N=iu(S.type,S.key,S.props,null,w.mode,N),Ua(N,S),N.return=w,w=N)}return a(w);case qa:t:{for(U=S.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(w,T.sibling),N=r(T,S.children||[]),N.return=w,w=N;break t}else{n(w,T);break}else t(w,T);T=T.sibling}N=Nh(S,w.mode,N),N.return=w,w=N}return a(w);case wi:return U=S._init,S=U(S._payload),V(w,T,S,N)}if(Ha(S))return x(w,T,S,N);if(Va(S)){if(U=Va(S),typeof U!="function")throw Error(P(150));return S=U.call(S),M(w,T,S,N)}if(typeof S.then=="function")return V(w,T,zl(S),N);if(S.$$typeof===Yn)return V(w,T,Ul(w,S),N);Bl(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(w,T.sibling),N=r(T,S),N.return=w,w=N):(n(w,T),N=Dh(S,w.mode,N),N.return=w,w=N),a(w)):n(w,T)}return function(w,T,S,N){try{So=0;var U=V(w,T,S,N);return Ms=null,U}catch(E){if(E===Xo||E===Ic)throw E;var B=Ye(29,E,null,w.mode);return B.lanes=N,B.return=w,B}finally{}}}var Gs=J0(!0),tT=J0(!1),cn=kn(null),Cn=null;function Ci(e){var t=e.alternate;jt(te,te.current&1),jt(cn,e),Cn===null&&(t===null||Hs.current!==null||t.memoizedState!==null)&&(Cn=e)}function eT(e){if(e.tag===22){if(jt(te,te.current),jt(cn,e),Cn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Cn=e)}}else Di()}function Di(){jt(te,te.current),jt(cn,cn.current)}function Zn(e){he(cn),Cn===e&&(Cn=null),he(te)}var te=kn(0);function Pu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||nd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=$e(),r=Bi(i);r.payload=t,n!=null&&(r.callback=n),t=qi(e,r,i),t!==null&&(Ze(t,e,i),no(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=$e(),r=Bi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=qi(e,r,i),t!==null&&(Ze(t,e,i),no(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),i=Bi(n);i.tag=2,t!=null&&(i.callback=t),t=qi(e,i,n),t!==null&&(Ze(t,e,n),no(t,e,n))}};function ey(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Eo(n,i)||!Eo(r,s):!0}function ny(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&zf.enqueueReplaceState(t,t.state,null)}function Pr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Vt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nT(e){Lu(e)}function iT(e){console.error(e)}function rT(e){Lu(e)}function Uu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function iy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Bf(e,t,n){return n=Bi(n),n.tag=3,n.payload={element:null},n.callback=function(){Uu(e,t)},n}function sT(e){return e=Bi(e),e.tag=3,e}function aT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){iy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){iy(t,n,i),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function a2(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Yo(t,n,r,!0),n=cn.current,n!==null){switch(n.tag){case 13:return Cn===null?Xf():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Mf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Fh(e,i,r)),!1;case 22:return n.flags|=65536,i===Mf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Fh(e,i,r)),!1}throw Error(P(435,n.tag))}return Fh(e,i,r),Xf(),!1}if(vt)return t=cn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Cf&&(e=Error(P(422),{cause:i}),Ao(an(e,n)))):(i!==Cf&&(t=Error(P(423),{cause:i}),Ao(an(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=an(i,n),r=Bf(e.stateNode,i,r),xh(e,r),Ft!==4&&(Ft=2)),!1;var s=Error(P(520),{cause:i});if(s=an(s,n),lo===null?lo=[s]:lo.push(s),Ft!==4&&(Ft=2),t===null)return!0;i=an(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Bf(n.stateNode,i,e),xh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Hi===null||!Hi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=sT(r),aT(r,e,n,i),xh(n,r),!1}n=n.return}while(n!==null);return!1}var oT=Error(P(461)),ce=!1;function de(e,t,n,i){t.child=e===null?tT(t,null,n,i):Gs(t,e.child,n,i)}function ry(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Vr(t),i=om(e,t,n,a,s,r),l=lm(),e!==null&&!ce?(um(e,t,r),ai(e,t,r)):(vt&&l&&tm(t),t.flags|=1,de(e,t,i,r),t.child)}function sy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Jd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,lT(e,t,s,i,r)):(e=iu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!_m(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(a,i)&&e.ref===t.ref)return ai(e,t,r)}return t.flags|=1,e=ti(s,i),e.ref=t.ref,e.return=t,t.child=e}function lT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Eo(s,i)&&e.ref===t.ref)if(ce=!1,t.pendingProps=i=s,_m(e,r))e.flags&131072&&(ce=!0);else return t.lanes=e.lanes,ai(e,t,r)}return qf(e,t,n,i,r)}function uT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return ay(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ru(t,s!==null?s.cachePool:null),s!==null?Yp(t,s):Pf(),eT(t);else return t.lanes=t.childLanes=536870912,ay(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ru(t,s.cachePool),Yp(t,s),Di(),t.memoizedState=null):(e!==null&&ru(t,null),Pf(),Di());return de(e,t,r,n),t.child}function ay(e,t,n,i){var r=im();return r=r===null?null:{parent:Jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ru(t,null),Pf(),eT(t),e!==null&&Yo(e,t,i,!0),null}function ou(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qf(e,t,n,i,r){return Vr(t),n=om(e,t,n,i,void 0,r),i=lm(),e!==null&&!ce?(um(e,t,r),ai(e,t,r)):(vt&&i&&tm(t),t.flags|=1,de(e,t,n,r),t.child)}function oy(e,t,n,i,r,s){return Vr(t),t.updateQueue=null,n=A0(t,i,n,r),E0(e),i=lm(),e!==null&&!ce?(um(e,t,s),ai(e,t,s)):(vt&&i&&tm(t),t.flags|=1,de(e,t,n,s),t.child)}function ly(e,t,n,i,r){if(Vr(t),t.stateNode===null){var s=As,a=n.contextType;typeof a=="object"&&a!==null&&(s=Re(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},rm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Re(a):As,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Mh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&zf.enqueueReplaceState(s,s.state,null),ro(t,i,s,r),io(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Pr(n,l);s.props=u;var h=s.context,d=n.contextType;a=As,typeof d=="object"&&d!==null&&(a=Re(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&ny(t,s,i,a),Ri=!1;var m=t.memoizedState;s.state=m,ro(t,i,s,r),io(),h=t.memoizedState,l||m!==h||Ri?(typeof g=="function"&&(Mh(t,n,g,i),h=t.memoizedState),(u=Ri||ey(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Vf(e,t),a=t.memoizedProps,d=Pr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=As,typeof h=="object"&&h!==null&&(u=Re(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ny(t,s,i,u),Ri=!1,m=t.memoizedState,s.state=m,ro(t,i,s,r),io();var v=t.memoizedState;a!==g||m!==v||Ri||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof l=="function"&&(Mh(t,n,l,i),v=t.memoizedState),(d=Ri||ey(t,n,d,i,m,v,u)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),s.props=i,s.state=v,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,ou(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Gs(t,e.child,null,r),t.child=Gs(t,null,n,r)):de(e,t,n,r),t.memoizedState=s.state,e=t.child):e=ai(e,t,r),e}function uy(e,t,n,i){return Qo(),t.flags|=256,de(e,t,n,i),t.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(e){return{baseLanes:e,cachePool:p0()}}function Ph(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=un),e}function cT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(te.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(vt){if(r?Ci(t):Di(),vt){var l=Ht,u;if(u=l){t:{for(u=l,l=Sn;u.nodeType!==8;){if(!l){l=null;break t}if(u=pn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Cr!==null?{id:Kn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},u=Ye(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,xe=t,Ht=null,u=!0):u=!1}u||Mr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return nd(l)?t.lanes=32:t.lanes=536870912,null;Zn(t)}return l=i.children,i=i.fallback,r?(Di(),r=t.mode,l=ju({mode:"hidden",children:l},r),i=Ir(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=kh(n),r.childLanes=Ph(e,a,n),t.memoizedState=Vh,i):(Ci(t),Hf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Ci(t),t.flags&=-257,t=Lh(e,t,n)):t.memoizedState!==null?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),r=i.fallback,l=t.mode,i=ju({mode:"visible",children:i.children},l),r=Ir(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Gs(t,e.child,null,n),i=t.child,i.memoizedState=kh(n),i.childLanes=Ph(e,a,n),t.memoizedState=Vh,t=r);else if(Ci(t),nd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Ao({value:i,source:null,stack:null}),t=Lh(e,t,n)}else if(ce||Yo(e,t,n,!1),a=(n&e.childLanes)!==0,ce||a){if(a=xt,a!==null&&(i=n&-n,i=i&42?1:qd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,la(e,i),Ze(a,e,i),oT;l.data==="$?"||Xf(),t=Lh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ht=pn(l.nextSibling),xe=t,vt=!0,Dr=null,Sn=!1,e!==null&&(nn[rn++]=Kn,nn[rn++]=Xn,nn[rn++]=Cr,Kn=e.id,Xn=e.overflow,Cr=t),t=Hf(t,i.children),t.flags|=4096);return t}return r?(Di(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=ti(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=ti(h,r):(r=Ir(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=kh(n):(u=l.cachePool,u!==null?(h=Jt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=p0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Ph(e,a,n),t.memoizedState=Vh,i):(Ci(t),n=e.child,e=n.sibling,n=ti(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Hf(e,t){return t=ju({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ju(e,t){return e=Ye(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lh(e,t,n){return Gs(t,e.child,null,n),e=Hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Nf(e.return,t,n)}function Uh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function hT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(de(e,t,i.children,n),i=te.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,n,t);else if(e.tag===19)cy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(jt(te,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Pu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Pu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uh(t,!0,n,null,s);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Yo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=ti(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ti(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _m(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function o2(e,t,n){switch(t.tag){case 3:bu(t,t.stateNode.containerInfo),Ii(t,Jt,e.memoizedState.cache),Qo();break;case 27:case 5:_f(t);break;case 4:bu(t,t.stateNode.containerInfo);break;case 10:Ii(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ci(t),t.flags|=128,null):n&t.child.childLanes?cT(e,t,n):(Ci(t),e=ai(e,t,n),e!==null?e.sibling:null);Ci(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Yo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return hT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),jt(te,te.current),i)break;return null;case 22:case 23:return t.lanes=0,uT(e,t,n);case 24:Ii(t,Jt,e.memoizedState.cache)}return ai(e,t,n)}function fT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ce=!0;else{if(!_m(e,n)&&!(t.flags&128))return ce=!1,o2(e,t,n);ce=!!(e.flags&131072)}else ce=!1,vt&&t.flags&1048576&&m0(t,Nu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Jd(i)?(e=Pr(i,e),t.tag=1,t=ly(null,t,i,e,n)):(t.tag=0,t=qf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===jd){t.tag=11,t=ry(null,t,i,e,n);break t}else if(r===zd){t.tag=14,t=sy(null,t,i,e,n);break t}}throw t=pf(i)||i,Error(P(306,t,""))}}return t;case 0:return qf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Pr(i,t.pendingProps),ly(e,t,i,r,n);case 3:t:{if(bu(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Vf(e,t),ro(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ii(t,Jt,i),i!==s.cache&&xf(t,[Jt],n,!0),io(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=uy(e,t,i,n);break t}else if(i!==r){r=an(Error(P(424)),t),Ao(r),t=uy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=pn(e.firstChild),xe=t,vt=!0,Dr=null,Sn=!0,n=tT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qo(),i===r){t=ai(e,t,n);break t}de(e,t,i,n)}t=t.child}return t;case 26:return ou(e,t),e===null?(n=Iy(t.type,null,t.pendingProps,null))?t.memoizedState=n:vt||(n=t.type,e=t.pendingProps,i=Qu(zi.current).createElement(n),i[we]=t,i[ze]=e,ye(i,n,e),ue(i),t.stateNode=i):t.memoizedState=Iy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _f(t),e===null&&vt&&(i=t.stateNode=WT(t.type,t.pendingProps,zi.current),xe=t,Sn=!0,r=Ht,cr(t.type)?(id=r,Ht=pn(i.firstChild)):Ht=r),de(e,t,t.pendingProps.children,n),ou(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&vt&&((r=i=Ht)&&(i=k2(i,t.type,t.pendingProps,Sn),i!==null?(t.stateNode=i,xe=t,Ht=pn(i.firstChild),Sn=!1,r=!0):r=!1),r||Mr(t)),_f(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,td(r,s)?i=null:a!==null&&td(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=om(e,t,JS,null,null,n),Co._currentValue=r),ou(e,t),de(e,t,i,n),t.child;case 6:return e===null&&vt&&((e=n=Ht)&&(n=P2(n,t.pendingProps,Sn),n!==null?(t.stateNode=n,xe=t,Ht=null,e=!0):e=!1),e||Mr(t)),null;case 13:return cT(e,t,n);case 4:return bu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Gs(t,null,i,n):de(e,t,i,n),t.child;case 11:return ry(e,t,t.type,t.pendingProps,n);case 7:return de(e,t,t.pendingProps,n),t.child;case 8:return de(e,t,t.pendingProps.children,n),t.child;case 12:return de(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ii(t,t.type,i.value),de(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Vr(t),r=Re(r),i=i(r),t.flags|=1,de(e,t,i,n),t.child;case 14:return sy(e,t,t.type,t.pendingProps,n);case 15:return lT(e,t,t.type,t.pendingProps,n);case 19:return hT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=ju(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ti(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return uT(e,t,n);case 24:return Vr(t),i=Re(Jt),e===null?(r=im(),r===null&&(r=xt,s=nm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},rm(t),Ii(t,Jt,r)):(e.lanes&n&&(Vf(e,t),ro(t,null,null,n),io()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ii(t,Jt,i)):(i=s.cache,Ii(t,Jt,i),i!==r.cache&&xf(t,[Jt],n,!0))),de(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Hn(e){e.flags|=4}function hy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!eE(t)){if(t=cn.current,t!==null&&((mt&4194048)===mt?Cn!==null:(mt&62914560)!==mt&&!(mt&536870912)||t!==Cn))throw eo=Mf,y0;e.flags|=8192}}function ql(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Uv():536870912,e.lanes|=t,Qs|=t)}function ja(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function l2(e,t,n){var i=t.pendingProps;switch(em(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return zt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ei(Jt),js(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?Hn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bp())),zt(t),null;case 26:return n=t.memoizedState,e===null?(Hn(t),n!==null?(zt(t),hy(t,n)):(zt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hn(t),zt(t),hy(t,n)):(zt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Hn(t),zt(t),t.flags&=-16777217),null;case 27:Su(t),n=zi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return zt(t),null}e=Rn.current,La(t)?jp(t):(e=WT(r,i,n),t.stateNode=e,Hn(t))}return zt(t),null;case 5:if(Su(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return zt(t),null}if(e=Rn.current,La(t))jp(t);else{switch(r=Qu(zi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[we]=t,e[ze]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ye(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hn(t)}}return zt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=zi.current,La(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=xe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[we]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||XT(e.nodeValue,n)),e||Mr(t)}else e=Qu(e).createTextNode(i),e[we]=t,t.stateNode=e}return zt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=La(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[we]=t}else Qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),r=!1}else r=Bp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Zn(t),t):(Zn(t),null)}if(Zn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ql(t,t.updateQueue),zt(t),null;case 4:return js(),e===null&&Rm(t.stateNode.containerInfo),zt(t),null;case 10:return ei(t.type),zt(t),null;case 19:if(he(te),r=t.memoizedState,r===null)return zt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)ja(r,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Pu(e),s!==null){for(t.flags|=128,ja(r,!1),e=s.updateQueue,t.updateQueue=e,ql(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)d0(n,e),n=n.sibling;return jt(te,te.current&1|2),t.child}e=e.sibling}r.tail!==null&&In()>Bu&&(t.flags|=128,i=!0,ja(r,!1),t.lanes=4194304)}else{if(!i)if(e=Pu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ql(t,e),ja(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!vt)return zt(t),null}else 2*In()-r.renderingStartTime>Bu&&n!==536870912&&(t.flags|=128,i=!0,ja(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=In(),t.sibling=null,e=te.current,jt(te,i?e&1|2:e&1),t):(zt(t),null);case 22:case 23:return Zn(t),sm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),n=t.updateQueue,n!==null&&ql(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&he(Nr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ei(Jt),zt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function u2(e,t){switch(em(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(Jt),js(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Su(t),null;case 13:if(Zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(te),null;case 4:return js(),null;case 10:return ei(t.type),null;case 22:case 23:return Zn(t),sm(),e!==null&&he(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ei(Jt),null;case 25:return null;default:return null}}function dT(e,t){switch(em(t),t.tag){case 3:ei(Jt),js();break;case 26:case 27:case 5:Su(t);break;case 4:js();break;case 13:Zn(t);break;case 19:he(te);break;case 10:ei(t.type);break;case 22:case 23:Zn(t),sm(),e!==null&&he(Nr);break;case 24:ei(Jt)}}function Wo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Nt(t,t.return,l)}}function er(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Nt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Nt(t,t.return,d)}}function mT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{T0(t,n)}catch(i){Nt(e,e.return,i)}}}function gT(e,t,n){n.props=Pr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Nt(e,t,i)}}function ao(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Nt(e,t,r)}}function wn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Nt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function pT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Nt(e,e.return,r)}}function jh(e,t,n){try{var i=e.stateNode;N2(i,e.type,n,t),i[ze]=t}catch(r){Nt(e,e.return,r)}}function yT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cr(e.type)||e.tag===4}function zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(i!==4&&(i===27&&cr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ff(e,t,n),e=e.sibling;e!==null;)Ff(e,t,n),e=e.sibling}function zu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&cr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function _T(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ye(t,i,n),t[we]=e,t[ze]=n}catch(s){Nt(e,e.return,s)}}var Gn=!1,Qt=!1,Bh=!1,fy=typeof WeakSet=="function"?WeakSet:Set,le=null;function c2(e,t){if(e=e.containerInfo,Wf=$u,e=s0(e),$d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var v;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:e,selectionRange:n},$u=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){switch(t=le,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=Pr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Nt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ed(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}}function vT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ei(e,n),i&4&&Wo(5,n);break;case 1:if(Ei(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Nt(n,n.return,a)}else{var r=Pr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Nt(n,n.return,a)}}i&64&&mT(n),i&512&&ao(n,n.return);break;case 3:if(Ei(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{T0(e,t)}catch(a){Nt(n,n.return,a)}}break;case 27:t===null&&i&4&&_T(n);case 26:case 5:Ei(e,n),t===null&&i&4&&pT(n),i&512&&ao(n,n.return);break;case 12:Ei(e,n);break;case 13:Ei(e,n),i&4&&AT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=v2.bind(null,n),L2(e,n))));break;case 22:if(i=n.memoizedState!==null||Gn,!i){t=t!==null&&t.memoizedState!==null||Qt,r=Gn;var s=Qt;Gn=i,(Qt=t)&&!s?Si(e,n,(n.subtreeFlags&8772)!==0):Ei(e,n),Gn=r,Qt=s}break;case 30:break;default:Ei(e,n)}}function TT(e){var t=e.alternate;t!==null&&(e.alternate=null,TT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lt=null,Le=!1;function Fn(e,t,n){for(n=n.child;n!==null;)ET(e,t,n),n=n.sibling}function ET(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Bo,n)}catch{}switch(n.tag){case 26:Qt||wn(n,t),Fn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||wn(n,t);var i=Lt,r=Le;cr(n.type)&&(Lt=n.stateNode,Le=!1),Fn(e,t,n),co(n.stateNode),Lt=i,Le=r;break;case 5:Qt||wn(n,t);case 6:if(i=Lt,r=Le,Lt=null,Fn(e,t,n),Lt=i,Le=r,Lt!==null)if(Le)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(n.stateNode)}catch(s){Nt(n,t,s)}else try{Lt.removeChild(n.stateNode)}catch(s){Nt(n,t,s)}break;case 18:Lt!==null&&(Le?(e=Lt,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),xo(e)):Sy(Lt,n.stateNode));break;case 4:i=Lt,r=Le,Lt=n.stateNode.containerInfo,Le=!0,Fn(e,t,n),Lt=i,Le=r;break;case 0:case 11:case 14:case 15:Qt||er(2,n,t),Qt||er(4,n,t),Fn(e,t,n);break;case 1:Qt||(wn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&gT(n,t,i)),Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:Qt=(i=Qt)||n.memoizedState!==null,Fn(e,t,n),Qt=i;break;default:Fn(e,t,n)}}function AT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xo(e)}catch(n){Nt(t,t.return,n)}}function h2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fy),t;default:throw Error(P(435,e.tag))}}function qh(e,t){var n=h2(e);t.forEach(function(i){var r=T2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Fe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(cr(l.type)){Lt=l.stateNode,Le=!1;break t}break;case 5:Lt=l.stateNode,Le=!1;break t;case 3:case 4:Lt=l.stateNode.containerInfo,Le=!0;break t}l=l.return}if(Lt===null)throw Error(P(160));ET(s,a,r),Lt=null,Le=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)bT(t,e),t=t.sibling}var dn=null;function bT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fe(t,e),Ge(e),i&4&&(er(3,e,e.return),Wo(3,e),er(5,e,e.return));break;case 1:Fe(t,e),Ge(e),i&512&&(Qt||n===null||wn(n,n.return)),i&64&&Gn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=dn;if(Fe(t,e),Ge(e),i&512&&(Qt||n===null||wn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Fo]||s[we]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ye(s,i,n),s[we]=e,ue(s),i=s;break t;case"link":var a=Dy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ye(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Dy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ye(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[we]=e,ue(s),i=s}e.stateNode=i}else Ny(r,e.type,e.stateNode);else e.stateNode=Cy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ny(r,e.type,e.stateNode):Cy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&jh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Fe(t,e),Ge(e),i&512&&(Qt||n===null||wn(n,n.return)),n!==null&&i&4&&jh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Fe(t,e),Ge(e),i&512&&(Qt||n===null||wn(n,n.return)),e.flags&32){r=e.stateNode;try{Bs(r,"")}catch(v){Nt(e,e.return,v)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,jh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Bh=!0);break;case 6:if(Fe(t,e),Ge(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(v){Nt(e,e.return,v)}}break;case 3:if(cu=null,r=dn,dn=Yu(t.containerInfo),Fe(t,e),dn=r,Ge(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(v){Nt(e,e.return,v)}Bh&&(Bh=!1,ST(e));break;case 4:i=dn,dn=Yu(e.stateNode.containerInfo),Fe(t,e),Ge(e),dn=i;break;case 12:Fe(t,e),Ge(e);break;case 13:Fe(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bm=In()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,qh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Gn,d=Qt;if(Gn=h||r,Qt=d||u,Fe(t,e),Qt=d,Gn=h,Ge(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Gn||Qt||br(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){Nt(u,u.return,v)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(v){Nt(u,u.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,qh(e,n))));break;case 19:Fe(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,qh(e,i)));break;case 30:break;case 21:break;default:Fe(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(yT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=zh(e);zu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Bs(a,""),n.flags&=-33);var l=zh(e);zu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=zh(e);Ff(e,h,u);break;default:throw Error(P(161))}}catch(d){Nt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ST(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ST(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ei(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vT(e,t.alternate,t),t=t.sibling}function br(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:er(4,t,t.return),br(t);break;case 1:wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gT(t,t.return,n),br(t);break;case 27:co(t.stateNode);case 26:case 5:wn(t,t.return),br(t);break;case 22:t.memoizedState===null&&br(t);break;case 30:br(t);break;default:br(t)}e=e.sibling}}function Si(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Si(r,s,n),Wo(4,s);break;case 1:if(Si(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Nt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)v0(u[r],l)}catch(h){Nt(i,i.return,h)}}n&&a&64&&mT(s),ao(s,s.return);break;case 27:_T(s);case 26:case 5:Si(r,s,n),n&&i===null&&a&4&&pT(s),ao(s,s.return);break;case 12:Si(r,s,n);break;case 13:Si(r,s,n),n&&a&4&&AT(r,s);break;case 22:s.memoizedState===null&&Si(r,s,n),ao(s,s.return);break;case 30:break;default:Si(r,s,n)}t=t.sibling}}function vm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ko(n))}function Tm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e))}function An(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wT(e,t,n,i),t=t.sibling}function wT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:An(e,t,n,i),r&2048&&Wo(9,t);break;case 1:An(e,t,n,i);break;case 3:An(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e)));break;case 12:if(r&2048){An(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Nt(t,t.return,u)}}else An(e,t,n,i);break;case 13:An(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?An(e,t,n,i):oo(e,t):s._visibility&2?An(e,t,n,i):(s._visibility|=2,ls(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&vm(a,t);break;case 24:An(e,t,n,i),r&2048&&Tm(t.alternate,t);break;default:An(e,t,n,i)}}function ls(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:ls(s,a,l,u,r),Wo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ls(s,a,l,u,r):oo(s,a):(d._visibility|=2,ls(s,a,l,u,r)),r&&h&2048&&vm(a.alternate,a);break;case 24:ls(s,a,l,u,r),r&&h&2048&&Tm(a.alternate,a);break;default:ls(s,a,l,u,r)}t=t.sibling}}function oo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:oo(n,i),r&2048&&vm(i.alternate,i);break;case 24:oo(n,i),r&2048&&Tm(i.alternate,i);break;default:oo(n,i)}t=t.sibling}}var Ga=8192;function rs(e){if(e.subtreeFlags&Ga)for(e=e.child;e!==null;)RT(e),e=e.sibling}function RT(e){switch(e.tag){case 26:rs(e),e.flags&Ga&&e.memoizedState!==null&&$2(dn,e.memoizedState,e.memoizedProps);break;case 5:rs(e);break;case 3:case 4:var t=dn;dn=Yu(e.stateNode.containerInfo),rs(e),dn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ga,Ga=16777216,rs(e),Ga=t):rs(e));break;default:rs(e)}}function IT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function za(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];le=i,DT(i,e)}IT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)CT(e),e=e.sibling}function CT(e){switch(e.tag){case 0:case 11:case 15:za(e),e.flags&2048&&er(9,e,e.return);break;case 3:za(e);break;case 12:za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,lu(e)):za(e);break;default:za(e)}}function lu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];le=i,DT(i,e)}IT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:er(8,t,t.return),lu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,lu(t));break;default:lu(t)}e=e.sibling}}function DT(e,t){for(;le!==null;){var n=le;switch(n.tag){case 0:case 11:case 15:er(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ko(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,le=i;else t:for(n=e;le!==null;){i=le;var r=i.sibling,s=i.return;if(TT(i),i===n){le=null;break t}if(r!==null){r.return=s,le=r;break t}le=s}}}var f2={getCacheForType:function(e){var t=Re(Jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},d2=typeof WeakMap=="function"?WeakMap:Map,bt=0,xt=null,ut=null,mt=0,At=0,Qe=null,Li=!1,ua=!1,Em=!1,oi=0,Ft=0,nr=0,xr=0,Am=0,un=0,Qs=0,lo=null,Ue=null,Gf=!1,bm=0,Bu=1/0,qu=null,Hi=null,ge=0,Fi=null,Ys=null,Vs=0,Qf=0,Yf=null,NT=null,uo=0,Kf=null;function $e(){if(bt&2&&mt!==0)return mt&-mt;if(Z.T!==null){var e=qs;return e!==0?e:wm()}return Bv()}function xT(){un===0&&(un=!(mt&536870912)||vt?Lv():536870912);var e=cn.current;return e!==null&&(e.flags|=32),un}function Ze(e,t,n){(e===xt&&(At===2||At===9)||e.cancelPendingCommit!==null)&&(Ks(e,0),Ui(e,mt,un,!1)),Ho(e,n),(!(bt&2)||e!==xt)&&(e===xt&&(!(bt&2)&&(xr|=n),Ft===4&&Ui(e,mt,un,!1)),Pn(e))}function OT(e,t,n){if(bt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||qo(e,t),r=i?p2(e,t):Hh(e,t,!0),s=i;do{if(r===0){ua&&!i&&Ui(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!m2(n)){r=Hh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=lo;var u=l.current.memoizedState.isDehydrated;if(u&&(Ks(l,a).flags|=256),a=Hh(l,a,!1),a!==2){if(Em&&!u){l.errorRecoveryDisabledLanes|=s,xr|=s,r=4;break t}s=Ue,Ue=r,s!==null&&(Ue===null?Ue=s:Ue.push.apply(Ue,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ks(e,0),Ui(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:Ui(i,t,un,!Li);break t;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=bm+300-In(),10<r)){if(Ui(i,t,un,!Li),Ec(i,0,!0)!==0)break t;i.timeoutHandle=ZT(dy.bind(null,i,n,Ue,qu,Gf,t,un,xr,Qs,Li,s,2,-0,0),r);break t}dy(i,n,Ue,qu,Gf,t,un,xr,Qs,Li,s,0,-0,0)}}break}while(!0);Pn(e)}function dy(e,t,n,i,r,s,a,l,u,h,d,g,m,v){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:X2},RT(t),g=Z2(),g!==null)){e.cancelPendingCommit=g(gy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,v)),Ui(e,s,a,!h);return}gy(e,t,s,n,i,r,a,l,u)}function m2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!We(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ui(e,t,n,i){t&=~Am,t&=~xr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Xe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&jv(e,n,t)}function xc(){return bt&6?!0:(Jo(0),!1)}function Sm(){if(ut!==null){if(At===0)var e=ut.return;else e=ut,$n=Gr=null,cm(e),Ms=null,So=0,e=ut;for(;e!==null;)dT(e.alternate,e),e=e.return;ut=null}}function Ks(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,O2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Sm(),xt=e,ut=n=ti(e.current,null),mt=t,At=0,Qe=null,Li=!1,ua=qo(e,t),Em=!1,Qs=un=Am=xr=nr=Ft=0,Ue=lo=null,Gf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Xe(i),s=1<<r;t|=e[r],i&=~s}return oi=t,wc(),n}function MT(e,t){ot=null,Z.H=ku,t===Xo||t===Ic?(t=Gp(),At=3):t===y0?(t=Gp(),At=4):At=t===oT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qe=t,ut===null&&(Ft=1,Uu(e,an(t,e.current)))}function VT(){var e=Z.H;return Z.H=ku,e===null?ku:e}function kT(){var e=Z.A;return Z.A=f2,e}function Xf(){Ft=4,Li||(mt&4194048)!==mt&&cn.current!==null||(ua=!0),!(nr&134217727)&&!(xr&134217727)||xt===null||Ui(xt,mt,un,!1)}function Hh(e,t,n){var i=bt;bt|=2;var r=VT(),s=kT();(xt!==e||mt!==t)&&(qu=null,Ks(e,t)),t=!1;var a=Ft;t:do try{if(At!==0&&ut!==null){var l=ut,u=Qe;switch(At){case 8:Sm(),a=6;break t;case 3:case 2:case 9:case 6:cn.current===null&&(t=!0);var h=At;if(At=0,Qe=null,ws(e,l,u,h),n&&ua){a=0;break t}break;default:h=At,At=0,Qe=null,ws(e,l,u,h)}}g2(),a=Ft;break}catch(d){MT(e,d)}while(!0);return t&&e.shellSuspendCounter++,$n=Gr=null,bt=i,Z.H=r,Z.A=s,ut===null&&(xt=null,mt=0,wc()),a}function g2(){for(;ut!==null;)PT(ut)}function p2(e,t){var n=bt;bt|=2;var i=VT(),r=kT();xt!==e||mt!==t?(qu=null,Bu=In()+500,Ks(e,t)):ua=qo(e,t);t:do try{if(At!==0&&ut!==null){t=ut;var s=Qe;e:switch(At){case 1:At=0,Qe=null,ws(e,t,s,1);break;case 2:case 9:if(Fp(s)){At=0,Qe=null,my(t);break}t=function(){At!==2&&At!==9||xt!==e||(At=7),Pn(e)},s.then(t,t);break t;case 3:At=7;break t;case 4:At=5;break t;case 7:Fp(s)?(At=0,Qe=null,my(t)):(At=0,Qe=null,ws(e,t,s,7));break;case 5:var a=null;switch(ut.tag){case 26:a=ut.memoizedState;case 5:case 27:var l=ut;if(!a||eE(a)){At=0,Qe=null;var u=l.sibling;if(u!==null)ut=u;else{var h=l.return;h!==null?(ut=h,Oc(h)):ut=null}break e}}At=0,Qe=null,ws(e,t,s,5);break;case 6:At=0,Qe=null,ws(e,t,s,6);break;case 8:Sm(),Ft=6;break t;default:throw Error(P(462))}}y2();break}catch(d){MT(e,d)}while(!0);return $n=Gr=null,Z.H=i,Z.A=r,bt=n,ut!==null?0:(xt=null,mt=0,wc(),Ft)}function y2(){for(;ut!==null&&!jb();)PT(ut)}function PT(e){var t=fT(e.alternate,e,oi);e.memoizedProps=e.pendingProps,t===null?Oc(e):ut=t}function my(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=oy(n,t,t.pendingProps,t.type,void 0,mt);break;case 11:t=oy(n,t,t.pendingProps,t.type.render,t.ref,mt);break;case 5:cm(t);default:dT(n,t),t=ut=d0(t,oi),t=fT(n,t,oi)}e.memoizedProps=e.pendingProps,t===null?Oc(e):ut=t}function ws(e,t,n,i){$n=Gr=null,cm(t),Ms=null,So=0;var r=t.return;try{if(a2(e,r,t,n,mt)){Ft=1,Uu(e,an(n,e.current)),ut=null;return}}catch(s){if(r!==null)throw ut=r,s;Ft=1,Uu(e,an(n,e.current)),ut=null;return}t.flags&32768?(vt||i===1?e=!0:ua||mt&536870912?e=!1:(Li=e=!0,(i===2||i===9||i===3||i===6)&&(i=cn.current,i!==null&&i.tag===13&&(i.flags|=16384))),LT(t,e)):Oc(t)}function Oc(e){var t=e;do{if(t.flags&32768){LT(t,Li);return}e=t.return;var n=l2(t.alternate,t,oi);if(n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);Ft===0&&(Ft=5)}function LT(e,t){do{var n=u2(e.alternate,e);if(n!==null){n.flags&=32767,ut=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ut=e;return}ut=e=n}while(e!==null);Ft=6,ut=null}function gy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Mc();while(ge!==0);if(bt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=Zd,Xb(e,n,s,a,l,u),e===xt&&(ut=xt=null,mt=0),Ys=t,Fi=e,Vs=n,Qf=s,Yf=r,NT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,E2(wu,function(){return qT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Z.T,Z.T=null,r=Tt.p,Tt.p=2,a=bt,bt|=4;try{c2(e,t,n)}finally{bt=a,Tt.p=r,Z.T=i}}ge=1,UT(),jT(),zT()}}function UT(){if(ge===1){ge=0;var e=Fi,t=Ys,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=Tt.p;Tt.p=2;var r=bt;bt|=4;try{bT(t,e);var s=Jf,a=s0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&r0(l.ownerDocument.documentElement,l)){if(u!==null&&$d(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var v=m.getSelection(),x=l.textContent.length,M=Math.min(u.start,x),V=u.end===void 0?M:Math.min(u.end,x);!v.extend&&M>V&&(a=V,V=M,M=a);var w=Pp(l,M),T=Pp(l,V);if(w&&T&&(v.rangeCount!==1||v.anchorNode!==w.node||v.anchorOffset!==w.offset||v.focusNode!==T.node||v.focusOffset!==T.offset)){var S=g.createRange();S.setStart(w.node,w.offset),v.removeAllRanges(),M>V?(v.addRange(S),v.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),v.addRange(S))}}}}for(g=[],v=l;v=v.parentNode;)v.nodeType===1&&g.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}$u=!!Wf,Jf=Wf=null}finally{bt=r,Tt.p=i,Z.T=n}}e.current=t,ge=2}}function jT(){if(ge===2){ge=0;var e=Fi,t=Ys,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=Tt.p;Tt.p=2;var r=bt;bt|=4;try{vT(e,t.alternate,t)}finally{bt=r,Tt.p=i,Z.T=n}}ge=3}}function zT(){if(ge===4||ge===3){ge=0,zb();var e=Fi,t=Ys,n=Vs,i=NT;t.subtreeFlags&10256||t.flags&10256?ge=5:(ge=0,Ys=Fi=null,BT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Hi=null),Hd(n),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Bo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Z.T,r=Tt.p,Tt.p=2,Z.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Z.T=t,Tt.p=r}}Vs&3&&Mc(),Pn(e),r=e.pendingLanes,n&4194090&&r&42?e===Kf?uo++:(uo=0,Kf=e):uo=0,Jo(0)}}function BT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ko(t)))}function Mc(e){return UT(),jT(),zT(),qT()}function qT(){if(ge!==5)return!1;var e=Fi,t=Qf;Qf=0;var n=Hd(Vs),i=Z.T,r=Tt.p;try{Tt.p=32>n?32:n,Z.T=null,n=Yf,Yf=null;var s=Fi,a=Vs;if(ge=0,Ys=Fi=null,Vs=0,bt&6)throw Error(P(331));var l=bt;if(bt|=4,CT(s.current),wT(s,s.current,a,n),bt=l,Jo(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Bo,s)}catch{}return!0}finally{Tt.p=r,Z.T=i,BT(e,t)}}function py(e,t,n){t=an(n,t),t=Bf(e.stateNode,t,2),e=qi(e,t,2),e!==null&&(Ho(e,2),Pn(e))}function Nt(e,t,n){if(e.tag===3)py(e,e,n);else for(;t!==null;){if(t.tag===3){py(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hi===null||!Hi.has(i))){e=an(n,e),n=sT(2),i=qi(t,n,2),i!==null&&(aT(n,i,t,e),Ho(i,2),Pn(i));break}}t=t.return}}function Fh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new d2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Em=!0,r.add(n),e=_2.bind(null,e,t,n),t.then(e,e))}function _2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(mt&n)===n&&(Ft===4||Ft===3&&(mt&62914560)===mt&&300>In()-bm?!(bt&2)&&Ks(e,0):Am|=n,Qs===mt&&(Qs=0)),Pn(e)}function HT(e,t){t===0&&(t=Uv()),e=la(e,t),e!==null&&(Ho(e,t),Pn(e))}function v2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HT(e,n)}function T2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),HT(e,n)}function E2(e,t){return Bd(e,t)}var Hu=null,us=null,$f=!1,Fu=!1,Gh=!1,Or=0;function Pn(e){e!==us&&e.next===null&&(us===null?Hu=us=e:us=us.next=e),Fu=!0,$f||($f=!0,b2())}function Jo(e,t){if(!Gh&&Fu){Gh=!0;do for(var n=!1,i=Hu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Xe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,yy(i,s))}else s=mt,s=Ec(i,i===xt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||qo(i,s)||(n=!0,yy(i,s));i=i.next}while(n);Gh=!1}}function A2(){FT()}function FT(){Fu=$f=!1;var e=0;Or!==0&&(x2()&&(e=Or),Or=0);for(var t=In(),n=null,i=Hu;i!==null;){var r=i.next,s=GT(i,t);s===0?(i.next=null,n===null?Hu=r:n.next=r,r===null&&(us=n)):(n=i,(e!==0||s&3)&&(Fu=!0)),i=r}Jo(e)}function GT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Xe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Kb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=xt,n=mt,n=Ec(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(At===2||At===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&yh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||qo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&yh(i),Hd(n)){case 2:case 8:n=kv;break;case 32:n=wu;break;case 268435456:n=Pv;break;default:n=wu}return i=QT.bind(null,e),n=Bd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&yh(i),e.callbackPriority=2,e.callbackNode=null,2}function QT(e,t){if(ge!==0&&ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mc()&&e.callbackNode!==n)return null;var i=mt;return i=Ec(e,e===xt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(OT(e,i,t),GT(e,In()),e.callbackNode!=null&&e.callbackNode===n?QT.bind(null,e):null)}function yy(e,t){if(Mc())return null;OT(e,t,!0)}function b2(){M2(function(){bt&6?Bd(Vv,A2):FT()})}function wm(){return Or===0&&(Or=Lv()),Or}function _y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tu(""+e)}function vy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function S2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=_y((r[ze]||null).action),a=i.submitter;a&&(t=(t=a[ze]||null)?_y(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Ac("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Or!==0){var u=a?vy(r,a):new FormData(r);jf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?vy(r,a):new FormData(r),jf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Qh=0;Qh<If.length;Qh++){var Yh=If[Qh],w2=Yh.toLowerCase(),R2=Yh[0].toUpperCase()+Yh.slice(1);_n(w2,"on"+R2)}_n(o0,"onAnimationEnd");_n(l0,"onAnimationIteration");_n(u0,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(HS,"onTransitionRun");_n(FS,"onTransitionStart");_n(GS,"onTransitionCancel");_n(c0,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function YT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Lu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Lu(d)}r.currentTarget=null,s=u}}}}function lt(e,t){var n=t[Tf];n===void 0&&(n=t[Tf]=new Set);var i=e+"__bubble";n.has(i)||(KT(t,e,2,!1),n.add(i))}function Kh(e,t,n){var i=0;t&&(i|=4),KT(n,e,i,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Rm(e){if(!e[Hl]){e[Hl]=!0,qv.forEach(function(n){n!=="selectionchange"&&(I2.has(n)||Kh(n,!1,e),Kh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,Kh("selectionchange",!1,t))}}function KT(e,t,n,i){switch(aE(t)){case 2:var r=tw;break;case 8:r=ew;break;default:r=Nm}n=r.bind(null,t,n,e),r=void 0,!Sf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Xh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ps(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}$v(function(){var h=s,d=Qd(n),g=[];t:{var m=h0.get(e);if(m!==void 0){var v=Ac,x=e;switch(e){case"keypress":if(nu(n)===0)break t;case"keydown":case"keyup":v=ES;break;case"focusin":x="focus",v=wh;break;case"focusout":x="blur",v=wh;break;case"beforeblur":case"afterblur":v=wh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=SS;break;case o0:case l0:case u0:v=fS;break;case c0:v=RS;break;case"scroll":case"scrollend":v=oS;break;case"wheel":v=CS;break;case"copy":case"cut":case"paste":v=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cp;break;case"toggle":case"beforetoggle":v=NS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),w=M?m!==null?m+"Capture":null:m;M=[];for(var T=h,S;T!==null;){var N=T;if(S=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||S===null||w===null||(N=vo(T,w),N!=null&&M.push(Ro(T,N,S))),V)break;T=T.return}0<M.length&&(m=new v(m,x,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==bf&&(x=n.relatedTarget||n.fromElement)&&(ps(x)||x[aa]))break t;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=h,x=x?ps(x):null,x!==null&&(V=zo(x),M=x.tag,x!==V||M!==5&&M!==27&&M!==6)&&(x=null)):(v=null,x=h),v!==x)){if(M=Rp,N="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=Cp,N="onPointerLeave",w="onPointerEnter",T="pointer"),V=v==null?m:Fa(v),S=x==null?m:Fa(x),m=new M(N,T+"leave",v,n,d),m.target=V,m.relatedTarget=S,N=null,ps(d)===h&&(M=new M(w,T+"enter",x,n,d),M.target=S,M.relatedTarget=V,N=M),V=N,v&&x)e:{for(M=v,w=x,T=0,S=M;S;S=ss(S))T++;for(S=0,N=w;N;N=ss(N))S++;for(;0<T-S;)M=ss(M),T--;for(;0<S-T;)w=ss(w),S--;for(;T--;){if(M===w||w!==null&&M===w.alternate)break e;M=ss(M),w=ss(w)}M=null}else M=null;v!==null&&Ty(g,m,v,M,!1),x!==null&&V!==null&&Ty(g,V,x,M,!0)}}t:{if(m=h?Fa(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var U=Op;else if(xp(m))if(n0)U=zS;else{U=US;var B=LS}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Gd(h.elementType)&&(U=Op):U=jS;if(U&&(U=U(e,h))){e0(g,U,n,d);break t}B&&B(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Af(m,"number",m.value)}switch(B=h?Fa(h):window,e){case"focusin":(xp(B)||B.contentEditable==="true")&&(vs=B,wf=h,Ja=null);break;case"focusout":Ja=wf=vs=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Lp(g,n,d);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Lp(g,n,d)}var E;if(Xd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else _s?Jv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Wv&&n.locale!=="ko"&&(_s||y!=="onCompositionStart"?y==="onCompositionEnd"&&_s&&(E=Zv()):(Pi=d,Yd="value"in Pi?Pi.value:Pi.textContent,_s=!0)),B=Gu(h,y),0<B.length&&(y=new Ip(y,e,null,n,d),g.push({event:y,listeners:B}),E?y.data=E:(E=t0(n),E!==null&&(y.data=E)))),(E=OS?MS(e,n):VS(e,n))&&(y=Gu(h,"onBeforeInput"),0<y.length&&(B=new Ip("onBeforeInput","beforeinput",null,n,d),g.push({event:B,listeners:y}),B.data=E)),S2(g,e,h,n,d)}YT(g,t)})}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=vo(e,n),r!=null&&i.unshift(Ro(e,r,s)),r=vo(e,t),r!=null&&i.push(Ro(e,r,s))),e.tag===3)return i;e=e.return}return[]}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ty(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=vo(n,s),h!=null&&a.unshift(Ro(n,h,u))):r||(h=vo(n,s),h!=null&&a.push(Ro(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var C2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(C2,`
`).replace(D2,"")}function XT(e,t){return t=Ey(t),Ey(e)===t}function Vc(){}function wt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Bs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Bs(e,""+i);break;case"className":Pl(e,"class",i);break;case"tabIndex":Pl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Pl(e,n,i);break;case"style":Xv(e,i,s);break;case"data":if(t!=="object"){Pl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=tu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&wt(e,t,"name",r.name,r,null),wt(e,t,"formEncType",r.formEncType,r,null),wt(e,t,"formMethod",r.formMethod,r,null),wt(e,t,"formTarget",r.formTarget,r,null)):(wt(e,t,"encType",r.encType,r,null),wt(e,t,"method",r.method,r,null),wt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=tu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Vc);break;case"onScroll":i!=null&&lt("scroll",e);break;case"onScrollEnd":i!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=tu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":lt("beforetoggle",e),lt("toggle",e),Jl(e,"popover",i);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Jl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sS.get(n)||n,Jl(e,n,i))}}function Zf(e,t,n,i,r,s){switch(n){case"style":Xv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Bs(e,i):(typeof i=="number"||typeof i=="bigint")&&Bs(e,""+i);break;case"onScroll":i!=null&&lt("scroll",e);break;case"onScrollEnd":i!=null&&lt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[ze]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Jl(e,n,i)}}}function ye(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:wt(e,t,s,a,n,null)}}r&&wt(e,t,"srcSet",n.srcSet,n,null),i&&wt(e,t,"src",n.src,n,null);return;case"input":lt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:wt(e,t,i,d,n,null)}}Qv(e,s,l,u,h,a,r,!1),Ru(e);return;case"select":lt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:wt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Cs(e,!!i,t,!1):n!=null&&Cs(e,!!i,n,!0);return;case"textarea":lt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:wt(e,t,a,l,n,null)}Kv(e,i,r,s),Ru(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:wt(e,t,u,i,n,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(i=0;i<wo.length;i++)lt(wo[i],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:wt(e,t,h,i,n,null)}return;default:if(Gd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Zf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&wt(e,t,l,i,n,null))}function N2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(v in n){var g=n[v];if(n.hasOwnProperty(v)&&g!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(v)||wt(e,t,v,null,i,g)}}for(var m in i){var v=i[m];if(g=n[m],i.hasOwnProperty(m)&&(v!=null||g!=null))switch(m){case"type":s=v;break;case"name":r=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(P(137,t));break;default:v!==g&&wt(e,t,m,v,i,g)}}Ef(e,a,l,u,h,d,s,r);return;case"select":v=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(s)||wt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&wt(e,t,r,s,i,u)}t=l,n=a,i=v,m!=null?Cs(e,!!n,m,!1):!!i!=!!n&&(t!=null?Cs(e,!!n,t,!0):Cs(e,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:wt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":v=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&wt(e,t,a,r,i,s)}Yv(e,m,v);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:wt(e,t,x,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(e,t,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&wt(e,t,M,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:wt(e,t,h,m,i,v)}return;default:if(Gd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Zf(e,t,V,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||Zf(e,t,d,m,i,v);return}}for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!i.hasOwnProperty(w)&&wt(e,t,w,null,i,m);for(g in i)m=i[g],v=n[g],!i.hasOwnProperty(g)||m===v||m==null&&v==null||wt(e,t,g,m,i,v)}var Wf=null,Jf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $h=null;function x2(){var e=window.event;return e&&e.type==="popstate"?e===$h?!1:($h=e,!0):($h=null,!1)}var ZT=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(V2)}:ZT;function V2(e){setTimeout(function(){throw e})}function cr(e){return e==="head"}function Sy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&co(a.documentElement),n&2&&co(a.body),n&4)for(n=a.head,co(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Fo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),xo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);xo(t)}function ed(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ed(n),Fd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function k2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Fo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=pn(e.nextSibling),e===null)break}return null}function P2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=pn(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function L2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var id=null;function wy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function WT(e,t,n){switch(t=Qu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function co(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fd(e)}var hn=new Map,Ry=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mi=Tt.d;Tt.d={f:U2,r:j2,D:z2,C:B2,L:q2,m:H2,X:G2,S:F2,M:Q2};function U2(){var e=mi.f(),t=xc();return e||t}function j2(e){var t=oa(e);t!==null&&t.tag===5&&t.type==="form"?G0(t):mi.r(e)}var ca=typeof document>"u"?null:document;function JT(e,t,n){var i=ca;if(i&&typeof t=="string"&&t){var r=sn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ry.has(r)||(Ry.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ye(t,"link",e),ue(t),i.head.appendChild(t)))}}function z2(e){mi.D(e),JT("dns-prefetch",e,null)}function B2(e,t){mi.C(e,t),JT("preconnect",e,t)}function q2(e,t,n){mi.L(e,t,n);var i=ca;if(i&&e&&t){var r='link[rel="preload"][as="'+sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+sn(n.imageSizes)+'"]')):r+='[href="'+sn(e)+'"]';var s=r;switch(t){case"style":s=Xs(e);break;case"script":s=ha(e)}hn.has(s)||(e=Vt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),hn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(tl(s))||t==="script"&&i.querySelector(el(s))||(t=i.createElement("link"),ye(t,"link",e),ue(t),i.head.appendChild(t)))}}function H2(e,t){mi.m(e,t);var n=ca;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+sn(i)+'"][href="'+sn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ha(e)}if(!hn.has(s)&&(e=Vt({rel:"modulepreload",href:e},t),hn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(el(s)))return}i=n.createElement("link"),ye(i,"link",e),ue(i),n.head.appendChild(i)}}}function F2(e,t,n){mi.S(e,t,n);var i=ca;if(i&&e){var r=Is(i).hoistableStyles,s=Xs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(tl(s)))l.loading=5;else{e=Vt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=hn.get(s))&&Im(e,n);var u=a=i.createElement("link");ue(u),ye(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,uu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function G2(e,t){mi.X(e,t);var n=ca;if(n&&e){var i=Is(n).hoistableScripts,r=ha(e),s=i.get(r);s||(s=n.querySelector(el(r)),s||(e=Vt({src:e,async:!0},t),(t=hn.get(r))&&Cm(e,t),s=n.createElement("script"),ue(s),ye(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Q2(e,t){mi.M(e,t);var n=ca;if(n&&e){var i=Is(n).hoistableScripts,r=ha(e),s=i.get(r);s||(s=n.querySelector(el(r)),s||(e=Vt({src:e,async:!0,type:"module"},t),(t=hn.get(r))&&Cm(e,t),s=n.createElement("script"),ue(s),ye(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Iy(e,t,n,i){var r=(r=zi.current)?Yu(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Xs(n.href),n=Is(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Xs(n.href);var s=Is(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(tl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),hn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hn.set(e,n),s||Y2(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ha(n),n=Is(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function Xs(e){return'href="'+sn(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function tE(e){return Vt({},e,{"data-precedence":e.precedence,precedence:null})}function Y2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ye(t,"link",n),ue(t),e.head.appendChild(t))}function ha(e){return'[src="'+sn(e)+'"]'}function el(e){return"script[async]"+e}function Cy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+sn(n.href)+'"]');if(i)return t.instance=i,ue(i),i;var r=Vt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ue(i),ye(i,"style",r),uu(i,n.precedence,e),t.instance=i;case"stylesheet":r=Xs(n.href);var s=e.querySelector(tl(r));if(s)return t.state.loading|=4,t.instance=s,ue(s),s;i=tE(n),(r=hn.get(r))&&Im(i,r),s=(e.ownerDocument||e).createElement("link"),ue(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ye(s,"link",i),t.state.loading|=4,uu(s,n.precedence,e),t.instance=s;case"script":return s=ha(n.src),(r=e.querySelector(el(s)))?(t.instance=r,ue(r),r):(i=n,(r=hn.get(s))&&(i=Vt({},n),Cm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ue(r),ye(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,uu(i,n.precedence,e));return t.instance}function uu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Im(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cu=null;function Dy(e,t,n){if(cu===null){var i=new Map,r=cu=new Map;r.set(n,i)}else r=cu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Fo]||s[we]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ny(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function K2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Io=null;function X2(){}function $2(e,t,n){if(Io===null)throw Error(P(475));var i=Io;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Xs(n.href),s=e.querySelector(tl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Ku.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,ue(s);return}s=e.ownerDocument||e,n=tE(n),(r=hn.get(r))&&Im(n,r),s=s.createElement("link"),ue(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ye(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Ku.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Z2(){if(Io===null)throw Error(P(475));var e=Io;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xu=null;function rd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xu=new Map,t.forEach(W2,e),Xu=null,Ku.call(e))}function W2(e,t){if(!(t.state.loading&4)){var n=Xu.get(e);if(n)var i=n.get(null);else{n=new Map,Xu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Ku.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Co={$$typeof:Yn,Provider:null,Consumer:null,_currentValue:Rr,_currentValue2:Rr,_threadCount:0};function J2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_h(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.hiddenUpdates=_h(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function nE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new J2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=Ye(3,null,null,t),e.current=s,s.stateNode=e,t=nm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},rm(s),e}function iE(e){return e?(e=As,e):As}function rE(e,t,n,i,r,s){r=iE(r),i.context===null?i.context=r:i.pendingContext=r,i=Bi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=qi(e,i,t),n!==null&&(Ze(n,e,t),no(n,e,t))}function xy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dm(e,t){xy(e,t),(e=e.alternate)&&xy(e,t)}function sE(e){if(e.tag===13){var t=la(e,67108864);t!==null&&Ze(t,e,67108864),Dm(e,67108864)}}var $u=!0;function tw(e,t,n,i){var r=Z.T;Z.T=null;var s=Tt.p;try{Tt.p=2,Nm(e,t,n,i)}finally{Tt.p=s,Z.T=r}}function ew(e,t,n,i){var r=Z.T;Z.T=null;var s=Tt.p;try{Tt.p=8,Nm(e,t,n,i)}finally{Tt.p=s,Z.T=r}}function Nm(e,t,n,i){if($u){var r=sd(i);if(r===null)Xh(e,t,i,Zu,n),Oy(e,i);else if(iw(r,e,t,n,i))i.stopPropagation();else if(Oy(e,i),t&4&&-1<nw.indexOf(e)){for(;r!==null;){var s=oa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Er(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Xe(a);l.entanglements[1]|=u,a&=~u}Pn(s),!(bt&6)&&(Bu=In()+500,Jo(0))}}break;case 13:l=la(s,2),l!==null&&Ze(l,s,2),xc(),Dm(s,2)}if(s=sd(i),s===null&&Xh(e,t,i,Zu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Xh(e,t,i,null,n)}}function sd(e){return e=Qd(e),xm(e)}var Zu=null;function xm(e){if(Zu=null,e=ps(e),e!==null){var t=zo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zu=e,null}function aE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bb()){case Vv:return 2;case kv:return 8;case wu:case qb:return 32;case Pv:return 268435456;default:return 32}default:return 32}}var ad=!1,Gi=null,Qi=null,Yi=null,Do=new Map,No=new Map,Ni=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function Ba(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=oa(t),t!==null&&sE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function iw(e,t,n,i,r){switch(t){case"focusin":return Gi=Ba(Gi,e,t,n,i,r),!0;case"dragenter":return Qi=Ba(Qi,e,t,n,i,r),!0;case"mouseover":return Yi=Ba(Yi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Do.set(s,Ba(Do.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,No.set(s,Ba(No.get(s)||null,e,t,n,i,r)),!0}return!1}function oE(e){var t=ps(e.target);if(t!==null){var n=zo(t);if(n!==null){if(t=n.tag,t===13){if(t=Nv(n),t!==null){e.blockedOn=t,$b(e.priority,function(){if(n.tag===13){var i=$e();i=qd(i);var r=la(n,i);r!==null&&Ze(r,n,i),Dm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);bf=i,n.target.dispatchEvent(i),bf=null}else return t=oa(n),t!==null&&sE(t),e.blockedOn=n,!1;t.shift()}return!0}function My(e,t,n){hu(e)&&n.delete(t)}function rw(){ad=!1,Gi!==null&&hu(Gi)&&(Gi=null),Qi!==null&&hu(Qi)&&(Qi=null),Yi!==null&&hu(Yi)&&(Yi=null),Do.forEach(My),No.forEach(My)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,ad||(ad=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,rw)))}var Gl=null;function Vy(e){Gl!==e&&(Gl=e,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(xm(i||n)===null)continue;break}var s=oa(n);s!==null&&(e.splice(t,3),t-=3,jf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function xo(e){function t(u){return Fl(u,e)}Gi!==null&&Fl(Gi,e),Qi!==null&&Fl(Qi,e),Yi!==null&&Fl(Yi,e),Do.forEach(t),No.forEach(t);for(var n=0;n<Ni.length;n++){var i=Ni[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Ni.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[ze]||null;if(typeof s=="function")a||Vy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[ze]||null)l=a.formAction;else if(xm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Vy(n)}}}function Om(e){this._internalRoot=e}kc.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=$e();rE(n,i,e,t,null,null)};kc.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rE(e.current,2,null,e,null,null),xc(),t[aa]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ni.length&&t!==0&&t<Ni[n].priority;n++);Ni.splice(n,0,e),n===0&&oE(e)}};var ky=Cv.version;if(ky!=="19.1.0")throw Error(P(527,ky,"19.1.0"));Tt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Vb(t),e=e!==null?xv(e):null,e=e===null?null:e.stateNode,e};var sw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Bo=Ql.inject(sw),Ke=Ql}catch{}}vc.createRoot=function(e,t){if(!Dv(e))throw Error(P(299));var n=!1,i="",r=nT,s=iT,a=rT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=nE(e,1,!1,null,null,n,i,r,s,a,l,null),e[aa]=t.current,Rm(e),new Om(t)};vc.hydrateRoot=function(e,t,n){if(!Dv(e))throw Error(P(299));var i=!1,r="",s=nT,a=iT,l=rT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=nE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=iE(null),n=t.current,i=$e(),i=qd(i),r=Bi(i),r.callback=null,qi(n,r,i),n=i,t.current.lanes=n,Ho(t,n),Pn(t),e[aa]=t.current,Rm(e),new kc(t)};vc.version="19.1.0";function lE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lE)}catch(e){console.error(e)}}lE(),Av.exports=vc;var aw=Av.exports;const ow=hv(aw),lw=()=>{};var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},uw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),i.push(n[d],n[g],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new cw;const m=s<<2|l>>4;if(i.push(m),h!==64){const v=l<<4&240|h>>2;if(i.push(v),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hw=function(e){const t=uE(e);return cE.encodeByteArray(t,!0)},Wu=function(e){return hw(e).replace(/\./g,"")},hE=function(e){try{return cE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=()=>fw().__FIREBASE_DEFAULTS__,mw=()=>{if(typeof process>"u"||typeof Py>"u")return;const e=Py.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hE(e[1]);return t&&JSON.parse(t)},Pc=()=>{try{return lw()||dw()||mw()||gw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fE=e=>{var t,n;return(n=(t=Pc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pw=e=>{const t=fE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},dE=()=>{var e;return(e=Pc())===null||e===void 0?void 0:e.config},mE=e=>{var t;return(t=Pc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e){return e.endsWith(".cloudworkstations.dev")}async function gE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wu(JSON.stringify(n)),Wu(JSON.stringify(a)),""].join(".")}const ho={};function vw(){const e={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?e.emulator.push(t):e.prod.push(t);return e}function Tw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ly=!1;function pE(e,t){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||ho[e]===t||ho[e]||Ly)return;ho[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=vw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ly=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Tw(i),v=n("text"),x=document.getElementById(v)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),w=n("preprendIcon"),T=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),d(V,M);const N=h();u(T,w),S.append(T,x,V,N),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ew(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Aw(){var e;const t=(e=Pc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rw(){const e=Ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Iw(){return!Aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cw(){try{return typeof indexedDB=="object"}catch{return!1}}function Dw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="FirebaseError";class gi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Nw,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?xw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new gi(r,l,i)}}function xw(e,t){return e.replace(Ow,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Ow=/\{\$([^}]+)}/g;function Mw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Uy(s)&&Uy(a)){if(!Lr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Uy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Vw(e,t){const n=new kw(e,t);return n.subscribe.bind(n)}class kw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Pw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Zh),r.error===void 0&&(r.error=Zh),r.complete===void 0&&(r.complete=Zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(e){return e&&e._delegate?e._delegate:e}class Ur{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new yw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sr){return this.instances.has(t)}getOptions(t=Sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Sr){return this.component?this.component.multipleInstances?t:Sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(e){return e===Sr?void 0:e}function jw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Lw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ct||(ct={}));const Bw={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},qw=ct.INFO,Hw={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Fw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Hw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mm{constructor(t){this.name=t,this._logLevel=qw,this._logHandler=Fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const Gw=(e,t)=>t.some(n=>e instanceof n);let jy,zy;function Qw(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yw(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,od=new WeakMap,_E=new WeakMap,Wh=new WeakMap,Vm=new WeakMap;function Kw(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ki(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&yE.set(n,e)}).catch(()=>{}),Vm.set(t,e),t}function Xw(e){if(od.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});od.set(e,t)}let ld={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return od.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_E.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $w(e){ld=e(ld)}function Zw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Jh(this),t,...n);return _E.set(i,t.sort?t.sort():[t]),Ki(i)}:Yw().includes(e)?function(...t){return e.apply(Jh(this),t),Ki(yE.get(this))}:function(...t){return Ki(e.apply(Jh(this),t))}}function Ww(e){return typeof e=="function"?Zw(e):(e instanceof IDBTransaction&&Xw(e),Gw(e,Qw())?new Proxy(e,ld):e)}function Ki(e){if(e instanceof IDBRequest)return Kw(e);if(Wh.has(e))return Wh.get(e);const t=Ww(e);return t!==e&&(Wh.set(e,t),Vm.set(t,e)),t}const Jh=e=>Vm.get(e);function Jw(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ki(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ki(a.result),u.oldVersion,u.newVersion,Ki(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const tR=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],tf=new Map;function By(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tf.get(t))return tf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=eR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return tf.set(t,s),s}$w(e=>({...e,get:(t,n,i)=>By(t,n)||e.get(t,n,i),has:(t,n)=>!!By(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ud="@firebase/app",qy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Mm("@firebase/app"),rR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",gR="@firebase/functions-compat",pR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",TR="@firebase/performance",ER="@firebase/performance-compat",AR="@firebase/remote-config",bR="@firebase/remote-config-compat",SR="@firebase/storage",wR="@firebase/storage-compat",RR="@firebase/firestore",IR="@firebase/ai",CR="@firebase/firestore-compat",DR="firebase",NR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",xR={[ud]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[gR]:"fire-fn-compat",[pR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[TR]:"fire-perf",[ER]:"fire-perf-compat",[AR]:"fire-rc",[bR]:"fire-rc-compat",[SR]:"fire-gcs",[wR]:"fire-gcs-compat",[RR]:"fire-fst",[CR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,OR=new Map,hd=new Map;function Hy(e,t){try{e.container.addComponent(t)}catch(n){li.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $s(e){const t=e.name;if(hd.has(t))return li.debug(`There were multiple attempts to register component ${t}.`),!1;hd.set(t,e);for(const n of Ju.values())Hy(n,e);for(const n of OR.values())Hy(n,e);return!0}function km(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function on(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new nl("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=NR;function vE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:cd,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(n||(n=dE()),!n)throw Xi.create("no-options");const s=Ju.get(r);if(s){if(Lr(n,s.options)&&Lr(i,s.config))return s;throw Xi.create("duplicate-app",{appName:r})}const a=new zw(r);for(const u of hd.values())a.addComponent(u);const l=new VR(n,i,a);return Ju.set(r,l),l}function TE(e=cd){const t=Ju.get(e);if(!t&&e===cd&&dE())return vE();if(!t)throw Xi.create("no-app",{appName:e});return t}function $i(e,t,n){var i;let r=(i=xR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),li.warn(l.join(" "));return}$s(new Ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",PR=1,Oo="firebase-heartbeat-store";let ef=null;function EE(){return ef||(ef=Jw(kR,PR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Xi.create("idb-open",{originalErrorMessage:e.message})})),ef}async function LR(e){try{const n=(await EE()).transaction(Oo),i=await n.objectStore(Oo).get(AE(e));return await n.done,i}catch(t){if(t instanceof gi)li.warn(t.message);else{const n=Xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});li.warn(n.message)}}}async function Fy(e,t){try{const i=(await EE()).transaction(Oo,"readwrite");await i.objectStore(Oo).put(t,AE(e)),await i.done}catch(n){if(n instanceof gi)li.warn(n.message);else{const i=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(i.message)}}}function AE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,jR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>jR){const a=HR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){li.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gy(),{heartbeatsToSend:i,unsentEntries:r}=BR(this._heartbeatsCache.heartbeats),s=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return li.warn(n),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function BR(e,t=UR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Qy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cw()?Dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Qy(e){return Wu(JSON.stringify({version:2,heartbeats:e})).length}function HR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(e){$s(new Ur("platform-logger",t=>new nR(t),"PRIVATE")),$s(new Ur("heartbeat",t=>new zR(t),"PRIVATE")),$i(ud,qy,e),$i(ud,qy,"esm2017"),$i("fire-js","")}FR("");var GR="firebase",QR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(GR,QR,"app");function Pm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=bE,SE=new nl("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Mm("@firebase/auth");function KR(e,...t){tc.logLevel<=ct.WARN&&tc.warn(`Auth (${da}): ${e}`,...t)}function fu(e,...t){tc.logLevel<=ct.ERROR&&tc.error(`Auth (${da}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,...t){throw Lm(e,...t)}function Dn(e,...t){return Lm(e,...t)}function wE(e,t,n){const i=Object.assign(Object.assign({},YR()),{[t]:n});return new nl("auth","Firebase",i).create(t,{appName:e.name})}function ni(e){return wE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return SE.create(e,...t)}function tt(e,t,...n){if(!e)throw Lm(t,...n)}function Wn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fu(t),new Error(t)}function ci(e,t){e||Wn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XR(){return Yy()==="http:"||Yy()==="https:"}function Yy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||Sw()||"connection"in navigator)?navigator.onLine:!0}function ZR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ci(n>t,"Short delay should be less than long delay!"),this.isMobile=Ew()||ww()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e,t){ci(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tI=new rl(3e4,6e4);function sl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ma(e,t,n,i,r={}){return IE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=il(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return bw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&fa(e.emulatorConfig.host)&&(h.credentials="include"),RE.fetch()(await CE(e,e.config.apiHost,n,l),h)})}async function IE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},WR),t);try{const r=new eI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Yl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Yl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Yl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wE(e,d,h);ui(e,d)}}catch(r){if(r instanceof gi)throw r;ui(e,"network-request-failed",{message:String(r)})}}async function jm(e,t,n,i,r={}){const s=await ma(e,t,n,i,r);return"mfaPendingCredential"in s&&ui(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function CE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Um(e.config,r):`${e.config.apiScheme}://${r}`;return JR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dn(this.auth,"network-request-failed")),tI.get())})}}function Yl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(e,t){return ma(e,"POST","/v1/accounts:delete",t)}async function ec(e,t){return ma(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(e,t=!1){const n=Be(e),i=await n.getIdToken(t),r=zm(i);tt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fo(nf(r.auth_time)),issuedAtTime:fo(nf(r.iat)),expirationTime:fo(nf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nf(e){return Number(e)*1e3}function zm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return fu("JWT malformed, contained fewer than 3 sections"),null;try{const r=hE(n);return r?JSON.parse(r):(fu("Failed to decode base64 JWT payload"),null)}catch(r){return fu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ky(e){const t=zm(e);return tt(t,"internal-error"),tt(typeof t.exp<"u","internal-error"),tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof gi&&rI(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function rI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Mo(e,ec(n,{idToken:i}));tt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?DE(s.providerUserInfo):[],l=oI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new dd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function aI(e){const t=Be(e);await nc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DE(e){return e.map(t=>{var{providerId:n}=t,i=Pm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(e,t){const n=await IE(e,{},async()=>{const i=il({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await CE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&fa(e.emulatorConfig.host)&&(u.credentials="include"),RE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(e,t){return ma(e,"POST","/v2/accounts:revokeToken",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){tt(t.idToken,"internal-error"),tt(typeof t.idToken<"u","internal-error"),tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ky(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){tt(t.length!==0,"internal-error");const n=Ky(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await lI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new ks;return i&&(tt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(tt(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(tt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ks,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e,t){tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class mn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Pm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new mn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(ni(this.auth));const t=await this.getIdToken();return await Mo(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:N,isAnonymous:U,providerData:B,stsTokenManager:E}=n;tt(S&&E,t,"internal-error");const y=ks.fromJSON(this.name,E);tt(typeof S=="string",t,"internal-error"),Ai(g,t.name),Ai(m,t.name),tt(typeof N=="boolean",t,"internal-error"),tt(typeof U=="boolean",t,"internal-error"),Ai(v,t.name),Ai(x,t.name),Ai(M,t.name),Ai(V,t.name),Ai(w,t.name),Ai(T,t.name);const A=new mn({uid:S,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:w,lastLoginAt:T});return B&&Array.isArray(B)&&(A.providerData=B.map(b=>Object.assign({},b))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(t,n,i=!1){const r=new ks;r.updateFromServerResponse(n);const s=new mn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await nc(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];tt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?DE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new ks;l.updateFromIdToken(i);const u=new mn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new dd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function Jn(e){ci(e instanceof Function,"Expected a class definition");let t=Xy.get(e);return t?(ci(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NE.type="NONE";const $y=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e,t,n){return`firebase:${e}:${t}:${n}`}class Ps{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=du(this.userKey,r.apiKey,s),this.fullPersistenceKey=du("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ec(this.auth,{idToken:t}).catch(()=>{});return n?mn._fromGetAccountInfoResponse(this.auth,n,t):null}return mn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ps(Jn($y),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Jn($y);const a=du(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await ec(t,{idToken:d}).catch(()=>{});if(!m)break;g=await mn._fromGetAccountInfoResponse(t,m,d)}else g=mn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ps(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ps(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PE(t))return"Blackberry";if(LE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||ME(t))&&!t.includes("edge/"))return"Chrome";if(kE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xE(e=Ie()){return/firefox\//i.test(e)}function OE(e=Ie()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ME(e=Ie()){return/crios\//i.test(e)}function VE(e=Ie()){return/iemobile/i.test(e)}function kE(e=Ie()){return/android/i.test(e)}function PE(e=Ie()){return/blackberry/i.test(e)}function LE(e=Ie()){return/webos/i.test(e)}function Bm(e=Ie()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cI(e=Ie()){var t;return Bm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hI(){return Rw()&&document.documentMode===10}function UE(e=Ie()){return Bm(e)||kE(e)||LE(e)||PE(e)||/windows phone/i.test(e)||VE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t=[]){let n;switch(e){case"Browser":n=Zy(Ie());break;case"Worker":n=`${Zy(Ie())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(e,t={}){return ma(e,"GET","/v2/passwordPolicy",sl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class gI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:mI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ps.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ec(this,{idToken:t}),i=await mn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(on(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await nc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(on(this.app))return Promise.reject(ni(this));const n=t?Be(t):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return on(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),n=new gI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Jn(t)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Ps.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&KR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function al(e){return Be(e)}class Wy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vw(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(e){qm=e}function _I(e){return qm.loadJS(e)}function vI(){return qm.gapiScript}function TI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e,t){const n=km(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Lr(s,t??{}))return r;ui(r,"already-initialized")}return n.initialize({options:t})}function AI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Jn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function bI(e,t,n){const i=al(e);tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=zE(t),{host:a,port:l}=SI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),tt(Lr(h,i.config.emulator)&&Lr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,fa(a)?(gE(`${s}//${a}${u}`),pE("Auth",!0)):wI()}function zE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function SI(e){const t=zE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Jy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Jy(a)}}}function Jy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(t){return Wn("not implemented")}_linkToIdToken(t,n){return Wn("not implemented")}_getReauthenticationResolver(t){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(e,t){return jm(e,"POST","/v1/accounts:signInWithIdp",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="http://localhost";class jr extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Pm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new jr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ls(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ls(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ls(t,n)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=il(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends qE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ol{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return jr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ol{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mi.credential(t.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ol{constructor(){super("twitter.com")}static credential(t,n){return jr._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Vi.credentialFromTaggedObject(t)}static credentialFromError(t){return Vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(e,t){return jm(e,"POST","/v1/accounts:signUp",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await mn._fromIdTokenResponse(t,i,r),a=t_(i);return new hi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=t_(i);return new hi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function t_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(e){var t;if(on(e.app))return Promise.reject(ni(e));const n=al(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new hi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await II(n,{returnSecureToken:!0}),r=await hi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends gi{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ic.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new ic(t,n,i,r)}}function HE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ic._fromErrorAndOperation(e,s,t,i):s})}async function DI(e,t,n=!1){const i=await Mo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(e,t,n=!1){const{auth:i}=e;if(on(i.app))return Promise.reject(ni(i));const r="reauthenticate";try{const s=await Mo(e,HE(i,r,t,e),n);tt(s.idToken,i,"internal-error");const a=zm(s.idToken);tt(a,i,"internal-error");const{sub:l}=a;return tt(e.uid===l,i,"user-mismatch"),hi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ui(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(e,t,n=!1){if(on(e.app))return Promise.reject(ni(e));const i="signIn",r=await HE(e,i,t),s=await hi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(e,t){return jm(e,"POST","/v1/accounts:signInWithCustomToken",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t){if(on(e.app))return Promise.reject(ni(e));const n=al(e),i=await OI(n,{token:t,returnSecureToken:!0}),r=await hi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function VI(e,t,n,i){return Be(e).onIdTokenChanged(t,n,i)}function kI(e,t,n){return Be(e).beforeAuthStateChanged(t,n)}function PI(e,t,n,i){return Be(e).onAuthStateChanged(t,n,i)}const rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,UI=10;class GE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);hI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,UI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GE.type="LOCAL";const jI=GE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QE.type="SESSION";const YE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Lc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await zI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Hm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function qI(e){Nn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function HI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function GI(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",QI=1,sc="firebaseLocalStorage",$E="fbase_key";class ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uc(e,t){return e.transaction([sc],t?"readwrite":"readonly").objectStore(sc)}function YI(){const e=indexedDB.deleteDatabase(XE);return new ll(e).toPromise()}function md(){const e=indexedDB.open(XE,QI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(sc,{keyPath:$E})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(sc)?t(i):(i.close(),await YI(),t(await md()))})})}async function e_(e,t,n){const i=Uc(e,!0).put({[$E]:t,value:n});return new ll(i).toPromise()}async function KI(e,t){const n=Uc(e,!1).get(t),i=await new ll(n).toPromise();return i===void 0?null:i.value}function n_(e,t){const n=Uc(e,!0).delete(t);return new ll(n).toPromise()}const XI=800,$I=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>$I)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lc._getInstance(GI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await md();return await e_(t,rc,"1"),await n_(t,rc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>e_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>KI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>n_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Uc(r,!1).getAll();return new ll(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const ZI=ZE;new rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e,t){return t?Jn(t):(tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends BE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ls(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ls(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ls(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JI(e){return xI(e.auth,new Fm(e),e.bypassAuthState)}function tC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),NI(n,new Fm(e),e.bypassAuthState)}async function eC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),DI(n,new Fm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:ui(this.auth,"internal-error")}}resolve(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new rl(2e3,1e4);class Rs extends WE{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return tt(t,this.auth,"internal-error"),t}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nC.get())};t()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",mu=new Map;class rC extends WE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=mu.get(this.auth._key());if(!t){try{const i=await sC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}mu.set(this.auth._key(),t)}return this.bypassAuthState||mu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(e,t){const n=lC(t),i=oC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function aC(e,t){mu.set(e._key(),t)}function oC(e){return Jn(e._redirectPersistence)}function lC(e){return du(iC,e.config.apiKey,e.name)}async function uC(e,t,n=!1){if(on(e.app))return Promise.reject(ni(e));const i=al(e),r=WI(i,t),a=await new rC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class hC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!JE(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(t))}saveEventToCache(t){this.cachedEventUids.add(i_(t)),this.lastProcessedEventTime=Date.now()}}function i_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function JE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(e,t={}){return ma(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function pC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dC(e);for(const n of t)try{if(yC(n))return}catch{}ui(e,"unauthorized-domain")}function yC(e){const t=fd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!gC.test(n))return!1;if(mC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new rl(3e4,6e4);function r_(){const e=Nn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function vC(e){return new Promise((t,n)=>{var i,r,s;function a(){r_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(Dn(e,"network-request-failed"))},timeout:_C.get()})}if(!((r=(i=Nn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)a();else{const l=TI("iframefcb");return Nn()[l]=()=>{gapi.load?a():n(Dn(e,"network-request-failed"))},_I(`${vI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw gu=null,t})}let gu=null;function TC(e){return gu=gu||vC(e),gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new rl(5e3,15e3),AC="__/auth/iframe",bC="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RC(e){const t=e.config;tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Um(t,bC):`https://${e.config.authDomain}/${AC}`,i={apiKey:t.apiKey,appName:e.name,v:da},r=wC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${il(i).slice(1)}`}async function IC(e){const t=await TC(e),n=Nn().gapi;return tt(n,e,"internal-error"),t.open({where:document.body,url:RC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Dn(e,"network-request-failed"),l=Nn().setTimeout(()=>{s(a)},EC.get());function u(){Nn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,NC=600,xC="_blank",OC="http://localhost";class s_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(e,t,n,i=DC,r=NC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},CC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Ie().toLowerCase();n&&(l=ME(h)?xC:n),xE(h)&&(t=t||OC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,x])=>`${m}${v}=${x},`,"");if(cI(h)&&l!=="_self")return VC(t||"",l),new s_(null);const g=window.open(t||"",l,d);tt(g,e,"popup-blocked");try{g.focus()}catch{}return new s_(g)}function VC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",PC="emulator/auth/handler",LC=encodeURIComponent("fac");async function a_(e,t,n,i,r,s){tt(e.config.authDomain,e,"auth-domain-config-required"),tt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:da,eventId:r};if(t instanceof qE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Mw(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof ol){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${LC}=${encodeURIComponent(u)}`:"";return`${UC(e)}?${il(l).slice(1)}${h}`}function UC({config:e}){return e.emulator?Um(e,PC):`https://${e.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(t,n,i,r){var s;ci((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await a_(t,n,i,fd(),r);return MC(t,a,Hm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await a_(t,n,i,fd(),r);return qI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ci(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await IC(t),i=new hC(t);return n.register("authEvent",r=>(tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rf,{type:rf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[rf];a!==void 0&&n(!!a),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UE()||OE()||Bm()}}const zC=jC;var o_="@firebase/auth",l_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(e){$s(new Ur("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;tt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(e)},h=new pI(i,r,s,u);return AI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),$s(new Ur("auth-internal",t=>{const n=al(t.getProvider("auth").getImmediate());return(i=>new BC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(o_,l_,qC(e)),$i(o_,l_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=5*60,GC=mE("authIdTokenMaxAge")||FC;let u_=null;const QC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>GC)return;const r=n==null?void 0:n.token;u_!==r&&(u_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function YC(e=TE()){const t=km(e,"auth");if(t.isInitialized())return t.getImmediate();const n=EI(e,{popupRedirectResolver:zC,persistence:[ZI,jI,YE]}),i=mE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=QC(s.toString());kI(n,a,()=>a(n.currentUser)),VI(n,l=>a(l))}}const r=fE("auth");return r&&bI(n,`http://${r}`),n}function KC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}yI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Dn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",KC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,t1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function A(){}A.prototype=y.prototype,E.D=y.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(b,I,C){for(var _=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)_[pt-2]=arguments[pt];return y.prototype[I].apply(b,_)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,A){A||(A=0);var b=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)b[I]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(I=0;16>I;++I)b[I]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=E.g[0],A=E.g[1],I=E.g[2];var C=E.g[3],_=y+(C^A&(I^C))+b[0]+3614090360&4294967295;y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[1]+3905402710&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[3]+3250441966&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[4]+4118548399&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[5]+1200080426&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[7]+4249261313&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[8]+1770035416&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[9]+2336552879&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[11]+2304563134&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[12]+1804603682&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[13]+4254626195&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[15]+1236535329&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(I^C&(A^I))+b[1]+4129170786&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[6]+3225465664&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[0]+3921069994&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[5]+3593408605&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[10]+38016083&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[4]+3889429448&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[9]+568446438&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[14]+3275163606&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[8]+1163531501&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[13]+2850285829&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[2]+4243563512&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[12]+2368359562&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(A^I^C)+b[5]+4294588738&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[8]+2272392833&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[14]+4259657740&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[1]+2763975236&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[4]+1272893353&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[10]+3200236656&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[13]+681279174&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[0]+3936430074&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[6]+76029189&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[9]+3654602809&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[12]+3873151461&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[2]+3299628645&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(I^(A|~C))+b[0]+4096336452&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[7]+1126891415&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[5]+4237533241&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[12]+1700485571&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[3]+2399980690&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[1]+2240044497&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[8]+1873313359&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[15]+4264355552&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[13]+1309151649&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[4]+4149444226&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[11]+3174756917&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var A=y-this.blockSize,b=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=A;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(b[I++]=E.charCodeAt(C++),I==this.blockSize){r(this,b),I=0;break}}else for(;C<y;)if(b[I++]=E[C++],I==this.blockSize){r(this,b),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var A=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=A&255,A/=256;for(this.u(E),E=Array(16),y=A=0;4>y;++y)for(var b=0;32>b;b+=8)E[A++]=this.g[y]>>>b&255;return E};function s(E,y){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=y(E)}function a(E,y){this.h=y;for(var A=[],b=!0,I=E.length-1;0<=I;I--){var C=E[I]|0;b&&C==y||(A[I]=C,b=!1)}this.g=A}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return V(h(-E));for(var y=[],A=1,b=0;E>=A;b++)y[b]=E/A|0,A*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return V(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(y,8)),b=g,I=0;I<E.length;I+=8){var C=Math.min(8,E.length-I),_=parseInt(E.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),b=b.j(C).add(h(_))):(b=b.j(A),b=b.add(h(_)))}return b}var g=u(0),m=u(1),v=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var E=0,y=1,A=0;A<this.g.length;A++){var b=this.i(A);E+=(0<=b?b:4294967296+b)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(M(this))return"-"+V(this).toString(E);for(var y=h(Math.pow(E,6)),A=this,b="";;){var I=N(A,y).g;A=w(A,I.j(y));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=I,x(A))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=w(this,E),M(E)?-1:x(E)?0:1};function V(E){for(var y=E.g.length,A=[],b=0;b<y;b++)A[b]=~E.g[b];return new a(A,~E.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0,I=0;I<=y;I++){var C=b+(this.i(I)&65535)+(E.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);b=_>>>16,C&=65535,_&=65535,A[I]=_<<16|C}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(E,y){return E.add(V(y))}e.j=function(E){if(x(this)||x(E))return g;if(M(this))return M(E)?V(this).j(V(E)):V(V(this).j(E));if(M(E))return V(this.j(V(E)));if(0>this.l(v)&&0>E.l(v))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,A=[],b=0;b<2*y;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<E.g.length;I++){var C=this.i(b)>>>16,_=this.i(b)&65535,pt=E.i(I)>>>16,Ce=E.i(I)&65535;A[2*b+2*I]+=_*Ce,T(A,2*b+2*I),A[2*b+2*I+1]+=C*Ce,T(A,2*b+2*I+1),A[2*b+2*I+1]+=_*pt,T(A,2*b+2*I+1),A[2*b+2*I+2]+=C*pt,T(A,2*b+2*I+2)}for(b=0;b<y;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=y;b<2*y;b++)A[b]=0;return new a(A,0)};function T(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function S(E,y){this.g=E,this.h=y}function N(E,y){if(x(y))throw Error("division by zero");if(x(E))return new S(g,g);if(M(E))return y=N(V(E),y),new S(V(y.g),V(y.h));if(M(y))return y=N(E,V(y)),new S(V(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,b=y;0>=b.l(E);)A=U(A),b=U(b);var I=B(A,1),C=B(b,1);for(b=B(b,2),A=B(A,2);!x(b);){var _=C.add(b);0>=_.l(E)&&(I=I.add(A),C=_),b=B(b,1),A=B(A,1)}return y=w(E,I.j(y)),new S(I,y)}for(I=g;0<=E.l(y);){for(A=Math.max(1,Math.floor(E.m()/y.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=h(A),_=C.j(y);M(_)||0<_.l(E);)A-=b,C=h(A),_=C.j(y);x(C)&&(C=m),I=I.add(C),E=w(E,_)}return new S(I,E)}e.A=function(E){return N(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)&E.i(b);return new a(A,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)|E.i(b);return new a(A,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)^E.i(b);return new a(A,this.h^E.h)};function U(E){for(var y=E.g.length+1,A=[],b=0;b<y;b++)A[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(A,E.h)}function B(E,y){var A=y>>5;y%=32;for(var b=E.g.length-A,I=[],C=0;C<b;C++)I[C]=0<y?E.i(C+A)>>>y|E.i(C+A+1)<<32-y:E.i(C+A);return new a(I,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,t1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Zi=a}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,Qa,n1,pu,gd,i1,r1,s1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kl=="object"&&Kl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var D=o[p];if(!(D in f))break t;f=f[D]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,D={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),o.apply(c,D)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function v(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,D,O){for(var j=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)j[Dt-2]=arguments[Dt];return c.prototype[D].apply(p,j)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const D=o.length||0,O=p.length||0;o.length=D+O;for(let j=0;j<O;j++)o[D+j]=p[j]}else o.push(p)}}class w{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function T(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function B(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let f,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(f in p)o[f]=p[f];for(let O=0;O<A.length;O++)f=A[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function _(){var o=It;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class pt{constructor(){this.h=this.g=null}add(c,f){const p=Ce.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Ce=new w(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,It=new pt,kt=()=>{const o=l.Promise.resolve(void 0);W=()=>{o.then(vn)}};var vn=()=>{for(var o;o=_();){try{o.h.call(o.g)}catch(f){C(f)}var c=Ce;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}J=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Kt(o,c){if(Pt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){t:{try{N(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Jc[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Kt.aa.h.call(this)}}x(Kt,Pt);var Jc={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),th=0;function hr(o,c,f,p,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=D,this.key=++th,this.da=this.fa=!1}function fr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function $r(o){this.src=o,this.g={},this.h=0}$r.prototype.add=function(o,c,f,p,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var j=Ta(o,c,p,D);return-1<j?(c=o[j],f||(c.fa=!1)):(c=new hr(c,this.src,O,!!p,D),c.fa=f,o.push(c)),c};function Zr(o,c){var f=c.type;if(f in o.g){var p=o.g[f],D=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(p,D,1),O&&(fr(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ta(o,c,f,p){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return D}return-1}var Wr="closure_lm_"+(1e6*Math.random()|0),ft={};function Un(o,c,f,p,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Un(o,c[O],f,p,D);return null}return f=pl(f),o&&o[Ln]?o.K(c,f,h(p)?!!p.capture:!1,D):eh(o,c,f,!1,p,D)}function eh(o,c,f,p,D,O){if(!c)throw Error("Invalid event type");var j=h(D)?!!D.capture:!!D,Dt=Aa(o);if(Dt||(o[Wr]=Dt=new $r(o)),f=Dt.add(c,f,p,j,O),f.proxy)return f;if(p=nh(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)ke||(D=j),D===void 0&&(D=!1),o.addEventListener(c.toString(),p,D);else if(o.attachEvent)o.attachEvent(ml(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nh(){function o(f){return c.call(o.src,o.listener,f)}const c=gl;return o}function Ea(o,c,f,p,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)Ea(o,c[O],f,p,D);else p=h(p)?!!p.capture:!!p,f=pl(f),o&&o[Ln]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Ta(O,f,p,D),-1<f&&(fr(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=Aa(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Ta(c,f,p,D)),(f=-1<o?c[o]:null)&&pi(f))}function pi(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Ln])Zr(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(ml(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=Aa(c))?(Zr(f,o),f.h==0&&(f.src=null,c[Wr]=null)):fr(o)}}}function ml(o){return o in ft?ft[o]:ft[o]="on"+o}function gl(o,c){if(o.da)o=!0;else{c=new Kt(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&pi(o),o=f.call(p,c)}return o}function Aa(o){return o=o[Wr],o instanceof $r?o:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(o){return typeof o=="function"?o:(o[jn]||(o[jn]=function(c){return o.handleEvent(c)}),o[jn])}function se(){re.call(this),this.i=new $r(this),this.M=this,this.F=null}x(se,re),se.prototype[Ln]=!0,se.prototype.removeEventListener=function(o,c,f,p){Ea(this,o,c,f,p)};function ae(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Pt(c,o);else if(c instanceof Pt)c.target=c.target||o;else{var D=c;c=new Pt(p,o),b(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var j=c.g=f[O];D=Jr(j,p,!0,c)&&D}if(j=c.g=o,D=Jr(j,p,!0,c)&&D,D=Jr(j,p,!1,c)&&D,f)for(O=0;O<f.length;O++)j=c.g=f[O],D=Jr(j,p,!1,c)&&D}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)fr(f[p]);delete o.g[c],o.h--}}this.F=null},se.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},se.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Jr(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var j=c[O];if(j&&!j.da&&j.capture==f){var Dt=j.listener,fe=j.ha||j.src;j.fa&&Zr(o.i,j),D=Dt.call(fe,p)!==!1&&D}}return D&&!p.defaultPrevented}function ba(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function yl(o){o.g=ba(()=>{o.g=null,o.i&&(o.i=!1,yl(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class ih extends re{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(o){re.call(this),this.h=o,this.g={}}x(dr,re);var z=[];function G(o){B(o.g,function(c,f){this.g.hasOwnProperty(f)&&pi(c)},o),o.g={}}dr.prototype.N=function(){dr.aa.N.call(this),G(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var K=l.JSON.stringify,X=l.JSON.parse,rt=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function yt(){}yt.prototype.h=null;function _t(o){return o.h||(o.h=o.i())}function Ct(){}var St={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){Pt.call(this,"d")}x(De,Pt);function Je(){Pt.call(this,"c")}x(Je,Pt);var ve={},Tn=null;function En(){return Tn=Tn||new se}ve.La="serverreachability";function mr(o){Pt.call(this,ve.La,o)}x(mr,Pt);function gr(o){const c=En();ae(c,new mr(c))}ve.STAT_EVENT="statevent";function Sg(o,c){Pt.call(this,ve.STAT_EVENT,o),this.stat=c}x(Sg,Pt);function Ne(o){const c=En();ae(c,new Sg(c,o))}ve.Ma="timingevent";function wg(o,c){Pt.call(this,ve.Ma,o),this.size=c}x(wg,Pt);function Sa(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function qA(o,c,f,p,D,O){o.info(function(){if(o.g)if(O)for(var j="",Dt=O.split("&"),fe=0;fe<Dt.length;fe++){var gt=Dt[fe].split("=");if(1<gt.length){var Te=gt[0];gt=gt[1];var Ee=Te.split("_");j=2<=Ee.length&&Ee[1]=="type"?j+(Te+"="+gt+"&"):j+(Te+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+c+`
`+f+`
`+j})}function HA(o,c,f,p,D,O,j){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+j})}function ts(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+GA(o,f)+(p?" "+p:"")})}function FA(o,c){o.info(function(){return"TIMEOUT: "+c})}wa.prototype.info=function(){};function GA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return K(f)}catch{return c}}var _l={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function vl(){}x(vl,yt),vl.prototype.g=function(){return new XMLHttpRequest},vl.prototype.i=function(){return{}},rh=new vl;function yi(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ig}function Ig(){this.i=null,this.g="",this.h=!1}var Cg={},sh={};function ah(o,c,f){o.L=1,o.v=bl(zn(c)),o.m=f,o.P=!0,Dg(o,null)}function Dg(o,c){o.F=Date.now(),Tl(o),o.A=zn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Hg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Ig,o.g=op(o.j,f?c:null,!o.m),0<o.O&&(o.M=new ih(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(z[0]=D.toString()),D=z);for(var O=0;O<D.length;O++){var j=Un(f,D[O],p||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),gr(),qA(o.i,o.u,o.A,o.l,o.R,o.m)}yi.prototype.ca=function(o){o=o.target;const c=this.M;c&&Bn(o)==3?c.j():this.Y(o)},yi.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=Bn(this.g);var c=this.g.Ba();const is=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||$g(this.g)))){this.J||Ee!=4||c==7||(c==8||0>=is?gr(3):gr(2)),oh(this);var f=this.g.Z();this.X=f;e:if(Ng(this)){var p=$g(this.g);o="";var D=p.length,O=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Ra(this);var j="";break e}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==D-1)});p.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,HA(this.i,this.u,this.A,this.l,this.R,Ee,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,fe=this.g;if((Dt=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Dt)){var gt=Dt;break e}}gt=null}if(f=gt)ts(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lh(this,f);else{this.o=!1,this.s=3,Ne(12),pr(this),Ra(this);break t}}if(this.P){f=!0;let fn;for(;!this.J&&this.C<j.length;)if(fn=QA(this,j),fn==sh){Ee==4&&(this.s=4,Ne(14),f=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Cg){this.s=4,Ne(15),ts(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else ts(this.i,this.l,fn,null),lh(this,fn);if(Ng(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||j.length!=0||this.h.h||(this.s=1,Ne(16),f=!1),this.o=this.o&&f,!f)ts(this.i,this.l,j,"[Invalid Chunked Response]"),pr(this),Ra(this);else if(0<j.length&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.ba&&!Te.M&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),mh(Te),Te.M=!0,Ne(11))}}else ts(this.i,this.l,j,null),lh(this,j);Ee==4&&pr(this),this.o&&!this.J&&(Ee==4?ip(this.j,this):(this.o=!1,Tl(this)))}else ub(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),pr(this),Ra(this)}}}catch{}finally{}};function Ng(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function QA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?sh:(f=Number(c.substring(f,p)),isNaN(f)?Cg:(p+=1,p+f>c.length?sh:(c=c.slice(p,p+f),o.C=p+f,c)))}yi.prototype.cancel=function(){this.J=!0,pr(this)};function Tl(o){o.S=Date.now()+o.I,xg(o,o.I)}function xg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Sa(m(o.ba,o),c)}function oh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}yi.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(FA(this.i,this.A),this.L!=2&&(gr(),Ne(17)),pr(this),this.s=2,Ra(this)):xg(this,this.S-o)};function Ra(o){o.j.G==0||o.J||ip(o.j,o)}function pr(o){oh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,G(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function lh(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||uh(f.h,o))){if(!o.K&&uh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Dl(f),Il(f);else break t;dh(f),Ne(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sa(m(f.Za,f),6e3));if(1>=Vg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _r(f,11)}else if((o.K||f.g==o)&&Dl(f),!T(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let gt=D[c];if(f.T=gt[0],gt=gt[1],f.G==2)if(gt[0]=="c"){f.K=gt[1],f.ia=gt[2];const Te=gt[3];Te!=null&&(f.la=Te,f.j.info("VER="+f.la));const Ee=gt[4];Ee!=null&&(f.Aa=Ee,f.j.info("SVER="+f.Aa));const is=gt[5];is!=null&&typeof is=="number"&&0<is&&(p=1.5*is,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const fn=o.g;if(fn){const xl=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xl){var O=p.h;O.g||xl.indexOf("spdy")==-1&&xl.indexOf("quic")==-1&&xl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ch(O,O.h),O.h=null))}if(p.D){const gh=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(p.ya=gh,Ot(p.I,p.D,gh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var j=o;if(p.qa=ap(p,p.J?p.ia:null,p.W),j.K){kg(p.h,j);var Dt=j,fe=p.L;fe&&(Dt.I=fe),Dt.B&&(oh(Dt),Tl(Dt)),p.g=j}else ep(p);0<f.i.length&&Cl(f)}else gt[0]!="stop"&&gt[0]!="close"||_r(f,7);else f.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_r(f,7):fh(f):gt[0]!="noop"&&f.l&&f.l.ta(gt),f.v=0)}}gr(4)}catch{}}var YA=class{constructor(o,c){this.g=o,this.map=c}};function Og(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Vg(o){return o.h?1:o.g?o.g.size:0}function uh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function ch(o,c){o.g?o.g.add(c):o.h=c}function kg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Og.prototype.cancel=function(){if(this.i=Pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function KA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function XA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Lg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=XA(o),p=KA(o),D=p.length,O=0;O<D;O++)c.call(void 0,p[O],f&&f[O],o)}var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $A(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),D=null;if(0<=p){var O=o[f].substring(0,p);D=o[f].substring(p+1)}else O=o[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function yr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof yr){this.h=o.h,El(this,o.j),this.o=o.o,this.g=o.g,Al(this,o.s),this.l=o.l;var c=o.i,f=new Da;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),jg(this,f),this.m=o.m}else o&&(c=String(o).match(Ug))?(this.h=!1,El(this,c[1]||"",!0),this.o=Ia(c[2]||""),this.g=Ia(c[3]||"",!0),Al(this,c[4]),this.l=Ia(c[5]||"",!0),jg(this,c[6]||"",!0),this.m=Ia(c[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}yr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ca(c,zg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ca(c,zg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ca(f,f.charAt(0)=="/"?JA:WA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ca(f,eb)),o.join("")};function zn(o){return new yr(o)}function El(o,c,f){o.j=f?Ia(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Al(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function jg(o,c,f){c instanceof Da?(o.i=c,nb(o.i,o.h)):(f||(c=Ca(c,tb)),o.i=new Da(c,o.h))}function Ot(o,c,f){o.i.set(c,f)}function bl(o){return Ot(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ia(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ca(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,ZA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ZA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zg=/[#\/\?@]/g,WA=/[#\?:]/g,JA=/[#\?]/g,tb=/[#\?@]/g,eb=/#/g;function Da(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function _i(o){o.g||(o.g=new Map,o.h=0,o.i&&$A(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Da.prototype,e.add=function(o,c){_i(this),this.i=null,o=es(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Bg(o,c){_i(o),c=es(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function qg(o,c){return _i(o),c=es(o,c),o.g.has(c)}e.forEach=function(o,c){_i(this),this.g.forEach(function(f,p){f.forEach(function(D){o.call(c,D,p,this)},this)},this)},e.na=function(){_i(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const D=o[p];for(let O=0;O<D.length;O++)f.push(c[p])}return f},e.V=function(o){_i(this);let c=[];if(typeof o=="string")qg(this,o)&&(c=c.concat(this.g.get(es(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return _i(this),this.i=null,o=es(this,o),qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Hg(o,c,f){Bg(o,c),0<f.length&&(o.i=null,o.g.set(es(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),j=this.V(p);for(p=0;p<j.length;p++){var D=O;j[p]!==""&&(D+="="+encodeURIComponent(String(j[p]))),o.push(D)}}return this.i=o.join("&")};function es(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function nb(o,c){c&&!o.j&&(_i(o),o.i=null,o.g.forEach(function(f,p){var D=p.toLowerCase();p!=D&&(Bg(this,p),Hg(this,D,f))},o)),o.j=c}function ib(o,c){const f=new wa;if(l.Image){const p=new Image;p.onload=v(vi,f,"TestLoadImage: loaded",!0,c,p),p.onerror=v(vi,f,"TestLoadImage: error",!1,c,p),p.onabort=v(vi,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=v(vi,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function rb(o,c){const f=new wa,p=new AbortController,D=setTimeout(()=>{p.abort(),vi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(D),O.ok?vi(f,"TestPingServer: ok",!0,c):vi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),vi(f,"TestPingServer: error",!1,c)})}function vi(o,c,f,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(f)}catch{}}function sb(){this.g=new rt}function ab(o,c,f){const p=f||"";try{Lg(o,function(D,O){let j=D;h(D)&&(j=K(D)),c.push(p+O+"="+encodeURIComponent(j))})}catch(D){throw c.push(p+"type="+encodeURIComponent("_badmap")),D}}function Sl(o){this.l=o.Ub||null,this.j=o.eb||!1}x(Sl,yt),Sl.prototype.g=function(){return new wl(this.l,this.j)},Sl.prototype.i=function(o){return function(){return o}}({});function wl(o,c){se.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(wl,se),e=wl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,xa(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Na(this):xa(this),this.readyState==3&&Fg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Na(this))},e.Qa=function(o){this.g&&(this.response=o,Na(this))},e.ga=function(){this.g&&Na(this)};function Na(o){o.readyState=4,o.l=null,o.j=null,o.v=null,xa(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function xa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Gg(o){let c="";return B(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function hh(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Gg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ot(o,c,f))}function qt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qt,se);var ob=/^https?$/i,lb=["POST","PUT"];e=qt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?_t(this.o):_t(rh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Qg(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)f.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lb,c,void 0))||p||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Qg(this,O)}};function Qg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Yg(o),Rl(o)}function Yg(o){o.A||(o.A=!0,ae(o,"complete"),ae(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ae(this,"complete"),ae(this,"abort"),Rl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rl(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kg(this):this.bb())},e.bb=function(){Kg(this)};function Kg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bn(o)!=4||o.Z()!=2)){if(o.u&&Bn(o)==4)ba(o.Ea,0,o);else if(ae(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const j=o.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=j===0){var D=String(o.D).match(Ug)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),p=!ob.test(D?D.toLowerCase():"")}f=p}if(f)ae(o,"complete"),ae(o,"success");else{o.m=6;try{var O=2<Bn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Yg(o)}}finally{Rl(o)}}}}function Rl(o,c){if(o.g){Xg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ae(o,"ready");try{f.onreadystatechange=p}catch{}}}function Xg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),X(c)}};function $g(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ub(o){const c={};o=(o.g&&2<=Bn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(T(o[p]))continue;var f=I(o[p]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}E(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Zg(o){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,o),this.cb=Oa("retryDelaySeedMs",1e4,o),this.Wa=Oa("forwardChannelMaxRetries",2,o),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Og(o&&o.concurrentRequestLimit),this.Da=new sb,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Zg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){Ne(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=ap(this,null,this.W),Cl(this)};function fh(o){if(Wg(o),o.G==3){var c=o.U++,f=zn(o.I);if(Ot(f,"SID",o.K),Ot(f,"RID",c),Ot(f,"TYPE","terminate"),Ma(o,f),c=new yi(o,o.j,c),c.L=2,c.v=bl(zn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=op(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Tl(c)}sp(o)}function Il(o){o.g&&(mh(o),o.g.cancel(),o.g=null)}function Wg(o){Il(o),o.u&&(l.clearTimeout(o.u),o.u=null),Dl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Cl(o){if(!Mg(o.h)&&!o.s){o.s=!0;var c=o.Ga;W||kt(),J||(W(),J=!0),It.add(c,o),o.B=0}}function cb(o,c){return Vg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Sa(m(o.Ga,o,c),rp(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new yi(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),b(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=tp(this,D,c),f=zn(this.I),Ot(f,"RID",o),Ot(f,"CVER",22),this.D&&Ot(f,"X-HTTP-Session-Id",this.D),Ma(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Gg(O)))+"&"+c:this.m&&hh(f,this.m,O)),ch(this.h,D),this.Ua&&Ot(f,"TYPE","init"),this.P?(Ot(f,"$req",c),Ot(f,"SID","null"),D.T=!0,ah(D,f,null)):ah(D,f,c),this.G=2}}else this.G==3&&(o?Jg(this,o):this.i.length==0||Mg(this.h)||Jg(this))};function Jg(o,c){var f;c?f=c.l:f=o.U++;const p=zn(o.I);Ot(p,"SID",o.K),Ot(p,"RID",f),Ot(p,"AID",o.T),Ma(o,p),o.m&&o.o&&hh(p,o.m,o.o),f=new yi(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=tp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ch(o.h,f),ah(f,p,c)}function Ma(o,c){o.H&&B(o.H,function(f,p){Ot(c,p,f)}),o.l&&Lg({},function(f,p){Ot(c,p,f)})}function tp(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const j=["count="+f];O==-1?0<f?(O=D[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let Dt=!0;for(let fe=0;fe<f;fe++){let gt=D[fe].g;const Te=D[fe].map;if(gt-=O,0>gt)O=Math.max(0,D[fe].g-100),Dt=!1;else try{ab(Te,j,"req"+gt+"_")}catch{p&&p(Te)}}if(Dt){p=j.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function ep(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;W||kt(),J||(W(),J=!0),It.add(c,o),o.v=0}}function dh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Sa(m(o.Fa,o),rp(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,np(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Sa(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Il(this),np(this))};function mh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function np(o){o.g=new yi(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=zn(o.qa);Ot(c,"RID","rpc"),Ot(c,"SID",o.K),Ot(c,"AID",o.T),Ot(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ot(c,"TO",o.ja),Ot(c,"TYPE","xmlhttp"),Ma(o,c),o.m&&o.o&&hh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=bl(zn(c)),f.m=null,f.P=!0,Dg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Il(this),dh(this),Ne(19))};function Dl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function ip(o,c){var f=null;if(o.g==c){Dl(o),mh(o),o.g=null;var p=2}else if(uh(o.h,c))f=c.D,kg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=o.B;p=En(),ae(p,new wg(p,f)),Cl(o)}else ep(o);else if(D=c.s,D==3||D==0&&0<c.X||!(p==1&&cb(o,c)||p==2&&dh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),D){case 1:_r(o,5);break;case 4:_r(o,10);break;case 3:_r(o,6);break;default:_r(o,2)}}}function rp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function _r(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const D=!p;p=new yr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||El(p,"https"),bl(p),D?ib(p.toString(),f):rb(p.toString(),f)}else Ne(2);o.G=0,o.l&&o.l.sa(c),sp(o),Wg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function sp(o){if(o.G=0,o.ka=[],o.l){const c=Pg(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function ap(o,c,f){var p=f instanceof yr?zn(f):new yr(f);if(p.g!="")c&&(p.g=c+"."+p.g),Al(p,p.s);else{var D=l.location;p=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new yr(null);p&&El(O,p),c&&(O.g=c),D&&Al(O,D),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&Ot(p,f,c),Ot(p,"VER",o.la),Ma(o,p),p}function op(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new qt(new Sl({eb:f})):new qt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function lp(){}e=lp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Nl(){}Nl.prototype.g=function(o,c){return new He(o,c)};function He(o,c){se.call(this),this.g=new Zg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!T(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ns(this)}x(He,se),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){fh(this.g)},He.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=K(o),o=f);c.i.push(new YA(c.Ya++,o)),c.G==3&&Cl(c)},He.prototype.N=function(){this.g.l=null,delete this.j,fh(this.g),delete this.g,He.aa.N.call(this)};function up(o){De.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(up,De);function cp(){Je.call(this),this.status=1}x(cp,Je);function ns(o){this.g=o}x(ns,lp),ns.prototype.ua=function(){ae(this.g,"a")},ns.prototype.ta=function(o){ae(this.g,new up(o))},ns.prototype.sa=function(o){ae(this.g,new cp)},ns.prototype.ra=function(){ae(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,s1=function(){return new Nl},r1=function(){return En()},i1=ve,gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_l.NO_ERROR=0,_l.TIMEOUT=8,_l.HTTP_ERROR=6,pu=_l,Rg.COMPLETE="complete",n1=Rg,Ct.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",se.prototype.listen=se.prototype.K,Qa=Ct,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,e1=qt}).apply(typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Mm("@firebase/firestore");function cs(){return zr.logLevel}function H(e,...t){if(zr.logLevel<=ct.DEBUG){const n=t.map(Gm);zr.debug(`Firestore (${ga}): ${e}`,...n)}}function fi(e,...t){if(zr.logLevel<=ct.ERROR){const n=t.map(Gm);zr.error(`Firestore (${ga}): ${e}`,...n)}}function Zs(e,...t){if(zr.logLevel<=ct.WARN){const n=t.map(Gm);zr.warn(`Firestore (${ga}): ${e}`,...n)}}function Gm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,a1(e,i,n)}function a1(e,t,n){let i=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw fi(i),new Error(i)}function Et(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||a1(t,r,i)}function it(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZC{constructor(t){this.t=t,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Et(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string",31837,{l:i}),new o1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Et(t===null||typeof t=="string",2055,{h:t}),new be(t)}}class WC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=be.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Et(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=e4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function at(e,t){return e<t?-1:e>t?1:0}function pd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return at(i,r);{const s=l1(),a=n4(s.encode(m_(e,n)),s.encode(m_(t,n)));return a!==0?a:at(i,r)}}n+=i>65535?2:1}return at(e.length,t.length)}function m_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function n4(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return at(e[n],t[n]);return at(e.length,t.length)}function Ws(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,p_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*p_);return new ee(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<g_)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(t){return this.seconds===t.seconds?at(this.nanoseconds,t.nanoseconds):at(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-g_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(t){return new nt(t)}static min(){return new nt(new ee(0,0))}static max(){return new nt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class bn{constructor(t,n,i){n===void 0?n=0:n>t.length&&$(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&$(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return bn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=bn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return at(t.length,n.length)}static compareSegments(t,n){const i=bn.isNumericId(t),r=bn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?bn.extractNumericId(t).compare(bn.extractNumericId(n)):pd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zi.fromString(t.substring(4,t.length-2))}}class Mt extends bn{construct(t,n,i){return new Mt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pe extends bn{construct(t,n,i){return new pe(t,n,i)}static isValidIdentifier(t){return i4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new pe([y_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pe(n)}static emptyPath(){return new pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.path=t}static fromPath(t){return new Y(Mt.fromString(t))}static fromName(t){return new Y(Mt.fromString(t).popFirst(5))}static empty(){return new Y(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Mt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Y(new Mt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function r4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=nt.fromTimestamp(i===1e9?new ee(n+1,0):new ee(n,i));return new ir(r,Y.empty(),t)}function s4(e){return new ir(e.readTime,e.key,Vo)}class ir{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ir(nt.min(),Y.empty(),Vo)}static max(){return new ir(nt.max(),Y.empty(),Vo)}}function a4(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Y.comparator(e.documentKey,t.documentKey),n!==0?n:at(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==o4)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function u4(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ya(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}jc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function zc(e){return e==null}function ac(e){return e===0&&1/e==-1/0}function c4(e){return typeof e=="number"&&Number.isInteger(e)&&!ac(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function h4(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=__(t)),t=f4(e.get(n),t);return __(t)}function f4(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case c1:n+="";break;default:n+=s}}return n}function __(e){return e+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function h1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t,n){this.comparator=t,this.root=n||me.EMPTY}insert(t,n){return new Bt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,me.BLACK,null,null))}remove(t){return new Bt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,me.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xl(this.root,t,this.comparator,!0)}}class Xl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class me{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??me.RED,this.left=r??me.EMPTY,this.right=s??me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new me(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return me.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $(27949);return t+(this.isRed()?0:1)}}me.EMPTY=null,me.RED=!0,me.BLACK=!1;me.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new me(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.comparator=t,this.data=new Bt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(t){return new T_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ne(this.comparator);return n.data=t,n}}class T_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(pe.comparator)}static empty(){return new gn([])}unionWith(t){let n=new ne(pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ws(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new f1("Invalid base64 string: "+s):s}}(t);return new _e(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new _e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return at(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_e.EMPTY_BYTE_STRING=new _e("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(e){if(Et(!!e,39018),typeof e=="string"){let t=0;const n=d4.exec(e);if(Et(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yt(e.seconds),nanos:Yt(e.nanos)}}function Yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function sr(e){return typeof e=="string"?_e.fromBase64String(e):_e.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",m1="__type__",g1="__previous_value__",p1="__local_write_time__";function Ym(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[m1])===null||n===void 0?void 0:n.stringValue)===d1}function Bc(e){const t=e.mapValue.fields[g1];return Ym(t)?Bc(t):t}function ko(e){const t=rr(e.mapValue.fields[p1].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const oc="(default)";class Po{constructor(t,n){this.projectId=t,this.database=n||oc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===oc}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__type__",g4="__max__",$l={mapValue:{}},_1="__vector__",lc="value";function ar(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ym(e)?4:y4(e)?9007199254740991:p4(e)?10:11:$(28295,{value:e})}function Vn(e,t){if(e===t)return!0;const n=ar(e);if(n!==ar(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ko(e).isEqual(ko(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=rr(r.timestampValue),l=rr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return sr(r.bytesValue).isEqual(sr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Yt(r.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Yt(r.integerValue)===Yt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Yt(r.doubleValue),l=Yt(s.doubleValue);return a===l?ac(a)===ac(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Ws(e.arrayValue.values||[],t.arrayValue.values||[],Vn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(v_(a)!==v_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Vn(a[u],l[u])))return!1;return!0}(e,t);default:return $(52216,{left:e})}}function Lo(e,t){return(e.values||[]).find(n=>Vn(n,t))!==void 0}function Js(e,t){if(e===t)return 0;const n=ar(e),i=ar(t);if(n!==i)return at(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Yt(s.integerValue||s.doubleValue),u=Yt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return E_(e.timestampValue,t.timestampValue);case 4:return E_(ko(e),ko(t));case 5:return pd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=sr(s),u=sr(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=at(l[h],u[h]);if(d!==0)return d}return at(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=at(Yt(s.latitude),Yt(a.latitude));return l!==0?l:at(Yt(s.longitude),Yt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return A_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},v=(l=g[lc])===null||l===void 0?void 0:l.arrayValue,x=(u=m[lc])===null||u===void 0?void 0:u.arrayValue,M=at(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:A_(v,x)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===$l.mapValue&&a===$l.mapValue)return 0;if(s===$l.mapValue)return 1;if(a===$l.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=pd(u[g],d[g]);if(m!==0)return m;const v=Js(l[u[g]],h[d[g]]);if(v!==0)return v}return at(u.length,d.length)}(e.mapValue,t.mapValue);default:throw $(23264,{Pe:n})}}function E_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return at(e,t);const n=rr(e),i=rr(t),r=at(n.seconds,i.seconds);return r!==0?r:at(n.nanos,i.nanos)}function A_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Js(n[r],i[r]);if(s)return s}return at(n.length,i.length)}function ta(e){return yd(e)}function yd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=rr(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return sr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Y.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=yd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${yd(n.fields[a])}`;return r+"}"}(e.mapValue):$(61005,{value:e})}function yu(e){switch(ar(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bc(e);return t?16+yu(t):16;case 5:return 2*e.stringValue.length;case 6:return sr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+yu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Qr(i.fields,(s,a)=>{r+=s.length+yu(a)}),r}(e.mapValue);default:throw $(13486,{value:e})}}function b_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _d(e){return!!e&&"integerValue"in e}function Km(e){return!!e&&"arrayValue"in e}function S_(e){return!!e&&"nullValue"in e}function w_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _u(e){return!!e&&"mapValue"in e}function p4(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[y1])===null||n===void 0?void 0:n.stringValue)===_1}function mo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=mo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function y4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!_u(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(n)}setAll(t){let n=pe.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=mo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());_u(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];_u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Qr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ln(mo(this.value))}}function v1(e){const t=[];return Qr(e.fields,(n,i)=>{const r=new pe([n]);if(_u(i)){const s=v1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Se(t,0,nt.min(),nt.min(),nt.min(),ln.empty(),0)}static newFoundDocument(t,n,i,r){return new Se(t,1,n,nt.min(),i,r,0)}static newNoDocument(t,n){return new Se(t,2,n,nt.min(),nt.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,nt.min(),nt.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,n){this.position=t,this.inclusive=n}}function R_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=Js(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function I_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,n="asc"){this.field=t,this.dir=n}}function _4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Zt extends T1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new T4(t,n,i):n==="array-contains"?new b4(t,i):n==="in"?new S4(t,i):n==="not-in"?new w4(t,i):n==="array-contains-any"?new R4(t,i):new Zt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new E4(t,i):new A4(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends T1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new yn(t,n)}matches(t){return E1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function E1(e){return e.op==="and"}function A1(e){return v4(e)&&E1(e)}function v4(e){for(const t of e.filters)if(t instanceof yn)return!1;return!0}function vd(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+ta(e.value);if(A1(e))return e.filters.map(t=>vd(t)).join(",");{const t=e.filters.map(n=>vd(n)).join(",");return`${e.op}(${t})`}}function b1(e,t){return e instanceof Zt?function(i,r){return r instanceof Zt&&i.op===r.op&&i.field.isEqual(r.field)&&Vn(i.value,r.value)}(e,t):e instanceof yn?function(i,r){return r instanceof yn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&b1(a,r.filters[l]),!0):!1}(e,t):void $(19439)}function S1(e){return e instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(e):e instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(S1).join(" ,")+"}"}(e):"Filter"}class T4 extends Zt{constructor(t,n,i){super(t,n,i),this.key=Y.fromName(i.referenceValue)}matches(t){const n=Y.comparator(t.key,this.key);return this.matchesComparison(n)}}class E4 extends Zt{constructor(t,n){super(t,"in",n),this.keys=w1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class A4 extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=w1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function w1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class b4 extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Km(n)&&Lo(n.arrayValue,this.value)}}class S4 extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lo(this.value.arrayValue,n)}}class w4 extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lo(this.value.arrayValue,n)}}class R4 extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Lo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function C_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new I4(e,t,n,i,r,s,a)}function Xm(e){const t=it(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>vd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ta(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ta(i)).join(",")),t.Ie=n}return t.Ie}function $m(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!b1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!I_(e.startAt,t.startAt)&&I_(e.endAt,t.endAt)}function Td(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function C4(e,t,n,i,r,s,a,l){return new ul(e,t,n,i,r,s,a,l)}function qc(e){return new ul(e)}function D_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function R1(e){return e.collectionGroup!==null}function go(e){const t=it(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ne(pe.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new cc(s,i))}),n.has(pe.keyField().canonicalString())||t.Ee.push(new cc(pe.keyField(),i))}return t.Ee}function xn(e){const t=it(e);return t.de||(t.de=D4(t,go(e))),t.de}function D4(e,t){if(e.limitType==="F")return C_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new cc(r.field,s)});const n=e.endAt?new uc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new uc(e.startAt.position,e.startAt.inclusive):null;return C_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ed(e,t){const n=e.filters.concat([t]);return new ul(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ad(e,t,n){return new ul(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hc(e,t){return $m(xn(e),xn(t))&&e.limitType===t.limitType}function I1(e){return`${Xm(xn(e))}|lt:${e.limitType}`}function hs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>S1(r)).join(", ")}]`),zc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ta(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ta(r)).join(",")),`Target(${i})`}(xn(e))}; limitType=${e.limitType})`}function Fc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Y.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of go(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=R_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,go(i),r)||i.endAt&&!function(a,l,u){const h=R_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,go(i),r))}(e,t)}function N4(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function C1(e){return(t,n)=>{let i=!1;for(const r of go(e)){const s=x4(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function x4(e,t,n){const i=e.field.isKeyField()?Y.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Js(u,h):$(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return $(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Bt(Y.comparator);function di(){return O4}const D1=new Bt(Y.comparator);function Ya(...e){let t=D1;for(const n of e)t=t.insert(n.key,n);return t}function N1(e){let t=D1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function wr(){return po()}function x1(){return po()}function po(){return new Yr(e=>e.toString(),(e,t)=>e.isEqual(t))}const M4=new Bt(Y.comparator),V4=new ne(Y.comparator);function ht(...e){let t=V4;for(const n of e)t=t.add(n);return t}const k4=new ne(at);function P4(){return k4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(t)?"-0":t}}function O1(e){return{integerValue:""+e}}function L4(e,t){return c4(t)?O1(t):Zm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function U4(e,t,n){return e instanceof hc?function(r,s){const a={fields:{[m1]:{stringValue:d1},[p1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ym(s)&&(s=Bc(s)),s&&(a.fields[g1]=s),{mapValue:a}}(n,t):e instanceof Uo?V1(e,t):e instanceof jo?k1(e,t):function(r,s){const a=M1(r,s),l=N_(a)+N_(r.Re);return _d(a)&&_d(r.Re)?O1(l):Zm(r.serializer,l)}(e,t)}function j4(e,t,n){return e instanceof Uo?V1(e,t):e instanceof jo?k1(e,t):n}function M1(e,t){return e instanceof fc?function(i){return _d(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class hc extends Gc{}class Uo extends Gc{constructor(t){super(),this.elements=t}}function V1(e,t){const n=P1(t);for(const i of e.elements)n.some(r=>Vn(r,i))||n.push(i);return{arrayValue:{values:n}}}class jo extends Gc{constructor(t){super(),this.elements=t}}function k1(e,t){let n=P1(t);for(const i of e.elements)n=n.filter(r=>!Vn(r,i));return{arrayValue:{values:n}}}class fc extends Gc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function N_(e){return Yt(e.integerValue||e.doubleValue)}function P1(e){return Km(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function z4(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Uo&&r instanceof Uo||i instanceof jo&&r instanceof jo?Ws(i.elements,r.elements,Vn):i instanceof fc&&r instanceof fc?Vn(i.Re,r.Re):i instanceof hc&&r instanceof hc}(e.transform,t.transform)}class B4{constructor(t,n){this.version=t,this.transformResults=n}}class On{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qc{}function L1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Wm(e.key,On.none()):new cl(e.key,e.data,On.none());{const n=e.data,i=ln.empty();let r=new ne(pe.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Kr(e.key,i,new gn(r.toArray()),On.none())}}function q4(e,t,n){e instanceof cl?function(r,s,a){const l=r.value.clone(),u=O_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Kr?function(r,s,a){if(!vu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=O_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(U1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function yo(e,t,n,i){return e instanceof cl?function(s,a,l,u){if(!vu(s.precondition,a))return l;const h=s.value.clone(),d=M_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Kr?function(s,a,l,u){if(!vu(s.precondition,a))return l;const h=M_(s.fieldTransforms,u,a),d=a.data;return d.setAll(U1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return vu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function H4(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=M1(i.transform,r||null);s!=null&&(n===null&&(n=ln.empty()),n.set(i.field,s))}return n||null}function x_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ws(i,r,(s,a)=>z4(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cl extends Qc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kr extends Qc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function O_(e,t,n){const i=new Map;Et(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,j4(a,l,n[r]))}return i}function M_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,U4(s,a,t))}return i}class Wm extends Qc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F4 extends Qc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&q4(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=yo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=yo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=x1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=L1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(nt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ht())}isEqual(t){return this.batchId===t.batchId&&Ws(this.mutations,t.mutations,(n,i)=>x_(n,i))&&Ws(this.baseMutations,t.baseMutations,(n,i)=>x_(n,i))}}class Jm{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Et(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return M4}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Jm(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,dt;function K4(e){switch(e){case L.OK:return $(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return $(15467,{code:e})}}function j1(e){if(e===void 0)return fi("GRPC error has no .code"),L.UNKNOWN;switch(e){case Xt.OK:return L.OK;case Xt.CANCELLED:return L.CANCELLED;case Xt.UNKNOWN:return L.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return L.INTERNAL;case Xt.UNAVAILABLE:return L.UNAVAILABLE;case Xt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Xt.NOT_FOUND:return L.NOT_FOUND;case Xt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Xt.ABORTED:return L.ABORTED;case Xt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Xt.DATA_LOSS:return L.DATA_LOSS;default:return $(39323,{code:e})}}(dt=Xt||(Xt={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Zi([4294967295,4294967295],0);function V_(e){const t=l1().encode(e),n=new t1;return n.update(t),new Uint8Array(n.digest())}function k_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Zi([n,i],0),new Zi([r,s],0)]}class tg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(i<0)throw new Ka(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Zi.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Zi.fromNumber(i)));return r.compare(X4)===1&&(r=new Zi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=V_(t),[i,r]=k_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new tg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=V_(t),[i,r]=k_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,hl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Yc(nt.min(),r,new Bt(at),di(),ht())}}class hl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new hl(i,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class z1{constructor(t,n){this.targetId=t,this.Ce=n}}class B1{constructor(t,n,i=_e.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class P_{constructor(){this.Fe=0,this.Me=L_(),this.xe=_e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ht(),n=ht(),i=ht();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:$(38017,{changeType:s})}}),new hl(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=L_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $4{constructor(t){this.ze=t,this.je=new Map,this.He=di(),this.Je=Zl(),this.Ye=Zl(),this.Ze=new Bt(at)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:$(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(Td(s))if(i===0){const a=new Y(s.path);this.tt(n,a,Se.newNoDocument(a,nt.min()))}else Et(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=sr(i).toUint8Array()}catch(u){if(u instanceof f1)return Zs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new tg(a,r,s)}catch(u){return Zs(u instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Td(l.target)){const u=new Y(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Se.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ht();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new Yc(t,n,this.Ze,this.He,i);return this.He=di(),this.Je=Zl(),this.Ye=Zl(),this.Ze=new Bt(at),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new P_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ne(at),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ne(at),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new P_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Zl(){return new Bt(Y.comparator)}function L_(){return new Bt(Y.comparator)}const Z4={asc:"ASCENDING",desc:"DESCENDING"},W4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J4={and:"AND",or:"OR"};class tD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bd(e,t){return e.useProto3Json||zc(t)?t:{value:t}}function dc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function eD(e,t){return dc(e,t.toTimestamp())}function Mn(e){return Et(!!e,49232),nt.fromTimestamp(function(n){const i=rr(n);return new ee(i.seconds,i.nanos)}(e))}function eg(e,t){return Sd(e,t).canonicalString()}function Sd(e,t){const n=function(r){return new Mt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function H1(e){const t=Mt.fromString(e);return Et(K1(t),10190,{key:t.toString()}),t}function wd(e,t){return eg(e.databaseId,t.path)}function sf(e,t){const n=H1(t);if(n.get(1)!==e.databaseId.projectId)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(G1(n))}function F1(e,t){return eg(e.databaseId,t)}function nD(e){const t=H1(e);return t.length===4?Mt.emptyPath():G1(t)}function Rd(e){return new Mt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function G1(e){return Et(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function U_(e,t,n){return{name:wd(e,t),fields:n.value.mapValue.fields}}function iD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:$(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Et(d===void 0||typeof d=="string",58123),_e.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),_e.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:j1(h.code);return new F(d,h.message||"")}(a);n=new B1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=sf(e,i.document.name),s=Mn(i.document.updateTime),a=i.document.createTime?Mn(i.document.createTime):nt.min(),l=new ln({mapValue:{fields:i.document.fields}}),u=Se.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Tu(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=sf(e,i.document),s=i.readTime?Mn(i.readTime):nt.min(),a=Se.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Tu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=sf(e,i.document),s=i.removedTargetIds||[];n=new Tu([],s,r,null)}else{if(!("filter"in t))return $(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new Y4(r,s),l=i.targetId;n=new z1(l,a)}}return n}function rD(e,t){let n;if(t instanceof cl)n={update:U_(e,t.key,t.value)};else if(t instanceof Wm)n={delete:wd(e,t.key)};else if(t instanceof Kr)n={update:U_(e,t.key,t.data),updateMask:dD(t.fieldMask)};else{if(!(t instanceof F4))return $(16599,{ft:t.type});n={verify:wd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof hc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof fc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw $(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:eD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$(27497)}(e,t.precondition)),n}function sD(e,t){return e&&e.length>0?(Et(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Mn(r.updateTime):Mn(s);return a.isEqual(nt.min())&&(a=Mn(s)),new B4(a,r.transformResults||[])}(n,t))):[]}function aD(e,t){return{documents:[F1(e,t.path)]}}function oD(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=F1(e,r);const s=function(h){if(h.length!==0)return Y1(yn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:fs(m.field),direction:cD(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=bd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function lD(e){let t=nD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Et(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=Q1(g);return m instanceof yn&&A1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(x){return new cc(ds(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,zc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,v=g.values||[];return new uc(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,v=g.values||[];return new uc(v,m)}(n.endAt)),C4(t,r,a,s,l,"F",u,h)}function uD(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Q1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ds(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ds(n.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ds(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ds(n.unaryFilter.field);return Zt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(e):e.fieldFilter!==void 0?function(n){return Zt.create(ds(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(i=>Q1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(e):$(30097,{filter:e})}function cD(e){return Z4[e]}function hD(e){return W4[e]}function fD(e){return J4[e]}function fs(e){return{fieldPath:e.canonicalString()}}function ds(e){return pe.fromServerFormat(e.fieldPath)}function Y1(e){return e instanceof Zt?function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:hD(n.op),value:n.value}}}(e):e instanceof yn?function(n){const i=n.getFilters().map(r=>Y1(r));return i.length===1?i[0]:{compositeFilter:{op:fD(n.op),filters:i}}}(e):$(54877,{filter:e})}function dD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function K1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,n,i,r,s=nt.min(),a=nt.min(),l=_e.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new ji(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.wt=t}}function gD(e){const t=lD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Cn=new yD}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(ir.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class yD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ne(Mt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ne(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class je{static withCacheSize(t){return new je(t,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */je.DEFAULT_COLLECTION_PERCENTILE=10,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,je.DEFAULT=new je(X1,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),je.DISABLED=new je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ea(0)}static lr(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",_D=1048576;function B_([e,t],[n,i]){const r=at(e,n);return r===0?at(t,i):r}class vD{constructor(t){this.Er=t,this.buffer=new ne(B_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();B_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TD{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(z_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?H(z_,"Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.mr(3e5)})}}class ED{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(jc.le);const i=new vD(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(j_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),cs()<=ct.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function AD(e,t){return new ED(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new Yr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&yo(i.mutation,r,gn.empty(),ee.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ht()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ht()){const r=wr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Ya();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=wr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ht()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=di();const a=po(),l=function(){return po()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Kr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),yo(d.mutation,h,d.mutation.getFieldMask(),ee.now())):a.set(h.key,gn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new SD(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=po();let r=new Bt((a,l)=>a-l),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||gn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ht()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=x1();d.forEach(m=>{if(!s.has(m)){const v=L1(n.get(m),i.get(m));v!==null&&g.set(m,v),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Y.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):R1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(wr());let l=Vo,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ht())).next(d=>({batchId:l,changes:N1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Y(n)).next(i=>{let r=Ya();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Ya();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new ul(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Se.newInvalidDocument(d)))});let l=Ya();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&yo(d.mutation,h,gn.empty(),ee.now()),Fc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Mn(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:gD(r.bundledQuery),readTime:Mn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new Bt(Y.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=wr();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=wr(),s=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Bt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=wr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Q4(n,i));let s=this.Qr.get(n);s===void 0&&(s=ht(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.sessionToken=_e.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.$r=new ne(oe.Ur),this.Kr=new ne(oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new oe(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new oe(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Y(new Mt([])),i=new oe(n,t),r=new oe(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Y(new Mt([])),i=new oe(n,t),r=new oe(n,t+1);let s=ht();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new oe(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class oe{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Y.comparator(t.key,n.key)||at(t.Zr,n.Zr)}static Wr(t,n){return at(t.Zr,n.Zr)||Y.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ne(oe.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new G4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new oe(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Qm:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new oe(n,0),r=new oe(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ne(at);return n.forEach(r=>{const s=new oe(r,0),a=new oe(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Y.isDocumentKey(s)||(s=s.child(""));const a=new oe(new Y(s),0);let l=new ne(at);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Et(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new oe(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new oe(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.ii=t,this.docs=function(){return new Bt(Y.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=di();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Se.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=di();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||a4(s4(d),i)<=0||(r.has(d.key)||Fc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){$(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new xD(this)}getSize(t){return k.resolve(this.size)}}class xD extends bD{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.persistence=t,this.oi=new Yr(n=>Xm(n),$m),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this._i=0,this.ai=new ng,this.targetCount=0,this.ui=ea.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ea(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n){this.ci={},this.overlays={},this.li=new jc(0),this.hi=!1,this.hi=!0,this.Pi=new CD,this.referenceDelegate=t(this),this.Ti=new OD(this),this.indexManager=new pD,this.remoteDocumentCache=function(r){return new ND(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new mD(n),this.Ei=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ID,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new DD(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new MD(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class MD extends l4{constructor(t){super(),this.currentSequenceNumber=t}}class ig{constructor(t){this.persistence=t,this.Vi=new ng,this.mi=null}static fi(t){return new ig(t)}get gi(){if(this.mi)return this.mi;throw $(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=Y.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,nt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class mc{constructor(t,n){this.persistence=t,this.yi=new Yr(i=>h4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=AD(this,n)}static fi(t,n){return new mc(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,nt.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yu(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ht(),r=ht();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new rg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Iw()?8:u4(Ie())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new VD;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(cs()<=ct.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(cs()<=ct.DEBUG&&H("QueryEngine","Query:",hs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(cs()<=ct.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xn(n))):k.resolve())}ws(t,n){if(D_(n))return k.resolve(null);let i=xn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ad(n,null,"F"),i=xn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ht(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,Ad(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return D_(n)||r.isEqual(nt.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(cs()<=ct.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hs(n)),this.Fs(t,a,n,r4(r,Vo)).next(l=>l))})}vs(t,n){let i=new ne(C1(t));return n.forEach((r,s)=>{Fc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return cs()<=ct.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",hs(n)),this.ys.getDocumentsMatchingQuery(t,n,ir.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",PD=3e8;class LD{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Bt(at),this.Os=new Yr(s=>Xm(s),$m),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function UD(e,t,n,i){return new LD(e,t,n,i)}async function Z1(e,t){const n=it(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ht();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function jD(e,t){const n=it(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let v=k.resolve();return m.forEach(x=>{v=v.next(()=>d.getEntry(u,x)).next(M=>{const V=h.docVersions.get(x);Et(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ht();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function W1(e){const t=it(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function zD(e,t){const n=it(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(_e.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(g,v),function(M,V,w){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=PD?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&l.push(n.Ti.updateTargetData(s,v))});let u=di(),h=ht();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(BD(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(nt.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function BD(e,t,n){let i=ht(),r=ht();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=di();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(nt.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(sg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function qD(e,t){const n=it(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function HD(e,t){const n=it(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new ji(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function Id(e,t,n){const i=it(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ya(a))throw a;H(sg,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function q_(e,t,n){const i=it(e);let r=nt.min(),s=ht();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=it(u),m=g.Os.get(d);return m!==void 0?k.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,xn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:nt.min(),n?s:ht())).next(l=>(FD(i,N4(t),l),{documents:l,$s:s})))}function FD(e,t,n){let i=e.Ns.get(t)||nt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class H_{constructor(){this.activeTargetIds=P4()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GD{constructor(){this.xo=new H_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new H_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class G_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(F_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(F_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function Cd(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="RestConnection",YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KD{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===oc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Cd(),l=this.jo(t,n.toUriEncodedString());H(af,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=fa(h);return this.Jo(t,l,u,i,d).then(g=>(H(af,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Zs(af,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=YD[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae="WebChannelConnection";class $D extends KD{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Cd();return new Promise((l,u)=>{const h=new e1;h.setWithCredentials(!0),h.listenOnce(n1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case pu.NO_ERROR:const g=h.getResponseJson();H(Ae,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case pu.TIMEOUT:H(Ae,`RPC '${t}' ${a} timed out`),u(new F(L.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const m=h.getStatus();if(H(Ae,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const M=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(T)>=0?T:L.UNKNOWN}(x.status);u(new F(M,x.message))}else u(new F(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(L.UNAVAILABLE,"Connection failed."));break;default:$(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(Ae,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(Ae,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Cd(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=s1(),l=r1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(Ae,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,v=!1;const x=new XD({Zo:V=>{v?H(Ae,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(Ae,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(Ae,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,w,T)=>{V.listen(w,S=>{try{T(S)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,Qa.EventType.OPEN,()=>{v||(H(Ae,`RPC '${t}' stream ${r} transport opened.`),x.__())}),M(g,Qa.EventType.CLOSE,()=>{v||(v=!0,H(Ae,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(g))}),M(g,Qa.EventType.ERROR,V=>{v||(v=!0,Zs(Ae,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),x.u_(new F(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,Qa.EventType.MESSAGE,V=>{var w;if(!v){const T=V.data[0];Et(!!T,16349);const S=T,N=(S==null?void 0:S.error)||((w=S[0])===null||w===void 0?void 0:w.error);if(N){H(Ae,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let B=function(A){const b=Xt[A];if(b!==void 0)return j1(b)}(U),E=N.message;B===void 0&&(B=L.INTERNAL,E="Unknown error status: "+U+" with message "+N.message),v=!0,x.u_(new F(B,E)),g.close()}else H(Ae,`RPC '${t}' stream ${r} received:`,T),x.c_(T)}}),M(l,i1.STAT_EVENT,V=>{V.stat===gd.PROXY?H(Ae,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===gd.NOPROXY&&H(Ae,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(e){return new tD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class tA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new J1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new F(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(Q_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZD extends tA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=iD(this.serializer,t),i=function(s){if(!("targetChange"in s))return nt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?Mn(a.readTime):nt.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Rd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Td(u)?{documents:aD(s,u)}:{query:oD(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=q1(s,a.resumeToken);const h=bd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(nt.min())>0){l.readTime=dc(s,a.snapshotVersion.toTimestamp());const h=bd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=uD(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Rd(this.serializer),n.removeTarget=t,this.Q_(n)}}class WD extends tA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Et(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Et(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Et(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=sD(t.writeResults,t.commitTime),i=Mn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Rd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>rD(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class tN extends JD{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,Sd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Sd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class eN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fi(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="RemoteStore";class nN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Xr(this)&&(H(Br,"Restarting streams for network reachability change."),await async function(u){const h=it(u);h.da.add(4),await fl(h),h.Va.set("Unknown"),h.da.delete(4),await Xc(h)}(this))})}),this.Va=new eN(i,r)}}async function Xc(e){if(Xr(e))for(const t of e.Aa)await t(!0)}async function fl(e){for(const t of e.Aa)await t(!1)}function eA(e,t){const n=it(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),ug(n)?lg(n):_a(n).N_()&&og(n,t))}function ag(e,t){const n=it(e),i=_a(n);n.Ea.delete(t),i.N_()&&nA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Xr(n)&&n.Va.set("Unknown"))}function og(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_a(e).Z_(t)}function nA(e,t){e.ma.Ke(t),_a(e).X_(t)}function lg(e){e.ma=new $4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),_a(e).start(),e.Va.ca()}function ug(e){return Xr(e)&&!_a(e).O_()&&e.Ea.size>0}function Xr(e){return it(e).da.size===0}function iA(e){e.ma=void 0}async function iN(e){e.Va.set("Online")}async function rN(e){e.Ea.forEach((t,n)=>{og(e,t)})}async function sN(e,t){iA(e),ug(e)?(e.Va.Pa(t),lg(e)):e.Va.set("Unknown")}async function aN(e,t,n){if(e.Va.set("Online"),t instanceof B1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await gc(e,i)}else if(t instanceof Tu?e.ma.Xe(t):t instanceof z1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(nt.min()))try{const i=await W1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(_e.EMPTY_BYTE_STRING,d.snapshotVersion)),nA(s,u);const g=new ji(d.target,u,h,d.sequenceNumber);og(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(Br,"Failed to raise snapshot:",i),await gc(e,i)}}async function gc(e,t,n){if(!ya(t))throw t;e.da.add(1),await fl(e),e.Va.set("Offline"),n||(n=()=>W1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(Br,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Xc(e)})}function rA(e,t){return t().catch(n=>gc(e,n,t))}async function $c(e){const t=it(e),n=or(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Qm;for(;oN(t);)try{const r=await qD(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,lN(t,r)}catch(r){await gc(t,r)}sA(t)&&aA(t)}function oN(e){return Xr(e)&&e.Ia.length<10}function lN(e,t){e.Ia.push(t);const n=or(e);n.N_()&&n.ea&&n.ta(t.mutations)}function sA(e){return Xr(e)&&!or(e).O_()&&e.Ia.length>0}function aA(e){or(e).start()}async function uN(e){or(e).ia()}async function cN(e){const t=or(e);for(const n of e.Ia)t.ta(n.mutations)}async function hN(e,t,n){const i=e.Ia.shift(),r=Jm.from(i,t,n);await rA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await $c(e)}async function fN(e,t){t&&or(e).ea&&await async function(i,r){if(function(a){return K4(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();or(i).L_(),await rA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await $c(i)}}(e,t),sA(e)&&aA(e)}async function Y_(e,t){const n=it(e);n.asyncQueue.verifyOperationInProgress(),H(Br,"RemoteStore received new credentials");const i=Xr(n);n.da.add(3),await fl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Xc(n)}async function dN(e,t){const n=it(e);t?(n.da.delete(2),await Xc(n)):t||(n.da.add(2),await fl(n),n.Va.set("Unknown"))}function _a(e){return e.fa||(e.fa=function(n,i,r){const s=it(n);return s.oa(),new ZD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:iN.bind(null,e),n_:rN.bind(null,e),i_:sN.bind(null,e),Y_:aN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),ug(e)?lg(e):e.Va.set("Unknown")):(await e.fa.stop(),iA(e))})),e.fa}function or(e){return e.ga||(e.ga=function(n,i,r){const s=it(n);return s.oa(),new WD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:uN.bind(null,e),i_:fN.bind(null,e),na:cN.bind(null,e),ra:hN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await $c(e)):(await e.ga.stop(),e.Ia.length>0&&(H(Br,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new cg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(e,t){if(fi("AsyncQueue",`${t}: ${e}`),ya(e))return new F(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(t){return new Us(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=Ya(),this.sortedSet=new Bt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Us)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Us;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.pa=new Bt(Y.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):$(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class na{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new na(t,n,Us.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class gN{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=it(n),s=r.queries;r.queries=X_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(L.ABORTED,"Firestore shutting down"))}}function X_(){return new Yr(e=>I1(e),Hc)}async function oA(e,t){const n=it(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new mN,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=hg(a,`Initialization of query '${hs(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&fg(n)}async function lA(e,t){const n=it(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function pN(e,t){const n=it(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&fg(n)}function yN(e,t,n){const i=it(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function fg(e){e.Ca.forEach(t=>{t.next()})}var Dd,$_;($_=Dd||(Dd={})).xa="default",$_.Cache="cache";class uA{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new na(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=na.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.key=t}}class hA{constructor(t){this.key=t}}class _N{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ht(),this.mutatedKeys=ht(),this.Za=C1(t),this.Xa=new Us(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new K_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),v=Fc(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let V=!1;m&&v?m.data.isEqual(v.data)?x!==M&&(i.track({type:3,doc:v}),V=!0):this.ru(m,v)||(i.track({type:2,doc:v}),V=!0,(u&&this.Za(v,u)>0||h&&this.Za(v,h)<0)&&(l=!0)):!m&&v?(i.track({type:0,doc:v}),V=!0):m&&!v&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(v?(a=a.add(v),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(v,x){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{Vt:V})}};return M(v)-M(x)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new na(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ht(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new hA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new cA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ht();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return na.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const dg="SyncEngine";class vN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class TN{constructor(t){this.key=t,this.cu=!1}}class EN{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Yr(l=>I1(l),Hc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(Y.comparator),this.Eu=new Map,this.du=new ng,this.Au={},this.Ru=new Map,this.Vu=ea.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function AN(e,t,n=!0){const i=yA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await fA(i,t,n,!0),r}async function bN(e,t){const n=yA(e);await fA(n,t,!0,!1)}async function fA(e,t,n,i){const r=await HD(e.localStore,xn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await SN(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&eA(e.remoteStore,r),l}async function SN(e,t,n,i,r){e.fu=(g,m,v)=>async function(M,V,w,T){let S=V.view.tu(w);S.Cs&&(S=await q_(M.localStore,V.query,!1).then(({documents:E})=>V.view.tu(E,S)));const N=T&&T.targetChanges.get(V.targetId),U=T&&T.targetMismatches.get(V.targetId)!=null,B=V.view.applyChanges(S,M.isPrimaryClient,N,U);return W_(M,V.targetId,B.ou),B.snapshot}(e,g,m,v);const s=await q_(e.localStore,t,!0),a=new _N(t,s.$s),l=a.tu(s.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);W_(e,n,h.ou);const d=new vN(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function wN(e,t,n){const i=it(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Hc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Id(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ag(i.remoteStore,r.targetId),Nd(i,r.targetId)}).catch(pa)):(Nd(i,r.targetId),await Id(i.localStore,r.targetId,!0))}async function RN(e,t){const n=it(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ag(n.remoteStore,i.targetId))}async function IN(e,t,n){const i=VN(e);try{const r=await function(a,l){const u=it(a),h=ee.now(),d=l.reduce((v,x)=>v.add(x.key),ht());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=di(),M=ht();return u.Bs.getEntries(v,d).next(V=>{x=V,x.forEach((w,T)=>{T.isValidDocument()||(M=M.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,x)).next(V=>{g=V;const w=[];for(const T of l){const S=H4(T,g.get(T.key).overlayedDocument);S!=null&&w.push(new Kr(T.key,S,v1(S.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,w,l)}).next(V=>{m=V;const w=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(v,V.batchId,w)})}).then(()=>({batchId:m.batchId,changes:N1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Bt(at)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await dl(i,r.changes),await $c(i.remoteStore)}catch(r){const s=hg(r,"Failed to persist write");n.reject(s)}}async function dA(e,t){const n=it(e);try{const i=await zD(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Et(a.cu,14607):r.removedDocuments.size>0&&(Et(a.cu,42227),a.cu=!1))}),await dl(n,i,t)}catch(i){await pa(i)}}function Z_(e,t,n){const i=it(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=it(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&fg(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function CN(e,t,n){const i=it(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Bt(Y.comparator);a=a.insert(s,Se.newNoDocument(s,nt.min()));const l=ht().add(s),u=new Yc(nt.min(),new Map,new Bt(at),a,l);await dA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),mg(i)}else await Id(i.localStore,t,!1).then(()=>Nd(i,t,n)).catch(pa)}async function DN(e,t){const n=it(e),i=t.batch.batchId;try{const r=await jD(n.localStore,t);gA(n,i,null),mA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dl(n,r)}catch(r){await pa(r)}}async function NN(e,t,n){const i=it(e);try{const r=await function(a,l){const u=it(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(Et(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);gA(i,t,n),mA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await dl(i,r)}catch(r){await pa(r)}}function mA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function gA(e,t,n){const i=it(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Nd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||pA(e,i)})}function pA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(ag(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),mg(e))}function W_(e,t,n){for(const i of n)i instanceof cA?(e.du.addReference(i.key,t),xN(e,i)):i instanceof hA?(H(dg,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||pA(e,i.key)):$(19791,{pu:i})}function xN(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(dg,"New document in limbo: "+n),e.Tu.add(i),mg(e))}function mg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Y(Mt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new TN(n)),e.Iu=e.Iu.insert(n,i),eA(e.remoteStore,new ji(xn(qc(n.path)),i,"TargetPurposeLimboResolution",jc.le))}}async function dl(e,t,n){const i=it(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=rg.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=it(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.ds,v=>d.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>k.forEach(m.As,v=>d.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!ya(g))throw g;H(sg,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const v=d.xs.get(m),x=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function ON(e,t){const n=it(e);if(!n.currentUser.isEqual(t)){H(dg,"User change. New user:",t.toKey());const i=await Z1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await dl(n,i.ks)}}function MN(e,t){const n=it(e),i=n.Eu.get(t);if(i&&i.cu)return ht().add(i.key);{let r=ht();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function yA(e){const t=it(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CN.bind(null,t),t.lu.Y_=pN.bind(null,t.eventManager),t.lu.gu=yN.bind(null,t.eventManager),t}function VN(e){const t=it(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,t),t}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return UD(this.persistence,new kD,t.initialUser,this.serializer)}Su(t){return new $1(ig.fi,this.serializer)}bu(t){return new GD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class kN extends pc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Et(this.persistence.referenceDelegate instanceof mc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TD(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?je.withCacheSize(this.cacheSizeBytes):je.DEFAULT;return new $1(i=>mc.fi(i,n),this.serializer)}}class xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gN}()}createDatastore(t){const n=Kc(t.databaseInfo.databaseId),i=function(s){return new $D(s)}(t.databaseInfo);return function(s,a,l,u){return new tN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new nN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Z_(this.syncEngine,n,0),function(){return G_.C()?new G_:new QD}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new EN(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=it(r);H(Br,"RemoteStore shutting down."),s.da.add(5),await fl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):fi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class PN{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=be.UNAUTHENTICATED,this.clientId=u1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(lr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(lr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=hg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function lf(e,t){e.asyncQueue.verifyOperationInProgress(),H(lr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Z1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function J_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await LN(e);H(lr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Y_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Y_(t.remoteStore,r)),e._onlineComponents=t}async function LN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(lr,"Using user provided OfflineComponentProvider");try{await lf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await lf(e,new pc)}}else H(lr,"Using default OfflineComponentProvider"),await lf(e,new kN(void 0));return e._offlineComponents}async function vA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(lr,"Using user provided OnlineComponentProvider"),await J_(e,e._uninitializedComponentsProvider._online)):(H(lr,"Using default OnlineComponentProvider"),await J_(e,new xd))),e._onlineComponents}function UN(e){return vA(e).then(t=>t.syncEngine)}async function Od(e){const t=await vA(e),n=t.eventManager;return n.onListen=AN.bind(null,t.syncEngine),n.onUnlisten=wN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RN.bind(null,t.syncEngine),n}function jN(e,t,n={}){const i=new Wi;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new _A({next:m=>{d.xu(),a.enqueueAndForget(()=>lA(s,g));const v=m.docs.has(l);!v&&m.fromCache?h.reject(new F(L.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?h.reject(new F(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new uA(qc(l.path),d,{includeMetadataChanges:!0,Qa:!0});return oA(s,g)}(await Od(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e,t,n){if(!n)throw new F(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zN(e,t,n,i){if(t===!0&&i===!0)throw new F(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ev(e){if(!Y.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nv(e){if(Y.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Zc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$(12329,{type:typeof e})}function ii(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zc(e);throw new F(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",iv=!0;class rv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=iv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_D)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new XC;switch(i.type){case"firstParty":return new JC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=tv.get(n);i&&(H("ComponentProvider","Removing Datastore"),tv.delete(n),i.terminate())}(this),Promise.resolve()}}function BN(e,t,n,i={}){var r;e=ii(e,Wc);const s=fa(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(gE(`https://${u}`),pE("Firestore",!0)),a.host!==AA&&a.host!==u&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Lr(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=be.MOCK_USER;else{d=_w(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new be(m)}e._authCredentials=new $C(new o1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new va(this.firestore,t,this._query)}}class Me{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}}class Ji extends va{constructor(t,n,i){super(t,n,qc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Y(t))}withConverter(t){return new Ji(this.firestore,t,this._path)}}function uf(e,t,...n){if(e=Be(e),EA("collection","path",t),e instanceof Wc){const i=Mt.fromString(t,...n);return nv(i),new Ji(e,null,i)}{if(!(e instanceof Me||e instanceof Ji))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return nv(i),new Ji(e.firestore,null,i)}}function Tr(e,t,...n){if(e=Be(e),arguments.length===1&&(t=u1.newId()),EA("doc","path",t),e instanceof Wc){const i=Mt.fromString(t,...n);return ev(i),new Me(e,null,new Y(i))}{if(!(e instanceof Me||e instanceof Ji))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return ev(i),new Me(e.firestore,e instanceof Ji?e.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new J1(this,"async_queue_retry"),this.rc=()=>{const i=of();i&&H(sv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Wi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ya(t))throw t;H(sv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,fi("INTERNAL UNHANDLED ERROR: ",ov(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=cg.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&$(47125,{cc:ov(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function ov(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ia extends Wc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new av,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function qN(e,t){const n=typeof e=="object"?e:TE(),i=typeof e=="string"?e:oc,r=km(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=pw("firestore");s&&BN(r,...s)}return r}function gg(e){if(e._terminated)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||HN(e),e._firestoreClient}function HN(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new m4(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new PN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ra(_e.fromBase64String(t))}catch(n){throw new F(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ra(_e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return at(this._lat,t._lat)||at(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^__.*__$/;class GN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,n,this.fieldTransforms):new cl(t,this.data,n,this.fieldTransforms)}}function SA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ic:e})}}class vg{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return yc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(SA(this.Ic)&&FN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class QN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Kc(t)}bc(t,n,i,r=!1){return new vg({Ic:t,methodName:n,wc:i,path:pe.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(e){const t=e._freezeSettings(),n=Kc(e._databaseId);return new QN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YN(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);CA("Data must be an object, but it was:",a,i);const l=RA(i,a);let u,h;if(s.merge)u=new gn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=XN(t,g,n);if(!a.contains(m))throw new F(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZN(d,m)||d.push(m)}u=new gn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new GN(new ln(l),u,h)}function KN(e,t,n,i=!1){return Tg(n,e.bc(i?4:3,t))}function Tg(e,t){if(IA(e=Be(e)))return CA("Unsupported field value:",t,e),RA(e,t);if(e instanceof bA)return function(i,r){if(!SA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Tg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Be(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return L4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ee.fromDate(i);return{timestampValue:dc(r.serializer,s)}}if(i instanceof ee){const s=new ee(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dc(r.serializer,s)}}if(i instanceof yg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ra)return{bytesValue:q1(r.serializer,i._byteString)};if(i instanceof Me){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof _g)return function(a,l){return{mapValue:{fields:{[y1]:{stringValue:_1},[lc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Zm(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Zc(i)}`)}(e,t)}function RA(e,t){const n={};return h1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(e,(i,r)=>{const s=Tg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function IA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ee||e instanceof yg||e instanceof ra||e instanceof Me||e instanceof bA||e instanceof _g)}function CA(e,t,n){if(!IA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Zc(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function XN(e,t,n){if((t=Be(t))instanceof pg)return t._internalPath;if(typeof t=="string")return DA(e,t);throw yc("Field path arguments must be of type string or ",e,!1,void 0,n)}const $N=new RegExp("[~\\*/\\[\\]]");function DA(e,t,n){if(t.search($N)>=0)throw yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pg(...t.split("."))._internalPath}catch{throw yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function yc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(L.INVALID_ARGUMENT,l+e+u)}function ZN(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WN extends NA{data(){return super.data()}}function xA(e,t){return typeof t=="string"?DA(e,t):t instanceof pg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class t6 extends Eg{}function e6(e,t,...n){let i=[];t instanceof Eg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof bg).length,l=s.filter(u=>u instanceof Ag).length;if(a>1||a>0&&l>0)throw new F(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Ag extends t6{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Ag(t,n,i)}_apply(t){const n=this._parse(t);return OA(t._query,n),new va(t.firestore,t.converter,Ed(t._query,n))}_parse(t){const n=wA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cv(g,d);const x=[];for(const M of g)x.push(uv(u,s,M));m={arrayValue:{values:x}}}else m=uv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cv(g,d),m=KN(l,a,g,d==="in"||d==="not-in");return Zt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class bg extends Eg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new bg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)OA(a,u),a=Ed(a,u)}(t._query,n),new va(t.firestore,t.converter,Ed(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uv(e,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new F(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R1(t)&&n.indexOf("/")!==-1)throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Mt.fromString(n));if(!Y.isDocumentKey(i))throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return b_(e,new Y(i))}if(n instanceof Me)return b_(e,n._key);throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zc(n)}.`)}function cv(e,t){if(!Array.isArray(e)||e.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class n6{convertValue(t,n="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw $(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Qr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[lc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Yt(a.doubleValue));return new _g(s)}convertGeoPoint(t){return new yg(Yt(t.latitude),Yt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Bc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const n=rr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Mt.fromString(t);Et(K1(i),9688,{name:t});const r=new Po(i.get(1),i.get(3)),s=new Y(i.popFirst(5));return r.isEqual(n)||fi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class MA extends NA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(xA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Eu extends MA{data(t={}){return super.data(t)}}class r6{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Eu(this._firestore,this._userDataWriter,i.key,i,new Xa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Eu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Eu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:s6(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(e){e=ii(e,Me);const t=ii(e.firestore,ia);return jN(gg(t),e._key).then(n=>PA(t,e,n))}class VA extends n6{constructor(t){super(),this.firestore=t}convertBytes(t){return new ra(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function cf(e,t,n){e=ii(e,Me);const i=ii(e.firestore,ia),r=i6(e.converter,t);return kA(i,[YN(wA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,On.none())])}function o6(e){return kA(ii(e.firestore,ia),[new Wm(e._key,On.none())])}function l6(e,...t){var n,i,r;e=Be(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||lv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(lv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Me)h=ii(e.firestore,ia),d=qc(e._key.path),u={next:g=>{t[a]&&t[a](PA(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=ii(e,va);h=ii(g.firestore,ia),d=g._query;const m=new VA(h);u={next:v=>{t[a]&&t[a](new r6(h,m,g,v))},error:t[a+1],complete:t[a+2]},JN(e._query)}return function(m,v,x,M){const V=new _A(M),w=new uA(v,V,x);return m.asyncQueue.enqueueAndForget(async()=>oA(await Od(m),w)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>lA(await Od(m),w))}}(gg(h),d,l,u)}function kA(e,t){return function(i,r){const s=new Wi;return i.asyncQueue.enqueueAndForget(async()=>IN(await UN(i),r,s)),s.promise}(gg(e),t)}function PA(e,t,n){const i=n.docs.get(t._key),r=new VA(e);return new MA(e,r,t._key,i,new Xa(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){ga=r})(da),$s(new Ur("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ia(new ZC(i.getProvider("auth-internal")),new t4(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),$i(h_,f_,t),$i(h_,f_,"esm2017")})();const u6="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",c6="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",h6="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",f6="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",d6="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",m6="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",g6="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",p6="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",y6="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",_6="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",v6="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",T6="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",E6="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",A6="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",b6="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",S6="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",w6="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",R6="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",Qn="https://art.pixilart.com/sr2a947c8f967b8.png",et={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},LA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},UA={normal:u6,fire:c6,water:h6,electric:f6,grass:d6,ice:m6,fighting:g6,poison:p6,ground:y6,flying:_6,psychic:v6,bug:T6,rock:E6,ghost:A6,dragon:b6,dark:S6,steel:w6,fairy:R6},hf={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},I6=()=>R.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),C6=()=>R.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),jA=({className:e="w-6 h-6",isFavorite:t})=>R.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":et.textMuted},children:[" ",R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),D6=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",R.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),N6=()=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",id:"Clean-Broom-Wipe--Streamline-Plump-Remix",height:"48",width:"48",children:R.jsx("g",{id:"clean-broom-wipe",children:R.jsx("path",{id:"Union",fill:"#000000","fill-rule":"evenodd",d:"M21.4676 19.9222c-0.189 0.6958 -0.3765 1.386 -0.5613 2.0689 2.921 2.097 4.5479 5.8267 4.4664 9.5358l-0.0558 2.5385c-0.0299 1.364 0.5012 2.6764 1.4618 3.6269l1.0838 1.0723c2.7056 2.677 1.1961 7.4392 -2.7637 7.7695 -2.8291 0.2361 -6.3656 0.4647 -9.4769 0.4647 -4.0129 0 -8.00149 -0.3801 -10.47549 -0.6717 -2.45882 -0.2897 -4.370513 -2.4423 -4.12518 -5.0409 0.32894 -3.4839 1.19776 -7.3848 2.0685 -10.6753 1.38723 -5.2423 5.52144 -9.6701 11.09997 -10.2665l0.289 -1.1016 0.0033 -0.0126c1.3834 -5.2743 2.8663 -10.92818 4.4573 -16.02148 0.4424 -1.41632 1.7789 -2.532411 3.4679 -2.12313 0.2882 0.06983 0.6352 0.16345 0.9207 0.24843 1.6728 0.49789 2.2862 2.14567 1.9633 3.60825 -1.0681 4.83742 -2.4824 10.04313 -3.8191 14.96343l-0.0036 0.0132 -0.0009 0.0033ZM10.0091 34.8423c1.0979 0.121 1.8899 1.1092 1.7689 2.2071 -0.1219 1.1054 0.0055 3.7584 1.205 5.896 0.8688 0.0338 1.7545 0.0534 2.6389 0.0534 0.0867 0 0.1738 -0.0001 0.2613 -0.0005 -1.2359 -2.4472 -1.2343 -4.912 -1.2336 -5.8607v-0.061c-0.0001 -1.1046 0.8953 -2.0001 1.9999 -2.0001s2 0.8953 2.0001 1.9999c0 1.2998 0.057 3.9419 2.045 5.76 1.4174 -0.0806 2.8081 -0.183 4.0716 -0.2884 0.1408 -0.0118 0.2241 -0.0564 0.2795 -0.1013 0.0629 -0.051 0.1208 -0.1289 0.1563 -0.231 0.0691 -0.1987 0.0379 -0.4189 -0.1529 -0.6077l-1.0838 -1.0723c-1.7453 -1.7269 -2.7014 -4.1009 -2.6474 -6.5582l0.0558 -2.5385c0.0894 -4.0676 -2.5449 -7.1628 -5.8951 -7.1628 -3.9967 0 -7.37874 3.0377 -8.52197 7.3579 -0.84951 3.2103 -1.65456 6.8661 -1.9531 10.0281 -0.02965 0.314 0.18737 0.6425 0.61099 0.6924 0.82009 0.0967 1.80504 0.2024 2.89758 0.2998 -0.80846 -2.4525 -0.843 -4.837 -0.71006 -6.0432 0.121 -1.0979 1.10914 -1.8899 2.20706 -1.7689Zm16.351 -5.2173c0 -1.1046 0.8954 -2 2 -2h11.7594c1.1046 0 2 0.8954 2 2s-0.8954 2 -2 2H28.3601c-1.1046 0 -2 -0.8954 -2 -2Zm4.4408 3.8789c-1.1046 0 -2 0.8954 -2 2s0.8954 2 2 2h11.7594c1.1046 0 2 -0.8954 2 -2s-0.8954 -2 -2 -2H30.8009Zm2.4397 5.8789c-1.1046 0 -2 0.8954 -2 2s0.8954 2 2 2H45c1.1046 0 2 -0.8954 2 -2s-0.8954 -2 -2 -2H33.2406Z","clip-rule":"evenodd","stroke-width":"1"})})}),x6=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),O6=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",R.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),M6=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),zA=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),BA=()=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),V6=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),R.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),R.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),R.jsx("path",{d:"M3 12h6"}),R.jsx("path",{d:"M15 12h6"})]}),k6=()=>R.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),P6=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),L6=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),U6=()=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),Md=({type:e})=>R.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:LA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),j6={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},bi="pokemonTeamBuilder",z6=(e,t)=>{const[n,i]=Q.useState(e);return Q.useEffect(()=>{const r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),n},B6=Ev.memo(({onAdd:e,onShowDetails:t,details:n,lastRef:i})=>{const r=a=>{a.stopPropagation(),e(n)},s=a=>{a.stopPropagation(),t(n)};return n?R.jsxs("div",{ref:i,onClick:r,className:"rounded-lg p-3 text-center group relative cursor-pointer",style:{backgroundColor:et.cardLight},children:[R.jsx("img",{src:n.sprite||Qn,onError:a=>{a.currentTarget.src=Qn},alt:n.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),R.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:n.name}),R.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:n.types.map(a=>R.jsx("img",{src:UA[a],alt:a,className:"w-5 h-5"},a))}),R.jsx("button",{onClick:s,className:`
            absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
            opacity-100     
            lg:opacity-0    
            lg:group-hover:opacity-100 
            lg:transition-opacity
            `,children:R.jsx(BA,{})})]}):R.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:et.cardLight},children:[R.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),R.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),R.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:R.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),q6=({stat:e,value:t})=>{const n={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},i=t/255*100;return R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",children:e.replace("-"," ")}),R.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-4",children:R.jsx("div",{className:`${n[e]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${i}%`},children:t})})]})},H6=({pokemon:e,onClose:t,onAdd:n})=>{var i,r;return e?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:R.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",onClick:s=>s.stopPropagation(),children:[R.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:R.jsx(zA,{})}),R.jsxs("div",{className:"text-center",children:[R.jsx("img",{src:e.animatedSprite||e.sprite,alt:e.name,className:"mx-auto h-32 w-32 image-pixelated"}),R.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",children:[e.name," ",R.jsxs("span",{className:"text-gray-400",children:["#",e.id]})]}),R.jsx("div",{className:"flex justify-center gap-2 mt-2",children:e.types.map(s=>R.jsx(Md,{type:s},s))})]}),R.jsxs("div",{className:"mt-6",children:[R.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Base Stats"}),R.jsx("div",{className:"space-y-2",children:(i=e.stats)==null?void 0:i.map(s=>R.jsx(q6,{stat:s.stat.name,value:s.base_stat},s.stat.name))})]}),R.jsxs("div",{className:"mt-6",children:[R.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),R.jsx("div",{className:"text-center space-x-2",children:(r=e.abilities)==null?void 0:r.map(s=>R.jsx("span",{className:"capitalize inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:s.ability.name.replace("-"," ")},s.ability.name))})]}),R.jsx("div",{className:"mt-8 flex justify-center",children:R.jsxs("button",{onClick:()=>{n(e),t()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[R.jsx(O6,{})," Add to Team"]})})]})}):null},F6=({currentTeam:e,teamName:t,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,teamAnalysis:m,searchInput:v,setSearchInput:x,selectedGeneration:M,setSelectedGeneration:V,generations:w,isInitialLoading:T,isFiltering:S,availablePokemons:N,pokemonDetailsCache:U,handleAddPokemonToTeam:B,lastPokemonElementRef:E,isFetchingMore:y,visibleCount:A,selectedTypes:b,handleTypeSelection:I,showDetails:C})=>R.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[R.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:et.primary},children:"Current Team"}),R.jsx("input",{type:"text",value:t,onChange:_=>n(_.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[e.map(_=>R.jsxs("div",{className:"text-center relative group cursor-pointer",children:[R.jsx("img",{src:_.animatedSprite||_.sprite||Qn,onError:pt=>{pt.currentTarget.src=_.sprite||Qn},alt:_.name,className:"mx-auto h-20 w-20"}),R.jsx("p",{className:"text-xs capitalize truncate",children:_.name}),R.jsx("button",{onClick:pt=>{pt.stopPropagation(),C(_)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-5 w-5 flex items-center justify-center transition-opacity text-sm",children:R.jsx(BA,{})}),R.jsx("button",{onClick:pt=>{pt.stopPropagation(),i(_.id)},className:`
                            absolute top-1 right-1 bg-red-600 text-white rounded-full h-5 w-5 flex items-center justify-center text-sm
                            opacity-100 visible
                            lg:opacity-0 lg:invisible
                            lg:group-hover:opacity-100 lg:group-hover:visible
                            transition-opacity duration-200
                        `,children:"X"})]},_.id)),Array.from({length:6-e.length}).map((_,pt)=>R.jsx("div",{className:"flex items-center justify-center",children:R.jsx("img",{src:Qn,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},pt))]}),R.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[R.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:et.primary,color:et.background},children:[" ",R.jsx(x6,{})," ",s?"Update":"Save"," "]}),R.jsx("button",{onClick:g,className:"p-2 rounded-lg bg-green-600 hover:bg-green-700 text-white",title:"Share Team",children:R.jsx(U6,{})}),R.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Clear Team",children:R.jsx(N6,{})})]})]}),R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Recent Teams"}),R.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),R.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:l.length>0?l.map(_=>R.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:et.cardLight},children:[R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"font-bold text-lg truncate",children:_.name}),R.jsx("div",{className:"flex mt-1",children:_.pokemons.map(pt=>R.jsx("img",{src:pt.sprite||Qn,onError:Ce=>{Ce.currentTarget.src=Qn},alt:pt.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:et.cardLight,backgroundColor:et.card}},pt.id))})]}),R.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[R.jsx("button",{onClick:()=>h(_),title:"Favorite",children:R.jsx(jA,{isFavorite:_.isFavorite})}),R.jsx("button",{onClick:()=>d(_),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},_.id)):R.jsx("p",{className:"text-center py-4",style:{color:et.textMuted},children:"No recent teams yet."})})]})]}),R.jsx("div",{className:"lg:col-span-6",children:R.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:et.card},children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokmon!"}),R.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[R.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:v,onChange:_=>x(_.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsxs("select",{value:M,onChange:_=>V(_.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:et.cardLight,borderColor:"transparent"},children:[R.jsx("option",{value:"all",children:"All Generations"}),w.map(_=>R.jsx("option",{value:_.name,className:"capitalize",children:_.name.replace("-"," ")},_.name))]})]})]}),R.jsx("div",{className:"relative flex-grow h-[60vh]",children:T?R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:et.primary}})}):R.jsxs(R.Fragment,{children:[S&&R.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:et.primary}})}),R.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[R.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:N.slice(0,A).map((_,pt)=>R.jsx(B6,{details:U[_.id],onAdd:B,onShowDetails:C,lastRef:pt===A-1?E:null},_.id))}),y&&R.jsx("div",{className:"flex justify-center py-4",children:R.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:et.primary}})}),N.length===0&&!S&&R.jsx("p",{className:"text-center py-8",style:{color:et.textMuted},children:"No Pokmon found with these filters. :("})]})]})})]})}),R.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),R.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-5 gap-1.5",children:Object.keys(LA).map(_=>R.jsx("button",{onClick:()=>I(_),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${b.has(_)?"ring-2 ring-white":""}`,title:_,children:R.jsx("img",{src:UA[_],alt:_,className:"w-full h-full object-contain"})},_))})]}),e.length>0&&R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),R.jsx("div",{className:"flex flex-wrap gap-1",children:m.strengths.size>0?Array.from(m.strengths).sort().map(_=>R.jsx(Md,{type:_},_)):R.jsx("p",{className:"text-sm",style:{color:et.textMuted},children:"No type advantages found."})})]}),R.jsxs("div",{className:"mt-4",children:[R.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),R.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(m.weaknesses).length>0?Object.entries(m.weaknesses).sort(([,_],[,pt])=>pt-_).map(([_,pt])=>R.jsxs("div",{className:"flex items-center",children:[R.jsx(Md,{type:_}),R.jsxs("span",{className:"text-xs text-red-300",children:["(",pt,"x)"]})]},_)):R.jsx("p",{className:"text-sm",style:{color:et.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),G6=({teams:e,onEdit:t,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s})=>R.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),R.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:a=>s(a.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0?e.map(a=>R.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:et.cardLight},children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("p",{className:"font-bold text-xl truncate mb-2",children:a.name}),R.jsx("button",{onClick:()=>i(a),title:"Favorite",children:R.jsx(jA,{isFavorite:a.isFavorite})})]}),R.jsx("div",{className:"flex my-2",children:a.pokemons.map(l=>R.jsx("img",{src:l.sprite||Qn,onError:u=>{u.currentTarget.src=Qn},alt:l.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:et.cardLight,backgroundColor:et.card}},l.id))}),R.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[R.jsx("button",{onClick:()=>t(a),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),R.jsx("button",{onClick:()=>n(a.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:R.jsx(D6,{})})]})]},a.id)):R.jsx("p",{className:"col-span-full text-center py-8",style:{color:et.textMuted},children:"No teams found."})})]});function Q6(){const[e,t]=Q.useState(null),[n,i]=Q.useState(null),[r,s]=Q.useState([]),[a,l]=Q.useState([]),[u,h]=Q.useState({}),[d,g]=Q.useState([]),[m,v]=Q.useState("all"),[x,M]=Q.useState(new Set),[V,w]=Q.useState(""),T=z6(V,300),[S,N]=Q.useState([]),[U,B]=Q.useState([]),[E,y]=Q.useState(""),[A,b]=Q.useState(null),[I,C]=Q.useState({strengths:new Set,weaknesses:{}}),[_,pt]=Q.useState(!0),[Ce,q]=Q.useState(!1),[W,J]=Q.useState(!1),[It,kt]=Q.useState([]),[vn,re]=Q.useState("builder"),[Pt,ke]=Q.useState(!1),[Kt,Jc]=Q.useState(!1),[Ln,th]=Q.useState(""),[hr,fr]=Q.useState(50),[$r,Zr]=Q.useState(null),[Ta,Wr]=Q.useState(3);Q.useEffect(()=>{const z=()=>{window.innerWidth<768?Wr(2):Wr(3)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const ft=Q.useCallback((z,G="info")=>{const K=Date.now();kt(X=>[...X,{id:K,message:z,type:G}]),setTimeout(()=>kt(X=>X.filter(rt=>rt.id!==K)),3e3)},[]),Un=Q.useMemo(()=>{const z=new Set(S.map(G=>G.id));return a.filter(G=>!z.has(G.id))},[a,S]),eh=Q.useMemo(()=>U.sort((z,G)=>new Date(G.updatedAt||G.createdAt)-new Date(z.updatedAt||z.createdAt)).slice(0,3),[U]),nh=Q.useMemo(()=>{let z=[...U].sort((G,K)=>K.isFavorite-G.isFavorite||new Date(K.updatedAt||K.createdAt)-new Date(G.updatedAt||G.createdAt));return Ln&&(z=z.filter(G=>G.name.toLowerCase().includes(Ln.toLowerCase()))),z},[U,Ln]),Ea=Q.useCallback(async z=>{if(!n)return;ft("Loading shared team...","info");const G=Tr(n,`artifacts/${bi}/public/data/teams`,z);try{const K=await a6(G);if(K.exists()){const X=K.data(),rt=X.pokemons.map(async _t=>{var De,Je,ve,Tn,En,mr;if(u[_t.id])return u[_t.id];const St=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${_t.id}`)).json();return{id:St.id,name:St.name,sprite:(De=St.sprites)==null?void 0:De.front_default,types:St.types.map(gr=>gr.type.name),animatedSprite:(mr=(En=(Tn=(ve=(Je=St.sprites)==null?void 0:Je.versions)==null?void 0:ve["generation-v"])==null?void 0:Tn["black-white"])==null?void 0:En.animated)==null?void 0:mr.front_default,stats:St.stats,abilities:St.abilities}}),yt=await Promise.all(rt);h(_t=>({..._t,...yt.reduce((Ct,St)=>({...Ct,[St.id]:St}),{})})),N(yt.filter(Boolean)),y(X.name),b(null),ft(`Loaded team: ${X.name}`,"success")}else ft("Shared team not found.","error")}catch{ft("Failed to load shared team.","error")}},[n,u,ft]);Q.useEffect(()=>{try{const z=vE(j6),G=YC(z);i(qN(z));const K=PI(G,rt=>{rt&&t(rt.uid)});return(async()=>{if(!G.currentUser)try{const rt=typeof __initial_auth_token<"u"?__initial_auth_token:null;rt?await MI(G,rt):await CI(G)}catch{ft("Authentication failed. Please refresh.","error")}})(),()=>K()}catch{ft("Failed to connect to services.","error")}},[]),Q.useEffect(()=>{(async()=>{try{const[G,K]=await Promise.all([fetch("https://pokeapi.co/api/v2/generation"),fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")]),[X,rt]=await Promise.all([G.json(),K.json()]);g(X.results);const yt=rt.results.map(_t=>({id:parseInt(_t.url.split("/")[6]),name:_t.name,url:_t.url}));s(yt),l(yt)}catch{ft("Failed to load Pokmon data.","error")}finally{pt(!1)}})()},[]),Q.useEffect(()=>{if(!n||_)return;const G=new URLSearchParams(window.location.search).get("team");G&&Ea(G)},[n,_,Ea]),Q.useEffect(()=>{(async()=>{if(_)return;q(!0);let G=[...r];const K={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(m!=="all"&&K[m]){const[X,rt]=K[m];G=G.filter(yt=>yt.id>=X&&yt.id<=rt)}if(T&&(G=G.filter(X=>X.name.toLowerCase().includes(T.toLowerCase()))),x.size>0)try{const X=Array.from(x).map(_t=>fetch(`https://pokeapi.co/api/v2/type/${_t.toLowerCase()}`).then(Ct=>Ct.json()).then(Ct=>new Set(Ct.pokemon.map(St=>St.pokemon.name)))),yt=(await Promise.all(X)).reduce((_t,Ct)=>new Set([..._t].filter(St=>Ct.has(St))));G=G.filter(_t=>yt.has(_t.name))}catch{ft("Failed to apply type filter.","error")}l(G),fr(50),q(!1)})()},[m,x,T,r,_]),Q.useEffect(()=>{let z=!0;const G=async()=>{const X=Un.slice(0,hr).filter(rt=>!u[rt.id]);if(X.length!==0){J(!0);try{const rt=await Promise.all(X.map(_t=>fetch(_t.url).then(Ct=>Ct.json())));if(!z)return;const yt=rt.reduce((_t,Ct)=>{var St,De,Je,ve,Tn,En;return _t[Ct.id]={id:Ct.id,name:Ct.name,sprite:(St=Ct.sprites)==null?void 0:St.front_default,animatedSprite:(En=(Tn=(ve=(Je=(De=Ct.sprites)==null?void 0:De.versions)==null?void 0:Je["generation-v"])==null?void 0:ve["black-white"])==null?void 0:Tn.animated)==null?void 0:En.front_default,types:Ct.types.map(mr=>mr.type.name),stats:Ct.stats,abilities:Ct.abilities},_t},{});h(_t=>({..._t,...yt}))}catch{}finally{z&&J(!1)}}};return Un.length>0&&G(),()=>{z=!1}},[Un,hr,u]),Q.useEffect(()=>{if(!e||!n)return;const z=e6(uf(n,`artifacts/${bi}/users/${e}/teams`));return l6(z,K=>{B(K.docs.map(X=>({id:X.id,...X.data()})))},()=>ft("Could not load saved teams.","error"))},[e,n]),Q.useEffect(()=>{const z=S.map(X=>u[X.id]).filter(Boolean);if(z.length<S.length||z.length===0){C({strengths:new Set,weaknesses:{}});return}const G={},K=new Set;z.flatMap(X=>X.types).forEach(X=>{var rt;Object.entries(((rt=hf[X])==null?void 0:rt.damageDealt)||{}).forEach(([yt,_t])=>{_t>1&&K.add(yt)})}),Object.keys(hf).forEach(X=>{let rt=0;z.forEach(yt=>{yt.types.reduce((Ct,St)=>{var De;return Ct*(((De=hf[St])==null?void 0:De.damageTaken[X])??1)},1)>1&&rt++}),rt>0&&(G[X]=rt)}),C({strengths:K,weaknesses:G})},[S,u]);const pi=Q.useRef(),ml=Q.useCallback(z=>{W||Ce||(pi.current&&pi.current.disconnect(),pi.current=new IntersectionObserver(G=>{G[0].isIntersecting&&Un.length>hr&&fr(K=>K+50)}),z&&pi.current.observe(z))},[W,Ce,Un,hr]),gl=Q.useCallback(z=>{if(S.length>=6)return ft("Your team is full (6 Pokmon)!","warning");if(S.find(G=>G.id===z.id))return ft("This Pokmon is already on your team.","warning");N(G=>[...G,z])},[S,ft]),Aa=Q.useCallback(z=>{N(G=>G.filter(K=>K.id!==z))},[]),jn=Q.useCallback(()=>{N([]),y(""),b(null)},[]),pl=Q.useCallback(async()=>{var K,X;if(!n||!e)return ft("Database connection not ready.","error");if(S.length===0)return ft("Your team is empty!","warning");if(!E.trim())return ft("Please name your team.","warning");const z=A||Tr(uf(n,`artifacts/${bi}/users/${e}/teams`)).id,G={name:E,pokemons:S.map(rt=>({id:rt.id,name:rt.name,sprite:rt.sprite})),isFavorite:((K=U.find(rt=>rt.id===A))==null?void 0:K.isFavorite)||!1,createdAt:((X=U.find(rt=>rt.id===A))==null?void 0:X.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await cf(Tr(n,`artifacts/${bi}/users/${e}/teams`,z),G),ft(`Team "${E}" saved!`,"success"),jn()}catch{ft("Error saving team.","error")}},[n,e,S,E,A,U,ft,jn]),se=Q.useCallback(async()=>{if(!n)return ft("Database not ready.","error");if(S.length===0)return ft("Cannot share an empty team!","warning");const z=Tr(uf(n,`artifacts/${bi}/public/data/teams`)).id,G={name:E||"Unnamed Team",pokemons:S.map(K=>({id:K.id,name:K.name,sprite:K.sprite}))};try{await cf(Tr(n,`artifacts/${bi}/public/data/teams`,z),G);const K=`${window.location.origin}${window.location.pathname}?team=${z}`,X=document.createElement("textarea");X.value=K,document.body.appendChild(X),X.focus(),X.select();try{document.execCommand("copy")?ft("Share link copied to clipboard!","success"):ft("Failed to copy link.","error")}catch{ft("Failed to copy link.","error")}document.body.removeChild(X)}catch{ft("Could not generate share link.","error")}},[n,S,E,ft]),ae=Q.useCallback(async z=>{const G=z.pokemons.map(async X=>{var _t,Ct,St,De,Je,ve;if(u[X.id])return u[X.id];const yt=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${X.id}`)).json();return{id:yt.id,name:yt.name,sprite:(_t=yt.sprites)==null?void 0:_t.front_default,types:yt.types.map(Tn=>Tn.type.name),animatedSprite:(ve=(Je=(De=(St=(Ct=yt.sprites)==null?void 0:Ct.versions)==null?void 0:St["generation-v"])==null?void 0:De["black-white"])==null?void 0:Je.animated)==null?void 0:ve.front_default,stats:yt.stats,abilities:yt.abilities}}),K=await Promise.all(G);h(X=>({...X,...K.reduce((rt,yt)=>({...rt,[yt.id]:yt}),{})})),N(K.filter(Boolean)),y(z.name),b(z.id),re("builder"),ke(!1),window.scrollTo({top:0,behavior:"smooth"})},[u]),Jr=Q.useCallback(async z=>{if(!(!n||!e))try{await o6(Tr(n,`artifacts/${bi}/users/${e}/teams`,z)),A===z&&jn(),ft("Team deleted.","info")}catch{ft("Error deleting team.","error")}},[n,e,A,jn,ft]),ba=Q.useCallback(async z=>{if(!(!n||!e))try{await cf(Tr(n,`artifacts/${bi}/users/${e}/teams`,z.id),{...z,isFavorite:!z.isFavorite})}catch{ft("Could not update favorite status.","error")}},[n,e,ft]),yl=Q.useCallback(z=>{M(G=>{const K=new Set(G);return K.has(z)?K.delete(z):K.add(z),K})},[]),ih=Q.useCallback(z=>{Zr(z)},[]),dr=()=>{switch(vn){case"allTeams":return R.jsx(G6,{teams:nh,onEdit:ae,onDelete:Jr,onToggleFavorite:ba,searchTerm:Ln,setSearchTerm:th});default:return R.jsx(F6,{currentTeam:S,teamName:E,setTeamName:y,handleRemoveFromTeam:Aa,handleSaveTeam:pl,editingTeamId:A,handleClearTeam:jn,recentTeams:eh,setCurrentPage:re,handleToggleFavorite:ba,handleEditTeam:ae,handleShareTeam:se,teamAnalysis:I,searchInput:V,setSearchInput:w,selectedGeneration:m,setSelectedGeneration:v,generations:d,isInitialLoading:_,isFiltering:Ce,availablePokemons:Un,pokemonDetailsCache:u,handleAddPokemonToTeam:gl,lastPokemonElementRef:ml,isFetchingMore:W,visibleCount:hr,selectedTypes:x,handleTypeSelection:yl,showDetails:ih})}};return R.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:et.background},children:[R.jsx(H6,{pokemon:$r,onClose:()=>Zr(null),onAdd:gl}),R.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:It.slice(0,Ta).map(z=>R.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${z.type==="success"?"bg-green-600":z.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:z.message},z.id))}),R.jsxs("div",{className:"flex min-h-screen",children:[R.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Kt?"lg:w-20":"w-64"} ${Pt?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:et.card},children:R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsxs("div",{className:`flex items-center h-16 p-4 ${Kt?"justify-center":"justify-between"}`,children:[R.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${Kt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"Menu"}),R.jsx("button",{onClick:()=>Jc(!Kt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:et.textMuted},children:Kt?R.jsx(L6,{}):R.jsx(P6,{})})]}),R.jsx("nav",{className:"px-4 flex-grow",children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsxs("button",{onClick:()=>{re("builder"),ke(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${vn==="builder"?"bg-purple-500/30":""} ${Kt?"justify-center":""}`,children:[R.jsx(V6,{})," ",R.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Kt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),R.jsx("li",{children:R.jsxs("button",{onClick:()=>{re("allTeams"),ke(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${vn==="allTeams"?"bg-purple-500/30":""} ${Kt?"justify-center":""}`,children:[R.jsx(k6,{})," ",R.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Kt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"All Teams"})]})})]})})]})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[R.jsx("button",{onClick:()=>ke(!Pt),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:et.cardLight},children:Pt?R.jsx(zA,{}):R.jsx(M6,{})}),R.jsxs("div",{className:"flex-1 text-center px-2 overflow-hidden",children:[R.jsx("h1",{className:"text-sm sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"Pokmon Team Builder"}),R.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"By: Enzo Esmeraldo"})]}),R.jsx("div",{className:"w-10 lg:hidden"})]}),R.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:dr()}),R.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:et.cardLight},children:[R.jsxs("p",{className:"text-sm",style:{color:et.textMuted},children:["Developed and built by ",R.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"Enzo Esmeraldo"})," "]}),R.jsxs("p",{className:"text-xs mt-2",style:{color:et.textMuted},children:["Using the ",R.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]}),R.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[R.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:et.textMuted},children:R.jsx(I6,{})}),R.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:et.textMuted},children:R.jsx(C6,{})})]})]})]})]}),R.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: ${et.card}; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${et.primary}; border-radius: 20px; border: 3px solid ${et.card}; } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } `})]})}ow.createRoot(document.getElementById("root")).render(R.jsx(Ev.StrictMode,{children:R.jsx(Q6,{})}));
