(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function w_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R_={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=Symbol.for("react.transitional.element"),m2=Symbol.for("react.fragment");function I_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:d2,type:t,key:i,ref:e!==void 0?e:null,props:n}}Wc.Fragment=m2;Wc.jsx=I_;Wc.jsxs=I_;R_.exports=Wc;var m=R_.exports,C_={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.transitional.element"),g2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),_2=Symbol.for("react.consumer"),T2=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),b2=Symbol.for("react.suspense"),A2=Symbol.for("react.memo"),x_=Symbol.for("react.lazy"),Sp=Symbol.iterator;function S2(t){return t===null||typeof t!="object"?null:(t=Sp&&t[Sp]||t["@@iterator"],typeof t=="function"?t:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D_=Object.assign,k_={};function Ra(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||N_}Ra.prototype.isReactComponent={};Ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O_(){}O_.prototype=Ra.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=k_,this.updater=n||N_}var om=am.prototype=new O_;om.constructor=am;D_(om,Ra.prototype);om.isPureReactComponent=!0;var wp=Array.isArray,Le={H:null,A:null,T:null,S:null,V:null},M_=Object.prototype.hasOwnProperty;function lm(t,e,n,i,s,r){return n=r.ref,{$$typeof:rm,type:t,key:e,ref:n!==void 0?n:null,props:r}}function w2(t,e){return lm(t.type,e,void 0,void 0,void 0,t.props)}function um(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function R2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rp=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R2(""+t.key):e.toString(36)}function Ip(){}function I2(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Ip,Ip):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Rr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case rm:case g2:a=!0;break;case x_:return a=t._init,Rr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+qh(t,0):i,wp(s)?(n="",a!=null&&(n=a.replace(Rp,"$&/")+"/"),Rr(s,e,n,"",function(h){return h})):s!=null&&(um(s)&&(s=w2(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Rp,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(wp(t))for(var u=0;u<t.length;u++)i=t[u],r=l+qh(i,u),a+=Rr(i,e,n,r,s);else if(u=S2(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+qh(i,u++),a+=Rr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return Rr(I2(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function cu(t,e,n){if(t==null)return t;var i=[],s=0;return Rr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function C2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function x2(){}ae.Children={map:cu,forEach:function(t,e,n){cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cu(t,function(){e++}),e},toArray:function(t){return cu(t,function(e){return e})||[]},only:function(t){if(!um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ra;ae.Fragment=p2;ae.Profiler=v2;ae.PureComponent=am;ae.StrictMode=y2;ae.Suspense=b2;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Le.H.useMemoCache(t)}};ae.cache=function(t){return function(){return t.apply(null,arguments)}};ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=D_({},t.props),s=t.key,r=void 0;if(e!=null)for(a in e.ref!==void 0&&(r=void 0),e.key!==void 0&&(s=""+e.key),e)!M_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return lm(t.type,s,void 0,void 0,r,i)};ae.createContext=function(t){return t={$$typeof:T2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:_2,_context:t},t};ae.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)M_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return lm(t,r,void 0,void 0,null,s)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:E2,render:t}};ae.isValidElement=um;ae.lazy=function(t){return{$$typeof:x_,_payload:{_status:-1,_result:t},_init:C2}};ae.memo=function(t,e){return{$$typeof:A2,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Le.T,n={};Le.T=n;try{var i=t(),s=Le.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(x2,Cp)}catch(r){Cp(r)}finally{Le.T=e}};ae.unstable_useCacheRefresh=function(){return Le.H.useCacheRefresh()};ae.use=function(t){return Le.H.use(t)};ae.useActionState=function(t,e,n){return Le.H.useActionState(t,e,n)};ae.useCallback=function(t,e){return Le.H.useCallback(t,e)};ae.useContext=function(t){return Le.H.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t,e){return Le.H.useDeferredValue(t,e)};ae.useEffect=function(t,e,n){var i=Le.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};ae.useId=function(){return Le.H.useId()};ae.useImperativeHandle=function(t,e,n){return Le.H.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Le.H.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Le.H.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Le.H.useMemo(t,e)};ae.useOptimistic=function(t,e){return Le.H.useOptimistic(t,e)};ae.useReducer=function(t,e,n){return Le.H.useReducer(t,e,n)};ae.useRef=function(t){return Le.H.useRef(t)};ae.useState=function(t){return Le.H.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Le.H.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Le.H.useTransition()};ae.version="19.1.0";C_.exports=ae;var F=C_.exports;const cm=w_(F);var V_={exports:{}},Jc={},P_={exports:{}},L_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,J){var B=P.length;P.push(J);e:for(;0<B;){var ne=B-1>>>1,De=P[ne];if(0<s(De,J))P[ne]=J,P[B]=De,B=ne;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var J=P[0],B=P.pop();if(B!==J){P[0]=B;e:for(var ne=0,De=P.length,Ni=De>>>1;ne<Ni;){var Rt=2*(ne+1)-1,oe=P[Rt],It=Rt+1,rt=P[It];if(0>s(oe,B))It<De&&0>s(rt,oe)?(P[ne]=rt,P[It]=B,ne=It):(P[ne]=oe,P[Rt]=B,ne=Rt);else if(It<De&&0>s(rt,B))P[ne]=rt,P[It]=B,ne=It;else break e}}return J}function s(P,J){var B=P.sortIndex-J.sortIndex;return B!==0?B:P.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,g=3,_=!1,M=!1,k=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var J=n(h);J!==null;){if(J.callback===null)i(h);else if(J.startTime<=P)i(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(h)}}function O(P){if(k=!1,D(P),!M)if(n(u)!==null)M=!0,q||(q=!0,C());else{var J=n(h);J!==null&&Bt(O,J.startTime-P)}}var q=!1,T=-1,v=5,b=-1;function S(){return N?!0:!(t.unstable_now()-b<v)}function I(){if(N=!1,q){var P=t.unstable_now();b=P;var J=!0;try{e:{M=!1,k&&(k=!1,E(T),T=-1),_=!0;var B=g;try{t:{for(D(P),p=n(u);p!==null&&!(p.expirationTime>P&&S());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,g=p.priorityLevel;var De=ne(p.expirationTime<=P);if(P=t.unstable_now(),typeof De=="function"){p.callback=De,D(P),J=!0;break t}p===n(u)&&i(u),D(P)}else i(u);p=n(u)}if(p!==null)J=!0;else{var Ni=n(h);Ni!==null&&Bt(O,Ni.startTime-P),J=!1}}break e}finally{p=null,g=B,_=!1}J=void 0}}finally{J?C():q=!1}}}var C;if(typeof R=="function")C=function(){R(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,zt=w.port2;w.port1.onmessage=I,C=function(){zt.postMessage(null)}}else C=function(){A(I,0)};function Bt(P,J){T=A(function(){P(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var B=g;g=J;try{return P()}finally{g=B}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=g;g=P;try{return J()}finally{g=B}},t.unstable_scheduleCallback=function(P,J,B){var ne=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,P){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=B+De,P={id:d++,callback:J,priorityLevel:P,startTime:B,expirationTime:De,sortIndex:-1},B>ne?(P.sortIndex=B,e(h,P),n(u)===null&&P===n(h)&&(k?(E(T),T=-1):k=!0,Bt(O,B-ne))):(P.sortIndex=De,e(u,P),M||_||(M=!0,q||(q=!0,C()))),P},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(P){var J=g;return function(){var B=g;g=J;try{return P.apply(this,arguments)}finally{g=B}}}})(L_);P_.exports=L_;var N2=P_.exports,U_={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2=F;function j_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Li(){}var Lt={d:{f:Li,r:function(){throw Error(j_(522))},D:Li,C:Li,L:Li,m:Li,X:Li,S:Li,M:Li},p:0,findDOMNode:null},k2=Symbol.for("react.portal");function O2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k2,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var So=D2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function eh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Lt;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(j_(299));return O2(t,e,null,n)};jt.flushSync=function(t){var e=So.T,n=Lt.p;try{if(So.T=null,Lt.p=2,t)return t()}finally{So.T=e,Lt.p=n,Lt.d.f()}};jt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Lt.d.C(t,e))};jt.prefetchDNS=function(t){typeof t=="string"&&Lt.d.D(t)};jt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=eh(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Lt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Lt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};jt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=eh(e.as,e.crossOrigin);Lt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Lt.d.M(t)};jt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=eh(n,e.crossOrigin);Lt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};jt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=eh(e.as,e.crossOrigin);Lt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Lt.d.m(t)};jt.requestFormReset=function(t){Lt.d.r(t)};jt.unstable_batchedUpdates=function(t,e){return t(e)};jt.useFormState=function(t,e,n){return So.H.useFormState(t,e,n)};jt.useFormStatus=function(){return So.H.useHostTransitionStatus()};jt.version="19.1.0";function z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z_)}catch(t){console.error(t)}}z_(),U_.exports=jt;var M2=U_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=N2,B_=F,V2=M2;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xp(t){if(dl(t)!==t)throw Error(U(188))}function P2(t){var e=t.alternate;if(!e){if(e=dl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return xp(s),t;if(r===i)return xp(s),e;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function H_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=H_(t),e!==null)return e;t=t.sibling}return null}var Ve=Object.assign,L2=Symbol.for("react.element"),hu=Symbol.for("react.transitional.element"),po=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),Q_=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),fm=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),zf=Symbol.for("react.activity"),j2=Symbol.for("react.memo_cache_sentinel"),Np=Symbol.iterator;function oo(t){return t===null||typeof t!="object"?null:(t=Np&&t[Np]||t["@@iterator"],typeof t=="function"?t:null)}var z2=Symbol.for("react.client.reference");function Bf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===z2?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Lf:return"Profiler";case G_:return"StrictMode";case Uf:return"Suspense";case jf:return"SuspenseList";case zf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case po:return"Portal";case oi:return(t.displayName||"Context")+".Provider";case Q_:return(t._context.displayName||"Context")+".Consumer";case hm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fm:return e=t.displayName||null,e!==null?e:Bf(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return Bf(t(e))}catch{}}return null}var yo=Array.isArray,ee=B_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=V2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qs={pending:!1,data:null,method:null,action:null},qf=[],Vr=-1;function Kn(t){return{current:t}}function yt(t){0>Vr||(t.current=qf[Vr],qf[Vr]=null,Vr--)}function Ue(t,e){Vr++,qf[Vr]=t.current,t.current=e}var jn=Kn(null),Go=Kn(null),is=Kn(null),tc=Kn(null);function nc(t,e){switch(Ue(is,e),Ue(Go,t),Ue(jn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Vy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Vy(e),t=uE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yt(jn),Ue(jn,t)}function aa(){yt(jn),yt(Go),yt(is)}function Ff(t){t.memoizedState!==null&&Ue(tc,t);var e=jn.current,n=uE(e,t.type);e!==n&&(Ue(Go,t),Ue(jn,n))}function ic(t){Go.current===t&&(yt(jn),yt(Go)),tc.current===t&&(yt(tc),tl._currentValue=qs)}var Hf=Object.prototype.hasOwnProperty,dm=ct.unstable_scheduleCallback,Fh=ct.unstable_cancelCallback,B2=ct.unstable_shouldYield,q2=ct.unstable_requestPaint,zn=ct.unstable_now,F2=ct.unstable_getCurrentPriorityLevel,Y_=ct.unstable_ImmediatePriority,K_=ct.unstable_UserBlockingPriority,sc=ct.unstable_NormalPriority,H2=ct.unstable_LowPriority,$_=ct.unstable_IdlePriority,G2=ct.log,Q2=ct.unstable_setDisableYieldValue,ml=null,sn=null;function Wi(t){if(typeof G2=="function"&&Q2(t),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ml,t)}catch{}}var rn=Math.clz32?Math.clz32:$2,Y2=Math.log,K2=Math.LN2;function $2(t){return t>>>=0,t===0?32:31-(Y2(t)/K2|0)|0}var fu=256,du=4194304;function Ls(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function th(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=Ls(i):(a&=l,a!==0?s=Ls(a):n||(n=l&~t,n!==0&&(s=Ls(n))))):(l=i&~r,l!==0?s=Ls(l):a!==0?s=Ls(a):n||(n=i&~t,n!==0&&(s=Ls(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function gl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function X2(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X_(){var t=fu;return fu<<=1,!(fu&4194048)&&(fu=256),t}function Z_(){var t=du;return du<<=1,!(du&62914560)&&(du=4194304),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z2(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-rn(n),p=1<<d;l[d]=0,u[d]=-1;var g=h[d];if(g!==null)for(h[d]=null,d=0;d<g.length;d++){var _=g[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&W_(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function W_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-rn(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function J_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-rn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function mm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function e0(){var t=Te.p;return t!==0?t:(t=window.event,t===void 0?32:_E(t.type))}function W2(t,e){var n=Te.p;try{return Te.p=t,e()}finally{Te.p=n}}var Rs=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Rs,Yt="__reactProps$"+Rs,Ia="__reactContainer$"+Rs,Gf="__reactEvents$"+Rs,J2="__reactListeners$"+Rs,eA="__reactHandles$"+Rs,Dp="__reactResources$"+Rs,yl="__reactMarker$"+Rs;function pm(t){delete t[Ot],delete t[Yt],delete t[Gf],delete t[J2],delete t[eA]}function Pr(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ia]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uy(t);t!==null;){if(n=t[Ot])return n;t=Uy(t)}return e}t=n,n=t.parentNode}return null}function Ca(t){if(t=t[Ot]||t[Ia]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function vo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Yr(t){var e=t[Dp];return e||(e=t[Dp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gt(t){t[yl]=!0}var t0=new Set,n0={};function sr(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(n0[t]=e,t=0;t<e.length;t++)t0.add(e[t])}var tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kp={},Op={};function nA(t){return Hf.call(Op,t)?!0:Hf.call(kp,t)?!1:tA.test(t)?Op[t]=!0:(kp[t]=!0,!1)}function ku(t,e,n){if(nA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function mu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ii(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Gh,Mp;function Ir(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||"",Mp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gh+t+Mp}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var g=_}Reflect.construct(t,[],p)}else{try{p.call()}catch(_){g=_}t.call(p.prototype)}}else{try{throw Error()}catch(_){g=_}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ir(n):""}function iA(t){switch(t.tag){case 26:case 27:case 5:return Ir(t.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return Yh(t.type,!1);case 11:return Yh(t.type.render,!1);case 1:return Yh(t.type,!0);case 31:return Ir("Activity");default:return""}}function Vp(t){try{var e="";do e+=iA(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sA(t){var e=i0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=sA(t))}function s0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=i0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rA=/[\n"\\]/g;function mn(t){return t.replace(rA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qf(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+hn(e)):t.value!==""+hn(e)&&(t.value=""+hn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Yf(t,a,hn(e)):n!=null?Yf(t,a,hn(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+hn(l):t.removeAttribute("name")}function r0(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+hn(n):"",e=e!=null?""+hn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function Yf(t,e,n){e==="number"&&ac(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Kr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+hn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function a0(t,e,n){if(e!=null&&(e=""+hn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+hn(n):""}function o0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(yo(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=hn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||aA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function l0(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Pp(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&Pp(t,r,e[r])}function ym(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ou(t){return lA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Kf=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,$r=null;function Lp(t){var e=Ca(t);if(e&&(t=e.stateNode)){var n=t[Yt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Qf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Yt]||null;if(!s)throw Error(U(90));Qf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&s0(i)}break e;case"textarea":a0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Kr(t,!!n.multiple,e,!1)}}}var Kh=!1;function u0(t,e,n){if(Kh)return t(e,n);Kh=!0;try{var i=t(e);return i}finally{if(Kh=!1,(Lr!==null||$r!==null)&&(hh(),Lr&&(e=Lr,t=$r,$r=Lr=null,Lp(e),t)))for(e=0;e<t.length;e++)Lp(t[e])}}function Qo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Yt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=!1;if(vi)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){$f=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{$f=!1}var Ji=null,_m=null,Mu=null;function c0(){if(Mu)return Mu;var t,e=_m,n=e.length,i,s="value"in Ji?Ji.value:Ji.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return Mu=s.slice(t,1<i?1-i:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function Up(){return!1}function $t(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?gu:Up,this.isPropagationStopped=Up,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=$t(rr),vl=Ve({},rr,{view:0,detail:0}),uA=$t(vl),$h,Xh,uo,ih=Ve({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?($h=t.screenX-uo.screenX,Xh=t.screenY-uo.screenY):Xh=$h=0,uo=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),jp=$t(ih),cA=Ve({},ih,{dataTransfer:0}),hA=$t(cA),fA=Ve({},vl,{relatedTarget:0}),Zh=$t(fA),dA=Ve({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=$t(dA),gA=Ve({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pA=$t(gA),yA=Ve({},rr,{data:0}),zp=$t(yA),vA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function Tm(){return EA}var bA=Ve({},vl,{key:function(t){if(t.key){var e=vA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AA=$t(bA),SA=Ve({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=$t(SA),wA=Ve({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),RA=$t(wA),IA=Ve({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CA=$t(IA),xA=Ve({},ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=$t(xA),DA=Ve({},rr,{newState:0,oldState:0}),kA=$t(DA),OA=[9,13,27,32],Em=vi&&"CompositionEvent"in window,wo=null;vi&&"documentMode"in document&&(wo=document.documentMode);var MA=vi&&"TextEvent"in window&&!wo,h0=vi&&(!Em||wo&&8<wo&&11>=wo),qp=" ",Fp=!1;function f0(t,e){switch(t){case"keyup":return OA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function VA(t,e){switch(t){case"compositionend":return d0(e);case"keypress":return e.which!==32?null:(Fp=!0,qp);case"textInput":return t=e.data,t===qp&&Fp?null:t;default:return null}}function PA(t,e){if(Ur)return t==="compositionend"||!Em&&f0(t,e)?(t=c0(),Mu=_m=Ji=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h0&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function m0(t,e,n,i){Lr?$r?$r.push(i):$r=[i]:Lr=i,e=Sc(e,"onChange"),0<e.length&&(n=new nh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ro=null,Yo=null;function UA(t){aE(t,0)}function sh(t){var e=vo(t);if(s0(e))return t}function Gp(t,e){if(t==="change")return e}var g0=!1;if(vi){var Wh;if(vi){var Jh="oninput"in document;if(!Jh){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Jh=typeof Qp.oninput=="function"}Wh=Jh}else Wh=!1;g0=Wh&&(!document.documentMode||9<document.documentMode)}function Yp(){Ro&&(Ro.detachEvent("onpropertychange",p0),Yo=Ro=null)}function p0(t){if(t.propertyName==="value"&&sh(Yo)){var e=[];m0(e,Yo,t,vm(t)),u0(UA,e)}}function jA(t,e,n){t==="focusin"?(Yp(),Ro=e,Yo=n,Ro.attachEvent("onpropertychange",p0)):t==="focusout"&&Yp()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(Yo)}function BA(t,e){if(t==="click")return sh(e)}function qA(t,e){if(t==="input"||t==="change")return sh(e)}function FA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:FA;function Ko(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Hf.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function Kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,e){var n=Kp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kp(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ac(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var HA=vi&&"documentMode"in document&&11>=document.documentMode,jr=null,Xf=null,Io=null,Zf=!1;function Xp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zf||jr==null||jr!==ac(i)||(i=jr,"selectionStart"in i&&bm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Io&&Ko(Io,i)||(Io=i,i=Sc(Xf,"onSelect"),0<i.length&&(e=new nh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=jr)))}function Vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},ef={},_0={};vi&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function ar(t){if(ef[t])return ef[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _0)return ef[t]=e[n];return t}var T0=ar("animationend"),E0=ar("animationiteration"),b0=ar("animationstart"),GA=ar("transitionrun"),QA=ar("transitionstart"),YA=ar("transitioncancel"),A0=ar("transitionend"),S0=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function Nn(t,e){S0.set(t,e),sr(e,[t])}var Zp=new WeakMap;function gn(t,e){if(typeof t=="object"&&t!==null){var n=Zp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Vp(e)},Zp.set(t,e),e)}return{value:t,source:e,stack:Vp(e)}}var cn=[],Br=0,Am=0;function rh(){for(var t=Br,e=Am=Br=0;e<t;){var n=cn[e];cn[e++]=null;var i=cn[e];cn[e++]=null;var s=cn[e];cn[e++]=null;var r=cn[e];if(cn[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&w0(n,s,r)}}function ah(t,e,n,i){cn[Br++]=t,cn[Br++]=e,cn[Br++]=n,cn[Br++]=i,Am|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Sm(t,e,n,i){return ah(t,e,n,i),oc(t)}function xa(t,e){return ah(t,null,null,e),oc(t)}function w0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-rn(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function oc(t){if(50<Lo)throw Lo=0,_d=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qr={};function KA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new KA(t,e,n,i)}function wm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function R0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Pu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")wm(t)&&(a=1);else if(typeof t=="string")a=XS(t,n,jn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case zf:return t=nn(31,n,e,s),t.elementType=zf,t.lanes=r,t;case Mr:return Fs(n.children,s,r,e);case G_:a=8,s|=24;break;case Lf:return t=nn(12,n,e,s|2),t.elementType=Lf,t.lanes=r,t;case Uf:return t=nn(13,n,e,s),t.elementType=Uf,t.lanes=r,t;case jf:return t=nn(19,n,e,s),t.elementType=jf,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U2:case oi:a=10;break e;case Q_:a=9;break e;case hm:a=11;break e;case fm:a=14;break e;case qi:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=nn(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Fs(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function tf(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function nf(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Fr=[],Hr=0,lc=null,uc=0,fn=[],dn=0,Hs=null,li=1,ui="";function Us(t,e){Fr[Hr++]=uc,Fr[Hr++]=lc,lc=t,uc=e}function I0(t,e,n){fn[dn++]=li,fn[dn++]=ui,fn[dn++]=Hs,Hs=t;var i=li;t=ui;var s=32-rn(i)-1;i&=~(1<<s),n+=1;var r=32-rn(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,li=1<<32-rn(e)+s|n<<s|i,ui=r+t}else li=1<<r|n<<s|i,ui=t}function Rm(t){t.return!==null&&(Us(t,1),I0(t,1,0))}function Im(t){for(;t===lc;)lc=Fr[--Hr],Fr[Hr]=null,uc=Fr[--Hr],Fr[Hr]=null;for(;t===Hs;)Hs=fn[--dn],fn[dn]=null,ui=fn[--dn],fn[dn]=null,li=fn[--dn],fn[dn]=null}var Pt=null,Ke=null,_e=!1,Gs=null,Ln=!1,Jf=Error(U(519));function $s(t){var e=Error(U(418,""));throw $o(gn(e,t)),Jf}function Wp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ot]=t,e[Yt]=i,n){case"dialog":ce("cancel",e),ce("close",e);break;case"iframe":case"object":case"embed":ce("load",e);break;case"video":case"audio":for(n=0;n<Wo.length;n++)ce(Wo[n],e);break;case"source":ce("error",e);break;case"img":case"image":case"link":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"input":ce("invalid",e),r0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),rc(e);break;case"select":ce("invalid",e);break;case"textarea":ce("invalid",e),o0(e,i.value,i.defaultValue,i.children),rc(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||lE(e.textContent,n)?(i.popover!=null&&(ce("beforetoggle",e),ce("toggle",e)),i.onScroll!=null&&ce("scroll",e),i.onScrollEnd!=null&&ce("scrollend",e),i.onClick!=null&&(e.onclick=mh),e=!0):e=!1,e||$s(t)}function Jp(t){for(Pt=t.return;Pt;)switch(Pt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Pt=Pt.return}}function co(t){if(t!==Pt)return!1;if(!_e)return Jp(t),_e=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||wd(t.type,t.memoizedProps)),n=!n),n&&Ke&&$s(t),Jp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ke=Cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ke=null}}else e===27?(e=Ke,Is(t.type)?(t=Cd,Cd=null,Ke=t):Ke=e):Ke=Pt?Cn(t.stateNode.nextSibling):null;return!0}function _l(){Ke=Pt=null,_e=!1}function ey(){var t=Gs;return t!==null&&(Gt===null?Gt=t:Gt.push.apply(Gt,t),Gs=null),t}function $o(t){Gs===null?Gs=[t]:Gs.push(t)}var ed=Kn(null),or=null,ci=null;function Hi(t,e,n){Ue(ed,e._currentValue),e._currentValue=n}function gi(t){t._currentValue=ed.current,yt(ed)}function td(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function nd(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),td(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),td(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Tl(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=s.type;ln(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===tc.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(tl):t=[tl])}s=s.return}t!==null&&nd(e,t,n,i),e.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){or=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mt(t){return C0(or,t)}function pu(t,e){return or===null&&Xs(t),C0(t,e)}function C0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(U(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var $A=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},XA=ct.unstable_scheduleCallback,ZA=ct.unstable_NormalPriority,at={$$typeof:oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new $A,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&XA(ZA,function(){t.controller.abort()})}var Co=null,id=0,ua=0,Xr=null;function WA(t,e){if(Co===null){var n=Co=[];id=0,ua=Zm(),Xr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return id++,e.then(ty,ty),e}function ty(){if(--id===0&&Co!==null){Xr!==null&&(Xr.status="fulfilled");var t=Co;Co=null,ua=0,Xr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JA(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var ny=ee.S;ee.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&WA(t,e),ny!==null&&ny(t,e)};var Qs=Kn(null);function xm(){var t=Qs.current;return t!==null?t:ke.pooledCache}function Lu(t,e){e===null?Ue(Qs,Qs.current):Ue(Qs,e.pool)}function x0(){var t=xm();return t===null?null:{parent:at._currentValue,pool:t}}var bl=Error(U(460)),N0=Error(U(474)),oh=Error(U(542)),sd={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yu(){}function D0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(yu,yu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ry(t),t;default:if(typeof e.status=="string")e.then(yu,yu);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ry(t),t}throw xo=e,bl}}var xo=null;function sy(){if(xo===null)throw Error(U(459));var t=xo;return xo=null,t}function ry(t){if(t===bl||t===oh)throw Error(U(483))}var Fi=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Se&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=oc(t),w0(t,null,n),e}return ah(t,i,e,n),oc(t)}function No(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,J_(t,n)}}function sf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ad=!1;function Do(){if(ad){var t=Xr;if(t!==null)throw t}}function ko(t,e,n,i){ad=!1;var s=t.updateQueue;Fi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,d=h=u=null,l=r;do{var g=l.lane&-536870913,_=g!==l.lane;if(_?(ge&g)===g:(i&g)===g){g!==0&&g===ua&&(ad=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var M=t,k=l;g=e;var N=n;switch(k.tag){case 1:if(M=k.payload,typeof M=="function"){p=M.call(N,p,g);break e}p=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=k.payload,g=typeof M=="function"?M.call(N,p,g):M,g==null)break e;p=Ve({},p,g);break e;case 2:Fi=!0}}g=l.callback,g!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[g]:_.push(g))}else _={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;_=l,l=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),_s|=a,t.lanes=a,t.memoizedState=p}}function k0(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function O0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)k0(n[t],e)}var ca=Kn(null),hc=Kn(0);function ay(t,e){t=Ei,Ue(hc,t),Ue(ca,e),Ei=t|e.baseLanes}function od(){Ue(hc,Ei),Ue(ca,ca.current)}function Dm(){Ei=hc.current,yt(ca),yt(hc)}var ys=0,ue=null,Ie=null,nt=null,fc=!1,Zr=!1,Zs=!1,dc=0,Xo=0,Wr=null,eS=0;function Ze(){throw Error(U(321))}function km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function Om(t,e,n,i,s,r){return ys=r,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?cT:hT,Zs=!1,r=n(i,s),Zs=!1,Zr&&(r=V0(e,n,i,s)),M0(t),r}function M0(t){ee.H=mc;var e=Ie!==null&&Ie.next!==null;if(ys=0,nt=Ie=ue=null,fc=!1,Xo=0,Wr=null,e)throw Error(U(300));t===null||pt||(t=t.dependencies,t!==null&&cc(t)&&(pt=!0))}function V0(t,e,n,i){ue=t;var s=0;do{if(Zr&&(Wr=null),Xo=0,Zr=!1,25<=s)throw Error(U(301));if(s+=1,nt=Ie=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ee.H=oS,r=e(n,i)}while(Zr);return r}function tS(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?Al(e):e,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(ue.flags|=1024),e}function Mm(){var t=dc!==0;return dc=0,t}function Vm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Pm(t){if(fc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}fc=!1}ys=0,nt=Ie=ue=null,Zr=!1,Xo=dc=0,Wr=null}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ue.memoizedState=nt=t:nt=nt.next=t,nt}function st(){if(Ie===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=nt===null?ue.memoizedState:nt.next;if(e!==null)nt=e,Ie=t;else{if(t===null)throw ue.alternate===null?Error(U(467)):Error(U(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},nt===null?ue.memoizedState=nt=t:nt=nt.next=t}return nt}function Lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var e=Xo;return Xo+=1,Wr===null&&(Wr=[]),t=D0(Wr,t,e),e=ue,(nt===null?e.memoizedState:nt.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?cT:hT),t}function lh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===oi)return Mt(t)}throw Error(U(438,String(t)))}function Um(t){var e=null,n=ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Lm(),ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=j2;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Uu(t){var e=st();return jm(e,Ie,t)}function jm(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,h=e,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ge&p)===p:(ys&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===ua&&(d=!0);else if((ys&g)===g){h=h.next,g===ua&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=r):u=u.next=p,ue.lanes|=g,_s|=g;p=h.action,Zs&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,ue.lanes|=p,_s|=p;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=l,!ln(r,t.memoizedState)&&(pt=!0,d&&(n=Xr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function rf(t){var e=st(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);ln(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function P0(t,e,n){var i=ue,s=st(),r=_e;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!ln((Ie||s).memoizedState,n);a&&(s.memoizedState=n,pt=!0),s=s.queue;var l=j0.bind(null,i,s,t);if(Sl(2048,8,l,[t]),s.getSnapshot!==e||a||nt!==null&&nt.memoizedState.tag&1){if(i.flags|=2048,ha(9,uh(),U0.bind(null,i,s,n,e),null),ke===null)throw Error(U(349));r||ys&124||L0(i,e,n)}return n}function L0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e=Lm(),ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U0(t,e,n,i){e.value=n,e.getSnapshot=i,z0(e)&&B0(t)}function j0(t,e,n){return n(function(){z0(e)&&B0(t)})}function z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function B0(t){var e=xa(t,2);e!==null&&on(e,t,2)}function ld(t){var e=Ft();if(typeof t=="function"){var n=t;if(t=n(),Zs){Wi(!0);try{n()}finally{Wi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function q0(t,e,n,i){return t.baseState=n,jm(t,Ie,typeof i=="function"?i:_i)}function nS(t,e,n,i,s){if(ch(t))throw Error(U(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};ee.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,F0(e,r)):(r.next=n.next,e.pending=n.next=r)}}function F0(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=ee.T,a={};ee.T=a;try{var l=n(s,i),u=ee.S;u!==null&&u(a,l),oy(t,e,l)}catch(h){ud(t,e,h)}finally{ee.T=r}}else try{r=n(s,i),oy(t,e,r)}catch(h){ud(t,e,h)}}function oy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ly(t,e,i)},function(i){return ud(t,e,i)}):ly(t,e,n)}function ly(t,e,n){e.status="fulfilled",e.value=n,H0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,F0(t,n)))}function ud(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,H0(e),e=e.next;while(e!==i)}t.action=null}function H0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function G0(t,e){return e}function uy(t,e){if(_e){var n=ke.formState;if(n!==null){e:{var i=ue;if(_e){if(Ke){t:{for(var s=Ke,r=Ln;s.nodeType!==8;){if(!r){s=null;break t}if(s=Cn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ke=Cn(s.nextSibling),i=s.data==="F!";break e}}$s(i)}i=!1}i&&(e=n[0])}}return n=Ft(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:e},n.queue=i,n=oT.bind(null,ue,i),i.dispatch=n,i=ld(!1),r=Fm.bind(null,ue,!1,i.queue),i=Ft(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=nS.bind(null,ue,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function cy(t){var e=st();return Q0(e,Ie,t)}function Q0(t,e,n){if(e=jm(t,e,G0)[0],t=Uu(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Al(e)}catch(a){throw a===bl?oh:a}else i=e;e=st();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(ue.flags|=2048,ha(9,uh(),iS.bind(null,s,n),null)),[i,r,t]}function iS(t,e){t.action=e}function hy(t){var e=st(),n=Ie;if(n!==null)return Q0(e,n,t);st(),e=e.memoizedState,n=st();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ha(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ue.updateQueue,e===null&&(e=Lm(),ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function uh(){return{destroy:void 0,resource:void 0}}function Y0(){return st().memoizedState}function ju(t,e,n,i){var s=Ft();i=i===void 0?null:i,ue.flags|=t,s.memoizedState=ha(1|e,uh(),n,i)}function Sl(t,e,n,i){var s=st();i=i===void 0?null:i;var r=s.memoizedState.inst;Ie!==null&&i!==null&&km(i,Ie.memoizedState.deps)?s.memoizedState=ha(e,r,n,i):(ue.flags|=t,s.memoizedState=ha(1|e,r,n,i))}function fy(t,e){ju(8390656,8,t,e)}function K0(t,e){Sl(2048,8,t,e)}function $0(t,e){return Sl(4,2,t,e)}function X0(t,e){return Sl(4,4,t,e)}function Z0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W0(t,e,n){n=n!=null?n.concat([t]):null,Sl(4,4,Z0.bind(null,e,t),n)}function zm(){}function J0(t,e){var n=st();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&km(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function eT(t,e){var n=st();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&km(e,i[1]))return i[0];if(i=t(),Zs){Wi(!0);try{t()}finally{Wi(!1)}}return n.memoizedState=[i,e],i}function Bm(t,e,n){return n===void 0||ys&1073741824?t.memoizedState=e:(t.memoizedState=n,t=HT(),ue.lanes|=t,_s|=t,n)}function tT(t,e,n,i){return ln(n,e)?n:ca.current!==null?(t=Bm(t,n,i),ln(t,e)||(pt=!0),t):ys&42?(t=HT(),ue.lanes|=t,_s|=t,e):(pt=!0,t.memoizedState=n)}function nT(t,e,n,i,s){var r=Te.p;Te.p=r!==0&&8>r?r:8;var a=ee.T,l={};ee.T=l,Fm(t,!1,e,n);try{var u=s(),h=ee.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=JA(u,i);Oo(t,e,d,an(t))}else Oo(t,e,i,an(t))}catch(p){Oo(t,e,{then:function(){},status:"rejected",reason:p},an())}finally{Te.p=r,ee.T=a}}function sS(){}function cd(t,e,n,i){if(t.tag!==5)throw Error(U(476));var s=iT(t).queue;nT(t,s,e,qs,n===null?sS:function(){return sT(t),n(i)})}function iT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:qs,baseState:qs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:qs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sT(t){var e=iT(t).next.queue;Oo(t,e,{},an())}function qm(){return Mt(tl)}function rT(){return st().memoizedState}function aT(){return st().memoizedState}function rS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=an();t=ss(n);var i=rs(e,t,n);i!==null&&(on(i,e,n),No(i,e,n)),e={cache:Cm()},t.payload=e;return}e=e.return}}function aS(t,e,n){var i=an();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ch(t)?lT(e,n):(n=Sm(t,e,n,i),n!==null&&(on(n,t,i),uT(n,e,i)))}function oT(t,e,n){var i=an();Oo(t,e,n,i)}function Oo(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(t))lT(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,ln(l,a))return ah(t,e,s,0),ke===null&&rh(),!1}catch{}finally{}if(n=Sm(t,e,s,i),n!==null)return on(n,t,i),uT(n,e,i),!0}return!1}function Fm(t,e,n,i){if(i={lane:2,revertLane:Zm(),action:i,hasEagerState:!1,eagerState:null,next:null},ch(t)){if(e)throw Error(U(479))}else e=Sm(t,n,i,2),e!==null&&on(e,t,2)}function ch(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function lT(t,e){Zr=fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,J_(t,n)}}var mc={readContext:Mt,use:lh,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},cT={readContext:Mt,use:lh,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:fy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ju(4194308,4,Z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ju(4194308,4,t,e)},useInsertionEffect:function(t,e){ju(4,2,t,e)},useMemo:function(t,e){var n=Ft();e=e===void 0?null:e;var i=t();if(Zs){Wi(!0);try{t()}finally{Wi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ft();if(n!==void 0){var s=n(e);if(Zs){Wi(!0);try{n(e)}finally{Wi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=aS.bind(null,ue,t),[i.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:function(t){t=ld(t);var e=t.queue,n=oT.bind(null,ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:zm,useDeferredValue:function(t,e){var n=Ft();return Bm(n,t,e)},useTransition:function(){var t=ld(!1);return t=nT.bind(null,ue,t.queue,!0,!1),Ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ue,s=Ft();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ke===null)throw Error(U(349));ge&124||L0(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,fy(j0.bind(null,i,r,t),[t]),i.flags|=2048,ha(9,uh(),U0.bind(null,i,r,n,e),null),n},useId:function(){var t=Ft(),e=ke.identifierPrefix;if(_e){var n=ui,i=li;n=(i&~(1<<32-rn(i)-1)).toString(32)+n,e=""+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=eS++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:qm,useFormState:uy,useActionState:uy,useOptimistic:function(t){var e=Ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Fm.bind(null,ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:Um,useCacheRefresh:function(){return Ft().memoizedState=rS.bind(null,ue)}},hT={readContext:Mt,use:lh,useCallback:J0,useContext:Mt,useEffect:K0,useImperativeHandle:W0,useInsertionEffect:$0,useLayoutEffect:X0,useMemo:eT,useReducer:Uu,useRef:Y0,useState:function(){return Uu(_i)},useDebugValue:zm,useDeferredValue:function(t,e){var n=st();return tT(n,Ie.memoizedState,t,e)},useTransition:function(){var t=Uu(_i)[0],e=st().memoizedState;return[typeof t=="boolean"?t:Al(t),e]},useSyncExternalStore:P0,useId:rT,useHostTransitionStatus:qm,useFormState:cy,useActionState:cy,useOptimistic:function(t,e){var n=st();return q0(n,Ie,t,e)},useMemoCache:Um,useCacheRefresh:aT},oS={readContext:Mt,use:lh,useCallback:J0,useContext:Mt,useEffect:K0,useImperativeHandle:W0,useInsertionEffect:$0,useLayoutEffect:X0,useMemo:eT,useReducer:rf,useRef:Y0,useState:function(){return rf(_i)},useDebugValue:zm,useDeferredValue:function(t,e){var n=st();return Ie===null?Bm(n,t,e):tT(n,Ie.memoizedState,t,e)},useTransition:function(){var t=rf(_i)[0],e=st().memoizedState;return[typeof t=="boolean"?t:Al(t),e]},useSyncExternalStore:P0,useId:rT,useHostTransitionStatus:qm,useFormState:hy,useActionState:hy,useOptimistic:function(t,e){var n=st();return Ie!==null?q0(n,Ie,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Um,useCacheRefresh:aT},Jr=null,Zo=0;function vu(t){var e=Zo;return Zo+=1,Jr===null&&(Jr=[]),D0(Jr,t,e)}function ho(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _u(t,e){throw e.$$typeof===L2?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function dy(t){var e=t._init;return e(t._payload)}function fT(t){function e(A,E){if(t){var R=A.deletions;R===null?(A.deletions=[E],A.flags|=16):R.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function i(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function s(A,E){return A=mi(A,E),A.index=0,A.sibling=null,A}function r(A,E,R){return A.index=R,t?(R=A.alternate,R!==null?(R=R.index,R<E?(A.flags|=67108866,E):R):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function a(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function l(A,E,R,D){return E===null||E.tag!==6?(E=tf(R,A.mode,D),E.return=A,E):(E=s(E,R),E.return=A,E)}function u(A,E,R,D){var O=R.type;return O===Mr?d(A,E,R.props.children,D,R.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qi&&dy(O)===E.type)?(E=s(E,R.props),ho(E,R),E.return=A,E):(E=Pu(R.type,R.key,R.props,null,A.mode,D),ho(E,R),E.return=A,E)}function h(A,E,R,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=nf(R,A.mode,D),E.return=A,E):(E=s(E,R.children||[]),E.return=A,E)}function d(A,E,R,D,O){return E===null||E.tag!==7?(E=Fs(R,A.mode,D,O),E.return=A,E):(E=s(E,R),E.return=A,E)}function p(A,E,R){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=tf(""+E,A.mode,R),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hu:return R=Pu(E.type,E.key,E.props,null,A.mode,R),ho(R,E),R.return=A,R;case po:return E=nf(E,A.mode,R),E.return=A,E;case qi:var D=E._init;return E=D(E._payload),p(A,E,R)}if(yo(E)||oo(E))return E=Fs(E,A.mode,R,null),E.return=A,E;if(typeof E.then=="function")return p(A,vu(E),R);if(E.$$typeof===oi)return p(A,pu(A,E),R);_u(A,E)}return null}function g(A,E,R,D){var O=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return O!==null?null:l(A,E,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case hu:return R.key===O?u(A,E,R,D):null;case po:return R.key===O?h(A,E,R,D):null;case qi:return O=R._init,R=O(R._payload),g(A,E,R,D)}if(yo(R)||oo(R))return O!==null?null:d(A,E,R,D,null);if(typeof R.then=="function")return g(A,E,vu(R),D);if(R.$$typeof===oi)return g(A,E,pu(A,R),D);_u(A,R)}return null}function _(A,E,R,D,O){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return A=A.get(R)||null,l(E,A,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case hu:return A=A.get(D.key===null?R:D.key)||null,u(E,A,D,O);case po:return A=A.get(D.key===null?R:D.key)||null,h(E,A,D,O);case qi:var q=D._init;return D=q(D._payload),_(A,E,R,D,O)}if(yo(D)||oo(D))return A=A.get(R)||null,d(E,A,D,O,null);if(typeof D.then=="function")return _(A,E,R,vu(D),O);if(D.$$typeof===oi)return _(A,E,R,pu(E,D),O);_u(E,D)}return null}function M(A,E,R,D){for(var O=null,q=null,T=E,v=E=0,b=null;T!==null&&v<R.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var S=g(A,T,R[v],D);if(S===null){T===null&&(T=b);break}t&&T&&S.alternate===null&&e(A,T),E=r(S,E,v),q===null?O=S:q.sibling=S,q=S,T=b}if(v===R.length)return n(A,T),_e&&Us(A,v),O;if(T===null){for(;v<R.length;v++)T=p(A,R[v],D),T!==null&&(E=r(T,E,v),q===null?O=T:q.sibling=T,q=T);return _e&&Us(A,v),O}for(T=i(T);v<R.length;v++)b=_(T,A,v,R[v],D),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=r(b,E,v),q===null?O=b:q.sibling=b,q=b);return t&&T.forEach(function(I){return e(A,I)}),_e&&Us(A,v),O}function k(A,E,R,D){if(R==null)throw Error(U(151));for(var O=null,q=null,T=E,v=E=0,b=null,S=R.next();T!==null&&!S.done;v++,S=R.next()){T.index>v?(b=T,T=null):b=T.sibling;var I=g(A,T,S.value,D);if(I===null){T===null&&(T=b);break}t&&T&&I.alternate===null&&e(A,T),E=r(I,E,v),q===null?O=I:q.sibling=I,q=I,T=b}if(S.done)return n(A,T),_e&&Us(A,v),O;if(T===null){for(;!S.done;v++,S=R.next())S=p(A,S.value,D),S!==null&&(E=r(S,E,v),q===null?O=S:q.sibling=S,q=S);return _e&&Us(A,v),O}for(T=i(T);!S.done;v++,S=R.next())S=_(T,A,v,S.value,D),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?v:S.key),E=r(S,E,v),q===null?O=S:q.sibling=S,q=S);return t&&T.forEach(function(C){return e(A,C)}),_e&&Us(A,v),O}function N(A,E,R,D){if(typeof R=="object"&&R!==null&&R.type===Mr&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case hu:e:{for(var O=R.key;E!==null;){if(E.key===O){if(O=R.type,O===Mr){if(E.tag===7){n(A,E.sibling),D=s(E,R.props.children),D.return=A,A=D;break e}}else if(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qi&&dy(O)===E.type){n(A,E.sibling),D=s(E,R.props),ho(D,R),D.return=A,A=D;break e}n(A,E);break}else e(A,E);E=E.sibling}R.type===Mr?(D=Fs(R.props.children,A.mode,D,R.key),D.return=A,A=D):(D=Pu(R.type,R.key,R.props,null,A.mode,D),ho(D,R),D.return=A,A=D)}return a(A);case po:e:{for(O=R.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){n(A,E.sibling),D=s(E,R.children||[]),D.return=A,A=D;break e}else{n(A,E);break}else e(A,E);E=E.sibling}D=nf(R,A.mode,D),D.return=A,A=D}return a(A);case qi:return O=R._init,R=O(R._payload),N(A,E,R,D)}if(yo(R))return M(A,E,R,D);if(oo(R)){if(O=oo(R),typeof O!="function")throw Error(U(150));return R=O.call(R),k(A,E,R,D)}if(typeof R.then=="function")return N(A,E,vu(R),D);if(R.$$typeof===oi)return N(A,E,pu(A,R),D);_u(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,E!==null&&E.tag===6?(n(A,E.sibling),D=s(E,R),D.return=A,A=D):(n(A,E),D=tf(R,A.mode,D),D.return=A,A=D),a(A)):n(A,E)}return function(A,E,R,D){try{Zo=0;var O=N(A,E,R,D);return Jr=null,O}catch(T){if(T===bl||T===oh)throw T;var q=nn(29,T,null,A.mode);return q.lanes=D,q.return=A,q}finally{}}}var fa=fT(!0),dT=fT(!1),_n=Kn(null),Bn=null;function Gi(t){var e=t.alternate;Ue(ot,ot.current&1),Ue(_n,t),Bn===null&&(e===null||ca.current!==null||e.memoizedState!==null)&&(Bn=t)}function mT(t){if(t.tag===22){if(Ue(ot,ot.current),Ue(_n,t),Bn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Bn=t)}}else Qi()}function Qi(){Ue(ot,ot.current),Ue(_n,_n.current)}function hi(t){yt(_n),Bn===t&&(Bn=null),yt(ot)}var ot=Kn(0);function gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Id(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function af(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=an(),s=ss(i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(on(e,t,i),No(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=an(),s=ss(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(on(e,t,i),No(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),i=ss(n);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,n),e!==null&&(on(e,t,n),No(e,t,n))}};function my(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!Ko(n,i)||!Ko(s,r):!0}function gy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Ws(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ve({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gT(t){pc(t)}function pT(t){console.error(t)}function yT(t){pc(t)}function yc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function py(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function fd(t,e,n){return n=ss(n),n.tag=3,n.payload={element:null},n.callback=function(){yc(t,e)},n}function vT(t){return t=ss(t),t.tag=3,t}function _T(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){py(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){py(e,n,i),typeof s!="function"&&(as===null?as=new Set([this]):as.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function lS(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Tl(e,n,s,!0),n=_n.current,n!==null){switch(n.tag){case 13:return Bn===null?Td():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===sd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),yf(t,i,s)),!1;case 22:return n.flags|=65536,i===sd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),yf(t,i,s)),!1}throw Error(U(435,n.tag))}return yf(t,i,s),Td(),!1}if(_e)return e=_n.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Jf&&(t=Error(U(422),{cause:i}),$o(gn(t,n)))):(i!==Jf&&(e=Error(U(423),{cause:i}),$o(gn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=gn(i,n),s=fd(t.stateNode,i,s),sf(t,s),$e!==4&&($e=2)),!1;var r=Error(U(520),{cause:i});if(r=gn(r,n),Po===null?Po=[r]:Po.push(r),$e!==4&&($e=2),e===null)return!0;i=gn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=fd(n.stateNode,i,t),sf(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=vT(s),_T(s,t,n,i),sf(n,s),!1}n=n.return}while(n!==null);return!1}var TT=Error(U(461)),pt=!1;function Tt(t,e,n,i){e.child=t===null?dT(e,null,n,i):fa(e,t.child,n,i)}function yy(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Xs(e),i=Om(t,e,n,a,r,s),l=Mm(),t!==null&&!pt?(Vm(t,e,s),Ti(t,e,s)):(_e&&l&&Rm(e),e.flags|=1,Tt(t,e,i,s),e.child)}function vy(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!wm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,ET(t,e,r,i,s)):(t=Pu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Hm(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ko,n(a,i)&&t.ref===e.ref)return Ti(t,e,s)}return e.flags|=1,t=mi(r,i),t.ref=e.ref,t.return=e,e.child=t}function ET(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Ko(r,i)&&t.ref===e.ref)if(pt=!1,e.pendingProps=i=r,Hm(t,s))t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,Ti(t,e,s)}return dd(t,e,n,i,s)}function bT(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return _y(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(e,r!==null?r.cachePool:null),r!==null?ay(e,r):od(),mT(e);else return e.lanes=e.childLanes=536870912,_y(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(Lu(e,r.cachePool),ay(e,r),Qi(),e.memoizedState=null):(t!==null&&Lu(e,null),od(),Qi());return Tt(t,e,s,n),e.child}function _y(t,e,n,i){var s=xm();return s=s===null?null:{parent:at._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Lu(e,null),od(),mT(e),t!==null&&Tl(t,e,i,!0),null}function zu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function dd(t,e,n,i,s){return Xs(e),n=Om(t,e,n,i,void 0,s),i=Mm(),t!==null&&!pt?(Vm(t,e,s),Ti(t,e,s)):(_e&&i&&Rm(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Ty(t,e,n,i,s,r){return Xs(e),e.updateQueue=null,n=V0(e,i,n,s),M0(t),i=Mm(),t!==null&&!pt?(Vm(t,e,r),Ti(t,e,r)):(_e&&i&&Rm(e),e.flags|=1,Tt(t,e,n,r),e.child)}function Ey(t,e,n,i,s){if(Xs(e),e.stateNode===null){var r=qr,a=n.contextType;typeof a=="object"&&a!==null&&(r=Mt(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hd,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},Nm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Mt(a):qr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(af(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&hd.enqueueReplaceState(r,r.state,null),ko(e,i,r,s),Do(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=Ws(n,l);r.props=u;var h=r.context,d=n.contextType;a=qr,typeof d=="object"&&d!==null&&(a=Mt(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&gy(e,r,i,a),Fi=!1;var g=e.memoizedState;r.state=g,ko(e,i,r,s),Do(),h=e.memoizedState,l||g!==h||Fi?(typeof p=="function"&&(af(e,n,p,i),h=e.memoizedState),(u=Fi||my(e,n,u,i,g,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,rd(t,e),a=e.memoizedProps,d=Ws(n,a),r.props=d,p=e.pendingProps,g=r.context,h=n.contextType,u=qr,typeof h=="object"&&h!==null&&(u=Mt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||g!==u)&&gy(e,r,i,u),Fi=!1,g=e.memoizedState,r.state=g,ko(e,i,r,s),Do();var _=e.memoizedState;a!==p||g!==_||Fi||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof l=="function"&&(af(e,n,l,i),_=e.memoizedState),(d=Fi||my(e,n,d,i,g,_,u)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),r.props=i,r.state=_,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,zu(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=fa(e,t.child,null,s),e.child=fa(e,null,n,s)):Tt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=Ti(t,e,s),t}function by(t,e,n,i){return _l(),e.flags|=256,Tt(t,e,n,i),e.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(t){return{baseLanes:t,cachePool:x0()}}function uf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=vn),t}function AT(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(ot.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(_e){if(s?Gi(e):Qi(),_e){var l=Ke,u;if(u=l){e:{for(u=l,l=Ln;u.nodeType!==8;){if(!l){l=null;break e}if(u=Cn(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:Hs!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},u=nn(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Pt=e,Ke=null,u=!0):u=!1}u||$s(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Id(l)?e.lanes=32:e.lanes=536870912,null;hi(e)}return l=i.children,i=i.fallback,s?(Qi(),s=e.mode,l=vc({mode:"hidden",children:l},s),i=Fs(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,s=e.child,s.memoizedState=lf(n),s.childLanes=uf(t,a,n),e.memoizedState=of,i):(Gi(e),md(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(Gi(e),e.flags&=-257,e=cf(t,e,n)):e.memoizedState!==null?(Qi(),e.child=t.child,e.flags|=128,e=null):(Qi(),s=i.fallback,l=e.mode,i=vc({mode:"visible",children:i.children},l),s=Fs(s,l,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,fa(e,t.child,null,n),i=e.child,i.memoizedState=lf(n),i.childLanes=uf(t,a,n),e.memoizedState=of,e=s);else if(Gi(e),Id(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,$o({value:i,source:null,stack:null}),e=cf(t,e,n)}else if(pt||Tl(t,e,n,!1),a=(n&t.childLanes)!==0,pt||a){if(a=ke,a!==null&&(i=n&-n,i=i&42?1:mm(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,xa(t,i),on(a,t,i),TT;l.data==="$?"||Td(),e=cf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ke=Cn(l.nextSibling),Pt=e,_e=!0,Gs=null,Ln=!1,t!==null&&(fn[dn++]=li,fn[dn++]=ui,fn[dn++]=Hs,li=t.id,ui=t.overflow,Hs=e),e=md(e,i.children),e.flags|=4096);return e}return s?(Qi(),s=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=mi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?s=mi(h,s):(s=Fs(s,l,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=t.child.memoizedState,l===null?l=lf(n):(u=l.cachePool,u!==null?(h=at._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=x0(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=uf(t,a,n),e.memoizedState=of,i):(Gi(e),n=t.child,t=n.sibling,n=mi(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function md(t,e){return e=vc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function vc(t,e){return t=nn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cf(t,e,n){return fa(e,t.child,null,n),t=md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ay(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),td(t.return,e,n)}function hf(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function ST(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Tt(t,e,i.children,n),i=ot.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,n,e);else if(t.tag===19)Ay(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Ue(ot,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hf(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hf(e,!0,n,null,r);break;case"together":hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))if(t!==null){if(Tl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function uS(t,e,n){switch(e.tag){case 3:nc(e,e.stateNode.containerInfo),Hi(e,at,t.memoizedState.cache),_l();break;case 27:case 5:Ff(e);break;case 4:nc(e,e.stateNode.containerInfo);break;case 10:Hi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Gi(e),e.flags|=128,null):n&e.child.childLanes?AT(t,e,n):(Gi(e),t=Ti(t,e,n),t!==null?t.sibling:null);Gi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Tl(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return ST(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(ot,ot.current),i)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,n);case 24:Hi(e,at,t.memoizedState.cache)}return Ti(t,e,n)}function wT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)pt=!0;else{if(!Hm(t,n)&&!(e.flags&128))return pt=!1,uS(t,e,n);pt=!!(t.flags&131072)}else pt=!1,_e&&e.flags&1048576&&I0(e,uc,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")wm(i)?(t=Ws(i,t),e.tag=1,e=Ey(null,e,i,t,n)):(e.tag=0,e=dd(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===hm){e.tag=11,e=yy(null,e,i,t,n);break e}else if(s===fm){e.tag=14,e=vy(null,e,i,t,n);break e}}throw e=Bf(i)||i,Error(U(306,e,""))}}return e;case 0:return dd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ws(i,e.pendingProps),Ey(t,e,i,s,n);case 3:e:{if(nc(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,rd(t,e),ko(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Hi(e,at,i),i!==r.cache&&nd(e,[at],n,!0),Do(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=by(t,e,i,n);break e}else if(i!==s){s=gn(Error(U(424)),e),$o(s),e=by(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ke=Cn(t.firstChild),Pt=e,_e=!0,Gs=null,Ln=!0,n=dT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_l(),i===s){e=Ti(t,e,n);break e}Tt(t,e,i,n)}e=e.child}return e;case 26:return zu(t,e),t===null?(n=zy(e.type,null,e.pendingProps,null))?e.memoizedState=n:_e||(n=e.type,t=e.pendingProps,i=wc(is.current).createElement(n),i[Ot]=e,i[Yt]=t,St(i,n,t),gt(i),e.stateNode=i):e.memoizedState=zy(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ff(e),t===null&&_e&&(i=e.stateNode=hE(e.type,e.pendingProps,is.current),Pt=e,Ln=!0,s=Ke,Is(e.type)?(Cd=s,Ke=Cn(i.firstChild)):Ke=s),Tt(t,e,e.pendingProps.children,n),zu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&_e&&((s=i=Ke)&&(i=LS(i,e.type,e.pendingProps,Ln),i!==null?(e.stateNode=i,Pt=e,Ke=Cn(i.firstChild),Ln=!1,s=!0):s=!1),s||$s(e)),Ff(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,wd(s,r)?i=null:a!==null&&wd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=Om(t,e,tS,null,null,n),tl._currentValue=s),zu(t,e),Tt(t,e,i,n),e.child;case 6:return t===null&&_e&&((t=n=Ke)&&(n=US(n,e.pendingProps,Ln),n!==null?(e.stateNode=n,Pt=e,Ke=null,t=!0):t=!1),t||$s(e)),null;case 13:return AT(t,e,n);case 4:return nc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=fa(e,null,i,n):Tt(t,e,i,n),e.child;case 11:return yy(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Hi(e,e.type,i.value),Tt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Xs(e),s=Mt(s),i=i(s),e.flags|=1,Tt(t,e,i,n),e.child;case 14:return vy(t,e,e.type,e.pendingProps,n);case 15:return ET(t,e,e.type,e.pendingProps,n);case 19:return ST(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=vc(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=mi(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return bT(t,e,n);case 24:return Xs(e),i=Mt(at),t===null?(s=xm(),s===null&&(s=ke,r=Cm(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},Nm(e),Hi(e,at,s)):(t.lanes&n&&(rd(t,e),ko(e,null,null,n),Do()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Hi(e,at,i)):(i=r.cache,Hi(e,at,i),i!==s.cache&&nd(e,[at],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function si(t){t.flags|=4}function Sy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!mE(e)){if(e=_n.current,e!==null&&((ge&4194048)===ge?Bn!==null:(ge&62914560)!==ge&&!(ge&536870912)||e!==Bn))throw xo=sd,N0;t.flags|=8192}}function Tu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Z_():536870912,t.lanes|=e,da|=e)}function fo(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cS(t,e,n){var i=e.pendingProps;switch(Im(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return qe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),gi(at),aa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(co(e)?si(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ey())),qe(e),null;case 26:return n=e.memoizedState,t===null?(si(e),n!==null?(qe(e),Sy(e,n)):(qe(e),e.flags&=-16777217)):n?n!==t.memoizedState?(si(e),qe(e),Sy(e,n)):(qe(e),e.flags&=-16777217):(t.memoizedProps!==i&&si(e),qe(e),e.flags&=-16777217),null;case 27:ic(e),n=is.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&si(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return qe(e),null}t=jn.current,co(e)?Wp(e):(t=hE(s,i,n),e.stateNode=t,si(e))}return qe(e),null;case 5:if(ic(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&si(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return qe(e),null}if(t=jn.current,co(e))Wp(e);else{switch(s=wc(is.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}t[Ot]=e,t[Yt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(St(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&si(e)}}return qe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&si(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=is.current,co(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Pt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Ot]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||lE(t.nodeValue,n)),t||$s(e)}else t=wc(t).createTextNode(i),t[Ot]=e,e.stateNode=t}return qe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=co(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ot]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else s=ey(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(hi(e),e):(hi(e),null)}if(hi(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Tu(e,e.updateQueue),qe(e),null;case 4:return aa(),t===null&&Wm(e.stateNode.containerInfo),qe(e),null;case 10:return gi(e.type),qe(e),null;case 19:if(yt(ot),s=e.memoizedState,s===null)return qe(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)fo(s,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=gc(t),r!==null){for(e.flags|=128,fo(s,!1),t=r.updateQueue,e.updateQueue=t,Tu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)R0(n,t),n=n.sibling;return Ue(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&zn()>Tc&&(e.flags|=128,i=!0,fo(s,!1),e.lanes=4194304)}else{if(!i)if(t=gc(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Tu(e,t),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!_e)return qe(e),null}else 2*zn()-s.renderingStartTime>Tc&&n!==536870912&&(e.flags|=128,i=!0,fo(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zn(),e.sibling=null,t=ot.current,Ue(ot,i?t&1|2:t&1),e):(qe(e),null);case 22:case 23:return hi(e),Dm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),n=e.updateQueue,n!==null&&Tu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&yt(Qs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),gi(at),qe(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function hS(t,e){switch(Im(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gi(at),aa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ic(e),null;case 13:if(hi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(ot),null;case 4:return aa(),null;case 10:return gi(e.type),null;case 22:case 23:return hi(e),Dm(),t!==null&&yt(Qs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return gi(at),null;case 25:return null;default:return null}}function RT(t,e){switch(Im(e),e.tag){case 3:gi(at),aa();break;case 26:case 27:case 5:ic(e);break;case 4:aa();break;case 13:hi(e);break;case 19:yt(ot);break;case 10:gi(e.type);break;case 22:case 23:hi(e),Dm(),t!==null&&yt(Qs);break;case 24:gi(at)}}function wl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){Ne(e,e.return,l)}}function vs(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,h=l;try{h()}catch(d){Ne(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){Ne(e,e.return,d)}}function IT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{O0(e,n)}catch(i){Ne(t,t.return,i)}}}function CT(t,e,n){n.props=Ws(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ne(t,e,i)}}function Mo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){Ne(t,e,s)}}function Un(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Ne(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ne(t,e,s)}else n.current=null}function xT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Ne(t,t.return,s)}}function ff(t,e,n){try{var i=t.stateNode;kS(i,t.type,n,e),i[Yt]=e}catch(s){Ne(t,t.return,s)}}function NT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(i!==4&&(i===27&&Is(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}function _c(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Is(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(_c(t,e,n),t=t.sibling;t!==null;)_c(t,e,n),t=t.sibling}function DT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);St(e,i,n),e[Ot]=t,e[Yt]=n}catch(r){Ne(t,t.return,r)}}var ai=!1,We=!1,mf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,mt=null;function fS(t,e){if(t=t.containerInfo,Ad=xc,t=v0(t),bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,p=t,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++h===s&&(l=a),g===r&&++d===i&&(u=a),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sd={focusedElem:t,selectionRange:n},xc=!1,mt=e;mt!==null;)if(e=mt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,mt=t;else for(;mt!==null;){switch(e=mt,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var M=Ws(n.type,s,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(M,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(k){Ne(n,n.return,k)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Rd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,mt=t;break}mt=e.return}}function kT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ui(t,n),i&4&&wl(5,n);break;case 1:if(Ui(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ne(n,n.return,a)}else{var s=Ws(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ne(n,n.return,a)}}i&64&&IT(n),i&512&&Mo(n,n.return);break;case 3:if(Ui(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{O0(t,e)}catch(a){Ne(n,n.return,a)}}break;case 27:e===null&&i&4&&DT(n);case 26:case 5:Ui(t,n),e===null&&i&4&&xT(n),i&512&&Mo(n,n.return);break;case 12:Ui(t,n);break;case 13:Ui(t,n),i&4&&VT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=ES.bind(null,n),jS(t,n))));break;case 22:if(i=n.memoizedState!==null||ai,!i){e=e!==null&&e.memoizedState!==null||We,s=ai;var r=We;ai=i,(We=e)&&!r?Bi(t,n,(n.subtreeFlags&8772)!==0):Ui(t,n),ai=s,We=r}break;case 30:break;default:Ui(t,n)}}function OT(t){var e=t.alternate;e!==null&&(t.alternate=null,OT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&pm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,Ht=!1;function ri(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 26:We||Un(n,e),ri(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Un(n,e);var i=Pe,s=Ht;Is(n.type)&&(Pe=n.stateNode,Ht=!1),ri(t,e,n),Uo(n.stateNode),Pe=i,Ht=s;break;case 5:We||Un(n,e);case 6:if(i=Pe,s=Ht,Pe=null,ri(t,e,n),Pe=i,Ht=s,Pe!==null)if(Ht)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(r){Ne(n,e,r)}else try{Pe.removeChild(n.stateNode)}catch(r){Ne(n,e,r)}break;case 18:Pe!==null&&(Ht?(t=Pe,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),sl(t)):Ly(Pe,n.stateNode));break;case 4:i=Pe,s=Ht,Pe=n.stateNode.containerInfo,Ht=!0,ri(t,e,n),Pe=i,Ht=s;break;case 0:case 11:case 14:case 15:We||vs(2,n,e),We||vs(4,n,e),ri(t,e,n);break;case 1:We||(Un(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&CT(n,e,i)),ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:We=(i=We)||n.memoizedState!==null,ri(t,e,n),We=i;break;default:ri(t,e,n)}}function VT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(n){Ne(e,e.return,n)}}function dS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wy),e;default:throw Error(U(435,t.tag))}}function gf(t,e){var n=dS(t);e.forEach(function(i){var s=bS.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function Jt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Is(l.type)){Pe=l.stateNode,Ht=!1;break e}break;case 5:Pe=l.stateNode,Ht=!1;break e;case 3:case 4:Pe=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Pe===null)throw Error(U(160));MT(r,a,s),Pe=null,Ht=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}var Sn=null;function PT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jt(e,t),en(t),i&4&&(vs(3,t,t.return),wl(3,t),vs(5,t,t.return));break;case 1:Jt(e,t),en(t),i&512&&(We||n===null||Un(n,n.return)),i&64&&ai&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Sn;if(Jt(e,t),en(t),i&512&&(We||n===null||Un(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[yl]||r[Ot]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),St(r,i,n),r[Ot]=t,gt(r),i=r;break e;case"link":var a=qy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),St(r,i,n),s.head.appendChild(r);break;case"meta":if(a=qy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),St(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[Ot]=t,gt(r),i=r}t.stateNode=i}else Fy(s,t.type,t.stateNode);else t.stateNode=By(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Fy(s,t.type,t.stateNode):By(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&ff(t,t.memoizedProps,n.memoizedProps)}break;case 27:Jt(e,t),en(t),i&512&&(We||n===null||Un(n,n.return)),n!==null&&i&4&&ff(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Jt(e,t),en(t),i&512&&(We||n===null||Un(n,n.return)),t.flags&32){s=t.stateNode;try{la(s,"")}catch(_){Ne(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,ff(t,s,n!==null?n.memoizedProps:s)),i&1024&&(mf=!0);break;case 6:if(Jt(e,t),en(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){Ne(t,t.return,_)}}break;case 3:if(Fu=null,s=Sn,Sn=Rc(e.containerInfo),Jt(e,t),Sn=s,en(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(_){Ne(t,t.return,_)}mf&&(mf=!1,LT(t));break;case 4:i=Sn,Sn=Rc(t.stateNode.containerInfo),Jt(e,t),en(t),Sn=i;break;case 12:Jt(e,t),en(t);break;case 13:Jt(e,t),en(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($m=zn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,gf(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=ai,d=We;if(ai=h||s,We=d||u,Jt(e,t),We=d,ai=h,en(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||ai||We||js(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(_){Ne(u,u.return,_)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(_){Ne(u,u.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,gf(t,n))));break;case 19:Jt(e,t),en(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,gf(t,i)));break;case 30:break;case 21:break;default:Jt(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(NT(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=df(t);_c(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(la(a,""),n.flags&=-33);var l=df(t);_c(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=df(t);gd(t,h,u);break;default:throw Error(U(161))}}catch(d){Ne(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;LT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ui(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)kT(t,e.alternate,e),e=e.sibling}function js(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vs(4,e,e.return),js(e);break;case 1:Un(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&CT(e,e.return,n),js(e);break;case 27:Uo(e.stateNode);case 26:case 5:Un(e,e.return),js(e);break;case 22:e.memoizedState===null&&js(e);break;case 30:js(e);break;default:js(e)}t=t.sibling}}function Bi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Bi(s,r,n),wl(4,r);break;case 1:if(Bi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){Ne(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)k0(u[s],l)}catch(h){Ne(i,i.return,h)}}n&&a&64&&IT(r),Mo(r,r.return);break;case 27:DT(r);case 26:case 5:Bi(s,r,n),n&&i===null&&a&4&&xT(r),Mo(r,r.return);break;case 12:Bi(s,r,n);break;case 13:Bi(s,r,n),n&&a&4&&VT(s,r);break;case 22:r.memoizedState===null&&Bi(s,r,n),Mo(r,r.return);break;case 30:break;default:Bi(s,r,n)}e=e.sibling}}function Gm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&El(n))}function Qm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&El(t))}function Vn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)UT(t,e,n,i),e=e.sibling}function UT(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Vn(t,e,n,i),s&2048&&wl(9,e);break;case 1:Vn(t,e,n,i);break;case 3:Vn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&El(t)));break;case 12:if(s&2048){Vn(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ne(e,e.return,u)}}else Vn(t,e,n,i);break;case 13:Vn(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?Vn(t,e,n,i):Vo(t,e):r._visibility&2?Vn(t,e,n,i):(r._visibility|=2,Cr(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&Gm(a,e);break;case 24:Vn(t,e,n,i),s&2048&&Qm(e.alternate,e);break;default:Vn(t,e,n,i)}}function Cr(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(r,a,l,u,s),wl(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Cr(r,a,l,u,s):Vo(r,a):(d._visibility|=2,Cr(r,a,l,u,s)),s&&h&2048&&Gm(a.alternate,a);break;case 24:Cr(r,a,l,u,s),s&&h&2048&&Qm(a.alternate,a);break;default:Cr(r,a,l,u,s)}e=e.sibling}}function Vo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Vo(n,i),s&2048&&Gm(i.alternate,i);break;case 24:Vo(n,i),s&2048&&Qm(i.alternate,i);break;default:Vo(n,i)}e=e.sibling}}var _o=8192;function Sr(t){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)jT(t),t=t.sibling}function jT(t){switch(t.tag){case 26:Sr(t),t.flags&_o&&t.memoizedState!==null&&WS(Sn,t.memoizedState,t.memoizedProps);break;case 5:Sr(t);break;case 3:case 4:var e=Sn;Sn=Rc(t.stateNode.containerInfo),Sr(t),Sn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=_o,_o=16777216,Sr(t),_o=e):Sr(t));break;default:Sr(t)}}function zT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function mo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];mt=i,qT(i,t)}zT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)BT(t),t=t.sibling}function BT(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&vs(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Bu(t)):mo(t);break;default:mo(t)}}function Bu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];mt=i,qT(i,t)}zT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vs(8,e,e.return),Bu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Bu(e));break;default:Bu(e)}t=t.sibling}}function qT(t,e){for(;mt!==null;){var n=mt;switch(n.tag){case 0:case 11:case 15:vs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:El(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,mt=i;else e:for(n=t;mt!==null;){i=mt;var s=i.sibling,r=i.return;if(OT(i),i===n){mt=null;break e}if(s!==null){s.return=r,mt=s;break e}mt=r}}}var mS={getCacheForType:function(t){var e=Mt(at),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},gS=typeof WeakMap=="function"?WeakMap:Map,Se=0,ke=null,he=null,ge=0,Ae=0,tn=null,es=!1,Na=!1,Ym=!1,Ei=0,$e=0,_s=0,Ys=0,Km=0,vn=0,da=0,Po=null,Gt=null,pd=!1,$m=0,Tc=1/0,Ec=null,as=null,bt=0,os=null,ma=null,ea=0,yd=0,vd=null,FT=null,Lo=0,_d=null;function an(){if(Se&2&&ge!==0)return ge&-ge;if(ee.T!==null){var t=ua;return t!==0?t:Zm()}return e0()}function HT(){vn===0&&(vn=!(ge&536870912)||_e?X_():536870912);var t=_n.current;return t!==null&&(t.flags|=32),vn}function on(t,e,n){(t===ke&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(ga(t,0),ts(t,ge,vn,!1)),pl(t,n),(!(Se&2)||t!==ke)&&(t===ke&&(!(Se&2)&&(Ys|=n),$e===4&&ts(t,ge,vn,!1)),$n(t))}function GT(t,e,n){if(Se&6)throw Error(U(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||gl(t,e),s=i?vS(t,e):pf(t,e,!0),r=i;do{if(s===0){Na&&!i&&ts(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!pS(n)){s=pf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=Po;var u=l.current.memoizedState.isDehydrated;if(u&&(ga(l,a).flags|=256),a=pf(l,a,!1),a!==2){if(Ym&&!u){l.errorRecoveryDisabledLanes|=r,Ys|=r,s=4;break e}r=Gt,Gt=s,r!==null&&(Gt===null?Gt=r:Gt.push.apply(Gt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){ga(t,0),ts(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:ts(i,e,vn,!es);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(s=$m+300-zn(),10<s)){if(ts(i,e,vn,!es),th(i,0,!0)!==0)break e;i.timeoutHandle=cE(Ry.bind(null,i,n,Gt,Ec,pd,e,vn,Ys,da,es,r,2,-0,0),s);break e}Ry(i,n,Gt,Ec,pd,e,vn,Ys,da,es,r,0,-0,0)}}break}while(!0);$n(t)}function Ry(t,e,n,i,s,r,a,l,u,h,d,p,g,_){if(t.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:ZS},jT(e),p=JS(),p!==null)){t.cancelPendingCommit=p(Cy.bind(null,t,e,r,n,i,s,a,l,u,d,1,g,_)),ts(t,r,a,!h);return}Cy(t,e,r,n,i,s,a,l,u)}function pS(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ln(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e,n,i){e&=~Km,e&=~Ys,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-rn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&W_(t,n,e)}function hh(){return Se&6?!0:(Rl(0),!1)}function Xm(){if(he!==null){if(Ae===0)var t=he.return;else t=he,ci=or=null,Pm(t),Jr=null,Zo=0,t=he;for(;t!==null;)RT(t.alternate,t),t=t.return;he=null}}function ga(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,MS(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Xm(),ke=t,he=n=mi(t.current,null),ge=e,Ae=0,tn=null,es=!1,Na=gl(t,e),Ym=!1,da=vn=Km=Ys=_s=$e=0,Gt=Po=null,pd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-rn(i),r=1<<s;e|=t[s],i&=~r}return Ei=e,rh(),n}function QT(t,e){ue=null,ee.H=mc,e===bl||e===oh?(e=sy(),Ae=3):e===N0?(e=sy(),Ae=4):Ae=e===TT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,tn=e,he===null&&($e=1,yc(t,gn(e,t.current)))}function YT(){var t=ee.H;return ee.H=mc,t===null?mc:t}function KT(){var t=ee.A;return ee.A=mS,t}function Td(){$e=4,es||(ge&4194048)!==ge&&_n.current!==null||(Na=!0),!(_s&134217727)&&!(Ys&134217727)||ke===null||ts(ke,ge,vn,!1)}function pf(t,e,n){var i=Se;Se|=2;var s=YT(),r=KT();(ke!==t||ge!==e)&&(Ec=null,ga(t,e)),e=!1;var a=$e;e:do try{if(Ae!==0&&he!==null){var l=he,u=tn;switch(Ae){case 8:Xm(),a=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(e=!0);var h=Ae;if(Ae=0,tn=null,Gr(t,l,u,h),n&&Na){a=0;break e}break;default:h=Ae,Ae=0,tn=null,Gr(t,l,u,h)}}yS(),a=$e;break}catch(d){QT(t,d)}while(!0);return e&&t.shellSuspendCounter++,ci=or=null,Se=i,ee.H=s,ee.A=r,he===null&&(ke=null,ge=0,rh()),a}function yS(){for(;he!==null;)$T(he)}function vS(t,e){var n=Se;Se|=2;var i=YT(),s=KT();ke!==t||ge!==e?(Ec=null,Tc=zn()+500,ga(t,e)):Na=gl(t,e);e:do try{if(Ae!==0&&he!==null){e=he;var r=tn;t:switch(Ae){case 1:Ae=0,tn=null,Gr(t,e,r,1);break;case 2:case 9:if(iy(r)){Ae=0,tn=null,Iy(e);break}e=function(){Ae!==2&&Ae!==9||ke!==t||(Ae=7),$n(t)},r.then(e,e);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:iy(r)?(Ae=0,tn=null,Iy(e)):(Ae=0,tn=null,Gr(t,e,r,7));break;case 5:var a=null;switch(he.tag){case 26:a=he.memoizedState;case 5:case 27:var l=he;if(!a||mE(a)){Ae=0,tn=null;var u=l.sibling;if(u!==null)he=u;else{var h=l.return;h!==null?(he=h,fh(h)):he=null}break t}}Ae=0,tn=null,Gr(t,e,r,5);break;case 6:Ae=0,tn=null,Gr(t,e,r,6);break;case 8:Xm(),$e=6;break e;default:throw Error(U(462))}}_S();break}catch(d){QT(t,d)}while(!0);return ci=or=null,ee.H=i,ee.A=s,Se=n,he!==null?0:(ke=null,ge=0,rh(),$e)}function _S(){for(;he!==null&&!B2();)$T(he)}function $T(t){var e=wT(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?fh(t):he=e}function Iy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ty(n,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=Ty(n,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:Pm(e);default:RT(n,e),e=he=R0(e,Ei),e=wT(n,e,Ei)}t.memoizedProps=t.pendingProps,e===null?fh(t):he=e}function Gr(t,e,n,i){ci=or=null,Pm(e),Jr=null,Zo=0;var s=e.return;try{if(lS(t,s,e,n,ge)){$e=1,yc(t,gn(n,t.current)),he=null;return}}catch(r){if(s!==null)throw he=s,r;$e=1,yc(t,gn(n,t.current)),he=null;return}e.flags&32768?(_e||i===1?t=!0:Na||ge&536870912?t=!1:(es=t=!0,(i===2||i===9||i===3||i===6)&&(i=_n.current,i!==null&&i.tag===13&&(i.flags|=16384))),XT(e,t)):fh(e)}function fh(t){var e=t;do{if(e.flags&32768){XT(e,es);return}t=e.return;var n=cS(e.alternate,e,Ei);if(n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);$e===0&&($e=5)}function XT(t,e){do{var n=hS(t.alternate,t);if(n!==null){n.flags&=32767,he=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){he=t;return}he=t=n}while(t!==null);$e=6,he=null}function Cy(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do dh();while(bt!==0);if(Se&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(r=e.lanes|e.childLanes,r|=Am,Z2(t,n,r,a,l,u),t===ke&&(he=ke=null,ge=0),ma=e,os=t,ea=n,yd=r,vd=s,FT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,AS(sc,function(){return tE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=ee.T,ee.T=null,s=Te.p,Te.p=2,a=Se,Se|=4;try{fS(t,e,n)}finally{Se=a,Te.p=s,ee.T=i}}bt=1,ZT(),WT(),JT()}}function ZT(){if(bt===1){bt=0;var t=os,e=ma,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var i=Te.p;Te.p=2;var s=Se;Se|=4;try{PT(e,t);var r=Sd,a=v0(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&y0(l.ownerDocument.documentElement,l)){if(u!==null&&bm(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var _=g.getSelection(),M=l.textContent.length,k=Math.min(u.start,M),N=u.end===void 0?k:Math.min(u.end,M);!_.extend&&k>N&&(a=N,N=k,k=a);var A=$p(l,k),E=$p(l,N);if(A&&E&&(_.rangeCount!==1||_.anchorNode!==A.node||_.anchorOffset!==A.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var R=p.createRange();R.setStart(A.node,A.offset),_.removeAllRanges(),k>N?(_.addRange(R),_.extend(E.node,E.offset)):(R.setEnd(E.node,E.offset),_.addRange(R))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}xc=!!Ad,Sd=Ad=null}finally{Se=s,Te.p=i,ee.T=n}}t.current=e,bt=2}}function WT(){if(bt===2){bt=0;var t=os,e=ma,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var i=Te.p;Te.p=2;var s=Se;Se|=4;try{kT(t,e.alternate,e)}finally{Se=s,Te.p=i,ee.T=n}}bt=3}}function JT(){if(bt===4||bt===3){bt=0,q2();var t=os,e=ma,n=ea,i=FT;e.subtreeFlags&10256||e.flags&10256?bt=5:(bt=0,ma=os=null,eE(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(as=null),gm(n),e=e.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=ee.T,s=Te.p,Te.p=2,ee.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{ee.T=e,Te.p=s}}ea&3&&dh(),$n(t),s=t.pendingLanes,n&4194090&&s&42?t===_d?Lo++:(Lo=0,_d=t):Lo=0,Rl(0)}}function eE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,El(e)))}function dh(t){return ZT(),WT(),JT(),tE()}function tE(){if(bt!==5)return!1;var t=os,e=yd;yd=0;var n=gm(ea),i=ee.T,s=Te.p;try{Te.p=32>n?32:n,ee.T=null,n=vd,vd=null;var r=os,a=ea;if(bt=0,ma=os=null,ea=0,Se&6)throw Error(U(331));var l=Se;if(Se|=4,BT(r.current),UT(r,r.current,a,n),Se=l,Rl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ml,r)}catch{}return!0}finally{Te.p=s,ee.T=i,eE(t,e)}}function xy(t,e,n){e=gn(n,e),e=fd(t.stateNode,e,2),t=rs(t,e,2),t!==null&&(pl(t,2),$n(t))}function Ne(t,e,n){if(t.tag===3)xy(t,t,n);else for(;e!==null;){if(e.tag===3){xy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(as===null||!as.has(i))){t=gn(n,t),n=vT(2),i=rs(e,n,2),i!==null&&(_T(n,i,e,t),pl(i,2),$n(i));break}}e=e.return}}function yf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new gS;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Ym=!0,s.add(n),t=TS.bind(null,t,e,n),e.then(t,t))}function TS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ke===t&&(ge&n)===n&&($e===4||$e===3&&(ge&62914560)===ge&&300>zn()-$m?!(Se&2)&&ga(t,0):Km|=n,da===ge&&(da=0)),$n(t)}function nE(t,e){e===0&&(e=Z_()),t=xa(t,e),t!==null&&(pl(t,e),$n(t))}function ES(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nE(t,n)}function bS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),nE(t,n)}function AS(t,e){return dm(t,e)}var bc=null,xr=null,Ed=!1,Ac=!1,vf=!1,Ks=0;function $n(t){t!==xr&&t.next===null&&(xr===null?bc=xr=t:xr=xr.next=t),Ac=!0,Ed||(Ed=!0,wS())}function Rl(t,e){if(!vf&&Ac){vf=!0;do for(var n=!1,i=bc;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-rn(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Ny(i,r))}else r=ge,r=th(i,i===ke?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||gl(i,r)||(n=!0,Ny(i,r));i=i.next}while(n);vf=!1}}function SS(){iE()}function iE(){Ac=Ed=!1;var t=0;Ks!==0&&(OS()&&(t=Ks),Ks=0);for(var e=zn(),n=null,i=bc;i!==null;){var s=i.next,r=sE(i,e);r===0?(i.next=null,n===null?bc=s:n.next=s,s===null&&(xr=n)):(n=i,(t!==0||r&3)&&(Ac=!0)),i=s}Rl(t)}function sE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-rn(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=X2(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=ke,n=ge,n=th(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Fh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||gl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Fh(i),gm(n)){case 2:case 8:n=K_;break;case 32:n=sc;break;case 268435456:n=$_;break;default:n=sc}return i=rE.bind(null,t),n=dm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Fh(i),t.callbackPriority=2,t.callbackNode=null,2}function rE(t,e){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(dh()&&t.callbackNode!==n)return null;var i=ge;return i=th(t,t===ke?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(GT(t,i,e),sE(t,zn()),t.callbackNode!=null&&t.callbackNode===n?rE.bind(null,t):null)}function Ny(t,e){if(dh())return null;GT(t,e,!0)}function wS(){VS(function(){Se&6?dm(Y_,SS):iE()})}function Zm(){return Ks===0&&(Ks=X_()),Ks}function Dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ou(""+t)}function ky(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function RS(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Dy((s[Yt]||null).action),a=i.submitter;a&&(e=(e=a[Yt]||null)?Dy(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new nh("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ks!==0){var u=a?ky(s,a):new FormData(s);cd(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?ky(s,a):new FormData(s),cd(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var _f=0;_f<Wf.length;_f++){var Tf=Wf[_f],IS=Tf.toLowerCase(),CS=Tf[0].toUpperCase()+Tf.slice(1);Nn(IS,"on"+CS)}Nn(T0,"onAnimationEnd");Nn(E0,"onAnimationIteration");Nn(b0,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(GA,"onTransitionRun");Nn(QA,"onTransitionStart");Nn(YA,"onTransitionCancel");Nn(A0,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function aE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){pc(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){pc(d)}s.currentTarget=null,r=u}}}}function ce(t,e){var n=e[Gf];n===void 0&&(n=e[Gf]=new Set);var i=t+"__bubble";n.has(i)||(oE(e,t,2,!1),n.add(i))}function Ef(t,e,n){var i=0;e&&(i|=4),oE(n,t,i,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Wm(t){if(!t[Eu]){t[Eu]=!0,t0.forEach(function(n){n!=="selectionchange"&&(xS.has(n)||Ef(n,!1,t),Ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Ef("selectionchange",!1,e))}}function oE(t,e,n,i){switch(_E(e)){case 2:var s=nw;break;case 8:s=iw;break;default:s=ng}n=s.bind(null,e,n,t),s=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Pr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}u0(function(){var h=r,d=vm(n),p=[];e:{var g=S0.get(t);if(g!==void 0){var _=nh,M=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":_=AA;break;case"focusin":M="focus",_=Zh;break;case"focusout":M="blur",_=Zh;break;case"beforeblur":case"afterblur":_=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=RA;break;case T0:case E0:case b0:_=mA;break;case A0:_=CA;break;case"scroll":case"scrollend":_=uA;break;case"wheel":_=NA;break;case"copy":case"cut":case"paste":_=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bp;break;case"toggle":case"beforetoggle":_=kA}var k=(e&4)!==0,N=!k&&(t==="scroll"||t==="scrollend"),A=k?g!==null?g+"Capture":null:g;k=[];for(var E=h,R;E!==null;){var D=E;if(R=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||R===null||A===null||(D=Qo(E,A),D!=null&&k.push(Jo(E,D,R))),N)break;E=E.return}0<k.length&&(g=new _(g,M,null,n,d),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==Kf&&(M=n.relatedTarget||n.fromElement)&&(Pr(M)||M[Ia]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(M=n.relatedTarget||n.toElement,_=h,M=M?Pr(M):null,M!==null&&(N=dl(M),k=M.tag,M!==N||k!==5&&k!==27&&k!==6)&&(M=null)):(_=null,M=h),_!==M)){if(k=jp,D="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=Bp,D="onPointerLeave",A="onPointerEnter",E="pointer"),N=_==null?g:vo(_),R=M==null?g:vo(M),g=new k(D,E+"leave",_,n,d),g.target=N,g.relatedTarget=R,D=null,Pr(d)===h&&(k=new k(A,E+"enter",M,n,d),k.target=R,k.relatedTarget=N,D=k),N=D,_&&M)t:{for(k=_,A=M,E=0,R=k;R;R=wr(R))E++;for(R=0,D=A;D;D=wr(D))R++;for(;0<E-R;)k=wr(k),E--;for(;0<R-E;)A=wr(A),R--;for(;E--;){if(k===A||A!==null&&k===A.alternate)break t;k=wr(k),A=wr(A)}k=null}else k=null;_!==null&&Oy(p,g,_,k,!1),M!==null&&N!==null&&Oy(p,N,M,k,!0)}}e:{if(g=h?vo(h):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var O=Gp;else if(Hp(g))if(g0)O=qA;else{O=zA;var q=jA}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&ym(h.elementType)&&(O=Gp):O=BA;if(O&&(O=O(t,h))){m0(p,O,n,d);break e}q&&q(t,g,h),t==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&Yf(g,"number",g.value)}switch(q=h?vo(h):window,t){case"focusin":(Hp(q)||q.contentEditable==="true")&&(jr=q,Xf=h,Io=null);break;case"focusout":Io=Xf=jr=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Xp(p,n,d);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":Xp(p,n,d)}var T;if(Em)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?f0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(h0&&n.locale!=="ko"&&(Ur||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ur&&(T=c0()):(Ji=d,_m="value"in Ji?Ji.value:Ji.textContent,Ur=!0)),q=Sc(h,v),0<q.length&&(v=new zp(v,t,null,n,d),p.push({event:v,listeners:q}),T?v.data=T:(T=d0(n),T!==null&&(v.data=T)))),(T=MA?VA(t,n):PA(t,n))&&(v=Sc(h,"onBeforeInput"),0<v.length&&(q=new zp("onBeforeInput","beforeinput",null,n,d),p.push({event:q,listeners:v}),q.data=T)),RS(p,t,h,n,d)}aE(p,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Qo(t,n),s!=null&&i.unshift(Jo(t,s,r)),s=Qo(t,e),s!=null&&i.push(Jo(t,s,r))),t.tag===3)return i;t=t.return}return[]}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Oy(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=Qo(n,r),h!=null&&a.unshift(Jo(n,h,u))):s||(h=Qo(n,r),h!=null&&a.push(Jo(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(DS,"")}function lE(t,e){return e=My(e),My(t)===e}function mh(){}function Re(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||la(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&la(t,""+i);break;case"className":mu(t,"class",i);break;case"tabIndex":mu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":mu(t,n,i);break;case"style":l0(t,i,r);break;case"data":if(e!=="object"){mu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ou(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Re(t,e,"name",s.name,s,null),Re(t,e,"formEncType",s.formEncType,s,null),Re(t,e,"formMethod",s.formMethod,s,null),Re(t,e,"formTarget",s.formTarget,s,null)):(Re(t,e,"encType",s.encType,s,null),Re(t,e,"method",s.method,s,null),Re(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ou(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=mh);break;case"onScroll":i!=null&&ce("scroll",t);break;case"onScrollEnd":i!=null&&ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Ou(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ce("beforetoggle",t),ce("toggle",t),ku(t,"popover",i);break;case"xlinkActuate":ii(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ii(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ii(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ii(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ii(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ii(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ii(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ii(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ii(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ku(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oA.get(n)||n,ku(t,n,i))}}function bd(t,e,n,i,s,r){switch(n){case"style":l0(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?la(t,i):(typeof i=="number"||typeof i=="bigint")&&la(t,""+i);break;case"onScroll":i!=null&&ce("scroll",t);break;case"onScrollEnd":i!=null&&ce("scrollend",t);break;case"onClick":i!=null&&(t.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!n0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Yt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ku(t,n,i)}}}function St(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",t),ce("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Re(t,e,r,a,n,null)}}s&&Re(t,e,"srcSet",n.srcSet,n,null),i&&Re(t,e,"src",n.src,n,null);return;case"input":ce("invalid",t);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,e));break;default:Re(t,e,i,d,n,null)}}r0(t,r,l,u,h,a,s,!1),rc(t);return;case"select":ce("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Re(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Kr(t,!!i,e,!1):n!=null&&Kr(t,!!i,n,!0);return;case"textarea":ce("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Re(t,e,a,l,n,null)}o0(t,i,s,r),rc(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Re(t,e,u,i,n,null)}return;case"dialog":ce("beforetoggle",t),ce("toggle",t),ce("cancel",t),ce("close",t);break;case"iframe":case"object":ce("load",t);break;case"video":case"audio":for(i=0;i<Wo.length;i++)ce(Wo[i],t);break;case"image":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"embed":case"source":case"link":ce("error",t),ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Re(t,e,h,i,n,null)}return;default:if(ym(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&bd(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Re(t,e,l,i,n,null))}function kS(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||Re(t,e,_,null,i,p)}}for(var g in i){var _=i[g];if(p=n[g],i.hasOwnProperty(g)&&(_!=null||p!=null))switch(g){case"type":r=_;break;case"name":s=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(U(137,e));break;default:_!==p&&Re(t,e,g,_,i,p)}}Qf(t,a,l,u,h,d,r,s);return;case"select":_=a=l=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||Re(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":g=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Re(t,e,s,r,i,u)}e=l,n=a,i=_,g!=null?Kr(t,!!n,g,!1):!!i!=!!n&&(e!=null?Kr(t,!!n,e,!0):Kr(t,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Re(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":g=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&Re(t,e,a,s,i,r)}a0(t,g,_);return;case"option":for(var M in n)if(g=n[M],n.hasOwnProperty(M)&&g!=null&&!i.hasOwnProperty(M))switch(M){case"selected":t.selected=!1;break;default:Re(t,e,M,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Re(t,e,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var k in n)g=n[k],n.hasOwnProperty(k)&&g!=null&&!i.hasOwnProperty(k)&&Re(t,e,k,null,i,g);for(h in i)if(g=i[h],_=n[h],i.hasOwnProperty(h)&&g!==_&&(g!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:Re(t,e,h,g,i,_)}return;default:if(ym(e)){for(var N in n)g=n[N],n.hasOwnProperty(N)&&g!==void 0&&!i.hasOwnProperty(N)&&bd(t,e,N,void 0,i,g);for(d in i)g=i[d],_=n[d],!i.hasOwnProperty(d)||g===_||g===void 0&&_===void 0||bd(t,e,d,g,i,_);return}}for(var A in n)g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A)&&Re(t,e,A,null,i,g);for(p in i)g=i[p],_=n[p],!i.hasOwnProperty(p)||g===_||g==null&&_==null||Re(t,e,p,g,i,_)}var Ad=null,Sd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function Vy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Af=null;function OS(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(PS)}:cE;function PS(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function Ly(t,e){var n=e,i=0,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&Uo(a.documentElement),n&2&&Uo(a.body),n&4)for(n=a.head,Uo(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[yl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(s===0){t.removeChild(r),sl(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);sl(e)}function Rd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),pm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function LS(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[yl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function US(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jS(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Cd=null;function Uy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function hE(t,e,n){switch(e=wc(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Uo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);pm(t)}var Tn=new Map,jy=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=Te.d;Te.d={f:zS,r:BS,D:qS,C:FS,L:HS,m:GS,X:YS,S:QS,M:KS};function zS(){var t=Ci.f(),e=hh();return t||e}function BS(t){var e=Ca(t);e!==null&&e.tag===5&&e.type==="form"?sT(e):Ci.r(t)}var Da=typeof document>"u"?null:document;function fE(t,e,n){var i=Da;if(i&&typeof e=="string"&&e){var s=mn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),jy.has(s)||(jy.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),St(e,"link",t),gt(e),i.head.appendChild(e)))}}function qS(t){Ci.D(t),fE("dns-prefetch",t,null)}function FS(t,e){Ci.C(t,e),fE("preconnect",t,e)}function HS(t,e,n){Ci.L(t,e,n);var i=Da;if(i&&t&&e){var s='link[rel="preload"][as="'+mn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+mn(n.imageSizes)+'"]')):s+='[href="'+mn(t)+'"]';var r=s;switch(e){case"style":r=pa(t);break;case"script":r=ka(t)}Tn.has(r)||(t=Ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Tn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Il(r))||e==="script"&&i.querySelector(Cl(r))||(e=i.createElement("link"),St(e,"link",t),gt(e),i.head.appendChild(e)))}}function GS(t,e){Ci.m(t,e);var n=Da;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+mn(i)+'"][href="'+mn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ka(t)}if(!Tn.has(r)&&(t=Ve({rel:"modulepreload",href:t},e),Tn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cl(r)))return}i=n.createElement("link"),St(i,"link",t),gt(i),n.head.appendChild(i)}}}function QS(t,e,n){Ci.S(t,e,n);var i=Da;if(i&&t){var s=Yr(i).hoistableStyles,r=pa(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Il(r)))l.loading=5;else{t=Ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Tn.get(r))&&Jm(t,n);var u=a=i.createElement("link");gt(u),St(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,qu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function YS(t,e){Ci.X(t,e);var n=Da;if(n&&t){var i=Yr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Cl(s)),r||(t=Ve({src:t,async:!0},e),(e=Tn.get(s))&&eg(t,e),r=n.createElement("script"),gt(r),St(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function KS(t,e){Ci.M(t,e);var n=Da;if(n&&t){var i=Yr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Cl(s)),r||(t=Ve({src:t,async:!0,type:"module"},e),(e=Tn.get(s))&&eg(t,e),r=n.createElement("script"),gt(r),St(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function zy(t,e,n,i){var s=(s=is.current)?Rc(s):null;if(!s)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=pa(n.href),n=Yr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=pa(n.href);var r=Yr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(Il(t)))&&!r._p&&(a.instance=r,a.state.loading=5),Tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(t,n),r||$S(s,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ka(n),n=Yr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function pa(t){return'href="'+mn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function dE(t){return Ve({},t,{"data-precedence":t.precedence,precedence:null})}function $S(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),St(e,"link",n),gt(e),t.head.appendChild(e))}function ka(t){return'[src="'+mn(t)+'"]'}function Cl(t){return"script[async]"+t}function By(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+mn(n.href)+'"]');if(i)return e.instance=i,gt(i),i;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),gt(i),St(i,"style",s),qu(i,n.precedence,t),e.instance=i;case"stylesheet":s=pa(n.href);var r=t.querySelector(Il(s));if(r)return e.state.loading|=4,e.instance=r,gt(r),r;i=dE(n),(s=Tn.get(s))&&Jm(i,s),r=(t.ownerDocument||t).createElement("link"),gt(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),St(r,"link",i),e.state.loading|=4,qu(r,n.precedence,t),e.instance=r;case"script":return r=ka(n.src),(s=t.querySelector(Cl(r)))?(e.instance=s,gt(s),s):(i=n,(s=Tn.get(r))&&(i=Ve({},n),eg(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),gt(s),St(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,qu(i,n.precedence,t));return e.instance}function qu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Jm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function eg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Fu=null;function qy(t,e,n){if(Fu===null){var i=new Map,s=Fu=new Map;s.set(n,i)}else s=Fu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[yl]||r[Ot]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Fy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function XS(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function mE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var el=null;function ZS(){}function WS(t,e,n){if(el===null)throw Error(U(475));var i=el;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=pa(n.href),r=t.querySelector(Il(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Ic.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,gt(r);return}r=t.ownerDocument||t,n=dE(n),(s=Tn.get(s))&&Jm(n,s),r=r.createElement("link"),gt(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),St(r,"link",n),e.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Ic.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function JS(){if(el===null)throw Error(U(475));var t=el;return t.stylesheets&&t.count===0&&xd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&xd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function xd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,e.forEach(ew,t),Cc=null,Ic.call(t))}function ew(t,e){if(!(e.state.loading&4)){var n=Cc.get(t);if(n)var i=n.get(null);else{n=new Map,Cc.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Ic.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var tl={$$typeof:oi,Provider:null,Consumer:null,_currentValue:qs,_currentValue2:qs,_threadCount:0};function tw(t,e,n,i,s,r,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.hiddenUpdates=Hh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function gE(t,e,n,i,s,r,a,l,u,h,d,p){return t=new tw(t,e,n,a,l,u,h,p),e=1,r===!0&&(e|=24),r=nn(3,null,null,e),t.current=r,r.stateNode=t,e=Cm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Nm(r),t}function pE(t){return t?(t=qr,t):qr}function yE(t,e,n,i,s,r){s=pE(s),i.context===null?i.context=s:i.pendingContext=s,i=ss(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=rs(t,i,e),n!==null&&(on(n,t,e),No(n,t,e))}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tg(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function vE(t){if(t.tag===13){var e=xa(t,67108864);e!==null&&on(e,t,67108864),tg(t,67108864)}}var xc=!0;function nw(t,e,n,i){var s=ee.T;ee.T=null;var r=Te.p;try{Te.p=2,ng(t,e,n,i)}finally{Te.p=r,ee.T=s}}function iw(t,e,n,i){var s=ee.T;ee.T=null;var r=Te.p;try{Te.p=8,ng(t,e,n,i)}finally{Te.p=r,ee.T=s}}function ng(t,e,n,i){if(xc){var s=Nd(i);if(s===null)bf(t,e,i,Nc,n),Gy(t,i);else if(rw(s,t,e,n,i))i.stopPropagation();else if(Gy(t,i),e&4&&-1<sw.indexOf(t)){for(;s!==null;){var r=Ca(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Ls(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-rn(a);l.entanglements[1]|=u,a&=~u}$n(r),!(Se&6)&&(Tc=zn()+500,Rl(0))}}break;case 13:l=xa(r,2),l!==null&&on(l,r,2),hh(),tg(r,2)}if(r=Nd(i),r===null&&bf(t,e,i,Nc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else bf(t,e,i,null,n)}}function Nd(t){return t=vm(t),ig(t)}var Nc=null;function ig(t){if(Nc=null,t=Pr(t),t!==null){var e=dl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=F_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Nc=t,null}function _E(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F2()){case Y_:return 2;case K_:return 8;case sc:case H2:return 32;case $_:return 268435456;default:return 32}default:return 32}}var Dd=!1,ls=null,us=null,cs=null,nl=new Map,il=new Map,Yi=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function go(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ca(e),e!==null&&vE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rw(t,e,n,i,s){switch(e){case"focusin":return ls=go(ls,t,e,n,i,s),!0;case"dragenter":return us=go(us,t,e,n,i,s),!0;case"mouseover":return cs=go(cs,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return nl.set(r,go(nl.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,il.set(r,go(il.get(r)||null,t,e,n,i,s)),!0}return!1}function TE(t){var e=Pr(t.target);if(e!==null){var n=dl(e);if(n!==null){if(e=n.tag,e===13){if(e=F_(n),e!==null){t.blockedOn=e,W2(t.priority,function(){if(n.tag===13){var i=an();i=mm(i);var s=xa(n,i);s!==null&&on(s,n,i),tg(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Kf=i,n.target.dispatchEvent(i),Kf=null}else return e=Ca(n),e!==null&&vE(e),t.blockedOn=n,!1;e.shift()}return!0}function Qy(t,e,n){Hu(t)&&n.delete(e)}function aw(){Dd=!1,ls!==null&&Hu(ls)&&(ls=null),us!==null&&Hu(us)&&(us=null),cs!==null&&Hu(cs)&&(cs=null),nl.forEach(Qy),il.forEach(Qy)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,aw)))}var Au=null;function Yy(t){Au!==t&&(Au=t,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(ig(i||n)===null)continue;break}var r=Ca(n);r!==null&&(t.splice(e,3),e-=3,cd(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function sl(t){function e(u){return bu(u,t)}ls!==null&&bu(ls,t),us!==null&&bu(us,t),cs!==null&&bu(cs,t),nl.forEach(e),il.forEach(e);for(var n=0;n<Yi.length;n++){var i=Yi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)TE(n),n.blockedOn===null&&Yi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Yt]||null;if(typeof r=="function")a||Yy(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Yt]||null)l=a.formAction;else if(ig(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Yy(n)}}}function sg(t){this._internalRoot=t}gh.prototype.render=sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=an();yE(n,i,t,e,null,null)};gh.prototype.unmount=sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yE(t.current,2,null,t,null,null),hh(),e[Ia]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=e0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&TE(t)}};var Ky=B_.version;if(Ky!=="19.1.0")throw Error(U(527,Ky,"19.1.0"));Te.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=P2(e),t=t!==null?H_(t):null,t=t===null?null:t.stateNode,t};var ow={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{ml=Su.inject(ow),sn=Su}catch{}}Jc.createRoot=function(t,e){if(!q_(t))throw Error(U(299));var n=!1,i="",s=gT,r=pT,a=yT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=gE(t,1,!1,null,null,n,i,s,r,a,l,null),t[Ia]=e.current,Wm(t),new sg(e)};Jc.hydrateRoot=function(t,e,n){if(!q_(t))throw Error(U(299));var i=!1,s="",r=gT,a=pT,l=yT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=gE(t,1,!0,e,n??null,i,s,r,a,l,u,h),e.context=pE(null),n=e.current,i=an(),i=mm(i),s=ss(i),s.callback=null,rs(n,s,i),n=i,e.current.lanes=n,pl(e,n),$n(e),t[Ia]=e.current,Wm(t),new gh(e)};Jc.version="19.1.0";function EE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EE)}catch(t){console.error(t)}}EE(),V_.exports=Jc;var lw=V_.exports;const uw=w_(lw),cw=()=>{};var $y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(g=64)),i.push(n[d],n[p],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new fw;const g=r<<2|l>>4;if(i.push(g),h!==64){const _=l<<4&240|h>>2;if(i.push(_),p!==64){const M=h<<6&192|p;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(t){const e=bE(t);return AE.encodeByteArray(e,!0)},Dc=function(t){return dw(t).replace(/\./g,"")},SE=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=()=>mw().__FIREBASE_DEFAULTS__,pw=()=>{if(typeof process>"u"||typeof $y>"u")return;const t=$y.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SE(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return cw()||gw()||pw()||yw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wE=t=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vw=t=>{const e=wE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},RE=()=>{var t;return(t=ph())===null||t===void 0?void 0:t.config},IE=t=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){return t.endsWith(".cloudworkstations.dev")}async function CE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(a)),""].join(".")}const jo={};function Ew(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function bw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xy=!1;function xE(t,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||jo[t]===e||jo[t]||Xy)return;jo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=Ew().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Xy=!0,a()},g}function d(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=bw(i),_=n("text"),M=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),N=document.getElementById(k)||document.createElement("a"),A=n("preprendIcon"),E=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;l(R),d(N,k);const D=h();u(E,A),R.append(E,M,N,D),document.body.appendChild(R)}r?(M.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Sw(){var t;const e=(t=ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Iw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cw(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xw(){return!Sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function Dw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kw,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?Ow(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new xi(s,l,i)}}function Ow(t,e){return t.replace(Mw,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Mw=/\{\$([^}]+)}/g;function Vw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(Zy(r)&&Zy(a)){if(!Js(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pw(t,e){const n=new Lw(t,e);return n.subscribe.bind(n)}class Lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Uw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Sf),s.error===void 0&&(s.error=Sf),s.complete===void 0&&(s.complete=Sf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _w;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bw(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zw(t){return t===zs?void 0:t}function Bw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const Fw={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Hw=fe.INFO,Gw={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Qw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Gw[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=Hw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Yw=(t,e)=>e.some(n=>t instanceof n);let Wy,Jy;function Kw(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $w(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,kd=new WeakMap,DE=new WeakMap,wf=new WeakMap,ag=new WeakMap;function Xw(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(hs(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function Zw(t){if(kd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});kd.set(t,e)}let Od={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ww(t){Od=t(Od)}function Jw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Rf(this),e,...n);return DE.set(i,e.sort?e.sort():[e]),hs(i)}:$w().includes(t)?function(...e){return t.apply(Rf(this),e),hs(NE.get(this))}:function(...e){return hs(t.apply(Rf(this),e))}}function eR(t){return typeof t=="function"?Jw(t):(t instanceof IDBTransaction&&Zw(t),Yw(t,Kw())?new Proxy(t,Od):t)}function hs(t){if(t instanceof IDBRequest)return Xw(t);if(wf.has(t))return wf.get(t);const e=eR(t);return e!==t&&(wf.set(t,e),ag.set(e,t)),e}const Rf=t=>ag.get(t);function tR(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=hs(a);return i&&a.addEventListener("upgradeneeded",u=>{i(hs(a.result),u.oldVersion,u.newVersion,hs(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],If=new Map;function ev(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=iR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||nR.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return If.set(e,r),r}Ww(t=>({...t,get:(e,n,i)=>ev(e,n)||t.get(e,n,i),has:(e,n)=>!!ev(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Md="@firebase/app",tv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new rg("@firebase/app"),aR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",dR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",pR="@firebase/functions",yR="@firebase/functions-compat",vR="@firebase/installations",_R="@firebase/installations-compat",TR="@firebase/messaging",ER="@firebase/messaging-compat",bR="@firebase/performance",AR="@firebase/performance-compat",SR="@firebase/remote-config",wR="@firebase/remote-config-compat",RR="@firebase/storage",IR="@firebase/storage-compat",CR="@firebase/firestore",xR="@firebase/ai",NR="@firebase/firestore-compat",DR="firebase",kR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",OR={[Md]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[dR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[pR]:"fire-fn",[yR]:"fire-fn-compat",[vR]:"fire-iid",[_R]:"fire-iid-compat",[TR]:"fire-fcm",[ER]:"fire-fcm-compat",[bR]:"fire-perf",[AR]:"fire-perf-compat",[SR]:"fire-rc",[wR]:"fire-rc-compat",[RR]:"fire-gcs",[IR]:"fire-gcs-compat",[CR]:"fire-fst",[NR]:"fire-fst-compat",[xR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,MR=new Map,Pd=new Map;function nv(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Pd.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of kc.values())nv(n,t);for(const n of MR.values())nv(n,t);return!0}function og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new xl("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=kR;function kE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Vd,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(n||(n=RE()),!n)throw fs.create("no-options");const r=kc.get(s);if(r){if(Js(n,r.options)&&Js(i,r.config))return r;throw fs.create("duplicate-app",{appName:s})}const a=new qw(s);for(const u of Pd.values())a.addComponent(u);const l=new PR(n,i,a);return kc.set(s,l),l}function OE(t=Vd){const e=kc.get(t);if(!e&&t===Vd&&RE())return kE();if(!e)throw fs.create("no-app",{appName:t});return e}function ds(t,e,n){var i;let s=(i=OR[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(l.join(" "));return}ya(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",UR=1,rl="firebase-heartbeat-store";let Cf=null;function ME(){return Cf||(Cf=tR(LR,UR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),Cf}async function jR(t){try{const n=(await ME()).transaction(rl),i=await n.objectStore(rl).get(VE(t));return await n.done,i}catch(e){if(e instanceof xi)bi.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function iv(t,e){try{const i=(await ME()).transaction(rl,"readwrite");await i.objectStore(rl).put(e,VE(t)),await i.done}catch(n){if(n instanceof xi)bi.warn(n.message);else{const i=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(i.message)}}}function VE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,BR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>BR){const a=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sv(),{heartbeatsToSend:i,unsentEntries:s}=FR(this._heartbeatsCache.heartbeats),r=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return bi.warn(n),""}}}function sv(){return new Date().toISOString().substring(0,10)}function FR(t,e=zR){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),rv(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nw()?Dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rv(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}function GR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){ya(new er("platform-logger",e=>new sR(e),"PRIVATE")),ya(new er("heartbeat",e=>new qR(e),"PRIVATE")),ds(Md,tv,t),ds(Md,tv,"esm2017"),ds("fire-js","")}QR("");var YR="firebase",KR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(YR,KR,"app");function lg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=PE,LE=new xl("auth","Firebase",PE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new rg("@firebase/auth");function XR(t,...e){Oc.logLevel<=fe.WARN&&Oc.warn(`Auth (${Ma}): ${t}`,...e)}function Gu(t,...e){Oc.logLevel<=fe.ERROR&&Oc.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,...e){throw ug(t,...e)}function qn(t,...e){return ug(t,...e)}function UE(t,e,n){const i=Object.assign(Object.assign({},$R()),{[e]:n});return new xl("auth","Firebase",i).create(e,{appName:t.name})}function pi(t){return UE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ug(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return LE.create(t,...e)}function te(t,e,...n){if(!t)throw ug(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function Si(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZR(){return av()==="http:"||av()==="https:"}function av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||Rw()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=Aw()||Iw()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new Dl(3e4,6e4);function kl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Va(t,e,n,i,s={}){return zE(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=Nl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},r);return ww()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(h.credentials="include"),jE.fetch()(await BE(t,t.config.apiHost,n,l),h)})}async function zE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},eI),e);try{const s=new iI(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw wu(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw wu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw wu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UE(t,d,h);Ai(t,d)}}catch(s){if(s instanceof xi)throw s;Ai(t,"network-request-failed",{message:String(s)})}}async function hg(t,e,n,i,s={}){const r=await Va(t,e,n,i,s);return"mfaPendingCredential"in r&&Ai(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function BE(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?cg(t.config,s):`${t.config.apiScheme}://${s}`;return tI.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class iI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),nI.get())})}}function wu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t,e){return Va(t,"POST","/v1/accounts:delete",e)}async function Mc(t,e){return Va(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(t,e=!1){const n=Kt(t),i=await n.getIdToken(e),s=fg(i);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:zo(xf(s.auth_time)),issuedAtTime:zo(xf(s.iat)),expirationTime:zo(xf(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function fg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const s=SE(n);return s?JSON.parse(s):(Gu("Failed to decode base64 JWT payload"),null)}catch(s){return Gu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ov(t){const e=fg(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&aI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await al(t,Mc(n,{idToken:i}));te(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?qE(r.providerUserInfo):[],l=uI(t.providerData,a),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Ud(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function lI(t){const e=Kt(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uI(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function qE(t){return t.map(e=>{var{providerId:n}=e,i=lg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e){const n=await zE(t,{},async()=>{const i=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await BE(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(u.credentials="include"),jE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hI(t,e){return Va(t,"POST","/v2/accounts:revokeToken",kl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await cI(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ta;return i&&(te(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(te(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(te(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ud(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await al(this,sI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,u,h,d;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,_=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,M=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:D,isAnonymous:O,providerData:q,stsTokenManager:T}=n;te(R&&T,e,"internal-error");const v=ta.fromJSON(this.name,T);te(typeof R=="string",e,"internal-error"),ji(p,e.name),ji(g,e.name),te(typeof D=="boolean",e,"internal-error"),te(typeof O=="boolean",e,"internal-error"),ji(_,e.name),ji(M,e.name),ji(k,e.name),ji(N,e.name),ji(A,e.name),ji(E,e.name);const b=new Rn({uid:R,auth:e,email:g,emailVerified:D,displayName:p,isAnonymous:O,photoURL:M,phoneNumber:_,tenantId:k,stsTokenManager:v,createdAt:A,lastLoginAt:E});return q&&Array.isArray(q)&&(b.providerData=q.map(S=>Object.assign({},S))),N&&(b._redirectEventId=N),b}static async _fromIdTokenResponse(e,n,i=!1){const s=new ta;s.updateFromServerResponse(n);const r=new Rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Vc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];te(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?qE(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new ta;l.updateFromIdToken(i);const u=new Rn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ud(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;function di(t){Si(t instanceof Function,"Expected a class definition");let e=lv.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const uv=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Qu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Qu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mc(this.auth,{idToken:e}).catch(()=>{});return n?Rn._fromGetAccountInfoResponse(this.auth,n,e):null}return Rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new na(di(uv),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||di(uv);const a=Qu(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const g=await Mc(e,{idToken:d}).catch(()=>{});if(!g)break;p=await Rn._fromGetAccountInfoResponse(e,g,d)}else p=Rn._fromJSON(e,d);h!==r&&(l=p),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new na(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new na(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(XE(e))return"Webos";if(GE(e))return"Safari";if((e.includes("chrome/")||QE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HE(t=Vt()){return/firefox\//i.test(t)}function GE(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QE(t=Vt()){return/crios\//i.test(t)}function YE(t=Vt()){return/iemobile/i.test(t)}function KE(t=Vt()){return/android/i.test(t)}function $E(t=Vt()){return/blackberry/i.test(t)}function XE(t=Vt()){return/webos/i.test(t)}function dg(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fI(t=Vt()){var e;return dg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dI(){return Cw()&&document.documentMode===10}function ZE(t=Vt()){return dg(t)||KE(t)||XE(t)||$E(t)||/windows phone/i.test(t)||YE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e=[]){let n;switch(t){case"Browser":n=cv(Vt());break;case"Worker":n=`${cv(Vt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e={}){return Va(t,"GET","/v2/passwordPolicy",kl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class yI{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mc(this,{idToken:e}),i=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(pi(this));const n=e?Kt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),n=new yI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ol(t){return Kt(t)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pw(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(t){mg=t}function TI(t){return mg.loadJS(t)}function EI(){return mg.gapiScript}function bI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){const n=og(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Js(r,e??{}))return s;Ai(s,"already-initialized")}return n.initialize({options:e})}function SI(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wI(t,e,n){const i=Ol(t);te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=JE(e),{host:a,port:l}=RI(e),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),te(Js(h,i.config.emulator)&&Js(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Oa(a)?(CE(`${r}//${a}${u}`),xE("Auth",!0)):II()}function JE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RI(t){const e=JE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:fv(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:fv(a)}}}function fv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function II(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return hg(t,"POST","/v1/accounts:signInWithIdp",kl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class tr extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=lg(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new tr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ml{constructor(){super("facebook.com")}static credential(e){return tr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ml{constructor(){super("github.com")}static credential(e){return tr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Ml{constructor(){super("twitter.com")}static credential(e,n){return tr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t,e){return hg(t,"POST","/v1/accounts:signUp",kl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Rn._fromIdTokenResponse(e,i,s),a=dv(i);return new wi({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=dv(i);return new wi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function dv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t){var e;if(pn(t.app))return Promise.reject(pi(t));const n=Ol(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new wi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await xI(n,{returnSecureToken:!0}),s=await wi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends xi{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Pc(e,n,i,s)}}function n1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(t,r,e,i):r})}async function DI(t,e,n=!1){const i=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e,n=!1){const{auth:i}=t;if(pn(i.app))return Promise.reject(pi(i));const s="reauthenticate";try{const r=await al(t,n1(i,s,e,t),n);te(r.idToken,i,"internal-error");const a=fg(r.idToken);te(a,i,"internal-error");const{sub:l}=a;return te(t.uid===l,i,"user-mismatch"),wi._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ai(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){if(pn(t.app))return Promise.reject(pi(t));const i="signIn",s=await n1(t,i,e),r=await wi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e){return hg(t,"POST","/v1/accounts:signInWithCustomToken",kl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e){if(pn(t.app))return Promise.reject(pi(t));const n=Ol(t),i=await MI(n,{token:e,returnSecureToken:!0}),s=await wi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function PI(t,e,n,i){return Kt(t).onIdTokenChanged(e,n,i)}function LI(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function UI(t,e,n,i){return Kt(t).onAuthStateChanged(e,n,i)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,zI=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);dI()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const BI=s1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r1.type="SESSION";const a1=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await qI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=gg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function HI(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YI(){return o1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebaseLocalStorageDb",KI=1,Uc="firebaseLocalStorage",u1="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(t,e){return t.transaction([Uc],e?"readwrite":"readonly").objectStore(Uc)}function $I(){const t=indexedDB.deleteDatabase(l1);return new Vl(t).toPromise()}function jd(){const t=indexedDB.open(l1,KI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Uc,{keyPath:u1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Uc)?e(i):(i.close(),await $I(),e(await jd()))})})}async function mv(t,e,n){const i=vh(t,!0).put({[u1]:e,value:n});return new Vl(i).toPromise()}async function XI(t,e){const n=vh(t,!1).get(e),i=await new Vl(n).toPromise();return i===void 0?null:i.value}function gv(t,e){const n=vh(t,!0).delete(e);return new Vl(n).toPromise()}const ZI=800,WI=3;class c1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>WI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jd();return await mv(e,Lc,"1"),await gv(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>XI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=vh(s,!1).getAll();return new Vl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c1.type="LOCAL";const JI=c1;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){return e?di(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends e1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tC(t){return OI(t.auth,new pg(t),t.bypassAuthState)}function nC(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),kI(n,new pg(t),t.bypassAuthState)}async function iC(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),DI(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return nC;default:Ai(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Dl(2e3,1e4);class Qr extends h1{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}Qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Yu=new Map;class aC extends h1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const i=await oC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(t,e){const n=cC(e),i=uC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function lC(t,e){Yu.set(t._key(),e)}function uC(t){return di(t._redirectPersistence)}function cC(t){return Qu(rC,t.config.apiKey,t.name)}async function hC(t,e,n=!1){if(pn(t.app))return Promise.reject(pi(t));const i=Ol(t),s=eC(i,e),a=await new aC(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!f1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e={}){return Va(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function vC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gC(t);for(const n of e)try{if(_C(n))return}catch{}Ai(t,"unauthorized-domain")}function _C(t){const e=Ld(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!yC.test(n))return!1;if(pC.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Dl(3e4,6e4);function yv(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EC(t){return new Promise((e,n)=>{var i,s,r;function a(){yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yv(),n(qn(t,"network-request-failed"))},timeout:TC.get()})}if(!((s=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Fn().gapi)===null||r===void 0)&&r.load)a();else{const l=bI("iframefcb");return Fn()[l]=()=>{gapi.load?a():n(qn(t,"network-request-failed"))},TI(`${EI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Ku=null,e})}let Ku=null;function bC(t){return Ku=Ku||EC(t),Ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Dl(5e3,15e3),SC="__/auth/iframe",wC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cg(e,wC):`https://${t.config.authDomain}/${SC}`,i={apiKey:e.apiKey,appName:t.name,v:Ma},s=IC.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Nl(i).slice(1)}`}async function xC(t){const e=await bC(t),n=Fn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:CC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=qn(t,"network-request-failed"),l=Fn().setTimeout(()=>{r(a)},AC.get());function u(){Fn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,kC=600,OC="_blank",MC="http://localhost";class vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(t,e,n,i=DC,s=kC){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},NC),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Vt().toLowerCase();n&&(l=QE(h)?OC:n),HE(h)&&(e=e||MC,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[_,M])=>`${g}${_}=${M},`,"");if(fI(h)&&l!=="_self")return PC(e||"",l),new vv(null);const p=window.open(e||"",l,d);te(p,t,"popup-blocked");try{p.focus()}catch{}return new vv(p)}function PC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",UC="emulator/auth/handler",jC=encodeURIComponent("fac");async function _v(t,e,n,i,s,r){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ma,eventId:s};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Vw(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Ml){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${jC}=${encodeURIComponent(u)}`:"";return`${zC(t)}?${Nl(l).slice(1)}${h}`}function zC({config:t}){return t.emulator?cg(t,UC):`https://${t.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1,this._completeRedirectFn=hC,this._overrideRedirectResult=lC}async _openPopup(e,n,i,s){var r;Si((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await _v(e,n,i,Ld(),s);return VC(e,a,gg())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await _v(e,n,i,Ld(),s);return HI(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Si(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xC(e),i=new dC(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nf,{type:Nf},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Nf];a!==void 0&&n(!!a),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZE()||GE()||dg()}}const qC=BC;var Tv="@firebase/auth",Ev="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(t){ya(new er("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;te(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(t)},h=new vI(i,s,r,u);return SI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ya(new er("auth-internal",e=>{const n=Ol(e.getProvider("auth").getImmediate());return(i=>new FC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(Tv,Ev,HC(t)),ds(Tv,Ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=5*60,YC=IE("authIdTokenMaxAge")||QC;let bv=null;const KC=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YC)return;const s=n==null?void 0:n.token;bv!==s&&(bv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $C(t=OE()){const e=og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AI(t,{popupRedirectResolver:qC,persistence:[JI,BI,a1]}),i=IE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=KC(r.toString());LI(n,a,()=>a(n.currentUser)),PI(n,l=>a(l))}}const s=wE("auth");return s&&wI(n,`http://${s}`),n}function XC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_I({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=qn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",XC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,d1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function b(){}b.prototype=v.prototype,T.D=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(S,I,C){for(var w=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)w[zt-2]=arguments[zt];return v.prototype[I].apply(S,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,b){b||(b=0);var S=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)S[I]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(I=0;16>I;++I)S[I]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],I=T.g[2];var C=T.g[3],w=v+(C^b&(I^C))+S[0]+3614090360&4294967295;v=b+(w<<7&4294967295|w>>>25),w=C+(I^v&(b^I))+S[1]+3905402710&4294967295,C=v+(w<<12&4294967295|w>>>20),w=I+(b^C&(v^b))+S[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=b+(v^I&(C^v))+S[3]+3250441966&4294967295,b=I+(w<<22&4294967295|w>>>10),w=v+(C^b&(I^C))+S[4]+4118548399&4294967295,v=b+(w<<7&4294967295|w>>>25),w=C+(I^v&(b^I))+S[5]+1200080426&4294967295,C=v+(w<<12&4294967295|w>>>20),w=I+(b^C&(v^b))+S[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=b+(v^I&(C^v))+S[7]+4249261313&4294967295,b=I+(w<<22&4294967295|w>>>10),w=v+(C^b&(I^C))+S[8]+1770035416&4294967295,v=b+(w<<7&4294967295|w>>>25),w=C+(I^v&(b^I))+S[9]+2336552879&4294967295,C=v+(w<<12&4294967295|w>>>20),w=I+(b^C&(v^b))+S[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=b+(v^I&(C^v))+S[11]+2304563134&4294967295,b=I+(w<<22&4294967295|w>>>10),w=v+(C^b&(I^C))+S[12]+1804603682&4294967295,v=b+(w<<7&4294967295|w>>>25),w=C+(I^v&(b^I))+S[13]+4254626195&4294967295,C=v+(w<<12&4294967295|w>>>20),w=I+(b^C&(v^b))+S[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=b+(v^I&(C^v))+S[15]+1236535329&4294967295,b=I+(w<<22&4294967295|w>>>10),w=v+(I^C&(b^I))+S[1]+4129170786&4294967295,v=b+(w<<5&4294967295|w>>>27),w=C+(b^I&(v^b))+S[6]+3225465664&4294967295,C=v+(w<<9&4294967295|w>>>23),w=I+(v^b&(C^v))+S[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=b+(C^v&(I^C))+S[0]+3921069994&4294967295,b=I+(w<<20&4294967295|w>>>12),w=v+(I^C&(b^I))+S[5]+3593408605&4294967295,v=b+(w<<5&4294967295|w>>>27),w=C+(b^I&(v^b))+S[10]+38016083&4294967295,C=v+(w<<9&4294967295|w>>>23),w=I+(v^b&(C^v))+S[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=b+(C^v&(I^C))+S[4]+3889429448&4294967295,b=I+(w<<20&4294967295|w>>>12),w=v+(I^C&(b^I))+S[9]+568446438&4294967295,v=b+(w<<5&4294967295|w>>>27),w=C+(b^I&(v^b))+S[14]+3275163606&4294967295,C=v+(w<<9&4294967295|w>>>23),w=I+(v^b&(C^v))+S[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=b+(C^v&(I^C))+S[8]+1163531501&4294967295,b=I+(w<<20&4294967295|w>>>12),w=v+(I^C&(b^I))+S[13]+2850285829&4294967295,v=b+(w<<5&4294967295|w>>>27),w=C+(b^I&(v^b))+S[2]+4243563512&4294967295,C=v+(w<<9&4294967295|w>>>23),w=I+(v^b&(C^v))+S[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=b+(C^v&(I^C))+S[12]+2368359562&4294967295,b=I+(w<<20&4294967295|w>>>12),w=v+(b^I^C)+S[5]+4294588738&4294967295,v=b+(w<<4&4294967295|w>>>28),w=C+(v^b^I)+S[8]+2272392833&4294967295,C=v+(w<<11&4294967295|w>>>21),w=I+(C^v^b)+S[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=b+(I^C^v)+S[14]+4259657740&4294967295,b=I+(w<<23&4294967295|w>>>9),w=v+(b^I^C)+S[1]+2763975236&4294967295,v=b+(w<<4&4294967295|w>>>28),w=C+(v^b^I)+S[4]+1272893353&4294967295,C=v+(w<<11&4294967295|w>>>21),w=I+(C^v^b)+S[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=b+(I^C^v)+S[10]+3200236656&4294967295,b=I+(w<<23&4294967295|w>>>9),w=v+(b^I^C)+S[13]+681279174&4294967295,v=b+(w<<4&4294967295|w>>>28),w=C+(v^b^I)+S[0]+3936430074&4294967295,C=v+(w<<11&4294967295|w>>>21),w=I+(C^v^b)+S[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=b+(I^C^v)+S[6]+76029189&4294967295,b=I+(w<<23&4294967295|w>>>9),w=v+(b^I^C)+S[9]+3654602809&4294967295,v=b+(w<<4&4294967295|w>>>28),w=C+(v^b^I)+S[12]+3873151461&4294967295,C=v+(w<<11&4294967295|w>>>21),w=I+(C^v^b)+S[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=b+(I^C^v)+S[2]+3299628645&4294967295,b=I+(w<<23&4294967295|w>>>9),w=v+(I^(b|~C))+S[0]+4096336452&4294967295,v=b+(w<<6&4294967295|w>>>26),w=C+(b^(v|~I))+S[7]+1126891415&4294967295,C=v+(w<<10&4294967295|w>>>22),w=I+(v^(C|~b))+S[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=b+(C^(I|~v))+S[5]+4237533241&4294967295,b=I+(w<<21&4294967295|w>>>11),w=v+(I^(b|~C))+S[12]+1700485571&4294967295,v=b+(w<<6&4294967295|w>>>26),w=C+(b^(v|~I))+S[3]+2399980690&4294967295,C=v+(w<<10&4294967295|w>>>22),w=I+(v^(C|~b))+S[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=b+(C^(I|~v))+S[1]+2240044497&4294967295,b=I+(w<<21&4294967295|w>>>11),w=v+(I^(b|~C))+S[8]+1873313359&4294967295,v=b+(w<<6&4294967295|w>>>26),w=C+(b^(v|~I))+S[15]+4264355552&4294967295,C=v+(w<<10&4294967295|w>>>22),w=I+(v^(C|~b))+S[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=b+(C^(I|~v))+S[13]+1309151649&4294967295,b=I+(w<<21&4294967295|w>>>11),w=v+(I^(b|~C))+S[4]+4149444226&4294967295,v=b+(w<<6&4294967295|w>>>26),w=C+(b^(v|~I))+S[11]+3174756917&4294967295,C=v+(w<<10&4294967295|w>>>22),w=I+(v^(C|~b))+S[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=b+(C^(I|~v))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var b=v-this.blockSize,S=this.B,I=this.h,C=0;C<v;){if(I==0)for(;C<=b;)s(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(S[I++]=T.charCodeAt(C++),I==this.blockSize){s(this,S),I=0;break}}else for(;C<v;)if(S[I++]=T[C++],I==this.blockSize){s(this,S),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var b=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=b&255,b/=256;for(this.u(T),T=Array(16),v=b=0;4>v;++v)for(var S=0;32>S;S+=8)T[b++]=this.g[v]>>>S&255;return T};function r(T,v){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function a(T,v){this.h=v;for(var b=[],S=!0,I=T.length-1;0<=I;I--){var C=T[I]|0;S&&C==v||(b[I]=C,S=!1)}this.g=b}var l={};function u(T){return-128<=T&&128>T?r(T,function(v){return new a([v|0],0>v?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return N(h(-T));for(var v=[],b=1,S=0;T>=b;S++)v[S]=T/b|0,b*=4294967296;return new a(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return N(d(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(v,8)),S=p,I=0;I<T.length;I+=8){var C=Math.min(8,T.length-I),w=parseInt(T.substring(I,I+C),v);8>C?(C=h(Math.pow(v,C)),S=S.j(C).add(h(w))):(S=S.j(b),S=S.add(h(w)))}return S}var p=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(k(this))return-N(this).m();for(var T=0,v=1,b=0;b<this.g.length;b++){var S=this.i(b);T+=(0<=S?S:4294967296+S)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(k(this))return"-"+N(this).toString(T);for(var v=h(Math.pow(T,6)),b=this,S="";;){var I=D(b,v).g;b=A(b,I.j(v));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=I,M(b))return C+S;for(;6>C.length;)C="0"+C;S=C+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function k(T){return T.h==-1}t.l=function(T){return T=A(this,T),k(T)?-1:M(T)?0:1};function N(T){for(var v=T.g.length,b=[],S=0;S<v;S++)b[S]=~T.g[S];return new a(b,~T.h).add(g)}t.abs=function(){return k(this)?N(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],S=0,I=0;I<=v;I++){var C=S+(this.i(I)&65535)+(T.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);S=w>>>16,C&=65535,w&=65535,b[I]=w<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function A(T,v){return T.add(N(v))}t.j=function(T){if(M(this)||M(T))return p;if(k(this))return k(T)?N(this).j(N(T)):N(N(this).j(T));if(k(T))return N(this.j(N(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var v=this.g.length+T.g.length,b=[],S=0;S<2*v;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var I=0;I<T.g.length;I++){var C=this.i(S)>>>16,w=this.i(S)&65535,zt=T.i(I)>>>16,Bt=T.i(I)&65535;b[2*S+2*I]+=w*Bt,E(b,2*S+2*I),b[2*S+2*I+1]+=C*Bt,E(b,2*S+2*I+1),b[2*S+2*I+1]+=w*zt,E(b,2*S+2*I+1),b[2*S+2*I+2]+=C*zt,E(b,2*S+2*I+2)}for(S=0;S<v;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=v;S<2*v;S++)b[S]=0;return new a(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function R(T,v){this.g=T,this.h=v}function D(T,v){if(M(v))throw Error("division by zero");if(M(T))return new R(p,p);if(k(T))return v=D(N(T),v),new R(N(v.g),N(v.h));if(k(v))return v=D(T,N(v)),new R(N(v.g),v.h);if(30<T.g.length){if(k(T)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,S=v;0>=S.l(T);)b=O(b),S=O(S);var I=q(b,1),C=q(S,1);for(S=q(S,2),b=q(b,2);!M(S);){var w=C.add(S);0>=w.l(T)&&(I=I.add(b),C=w),S=q(S,1),b=q(b,1)}return v=A(T,I.j(v)),new R(I,v)}for(I=p;0<=T.l(v);){for(b=Math.max(1,Math.floor(T.m()/v.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),C=h(b),w=C.j(v);k(w)||0<w.l(T);)b-=S,C=h(b),w=C.j(v);M(C)&&(C=g),I=I.add(C),T=A(T,w)}return new R(I,T)}t.A=function(T){return D(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],S=0;S<v;S++)b[S]=this.i(S)&T.i(S);return new a(b,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],S=0;S<v;S++)b[S]=this.i(S)|T.i(S);return new a(b,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],S=0;S<v;S++)b[S]=this.i(S)^T.i(S);return new a(b,this.h^T.h)};function O(T){for(var v=T.g.length+1,b=[],S=0;S<v;S++)b[S]=T.i(S)<<1|T.i(S-1)>>>31;return new a(b,T.h)}function q(T,v){var b=v>>5;v%=32;for(var S=T.g.length-b,I=[],C=0;C<S;C++)I[C]=0<v?T.i(C+b)>>>v|T.i(C+b+1)<<32-v:T.i(C+b);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,d1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,ms=a}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,To,g1,$u,zd,p1,y1,v1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)e:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var x=o[y];if(!(x in f))break e;f=f[x]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function r(o,c){o instanceof String&&(o+="");var f=0,y=!1,x={next:function(){if(!y&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(o){return o||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,y),o.apply(c,x)}}return function(){return o.apply(c,arguments)}}function g(o,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function M(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(y,x,V){for(var H=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)H[xe-2]=arguments[xe];return c.prototype[x].apply(y,H)}}function k(o){const c=o.length;if(0<c){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function N(o,c){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const x=o.length||0,V=y.length||0;o.length=x+V;for(let H=0;H<V;H++)o[x+H]=y[H]}else o.push(y)}}class A{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var O=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function q(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,c){let f,y;for(let x=1;x<arguments.length;x++){y=arguments[x];for(f in y)o[f]=y[f];for(let V=0;V<b.length;V++)f=b[V],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function w(){var o=ne;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class zt{constructor(){this.h=this.g=null}add(c,f){const y=Bt.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Bt=new A(()=>new P,o=>o.reset());class P{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let J,B=!1,ne=new zt,De=()=>{const o=l.Promise.resolve(void 0);J=()=>{o.then(Ni)}};var Ni=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(f){C(f)}var c=Bt;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}B=!1};function Rt(){this.s=this.s,this.C=this.C}Rt.prototype.s=!1,Rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function rt(o,c){if(oe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(O){e:{try{D(c.nodeName);var x=!0;break e}catch{}x=!1}x||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Oh[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&rt.aa.h.call(this)}}M(rt,oe);var Oh={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),fr=0;function Dn(o,c,f,y,x){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=x,this.key=++fr,this.da=this.fa=!1}function Di(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function dr(o){this.src=o,this.g={},this.h=0}dr.prototype.add=function(o,c,f,y,x){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=un(o,c,y,x);return-1<H?(c=o[H],f||(c.fa=!1)):(c=new Dn(c,this.src,V,!!y,x),c.fa=f,o.push(c)),c};function mr(o,c){var f=c.type;if(f in o.g){var y=o.g[f],x=Array.prototype.indexOf.call(y,c,void 0),V;(V=0<=x)&&Array.prototype.splice.call(y,x,1),V&&(Di(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function un(o,c,f,y){for(var x=0;x<o.length;++x){var V=o[x];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==y)return x}return-1}var Ba="closure_lm_"+(1e6*Math.random()|0),ki={};function qa(o,c,f,y,x){if(Array.isArray(c)){for(var V=0;V<c.length;V++)qa(o,c[V],f,y,x);return null}return f=qt(f),o&&o[Xt]?o.K(c,f,h(y)?!!y.capture:!1,x):gr(o,c,f,!1,y,x)}function gr(o,c,f,y,x,V){if(!c)throw Error("Invalid event type");var H=h(x)?!!x.capture:!!x,xe=xs(o);if(xe||(o[Ba]=xe=new dr(o)),f=xe.add(c,f,y,H,V),f.proxy)return f;if(y=Bl(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)It||(x=H),x===void 0&&(x=!1),o.addEventListener(c.toString(),y,x);else if(o.attachEvent)o.attachEvent(Ce(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Bl(){function o(f){return c.call(o.src,o.listener,f)}const c=Cs;return o}function ql(o,c,f,y,x){if(Array.isArray(c))for(var V=0;V<c.length;V++)ql(o,c[V],f,y,x);else y=h(y)?!!y.capture:!!y,f=qt(f),o&&o[Xt]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=un(V,f,y,x),-1<f&&(Di(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=xs(o))&&(c=o.g[c.toString()],o=-1,c&&(o=un(c,f,y,x)),(f=-1<o?c[o]:null)&&pr(f))}function pr(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Xt])mr(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(Ce(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=xs(c))?(mr(f,o),f.h==0&&(f.src=null,c[Ba]=null)):Di(o)}}}function Ce(o){return o in ki?ki[o]:ki[o]="on"+o}function Cs(o,c){if(o.da)o=!0;else{c=new rt(c,this);var f=o.listener,y=o.ha||o.src;o.fa&&pr(o),o=f.call(y,c)}return o}function xs(o){return o=o[Ba],o instanceof dr?o:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(o){return typeof o=="function"?o:(o[Xn]||(o[Xn]=function(c){return o.handleEvent(c)}),o[Xn])}function ht(){Rt.call(this),this.i=new dr(this),this.M=this,this.F=null}M(ht,Rt),ht.prototype[Xt]=!0,ht.prototype.removeEventListener=function(o,c,f,y){ql(this,o,c,f,y)};function et(o,c){var f,y=o.F;if(y)for(f=[];y;y=y.F)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new oe(c,o);else if(c instanceof oe)c.target=c.target||o;else{var x=c;c=new oe(y,o),S(c,x)}if(x=!0,f)for(var V=f.length-1;0<=V;V--){var H=c.g=f[V];x=yr(H,y,!0,c)&&x}if(H=c.g=o,x=yr(H,y,!0,c)&&x,x=yr(H,y,!1,c)&&x,f)for(V=0;V<f.length;V++)H=c.g=f[V],x=yr(H,y,!1,c)&&x}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],y=0;y<f.length;y++)Di(f[y]);delete o.g[c],o.h--}}this.F=null},ht.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},ht.prototype.L=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function yr(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var x=!0,V=0;V<c.length;++V){var H=c[V];if(H&&!H.da&&H.capture==f){var xe=H.listener,_t=H.ha||H.src;H.fa&&mr(o.i,H),x=xe.call(_t,y)!==!1&&x}}return x&&!y.defaultPrevented}function Zn(o,c,f){if(typeof o=="function")f&&(o=g(o,f));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Fa(o){o.g=Zn(()=>{o.g=null,o.i&&(o.i=!1,Fa(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Fl extends Rt{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(o){Rt.call(this),this.h=o,this.g={}}M(Oi,Rt);var Ha=[];function Ga(o){q(o.g,function(c,f){this.g.hasOwnProperty(f)&&pr(c)},o),o.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Ga(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=l.JSON.stringify,Hl=l.JSON.parse,vr=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function Ya(o){return o.h||(o.h=o.i())}function Gl(){}var re={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){oe.call(this,"d")}M(Wn,oe);function Ka(){oe.call(this,"c")}M(Ka,oe);var Jn={},$a=null;function kn(){return $a=$a||new ht}Jn.La="serverreachability";function Ql(o){oe.call(this,Jn.La,o)}M(Ql,oe);function On(o){const c=kn();et(c,new Ql(c))}Jn.STAT_EVENT="statevent";function Xa(o,c){oe.call(this,Jn.STAT_EVENT,o),this.stat=c}M(Xa,oe);function ft(o){const c=kn();et(c,new Xa(c,o))}Jn.Ma="timingevent";function Yl(o,c){oe.call(this,Jn.Ma,o),this.size=c}M(Yl,oe);function En(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function Mh(o,c,f,y,x,V){o.info(function(){if(o.g)if(V)for(var H="",xe=V.split("&"),_t=0;_t<xe.length;_t++){var ve=xe[_t].split("=");if(1<ve.length){var Ct=ve[0];ve=ve[1];var xt=Ct.split("_");H=2<=xt.length&&xt[1]=="type"?H+(Ct+"="+ve+"&"):H+(Ct+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+y+") [attempt "+x+"]: "+c+`
`+f+`
`+H})}function Vh(o,c,f,y,x,V,H){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+x+"]: "+c+`
`+f+`
`+V+" "+H})}function ei(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+$l(o,f)+(y?" "+y:"")})}function Kl(o,c){o.info(function(){return"TIMEOUT: "+c})}Ds.prototype.info=function(){};function $l(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var y=f[o];if(!(2>y.length)){var x=y[1];if(Array.isArray(x)&&!(1>x.length)){var V=x[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<x.length;H++)x[H]=""}}}}return Qa(f)}catch{return c}}var ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Za;function Tr(){}M(Tr,Ns),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Za=new Tr;function Mn(o,c,f,y){this.j=o,this.i=c,this.l=f,this.R=y||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var z={},Q={};function K(o,c,f){o.L=1,o.v=tu(ti(c)),o.m=f,o.P=!0,G(o,null)}function G(o,c){o.F=Date.now(),Ee(o),o.A=ti(o.v);var f=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),np(f.i,"t",y),o.C=0,f=o.j.J,o.h=new Xl,o.g=Tp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Fl(g(o.Y,o,o.g),o.O)),c=o.U,f=o.g,y=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Ha[0]=x.toString()),x=Ha);for(var V=0;V<x.length;V++){var H=qa(f,x[V],y||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),On(),Mh(o.i,o.u,o.A,o.l,o.R,o.m)}Mn.prototype.ca=function(o){o=o.target;const c=this.M;c&&ni(o)==3?c.j():this.Y(o)},Mn.prototype.Y=function(o){try{if(o==this.g)e:{const xt=ni(this.g);var c=this.g.Ba();const Ar=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||up(this.g)))){this.J||xt!=4||c==7||(c==8||0>=Ar?On(3):On(2)),Xe(this);var f=this.g.Z();this.X=f;t:if(X(this)){var y=up(this.g);o="";var x=y.length,V=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),He(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<x;c++)this.h.h=!0,o+=this.h.i.decode(y[c],{stream:!(V&&c==x-1)});y.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Vh(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,_t=this.g;if((xe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xe)){var ve=xe;break t}}ve=null}if(f=ve)ei(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vt(this,f);else{this.o=!1,this.s=3,ft(12),Ge(this),He(this);break e}}if(this.P){f=!0;let An;for(;!this.J&&this.C<H.length;)if(An=pe(this,H),An==Q){xt==4&&(this.s=4,ft(14),f=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(An==z){this.s=4,ft(15),ei(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else ei(this.i,this.l,An,null),vt(this,An);if(X(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||H.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)ei(this.i,this.l,H,"[Invalid Chunked Response]"),Ge(this),He(this);else if(0<H.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),zh(Ct),Ct.M=!0,ft(11))}}else ei(this.i,this.l,H,null),vt(this,H);xt==4&&Ge(this),this.o&&!this.J&&(xt==4?pp(this.j,this):(this.o=!1,Ee(this)))}else h2(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Ge(this),He(this)}}}catch{}finally{}};function X(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function pe(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Q:(f=Number(c.substring(f,y)),isNaN(f)?z:(y+=1,y+f>c.length?Q:(c=c.slice(y,y+f),o.C=y+f,c)))}Mn.prototype.cancel=function(){this.J=!0,Ge(this)};function Ee(o){o.S=Date.now()+o.I,we(o,o.I)}function we(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=En(g(o.ba,o),c)}function Xe(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Mn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Kl(this.i,this.A),this.L!=2&&(On(),ft(17)),Ge(this),this.s=2,He(this)):we(this,this.S-o)};function He(o){o.j.G==0||o.J||pp(o.j,o)}function Ge(o){Xe(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Ga(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function vt(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Qe(f.h,o))){if(!o.K&&Qe(f.h,o)&&f.G==3){try{var y=f.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var x=y;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)ou(f),ru(f);else break e;jh(f),ft(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=En(g(f.Za,f),6e3));if(1>=Be(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ms(f,11)}else if((o.K||f.g==o)&&ou(f),!E(c))for(x=f.Da.g.parse(c),c=0;c<x.length;c++){let ve=x[c];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];const Ct=ve[3];Ct!=null&&(f.la=Ct,f.j.info("VER="+f.la));const xt=ve[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));const Ar=ve[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(y=1.5*Ar,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const An=o.g;if(An){const uu=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var V=y.h;V.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Zt(V,V.h),V.h=null))}if(y.D){const Bh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(y.ya=Bh,Oe(y.I,y.D,Bh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var H=o;if(y.qa=_p(y,y.J?y.ia:null,y.W),H.K){bn(y.h,H);var xe=H,_t=y.L;_t&&(xe.I=_t),xe.B&&(Xe(xe),Ee(xe)),y.g=H}else mp(y);0<f.i.length&&au(f)}else ve[0]!="stop"&&ve[0]!="close"||Ms(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ms(f,7):Uh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}On(4)}catch{}}var je=class{constructor(o,c){this.g=o,this.map=c}};function ze(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ye(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Be(o){return o.h?1:o.g?o.g.size:0}function Qe(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Zt(o,c){o.g?o.g.add(c):o.h=c}function bn(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}ze.prototype.cancel=function(){if(this.i=Mi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Mi(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return k(o.i)}function Zl(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,y=0;y<f;y++)c.push(o[y]);return c}c=[],f=0;for(y in o)c[f++]=o[y];return c}function Wl(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const y in o)c[f++]=y;return c}}}function Wa(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=Wl(o),y=Zl(o),x=y.length,V=0;V<x;V++)c.call(void 0,y[V],f&&f[V],o)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var y=o[f].indexOf("="),x=null;if(0<=y){var V=o[f].substring(0,y);x=o[f].substring(y+1)}else V=o[f];c(V,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Os(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Os){this.h=o.h,Jl(this,o.j),this.o=o.o,this.g=o.g,eu(this,o.s),this.l=o.l;var c=o.i,f=new no;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Wg(this,f),this.m=o.m}else o&&(c=String(o).match(Ja))?(this.h=!1,Jl(this,c[1]||"",!0),this.o=eo(c[2]||""),this.g=eo(c[3]||"",!0),eu(this,c[4]),this.l=eo(c[5]||"",!0),Wg(this,c[6]||"",!0),this.m=eo(c[7]||"")):(this.h=!1,this.i=new no(null,this.h))}Os.prototype.toString=function(){var o=[],c=this.j;c&&o.push(to(c,Jg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(to(c,Jg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(to(f,f.charAt(0)=="/"?t2:e2,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",to(f,i2)),o.join("")};function ti(o){return new Os(o)}function Jl(o,c,f){o.j=f?eo(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function eu(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Wg(o,c,f){c instanceof no?(o.i=c,s2(o.i,o.h)):(f||(c=to(c,n2)),o.i=new no(c,o.h))}function Oe(o,c,f){o.i.set(c,f)}function tu(o){return Oe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function eo(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function to(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,Jb),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Jb(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Jg=/[#\/\?@]/g,e2=/[#\?:]/g,t2=/[#\?]/g,n2=/[#\?@]/g,i2=/#/g;function no(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Vi(o){o.g||(o.g=new Map,o.h=0,o.i&&Ph(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=no.prototype,t.add=function(o,c){Vi(this),this.i=null,o=Er(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function ep(o,c){Vi(o),c=Er(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function tp(o,c){return Vi(o),c=Er(o,c),o.g.has(c)}t.forEach=function(o,c){Vi(this),this.g.forEach(function(f,y){f.forEach(function(x){o.call(c,x,y,this)},this)},this)},t.na=function(){Vi(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let y=0;y<c.length;y++){const x=o[y];for(let V=0;V<x.length;V++)f.push(c[y])}return f},t.V=function(o){Vi(this);let c=[];if(typeof o=="string")tp(this,o)&&(c=c.concat(this.g.get(Er(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return Vi(this),this.i=null,o=Er(this,o),tp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function np(o,c,f){ep(o,c),0<f.length&&(o.i=null,o.g.set(Er(o,c),k(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var y=c[f];const V=encodeURIComponent(String(y)),H=this.V(y);for(y=0;y<H.length;y++){var x=V;H[y]!==""&&(x+="="+encodeURIComponent(String(H[y]))),o.push(x)}}return this.i=o.join("&")};function Er(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function s2(o,c){c&&!o.j&&(Vi(o),o.i=null,o.g.forEach(function(f,y){var x=y.toLowerCase();y!=x&&(ep(this,y),np(this,x,f))},o)),o.j=c}function r2(o,c){const f=new Ds;if(l.Image){const y=new Image;y.onload=_(Pi,f,"TestLoadImage: loaded",!0,c,y),y.onerror=_(Pi,f,"TestLoadImage: error",!1,c,y),y.onabort=_(Pi,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=_(Pi,f,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function a2(o,c){const f=new Ds,y=new AbortController,x=setTimeout(()=>{y.abort(),Pi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(V=>{clearTimeout(x),V.ok?Pi(f,"TestPingServer: ok",!0,c):Pi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(x),Pi(f,"TestPingServer: error",!1,c)})}function Pi(o,c,f,y,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),y(f)}catch{}}function o2(){this.g=new vr}function l2(o,c,f){const y=f||"";try{Wa(o,function(x,V){let H=x;h(x)&&(H=Qa(x)),c.push(y+V+"="+encodeURIComponent(H))})}catch(x){throw c.push(y+"type="+encodeURIComponent("_badmap")),x}}function nu(o){this.l=o.Ub||null,this.j=o.eb||!1}M(nu,Ns),nu.prototype.g=function(){return new iu(this.l,this.j)},nu.prototype.i=function(o){return function(){return o}}({});function iu(o,c){ht.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(iu,ht),t=iu.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,so(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ip(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ip(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?io(this):so(this),this.readyState==3&&ip(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,io(this))},t.Qa=function(o){this.g&&(this.response=o,io(this))},t.ga=function(){this.g&&io(this)};function io(o){o.readyState=4,o.l=null,o.j=null,o.v=null,so(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function so(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function sp(o){let c="";return q(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function Lh(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=sp(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Oe(o,c,f))}function Ye(o){ht.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,ht);var u2=/^https?$/i,c2=["POST","PUT"];t=Ye.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Za.g(),this.v=this.o?Ya(this.o):Ya(Za),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){rp(this,V);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var x in y)f.set(x,y[x]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())f.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),x=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(c2,c,void 0))||y||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lp(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){rp(this,V)}};function rp(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,ap(o),su(o)}function ap(o){o.A||(o.A=!0,et(o,"complete"),et(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,et(this,"complete"),et(this,"abort"),su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?op(this):this.bb())},t.bb=function(){op(this)};function op(o){if(o.h&&typeof a<"u"&&(!o.v[1]||ni(o)!=4||o.Z()!=2)){if(o.u&&ni(o)==4)Zn(o.Ea,0,o);else if(et(o,"readystatechange"),ni(o)==4){o.h=!1;try{const H=o.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=H===0){var x=String(o.D).match(Ja)[1]||null;!x&&l.self&&l.self.location&&(x=l.self.location.protocol.slice(0,-1)),y=!u2.test(x?x.toLowerCase():"")}f=y}if(f)et(o,"complete"),et(o,"success");else{o.m=6;try{var V=2<ni(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",ap(o)}}finally{su(o)}}}}function su(o,c){if(o.g){lp(o);const f=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||et(o,"ready");try{f.onreadystatechange=y}catch{}}}function lp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function ni(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Hl(c)}};function up(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(o){const c={};o=(o.g&&2<=ni(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(E(o[y]))continue;var f=I(o[y]);const x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[x]||[];c[x]=V,V.push(f)}T(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function cp(o){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ro("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ro("baseRetryDelayMs",5e3,o),this.cb=ro("retryDelaySeedMs",1e4,o),this.Wa=ro("forwardChannelMaxRetries",2,o),this.wa=ro("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ze(o&&o.concurrentRequestLimit),this.Da=new o2,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cp.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,y){ft(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=_p(this,null,this.W),au(this)};function Uh(o){if(hp(o),o.G==3){var c=o.U++,f=ti(o.I);if(Oe(f,"SID",o.K),Oe(f,"RID",c),Oe(f,"TYPE","terminate"),ao(o,f),c=new Mn(o,o.j,c),c.L=2,c.v=tu(ti(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Tp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ee(c)}vp(o)}function ru(o){o.g&&(zh(o),o.g.cancel(),o.g=null)}function hp(o){ru(o),o.u&&(l.clearTimeout(o.u),o.u=null),ou(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function au(o){if(!ye(o.h)&&!o.s){o.s=!0;var c=o.Ga;J||De(),B||(J(),B=!0),ne.add(c,o),o.B=0}}function f2(o,c){return Be(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=En(g(o.Ga,o,c),yp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new Mn(this,this.j,o);let V=this.o;if(this.S&&(V?(V=v(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(x.H=V,V=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=dp(this,x,c),f=ti(this.I),Oe(f,"RID",o),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),ao(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(sp(V)))+"&"+c:this.m&&Lh(f,this.m,V)),Zt(this.h,x),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",c),Oe(f,"SID","null"),x.T=!0,K(x,f,null)):K(x,f,c),this.G=2}}else this.G==3&&(o?fp(this,o):this.i.length==0||ye(this.h)||fp(this))};function fp(o,c){var f;c?f=c.l:f=o.U++;const y=ti(o.I);Oe(y,"SID",o.K),Oe(y,"RID",f),Oe(y,"AID",o.T),ao(o,y),o.m&&o.o&&Lh(y,o.m,o.o),f=new Mn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=dp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Zt(o.h,f),K(f,y,c)}function ao(o,c){o.H&&q(o.H,function(f,y){Oe(c,y,f)}),o.l&&Wa({},function(f,y){Oe(c,y,f)})}function dp(o,c,f){f=Math.min(o.i.length,f);var y=o.l?g(o.l.Na,o.l,o):null;e:{var x=o.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=x[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let xe=!0;for(let _t=0;_t<f;_t++){let ve=x[_t].g;const Ct=x[_t].map;if(ve-=V,0>ve)V=Math.max(0,x[_t].g-100),xe=!1;else try{l2(Ct,H,"req"+ve+"_")}catch{y&&y(Ct)}}if(xe){y=H.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,y}function mp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;J||De(),B||(J(),B=!0),ne.add(c,o),o.v=0}}function jh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=En(g(o.Fa,o),yp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,gp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=En(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ru(this),gp(this))};function zh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function gp(o){o.g=new Mn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=ti(o.qa);Oe(c,"RID","rpc"),Oe(c,"SID",o.K),Oe(c,"AID",o.T),Oe(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Oe(c,"TO",o.ja),Oe(c,"TYPE","xmlhttp"),ao(o,c),o.m&&o.o&&Lh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=tu(ti(c)),f.m=null,f.P=!0,G(f,o)}t.Za=function(){this.C!=null&&(this.C=null,ru(this),jh(this),ft(19))};function ou(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function pp(o,c){var f=null;if(o.g==c){ou(o),zh(o),o.g=null;var y=2}else if(Qe(o.h,c))f=c.D,bn(o.h,c),y=1;else return;if(o.G!=0){if(c.o)if(y==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var x=o.B;y=kn(),et(y,new Yl(y,f)),au(o)}else mp(o);else if(x=c.s,x==3||x==0&&0<c.X||!(y==1&&f2(o,c)||y==2&&jh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),x){case 1:Ms(o,5);break;case 4:Ms(o,10);break;case 3:Ms(o,6);break;default:Ms(o,2)}}}function yp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Ms(o,c){if(o.j.info("Error code "+c),c==2){var f=g(o.fb,o),y=o.Xa;const x=!y;y=new Os(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jl(y,"https"),tu(y),x?r2(y.toString(),f):a2(y.toString(),f)}else ft(2);o.G=0,o.l&&o.l.sa(c),vp(o),hp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function vp(o){if(o.G=0,o.ka=[],o.l){const c=Mi(o.h);(c.length!=0||o.i.length!=0)&&(N(o.ka,c),N(o.ka,o.i),o.h.i.length=0,k(o.i),o.i.length=0),o.l.ra()}}function _p(o,c,f){var y=f instanceof Os?ti(f):new Os(f);if(y.g!="")c&&(y.g=c+"."+y.g),eu(y,y.s);else{var x=l.location;y=x.protocol,c=c?c+"."+x.hostname:x.hostname,x=+x.port;var V=new Os(null);y&&Jl(V,y),c&&(V.g=c),x&&eu(V,x),f&&(V.l=f),y=V}return f=o.D,c=o.ya,f&&c&&Oe(y,f,c),Oe(y,"VER",o.la),ao(o,y),y}function Tp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Ye(new nu({eb:f})):new Ye(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ep(){}t=Ep.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lu(){}lu.prototype.g=function(o,c){return new Wt(o,c)};function Wt(o,c){ht.call(this),this.g=new cp(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!E(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new br(this)}M(Wt,ht),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Uh(this.g)},Wt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Qa(o),o=f);c.i.push(new je(c.Ya++,o)),c.G==3&&au(c)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Uh(this.g),delete this.g,Wt.aa.N.call(this)};function bp(o){Wn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}M(bp,Wn);function Ap(){Ka.call(this),this.status=1}M(Ap,Ka);function br(o){this.g=o}M(br,Ep),br.prototype.ua=function(){et(this.g,"a")},br.prototype.ta=function(o){et(this.g,new bp(o))},br.prototype.sa=function(o){et(this.g,new Ap)},br.prototype.ra=function(){et(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,v1=function(){return new lu},y1=function(){return kn()},p1=Jn,zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,$u=ks,_r.COMPLETE="complete",g1=_r,Gl.EventType=re,re.OPEN="a",re.CLOSE="b",re.ERROR="c",re.MESSAGE="d",ht.prototype.listen=ht.prototype.K,To=Gl,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,m1=Ye}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",wv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new rg("@firebase/firestore");function Nr(){return nr.logLevel}function Y(t,...e){if(nr.logLevel<=fe.DEBUG){const n=e.map(yg);nr.debug(`Firestore (${Pa}): ${t}`,...n)}}function Ri(t,...e){if(nr.logLevel<=fe.ERROR){const n=e.map(yg);nr.error(`Firestore (${Pa}): ${t}`,...n)}}function va(t,...e){if(nr.logLevel<=fe.WARN){const n=e.map(yg);nr.warn(`Firestore (${Pa}): ${t}`,...n)}}function yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,_1(t,i,n)}function _1(t,e,n){let i=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ri(i),new Error(i)}function be(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||_1(e,s,i)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new gs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new gs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new T1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class ex{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tx{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ex(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);const i=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=ix(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function le(t,e){return t<e?-1:t>e?1:0}function Bd(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return le(i,s);{const r=E1(),a=sx(r.encode(Iv(t,n)),r.encode(Iv(e,n)));return a!==0?a:le(i,s)}}n+=i>65535?2:1}return le(t.length,e.length)}function Iv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sx(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function _a(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,xv=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*xv);return new lt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cv)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new lt(0,0))}static max(){return new ie(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__name__";class Pn{constructor(e,n,i){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&W(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Pn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return le(e.length,n.length)}static compareSegments(e,n){const i=Pn.isNumericId(e),s=Pn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):Bd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class Me extends Pn{construct(e,n,i){return new Me(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Pn{construct(e,n,i){return new At(e,n,i)}static isValidIdentifier(e){return rx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new At([Nv])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new $(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new $(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new $(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Me.fromString(e))}static fromName(e){return new Z(Me.fromString(e).popFirst(5))}static empty(){return new Z(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=-1;function ax(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(i===1e9?new lt(n+1,0):new lt(n,i));return new Ts(s,Z.empty(),e)}function ox(t){return new Ts(t.readTime,t.key,ol)}class Ts{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ts(ie.min(),Z.empty(),ol)}static max(){return new Ts(ie.max(),Z.empty(),ol)}}function lx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==ux)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new L((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new L((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function hx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_h.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function Th(t){return t==null}function jc(t){return t===0&&1/t==-1/0}function fx(t){return typeof t=="number"&&Number.isInteger(t)&&!jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function dx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dv(e)),e=mx(t.get(n),e);return Dv(e)}function mx(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case A1:n+="";break;default:n+=r}}return n}function Dv(t){return t+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Et.RED,this.left=s??Et.EMPTY,this.right=r??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Et(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new In([])}unionWith(e){let n=new ut(At.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new w1("Invalid base64 string: "+r):r}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(be(!!t,39018),typeof t=="string"){let e=0;const n=gx.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="server_timestamp",I1="__type__",C1="__previous_value__",x1="__local_write_time__";function _g(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[I1])===null||n===void 0?void 0:n.stringValue)===R1}function Eh(t){const e=t.mapValue.fields[C1];return _g(e)?Eh(e):e}function ll(t){const e=Es(t.mapValue.fields[x1].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,i,s,r,a,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const zc="(default)";class ul{constructor(e,n){this.projectId=e,this.database=n||zc}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",yx="__max__",Cu={mapValue:{}},D1="__vector__",Bc="value";function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_g(t)?4:_x(t)?9007199254740991:vx(t)?10:11:W(28295,{value:t})}function Yn(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Es(s.timestampValue),l=Es(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return bs(s.bytesValue).isEqual(bs(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Je(s.geoPointValue.latitude)===Je(r.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Je(s.integerValue)===Je(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Je(s.doubleValue),l=Je(r.doubleValue);return a===l?jc(a)===jc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(kv(a)!==kv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Yn(a[u],l[u])))return!1;return!0}(t,e);default:return W(52216,{left:t})}}function cl(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=As(t),i=As(e);if(n!==i)return le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Je(r.integerValue||r.doubleValue),u=Je(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(ll(t),ll(e));case 5:return Bd(t.stringValue,e.stringValue);case 6:return function(r,a){const l=bs(r),u=bs(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=le(l[h],u[h]);if(d!==0)return d}return le(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=le(Je(r.latitude),Je(a.latitude));return l!==0?l:le(Je(r.longitude),Je(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,u,h,d;const p=r.fields||{},g=a.fields||{},_=(l=p[Bc])===null||l===void 0?void 0:l.arrayValue,M=(u=g[Bc])===null||u===void 0?void 0:u.arrayValue,k=le(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=M==null?void 0:M.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:Vv(_,M)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Cu.mapValue&&a===Cu.mapValue)return 0;if(r===Cu.mapValue)return 1;if(a===Cu.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=Bd(u[p],d[p]);if(g!==0)return g;const _=Ta(l[u[p]],h[d[p]]);if(_!==0)return _}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw W(23264,{Pe:n})}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Es(t),i=Es(e),s=le(n.seconds,i.seconds);return s!==0?s:le(n.nanos,i.nanos)}function Vv(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Ta(n[s],i[s]);if(r)return r}return le(n.length,i.length)}function Ea(t){return qd(t)}function qd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Es(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=qd(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${qd(n.fields[a])}`;return s+"}"}(t.mapValue):W(61005,{value:t})}function Xu(t){switch(As(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(t);return e?16+Xu(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Xu(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return lr(i.fields,(r,a)=>{s+=r.length+Xu(a)}),s}(t.mapValue);default:throw W(13486,{value:t})}}function Pv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fd(t){return!!t&&"integerValue"in t}function Tg(t){return!!t&&"arrayValue"in t}function Lv(t){return!!t&&"nullValue"in t}function Uv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function vx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[N1])===null||n===void 0?void 0:n.stringValue)===D1}function Bo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _x(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(n)}setAll(e){let n=At.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Bo(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){lr(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new yn(Bo(this.value))}}function k1(t){const e=[];return lr(t.fields,(n,i)=>{const s=new At([n]);if(Zu(i)){const r=k1(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,ie.min(),ie.min(),ie.min(),yn.empty(),0)}static newFoundDocument(e,n,i,s){return new kt(e,1,n,ie.min(),i,s,0)}static newNoDocument(e,n){return new kt(e,2,n,ie.min(),ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ie.min(),ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.position=e,this.inclusive=n}}function jv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(a.referenceValue),n.key):i=Ta(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{}class it extends O1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new bx(e,n,i):n==="array-contains"?new wx(e,i):n==="in"?new Rx(e,i):n==="not-in"?new Ix(e,i):n==="array-contains-any"?new Cx(e,i):new it(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Ax(e,i):new Sx(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends O1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new xn(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function M1(t){return t.op==="and"}function V1(t){return Ex(t)&&M1(t)}function Ex(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function Hd(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(V1(t))return t.filters.map(e=>Hd(e)).join(",");{const e=t.filters.map(n=>Hd(n)).join(",");return`${t.op}(${e})`}}function P1(t,e){return t instanceof it?function(i,s){return s instanceof it&&i.op===s.op&&i.field.isEqual(s.field)&&Yn(i.value,s.value)}(t,e):t instanceof xn?function(i,s){return s instanceof xn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&P1(a,s.filters[l]),!0):!1}(t,e):void W(19439)}function L1(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(L1).join(" ,")+"}"}(t):"Filter"}class bx extends it{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ax extends it{constructor(e,n){super(e,"in",n),this.keys=U1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sx extends it{constructor(e,n){super(e,"not-in",n),this.keys=U1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function U1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class wx extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tg(n)&&cl(n.arrayValue,this.value)}}class Rx extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class Ix extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cl(this.value.arrayValue,n)}}class Cx extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>cl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function Bv(t,e=null,n=[],i=[],s=null,r=null,a=null){return new xx(t,e,n,i,s,r,a)}function Eg(t){const e=se(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ea(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ea(i)).join(",")),e.Ie=n}return e.Ie}function bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zv(t.startAt,e.startAt)&&zv(t.endAt,e.endAt)}function Gd(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nx(t,e,n,i,s,r,a,l){return new Pl(t,e,n,i,s,r,a,l)}function bh(t){return new Pl(t)}function qv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j1(t){return t.collectionGroup!==null}function qo(t){const e=se(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ut(At.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Fc(r,i))}),n.has(At.keyField().canonicalString())||e.Ee.push(new Fc(At.keyField(),i))}return e.Ee}function Hn(t){const e=se(t);return e.de||(e.de=Dx(e,qo(t))),e.de}function Dx(t,e){if(t.limitType==="F")return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Fc(s.field,r)});const n=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Qd(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yd(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return bg(Hn(t),Hn(e))&&t.limitType===e.limitType}function z1(t){return`${Eg(Hn(t))}|lt:${t.limitType}`}function Dr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>L1(s)).join(", ")}]`),Th(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ea(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ea(s)).join(",")),`Target(${i})`}(Hn(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Z.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of qo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=jv(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,qo(i),s)||i.endAt&&!function(a,l,u){const h=jv(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,qo(i),s))}(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B1(t){return(e,n)=>{let i=!1;for(const s of qo(t)){const r=Ox(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Ox(t,e,n){const i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?Ta(u,h):W(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return W(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lr(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Fe(Z.comparator);function Ii(){return Mx}const q1=new Fe(Z.comparator);function Eo(...t){let e=q1;for(const n of t)e=e.insert(n.key,n);return e}function F1(t){let e=q1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Bs(){return Fo()}function H1(){return Fo()}function Fo(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vx=new Fe(Z.comparator),Px=new ut(Z.comparator);function de(...t){let e=Px;for(const n of t)e=e.add(n);return e}const Lx=new ut(le);function Ux(){return Lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function G1(t){return{integerValue:""+t}}function jx(t,e){return fx(e)?G1(e):Ag(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function zx(t,e,n){return t instanceof Hc?function(s,r){const a={fields:{[I1]:{stringValue:R1},[x1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&_g(r)&&(r=Eh(r)),r&&(a.fields[C1]=r),{mapValue:a}}(n,e):t instanceof hl?Y1(t,e):t instanceof fl?K1(t,e):function(s,r){const a=Q1(s,r),l=Fv(a)+Fv(s.Re);return Fd(a)&&Fd(s.Re)?G1(l):Ag(s.serializer,l)}(t,e)}function Bx(t,e,n){return t instanceof hl?Y1(t,e):t instanceof fl?K1(t,e):n}function Q1(t,e){return t instanceof Gc?function(i){return Fd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Hc extends wh{}class hl extends wh{constructor(e){super(),this.elements=e}}function Y1(t,e){const n=$1(e);for(const i of t.elements)n.some(s=>Yn(s,i))||n.push(i);return{arrayValue:{values:n}}}class fl extends wh{constructor(e){super(),this.elements=e}}function K1(t,e){let n=$1(e);for(const i of t.elements)n=n.filter(s=>!Yn(s,i));return{arrayValue:{values:n}}}class Gc extends wh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Fv(t){return Je(t.integerValue||t.doubleValue)}function $1(t){return Tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qx(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof hl&&s instanceof hl||i instanceof fl&&s instanceof fl?_a(i.elements,s.elements,Yn):i instanceof Gc&&s instanceof Gc?Yn(i.Re,s.Re):i instanceof Hc&&s instanceof Hc}(t.transform,e.transform)}class Fx{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function X1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,Gn.none()):new Ll(t.key,t.data,Gn.none());{const n=t.data,i=yn.empty();let s=new ut(At.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new cr(t.key,i,new In(s.toArray()),Gn.none())}}function Hx(t,e,n){t instanceof Ll?function(s,r,a){const l=s.value.clone(),u=Gv(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(s,r,a){if(!Wu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Gv(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(Z1(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ho(t,e,n,i){return t instanceof Ll?function(r,a,l,u){if(!Wu(r.precondition,a))return l;const h=r.value.clone(),d=Qv(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof cr?function(r,a,l,u){if(!Wu(r.precondition,a))return l;const h=Qv(r.fieldTransforms,u,a),d=a.data;return d.setAll(Z1(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,a,l){return Wu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Gx(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=Q1(i.transform,s||null);r!=null&&(n===null&&(n=yn.empty()),n.set(i.field,r))}return n||null}function Hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&_a(i,s,(r,a)=>qx(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends Rh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cr extends Rh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Gv(t,e,n){const i=new Map;be(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,Bx(a,l,n[s]))}return i}function Qv(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,zx(r,a,e))}return i}class Sg extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qx extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&Hx(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ho(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ho(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=H1();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=X1(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,i)=>Hv(n,i))&&_a(this.baseMutations,e.baseMutations,(n,i)=>Hv(n,i))}}class wg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){be(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return Vx}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new wg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,me;function Xx(t){switch(t){case j.OK:return W(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return W(15467,{code:t})}}function W1(t){if(t===void 0)return Ri("GRPC error has no .code"),j.UNKNOWN;switch(t){case tt.OK:return j.OK;case tt.CANCELLED:return j.CANCELLED;case tt.UNKNOWN:return j.UNKNOWN;case tt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case tt.INTERNAL:return j.INTERNAL;case tt.UNAVAILABLE:return j.UNAVAILABLE;case tt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case tt.NOT_FOUND:return j.NOT_FOUND;case tt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case tt.ABORTED:return j.ABORTED;case tt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case tt.DATA_LOSS:return j.DATA_LOSS;default:return W(39323,{code:t})}}(me=tt||(tt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new ms([4294967295,4294967295],0);function Yv(t){const e=E1().encode(t),n=new d1;return n.update(e),new Uint8Array(n.digest())}function Kv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new ms([n,i],0),new ms([s,r],0)]}class Rg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(i<0)throw new bo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ms.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(ms.fromNumber(i)));return s.compare(Zx)===1&&(s=new ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Yv(e),[i,s]=Kv(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new Rg(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=Yv(e),[i,s]=Kv(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ih(ie.min(),s,new Fe(le),Ii(),de())}}class Ul{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ul(i,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class J1{constructor(e,n){this.targetId=e,this.Ce=n}}class eb{constructor(e,n,i=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class $v{constructor(){this.Fe=0,this.Me=Xv(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=de(),n=de(),i=de();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:W(38017,{changeType:r})}}),new Ul(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=Xv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,be(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Wx{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=xu(),this.Ye=xu(),this.Ze=new Fe(le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const r=s.target;if(Gd(r))if(i===0){const a=new Z(r.path);this.tt(n,a,kt.newNoDocument(a,ie.min()))}else be(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=bs(i).toUint8Array()}catch(u){if(u instanceof w1)return va("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Rg(a,s,r)}catch(u){return va(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),s++)}),s}It(e){const n=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&Gd(l.target)){const u=new Z(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,kt.newNoDocument(u,e))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=de();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(e));const s=new Ih(e,n,this.Ze,this.He,i);return this.He=Ii(),this.Je=xu(),this.Ye=xu(),this.Ze=new Fe(le),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new $v,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ut(le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ut(le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $v),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function xu(){return new Fe(Z.comparator)}function Xv(){return new Fe(Z.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class nN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kd(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iN(t,e){return Qc(t,e.toTimestamp())}function Qn(t){return be(!!t,49232),ie.fromTimestamp(function(n){const i=Es(n);return new lt(i.seconds,i.nanos)}(t))}function Ig(t,e){return $d(t,e).canonicalString()}function $d(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nb(t){const e=Me.fromString(t);return be(ob(e),10190,{key:e.toString()}),e}function Xd(t,e){return Ig(t.databaseId,e.path)}function Df(t,e){const n=nb(e);if(n.get(1)!==t.databaseId.projectId)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(sb(n))}function ib(t,e){return Ig(t.databaseId,e)}function sN(t){const e=nb(t);return e.length===4?Me.emptyPath():sb(e)}function Zd(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sb(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zv(t,e,n){return{name:Xd(t,e),fields:n.value.mapValue.fields}}function rN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(be(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(be(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?j.UNKNOWN:W1(h.code);return new $(d,h.message||"")}(a);n=new eb(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Df(t,i.document.name),r=Qn(i.document.updateTime),a=i.document.createTime?Qn(i.document.createTime):ie.min(),l=new yn({mapValue:{fields:i.document.fields}}),u=kt.newFoundDocument(s,r,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Ju(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Df(t,i.document),r=i.readTime?Qn(i.readTime):ie.min(),a=kt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Ju([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Df(t,i.document),r=i.removedTargetIds||[];n=new Ju([],r,s,null)}else{if(!("filter"in e))return W(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new $x(s,r),l=i.targetId;n=new J1(l,a)}}return n}function aN(t,e){let n;if(e instanceof Ll)n={update:Zv(t,e.key,e.value)};else if(e instanceof Sg)n={delete:Xd(t,e.key)};else if(e instanceof cr)n={update:Zv(t,e.key,e.data),updateMask:gN(e.fieldMask)};else{if(!(e instanceof Qx))return W(16599,{ft:e.type});n={verify:Xd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Hc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw W(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:iN(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W(27497)}(t,e.precondition)),n}function oN(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Qn(s.updateTime):Qn(r);return a.isEqual(ie.min())&&(a=Qn(r)),new Fx(a,s.transformResults||[])}(n,e))):[]}function lN(t,e){return{documents:[ib(t,e.path)]}}function uN(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ib(t,s);const r=function(h){if(h.length!==0)return ab(xn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:kr(g.field),direction:fN(g.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Kd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function cN(t){let e=sN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){be(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(p){const g=rb(p);return g instanceof xn&&V1(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(M){return new Fc(Or(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Th(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new qc(_,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,_=p.values||[];return new qc(_,g)}(n.endAt)),Nx(e,s,a,r,l,"F",u,h)}function hN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Or(n.unaryFilter.field);return it.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Or(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Or(n.unaryFilter.field);return it.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Or(n.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(Or(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(i=>rb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(t):W(30097,{filter:t})}function fN(t){return Jx[t]}function dN(t){return eN[t]}function mN(t){return tN[t]}function kr(t){return{fieldPath:t.canonicalString()}}function Or(t){return At.fromServerFormat(t.fieldPath)}function ab(t){return t instanceof it?function(n){if(n.op==="=="){if(Uv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(n.field),op:dN(n.op),value:n.value}}}(t):t instanceof xn?function(n){const i=n.getFilters().map(s=>ab(s));return i.length===1?i[0]:{compositeFilter:{op:mN(n.op),filters:i}}}(t):W(54877,{filter:t})}function gN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ob(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,i,s,r=ie.min(),a=ie.min(),l=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.wt=e}}function yN(t){const e=cN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Cn=new _N}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ts.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class _N{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new ut(Me.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ut(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(lb,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ba(0)}static lr(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LruGarbageCollector",TN=1048576;function e_([t,e],[n,i]){const s=le(t,n);return s===0?le(e,i):s}class EN{constructor(e){this.Er=e,this.buffer=new ut(e_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();e_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(Jv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ua(n)?Y(Jv,"Ignoring IndexedDB error during garbage collection: ",n):await La(n)}await this.mr(3e5)})}}class AN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(_h.le);const i=new EN(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Wv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,r,a,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),Nr()<=fe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function SN(t,e){return new AN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ho(i.mutation,s,In.empty(),lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,de()).next(()=>i))}getLocalViewOfDocuments(e,n,i=de()){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Eo();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,de()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=Ii();const a=Fo(),l=function(){return Fo()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof cr)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ho(d.mutation,h,d.mutation.getFieldMask(),lt.now())):a.set(h.key,In.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new RN(d,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const i=Fo();let s=new Fe((a,l)=>a-l),r=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||In.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(s.get(l.batchId)||de()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=H1();d.forEach(g=>{if(!r.has(g)){const _=X1(n.get(g),i.get(g));_!==null&&p.set(g,_),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return Z.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):L.resolve(Bs());let l=ol,u=r;return a.next(h=>L.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,de())).next(d=>({batchId:l,changes:F1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let s=Eo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Eo();return this.indexManager.getCollectionParents(e,r).next(l=>L.forEach(l,u=>{const h=function(p,g){return new Pl(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(d=>{d.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,kt.newInvalidDocument(d)))});let l=Eo();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&Ho(d.mutation,h,In.empty(),lt.now()),Sh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return L.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qn(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:yN(s.bundledQuery),readTime:Qn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.overlays=new Fe(Z.comparator),this.Qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bs();return L.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.St(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const s=Bs(),r=n.length+1,a=new Z(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Fe((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=Bs(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Bs(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return L.resolve(l)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Kx(n,i));let r=this.Qr.get(n);r===void 0&&(r=de(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.$r=new ut(dt.Ur),this.Kr=new ut(dt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new dt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new dt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Z(new Me([])),i=new dt(n,e),s=new dt(n,e+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Z(new Me([])),i=new dt(n,e),s=new dt(n,e+1);let r=de();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new dt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Z.comparator(e.key,n.key)||le(e.Zr,n.Zr)}static Wr(e,n){return le(e.Zr,n.Zr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ut(dt.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yx(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new dt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?vg:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dt(n,0),s=new dt(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ut(le);return n.forEach(s=>{const r=new dt(s,0),a=new dt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),L.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const a=new dt(new Z(r),0);let l=new ut(le);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Zr)),!0)},a),L.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){be(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return L.forEach(n.mutations,s=>{const r=new dt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new dt(n,0),s=this.Xr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.ii=e,this.docs=function(){return new Fe(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let i=Ii();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():kt.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ii();const a=n.path,l=new Z(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||lx(ox(d),i)<=0||(s.has(d.key)||Sh(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,i,s){W(9500)}si(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ON(this)}getSize(e){return L.resolve(this.size)}}class ON extends wN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.persistence=e,this.oi=new ur(n=>Eg(n),bg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Cg,this.targetCount=0,this.ui=ba.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),L.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ba(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Tr(n),L.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.ci={},this.overlays={},this.li=new _h(0),this.hi=!1,this.hi=!0,this.Pi=new NN,this.referenceDelegate=e(this),this.Ti=new MN(this),this.indexManager=new vN,this.remoteDocumentCache=function(s){return new kN(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new pN(n),this.Ei=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new DN(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){Y("MemoryPersistence","Starting transaction:",e);const s=new VN(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,n){return L.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class VN extends cx{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Vi=new Cg,this.mi=null}static fi(e){return new xg(e)}get gi(){if(this.mi)return this.mi;throw W(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,i=>{const s=Z.fromPath(i);return this.pi(e,s).next(r=>{r||n.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return L.or([()=>L.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.yi=new ur(i=>dx(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=SN(this,n)}static fi(e,n){return new Yc(e,n)}di(){}Ai(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return L.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?L.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,ie.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xu(e.data.value)),n}Dr(e,n,i){return L.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return L.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=de(),s=de();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Ng(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xw()?8:hx(Vt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ws(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new PN;return this.Ss(e,n,a).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>r.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(Nr()<=fe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Nr()<=fe.DEBUG&&Y("QueryEngine","Query:",Dr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Nr()<=fe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):L.resolve())}ws(e,n){if(qv(n))return L.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yd(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=de(...r);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(e,Yd(n,null,"F")):this.Fs(e,h,n,u)}))})))}bs(e,n,i,s){return qv(n)||s.isEqual(ie.min())?L.resolve(null):this.ys.getDocuments(e,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?L.resolve(null):(Nr()<=fe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dr(n)),this.Fs(e,a,n,ax(s,ol)).next(l=>l))})}vs(e,n){let i=new ut(B1(e));return n.forEach((s,r)=>{Sh(e,r)&&(i=i.add(r))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,n,i){return Nr()<=fe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.ys.getDocumentsMatchingQuery(e,n,Ts.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",UN=3e8;class jN{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Fe(le),this.Os=new ur(r=>Eg(r),bg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function zN(t,e,n,i){return new jN(t,e,n,i)}async function cb(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=de();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function BN(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,g=p.keys();let _=L.resolve();return g.forEach(M=>{_=_.next(()=>d.getEntry(u,M)).next(k=>{const N=h.docVersions.get(M);be(N!==null,48541),k.version.compareTo(N)<0&&(p.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),d.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=de();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function hb(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function qN(t,e){const n=se(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,p)=>{const g=s.get(p);if(!g)return;l.push(n.Ti.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(r,d.addedDocuments,p)));let _=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(wt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),s=s.insert(p,_),function(k,N,A){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=UN?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,_,d)&&l.push(n.Ti.updateTargetData(r,_))});let u=Ii(),h=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(FN(r,a,e.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(ie.min())){const d=n.Ti.getLastRemoteSnapshotVersion(r).next(p=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(d)}return L.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.xs=s,r))}function FN(t,e,n){let i=de(),s=de();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Ii();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Y(Dg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:s}})}function HN(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function GN(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(r=>r?(s=r,L.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new ns(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Wd(t,e,n){const i=se(t),s=i.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ua(a))throw a;Y(Dg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function t_(t,e,n){const i=se(t);let s=ie.min(),r=de();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=se(u),g=p.Os.get(d);return g!==void 0?L.resolve(p.xs.get(g)):p.Ti.getTargetData(h,d)}(i,a,Hn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,n?s:ie.min(),n?r:de())).next(l=>(QN(i,kx(e),l),{documents:l,$s:r})))}function QN(t,e,n){let i=t.Ns.get(e)||ie.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ns.set(e,i)}class n_{constructor(){this.activeTargetIds=Ux()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YN{constructor(){this.xo=new n_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new n_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class s_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(i_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Y(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function Jd(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",$N={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===zc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,r){const a=Jd(),l=this.jo(e,n.toUriEncodedString());Y(kf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,r);const{host:h}=new URL(l),d=Oa(h);return this.Jo(e,l,u,i,d).then(p=>(Y(kf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw va(kf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Yo(e,n,i,s,r,a){return this.zo(e,n,i,s,r)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,n){const i=$N[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class WN extends XN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,r){const a=Jd();return new Promise((l,u)=>{const h=new m1;h.setWithCredentials(!0),h.listenOnce(g1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case $u.NO_ERROR:const p=h.getResponseJson();Y(Nt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case $u.TIMEOUT:Y(Nt,`RPC '${e}' ${a} timed out`),u(new $(j.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const g=h.getStatus();if(Y(Nt,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const M=_==null?void 0:_.error;if(M&&M.status&&M.message){const k=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(M.status);u(new $(k,M.message))}else u(new $(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new $(j.UNAVAILABLE,"Connection failed."));break;default:W(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Y(Nt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Y(Nt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}I_(e,n,i){const s=Jd(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=v1(),l=y1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=r.join("");Y(Nt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const p=a.createWebChannel(d,u);this.E_(p);let g=!1,_=!1;const M=new ZN({Zo:N=>{_?Y(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(g||(Y(Nt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Y(Nt,`RPC '${e}' stream ${s} sending:`,N),p.send(N))},Xo:()=>p.close()}),k=(N,A,E)=>{N.listen(A,R=>{try{E(R)}catch(D){setTimeout(()=>{throw D},0)}})};return k(p,To.EventType.OPEN,()=>{_||(Y(Nt,`RPC '${e}' stream ${s} transport opened.`),M.__())}),k(p,To.EventType.CLOSE,()=>{_||(_=!0,Y(Nt,`RPC '${e}' stream ${s} transport closed`),M.u_(),this.d_(p))}),k(p,To.EventType.ERROR,N=>{_||(_=!0,va(Nt,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),M.u_(new $(j.UNAVAILABLE,"The operation could not be completed")))}),k(p,To.EventType.MESSAGE,N=>{var A;if(!_){const E=N.data[0];be(!!E,16349);const R=E,D=(R==null?void 0:R.error)||((A=R[0])===null||A===void 0?void 0:A.error);if(D){Y(Nt,`RPC '${e}' stream ${s} received error:`,D);const O=D.status;let q=function(b){const S=tt[b];if(S!==void 0)return W1(S)}(O),T=D.message;q===void 0&&(q=j.INTERNAL,T="Unknown error status: "+O+" with message "+D.message),_=!0,M.u_(new $(q,T)),p.close()}else Y(Nt,`RPC '${e}' stream ${s} received:`,E),M.c_(E)}}),k(l,p1.STAT_EVENT,N=>{N.stat===zd.PROXY?Y(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===zd.NOPROXY&&Y(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new nN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class db{constructor(e,n,i,s,r,a,l,u){this.xi=e,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new fb(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{e(()=>{const s=new $(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Y(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Y(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends db{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=rN(this.serializer,e),i=function(r){if(!("targetChange"in r))return ie.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Qn(a.readTime):ie.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=Zd(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=Gd(u)?{documents:lN(r,u)}:{query:uN(r,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=tb(r,a.resumeToken);const h=Kd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ie.min())>0){l.readTime=Qc(r,a.snapshotVersion.toTimestamp());const h=Kd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=hN(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=Zd(this.serializer),n.removeTarget=e,this.Q_(n)}}class e4 extends db{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oN(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=Zd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>aN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{}class n4 extends t4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(e,$d(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(j.UNKNOWN,r.toString())})}Yo(e,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,$d(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class i4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ri(n),this.ua=!1):Y("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="RemoteStore";class s4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{hr(this)&&(Y(ir,"Restarting streams for network reachability change."),await async function(u){const h=se(u);h.da.add(4),await jl(h),h.Va.set("Unknown"),h.da.delete(4),await xh(h)}(this))})}),this.Va=new i4(i,s)}}async function xh(t){if(hr(t))for(const e of t.Aa)await e(!0)}async function jl(t){for(const e of t.Aa)await e(!1)}function mb(t,e){const n=se(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Vg(n)?Mg(n):ja(n).N_()&&Og(n,e))}function kg(t,e){const n=se(t),i=ja(n);n.Ea.delete(e),i.N_()&&gb(n,e),n.Ea.size===0&&(i.N_()?i.k_():hr(n)&&n.Va.set("Unknown"))}function Og(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).Z_(e)}function gb(t,e){t.ma.Ke(e),ja(t).X_(e)}function Mg(t){t.ma=new Wx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.Va.ca()}function Vg(t){return hr(t)&&!ja(t).O_()&&t.Ea.size>0}function hr(t){return se(t).da.size===0}function pb(t){t.ma=void 0}async function r4(t){t.Va.set("Online")}async function a4(t){t.Ea.forEach((e,n)=>{Og(t,e)})}async function o4(t,e){pb(t),Vg(t)?(t.Va.Pa(e),Mg(t)):t.Va.set("Unknown")}async function l4(t,e,n){if(t.Va.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(i){Y(ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kc(t,i)}else if(e instanceof Ju?t.ma.Xe(e):e instanceof J1?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ie.min()))try{const i=await hb(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=r.Ea.get(u);if(!d)return;r.Ea.set(u,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),gb(r,u);const p=new ns(d.target,u,h,d.sequenceNumber);Og(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Y(ir,"Failed to raise snapshot:",i),await Kc(t,i)}}async function Kc(t,e,n){if(!Ua(e))throw e;t.da.add(1),await jl(t),t.Va.set("Offline"),n||(n=()=>hb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(ir,"Retrying IndexedDB access"),await n(),t.da.delete(1),await xh(t)})}function yb(t,e){return e().catch(n=>Kc(t,n,e))}async function Nh(t){const e=se(t),n=Ss(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vg;for(;u4(e);)try{const s=await HN(e.localStore,i);if(s===null){e.Ia.length===0&&n.k_();break}i=s.batchId,c4(e,s)}catch(s){await Kc(e,s)}vb(e)&&_b(e)}function u4(t){return hr(t)&&t.Ia.length<10}function c4(t,e){t.Ia.push(e);const n=Ss(t);n.N_()&&n.ea&&n.ta(e.mutations)}function vb(t){return hr(t)&&!Ss(t).O_()&&t.Ia.length>0}function _b(t){Ss(t).start()}async function h4(t){Ss(t).ia()}async function f4(t){const e=Ss(t);for(const n of t.Ia)e.ta(n.mutations)}async function d4(t,e,n){const i=t.Ia.shift(),s=wg.from(i,e,n);await yb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nh(t)}async function m4(t,e){e&&Ss(t).ea&&await async function(i,s){if(function(a){return Xx(a)&&a!==j.ABORTED}(s.code)){const r=i.Ia.shift();Ss(i).L_(),await yb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Nh(i)}}(t,e),vb(t)&&_b(t)}async function a_(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),Y(ir,"RemoteStore received new credentials");const i=hr(n);n.da.add(3),await jl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await xh(n)}async function g4(t,e){const n=se(t);e?(n.da.delete(2),await xh(n)):e||(n.da.add(2),await jl(n),n.Va.set("Unknown"))}function ja(t){return t.fa||(t.fa=function(n,i,s){const r=se(n);return r.oa(),new JN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:r4.bind(null,t),n_:a4.bind(null,t),i_:o4.bind(null,t),Y_:l4.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Vg(t)?Mg(t):t.Va.set("Unknown")):(await t.fa.stop(),pb(t))})),t.fa}function Ss(t){return t.ga||(t.ga=function(n,i,s){const r=se(n);return r.oa(),new e4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:h4.bind(null,t),i_:m4.bind(null,t),na:f4.bind(null,t),ra:d4.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Nh(t)):(await t.ga.stop(),t.Ia.length>0&&(Y(ir,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new Pg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),Ua(t))return new $(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Eo(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.pa=new Fe(Z.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):W(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Aa{constructor(e,n,i,s,r,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Aa(e,n,sa.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y4{constructor(){this.queries=l_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=se(n),r=s.queries;s.queries=l_(),r.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new $(j.ABORTED,"Firestore shutting down"))}}function l_(){return new ur(t=>z1(t),Ah)}async function Tb(t,e){const n=se(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Da()&&e.va()&&(i=2):(r=new p4,i=e.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Lg(a,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&Ug(n)}async function Eb(t,e){const n=se(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.va()?0:1:!r.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function v4(t,e){const n=se(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Ma(s)&&(i=!0);a.ba=s}}i&&Ug(n)}function _4(t,e,n){const i=se(t),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(e)}function Ug(t){t.Ca.forEach(e=>{e.next()})}var em,u_;(u_=em||(em={})).xa="default",u_.Cache="cache";class bb{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.key=e}}class Sb{constructor(e){this.key=e}}class T4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=de(),this.mutatedKeys=de(),this.Za=B1(e),this.Xa=new sa(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new o_,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const g=s.get(d),_=Sh(this.query,p)?p:null,M=!!g&&this.mutatedKeys.has(g.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;g&&_?g.data.isEqual(_.data)?M!==k&&(i.track({type:3,doc:_}),N=!0):this.ru(g,_)||(i.track({type:2,doc:_}),N=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!g&&_?(i.track({type:0,doc:_}),N=!0):g&&!_&&(i.track({type:1,doc:g}),N=!0,(u||h)&&(l=!0)),N&&(_?(a=a.add(_),r=k?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,p)=>function(_,M){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:N})}};return k(_)-k(M)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(i),s=s!=null&&s;const l=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Aa(this.query,e.Xa,r,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=de(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Sb(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new Ab(i))}),n}au(e){this.Ha=e.$s,this.Ya=de();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Aa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jg="SyncEngine";class E4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class b4{constructor(e){this.key=e,this.cu=!1}}class A4{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ur(l=>z1(l),Ah),this.Pu=new Map,this.Tu=new Set,this.Iu=new Fe(Z.comparator),this.Eu=new Map,this.du=new Cg,this.Au={},this.Ru=new Map,this.Vu=ba.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function S4(t,e,n=!0){const i=Nb(t);let s;const r=i.hu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await wb(i,e,n,!0),s}async function w4(t,e){const n=Nb(t);await wb(n,e,!0,!1)}async function wb(t,e,n,i){const s=await GN(t.localStore,Hn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await R4(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&mb(t.remoteStore,s),l}async function R4(t,e,n,i,s){t.fu=(p,g,_)=>async function(k,N,A,E){let R=N.view.tu(A);R.Cs&&(R=await t_(k.localStore,N.query,!1).then(({documents:T})=>N.view.tu(T,R)));const D=E&&E.targetChanges.get(N.targetId),O=E&&E.targetMismatches.get(N.targetId)!=null,q=N.view.applyChanges(R,k.isPrimaryClient,D,O);return h_(k,N.targetId,q.ou),q.snapshot}(t,p,g,_);const r=await t_(t.localStore,e,!0),a=new T4(e,r.$s),l=a.tu(r.documents),u=Ul.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,u);h_(t,n,h.ou);const d=new E4(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function I4(t,e,n){const i=se(t),s=i.hu.get(e),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!Ah(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Wd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&kg(i.remoteStore,s.targetId),tm(i,s.targetId)}).catch(La)):(tm(i,s.targetId),await Wd(i.localStore,s.targetId,!0))}async function C4(t,e){const n=se(t),i=n.hu.get(e),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),kg(n.remoteStore,i.targetId))}async function x4(t,e,n){const i=P4(t);try{const s=await function(a,l){const u=se(a),h=lt.now(),d=l.reduce((_,M)=>_.add(M.key),de());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let M=Ii(),k=de();return u.Bs.getEntries(_,d).next(N=>{M=N,M.forEach((A,E)=>{E.isValidDocument()||(k=k.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,M)).next(N=>{p=N;const A=[];for(const E of l){const R=Gx(E,p.get(E.key).overlayedDocument);R!=null&&A.push(new cr(E.key,R,k1(R.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,A,l)}).next(N=>{g=N;const A=N.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(_,N.batchId,A)})}).then(()=>({batchId:g.batchId,changes:F1(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Fe(le)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,s.batchId,n),await zl(i,s.changes),await Nh(i.remoteStore)}catch(s){const r=Lg(s,"Failed to persist write");n.reject(r)}}async function Rb(t,e){const n=se(t);try{const i=await qN(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?be(a.cu,14607):s.removedDocuments.size>0&&(be(a.cu,42227),a.cu=!1))}),await zl(n,i,e)}catch(i){await La(i)}}function c_(t,e,n){const i=se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=se(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const g of p.Sa)g.Fa(l)&&(h=!0)}),h&&Ug(u)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function N4(t,e,n){const i=se(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new Fe(Z.comparator);a=a.insert(r,kt.newNoDocument(r,ie.min()));const l=de().add(r),u=new Ih(ie.min(),new Map,new Fe(le),a,l);await Rb(i,u),i.Iu=i.Iu.remove(r),i.Eu.delete(e),zg(i)}else await Wd(i.localStore,e,!1).then(()=>tm(i,e,n)).catch(La)}async function D4(t,e){const n=se(t),i=e.batch.batchId;try{const s=await BN(n.localStore,e);Cb(n,i,null),Ib(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zl(n,s)}catch(s){await La(s)}}async function k4(t,e,n){const i=se(t);try{const s=await function(a,l){const u=se(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(be(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);Cb(i,e,n),Ib(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zl(i,s)}catch(s){await La(s)}}function Ib(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Cb(t,e,n){const i=se(t);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||xb(t,i)})}function xb(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(kg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),zg(t))}function h_(t,e,n){for(const i of n)i instanceof Ab?(t.du.addReference(i.key,e),O4(t,i)):i instanceof Sb?(Y(jg,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||xb(t,i.key)):W(19791,{pu:i})}function O4(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(Y(jg,"New document in limbo: "+n),t.Tu.add(i),zg(t))}function zg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Z(Me.fromString(e)),i=t.Vu.next();t.Eu.set(i,new b4(n)),t.Iu=t.Iu.insert(n,i),mb(t.remoteStore,new ns(Hn(bh(n.path)),i,"TargetPurposeLimboResolution",_h.le))}}async function zl(t,e,n){const i=se(t),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Ng.Rs(u.targetId,h);r.push(p)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(u,h){const d=se(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(h,g=>L.forEach(g.ds,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>L.forEach(g.As,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Ua(p))throw p;Y(Dg,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const _=d.xs.get(g),M=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(M);d.xs=d.xs.insert(g,k)}}}(i.localStore,r))}async function M4(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){Y(jg,"User change. New user:",e.toKey());const i=await cb(n.localStore,e);n.currentUser=e,function(r,a){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new $(j.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zl(n,i.ks)}}function V4(t,e){const n=se(t),i=n.Eu.get(e);if(i&&i.cu)return de().add(i.key);{let s=de();const r=n.Pu.get(e);if(!r)return s;for(const a of r){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function Nb(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N4.bind(null,e),e.lu.Y_=v4.bind(null,e.eventManager),e.lu.gu=_4.bind(null,e.eventManager),e}function P4(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return zN(this.persistence,new LN,e.initialUser,this.serializer)}Su(e){return new ub(xg.fi,this.serializer)}bu(e){return new YN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class L4 extends $c{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){be(this.persistence.referenceDelegate instanceof Yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bN(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new ub(i=>Yc.fi(i,n),this.serializer)}}class nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>c_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await g4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y4}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),i=function(r){return new WN(r)}(e.databaseInfo);return function(r,a,l,u){return new n4(r,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new s4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>c_(this.syncEngine,n,0),function(){return s_.C()?new s_:new KN}())}createSyncEngine(e,n){return function(s,r,a,l,u,h,d){const p=new A4(s,r,a,l,u,h);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=se(s);Y(ir,"RemoteStore shutting down."),r.da.add(5),await jl(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class U4{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=b1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Y(ws,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Y(ws,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Lg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await cb(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j4(t);Y(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>a_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>a_(e.remoteStore,s)),t._onlineComponents=e}async function j4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ws,"Using user provided OfflineComponentProvider");try{await Mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Mf(t,new $c)}}else Y(ws,"Using default OfflineComponentProvider"),await Mf(t,new L4(void 0));return t._offlineComponents}async function kb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ws,"Using user provided OnlineComponentProvider"),await f_(t,t._uninitializedComponentsProvider._online)):(Y(ws,"Using default OnlineComponentProvider"),await f_(t,new nm))),t._onlineComponents}function z4(t){return kb(t).then(e=>e.syncEngine)}async function im(t){const e=await kb(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=I4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C4.bind(null,e.syncEngine),n}function B4(t,e,n={}){const i=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const d=new Db({next:g=>{d.xu(),a.enqueueAndForget(()=>Eb(r,p));const _=g.docs.has(l);!_&&g.fromCache?h.reject(new $(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&u&&u.source==="server"?h.reject(new $(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new bb(bh(l.path),d,{includeMetadataChanges:!0,Qa:!0});return Tb(r,p)}(await im(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e,n){if(!n)throw new $(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q4(t,e,n,i){if(e===!0&&i===!0)throw new $(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m_(t){if(!Z.isDocumentKey(t))throw new $(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g_(t){if(Z.isDocumentKey(t))throw new $(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new $(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firestore.googleapis.com",p_=!0;class y_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=p_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TN)throw new $(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZC;switch(i.type){case"firstParty":return new tx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=d_.get(n);i&&(Y("ComponentProvider","Removing Datastore"),d_.delete(n),i.terminate())}(this),Promise.resolve()}}function F4(t,e,n,i={}){var s;t=yi(t,kh);const r=Oa(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;r&&(CE(`https://${u}`),xE("Firestore",!0)),a.host!==Vb&&a.host!==u&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!Js(h,l)&&(t._setSettings(h),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Dt.MOCK_USER;else{d=Tw(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new $(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dt(g)}t._authCredentials=new WC(new T1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class Ut{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class ps extends za{constructor(e,n,i){super(e,n,bh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Z(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Vf(t,e,...n){if(t=Kt(t),Mb("collection","path",e),t instanceof kh){const i=Me.fromString(e,...n);return g_(i),new ps(t,null,i)}{if(!(t instanceof Ut||t instanceof ps))throw new $(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return g_(i),new ps(t.firestore,null,i)}}function Ps(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=b1.newId()),Mb("doc","path",e),t instanceof kh){const i=Me.fromString(e,...n);return m_(i),new Ut(t,null,new Z(i))}{if(!(t instanceof Ut||t instanceof ps))throw new $(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return m_(i),new Ut(t.firestore,t instanceof ps?t.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new fb(this,"async_queue_retry"),this.rc=()=>{const i=Of();i&&Y(v_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new gs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ua(e))throw e;Y(v_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",T_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Pg.createAndSchedule(this,e,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&W(47125,{cc:T_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function T_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Sa extends kh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new __,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function H4(t,e){const n=typeof t=="object"?t:OE(),i=typeof t=="string"?t:zc,s=og(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=vw("firestore");r&&F4(s,...r)}return s}function Bg(t){if(t._terminated)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G4(t),t._firestoreClient}function G4(t){var e,n,i;const s=t._freezeSettings(),r=function(l,u,h,d){return new px(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ob(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new U4(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(wt.fromBase64String(e))}catch(n){throw new $(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wa(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class Y4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ic:t})}}class Gg{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Xc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Lb(this.Ic)&&Q4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class K4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ch(e)}bc(e,n,i,s=!1){return new Gg({Ic:e,methodName:n,wc:i,path:At.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new K4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $4(t,e,n,i,s,r={}){const a=t.bc(r.merge||r.mergeFields?2:0,e,n,s);Bb("Data must be an object, but it was:",a,i);const l=jb(i,a);let u,h;if(r.merge)u=new In(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const g=Z4(e,p,n);if(!a.contains(g))throw new $(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);J4(d,g)||d.push(g)}u=new In(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new Y4(new yn(l),u,h)}function X4(t,e,n,i=!1){return Qg(n,t.bc(i?4:3,e))}function Qg(t,e){if(zb(t=Kt(t)))return Bb("Unsupported field value:",e,t),jb(t,e);if(t instanceof Pb)return function(i,s){if(!Lb(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=Qg(l,s.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jx(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=lt.fromDate(i);return{timestampValue:Qc(s.serializer,r)}}if(i instanceof lt){const r=new lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qc(s.serializer,r)}}if(i instanceof Fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wa)return{bytesValue:tb(s.serializer,i._byteString)};if(i instanceof Ut){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ig(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Hg)return function(a,l){return{mapValue:{fields:{[N1]:{stringValue:D1},[Bc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Ag(l.serializer,h)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Dh(i)}`)}(t,e)}function jb(t,e){const n={};return S1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lr(t,(i,s)=>{const r=Qg(s,e.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function zb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Fg||t instanceof wa||t instanceof Ut||t instanceof Pb||t instanceof Hg)}function Bb(t,e,n){if(!zb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Dh(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function Z4(t,e,n){if((e=Kt(e))instanceof qg)return e._internalPath;if(typeof e=="string")return qb(t,e);throw Xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const W4=new RegExp("[~\\*/\\[\\]]");function qb(t,e,n){if(e.search(W4)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new $(j.INVALID_ARGUMENT,l+t+u)}function J4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eD extends Fb{data(){return super.data()}}function Hb(t,e){return typeof e=="string"?qb(t,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class nD extends Yg{}function iD(t,e,...n){let i=[];e instanceof Yg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof $g).length,l=r.filter(u=>u instanceof Kg).length;if(a>1||a>0&&l>0)throw new $(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Kg extends nD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Kg(e,n,i)}_apply(e){const n=this._parse(e);return Gb(e._query,n),new za(e.firestore,e.converter,Qd(e._query,n))}_parse(e){const n=Ub(e.firestore);return function(r,a,l,u,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){A_(p,d);const M=[];for(const k of p)M.push(b_(u,r,k));g={arrayValue:{values:M}}}else g=b_(u,r,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||A_(p,d),g=X4(l,a,p,d==="in"||d==="not-in");return it.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $g extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $g(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)Gb(a,u),a=Qd(a,u)}(e._query,n),new za(e.firestore,e.converter,Qd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b_(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Me.fromString(n));if(!Z.isDocumentKey(i))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pv(t,new Z(i))}if(n instanceof Ut)return Pv(t,n._key);throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function A_(t,e){if(!Array.isArray(t)||t.length===0)throw new $(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gb(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sD{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return lr(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Bc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Je(a.doubleValue));return new Hg(r)}convertGeoPoint(e){return new Fg(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Eh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=Es(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Me.fromString(e);be(ob(i),9688,{name:e});const s=new ul(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||Ri(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qb extends Fb{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Hb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ec extends Qb{data(e={}){return super.data(e)}}class aD{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ao(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ec(this._firestore,this._userDataWriter,i.key,i,new Ao(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new ec(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new ec(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:oD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){t=yi(t,Ut);const e=yi(t.firestore,Sa);return B4(Bg(e),t._key).then(n=>$b(e,t,n))}class Yb extends sD{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Pf(t,e,n){t=yi(t,Ut);const i=yi(t.firestore,Sa),s=rD(t.converter,e,n);return Kb(i,[$4(Ub(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gn.none())])}function uD(t){return Kb(yi(t.firestore,Sa),[new Sg(t._key,Gn.none())])}function cD(t,...e){var n,i,s;t=Kt(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||E_(e[a])||(r=e[a],a++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(E_(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let u,h,d;if(t instanceof Ut)h=yi(t.firestore,Sa),d=bh(t._key.path),u={next:p=>{e[a]&&e[a]($b(h,t,p))},error:e[a+1],complete:e[a+2]};else{const p=yi(t,za);h=yi(p.firestore,Sa),d=p._query;const g=new Yb(h);u={next:_=>{e[a]&&e[a](new aD(h,g,p,_))},error:e[a+1],complete:e[a+2]},tD(t._query)}return function(g,_,M,k){const N=new Db(k),A=new bb(_,N,M);return g.asyncQueue.enqueueAndForget(async()=>Tb(await im(g),A)),()=>{N.xu(),g.asyncQueue.enqueueAndForget(async()=>Eb(await im(g),A))}}(Bg(h),d,l,u)}function Kb(t,e){return function(i,s){const r=new gs;return i.asyncQueue.enqueueAndForget(async()=>x4(await z4(i),s,r)),r.promise}(Bg(t),e)}function $b(t,e,n){const i=n.docs.get(e._key),s=new Yb(t);return new Qb(t,s,e._key,i,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Pa=s})(Ma),ya(new er("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Sa(new JC(i.getProvider("auth-internal")),new nx(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(h.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),ds(Sv,wv,e),ds(Sv,wv,"esm2017")})();const hD="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",fD="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",dD="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",mD="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",gD="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",pD="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",yD="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",vD="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",_D="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",TD="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",ED="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",bD="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",AD="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",SD="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",wD="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",RD="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",ID="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",CD="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",wn="https://art.pixilart.com/sr2a947c8f967b8.png",xD={dark:{primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",text:"#FFFFFF",textMuted:"#9CA3AF"},light:{primary:"#6353b3",background:"#F3F4F6",card:"#FFFFFF",cardLight:"#E5E7EB",text:"#1F2937",textMuted:"#6B7280"}},ra={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},Xg={normal:hD,fire:fD,water:dD,electric:mD,grass:gD,ice:pD,fighting:yD,poison:vD,ground:_D,flying:TD,psychic:ED,bug:bD,rock:AD,ghost:SD,dragon:wD,dark:RD,steel:ID,fairy:CD},Du={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},ND=({color:t})=>m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:m.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),DD=({color:t})=>m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),Xb=({className:t="w-6 h-6",isFavorite:e,color:n})=>m.jsxs("svg",{className:t,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:e?"#FBBF24":n},children:[" ",m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),sm=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),kD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),Zb=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),OD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",m.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),MD=()=>m.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Zg=()=>m.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),VD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),m.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),m.jsx("path",{d:"M3 12h6"}),m.jsx("path",{d:"M15 12h6"})]}),PD=()=>m.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),LD=()=>m.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),UD=()=>m.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),jD=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),zD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),m.jsx("path",{d:"M9 12l2 2l4 -4"})]}),BD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),m.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),qD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),m.jsx("path",{d:"M12 8v4"}),m.jsx("path",{d:"M12 16h.01"})]}),FD=({color:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sun",style:{color:t},children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),m.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),HD=({color:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-moon",style:{color:t},children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})]}),GD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-swords",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z"}),m.jsx("path",{d:"M5 13l6 6"}),m.jsx("path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365"}),m.jsx("path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5"})]}),QD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[m.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),m.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),YD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sparkles",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z"})]}),KD=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-upload",children:[m.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),m.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),m.jsx("path",{d:"M7 9l5 -5l5 5"}),m.jsx("path",{d:"M12 4l0 12"})]}),Zc=({type:t,colors:e})=>m.jsxs("span",{className:"text-xs text-white font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full shadow-sm",style:{backgroundColor:ra[t]||"#777"},children:[" ",t.toUpperCase()," "]}),$D={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},zi="pokemonTeamBuilder",S_=(t,e)=>{const[n,i]=F.useState(t);return F.useEffect(()=>{const s=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(s)}},[t,e]),n},Wb=cm.memo(({onCardClick:t,details:e,lastRef:n,isSuggested:i,colors:s})=>{const r=a=>{a.stopPropagation(),t(e)};return e?m.jsxs("div",{ref:n,onClick:r,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${i?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:s.cardLight},children:[i&&m.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),m.jsx("img",{src:e.sprite||wn,onError:a=>{a.currentTarget.src=wn},alt:e.name,className:"mx-auto w-full h-auto max-w-[120px] group-hover:scale-110 transition-transform"}),m.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",style:{color:s.text},children:e.name}),m.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:e.types.map(a=>m.jsx("img",{src:Xg[a],alt:a,className:"w-5 h-5"},a))})]}):m.jsxs("div",{ref:n,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:s.cardLight},children:[m.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),m.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),m.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:m.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),XD=({stat:t,value:e,colors:n})=>{const i={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},s=e/255*100;return m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",style:{color:n.text},children:t.replace("-"," ")}),m.jsx("div",{className:"w-2/3 rounded-full h-4",style:{backgroundColor:n.cardLight},children:m.jsx("div",{className:`${i[t]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${s}%`},children:e})})]})},ZD=({ability:t})=>{const[e,n]=F.useState(""),[i,s]=F.useState(!1),[r,a]=F.useState(!1),l=F.useRef(null),u=F.useCallback(async()=>{if(!(e||r)){a(!0);try{const k=(await(await fetch(t.ability.url)).json()).effect_entries.find(N=>N.language.name==="en");n((k==null?void 0:k.short_effect)||"No description available.")}catch{n("Could not load description.")}finally{a(!1)}}},[t.ability.url,e,r]),h=()=>{u(),s(!0)},d=()=>{s(!1)},p=()=>{u(),l.current=setTimeout(()=>{s(!0)},300)},g=()=>{clearTimeout(l.current),setTimeout(()=>{s(!1)},2e3)};return m.jsxs("span",{className:"relative capitalize text-white inline-block bg-gray-700 px-3 py-1 rounded-full text-sm cursor-pointer",onMouseEnter:h,onMouseLeave:d,onTouchStart:p,onTouchEnd:g,children:[t.ability.name.replace("-"," "),i&&m.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-gray-700 text-white text-xs rounded-md shadow-lg z-20",children:r?"Loading...":e})]})},WD=({pokemon:t,onClose:e,onAdd:n,currentTeam:i,colors:s,showPokemonDetails:r,pokemonDetailsCache:a})=>{var M,k;const[l,u]=F.useState(!1),[h,d]=F.useState([]);F.useEffect(()=>{if(!t||!t.evolution_chain_url)return;(async()=>{try{const E=await(await fetch(t.evolution_chain_url)).json(),R=[];let D=E.chain;do R.push(D.species.name),D=D.evolves_to[0];while(D&&D.hasOwnProperty("evolves_to"));d(R)}catch(A){console.error("Failed to fetch evolution chain",A)}})()},[t]);const p=N=>{e();const A=Object.values(a).find(E=>E.name===N);A&&r(A)};if(!t)return null;const g=i.some(N=>N.id===t.id),_=l?t.animatedShinySprite:t.animatedSprite||t.sprite;return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 h-[100vh] flex items-center justify-center z-50 p-4 ",onClick:e,children:m.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",style:{backgroundColor:s.card},onClick:N=>N.stopPropagation(),children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:m.jsx(Zg,{})}),m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"relative inline-block",children:[m.jsx("img",{src:_||wn,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),m.jsx("button",{onClick:()=>u(!l),className:`absolute bottom-0 right-0 p-1 rounded-full ${l?"bg-yellow-500":"bg-gray-700"}`,style:{color:"white"},title:"Toggle Shiny",children:m.jsx(YD,{})})]}),m.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:s.text},children:[t.name," ",m.jsxs("span",{style:{color:s.textMuted},children:["#",t.id]})]}),m.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(N=>m.jsx(Zc,{type:N,colors:s},N))})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Base Stats"}),m.jsx("div",{className:"space-y-2",children:(M=t.stats)==null?void 0:M.map(N=>m.jsx(XD,{stat:N.stat.name,value:N.base_stat,colors:s},N.stat.name))})]}),h.length>1&&m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Evolution Line"}),m.jsx("div",{className:"flex justify-center items-center gap-2",children:h.map((N,A)=>{const E=Object.values(a).find(R=>R.name===N);return m.jsxs(cm.Fragment,{children:[m.jsxs("div",{onClick:()=>p(N),className:"text-center cursor-pointer p-2 rounded-lg hover:bg-purple-500/30",children:[m.jsx("img",{src:(E==null?void 0:E.sprite)||wn,alt:N,className:"h-20 w-20 mx-auto"}),m.jsx("p",{className:"text-sm capitalize",style:{color:s.text},children:N})]}),A<h.length-1&&m.jsx("span",{className:"text-2xl",style:{color:s.textMuted},children:""})]},N)})})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),m.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(k=t.abilities)==null?void 0:k.map((N,A)=>m.jsx(ZD,{ability:N},A))})]}),m.jsx("div",{className:"mt-8 flex justify-center",children:!g&&n&&m.jsxs("button",{onClick:()=>{n(t),e()},className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[m.jsx(OD,{})," Add to Team"]})})]})})},JD=({pokemon:t,onClose:e,onSave:n,colors:i,items:s,natures:r,moveDetailsCache:a,fetchMoveDetails:l})=>{const[u,h]=F.useState(t.customization),[d,p]=F.useState(510),[g,_]=F.useState(""),M=["hp","attack","defense","special-attack","special-defense","speed"];F.useEffect(()=>{const O=Object.values(u.evs).reduce((q,T)=>q+T,0);p(510-O)},[u.evs]);const k=(O,q)=>{const T=Number(q),b={...u.evs}[O],S=T-b;T>252||d-S<0||h(I=>({...I,evs:{...I.evs,[O]:T}}))},N=(O,q)=>{h(T=>({...T,[O]:q}))},A=O=>{h(q=>{const T=q.moves,v=T.includes(O)?T.filter(b=>b!==O):[...T,O];return v.length>4?q:{...q,moves:v}})},E=()=>{n(t.instanceId,u),e()},R=(O,q,T)=>T==="hp"?Math.floor(O*2+31+Math.floor(q/4))+110:Math.floor(Math.floor(O*2+31+Math.floor(q/4))+5),D=F.useMemo(()=>g?t.moves.filter(O=>O.move.name.toLowerCase().includes(g.toLowerCase())):t.moves,[g,t.moves]);return F.useEffect(()=>{D.slice(0,20).forEach(O=>{a[O.move.name]||l(O.move.url,O.move.name)})},[D,a,l]),t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:m.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:i.card,"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},onClick:O=>O.stopPropagation(),children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:m.jsx(Zg,{})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("img",{src:u.isShiny?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),m.jsx("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:i.text},children:t.name}),m.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(O=>m.jsx(Zc,{type:O,colors:i},O))}),m.jsxs("div",{className:"w-full mt-4 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Item"}),m.jsxs("select",{value:u.item,onChange:O=>N("item",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:[m.jsx("option",{value:"",children:"None"}),s.map(O=>m.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Nature"}),m.jsx("select",{value:u.nature,onChange:O=>N("nature",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:r.map(O=>m.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Tera Type"}),m.jsx("select",{value:u.teraType,onChange:O=>N("teraType",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:Object.keys(ra).map(O=>m.jsx("option",{value:O,className:"capitalize",children:O},O))})]}),m.jsx("div",{className:"flex items-center justify-start pt-5",children:m.jsxs("label",{htmlFor:"shiny-toggle",className:"flex items-center cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",id:"shiny-toggle",className:"sr-only",checked:u.isShiny,onChange:O=>N("isShiny",O.target.checked)}),m.jsx("div",{className:"block w-10 h-6 bg-gray-600 rounded-full"}),m.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"})]}),m.jsx("div",{className:"ml-3 text-sm font-bold",style:{color:i.text},children:"Shiny"})]})})]}),m.jsxs("div",{className:"w-full mt-4",children:[m.jsx("label",{className:"block text-lg font-bold mb-2",style:{color:i.text},children:"Ability"}),m.jsx("select",{value:u.ability,onChange:O=>N("ability",O.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:t.abilities.map(({ability:O})=>m.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold",style:{color:i.text},children:"Stats & EVs"}),m.jsxs("p",{className:"text-sm mb-2",style:{color:i.textMuted},children:["Remaining EVs: ",m.jsx("span",{className:"font-bold text-lg",style:{color:i.primary},children:d})]}),m.jsx("div",{className:"space-y-3",children:M.map((O,q)=>{const T=t.stats[q].base_stat,v=u.evs[O],b=R(T,v,O);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center capitalize text-sm",children:[m.jsx("span",{style:{color:i.text},children:O.replace(/-/g," ")}),m.jsxs("span",{style:{color:i.textMuted},children:[v," / ",b]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("input",{type:"range",min:"0",max:"252",value:v,step:"4",onChange:S=>k(O,S.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{backgroundColor:i.cardLight}})})]},O)})}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Move Selection"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 min-h-[80px] mb-4 p-2 rounded-lg",style:{backgroundColor:i.background},children:[u.moves.map(O=>{var T;const q=(T=a[O])==null?void 0:T.type;return m.jsx("div",{className:"p-2 rounded-lg text-center text-sm capitalize text-white",style:{backgroundColor:q?ra[q]:i.cardLight},children:O.replace(/-/g," ")},O)}),Array.from({length:4-u.moves.length}).map((O,q)=>m.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i.cardLight,opacity:.5},children:m.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:i.background}})},q))]}),m.jsx("input",{type:"text",placeholder:"Search moves...",value:g,onChange:O=>_(O.target.value),className:"w-full p-2 rounded-lg mb-2",style:{backgroundColor:i.cardLight,color:i.text}}),m.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",style:{"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},children:D.map(({move:O})=>{var b;const q=(b=a[O.name])==null?void 0:b.type,T=u.moves.includes(O.name),v=T?{backgroundColor:q?ra[q]:i.primary,color:"white"}:{backgroundColor:i.cardLight,color:i.text};return m.jsx("button",{onClick:()=>A(O.name),className:`p-2 rounded-lg text-sm capitalize transition-colors ${!T&&"hover:opacity-80"}`,style:v,children:O.name.replace(/-/g," ")},O.name)})})]})]})]}),m.jsx("div",{className:"mt-8 flex justify-end",children:m.jsxs("button",{onClick:E,className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[m.jsx(Zb,{})," Confirm Changes"]})})]})}):null},ek=({currentTeam:t,teamName:e,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:s,editingTeamId:r,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:p,handleDeleteTeam:g,handleExportToShowdown:_,teamAnalysis:M,searchInput:k,setSearchInput:N,selectedGeneration:A,setSelectedGeneration:E,generations:R,isInitialLoading:D,isFiltering:O,availablePokemons:q,pokemonDetailsCache:T,handleAddPokemonToTeam:v,lastPokemonElementRef:b,isFetchingMore:S,visibleCount:I,selectedTypes:C,handleTypeSelection:w,showDetails:zt,suggestedPokemonIds:Bt,colors:P,onEditTeamPokemon:J})=>m.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[m.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:P.card},children:[m.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:P.primary,color:P.text},children:"Current Team"}),m.jsx("input",{type:"text",value:e,onChange:B=>n(B.target.value),placeholder:"Team Name",className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:P.cardLight,borderColor:"transparent",color:P.text}}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:P.background},children:[t.map(B=>m.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:()=>J(B),children:[m.jsx("img",{src:B.animatedSprite||B.sprite||wn,onError:ne=>{ne.currentTarget.src=B.sprite||wn},alt:B.name,className:"mx-auto h-20 w-20"}),m.jsx("p",{className:"text-xs capitalize truncate",style:{color:P.text},children:B.name}),m.jsx("button",{onClick:ne=>{ne.stopPropagation(),J(B)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-6 w-6 flex items-center justify-center transition-opacity text-sm opacity-100 visible lg:opacity-0 lg:invisible lg:group-hover:opacity-100 lg:group-hover:visible",children:m.jsx(QD,{})}),m.jsx("button",{onClick:ne=>{ne.stopPropagation(),i(B.instanceId)},className:`
                                absolute top-1 right-1 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-sm
                                opacity-100 visible
                                lg:opacity-0 lg:invisible
                                lg:group-hover:opacity-100 lg:group-hover:visible
                                transition-opacity duration-200 
                            `,children:m.jsx(sm,{})})]},B.instanceId)),Array.from({length:6-t.length}).map((B,ne)=>m.jsx("div",{className:"flex items-center justify-center",children:m.jsx("img",{src:wn,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},ne))]}),m.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[m.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg hover:opacity-90",style:{backgroundColor:P.primary,color:P.background},children:[" ",m.jsx(Zb,{})," ",r?"Update":"Save"," "]}),m.jsx("button",{onClick:_,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:P.cardLight,color:P.text},title:"Export to Showdown",children:m.jsx(KD,{})}),m.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:P.cardLight,color:P.text},title:"Share Team",children:m.jsx(jD,{})}),m.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:P.cardLight,color:P.text},title:"Clear Team",children:m.jsx(kD,{})})]})]}),m.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:P.card},children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'",color:P.text},children:"Recent Teams"}),m.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm hover:underline",style:{color:P.primary},children:"View All"})]}),m.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",style:{"--scrollbar-track-color":P.card,"--scrollbar-thumb-color":P.primary,"--scrollbar-thumb-border-color":P.card},children:l.length>0?l.map(B=>m.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:P.cardLight},children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-bold text-lg truncate",style:{color:P.text},children:B.name}),m.jsx("div",{className:"flex mt-1",children:B.pokemons.map(ne=>m.jsx("img",{src:ne.sprite||wn,onError:De=>{De.currentTarget.src=wn},alt:ne.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:P.cardLight,backgroundColor:P.card}},ne.id))})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[m.jsx("button",{onClick:()=>h(B),title:"Favorite",children:m.jsx(Xb,{isFavorite:B.isFavorite,color:P.textMuted})}),m.jsx("button",{onClick:()=>d(B),className:"text-xs font-bold py-1 px-3 rounded-full",style:{backgroundColor:P.primary,color:P.background},children:"Edit"}),m.jsx("button",{onClick:()=>g(B.id),className:"bg-red-600 p-1 hover:bg-red-700 text-white rounded-lg",children:m.jsx(sm,{})})]})]},B.id)):m.jsx("p",{className:"text-center py-4",style:{color:P.textMuted},children:"No recent teams yet."})})]})]}),m.jsx("div",{className:"lg:col-span-6",children:m.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:P.card},children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:P.text},children:"Choose your Pokmon!"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:k,onChange:B=>N(B.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:P.cardLight,borderColor:"transparent",color:P.text}}),m.jsxs("select",{value:A,onChange:B=>E(B.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:P.cardLight,borderColor:"transparent",color:P.text},children:[m.jsx("option",{value:"all",style:{color:P.text},children:"All Generations"}),R.map(B=>m.jsx("option",{value:B.name,className:"capitalize",style:{color:P.text},children:B.name.replace("-"," ")},B.name))]})]})]}),m.jsx("div",{className:"relative flex-grow h-[60vh]",children:D?m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:P.primary}})}):m.jsxs(m.Fragment,{children:[O&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:P.primary}})}),m.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":P.card,"--scrollbar-thumb-color":P.primary,"--scrollbar-thumb-border-color":P.card},children:[m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:q.slice(0,I).map((B,ne)=>m.jsx(Wb,{details:T[B.id],onCardClick:v,lastRef:ne===I-1?b:null,isSuggested:Bt.has(B.id),colors:P},B.id))}),S&&m.jsx("div",{className:"flex justify-center py-4",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:P.primary}})}),q.length===0&&!O&&m.jsx("p",{className:"text-center py-8",style:{color:P.textMuted},children:"No Pokmon found with these filters. :("})]})]})})]})}),m.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[m.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:P.card},children:[m.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:P.text},children:"Filter by Type"}),m.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ra).map(B=>m.jsx("button",{onClick:()=>w(B),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${C.has(B)?"ring-2 ring-purple":""}`,style:{backgroundColor:P.cardLight},title:B,children:m.jsx("img",{src:Xg[B],alt:B,className:"w-full h-full object-contain"})},B))})]}),t.length>0&&m.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:P.card},children:[m.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",style:{color:P.text},children:"Team Analysis"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:M.strengths.size>0?Array.from(M.strengths).sort().map(B=>m.jsx(Zc,{type:B,colors:P},B)):m.jsx("p",{className:"text-sm",style:{color:P.textMuted},children:"No type advantages found."})})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(M.weaknesses).length>0?Object.entries(M.weaknesses).sort(([,B],[,ne])=>ne-B).map(([B,ne])=>m.jsxs("div",{className:"flex items-center",children:[m.jsx(Zc,{type:B,colors:P}),m.jsxs("span",{className:"text-xs text-red-300",children:["(",ne,"x)"]})]},B)):m.jsx("p",{className:"text-sm",style:{color:P.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),tk=({teams:t,onEdit:e,onDelete:n,onToggleFavorite:i,searchTerm:s,setSearchTerm:r,colors:a})=>m.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:a.card},children:[m.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",style:{color:a.text},children:"All Saved Teams"}),m.jsx("input",{type:"text",placeholder:"Search teams by name...",value:s,onChange:l=>r(l.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:a.cardLight,borderColor:"transparent",color:a.text}}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length>0?t.map(l=>m.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:a.cardLight},children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("p",{className:"font-bold text-xl truncate mb-2",style:{color:a.text},children:l.name}),m.jsx("button",{onClick:()=>i(l),title:"Favorite",children:m.jsx(Xb,{isFavorite:l.isFavorite,color:a.textMuted})})]}),m.jsx("div",{className:"flex my-2",children:l.pokemons.map(u=>m.jsx("img",{src:u.sprite||wn,onError:h=>{h.currentTarget.src=wn},alt:u.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:a.cardLight,backgroundColor:a.card}},u.id))}),m.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[m.jsx("button",{onClick:()=>e(l),className:"w-full bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),m.jsx("button",{onClick:()=>n(l.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:m.jsx(sm,{})})]})]},l.id)):m.jsx("p",{className:"col-span-full text-center py-8",style:{color:a.textMuted},children:"No teams found."})})]}),nk=({pokemons:t,pokemonDetailsCache:e,showDetails:n,lastPokemonElementRef:i,isFetchingMore:s,visibleCount:r,searchInput:a,setSearchInput:l,selectedTypes:u,handleTypeSelection:h,selectedGeneration:d,setSelectedGeneration:p,generations:g,isFiltering:_,isInitialLoading:M,colors:k})=>m.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsx("div",{className:"lg:col-span-9",children:m.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:k.card},children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:k.text},children:"Pokdex"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:a,onChange:N=>l(N.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:k.cardLight,borderColor:"transparent",color:k.text}}),m.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:k.cardLight,borderColor:"transparent",color:k.text},children:[m.jsx("option",{value:"all",style:{color:k.text},children:"All Generations"}),g.map(N=>m.jsx("option",{value:N.name,className:"capitalize",style:{color:k.text},children:N.name.replace("-"," ")},N.name))]})]})]}),m.jsx("div",{className:"relative flex-grow h-[75vh]",children:M?m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:k.primary}})}):m.jsxs(m.Fragment,{children:[_&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:k.primary}})}),m.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":k.card,"--scrollbar-thumb-color":k.primary,"--scrollbar-thumb-border-color":k.card},children:[m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-2",children:t.slice(0,r).map((N,A)=>m.jsx(Wb,{details:e[N.id],onCardClick:n,lastRef:A===r-1?i:null,colors:k},N.id))}),s&&m.jsx("div",{className:"flex justify-center py-4",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:k.primary}})}),t.length===0&&!_&&m.jsx("p",{className:"text-center py-8",style:{color:k.textMuted},children:"No Pokmon found."})]})]})})]})}),m.jsx("div",{className:"lg:col-span-3 space-y-8",children:m.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:k.card},children:[m.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:k.text},children:"Filter by Type"}),m.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ra).map(N=>m.jsx("button",{onClick:()=>h(N),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${u.has(N)?"ring-2 ring-purple":""}`,style:{backgroundColor:k.cardLight},title:N,children:m.jsx("img",{src:Xg[N],alt:N,className:"w-full h-full object-contain"})},N))})]})})]});function ik(){const[t,e]=F.useState("light"),n=xD[t],[i,s]=F.useState(null),[r,a]=F.useState(null),[l,u]=F.useState(!1),[h,d]=F.useState([]),[p,g]=F.useState([]),[_,M]=F.useState({}),[k,N]=F.useState({}),[A,E]=F.useState({}),[R,D]=F.useState([]),[O,q]=F.useState([]),[T,v]=F.useState([]),[b,S]=F.useState("all"),[I,C]=F.useState(new Set),[w,zt]=F.useState(""),Bt=S_(w,300),[P,J]=F.useState("all"),[B,ne]=F.useState(new Set),[De,Ni]=F.useState(""),Rt=S_(De,300),[oe,It]=F.useState([]),[rt,Oh]=F.useState([]),[Xt,fr]=F.useState(""),[Dn,Di]=F.useState(null),[dr,mr]=F.useState({strengths:new Set,weaknesses:{}}),[un,Ba]=F.useState(!0),[ki,qa]=F.useState(!1),[gr,Bl]=F.useState(!1),[ql,pr]=F.useState([]),[Ce,Cs]=F.useState("builder"),[xs,Xn]=F.useState(!1),[qt,ht]=F.useState(!1),[et,yr]=F.useState(""),[Zn,Fa]=F.useState(50),[Fl,Oi]=F.useState(null),[Ha,Ga]=F.useState(null),[Qa,Hl]=F.useState(3),[vr,Ns]=F.useState(new Set),[Ya,Gl]=F.useState(!1);F.useEffect(()=>{const z=()=>{window.innerWidth<768?Hl(2):Hl(3)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const re=F.useCallback((z,Q="info")=>{const K=Date.now();pr(G=>[...G,{id:K,message:z,type:Q}]),setTimeout(()=>pr(G=>G.filter(X=>X.id!==K)),3e3)},[]),Wn=F.useMemo(()=>{const z=new Set(oe.map(K=>K.id));return p.filter(K=>!z.has(K.id)).sort((K,G)=>{const X=vr.has(K.id),pe=vr.has(G.id);return X&&!pe?-1:!X&&pe?1:K.id-G.id})},[p,oe,vr]),Ka=F.useMemo(()=>rt.sort((z,Q)=>new Date(Q.updatedAt||Q.createdAt)-new Date(z.updatedAt||z.createdAt)).slice(0,3),[rt]),Jn=F.useMemo(()=>{let z=[...rt].sort((Q,K)=>K.isFavorite-Q.isFavorite||new Date(K.updatedAt||Q.createdAt)-new Date(Q.updatedAt||Q.createdAt));return et&&(z=z.filter(Q=>Q.name.toLowerCase().includes(et.toLowerCase()))),z},[rt,et]),$a=F.useCallback(async z=>{if(!r||Ya)return;Gl(!0),re("Loading shared team...","info");const Q=Ps(r,`artifacts/${zi}/public/data/teams`,z);try{const K=await lD(Q);if(K.exists()){const G=K.data(),X=G.pokemons.map(we=>kn(we.id)),Ee=(await Promise.all(X)).map((we,Xe)=>({...we,instanceId:G.pokemons[Xe].instanceId,customization:G.pokemons[Xe].customization}));It(Ee.filter(Boolean)),fr(G.name),Di(null),re(`Loaded team: ${G.name}`,"success")}else re("Shared team not found.","error")}catch{re("Failed to load shared team.","error")}},[r,re,Ya]),kn=F.useCallback(async z=>{var Q,K,G,X,pe,Ee,we,Xe,He,Ge,vt,je;if(_[z])return _[z];try{const ye=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${z}`)).json(),Qe=await(await fetch(ye.species.url)).json(),Zt={id:ye.id,name:ye.name,sprite:(Q=ye.sprites)==null?void 0:Q.front_default,shinySprite:(K=ye.sprites)==null?void 0:K.front_shiny,animatedSprite:(we=(Ee=(pe=(X=(G=ye.sprites)==null?void 0:G.versions)==null?void 0:X["generation-v"])==null?void 0:pe["black-white"])==null?void 0:Ee.animated)==null?void 0:we.front_default,animatedShinySprite:(je=(vt=(Ge=(He=(Xe=ye.sprites)==null?void 0:Xe.versions)==null?void 0:He["generation-v"])==null?void 0:Ge["black-white"])==null?void 0:vt.animated)==null?void 0:je.front_shiny,types:ye.types.map(bn=>bn.type.name),stats:ye.stats,abilities:ye.abilities,moves:ye.moves,evolution_chain_url:Qe.evolution_chain.url};return M(bn=>({...bn,[z]:Zt})),Zt}catch{return re(`Could not load details for Pokmon ID: ${z}`,"error"),null}},[_,re]),Ql=F.useCallback(async(z,Q)=>{if(A[Q])return A[Q];try{const G=await(await fetch(z)).json(),X={name:G.name,type:G.type.name,power:G.power,accuracy:G.accuracy,pp:G.pp,damage_class:G.damage_class.name};return E(pe=>({...pe,[Q]:X})),X}catch(K){return console.error(`Failed to fetch details for move: ${Q}`,K),null}},[A]);F.useEffect(()=>{try{const z=kE($D),Q=$C(z);a(H4(z));const K=UI(Q,async G=>{if(G)s(G.uid),u(!0);else try{const X=typeof __initial_auth_token<"u"?__initial_auth_token:null;X?await VI(Q,X):await NI(Q),s(Q.currentUser.uid)}catch{re("Authentication failed. Please refresh.","error")}finally{u(!0)}});return()=>K()}catch{re("Failed to connect to services.","error")}},[]),F.useEffect(()=>{(async()=>{try{const G=(await(await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=1025")).json()).results.map(ye=>fetch(ye.url).then(Be=>Be.json())),pe=(await Promise.all(G)).flatMap(ye=>ye.varieties.map(Be=>({name:Be.pokemon.name,url:Be.pokemon.url}))),we=Array.from(new Map(pe.map(ye=>[ye.url,ye])).values()).map(ye=>({id:parseInt(ye.url.split("/")[6]),name:ye.name,url:ye.url}));d(we),g(we);const He=await(await fetch("https://pokeapi.co/api/v2/generation")).json();v(He.results);const vt=await(await fetch("https://pokeapi.co/api/v2/item?limit=1000")).json();D(vt.results);const ze=await(await fetch("https://pokeapi.co/api/v2/nature")).json();q(ze.results)}catch{re("Failed to load Pokmon data.","error")}finally{Ba(!1)}})()},[]),F.useEffect(()=>{if(!r||un||!l)return;const Q=new URLSearchParams(window.location.search).get("team");Q&&$a(Q)},[r,un,l,$a]),F.useEffect(()=>{(async()=>{if(un)return;qa(!0);let Q=[...h];const K={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]},G=Ce==="pokedex"?P:b,X=Ce==="pokedex"?Rt:Bt,pe=Ce==="pokedex"?B:I;if(G!=="all"&&K[G]){const[Ee,we]=K[G];Q=Q.filter(Xe=>Xe.id>=Ee&&Xe.id<=we)}if(X&&(Q=Q.filter(Ee=>Ee.name.toLowerCase().includes(X.toLowerCase()))),pe.size>0)try{const Ee=Array.from(pe).map(He=>fetch(`https://pokeapi.co/api/v2/type/${He.toLowerCase()}`).then(Ge=>Ge.json()).then(Ge=>new Set(Ge.pokemon.map(vt=>vt.pokemon.name)))),Xe=(await Promise.all(Ee)).reduce((He,Ge)=>new Set([...He].filter(vt=>Ge.has(vt))));Q=Q.filter(He=>Xe.has(He.name))}catch{re("Failed to apply type filter.","error")}g(Q),Fa(50),qa(!1)})()},[b,I,Bt,P,B,Rt,h,un,Ce]),F.useEffect(()=>{let z=!0;return un||(async()=>{const X=(Ce==="pokedex"?p:Wn).slice(0,Zn).filter(pe=>!_[pe.id]).map(pe=>pe.id);X.length!==0&&(Bl(!0),await Promise.all(X.map(pe=>kn(pe))),z&&Bl(!1))})(),()=>{z=!1}},[Wn,p,Zn,Ce,un,kn]),F.useEffect(()=>{if(!i||!r)return;const z=iD(Vf(r,`artifacts/${zi}/users/${i}/teams`));return cD(z,K=>{Oh(K.docs.map(G=>({id:G.id,...G.data()})))},()=>re("Could not load saved teams.","error"))},[i,r]),F.useEffect(()=>{const z=oe.map(X=>_[X.id]).filter(Boolean);if(z.length<oe.length||z.length===0){mr({strengths:new Set,weaknesses:{}}),Ns(new Set);return}const Q={},K=new Set;z.flatMap(X=>X.types).forEach(X=>{var pe;Object.entries(((pe=Du[X])==null?void 0:pe.damageDealt)||{}).forEach(([Ee,we])=>{we>1&&K.add(Ee.toLowerCase())})}),Object.keys(Du).forEach(X=>{const pe=X.charAt(0).toUpperCase()+X.slice(1);let Ee=0,we=0;z.forEach(Xe=>{const He=Xe.types.reduce((Ge,vt)=>{var je;return Ge*(((je=Du[vt])==null?void 0:je.damageTaken[pe])??1)},1);He>1?Ee++:He<1&&we++}),Ee>0&&Ee>we&&(Q[X]=Ee)}),mr({strengths:K,weaknesses:Q}),(async()=>{const X=Object.keys(Q);if(X.length===0||h.length===0){Ns(new Set);return}const pe=async je=>{if(k[je])return k[je];try{let Be=(await(await fetch(je)).json()).chain;for(;Be&&Be.evolves_to.length>0;)Be=Be.evolves_to[0];const Qe=Be.species.name;return N(Zt=>({...Zt,[je]:Qe})),Qe}catch{return null}},we=h.filter(je=>{const ze=_[je.id];return ze?X.some(ye=>{const Be=ye.charAt(0).toUpperCase()+ye.slice(1);return ze.types.reduce((Zt,bn)=>{var Mi;return Zt*(((Mi=Du[bn])==null?void 0:Mi.damageTaken[Be])??1)},1)<1}):!1}).map(async je=>{const ze=_[je.id];return ze!=null&&ze.evolution_chain_url?await pe(ze.evolution_chain_url):null}),Xe=await Promise.all(we),He=[...new Set(Xe.filter(Boolean))],Ge=new Set(He.map(je=>{var ze;return(ze=h.find(ye=>ye.name===je))==null?void 0:ze.id}).filter(Boolean)),vt=Array.from(Ge).filter(je=>!_[je]);if(vt.length>0){const je=vt.map(ze=>`https://pokeapi.co/api/v2/pokemon/${ze}/`);try{const ye=(await Promise.all(je.map(Be=>fetch(Be).then(Qe=>Qe.json())))).reduce((Be,Qe)=>{var Zt,bn,Mi,Zl,Wl,Wa,Ja;return Be[Qe.id]={id:Qe.id,name:Qe.name,sprite:(Zt=Qe.sprites)==null?void 0:Zt.front_default,animatedSprite:(Wa=(Wl=(Zl=(Mi=(bn=Qe.sprites)==null?void 0:bn.versions)==null?void 0:Mi["generation-v"])==null?void 0:Zl["black-white"])==null?void 0:Wl.animated)==null?void 0:Wa.front_default,shinySprite:(Ja=Qe.sprites)==null?void 0:Ja.front_shiny,types:Qe.types.map(Ph=>Ph.type.name),stats:Qe.stats,abilities:Qe.abilities,evolution_chain_url:Qe.species.url},Be},{});M(Be=>({...Be,...ye}))}catch(ze){console.error("Failed to fetch suggestion details:",ze)}}Ns(Ge)})()},[oe,_,h,k]);const On=F.useRef(),Xa=F.useCallback(z=>{gr||ki||(On.current&&On.current.disconnect(),On.current=new IntersectionObserver(Q=>{const K=Ce==="pokedex"?p:Wn;Q[0].isIntersecting&&K.length>Zn&&Fa(G=>G+50)}),z&&On.current.observe(z))},[gr,ki,Wn,p,Zn,Ce]),ft=F.useCallback(z=>{if(oe.length>=6)return re("Your team is full (6 Pokmon)!","warning");const Q={...z,instanceId:`${z.id}-${Date.now()}`,customization:{item:"",nature:"serious",teraType:z.types[0],isShiny:!1,ability:z.abilities[0].ability.name,moves:z.moves.slice(0,4).map(K=>K.move.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}}};It(K=>[...K,Q])},[oe,re]),Yl=F.useCallback(z=>{It(Q=>Q.filter(K=>K.instanceId!==z))},[]),En=F.useCallback(()=>{It([]),fr(""),Di(null)},[]),Ds=F.useCallback(async()=>{var K,G;if(!r||!i)return re("Database connection not ready.","error");if(oe.length===0)return re("Your team is empty!","warning");if(!Xt.trim())return re("Please name your team.","warning");if(rt.some(X=>X.name===Xt&&X.id!==Dn))return re("A team with this name already exists.","warning");const z=Dn||Ps(Vf(r,`artifacts/${zi}/users/${i}/teams`)).id,Q={name:Xt,pokemons:oe.map(X=>({id:X.id,name:X.name,sprite:X.sprite,instanceId:X.instanceId,customization:X.customization})),isFavorite:((K=rt.find(X=>X.id===Dn))==null?void 0:K.isFavorite)||!1,createdAt:((G=rt.find(X=>X.id===Dn))==null?void 0:G.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await Pf(Ps(r,`artifacts/${zi}/users/${i}/teams`,z),Q),re(`Team "${Xt}" saved!`,"success"),En()}catch{re("Error saving team.","error")}},[r,i,oe,Xt,Dn,rt,re,En]),Mh=F.useCallback(async()=>{if(!r||!l)return re("Database not ready.","error");if(oe.length===0)return re("Cannot share an empty team!","warning");const z=Ps(Vf(r,`artifacts/${zi}/public/data/teams`)).id,Q={name:Xt||"Unnamed Team",pokemons:oe.map(K=>({id:K.id,name:K.name,sprite:K.sprite||""}))};try{await Pf(Ps(r,`artifacts/${zi}/public/data/teams`,z),Q);const K=`${window.location.origin}${window.location.pathname}?team=${z}`;await navigator.clipboard.writeText(K),re("Share link copied to clipboard!","success")}catch{re("Could not generate share link.","error")}},[r,oe,Xt,re,l]),Vh=F.useCallback(async()=>{if(oe.length===0)return re("Your team is empty!","warning");const z=K=>K.split("-").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" "),Q=oe.map(K=>{const{customization:G,name:X}=K,pe=Object.entries(G.evs).filter(([,we])=>we>0).map(([we,Xe])=>`${Xe} ${{hp:"HP",attack:"Atk",defense:"Def","special-attack":"SpA","special-defense":"SpD",speed:"Spe"}[we]}`).join(" / "),Ee=G.ivs.attack===0?"IVs: 0 Atk":"";return[`${z(X)} @ ${z(G.item||"Nothing")}`,`Ability: ${z(G.ability)}`,"Level: 50",G.isShiny?"Shiny: Yes":null,`Tera Type: ${z(G.teraType)}`,pe?`EVs: ${pe}`:null,`${z(G.nature)} Nature`,Ee||null,...G.moves.map(we=>`- ${z(we)}`)].filter(Boolean).join(`
`)}).join(`

`);try{await navigator.clipboard.writeText(Q),re("Team copied for Pokmon Showdown!","success")}catch{re("Failed to copy team.","error")}},[oe,re]),ei=F.useCallback(async z=>{re(`Loading team: ${z.name}...`,"info");const K=(await Promise.all(z.pokemons.map(G=>kn(G.id)))).map((G,X)=>{const pe={item:"",nature:"serious",teraType:G.types[0],isShiny:!1,ability:G.abilities[0].ability.name,moves:G.moves.slice(0,4).map(Ee=>Ee.move.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}};return{...G,instanceId:z.pokemons[X].instanceId,customization:{...pe,...z.pokemons[X].customization}}});It(K.filter(Boolean)),fr(z.name),Di(z.id),Cs("builder"),Xn(!1),window.scrollTo({top:0,behavior:"smooth"})},[kn,re]),Kl=F.useCallback(async z=>{if(!(!r||!i))try{await uD(Ps(r,`artifacts/${zi}/users/${i}/teams`,z)),Dn===z&&En(),re("Team deleted.","info")}catch{re("Error deleting team.","error")}},[r,i,Dn,En,re]),$l=F.useCallback(async z=>{if(!(!r||!i))try{await Pf(Ps(r,`artifacts/${zi}/users/${i}/teams`,z.id),{...z,isFavorite:!z.isFavorite},{merge:!0})}catch{re("Could not update favorite status.","error")}},[r,i,re]),ks=F.useCallback(z=>{(Ce==="pokedex"?ne:C)(K=>{const G=new Set(K);return G.has(z)?G.delete(z):G.add(z),G})},[Ce]),_r=F.useCallback(z=>{Oi(z)},[]),Za=F.useCallback(z=>{Ga(z)},[]),Tr=F.useCallback((z,Q)=>{It(K=>K.map(G=>G.instanceId===z?{...G,customization:Q}:G))},[]),Mn=F.useCallback(()=>{e(z=>{const Q=z==="dark"?"light":"dark";return localStorage.setItem("theme",Q),Q})},[]);F.useEffect(()=>{const z=localStorage.getItem("theme");z&&e(z)},[]);const Xl=()=>{switch(Ce){case"allTeams":return m.jsx(tk,{teams:Jn,onEdit:ei,onDelete:Kl,onToggleFavorite:$l,searchTerm:et,setSearchTerm:yr,colors:n});case"pokedex":return m.jsx(nk,{pokemons:p,pokemonDetailsCache:_,showDetails:_r,lastPokemonElementRef:Xa,isFetchingMore:gr,visibleCount:Zn,searchInput:De,setSearchInput:Ni,selectedTypes:B,handleTypeSelection:ks,selectedGeneration:P,setSelectedGeneration:J,generations:T,isFiltering:ki,isInitialLoading:un,colors:n});default:return m.jsx(ek,{currentTeam:oe,teamName:Xt,setTeamName:fr,handleRemoveFromTeam:Yl,handleSaveTeam:Ds,editingTeamId:Dn,handleClearTeam:En,recentTeams:Ka,setCurrentPage:Cs,handleToggleFavorite:$l,handleEditTeam:ei,handleDeleteTeam:Kl,handleShareTeam:Mh,handleExportToShowdown:Vh,teamAnalysis:dr,searchInput:w,setSearchInput:zt,selectedGeneration:b,setSelectedGeneration:S,generations:T,isInitialLoading:un,isFiltering:ki,availablePokemons:Wn,pokemonDetailsCache:_,handleAddPokemonToTeam:ft,lastPokemonElementRef:Xa,isFetchingMore:gr,visibleCount:Zn,selectedTypes:I,handleTypeSelection:ks,showDetails:_r,suggestedPokemonIds:vr,onEditTeamPokemon:Za,colors:n})}};return m.jsxs("div",{className:"min-h-screen font-sans",style:{backgroundColor:n.background,color:n.text},children:[Fl&&m.jsx(WD,{pokemon:Fl,onClose:()=>Oi(null),onAdd:Ce==="builder"?ft:null,currentTeam:oe,colors:n,showPokemonDetails:_r,pokemonDetailsCache:_}),Ha&&m.jsx(JD,{pokemon:Ha,onClose:()=>Ga(null),onSave:Tr,colors:n,items:R,natures:O,moveDetailsCache:A,fetchMoveDetails:Ql}),m.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:ql.slice(0,Qa).map(z=>m.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${z.type==="success"?"bg-green-600":z.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[z.type==="success"&&m.jsx(zD,{}),z.type==="error"&&m.jsx(BD,{}),z.type==="warning"&&m.jsx(qD,{}),z.message]},z.id))}),m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${qt?"lg:w-20":"w-64"} ${xs?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:n.card},children:m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsxs("div",{className:`flex items-center h-16 p-4 ${qt?"justify-center":"justify-between"}`,children:[m.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${qt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Menu"}),m.jsx("button",{onClick:()=>ht(!qt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:opacity-80",style:{color:n.textMuted},children:qt?m.jsx(UD,{}):m.jsx(LD,{})})]}),m.jsx("nav",{className:"px-4 flex-grow",children:m.jsxs("ul",{children:[m.jsx("li",{children:m.jsxs("button",{onClick:()=>{Cs("builder"),Xn(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ce==="builder"?"bg-primary":""} ${qt?"justify-center":""}`,style:{color:Ce==="builder"?"white":n.text},children:[m.jsx(GD,{className:`${Ce==="builder"?"text-white":""}`}),m.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${qt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ce==="builder"?"text-white":""}`,children:"Team Builder"})]})}),m.jsx("li",{className:"mt-2",children:m.jsxs("button",{onClick:()=>{Cs("pokedex"),Xn(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ce==="pokedex"?"bg-primary":""} ${qt?"justify-center":""}`,style:{color:Ce==="pokedex"?"white":n.text},children:[m.jsx(VD,{className:`${Ce==="builder"?"text-white":""}`}),m.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${qt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ce==="pokedex"?"text-white":""}`,children:"Pokdex"})]})}),m.jsx("li",{className:"mt-2",children:m.jsxs("button",{onClick:()=>{Cs("allTeams"),Xn(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ce==="allTeams"?"bg-primary":""} ${qt?"justify-center":""}`,style:{color:Ce==="allTeams"?"white":n.text},children:[m.jsx(PD,{className:`${Ce==="allTeams"?"text-white":""}`}),m.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${qt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ce==="allTeams"?"text-white":""}`,children:"Saved Teams"})]})})]})})]})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[m.jsx("button",{onClick:()=>Xn(!xs),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:xs?m.jsx(Zg,{}):m.jsx(MD,{})}),m.jsxs("div",{className:"flex-1 text-center px-2 marginLeft",children:[m.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Pokmon Team Builder"}),m.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"By: Enzo Esmeraldo"})]}),m.jsx("div",{className:"flex items-center gap-2 lg:mr-4 sm:mr-0",children:m.jsx("button",{onClick:Mn,className:"p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:t==="dark"?m.jsx(FD,{color:n.text}):m.jsx(HD,{color:n.text})})})]}),m.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Xl()}),m.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:n.cardLight},children:[m.jsxs("p",{className:"text-sm",style:{color:n.textMuted},children:["Developed and built by ",m.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"Enzo Esmeraldo"})]}),m.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[m.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:m.jsx(ND,{color:n.textMuted})}),m.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:m.jsx(DD,{color:n.textMuted})})]}),m.jsxs("p",{className:"text-xs mt-2",style:{color:n.textMuted},children:["Using the ",m.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]})]})]})]}),m.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: var(--scrollbar-track-color); } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 20px; border: 3px solid var(--scrollbar-thumb-border-color); } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } .bg-primary { background-color: ${n.primary}; } input[type="checkbox"]:checked + div + div { transform: translateX(100%); background-color: ${n.primary}; }`})]})}uw.createRoot(document.getElementById("root")).render(m.jsx(cm.StrictMode,{children:m.jsx(ik,{})}));
