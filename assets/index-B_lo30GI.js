(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function _v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vv={exports:{}},Mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=Symbol.for("react.transitional.element"),pb=Symbol.for("react.fragment");function Tv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:gb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Mc.Fragment=pb;Mc.jsx=Tv;Mc.jsxs=Tv;vv.exports=Mc;var A=vv.exports,Ev={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.transitional.element"),yb=Symbol.for("react.portal"),_b=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),Tb=Symbol.for("react.profiler"),Eb=Symbol.for("react.consumer"),Ab=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),yp=Symbol.iterator;function Rb(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sv=Object.assign,wv={};function ha(e,t,n){this.props=e,this.context=t,this.refs=wv,this.updater=n||bv}ha.prototype.isReactComponent={};ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rv(){}Rv.prototype=ha.prototype;function Fd(e,t,n){this.props=e,this.context=t,this.refs=wv,this.updater=n||bv}var Gd=Fd.prototype=new Rv;Gd.constructor=Fd;Sv(Gd,ha.prototype);Gd.isPureReactComponent=!0;var _p=Array.isArray,Ht={H:null,A:null,T:null,S:null,V:null},Iv=Object.prototype.hasOwnProperty;function Qd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Hd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function Ib(e,t){return Qd(e.type,t,void 0,void 0,void 0,e.props)}function Yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function Cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vp=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cb(""+e.key):t.toString(36)}function Tp(){}function Db(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Tp,Tp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fs(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hd:case yb:a=!0;break;case Av:return a=e._init,fs(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Ih(e,0):i,_p(r)?(n="",a!=null&&(n=a.replace(vp,"$&/")+"/"),fs(r,t,n,"",function(h){return h})):r!=null&&(Yd(r)&&(r=Ib(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(vp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(_p(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Ih(i,u),a+=fs(i,t,n,s,r);else if(u=Rb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Ih(i,u++),a+=fs(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return fs(Db(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Yl(e,t,n){if(e==null)return e;var i=[],r=0;return fs(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Nb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ep=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xb(){}ot.Children={map:Yl,forEach:function(e,t,n){Yl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yl(e,function(){t++}),t},toArray:function(e){return Yl(e,function(t){return t})||[]},only:function(e){if(!Yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=ha;ot.Fragment=_b;ot.Profiler=Tb;ot.PureComponent=Fd;ot.StrictMode=vb;ot.Suspense=Sb;ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;ot.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ht.H.useMemoCache(e)}};ot.cache=function(e){return function(){return e.apply(null,arguments)}};ot.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Sv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Iv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Qd(e.type,r,void 0,void 0,s,i)};ot.createContext=function(e){return e={$$typeof:Ab,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Eb,_context:e},e};ot.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Iv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Qd(e,s,void 0,void 0,null,r)};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:bb,render:e}};ot.isValidElement=Yd;ot.lazy=function(e){return{$$typeof:Av,_payload:{_status:-1,_result:e},_init:Nb}};ot.memo=function(e,t){return{$$typeof:wb,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=Ht.T,n={};Ht.T=n;try{var i=e(),r=Ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xb,Ep)}catch(s){Ep(s)}finally{Ht.T=t}};ot.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()};ot.use=function(e){return Ht.H.use(e)};ot.useActionState=function(e,t,n){return Ht.H.useActionState(e,t,n)};ot.useCallback=function(e,t){return Ht.H.useCallback(e,t)};ot.useContext=function(e){return Ht.H.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e,t){return Ht.H.useDeferredValue(e,t)};ot.useEffect=function(e,t,n){var i=Ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};ot.useId=function(){return Ht.H.useId()};ot.useImperativeHandle=function(e,t,n){return Ht.H.useImperativeHandle(e,t,n)};ot.useInsertionEffect=function(e,t){return Ht.H.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return Ht.H.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return Ht.H.useMemo(e,t)};ot.useOptimistic=function(e,t){return Ht.H.useOptimistic(e,t)};ot.useReducer=function(e,t,n){return Ht.H.useReducer(e,t,n)};ot.useRef=function(e){return Ht.H.useRef(e)};ot.useState=function(e){return Ht.H.useState(e)};ot.useSyncExternalStore=function(e,t,n){return Ht.H.useSyncExternalStore(e,t,n)};ot.useTransition=function(){return Ht.H.useTransition()};ot.version="19.1.0";Ev.exports=ot;var K=Ev.exports;const Cv=_v(K);var Dv={exports:{}},kc={},Nv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,Z){var tt=j.length;j.push(Z);t:for(;0<tt;){var bt=tt-1>>>1,Ut=j[bt];if(0<r(Ut,Z))j[bt]=Z,j[tt]=Ut,tt=bt;else break t}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],tt=j.pop();if(tt!==Z){j[0]=tt;t:for(var bt=0,Ut=j.length,Si=Ut>>>1;bt<Si;){var Re=2*(bt+1)-1,jt=j[Re],je=Re+1,ze=j[je];if(0>r(jt,tt))je<Ut&&0>r(ze,jt)?(j[bt]=ze,j[je]=tt,bt=je):(j[bt]=jt,j[Re]=tt,bt=Re);else if(je<Ut&&0>r(ze,tt))j[bt]=ze,j[je]=tt,bt=je;else break t}}return Z}function r(j,Z){var tt=j.sortIndex-Z.sortIndex;return tt!==0?tt:j.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,x=!1,M=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=j)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function U(j){if(M=!1,N(j),!x)if(n(u)!==null)x=!0,q||(q=!0,C());else{var Z=n(h);Z!==null&&Q(U,Z.startTime-j)}}var q=!1,T=-1,y=5,E=-1;function b(){return k?!0:!(e.unstable_now()-E<y)}function I(){if(k=!1,q){var j=e.unstable_now();E=j;var Z=!0;try{t:{x=!1,M&&(M=!1,v(T),T=-1),_=!0;var tt=m;try{e:{for(N(j),g=n(u);g!==null&&!(g.expirationTime>j&&b());){var bt=g.callback;if(typeof bt=="function"){g.callback=null,m=g.priorityLevel;var Ut=bt(g.expirationTime<=j);if(j=e.unstable_now(),typeof Ut=="function"){g.callback=Ut,N(j),Z=!0;break e}g===n(u)&&i(u),N(j)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var Si=n(h);Si!==null&&Q(U,Si.startTime-j),Z=!1}}break t}finally{g=null,m=tt,_=!1}Z=void 0}}finally{Z?C():q=!1}}}var C;if(typeof R=="function")C=function(){R(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,we=w.port2;w.port1.onmessage=I,C=function(){we.postMessage(null)}}else C=function(){S(I,0)};function Q(j,Z){T=S(function(){j(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var tt=m;m=Z;try{return j()}finally{m=tt}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var tt=m;m=j;try{return Z()}finally{m=tt}},e.unstable_scheduleCallback=function(j,Z,tt){var bt=e.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?bt+tt:bt):tt=bt,j){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=tt+Ut,j={id:d++,callback:Z,priorityLevel:j,startTime:tt,expirationTime:Ut,sortIndex:-1},tt>bt?(j.sortIndex=tt,t(h,j),n(u)===null&&j===n(h)&&(M?(v(T),T=-1):M=!0,Q(U,tt-bt))):(j.sortIndex=Ut,t(u,j),x||_||(x=!0,q||(q=!0,C()))),j},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(j){var Z=m;return function(){var tt=m;m=Z;try{return j.apply(this,arguments)}finally{m=tt}}}})(xv);Nv.exports=xv;var Ob=Nv.exports,Ov={exports:{}},Ue={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=K;function Mv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ii(){}var Pe={d:{f:Ii,r:function(){throw Error(Mv(522))},D:Ii,C:Ii,L:Ii,m:Ii,X:Ii,S:Ii,M:Ii},p:0,findDOMNode:null},kb=Symbol.for("react.portal");function Vb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var so=Mb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Mv(299));return Vb(e,t,null,n)};Ue.flushSync=function(e){var t=so.T,n=Pe.p;try{if(so.T=null,Pe.p=2,e)return e()}finally{so.T=t,Pe.p=n,Pe.d.f()}};Ue.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Pe.d.C(e,t))};Ue.prefetchDNS=function(e){typeof e=="string"&&Pe.d.D(e)};Ue.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Vc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Pe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Pe.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ue.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Vc(t.as,t.crossOrigin);Pe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Pe.d.M(e)};Ue.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Vc(n,t.crossOrigin);Pe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ue.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Vc(t.as,t.crossOrigin);Pe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Pe.d.m(e)};Ue.requestFormReset=function(e){Pe.d.r(e)};Ue.unstable_batchedUpdates=function(e,t){return e(t)};Ue.useFormState=function(e,t,n){return so.H.useFormState(e,t,n)};Ue.useFormStatus=function(){return so.H.useHostTransitionStatus()};Ue.version="19.1.0";function kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kv)}catch(e){console.error(e)}}kv(),Ov.exports=Ue;var Pb=Ov.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce=Ob,Vv=K,Lb=Pb;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ap(e){if($o(e)!==e)throw Error(P(188))}function Ub(e){var t=e.alternate;if(!t){if(t=$o(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ap(r),e;if(s===i)return Ap(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Uv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Uv(e),t!==null)return t;e=e.sibling}return null}var Lt=Object.assign,jb=Symbol.for("react.element"),Kl=Symbol.for("react.transitional.element"),Za=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),zb=Symbol.for("react.provider"),zv=Symbol.for("react.consumer"),ei=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),Xd=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),Sf=Symbol.for("react.activity"),Bb=Symbol.for("react.memo_cache_sentinel"),bp=Symbol.iterator;function qa(e){return e===null||typeof e!="object"?null:(e=bp&&e[bp]||e["@@iterator"],typeof e=="function"?e:null)}var qb=Symbol.for("react.client.reference");function wf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ts:return"Fragment";case Ef:return"Profiler";case jv:return"StrictMode";case Af:return"Suspense";case bf:return"SuspenseList";case Sf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Za:return"Portal";case ei:return(e.displayName||"Context")+".Provider";case zv:return(e._context.displayName||"Context")+".Consumer";case Kd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xd:return t=e.displayName||null,t!==null?t:wf(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return wf(e(t))}catch{}}return null}var Wa=Array.isArray,J=Vv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et=Lb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nr={pending:!1,data:null,method:null,action:null},Rf=[],Es=-1;function Hn(e){return{current:e}}function ye(e){0>Es||(e.current=Rf[Es],Rf[Es]=null,Es--)}function Ft(e,t){Es++,Rf[Es]=e.current,e.current=t}var kn=Hn(null),Io=Hn(null),Qi=Hn(null),Uu=Hn(null);function ju(e,t){switch(Ft(Qi,t),Ft(Io,e),Ft(kn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cy(t),e=iE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(kn),Ft(kn,e)}function Gs(){ye(kn),ye(Io),ye(Qi)}function If(e){e.memoizedState!==null&&Ft(Uu,e);var t=kn.current,n=iE(t,e.type);t!==n&&(Ft(Io,e),Ft(kn,n))}function zu(e){Io.current===e&&(ye(kn),ye(Io)),Uu.current===e&&(ye(Uu),Lo._currentValue=Nr)}var Cf=Object.prototype.hasOwnProperty,$d=ce.unstable_scheduleCallback,Ch=ce.unstable_cancelCallback,Hb=ce.unstable_shouldYield,Fb=ce.unstable_requestPaint,Vn=ce.unstable_now,Gb=ce.unstable_getCurrentPriorityLevel,Bv=ce.unstable_ImmediatePriority,qv=ce.unstable_UserBlockingPriority,Bu=ce.unstable_NormalPriority,Qb=ce.unstable_LowPriority,Hv=ce.unstable_IdlePriority,Yb=ce.log,Kb=ce.unstable_setDisableYieldValue,Zo=null,en=null;function Bi(e){if(typeof Yb=="function"&&Kb(e),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Zo,e)}catch{}}var nn=Math.clz32?Math.clz32:Zb,Xb=Math.log,$b=Math.LN2;function Zb(e){return e>>>=0,e===0?32:31-(Xb(e)/$b|0)|0}var Xl=256,$l=4194304;function wr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=wr(i):(a&=l,a!==0?r=wr(a):n||(n=l&~e,n!==0&&(r=wr(n))))):(l=i&~s,l!==0?r=wr(l):a!==0?r=wr(a):n||(n=i&~e,n!==0&&(r=wr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Wo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fv(){var e=Xl;return Xl<<=1,!(Xl&4194048)&&(Xl=256),e}function Gv(){var e=$l;return $l<<=1,!($l&62914560)&&($l=4194304),e}function Dh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-nn(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Qv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Qv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-nn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Yv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-nn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Zd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Kv(){var e=Et.p;return e!==0?e:(e=window.event,e===void 0?32:dE(e.type))}function t2(e,t){var n=Et.p;try{return Et.p=e,t()}finally{Et.p=n}}var gr=Math.random().toString(36).slice(2),Oe="__reactFiber$"+gr,Qe="__reactProps$"+gr,fa="__reactContainer$"+gr,Df="__reactEvents$"+gr,e2="__reactListeners$"+gr,n2="__reactHandles$"+gr,Sp="__reactResources$"+gr,tl="__reactMarker$"+gr;function Jd(e){delete e[Oe],delete e[Qe],delete e[Df],delete e[e2],delete e[n2]}function As(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[Oe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xy(e);e!==null;){if(n=e[Oe])return n;e=xy(e)}return t}e=n,n=e.parentNode}return null}function da(e){if(e=e[Oe]||e[fa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Ms(e){var t=e[Sp];return t||(t=e[Sp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ge(e){e[tl]=!0}var Xv=new Set,$v={};function Qr(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for($v[e]=t,e=0;e<t.length;e++)Xv.add(t[e])}var i2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wp={},Rp={};function r2(e){return Cf.call(Rp,e)?!0:Cf.call(wp,e)?!1:i2.test(e)?Rp[e]=!0:(wp[e]=!0,!1)}function gu(e,t,n){if(r2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Nh,Ip;function ds(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||"",Ip=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nh+e+Ip}var xh=!1;function Oh(e,t){if(!e||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ds(n):""}function s2(e){switch(e.tag){case 26:case 27:case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Oh(e.type,!1);case 11:return Oh(e.type.render,!1);case 1:return Oh(e.type,!0);case 31:return ds("Activity");default:return""}}function Cp(e){try{var t="";do t+=s2(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a2(e){var t=Zv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qu(e){e._valueTracker||(e._valueTracker=a2(e))}function Wv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Zv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var o2=/[\n"\\]/g;function hn(e){return e.replace(o2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ln(t)):e.value!==""+ln(t)&&(e.value=""+ln(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?xf(e,a,ln(t)):n!=null?xf(e,a,ln(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+ln(l):e.removeAttribute("name")}function Jv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+ln(n):"",t=t!=null?""+ln(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function xf(e,t,n){t==="number"&&Hu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ks(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function t0(e,t,n){if(t!=null&&(t=""+ln(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ln(n):""}function e0(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Wa(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ln(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||l2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function n0(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Dp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Dp(e,s,t[s])}function tm(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pu(e){return c2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Of=null;function em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Vs=null;function Np(e){var t=da(e);if(t&&(e=t.stateNode)){var n=e[Qe]||null;t:switch(e=t.stateNode,t.type){case"input":if(Nf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Qe]||null;if(!r)throw Error(P(90));Nf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Wv(i)}break t;case"textarea":t0(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ks(e,!!n.multiple,t,!1)}}}var Mh=!1;function i0(e,t,n){if(Mh)return e(t,n);Mh=!0;try{var i=e(t);return i}finally{if(Mh=!1,(bs!==null||Vs!==null)&&(Qc(),bs&&(t=bs,e=Vs,Vs=bs=null,Np(t),e)))for(t=0;t<e.length;t++)Np(e[t])}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Qe]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=!1;if(fi)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Mf=!1}var qi=null,nm=null,yu=null;function r0(){if(yu)return yu;var e,t=nm,n=t.length,i,r="value"in qi?qi.value:qi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return yu=r.slice(e,1<i?1-i:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function xp(){return!1}function Ke(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wl:xp,this.isPropagationStopped=xp,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=Ke(Yr),el=Lt({},Yr,{view:0,detail:0}),h2=Ke(el),kh,Vh,Fa,Uc=Lt({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(kh=e.screenX-Fa.screenX,Vh=e.screenY-Fa.screenY):Vh=kh=0,Fa=e),kh)},movementY:function(e){return"movementY"in e?e.movementY:Vh}}),Op=Ke(Uc),f2=Lt({},Uc,{dataTransfer:0}),d2=Ke(f2),m2=Lt({},el,{relatedTarget:0}),Ph=Ke(m2),g2=Lt({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),p2=Ke(g2),y2=Lt({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_2=Ke(y2),v2=Lt({},Yr,{data:0}),Mp=Ke(v2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A2[e])?!!t[e]:!1}function im(){return b2}var S2=Lt({},el,{key:function(e){if(e.key){var t=T2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w2=Ke(S2),R2=Lt({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kp=Ke(R2),I2=Lt({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),C2=Ke(I2),D2=Lt({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=Ke(D2),x2=Lt({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=Ke(x2),M2=Lt({},Yr,{newState:0,oldState:0}),k2=Ke(M2),V2=[9,13,27,32],rm=fi&&"CompositionEvent"in window,ao=null;fi&&"documentMode"in document&&(ao=document.documentMode);var P2=fi&&"TextEvent"in window&&!ao,s0=fi&&(!rm||ao&&8<ao&&11>=ao),Vp=" ",Pp=!1;function a0(e,t){switch(e){case"keyup":return V2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function L2(e,t){switch(e){case"compositionend":return o0(t);case"keypress":return t.which!==32?null:(Pp=!0,Vp);case"textInput":return e=t.data,e===Vp&&Pp?null:e;default:return null}}function U2(e,t){if(Ss)return e==="compositionend"||!rm&&a0(e,t)?(e=r0(),yu=nm=qi=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s0&&t.locale!=="ko"?null:t.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j2[e.type]:t==="textarea"}function l0(e,t,n,i){bs?Vs?Vs.push(i):Vs=[i]:bs=i,t=oc(t,"onChange"),0<t.length&&(n=new Lc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var oo=null,Do=null;function z2(e){tE(e,0)}function jc(e){var t=Ja(e);if(Wv(t))return e}function Up(e,t){if(e==="change")return t}var u0=!1;if(fi){var Lh;if(fi){var Uh="oninput"in document;if(!Uh){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Uh=typeof jp.oninput=="function"}Lh=Uh}else Lh=!1;u0=Lh&&(!document.documentMode||9<document.documentMode)}function zp(){oo&&(oo.detachEvent("onpropertychange",c0),Do=oo=null)}function c0(e){if(e.propertyName==="value"&&jc(Do)){var t=[];l0(t,Do,e,em(e)),i0(z2,t)}}function B2(e,t,n){e==="focusin"?(zp(),oo=t,Do=n,oo.attachEvent("onpropertychange",c0)):e==="focusout"&&zp()}function q2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jc(Do)}function H2(e,t){if(e==="click")return jc(t)}function F2(e,t){if(e==="input"||e==="change")return jc(t)}function G2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:G2;function No(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Cf.call(t,r)||!an(e[r],t[r]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,t){var n=Bp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Bp(n)}}function h0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hu(e.document)}return t}function sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Q2=fi&&"documentMode"in document&&11>=document.documentMode,ws=null,kf=null,lo=null,Vf=!1;function Hp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||ws==null||ws!==Hu(i)||(i=ws,"selectionStart"in i&&sm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lo&&No(lo,i)||(lo=i,i=oc(kf,"onSelect"),0<i.length&&(t=new Lc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ws)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},jh={},d0={};fi&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Kr(e){if(jh[e])return jh[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in d0)return jh[e]=t[n];return e}var m0=Kr("animationend"),g0=Kr("animationiteration"),p0=Kr("animationstart"),Y2=Kr("transitionrun"),K2=Kr("transitionstart"),X2=Kr("transitioncancel"),y0=Kr("transitionend"),_0=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Rn(e,t){_0.set(e,t),Qr(t,[e])}var Fp=new WeakMap;function fn(e,t){if(typeof e=="object"&&e!==null){var n=Fp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Cp(t)},Fp.set(e,t),t)}return{value:e,source:t,stack:Cp(t)}}var on=[],Is=0,am=0;function zc(){for(var e=Is,t=am=Is=0;t<e;){var n=on[t];on[t++]=null;var i=on[t];on[t++]=null;var r=on[t];on[t++]=null;var s=on[t];if(on[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&v0(n,r,s)}}function Bc(e,t,n,i){on[Is++]=e,on[Is++]=t,on[Is++]=n,on[Is++]=i,am|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function om(e,t,n,i){return Bc(e,t,n,i),Fu(e)}function ma(e,t){return Bc(e,null,null,t),Fu(e)}function v0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-nn(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Fu(e){if(50<vo)throw vo=0,id=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cs={};function $2(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,i){return new $2(e,t,n,i)}function lm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function li(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function T0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")lm(e)&&(a=1);else if(typeof e=="string")a=WS(e,n,kn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Sf:return e=tn(31,n,t,r),e.elementType=Sf,e.lanes=s,e;case Ts:return xr(n.children,r,s,t);case jv:a=8,r|=24;break;case Ef:return e=tn(12,n,t,r|2),e.elementType=Ef,e.lanes=s,e;case Af:return e=tn(13,n,t,r),e.elementType=Af,e.lanes=s,e;case bf:return e=tn(19,n,t,r),e.elementType=bf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zb:case ei:a=10;break t;case zv:a=9;break t;case Kd:a=11;break t;case Xd:a=14;break t;case xi:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=tn(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function xr(e,t,n,i){return e=tn(7,e,i,t),e.lanes=n,e}function zh(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Bh(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ds=[],Ns=0,Gu=null,Qu=0,un=[],cn=0,Or=null,ni=1,ii="";function Rr(e,t){Ds[Ns++]=Qu,Ds[Ns++]=Gu,Gu=e,Qu=t}function E0(e,t,n){un[cn++]=ni,un[cn++]=ii,un[cn++]=Or,Or=e;var i=ni;e=ii;var r=32-nn(i)-1;i&=~(1<<r),n+=1;var s=32-nn(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ni=1<<32-nn(t)+r|n<<r|i,ii=s+e}else ni=1<<s|n<<r|i,ii=e}function um(e){e.return!==null&&(Rr(e,1),E0(e,1,0))}function cm(e){for(;e===Gu;)Gu=Ds[--Ns],Ds[Ns]=null,Qu=Ds[--Ns],Ds[Ns]=null;for(;e===Or;)Or=un[--cn],un[cn]=null,ii=un[--cn],un[cn]=null,ni=un[--cn],un[cn]=null}var Ve=null,Kt=null,Tt=!1,Mr=null,On=!1,Lf=Error(P(519));function Lr(e){var t=Error(P(418,""));throw xo(fn(t,e)),Lf}function Gp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Oe]=e,t[Qe]=i,n){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(n=0;n<ko.length;n++)ht(ko[n],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),Jv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),qu(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),e0(t,i.value,i.defaultValue,i.children),qu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||nE(t.textContent,n)?(i.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),i.onScroll!=null&&ht("scroll",t),i.onScrollEnd!=null&&ht("scrollend",t),i.onClick!=null&&(t.onclick=Xc),t=!0):t=!1,t||Lr(e)}function Qp(e){for(Ve=e.return;Ve;)switch(Ve.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Ve=Ve.return}}function Ga(e){if(e!==Ve)return!1;if(!Tt)return Qp(e),Tt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ud(e.type,e.memoizedProps)),n=!n),n&&Kt&&Lr(e),Qp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Kt=Sn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Kt=null}}else t===27?(t=Kt,pr(e.type)?(e=fd,fd=null,Kt=e):Kt=t):Kt=Ve?Sn(e.stateNode.nextSibling):null;return!0}function nl(){Kt=Ve=null,Tt=!1}function Yp(){var e=Mr;return e!==null&&(Fe===null?Fe=e:Fe.push.apply(Fe,e),Mr=null),e}function xo(e){Mr===null?Mr=[e]:Mr.push(e)}var Uf=Hn(null),Xr=null,ri=null;function Mi(e,t,n){Ft(Uf,t._currentValue),t._currentValue=n}function ui(e){e._currentValue=Uf.current,ye(Uf)}function jf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),jf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function il(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;an(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Uu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Lo):e=[Lo])}r=r.return}e!==null&&zf(t,e,n,i),t.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){Xr=e,ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Me(e){return A0(Xr,e)}function Jl(e,t){return Xr===null&&Ur(e),A0(e,t)}function A0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ri===null){if(e===null)throw Error(P(308));ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ri=ri.next=t;return n}var Z2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W2=ce.unstable_scheduleCallback,J2=ce.unstable_NormalPriority,ae={$$typeof:ei,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new Z2,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&W2(J2,function(){e.controller.abort()})}var uo=null,Bf=0,Ks=0,Ps=null;function tS(e,t){if(uo===null){var n=uo=[];Bf=0,Ks=km(),Ps={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Bf++,t.then(Kp,Kp),t}function Kp(){if(--Bf===0&&uo!==null){Ps!==null&&(Ps.status="fulfilled");var e=uo;uo=null,Ks=0,Ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Xp=J.S;J.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&tS(e,t),Xp!==null&&Xp(e,t)};var kr=Hn(null);function fm(){var e=kr.current;return e!==null?e:kt.pooledCache}function Tu(e,t){t===null?Ft(kr,kr.current):Ft(kr,t.pool)}function b0(){var e=fm();return e===null?null:{parent:ae._currentValue,pool:e}}var sl=Error(P(460)),S0=Error(P(474)),qc=Error(P(542)),qf={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tu(){}function w0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tu,tu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e;default:if(typeof t.status=="string")t.then(tu,tu);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e}throw co=t,sl}}var co=null;function Zp(){if(co===null)throw Error(P(459));var e=co;return co=null,e}function Wp(e){if(e===sl||e===qc)throw Error(P(483))}var Oi=!1;function dm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Fu(e),v0(e,null,n),t}return Bc(e,i,t,n),Fu(e)}function ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yv(e,n)}}function qh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ff=!1;function fo(){if(Ff){var e=Ps;if(e!==null)throw e}}function mo(e,t,n,i){Ff=!1;var r=e.updateQueue;Oi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(yt&m)===m:(i&m)===m){m!==0&&m===Ks&&(Ff=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var x=e,M=l;m=t;var k=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){g=x.call(k,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,m=typeof x=="function"?x.call(k,g,m):x,m==null)break t;g=Lt({},g,m);break t;case 2:Oi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),lr|=a,e.lanes=a,e.memoizedState=g}}function R0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function I0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)R0(n[e],t)}var Xs=Hn(null),Ku=Hn(0);function Jp(e,t){e=gi,Ft(Ku,e),Ft(Xs,t),gi=e|t.baseLanes}function Gf(){Ft(Ku,gi),Ft(Xs,Xs.current)}function mm(){gi=Ku.current,ye(Xs),ye(Ku)}var ar=0,ut=null,Dt=null,ie=null,Xu=!1,Ls=!1,jr=!1,$u=0,Oo=0,Us=null,nS=0;function Zt(){throw Error(P(321))}function gm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function pm(e,t,n,i,r,s){return ar=s,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?rT:sT,jr=!1,s=n(i,r),jr=!1,Ls&&(s=D0(t,n,i,r)),C0(e),s}function C0(e){J.H=Zu;var t=Dt!==null&&Dt.next!==null;if(ar=0,ie=Dt=ut=null,Xu=!1,Oo=0,Us=null,t)throw Error(P(300));e===null||pe||(e=e.dependencies,e!==null&&Yu(e)&&(pe=!0))}function D0(e,t,n,i){ut=e;var r=0;do{if(Ls&&(Us=null),Oo=0,Ls=!1,25<=r)throw Error(P(301));if(r+=1,ie=Dt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}J.H=uS,s=t(n,i)}while(Ls);return s}function iS(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?al(t):t,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(ut.flags|=1024),t}function ym(){var e=$u!==0;return $u=0,e}function _m(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vm(e){if(Xu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xu=!1}ar=0,ie=Dt=ut=null,Ls=!1,Oo=$u=0,Us=null}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?ut.memoizedState=ie=e:ie=ie.next=e,ie}function se(){if(Dt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=ie===null?ut.memoizedState:ie.next;if(t!==null)ie=t,Dt=e;else{if(e===null)throw ut.alternate===null?Error(P(467)):Error(P(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ie===null?ut.memoizedState=ie=e:ie=ie.next=e}return ie}function Tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var t=Oo;return Oo+=1,Us===null&&(Us=[]),e=w0(Us,e,t),t=ut,(ie===null?t.memoizedState:ie.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?rT:sT),e}function Hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===ei)return Me(e)}throw Error(P(438,String(e)))}function Em(e){var t=null,n=ut.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ut.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Tm(),ut.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Bb;return t.index++,n}function di(e,t){return typeof t=="function"?t(e):t}function Eu(e){var t=se();return Am(t,Dt,e)}function Am(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(yt&g)===g:(ar&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Ks&&(d=!0);else if((ar&m)===m){h=h.next,m===Ks&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ut.lanes|=m,lr|=m;g=h.action,jr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ut.lanes|=g,lr|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!an(s,e.memoizedState)&&(pe=!0,d&&(n=Ps,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Hh(e){var t=se(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);an(s,t.memoizedState)||(pe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function N0(e,t,n){var i=ut,r=se(),s=Tt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!an((Dt||r).memoizedState,n);a&&(r.memoizedState=n,pe=!0),r=r.queue;var l=M0.bind(null,i,r,e);if(ol(2048,8,l,[e]),r.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(i.flags|=2048,$s(9,Fc(),O0.bind(null,i,r,n,t),null),kt===null)throw Error(P(349));s||ar&124||x0(i,t,n)}return n}function x0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t=Tm(),ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O0(e,t,n,i){t.value=n,t.getSnapshot=i,k0(t)&&V0(e)}function M0(e,t,n){return n(function(){k0(t)&&V0(e)})}function k0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function V0(e){var t=ma(e,2);t!==null&&sn(t,e,2)}function Qf(e){var t=qe();if(typeof e=="function"){var n=e;if(e=n(),jr){Bi(!0);try{n()}finally{Bi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t}function P0(e,t,n,i){return e.baseState=n,Am(e,Dt,typeof i=="function"?i:di)}function rS(e,t,n,i,r){if(Gc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};J.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,L0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function L0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=J.T,a={};J.T=a;try{var l=n(r,i),u=J.S;u!==null&&u(a,l),ty(e,t,l)}catch(h){Yf(e,t,h)}finally{J.T=s}}else try{s=n(r,i),ty(e,t,s)}catch(h){Yf(e,t,h)}}function ty(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ey(e,t,i)},function(i){return Yf(e,t,i)}):ey(e,t,n)}function ey(e,t,n){t.status="fulfilled",t.value=n,U0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,L0(e,n)))}function Yf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,U0(t),t=t.next;while(t!==i)}e.action=null}function U0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function j0(e,t){return t}function ny(e,t){if(Tt){var n=kt.formState;if(n!==null){t:{var i=ut;if(Tt){if(Kt){e:{for(var r=Kt,s=On;r.nodeType!==8;){if(!s){r=null;break e}if(r=Sn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Kt=Sn(r.nextSibling),i=r.data==="F!";break t}}Lr(i)}i=!1}i&&(t=n[0])}}return n=qe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:t},n.queue=i,n=eT.bind(null,ut,i),i.dispatch=n,i=Qf(!1),s=Rm.bind(null,ut,!1,i.queue),i=qe(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=rS.bind(null,ut,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function iy(e){var t=se();return z0(t,Dt,e)}function z0(e,t,n){if(t=Am(e,t,j0)[0],e=Eu(di)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=al(t)}catch(a){throw a===sl?qc:a}else i=t;t=se();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(ut.flags|=2048,$s(9,Fc(),sS.bind(null,r,n),null)),[i,s,e]}function sS(e,t){e.action=t}function ry(e){var t=se(),n=Dt;if(n!==null)return z0(t,n,e);se(),t=t.memoizedState,n=se();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $s(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ut.updateQueue,t===null&&(t=Tm(),ut.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Fc(){return{destroy:void 0,resource:void 0}}function B0(){return se().memoizedState}function Au(e,t,n,i){var r=qe();i=i===void 0?null:i,ut.flags|=e,r.memoizedState=$s(1|t,Fc(),n,i)}function ol(e,t,n,i){var r=se();i=i===void 0?null:i;var s=r.memoizedState.inst;Dt!==null&&i!==null&&gm(i,Dt.memoizedState.deps)?r.memoizedState=$s(t,s,n,i):(ut.flags|=e,r.memoizedState=$s(1|t,s,n,i))}function sy(e,t){Au(8390656,8,e,t)}function q0(e,t){ol(2048,8,e,t)}function H0(e,t){return ol(4,2,e,t)}function F0(e,t){return ol(4,4,e,t)}function G0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q0(e,t,n){n=n!=null?n.concat([e]):null,ol(4,4,G0.bind(null,t,e),n)}function bm(){}function Y0(e,t){var n=se();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function K0(e,t){var n=se();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gm(t,i[1]))return i[0];if(i=e(),jr){Bi(!0);try{e()}finally{Bi(!1)}}return n.memoizedState=[i,t],i}function Sm(e,t,n){return n===void 0||ar&1073741824?e.memoizedState=t:(e.memoizedState=n,e=UT(),ut.lanes|=e,lr|=e,n)}function X0(e,t,n,i){return an(n,t)?n:Xs.current!==null?(e=Sm(e,n,i),an(e,t)||(pe=!0),e):ar&42?(e=UT(),ut.lanes|=e,lr|=e,t):(pe=!0,e.memoizedState=n)}function $0(e,t,n,i,r){var s=Et.p;Et.p=s!==0&&8>s?s:8;var a=J.T,l={};J.T=l,Rm(e,!1,t,n);try{var u=r(),h=J.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=eS(u,i);go(e,t,d,rn(e))}else go(e,t,i,rn(e))}catch(g){go(e,t,{then:function(){},status:"rejected",reason:g},rn())}finally{Et.p=s,J.T=a}}function aS(){}function Kf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=Z0(e).queue;$0(e,r,t,Nr,n===null?aS:function(){return W0(e),n(i)})}function Z0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Nr,baseState:Nr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:Nr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function W0(e){var t=Z0(e).next.queue;go(e,t,{},rn())}function wm(){return Me(Lo)}function J0(){return se().memoizedState}function tT(){return se().memoizedState}function oS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=rn();e=Yi(n);var i=Ki(t,e,n);i!==null&&(sn(i,t,n),ho(i,t,n)),t={cache:hm()},e.payload=t;return}t=t.return}}function lS(e,t,n){var i=rn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Gc(e)?nT(t,n):(n=om(e,t,n,i),n!==null&&(sn(n,e,i),iT(n,t,i)))}function eT(e,t,n){var i=rn();go(e,t,n,i)}function go(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gc(e))nT(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,an(l,a))return Bc(e,t,r,0),kt===null&&zc(),!1}catch{}finally{}if(n=om(e,t,r,i),n!==null)return sn(n,e,i),iT(n,t,i),!0}return!1}function Rm(e,t,n,i){if(i={lane:2,revertLane:km(),action:i,hasEagerState:!1,eagerState:null,next:null},Gc(e)){if(t)throw Error(P(479))}else t=om(e,n,i,2),t!==null&&sn(t,e,2)}function Gc(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function nT(e,t){Ls=Xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iT(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Yv(e,n)}}var Zu={readContext:Me,use:Hc,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},rT={readContext:Me,use:Hc,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:sy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Au(4194308,4,G0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){Au(4,2,e,t)},useMemo:function(e,t){var n=qe();t=t===void 0?null:t;var i=e();if(jr){Bi(!0);try{e()}finally{Bi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=qe();if(n!==void 0){var r=n(t);if(jr){Bi(!0);try{n(t)}finally{Bi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=lS.bind(null,ut,e),[i.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:function(e){e=Qf(e);var t=e.queue,n=eT.bind(null,ut,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:bm,useDeferredValue:function(e,t){var n=qe();return Sm(n,e,t)},useTransition:function(){var e=Qf(!1);return e=$0.bind(null,ut,e.queue,!0,!1),qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ut,r=qe();if(Tt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),kt===null)throw Error(P(349));yt&124||x0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,sy(M0.bind(null,i,s,e),[e]),i.flags|=2048,$s(9,Fc(),O0.bind(null,i,s,n,t),null),n},useId:function(){var e=qe(),t=kt.identifierPrefix;if(Tt){var n=ii,i=ni;n=(i&~(1<<32-nn(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=$u++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=nS++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:wm,useFormState:ny,useActionState:ny,useOptimistic:function(e){var t=qe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Rm.bind(null,ut,!0,n),n.dispatch=t,[e,t]},useMemoCache:Em,useCacheRefresh:function(){return qe().memoizedState=oS.bind(null,ut)}},sT={readContext:Me,use:Hc,useCallback:Y0,useContext:Me,useEffect:q0,useImperativeHandle:Q0,useInsertionEffect:H0,useLayoutEffect:F0,useMemo:K0,useReducer:Eu,useRef:B0,useState:function(){return Eu(di)},useDebugValue:bm,useDeferredValue:function(e,t){var n=se();return X0(n,Dt.memoizedState,e,t)},useTransition:function(){var e=Eu(di)[0],t=se().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:N0,useId:J0,useHostTransitionStatus:wm,useFormState:iy,useActionState:iy,useOptimistic:function(e,t){var n=se();return P0(n,Dt,e,t)},useMemoCache:Em,useCacheRefresh:tT},uS={readContext:Me,use:Hc,useCallback:Y0,useContext:Me,useEffect:q0,useImperativeHandle:Q0,useInsertionEffect:H0,useLayoutEffect:F0,useMemo:K0,useReducer:Hh,useRef:B0,useState:function(){return Hh(di)},useDebugValue:bm,useDeferredValue:function(e,t){var n=se();return Dt===null?Sm(n,e,t):X0(n,Dt.memoizedState,e,t)},useTransition:function(){var e=Hh(di)[0],t=se().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:N0,useId:J0,useHostTransitionStatus:wm,useFormState:ry,useActionState:ry,useOptimistic:function(e,t){var n=se();return Dt!==null?P0(n,Dt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Em,useCacheRefresh:tT},js=null,Mo=0;function eu(e){var t=Mo;return Mo+=1,js===null&&(js=[]),w0(js,e,t)}function Qa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nu(e,t){throw t.$$typeof===jb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ay(e){var t=e._init;return t(e._payload)}function aT(e){function t(S,v){if(e){var R=S.deletions;R===null?(S.deletions=[v],S.flags|=16):R.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(S,v){return S=li(S,v),S.index=0,S.sibling=null,S}function s(S,v,R){return S.index=R,e?(R=S.alternate,R!==null?(R=R.index,R<v?(S.flags|=67108866,v):R):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function l(S,v,R,N){return v===null||v.tag!==6?(v=zh(R,S.mode,N),v.return=S,v):(v=r(v,R),v.return=S,v)}function u(S,v,R,N){var U=R.type;return U===Ts?d(S,v,R.props.children,N,R.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xi&&ay(U)===v.type)?(v=r(v,R.props),Qa(v,R),v.return=S,v):(v=vu(R.type,R.key,R.props,null,S.mode,N),Qa(v,R),v.return=S,v)}function h(S,v,R,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==R.containerInfo||v.stateNode.implementation!==R.implementation?(v=Bh(R,S.mode,N),v.return=S,v):(v=r(v,R.children||[]),v.return=S,v)}function d(S,v,R,N,U){return v===null||v.tag!==7?(v=xr(R,S.mode,N,U),v.return=S,v):(v=r(v,R),v.return=S,v)}function g(S,v,R){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=zh(""+v,S.mode,R),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:return R=vu(v.type,v.key,v.props,null,S.mode,R),Qa(R,v),R.return=S,R;case Za:return v=Bh(v,S.mode,R),v.return=S,v;case xi:var N=v._init;return v=N(v._payload),g(S,v,R)}if(Wa(v)||qa(v))return v=xr(v,S.mode,R,null),v.return=S,v;if(typeof v.then=="function")return g(S,eu(v),R);if(v.$$typeof===ei)return g(S,Jl(S,v),R);nu(S,v)}return null}function m(S,v,R,N){var U=v!==null?v.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return U!==null?null:l(S,v,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Kl:return R.key===U?u(S,v,R,N):null;case Za:return R.key===U?h(S,v,R,N):null;case xi:return U=R._init,R=U(R._payload),m(S,v,R,N)}if(Wa(R)||qa(R))return U!==null?null:d(S,v,R,N,null);if(typeof R.then=="function")return m(S,v,eu(R),N);if(R.$$typeof===ei)return m(S,v,Jl(S,R),N);nu(S,R)}return null}function _(S,v,R,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return S=S.get(R)||null,l(v,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Kl:return S=S.get(N.key===null?R:N.key)||null,u(v,S,N,U);case Za:return S=S.get(N.key===null?R:N.key)||null,h(v,S,N,U);case xi:var q=N._init;return N=q(N._payload),_(S,v,R,N,U)}if(Wa(N)||qa(N))return S=S.get(R)||null,d(v,S,N,U,null);if(typeof N.then=="function")return _(S,v,R,eu(N),U);if(N.$$typeof===ei)return _(S,v,R,Jl(v,N),U);nu(v,N)}return null}function x(S,v,R,N){for(var U=null,q=null,T=v,y=v=0,E=null;T!==null&&y<R.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var b=m(S,T,R[y],N);if(b===null){T===null&&(T=E);break}e&&T&&b.alternate===null&&t(S,T),v=s(b,v,y),q===null?U=b:q.sibling=b,q=b,T=E}if(y===R.length)return n(S,T),Tt&&Rr(S,y),U;if(T===null){for(;y<R.length;y++)T=g(S,R[y],N),T!==null&&(v=s(T,v,y),q===null?U=T:q.sibling=T,q=T);return Tt&&Rr(S,y),U}for(T=i(T);y<R.length;y++)E=_(T,S,y,R[y],N),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),q===null?U=E:q.sibling=E,q=E);return e&&T.forEach(function(I){return t(S,I)}),Tt&&Rr(S,y),U}function M(S,v,R,N){if(R==null)throw Error(P(151));for(var U=null,q=null,T=v,y=v=0,E=null,b=R.next();T!==null&&!b.done;y++,b=R.next()){T.index>y?(E=T,T=null):E=T.sibling;var I=m(S,T,b.value,N);if(I===null){T===null&&(T=E);break}e&&T&&I.alternate===null&&t(S,T),v=s(I,v,y),q===null?U=I:q.sibling=I,q=I,T=E}if(b.done)return n(S,T),Tt&&Rr(S,y),U;if(T===null){for(;!b.done;y++,b=R.next())b=g(S,b.value,N),b!==null&&(v=s(b,v,y),q===null?U=b:q.sibling=b,q=b);return Tt&&Rr(S,y),U}for(T=i(T);!b.done;y++,b=R.next())b=_(T,S,y,b.value,N),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?y:b.key),v=s(b,v,y),q===null?U=b:q.sibling=b,q=b);return e&&T.forEach(function(C){return t(S,C)}),Tt&&Rr(S,y),U}function k(S,v,R,N){if(typeof R=="object"&&R!==null&&R.type===Ts&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Kl:t:{for(var U=R.key;v!==null;){if(v.key===U){if(U=R.type,U===Ts){if(v.tag===7){n(S,v.sibling),N=r(v,R.props.children),N.return=S,S=N;break t}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xi&&ay(U)===v.type){n(S,v.sibling),N=r(v,R.props),Qa(N,R),N.return=S,S=N;break t}n(S,v);break}else t(S,v);v=v.sibling}R.type===Ts?(N=xr(R.props.children,S.mode,N,R.key),N.return=S,S=N):(N=vu(R.type,R.key,R.props,null,S.mode,N),Qa(N,R),N.return=S,S=N)}return a(S);case Za:t:{for(U=R.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===R.containerInfo&&v.stateNode.implementation===R.implementation){n(S,v.sibling),N=r(v,R.children||[]),N.return=S,S=N;break t}else{n(S,v);break}else t(S,v);v=v.sibling}N=Bh(R,S.mode,N),N.return=S,S=N}return a(S);case xi:return U=R._init,R=U(R._payload),k(S,v,R,N)}if(Wa(R))return x(S,v,R,N);if(qa(R)){if(U=qa(R),typeof U!="function")throw Error(P(150));return R=U.call(R),M(S,v,R,N)}if(typeof R.then=="function")return k(S,v,eu(R),N);if(R.$$typeof===ei)return k(S,v,Jl(S,R),N);nu(S,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,v!==null&&v.tag===6?(n(S,v.sibling),N=r(v,R),N.return=S,S=N):(n(S,v),N=zh(R,S.mode,N),N.return=S,S=N),a(S)):n(S,v)}return function(S,v,R,N){try{Mo=0;var U=k(S,v,R,N);return js=null,U}catch(T){if(T===sl||T===qc)throw T;var q=tn(29,T,null,S.mode);return q.lanes=N,q.return=S,q}finally{}}}var Zs=aT(!0),oT=aT(!1),pn=Hn(null),Pn=null;function ki(e){var t=e.alternate;Ft(oe,oe.current&1),Ft(pn,e),Pn===null&&(t===null||Xs.current!==null||t.memoizedState!==null)&&(Pn=e)}function lT(e){if(e.tag===22){if(Ft(oe,oe.current),Ft(pn,e),Pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Pn=e)}}else Vi()}function Vi(){Ft(oe,oe.current),Ft(pn,pn.current)}function si(e){ye(pn),Pn===e&&(Pn=null),ye(oe)}var oe=Hn(0);function Wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||hd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rn(),r=Yi(i);r.payload=t,n!=null&&(r.callback=n),t=Ki(e,r,i),t!==null&&(sn(t,e,i),ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rn(),r=Yi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ki(e,r,i),t!==null&&(sn(t,e,i),ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),i=Yi(n);i.tag=2,t!=null&&(i.callback=t),t=Ki(e,i,n),t!==null&&(sn(t,e,n),ho(t,e,n))}};function oy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!No(n,i)||!No(r,s):!0}function ly(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xf.enqueueReplaceState(t,t.state,null)}function zr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Lt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function uT(e){Ju(e)}function cT(e){console.error(e)}function hT(e){Ju(e)}function tc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function uy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function $f(e,t,n){return n=Yi(n),n.tag=3,n.payload={element:null},n.callback=function(){tc(e,t)},n}function fT(e){return e=Yi(e),e.tag=3,e}function dT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){uy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){uy(t,n,i),typeof r!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function cS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&il(t,n,r,!0),n=pn.current,n!==null){switch(n.tag){case 13:return Pn===null?rd():n.alternate===null&&Xt===0&&(Xt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===qf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),ef(e,i,r)),!1;case 22:return n.flags|=65536,i===qf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),ef(e,i,r)),!1}throw Error(P(435,n.tag))}return ef(e,i,r),rd(),!1}if(Tt)return t=pn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Lf&&(e=Error(P(422),{cause:i}),xo(fn(e,n)))):(i!==Lf&&(t=Error(P(423),{cause:i}),xo(fn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=fn(i,n),r=$f(e.stateNode,i,r),qh(e,r),Xt!==4&&(Xt=2)),!1;var s=Error(P(520),{cause:i});if(s=fn(s,n),_o===null?_o=[s]:_o.push(s),Xt!==4&&(Xt=2),t===null)return!0;i=fn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=$f(n.stateNode,i,e),qh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Xi===null||!Xi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=fT(r),dT(r,e,n,i),qh(n,r),!1}n=n.return}while(n!==null);return!1}var mT=Error(P(461)),pe=!1;function ve(e,t,n,i){t.child=e===null?oT(t,null,n,i):Zs(t,e.child,n,i)}function cy(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Ur(t),i=pm(e,t,n,a,s,r),l=ym(),e!==null&&!pe?(_m(e,t,r),mi(e,t,r)):(Tt&&l&&um(t),t.flags|=1,ve(e,t,i,r),t.child)}function hy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!lm(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,gT(e,t,s,i,r)):(e=vu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Im(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(a,i)&&e.ref===t.ref)return mi(e,t,r)}return t.flags|=1,e=li(s,i),e.ref=t.ref,e.return=t,t.child=e}function gT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(No(s,i)&&e.ref===t.ref)if(pe=!1,t.pendingProps=i=s,Im(e,r))e.flags&131072&&(pe=!0);else return t.lanes=e.lanes,mi(e,t,r)}return Zf(e,t,n,i,r)}function pT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return fy(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(t,s!==null?s.cachePool:null),s!==null?Jp(t,s):Gf(),lT(t);else return t.lanes=t.childLanes=536870912,fy(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Tu(t,s.cachePool),Jp(t,s),Vi(),t.memoizedState=null):(e!==null&&Tu(t,null),Gf(),Vi());return ve(e,t,r,n),t.child}function fy(e,t,n,i){var r=fm();return r=r===null?null:{parent:ae._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Tu(t,null),Gf(),lT(t),e!==null&&il(e,t,i,!0),null}function bu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zf(e,t,n,i,r){return Ur(t),n=pm(e,t,n,i,void 0,r),i=ym(),e!==null&&!pe?(_m(e,t,r),mi(e,t,r)):(Tt&&i&&um(t),t.flags|=1,ve(e,t,n,r),t.child)}function dy(e,t,n,i,r,s){return Ur(t),t.updateQueue=null,n=D0(t,i,n,r),C0(e),i=ym(),e!==null&&!pe?(_m(e,t,s),mi(e,t,s)):(Tt&&i&&um(t),t.flags|=1,ve(e,t,n,s),t.child)}function my(e,t,n,i,r){if(Ur(t),t.stateNode===null){var s=Cs,a=n.contextType;typeof a=="object"&&a!==null&&(s=Me(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},dm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Me(a):Cs,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Fh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Xf.enqueueReplaceState(s,s.state,null),mo(t,i,s,r),fo(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=zr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Cs,typeof d=="object"&&d!==null&&(a=Me(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&ly(t,s,i,a),Oi=!1;var m=t.memoizedState;s.state=m,mo(t,i,s,r),fo(),h=t.memoizedState,l||m!==h||Oi?(typeof g=="function"&&(Fh(t,n,g,i),h=t.memoizedState),(u=Oi||oy(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Hf(e,t),a=t.memoizedProps,d=zr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=Cs,typeof h=="object"&&h!==null&&(u=Me(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ly(t,s,i,u),Oi=!1,m=t.memoizedState,s.state=m,mo(t,i,s,r),fo();var _=t.memoizedState;a!==g||m!==_||Oi||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof l=="function"&&(Fh(t,n,l,i),_=t.memoizedState),(d=Oi||oy(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,bu(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Zs(t,e.child,null,r),t.child=Zs(t,null,n,r)):ve(e,t,n,r),t.memoizedState=s.state,e=t.child):e=mi(e,t,r),e}function gy(e,t,n,i){return nl(),t.flags|=256,ve(e,t,n,i),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(e){return{baseLanes:e,cachePool:b0()}}function Yh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=gn),e}function yT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Tt){if(r?ki(t):Vi(),Tt){var l=Kt,u;if(u=l){t:{for(u=l,l=On;u.nodeType!==8;){if(!l){l=null;break t}if(u=Sn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Or!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},u=tn(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Ve=t,Kt=null,u=!0):u=!1}u||Lr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return hd(l)?t.lanes=32:t.lanes=536870912,null;si(t)}return l=i.children,i=i.fallback,r?(Vi(),r=t.mode,l=ec({mode:"hidden",children:l},r),i=xr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=Qh(n),r.childLanes=Yh(e,a,n),t.memoizedState=Gh,i):(ki(t),Wf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(ki(t),t.flags&=-257,t=Kh(e,t,n)):t.memoizedState!==null?(Vi(),t.child=e.child,t.flags|=128,t=null):(Vi(),r=i.fallback,l=t.mode,i=ec({mode:"visible",children:i.children},l),r=xr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Zs(t,e.child,null,n),i=t.child,i.memoizedState=Qh(n),i.childLanes=Yh(e,a,n),t.memoizedState=Gh,t=r);else if(ki(t),hd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,xo({value:i,source:null,stack:null}),t=Kh(e,t,n)}else if(pe||il(e,t,n,!1),a=(n&e.childLanes)!==0,pe||a){if(a=kt,a!==null&&(i=n&-n,i=i&42?1:Zd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,ma(e,i),sn(a,e,i),mT;l.data==="$?"||rd(),t=Kh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Kt=Sn(l.nextSibling),Ve=t,Tt=!0,Mr=null,On=!1,e!==null&&(un[cn++]=ni,un[cn++]=ii,un[cn++]=Or,ni=e.id,ii=e.overflow,Or=t),t=Wf(t,i.children),t.flags|=4096);return t}return r?(Vi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=li(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=li(h,r):(r=xr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=Qh(n):(u=l.cachePool,u!==null?(h=ae._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=b0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Yh(e,a,n),t.memoizedState=Gh,i):(ki(t),n=e.child,e=n.sibling,n=li(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Wf(e,t){return t=ec({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ec(e,t){return e=tn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Kh(e,t,n){return Zs(t,e.child,null,n),e=Wf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function py(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),jf(e.return,t,n)}function Xh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function _T(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ve(e,t,i.children,n),i=oe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,n,t);else if(e.tag===19)py(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Ft(oe,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Wu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Wu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xh(t,!0,n,null,s);break;case"together":Xh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lr|=t.lanes,!(n&t.childLanes))if(e!==null){if(il(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Im(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function hS(e,t,n){switch(t.tag){case 3:ju(t,t.stateNode.containerInfo),Mi(t,ae,e.memoizedState.cache),nl();break;case 27:case 5:If(t);break;case 4:ju(t,t.stateNode.containerInfo);break;case 10:Mi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ki(t),t.flags|=128,null):n&t.child.childLanes?yT(e,t,n):(ki(t),e=mi(e,t,n),e!==null?e.sibling:null);ki(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(il(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return _T(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ft(oe,oe.current),i)break;return null;case 22:case 23:return t.lanes=0,pT(e,t,n);case 24:Mi(t,ae,e.memoizedState.cache)}return mi(e,t,n)}function vT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pe=!0;else{if(!Im(e,n)&&!(t.flags&128))return pe=!1,hS(e,t,n);pe=!!(e.flags&131072)}else pe=!1,Tt&&t.flags&1048576&&E0(t,Qu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")lm(i)?(e=zr(i,e),t.tag=1,t=my(null,t,i,e,n)):(t.tag=0,t=Zf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Kd){t.tag=11,t=cy(null,t,i,e,n);break t}else if(r===Xd){t.tag=14,t=hy(null,t,i,e,n);break t}}throw t=wf(i)||i,Error(P(306,t,""))}}return t;case 0:return Zf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=zr(i,t.pendingProps),my(e,t,i,r,n);case 3:t:{if(ju(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Hf(e,t),mo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Mi(t,ae,i),i!==s.cache&&zf(t,[ae],n,!0),fo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=gy(e,t,i,n);break t}else if(i!==r){r=fn(Error(P(424)),t),xo(r),t=gy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=Sn(e.firstChild),Ve=t,Tt=!0,Mr=null,On=!0,n=oT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(nl(),i===r){t=mi(e,t,n);break t}ve(e,t,i,n)}t=t.child}return t;case 26:return bu(e,t),e===null?(n=My(t.type,null,t.pendingProps,null))?t.memoizedState=n:Tt||(n=t.type,e=t.pendingProps,i=lc(Qi.current).createElement(n),i[Oe]=t,i[Qe]=e,be(i,n,e),ge(i),t.stateNode=i):t.memoizedState=My(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return If(t),e===null&&Tt&&(i=t.stateNode=sE(t.type,t.pendingProps,Qi.current),Ve=t,On=!0,r=Kt,pr(t.type)?(fd=r,Kt=Sn(i.firstChild)):Kt=r),ve(e,t,t.pendingProps.children,n),bu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Tt&&((r=i=Kt)&&(i=jS(i,t.type,t.pendingProps,On),i!==null?(t.stateNode=i,Ve=t,Kt=Sn(i.firstChild),On=!1,r=!0):r=!1),r||Lr(t)),If(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ud(r,s)?i=null:a!==null&&ud(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=pm(e,t,iS,null,null,n),Lo._currentValue=r),bu(e,t),ve(e,t,i,n),t.child;case 6:return e===null&&Tt&&((e=n=Kt)&&(n=zS(n,t.pendingProps,On),n!==null?(t.stateNode=n,Ve=t,Kt=null,e=!0):e=!1),e||Lr(t)),null;case 13:return yT(e,t,n);case 4:return ju(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Zs(t,null,i,n):ve(e,t,i,n),t.child;case 11:return cy(e,t,t.type,t.pendingProps,n);case 7:return ve(e,t,t.pendingProps,n),t.child;case 8:return ve(e,t,t.pendingProps.children,n),t.child;case 12:return ve(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Mi(t,t.type,i.value),ve(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Ur(t),r=Me(r),i=i(r),t.flags|=1,ve(e,t,i,n),t.child;case 14:return hy(e,t,t.type,t.pendingProps,n);case 15:return gT(e,t,t.type,t.pendingProps,n);case 19:return _T(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=ec(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=li(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return pT(e,t,n);case 24:return Ur(t),i=Me(ae),e===null?(r=fm(),r===null&&(r=kt,s=hm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},dm(t),Mi(t,ae,r)):(e.lanes&n&&(Hf(e,t),mo(t,null,null,n),fo()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Mi(t,ae,i)):(i=s.cache,Mi(t,ae,i),i!==r.cache&&zf(t,[ae],n,!0))),ve(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function $n(e){e.flags|=4}function yy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lE(t)){if(t=pn.current,t!==null&&((yt&4194048)===yt?Pn!==null:(yt&62914560)!==yt&&!(yt&536870912)||t!==Pn))throw co=qf,S0;e.flags|=8192}}function iu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gv():536870912,e.lanes|=t,Ws|=t)}function Ya(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fS(e,t,n){var i=t.pendingProps;switch(cm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return Gt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ui(ae),Gs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?$n(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yp())),Gt(t),null;case 26:return n=t.memoizedState,e===null?($n(t),n!==null?(Gt(t),yy(t,n)):(Gt(t),t.flags&=-16777217)):n?n!==e.memoizedState?($n(t),Gt(t),yy(t,n)):(Gt(t),t.flags&=-16777217):(e.memoizedProps!==i&&$n(t),Gt(t),t.flags&=-16777217),null;case 27:zu(t),n=Qi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Gt(t),null}e=kn.current,Ga(t)?Gp(t):(e=sE(r,i,n),t.stateNode=e,$n(t))}return Gt(t),null;case 5:if(zu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Gt(t),null}if(e=kn.current,Ga(t))Gp(t);else{switch(r=lc(Qi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Oe]=t,e[Qe]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(be(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&$n(t)}}return Gt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=Qi.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Ve,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Oe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||nE(e.nodeValue,n)),e||Lr(t)}else e=lc(e).createTextNode(i),e[Oe]=t,t.stateNode=e}return Gt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ga(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[Oe]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),r=!1}else r=Yp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(si(t),t):(si(t),null)}if(si(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),iu(t,t.updateQueue),Gt(t),null;case 4:return Gs(),e===null&&Vm(t.stateNode.containerInfo),Gt(t),null;case 10:return ui(t.type),Gt(t),null;case 19:if(ye(oe),r=t.memoizedState,r===null)return Gt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Ya(r,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wu(e),s!==null){for(t.flags|=128,Ya(r,!1),e=s.updateQueue,t.updateQueue=e,iu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)T0(n,e),n=n.sibling;return Ft(oe,oe.current&1|2),t.child}e=e.sibling}r.tail!==null&&Vn()>ic&&(t.flags|=128,i=!0,Ya(r,!1),t.lanes=4194304)}else{if(!i)if(e=Wu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,iu(t,e),Ya(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Tt)return Gt(t),null}else 2*Vn()-r.renderingStartTime>ic&&n!==536870912&&(t.flags|=128,i=!0,Ya(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Vn(),t.sibling=null,e=oe.current,Ft(oe,i?e&1|2:e&1),t):(Gt(t),null);case 22:case 23:return si(t),mm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),n=t.updateQueue,n!==null&&iu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ye(kr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ui(ae),Gt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function dS(e,t){switch(cm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(ae),Gs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zu(t),null;case 13:if(si(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(oe),null;case 4:return Gs(),null;case 10:return ui(t.type),null;case 22:case 23:return si(t),mm(),e!==null&&ye(kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ui(ae),null;case 25:return null;default:return null}}function TT(e,t){switch(cm(t),t.tag){case 3:ui(ae),Gs();break;case 26:case 27:case 5:zu(t);break;case 4:Gs();break;case 13:si(t);break;case 19:ye(oe);break;case 10:ui(t.type);break;case 22:case 23:si(t),mm(),e!==null&&ye(kr);break;case 24:ui(ae)}}function ll(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Ot(t,t.return,l)}}function or(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Ot(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Ot(t,t.return,d)}}function ET(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{I0(t,n)}catch(i){Ot(e,e.return,i)}}}function AT(e,t,n){n.props=zr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ot(e,t,i)}}function po(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Ot(e,t,r)}}function Mn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Ot(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ot(e,t,r)}else n.current=null}function bT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ot(e,e.return,r)}}function $h(e,t,n){try{var i=e.stateNode;kS(i,e.type,n,t),i[Qe]=t}catch(r){Ot(e,e.return,r)}}function ST(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function Zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ST(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xc));else if(i!==4&&(i===27&&pr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Jf(e,t,n),e=e.sibling;e!==null;)Jf(e,t,n),e=e.sibling}function nc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&pr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function wT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);be(t,i,n),t[Oe]=e,t[Qe]=n}catch(s){Ot(e,e.return,s)}}var Jn=!1,Wt=!1,Wh=!1,_y=typeof WeakSet=="function"?WeakSet:Set,me=null;function mS(e,t){if(e=e.containerInfo,od=fc,e=f0(e),sm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ld={focusedElem:e,selectionRange:n},fc=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){switch(t=me,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=zr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Ot(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)cd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}}function RT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(e,n),i&4&&ll(5,n);break;case 1:if(Ci(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Ot(n,n.return,a)}else{var r=zr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Ot(n,n.return,a)}}i&64&&ET(n),i&512&&po(n,n.return);break;case 3:if(Ci(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{I0(e,t)}catch(a){Ot(n,n.return,a)}}break;case 27:t===null&&i&4&&wT(n);case 26:case 5:Ci(e,n),t===null&&i&4&&bT(n),i&512&&po(n,n.return);break;case 12:Ci(e,n);break;case 13:Ci(e,n),i&4&&DT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bS.bind(null,n),BS(e,n))));break;case 22:if(i=n.memoizedState!==null||Jn,!i){t=t!==null&&t.memoizedState!==null||Wt,r=Jn;var s=Wt;Jn=i,(Wt=t)&&!s?Ni(e,n,(n.subtreeFlags&8772)!==0):Ci(e,n),Jn=r,Wt=s}break;case 30:break;default:Ci(e,n)}}function IT(e){var t=e.alternate;t!==null&&(e.alternate=null,IT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,He=!1;function Zn(e,t,n){for(n=n.child;n!==null;)CT(e,t,n),n=n.sibling}function CT(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Zo,n)}catch{}switch(n.tag){case 26:Wt||Mn(n,t),Zn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Wt||Mn(n,t);var i=qt,r=He;pr(n.type)&&(qt=n.stateNode,He=!1),Zn(e,t,n),To(n.stateNode),qt=i,He=r;break;case 5:Wt||Mn(n,t);case 6:if(i=qt,r=He,qt=null,Zn(e,t,n),qt=i,He=r,qt!==null)if(He)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(n.stateNode)}catch(s){Ot(n,t,s)}else try{qt.removeChild(n.stateNode)}catch(s){Ot(n,t,s)}break;case 18:qt!==null&&(He?(e=qt,Ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),zo(e)):Ny(qt,n.stateNode));break;case 4:i=qt,r=He,qt=n.stateNode.containerInfo,He=!0,Zn(e,t,n),qt=i,He=r;break;case 0:case 11:case 14:case 15:Wt||or(2,n,t),Wt||or(4,n,t),Zn(e,t,n);break;case 1:Wt||(Mn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&AT(n,t,i)),Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:Wt=(i=Wt)||n.memoizedState!==null,Zn(e,t,n),Wt=i;break;default:Zn(e,t,n)}}function DT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zo(e)}catch(n){Ot(t,t.return,n)}}function gS(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _y),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _y),t;default:throw Error(P(435,e.tag))}}function Jh(e,t){var n=gS(e);t.forEach(function(i){var r=SS.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ze(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(pr(l.type)){qt=l.stateNode,He=!1;break t}break;case 5:qt=l.stateNode,He=!1;break t;case 3:case 4:qt=l.stateNode.containerInfo,He=!0;break t}l=l.return}if(qt===null)throw Error(P(160));CT(s,a,r),qt=null,He=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)NT(t,e),t=t.sibling}var En=null;function NT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ze(t,e),We(e),i&4&&(or(3,e,e.return),ll(3,e),or(5,e,e.return));break;case 1:Ze(t,e),We(e),i&512&&(Wt||n===null||Mn(n,n.return)),i&64&&Jn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=En;if(Ze(t,e),We(e),i&512&&(Wt||n===null||Mn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[tl]||s[Oe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),be(s,i,n),s[Oe]=e,ge(s),i=s;break t;case"link":var a=Vy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),be(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Vy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),be(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[Oe]=e,ge(s),i=s}e.stateNode=i}else Py(r,e.type,e.stateNode);else e.stateNode=ky(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Py(r,e.type,e.stateNode):ky(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&$h(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ze(t,e),We(e),i&512&&(Wt||n===null||Mn(n,n.return)),n!==null&&i&4&&$h(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ze(t,e),We(e),i&512&&(Wt||n===null||Mn(n,n.return)),e.flags&32){r=e.stateNode;try{Ys(r,"")}catch(_){Ot(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,$h(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Wh=!0);break;case 6:if(Ze(t,e),We(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){Ot(e,e.return,_)}}break;case 3:if(Ru=null,r=En,En=uc(t.containerInfo),Ze(t,e),En=r,We(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(_){Ot(e,e.return,_)}Wh&&(Wh=!1,xT(e));break;case 4:i=En,En=uc(e.stateNode.containerInfo),Ze(t,e),We(e),En=i;break;case 12:Ze(t,e),We(e);break;case 13:Ze(t,e),We(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Om=Vn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Jh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Jn,d=Wt;if(Jn=h||r,Wt=d||u,Ze(t,e),Wt=d,Jn=h,We(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Jn||Wt||Ir(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Ot(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){Ot(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Jh(e,n))));break;case 19:Ze(t,e),We(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Jh(e,i)));break;case 30:break;case 21:break;default:Ze(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(ST(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Zh(e);nc(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ys(a,""),n.flags&=-33);var l=Zh(e);nc(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Zh(e);Jf(e,h,u);break;default:throw Error(P(161))}}catch(d){Ot(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ci(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)RT(e,t.alternate,t),t=t.sibling}function Ir(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:or(4,t,t.return),Ir(t);break;case 1:Mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&AT(t,t.return,n),Ir(t);break;case 27:To(t.stateNode);case 26:case 5:Mn(t,t.return),Ir(t);break;case 22:t.memoizedState===null&&Ir(t);break;case 30:Ir(t);break;default:Ir(t)}e=e.sibling}}function Ni(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ni(r,s,n),ll(4,s);break;case 1:if(Ni(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Ot(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)R0(u[r],l)}catch(h){Ot(i,i.return,h)}}n&&a&64&&ET(s),po(s,s.return);break;case 27:wT(s);case 26:case 5:Ni(r,s,n),n&&i===null&&a&4&&bT(s),po(s,s.return);break;case 12:Ni(r,s,n);break;case 13:Ni(r,s,n),n&&a&4&&DT(r,s);break;case 22:s.memoizedState===null&&Ni(r,s,n),po(s,s.return);break;case 30:break;default:Ni(r,s,n)}t=t.sibling}}function Cm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rl(n))}function Dm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rl(e))}function Dn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)OT(e,t,n,i),t=t.sibling}function OT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Dn(e,t,n,i),r&2048&&ll(9,t);break;case 1:Dn(e,t,n,i);break;case 3:Dn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rl(e)));break;case 12:if(r&2048){Dn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Ot(t,t.return,u)}}else Dn(e,t,n,i);break;case 13:Dn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Dn(e,t,n,i):yo(e,t):s._visibility&2?Dn(e,t,n,i):(s._visibility|=2,ms(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Cm(a,t);break;case 24:Dn(e,t,n,i),r&2048&&Dm(t.alternate,t);break;default:Dn(e,t,n,i)}}function ms(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:ms(s,a,l,u,r),ll(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ms(s,a,l,u,r):yo(s,a):(d._visibility|=2,ms(s,a,l,u,r)),r&&h&2048&&Cm(a.alternate,a);break;case 24:ms(s,a,l,u,r),r&&h&2048&&Dm(a.alternate,a);break;default:ms(s,a,l,u,r)}t=t.sibling}}function yo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:yo(n,i),r&2048&&Cm(i.alternate,i);break;case 24:yo(n,i),r&2048&&Dm(i.alternate,i);break;default:yo(n,i)}t=t.sibling}}var to=8192;function cs(e){if(e.subtreeFlags&to)for(e=e.child;e!==null;)MT(e),e=e.sibling}function MT(e){switch(e.tag){case 26:cs(e),e.flags&to&&e.memoizedState!==null&&tw(En,e.memoizedState,e.memoizedProps);break;case 5:cs(e);break;case 3:case 4:var t=En;En=uc(e.stateNode.containerInfo),cs(e),En=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=to,to=16777216,cs(e),to=t):cs(e));break;default:cs(e)}}function kT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ka(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];me=i,PT(i,e)}kT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)VT(e),e=e.sibling}function VT(e){switch(e.tag){case 0:case 11:case 15:Ka(e),e.flags&2048&&or(9,e,e.return);break;case 3:Ka(e);break;case 12:Ka(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Su(e)):Ka(e);break;default:Ka(e)}}function Su(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];me=i,PT(i,e)}kT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:or(8,t,t.return),Su(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Su(t));break;default:Su(t)}e=e.sibling}}function PT(e,t){for(;me!==null;){var n=me;switch(n.tag){case 0:case 11:case 15:or(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:rl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,me=i;else t:for(n=e;me!==null;){i=me;var r=i.sibling,s=i.return;if(IT(i),i===n){me=null;break t}if(r!==null){r.return=s,me=r;break t}me=s}}}var pS={getCacheForType:function(e){var t=Me(ae),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},yS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,kt=null,ft=null,yt=0,wt=0,Je=null,Hi=!1,ga=!1,Nm=!1,gi=0,Xt=0,lr=0,Vr=0,xm=0,gn=0,Ws=0,_o=null,Fe=null,td=!1,Om=0,ic=1/0,rc=null,Xi=null,Ee=0,$i=null,Js=null,zs=0,ed=0,nd=null,LT=null,vo=0,id=null;function rn(){if(Rt&2&&yt!==0)return yt&-yt;if(J.T!==null){var e=Ks;return e!==0?e:km()}return Kv()}function UT(){gn===0&&(gn=!(yt&536870912)||Tt?Fv():536870912);var e=pn.current;return e!==null&&(e.flags|=32),gn}function sn(e,t,n){(e===kt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(ta(e,0),Fi(e,yt,gn,!1)),Jo(e,n),(!(Rt&2)||e!==kt)&&(e===kt&&(!(Rt&2)&&(Vr|=n),Xt===4&&Fi(e,yt,gn,!1)),Fn(e))}function jT(e,t,n){if(Rt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Wo(e,t),r=i?TS(e,t):tf(e,t,!0),s=i;do{if(r===0){ga&&!i&&Fi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_S(n)){r=tf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=_o;var u=l.current.memoizedState.isDehydrated;if(u&&(ta(l,a).flags|=256),a=tf(l,a,!1),a!==2){if(Nm&&!u){l.errorRecoveryDisabledLanes|=s,Vr|=s,r=4;break t}s=Fe,Fe=r,s!==null&&(Fe===null?Fe=s:Fe.push.apply(Fe,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){ta(e,0),Fi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:Fi(i,t,gn,!Hi);break t;case 2:Fe=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Om+300-Vn(),10<r)){if(Fi(i,t,gn,!Hi),Pc(i,0,!0)!==0)break t;i.timeoutHandle=rE(vy.bind(null,i,n,Fe,rc,td,t,gn,Vr,Ws,Hi,s,2,-0,0),r);break t}vy(i,n,Fe,rc,td,t,gn,Vr,Ws,Hi,s,0,-0,0)}}break}while(!0);Fn(e)}function vy(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:JS},MT(t),g=ew(),g!==null)){e.cancelPendingCommit=g(Ey.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),Fi(e,s,a,!h);return}Ey(e,t,s,n,i,r,a,l,u)}function _S(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!an(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t,n,i){t&=~xm,t&=~Vr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-nn(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Qv(e,n,t)}function Qc(){return Rt&6?!0:(ul(0),!1)}function Mm(){if(ft!==null){if(wt===0)var e=ft.return;else e=ft,ri=Xr=null,vm(e),js=null,Mo=0,e=ft;for(;e!==null;)TT(e.alternate,e),e=e.return;ft=null}}function ta(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,PS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Mm(),kt=e,ft=n=li(e.current,null),yt=t,wt=0,Je=null,Hi=!1,ga=Wo(e,t),Nm=!1,Ws=gn=xm=Vr=lr=Xt=0,Fe=_o=null,td=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-nn(i),s=1<<r;t|=e[r],i&=~s}return gi=t,zc(),n}function zT(e,t){ut=null,J.H=Zu,t===sl||t===qc?(t=Zp(),wt=3):t===S0?(t=Zp(),wt=4):wt=t===mT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Je=t,ft===null&&(Xt=1,tc(e,fn(t,e.current)))}function BT(){var e=J.H;return J.H=Zu,e===null?Zu:e}function qT(){var e=J.A;return J.A=pS,e}function rd(){Xt=4,Hi||(yt&4194048)!==yt&&pn.current!==null||(ga=!0),!(lr&134217727)&&!(Vr&134217727)||kt===null||Fi(kt,yt,gn,!1)}function tf(e,t,n){var i=Rt;Rt|=2;var r=BT(),s=qT();(kt!==e||yt!==t)&&(rc=null,ta(e,t)),t=!1;var a=Xt;t:do try{if(wt!==0&&ft!==null){var l=ft,u=Je;switch(wt){case 8:Mm(),a=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(t=!0);var h=wt;if(wt=0,Je=null,xs(e,l,u,h),n&&ga){a=0;break t}break;default:h=wt,wt=0,Je=null,xs(e,l,u,h)}}vS(),a=Xt;break}catch(d){zT(e,d)}while(!0);return t&&e.shellSuspendCounter++,ri=Xr=null,Rt=i,J.H=r,J.A=s,ft===null&&(kt=null,yt=0,zc()),a}function vS(){for(;ft!==null;)HT(ft)}function TS(e,t){var n=Rt;Rt|=2;var i=BT(),r=qT();kt!==e||yt!==t?(rc=null,ic=Vn()+500,ta(e,t)):ga=Wo(e,t);t:do try{if(wt!==0&&ft!==null){t=ft;var s=Je;e:switch(wt){case 1:wt=0,Je=null,xs(e,t,s,1);break;case 2:case 9:if($p(s)){wt=0,Je=null,Ty(t);break}t=function(){wt!==2&&wt!==9||kt!==e||(wt=7),Fn(e)},s.then(t,t);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:$p(s)?(wt=0,Je=null,Ty(t)):(wt=0,Je=null,xs(e,t,s,7));break;case 5:var a=null;switch(ft.tag){case 26:a=ft.memoizedState;case 5:case 27:var l=ft;if(!a||lE(a)){wt=0,Je=null;var u=l.sibling;if(u!==null)ft=u;else{var h=l.return;h!==null?(ft=h,Yc(h)):ft=null}break e}}wt=0,Je=null,xs(e,t,s,5);break;case 6:wt=0,Je=null,xs(e,t,s,6);break;case 8:Mm(),Xt=6;break t;default:throw Error(P(462))}}ES();break}catch(d){zT(e,d)}while(!0);return ri=Xr=null,J.H=i,J.A=r,Rt=n,ft!==null?0:(kt=null,yt=0,zc(),Xt)}function ES(){for(;ft!==null&&!Hb();)HT(ft)}function HT(e){var t=vT(e.alternate,e,gi);e.memoizedProps=e.pendingProps,t===null?Yc(e):ft=t}function Ty(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=dy(n,t,t.pendingProps,t.type,void 0,yt);break;case 11:t=dy(n,t,t.pendingProps,t.type.render,t.ref,yt);break;case 5:vm(t);default:TT(n,t),t=ft=T0(t,gi),t=vT(n,t,gi)}e.memoizedProps=e.pendingProps,t===null?Yc(e):ft=t}function xs(e,t,n,i){ri=Xr=null,vm(t),js=null,Mo=0;var r=t.return;try{if(cS(e,r,t,n,yt)){Xt=1,tc(e,fn(n,e.current)),ft=null;return}}catch(s){if(r!==null)throw ft=r,s;Xt=1,tc(e,fn(n,e.current)),ft=null;return}t.flags&32768?(Tt||i===1?e=!0:ga||yt&536870912?e=!1:(Hi=e=!0,(i===2||i===9||i===3||i===6)&&(i=pn.current,i!==null&&i.tag===13&&(i.flags|=16384))),FT(t,e)):Yc(t)}function Yc(e){var t=e;do{if(t.flags&32768){FT(t,Hi);return}e=t.return;var n=fS(t.alternate,t,gi);if(n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Xt===0&&(Xt=5)}function FT(e,t){do{var n=dS(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Xt=6,ft=null}function Ey(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Kc();while(Ee!==0);if(Rt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=am,Jb(e,n,s,a,l,u),e===kt&&(ft=kt=null,yt=0),Js=t,$i=e,zs=n,ed=s,nd=r,LT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wS(Bu,function(){return XT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=J.T,J.T=null,r=Et.p,Et.p=2,a=Rt,Rt|=4;try{mS(e,t,n)}finally{Rt=a,Et.p=r,J.T=i}}Ee=1,GT(),QT(),YT()}}function GT(){if(Ee===1){Ee=0;var e=$i,t=Js,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var i=Et.p;Et.p=2;var r=Rt;Rt|=4;try{NT(t,e);var s=ld,a=f0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&h0(l.ownerDocument.documentElement,l)){if(u!==null&&sm(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),x=l.textContent.length,M=Math.min(u.start,x),k=u.end===void 0?M:Math.min(u.end,x);!_.extend&&M>k&&(a=k,k=M,M=a);var S=qp(l,M),v=qp(l,k);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var R=g.createRange();R.setStart(S.node,S.offset),_.removeAllRanges(),M>k?(_.addRange(R),_.extend(v.node,v.offset)):(R.setEnd(v.node,v.offset),_.addRange(R))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}fc=!!od,ld=od=null}finally{Rt=r,Et.p=i,J.T=n}}e.current=t,Ee=2}}function QT(){if(Ee===2){Ee=0;var e=$i,t=Js,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var i=Et.p;Et.p=2;var r=Rt;Rt|=4;try{RT(e,t.alternate,t)}finally{Rt=r,Et.p=i,J.T=n}}Ee=3}}function YT(){if(Ee===4||Ee===3){Ee=0,Fb();var e=$i,t=Js,n=zs,i=LT;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Js=$i=null,KT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Xi=null),Wd(n),t=t.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Zo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=J.T,r=Et.p,Et.p=2,J.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{J.T=t,Et.p=r}}zs&3&&Kc(),Fn(e),r=e.pendingLanes,n&4194090&&r&42?e===id?vo++:(vo=0,id=e):vo=0,ul(0)}}function KT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rl(t)))}function Kc(e){return GT(),QT(),YT(),XT()}function XT(){if(Ee!==5)return!1;var e=$i,t=ed;ed=0;var n=Wd(zs),i=J.T,r=Et.p;try{Et.p=32>n?32:n,J.T=null,n=nd,nd=null;var s=$i,a=zs;if(Ee=0,Js=$i=null,zs=0,Rt&6)throw Error(P(331));var l=Rt;if(Rt|=4,VT(s.current),OT(s,s.current,a,n),Rt=l,ul(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Zo,s)}catch{}return!0}finally{Et.p=r,J.T=i,KT(e,t)}}function Ay(e,t,n){t=fn(n,t),t=$f(e.stateNode,t,2),e=Ki(e,t,2),e!==null&&(Jo(e,2),Fn(e))}function Ot(e,t,n){if(e.tag===3)Ay(e,e,n);else for(;t!==null;){if(t.tag===3){Ay(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Xi===null||!Xi.has(i))){e=fn(n,e),n=fT(2),i=Ki(t,n,2),i!==null&&(dT(n,i,t,e),Jo(i,2),Fn(i));break}}t=t.return}}function ef(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new yS;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Nm=!0,r.add(n),e=AS.bind(null,e,t,n),t.then(e,e))}function AS(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,kt===e&&(yt&n)===n&&(Xt===4||Xt===3&&(yt&62914560)===yt&&300>Vn()-Om?!(Rt&2)&&ta(e,0):xm|=n,Ws===yt&&(Ws=0)),Fn(e)}function $T(e,t){t===0&&(t=Gv()),e=ma(e,t),e!==null&&(Jo(e,t),Fn(e))}function bS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$T(e,n)}function SS(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),$T(e,n)}function wS(e,t){return $d(e,t)}var sc=null,gs=null,sd=!1,ac=!1,nf=!1,Pr=0;function Fn(e){e!==gs&&e.next===null&&(gs===null?sc=gs=e:gs=gs.next=e),ac=!0,sd||(sd=!0,IS())}function ul(e,t){if(!nf&&ac){nf=!0;do for(var n=!1,i=sc;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-nn(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,by(i,s))}else s=yt,s=Pc(i,i===kt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Wo(i,s)||(n=!0,by(i,s));i=i.next}while(n);nf=!1}}function RS(){ZT()}function ZT(){ac=sd=!1;var e=0;Pr!==0&&(VS()&&(e=Pr),Pr=0);for(var t=Vn(),n=null,i=sc;i!==null;){var r=i.next,s=WT(i,t);s===0?(i.next=null,n===null?sc=r:n.next=r,r===null&&(gs=n)):(n=i,(e!==0||s&3)&&(ac=!0)),i=r}ul(e)}function WT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-nn(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Wb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=kt,n=yt,n=Pc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ch(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Wo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ch(i),Wd(n)){case 2:case 8:n=qv;break;case 32:n=Bu;break;case 268435456:n=Hv;break;default:n=Bu}return i=JT.bind(null,e),n=$d(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ch(i),e.callbackPriority=2,e.callbackNode=null,2}function JT(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Kc()&&e.callbackNode!==n)return null;var i=yt;return i=Pc(e,e===kt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(jT(e,i,t),WT(e,Vn()),e.callbackNode!=null&&e.callbackNode===n?JT.bind(null,e):null)}function by(e,t){if(Kc())return null;jT(e,t,!0)}function IS(){LS(function(){Rt&6?$d(Bv,RS):ZT()})}function km(){return Pr===0&&(Pr=Fv()),Pr}function Sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pu(""+e)}function wy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function CS(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Sy((r[Qe]||null).action),a=i.submitter;a&&(t=(t=a[Qe]||null)?Sy(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Lc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pr!==0){var u=a?wy(r,a):new FormData(r);Kf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?wy(r,a):new FormData(r),Kf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var rf=0;rf<Pf.length;rf++){var sf=Pf[rf],DS=sf.toLowerCase(),NS=sf[0].toUpperCase()+sf.slice(1);Rn(DS,"on"+NS)}Rn(m0,"onAnimationEnd");Rn(g0,"onAnimationIteration");Rn(p0,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Y2,"onTransitionRun");Rn(K2,"onTransitionStart");Rn(X2,"onTransitionCancel");Rn(y0,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function tE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Ju(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Ju(d)}r.currentTarget=null,s=u}}}}function ht(e,t){var n=t[Df];n===void 0&&(n=t[Df]=new Set);var i=e+"__bubble";n.has(i)||(eE(t,e,2,!1),n.add(i))}function af(e,t,n){var i=0;t&&(i|=4),eE(n,e,i,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Vm(e){if(!e[ru]){e[ru]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(xS.has(n)||af(n,!1,e),af(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,af("selectionchange",!1,t))}}function eE(e,t,n,i){switch(dE(t)){case 2:var r=rw;break;case 8:r=sw;break;default:r=jm}n=r.bind(null,t,n,e),r=void 0,!Mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function of(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=As(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}i0(function(){var h=s,d=em(n),g=[];t:{var m=_0.get(e);if(m!==void 0){var _=Lc,x=e;switch(e){case"keypress":if(_u(n)===0)break t;case"keydown":case"keyup":_=w2;break;case"focusin":x="focus",_=Ph;break;case"focusout":x="blur",_=Ph;break;case"beforeblur":case"afterblur":_=Ph;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=d2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=C2;break;case m0:case g0:case p0:_=p2;break;case y0:_=N2;break;case"scroll":case"scrollend":_=h2;break;case"wheel":_=O2;break;case"copy":case"cut":case"paste":_=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=kp;break;case"toggle":case"beforetoggle":_=k2}var M=(t&4)!==0,k=!M&&(e==="scroll"||e==="scrollend"),S=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,R;v!==null;){var N=v;if(R=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||R===null||S===null||(N=Co(v,S),N!=null&&M.push(Vo(v,N,R))),k)break;v=v.return}0<M.length&&(m=new _(m,x,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Of&&(x=n.relatedTarget||n.fromElement)&&(As(x)||x[fa]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?As(x):null,x!==null&&(k=$o(x),M=x.tag,x!==k||M!==5&&M!==27&&M!==6)&&(x=null)):(_=null,x=h),_!==x)){if(M=Op,N="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=kp,N="onPointerLeave",S="onPointerEnter",v="pointer"),k=_==null?m:Ja(_),R=x==null?m:Ja(x),m=new M(N,v+"leave",_,n,d),m.target=k,m.relatedTarget=R,N=null,As(d)===h&&(M=new M(S,v+"enter",x,n,d),M.target=R,M.relatedTarget=k,N=M),k=N,_&&x)e:{for(M=_,S=x,v=0,R=M;R;R=hs(R))v++;for(R=0,N=S;N;N=hs(N))R++;for(;0<v-R;)M=hs(M),v--;for(;0<R-v;)S=hs(S),R--;for(;v--;){if(M===S||S!==null&&M===S.alternate)break e;M=hs(M),S=hs(S)}M=null}else M=null;_!==null&&Ry(g,m,_,M,!1),x!==null&&k!==null&&Ry(g,k,x,M,!0)}}t:{if(m=h?Ja(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=Up;else if(Lp(m))if(u0)U=F2;else{U=q2;var q=B2}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&tm(h.elementType)&&(U=Up):U=H2;if(U&&(U=U(e,h))){l0(g,U,n,d);break t}q&&q(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&xf(m,"number",m.value)}switch(q=h?Ja(h):window,e){case"focusin":(Lp(q)||q.contentEditable==="true")&&(ws=q,kf=h,lo=null);break;case"focusout":lo=kf=ws=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Hp(g,n,d);break;case"selectionchange":if(Q2)break;case"keydown":case"keyup":Hp(g,n,d)}var T;if(rm)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Ss?a0(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(s0&&n.locale!=="ko"&&(Ss||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ss&&(T=r0()):(qi=d,nm="value"in qi?qi.value:qi.textContent,Ss=!0)),q=oc(h,y),0<q.length&&(y=new Mp(y,e,null,n,d),g.push({event:y,listeners:q}),T?y.data=T:(T=o0(n),T!==null&&(y.data=T)))),(T=P2?L2(e,n):U2(e,n))&&(y=oc(h,"onBeforeInput"),0<y.length&&(q=new Mp("onBeforeInput","beforeinput",null,n,d),g.push({event:q,listeners:y}),q.data=T)),CS(g,e,h,n,d)}tE(g,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Co(e,n),r!=null&&i.unshift(Vo(e,r,s)),r=Co(e,t),r!=null&&i.push(Vo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ry(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=Co(n,s),h!=null&&a.unshift(Vo(n,h,u))):r||(h=Co(n,s),h!=null&&a.push(Vo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(OS,`
`).replace(MS,"")}function nE(e,t){return t=Iy(t),Iy(e)===t}function Xc(){}function Ct(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ys(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ys(e,""+i);break;case"className":Zl(e,"class",i);break;case"tabIndex":Zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(e,n,i);break;case"style":n0(e,i,s);break;case"data":if(t!=="object"){Zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=pu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ct(e,t,"name",r.name,r,null),Ct(e,t,"formEncType",r.formEncType,r,null),Ct(e,t,"formMethod",r.formMethod,r,null),Ct(e,t,"formTarget",r.formTarget,r,null)):(Ct(e,t,"encType",r.encType,r,null),Ct(e,t,"method",r.method,r,null),Ct(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=pu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Xc);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=pu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ht("beforetoggle",e),ht("toggle",e),gu(e,"popover",i);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=u2.get(n)||n,gu(e,n,i))}}function ad(e,t,n,i,r,s){switch(n){case"style":n0(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ys(e,i):(typeof i=="number"||typeof i=="bigint")&&Ys(e,""+i);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$v.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Qe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):gu(e,n,i)}}}function be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Ct(e,t,s,a,n,null)}}r&&Ct(e,t,"srcSet",n.srcSet,n,null),i&&Ct(e,t,"src",n.src,n,null);return;case"input":ht("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:Ct(e,t,i,d,n,null)}}Jv(e,s,l,u,h,a,r,!1),qu(e);return;case"select":ht("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ct(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ks(e,!!i,t,!1):n!=null&&ks(e,!!i,n,!0);return;case"textarea":ht("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Ct(e,t,a,l,n,null)}e0(e,i,r,s),qu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ct(e,t,u,i,n,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(i=0;i<ko.length;i++)ht(ko[i],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Ct(e,t,h,i,n,null)}return;default:if(tm(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&ad(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ct(e,t,l,i,n,null))}function kS(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Ct(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==g&&Ct(e,t,m,_,i,g)}}Nf(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Ct(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Ct(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?ks(e,!!n,m,!1):!!i!=!!n&&(t!=null?ks(e,!!n,t,!0):ks(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ct(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&Ct(e,t,a,r,i,s)}t0(e,m,_);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Ct(e,t,x,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ct(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Ct(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:Ct(e,t,h,m,i,_)}return;default:if(tm(t)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&ad(e,t,k,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||ad(e,t,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&Ct(e,t,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Ct(e,t,g,m,i,_)}var od=null,ld=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ud(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lf=null;function VS(){var e=window.event;return e&&e.type==="popstate"?e===lf?!1:(lf=e,!0):(lf=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(e){return Dy.resolve(null).then(e).catch(US)}:rE;function US(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function Ny(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&To(a.documentElement),n&2&&To(a.body),n&4)for(n=a.head,To(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[tl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),zo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);zo(t)}function cd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cd(n),Jd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jS(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Sn(e.nextSibling),e===null)break}return null}function zS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Sn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function BS(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var fd=null;function xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function sE(e,t,n){switch(t=lc(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function To(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jd(e)}var yn=new Map,Oy=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ai=Et.d;Et.d={f:qS,r:HS,D:FS,C:GS,L:QS,m:YS,X:XS,S:KS,M:$S};function qS(){var e=Ai.f(),t=Qc();return e||t}function HS(e){var t=da(e);t!==null&&t.tag===5&&t.type==="form"?W0(t):Ai.r(e)}var pa=typeof document>"u"?null:document;function aE(e,t,n){var i=pa;if(i&&typeof t=="string"&&t){var r=hn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Oy.has(r)||(Oy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),be(t,"link",e),ge(t),i.head.appendChild(t)))}}function FS(e){Ai.D(e),aE("dns-prefetch",e,null)}function GS(e,t){Ai.C(e,t),aE("preconnect",e,t)}function QS(e,t,n){Ai.L(e,t,n);var i=pa;if(i&&e&&t){var r='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+hn(n.imageSizes)+'"]')):r+='[href="'+hn(e)+'"]';var s=r;switch(t){case"style":s=ea(e);break;case"script":s=ya(e)}yn.has(s)||(e=Lt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),yn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(cl(s))||t==="script"&&i.querySelector(hl(s))||(t=i.createElement("link"),be(t,"link",e),ge(t),i.head.appendChild(t)))}}function YS(e,t){Ai.m(e,t);var n=pa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+hn(i)+'"][href="'+hn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ya(e)}if(!yn.has(s)&&(e=Lt({rel:"modulepreload",href:e},t),yn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(s)))return}i=n.createElement("link"),be(i,"link",e),ge(i),n.head.appendChild(i)}}}function KS(e,t,n){Ai.S(e,t,n);var i=pa;if(i&&e){var r=Ms(i).hoistableStyles,s=ea(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(cl(s)))l.loading=5;else{e=Lt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=yn.get(s))&&Pm(e,n);var u=a=i.createElement("link");ge(u),be(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,wu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function XS(e,t){Ai.X(e,t);var n=pa;if(n&&e){var i=Ms(n).hoistableScripts,r=ya(e),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(e=Lt({src:e,async:!0},t),(t=yn.get(r))&&Lm(e,t),s=n.createElement("script"),ge(s),be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function $S(e,t){Ai.M(e,t);var n=pa;if(n&&e){var i=Ms(n).hoistableScripts,r=ya(e),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(e=Lt({src:e,async:!0,type:"module"},t),(t=yn.get(r))&&Lm(e,t),s=n.createElement("script"),ge(s),be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function My(e,t,n,i){var r=(r=Qi.current)?uc(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ea(n.href),n=Ms(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ea(n.href);var s=Ms(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(cl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),yn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yn.set(e,n),s||ZS(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ya(n),n=Ms(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function ea(e){return'href="'+hn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function oE(e){return Lt({},e,{"data-precedence":e.precedence,precedence:null})}function ZS(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),be(t,"link",n),ge(t),e.head.appendChild(t))}function ya(e){return'[src="'+hn(e)+'"]'}function hl(e){return"script[async]"+e}function ky(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+hn(n.href)+'"]');if(i)return t.instance=i,ge(i),i;var r=Lt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ge(i),be(i,"style",r),wu(i,n.precedence,e),t.instance=i;case"stylesheet":r=ea(n.href);var s=e.querySelector(cl(r));if(s)return t.state.loading|=4,t.instance=s,ge(s),s;i=oE(n),(r=yn.get(r))&&Pm(i,r),s=(e.ownerDocument||e).createElement("link"),ge(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),be(s,"link",i),t.state.loading|=4,wu(s,n.precedence,e),t.instance=s;case"script":return s=ya(n.src),(r=e.querySelector(hl(s)))?(t.instance=r,ge(r),r):(i=n,(r=yn.get(s))&&(i=Lt({},n),Lm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ge(r),be(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,wu(i,n.precedence,e));return t.instance}function wu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ru=null;function Vy(e,t,n){if(Ru===null){var i=new Map,r=Ru=new Map;r.set(n,i)}else r=Ru,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[tl]||s[Oe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Py(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function WS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Po=null;function JS(){}function tw(e,t,n){if(Po===null)throw Error(P(475));var i=Po;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ea(n.href),s=e.querySelector(cl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=cc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,ge(s);return}s=e.ownerDocument||e,n=oE(n),(r=yn.get(r))&&Pm(n,r),s=s.createElement("link"),ge(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),be(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=cc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function ew(){if(Po===null)throw Error(P(475));var e=Po;return e.stylesheets&&e.count===0&&dd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&dd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function dd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,t.forEach(nw,e),hc=null,cc.call(e))}function nw(e,t){if(!(t.state.loading&4)){var n=hc.get(e);if(n)var i=n.get(null);else{n=new Map,hc.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=cc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Lo={$$typeof:ei,Provider:null,Consumer:null,_currentValue:Nr,_currentValue2:Nr,_threadCount:0};function iw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.hiddenUpdates=Dh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function uE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new iw(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=tn(3,null,null,t),e.current=s,s.stateNode=e,t=hm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},dm(s),e}function cE(e){return e?(e=Cs,e):Cs}function hE(e,t,n,i,r,s){r=cE(r),i.context===null?i.context=r:i.pendingContext=r,i=Yi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ki(e,i,t),n!==null&&(sn(n,e,t),ho(n,e,t))}function Ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Um(e,t){Ly(e,t),(e=e.alternate)&&Ly(e,t)}function fE(e){if(e.tag===13){var t=ma(e,67108864);t!==null&&sn(t,e,67108864),Um(e,67108864)}}var fc=!0;function rw(e,t,n,i){var r=J.T;J.T=null;var s=Et.p;try{Et.p=2,jm(e,t,n,i)}finally{Et.p=s,J.T=r}}function sw(e,t,n,i){var r=J.T;J.T=null;var s=Et.p;try{Et.p=8,jm(e,t,n,i)}finally{Et.p=s,J.T=r}}function jm(e,t,n,i){if(fc){var r=md(i);if(r===null)of(e,t,i,dc,n),Uy(e,i);else if(ow(r,e,t,n,i))i.stopPropagation();else if(Uy(e,i),t&4&&-1<aw.indexOf(e)){for(;r!==null;){var s=da(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=wr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-nn(a);l.entanglements[1]|=u,a&=~u}Fn(s),!(Rt&6)&&(ic=Vn()+500,ul(0))}}break;case 13:l=ma(s,2),l!==null&&sn(l,s,2),Qc(),Um(s,2)}if(s=md(i),s===null&&of(e,t,i,dc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else of(e,t,i,null,n)}}function md(e){return e=em(e),zm(e)}var dc=null;function zm(e){if(dc=null,e=As(e),e!==null){var t=$o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Lv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dc=e,null}function dE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gb()){case Bv:return 2;case qv:return 8;case Bu:case Qb:return 32;case Hv:return 268435456;default:return 32}default:return 32}}var gd=!1,Zi=null,Wi=null,Ji=null,Uo=new Map,jo=new Map,Pi=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(t.pointerId)}}function Xa(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=da(t),t!==null&&fE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ow(e,t,n,i,r){switch(t){case"focusin":return Zi=Xa(Zi,e,t,n,i,r),!0;case"dragenter":return Wi=Xa(Wi,e,t,n,i,r),!0;case"mouseover":return Ji=Xa(Ji,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Uo.set(s,Xa(Uo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,jo.set(s,Xa(jo.get(s)||null,e,t,n,i,r)),!0}return!1}function mE(e){var t=As(e.target);if(t!==null){var n=$o(t);if(n!==null){if(t=n.tag,t===13){if(t=Lv(n),t!==null){e.blockedOn=t,t2(e.priority,function(){if(n.tag===13){var i=rn();i=Zd(i);var r=ma(n,i);r!==null&&sn(r,n,i),Um(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=md(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Of=i,n.target.dispatchEvent(i),Of=null}else return t=da(n),t!==null&&fE(t),e.blockedOn=n,!1;t.shift()}return!0}function jy(e,t,n){Iu(e)&&n.delete(t)}function lw(){gd=!1,Zi!==null&&Iu(Zi)&&(Zi=null),Wi!==null&&Iu(Wi)&&(Wi=null),Ji!==null&&Iu(Ji)&&(Ji=null),Uo.forEach(jy),jo.forEach(jy)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,ce.unstable_scheduleCallback(ce.unstable_NormalPriority,lw)))}var au=null;function zy(e){au!==e&&(au=e,ce.unstable_scheduleCallback(ce.unstable_NormalPriority,function(){au===e&&(au=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(zm(i||n)===null)continue;break}var s=da(n);s!==null&&(e.splice(t,3),t-=3,Kf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function zo(e){function t(u){return su(u,e)}Zi!==null&&su(Zi,e),Wi!==null&&su(Wi,e),Ji!==null&&su(Ji,e),Uo.forEach(t),jo.forEach(t);for(var n=0;n<Pi.length;n++){var i=Pi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&Pi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Qe]||null;if(typeof s=="function")a||zy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Qe]||null)l=a.formAction;else if(zm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),zy(n)}}}function Bm(e){this._internalRoot=e}$c.prototype.render=Bm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=rn();hE(n,i,e,t,null,null)};$c.prototype.unmount=Bm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hE(e.current,2,null,e,null,null),Qc(),t[fa]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pi.length&&t!==0&&t<Pi[n].priority;n++);Pi.splice(n,0,e),n===0&&mE(e)}};var By=Vv.version;if(By!=="19.1.0")throw Error(P(527,By,"19.1.0"));Et.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Ub(t),e=e!==null?Uv(e):null,e=e===null?null:e.stateNode,e};var uw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Zo=ou.inject(uw),en=ou}catch{}}kc.createRoot=function(e,t){if(!Pv(e))throw Error(P(299));var n=!1,i="",r=uT,s=cT,a=hT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=uE(e,1,!1,null,null,n,i,r,s,a,l,null),e[fa]=t.current,Vm(e),new Bm(t)};kc.hydrateRoot=function(e,t,n){if(!Pv(e))throw Error(P(299));var i=!1,r="",s=uT,a=cT,l=hT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=uE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=cE(null),n=t.current,i=rn(),i=Zd(i),r=Yi(i),r.callback=null,Ki(n,r,i),n=i,t.current.lanes=n,Jo(t,n),Fn(t),e[fa]=t.current,Vm(e),new $c(t)};kc.version="19.1.0";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(e){console.error(e)}}gE(),Dv.exports=kc;var cw=Dv.exports;const hw=_v(cw),fw=()=>{};var qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},dw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new mw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gw=function(e){const t=pE(e);return yE.encodeByteArray(t,!0)},mc=function(e){return gw(e).replace(/\./g,"")},_E=function(e){try{return yE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=()=>pw().__FIREBASE_DEFAULTS__,_w=()=>{if(typeof process>"u"||typeof qy>"u")return;const e=qy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_E(e[1]);return t&&JSON.parse(t)},Zc=()=>{try{return fw()||yw()||_w()||vw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vE=e=>{var t,n;return(n=(t=Zc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Tw=e=>{const t=vE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},TE=()=>{var e;return(e=Zc())===null||e===void 0?void 0:e.config},EE=e=>{var t;return(t=Zc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e){return e.endsWith(".cloudworkstations.dev")}async function AE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mc(JSON.stringify(n)),mc(JSON.stringify(a)),""].join(".")}const Eo={};function bw(){const e={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?e.emulator.push(t):e.prod.push(t);return e}function Sw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Hy=!1;function bE(e,t){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||Eo[e]===t||Eo[e]||Hy)return;Eo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=bw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Hy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Sw(i),_=n("text"),x=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;l(R),d(k,M);const N=h();u(v,S),R.append(v,x,k,N),document.body.appendChild(R)}s?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Rw(){var e;const t=(e=Zc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const e=ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xw(){return!Rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ow(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="FirebaseError";class bi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=kw,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?Vw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new bi(r,l,i)}}function Vw(e,t){return e.replace(Pw,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Pw=/\{\$([^}]+)}/g;function Lw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Br(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Fy(s)&&Fy(a)){if(!Br(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Fy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Uw(e,t){const n=new jw(e,t);return n.subscribe.bind(n)}class jw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");zw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=uf),r.error===void 0&&(r.error=uf),r.complete===void 0&&(r.complete=uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return e&&e._delegate?e._delegate:e}class qr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Ew;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hw(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qw(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qw(e){return e===Cr?void 0:e}function Hw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Bw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const Gw={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Qw=dt.INFO,Yw={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},Kw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Yw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=Qw,this._logHandler=Kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const Xw=(e,t)=>t.some(n=>e instanceof n);let Gy,Qy;function $w(){return Gy||(Gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zw(){return Qy||(Qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,pd=new WeakMap,wE=new WeakMap,cf=new WeakMap,Hm=new WeakMap;function Ww(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(tr(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&SE.set(n,e)}).catch(()=>{}),Hm.set(t,e),t}function Jw(e){if(pd.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});pd.set(e,t)}let yd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return pd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tR(e){yd=e(yd)}function eR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(hf(this),t,...n);return wE.set(i,t.sort?t.sort():[t]),tr(i)}:Zw().includes(e)?function(...t){return e.apply(hf(this),t),tr(SE.get(this))}:function(...t){return tr(e.apply(hf(this),t))}}function nR(e){return typeof e=="function"?eR(e):(e instanceof IDBTransaction&&Jw(e),Xw(e,$w())?new Proxy(e,yd):e)}function tr(e){if(e instanceof IDBRequest)return Ww(e);if(cf.has(e))return cf.get(e);const t=nR(e);return t!==e&&(cf.set(e,t),Hm.set(t,e)),t}const hf=e=>Hm.get(e);function iR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=tr(a);return i&&a.addEventListener("upgradeneeded",u=>{i(tr(a.result),u.oldVersion,u.newVersion,tr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const rR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],ff=new Map;function Yy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ff.get(t))return ff.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=sR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return ff.set(t,s),s}tR(e=>({...e,get:(t,n,i)=>Yy(t,n)||e.get(t,n,i),has:(t,n)=>!!Yy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function oR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _d="@firebase/app",Ky="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new qm("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",fR="@firebase/app-check",dR="@firebase/auth",mR="@firebase/auth-compat",gR="@firebase/database",pR="@firebase/data-connect",yR="@firebase/database-compat",_R="@firebase/functions",vR="@firebase/functions-compat",TR="@firebase/installations",ER="@firebase/installations-compat",AR="@firebase/messaging",bR="@firebase/messaging-compat",SR="@firebase/performance",wR="@firebase/performance-compat",RR="@firebase/remote-config",IR="@firebase/remote-config-compat",CR="@firebase/storage",DR="@firebase/storage-compat",NR="@firebase/firestore",xR="@firebase/ai",OR="@firebase/firestore-compat",MR="firebase",kR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",VR={[_d]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[fR]:"fire-app-check",[hR]:"fire-app-check-compat",[dR]:"fire-auth",[mR]:"fire-auth-compat",[gR]:"fire-rtdb",[pR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[_R]:"fire-fn",[vR]:"fire-fn-compat",[TR]:"fire-iid",[ER]:"fire-iid-compat",[AR]:"fire-fcm",[bR]:"fire-fcm-compat",[SR]:"fire-perf",[wR]:"fire-perf-compat",[RR]:"fire-rc",[IR]:"fire-rc-compat",[CR]:"fire-gcs",[DR]:"fire-gcs-compat",[NR]:"fire-fst",[OR]:"fire-fst-compat",[xR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,PR=new Map,Td=new Map;function Xy(e,t){try{e.container.addComponent(t)}catch(n){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function na(e){const t=e.name;if(Td.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Td.set(t,e);for(const n of gc.values())Xy(n,e);for(const n of PR.values())Xy(n,e);return!0}function Fm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new fl("app","Firebase",LR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=kR;function RE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:vd,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw er.create("bad-app-name",{appName:String(r)});if(n||(n=TE()),!n)throw er.create("no-options");const s=gc.get(r);if(s){if(Br(n,s.options)&&Br(i,s.config))return s;throw er.create("duplicate-app",{appName:r})}const a=new Fw(r);for(const u of Td.values())a.addComponent(u);const l=new UR(n,i,a);return gc.set(r,l),l}function IE(e=vd){const t=gc.get(e);if(!t&&e===vd&&TE())return RE();if(!t)throw er.create("no-app",{appName:e});return t}function nr(e,t,n){var i;let r=(i=VR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}na(new qr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",zR=1,Bo="firebase-heartbeat-store";let df=null;function CE(){return df||(df=iR(jR,zR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(e=>{throw er.create("idb-open",{originalErrorMessage:e.message})})),df}async function BR(e){try{const n=(await CE()).transaction(Bo),i=await n.objectStore(Bo).get(DE(e));return await n.done,i}catch(t){if(t instanceof bi)pi.warn(t.message);else{const n=er.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(n.message)}}}async function $y(e,t){try{const i=(await CE()).transaction(Bo,"readwrite");await i.objectStore(Bo).put(t,DE(e)),await i.done}catch(n){if(n instanceof bi)pi.warn(n.message);else{const i=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(i.message)}}}function DE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1024,HR=30;class FR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>HR){const a=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zy(),{heartbeatsToSend:i,unsentEntries:r}=GR(this._heartbeatsCache.heartbeats),s=mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pi.warn(n),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function GR(e,t=qR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Wy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Wy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class QR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ow()?Mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $y(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $y(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Wy(e){return mc(JSON.stringify({version:2,heartbeats:e})).length}function YR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e){na(new qr("platform-logger",t=>new aR(t),"PRIVATE")),na(new qr("heartbeat",t=>new FR(t),"PRIVATE")),nr(_d,Ky,e),nr(_d,Ky,"esm2017"),nr("fire-js","")}KR("");var XR="firebase",$R="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(XR,$R,"app");function Gm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function NE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=NE,xE=new fl("auth","Firebase",NE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new qm("@firebase/auth");function WR(e,...t){pc.logLevel<=dt.WARN&&pc.warn(`Auth (${va}): ${e}`,...t)}function Cu(e,...t){pc.logLevel<=dt.ERROR&&pc.error(`Auth (${va}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e,...t){throw Qm(e,...t)}function Ln(e,...t){return Qm(e,...t)}function OE(e,t,n){const i=Object.assign(Object.assign({},ZR()),{[t]:n});return new fl("auth","Firebase",i).create(t,{appName:e.name})}function ci(e){return OE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return xE.create(e,...t)}function nt(e,t,...n){if(!e)throw Qm(t,...n)}function ai(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cu(t),new Error(t)}function _i(e,t){e||ai(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function JR(){return Jy()==="http:"||Jy()==="https:"}function Jy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||Cw()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n){this.shortDelay=t,this.longDelay=n,_i(n>t,"Short delay should be less than long delay!"),this.isMobile=ww()||Dw()}get(){return tI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(e,t){_i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rI=new ml(3e4,6e4);function gl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ta(e,t,n,i,r={}){return kE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=dl(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return Iw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&_a(e.emulatorConfig.host)&&(h.credentials="include"),ME.fetch()(await VE(e,e.config.apiHost,n,l),h)})}async function kE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},nI),t);try{const r=new sI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw lu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw lu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw lu(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw OE(e,d,h);yi(e,d)}}catch(r){if(r instanceof bi)throw r;yi(e,"network-request-failed",{message:String(r)})}}async function Km(e,t,n,i,r={}){const s=await Ta(e,t,n,i,r);return"mfaPendingCredential"in s&&yi(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function VE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Ym(e.config,r):`${e.config.apiScheme}://${r}`;return iI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ln(this.auth,"network-request-failed")),rI.get())})}}function lu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ln(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(e,t){return Ta(e,"POST","/v1/accounts:delete",t)}async function yc(e,t){return Ta(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oI(e,t=!1){const n=Ye(e),i=await n.getIdToken(t),r=Xm(i);nt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ao(mf(r.auth_time)),issuedAtTime:Ao(mf(r.iat)),expirationTime:Ao(mf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mf(e){return Number(e)*1e3}function Xm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const r=_E(n);return r?JSON.parse(r):(Cu("Failed to decode base64 JWT payload"),null)}catch(r){return Cu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function t_(e){const t=Xm(e);return nt(t,"internal-error"),nt(typeof t.exp<"u","internal-error"),nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof bi&&lI(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function lI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(e){var t;const n=e.auth,i=await e.getIdToken(),r=await qo(e,yc(n,{idToken:i}));nt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?PE(s.providerUserInfo):[],l=hI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ad(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function cI(e){const t=Ye(e);await _c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function PE(e){return e.map(t=>{var{providerId:n}=t,i=Gm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(e,t){const n=await kE(e,{},async()=>{const i=dl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await VE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&_a(e.emulatorConfig.host)&&(u.credentials="include"),ME.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dI(e,t){return Ta(e,"POST","/v2/accounts:revokeToken",gl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nt(t.idToken,"internal-error"),nt(typeof t.idToken<"u","internal-error"),nt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):t_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){nt(t.length!==0,"internal-error");const n=t_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await fI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Bs;return i&&(nt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(nt(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(nt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(e,t){nt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class An{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Gm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ad(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await qo(this,this.stsTokenManager.getToken(this.auth,t));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oI(this,t)}reload(){return cI(this)}_assign(t){this!==t&&(nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new An(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ci(this.auth));const t=await this.getIdToken();return await qo(this,aI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:N,isAnonymous:U,providerData:q,stsTokenManager:T}=n;nt(R&&T,t,"internal-error");const y=Bs.fromJSON(this.name,T);nt(typeof R=="string",t,"internal-error"),Di(g,t.name),Di(m,t.name),nt(typeof N=="boolean",t,"internal-error"),nt(typeof U=="boolean",t,"internal-error"),Di(_,t.name),Di(x,t.name),Di(M,t.name),Di(k,t.name),Di(S,t.name),Di(v,t.name);const E=new An({uid:R,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:S,lastLoginAt:v});return q&&Array.isArray(q)&&(E.providerData=q.map(b=>Object.assign({},b))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Bs;r.updateFromServerResponse(n);const s=new An({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await _c(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];nt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?PE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Bs;l.updateFromIdToken(i);const u=new An({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ad(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function oi(e){_i(e instanceof Function,"Expected a class definition");let t=e_.get(e);return t?(_i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,e_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LE.type="NONE";const n_=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e,t,n){return`firebase:${e}:${t}:${n}`}class qs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Du(this.userKey,r.apiKey,s),this.fullPersistenceKey=Du("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yc(this.auth,{idToken:t}).catch(()=>{});return n?An._fromGetAccountInfoResponse(this.auth,n,t):null}return An._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new qs(oi(n_),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||oi(n_);const a=Du(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await yc(t,{idToken:d}).catch(()=>{});if(!m)break;g=await An._fromGetAccountInfoResponse(t,m,d)}else g=An._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qs(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new qs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(FE(t))return"Webos";if(jE(t))return"Safari";if((t.includes("chrome/")||zE(t))&&!t.includes("edge/"))return"Chrome";if(qE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UE(e=ke()){return/firefox\//i.test(e)}function jE(e=ke()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zE(e=ke()){return/crios\//i.test(e)}function BE(e=ke()){return/iemobile/i.test(e)}function qE(e=ke()){return/android/i.test(e)}function HE(e=ke()){return/blackberry/i.test(e)}function FE(e=ke()){return/webos/i.test(e)}function $m(e=ke()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mI(e=ke()){var t;return $m(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gI(){return Nw()&&document.documentMode===10}function GE(e=ke()){return $m(e)||qE(e)||FE(e)||HE(e)||/windows phone/i.test(e)||BE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(e,t=[]){let n;switch(e){case"Browser":n=i_(ke());break;case"Worker":n=`${i_(ke())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(e,t={}){return Ta(e,"GET","/v2/passwordPolicy",gl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=6;class vI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:_I,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await qs.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yc(this,{idToken:t}),i=await An._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(dn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _c(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dn(this.app))return Promise.reject(ci(this));const n=t?Ye(t):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yI(this),n=new vI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&oi(t)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&WR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pl(e){return Ye(e)}class r_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Uw(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EI(e){Zm=e}function AI(e){return Zm.loadJS(e)}function bI(){return Zm.gapiScript}function SI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(e,t){const n=Fm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Br(s,t??{}))return r;yi(r,"already-initialized")}return n.initialize({options:t})}function RI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(oi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function II(e,t,n){const i=pl(e);nt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=YE(t),{host:a,port:l}=CI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){nt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),nt(Br(h,i.config.emulator)&&Br(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,_a(a)?(AE(`${s}//${a}${u}`),bE("Auth",!0)):DI()}function YE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function CI(e){const t=YE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:s_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:s_(a)}}}function s_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(t){return ai("not implemented")}_linkToIdToken(t,n){return ai("not implemented")}_getReauthenticationResolver(t){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(e,t){return Km(e,"POST","/v1/accounts:signInWithIdp",gl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="http://localhost";class Hr extends KE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Gm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Hr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Hs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Hs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hs(t,n)}buildRequest(){const t={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=dl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends yl{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Li.credential(t.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hr._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ui.credential(n,i)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends yl{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ji.credential(t.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends yl{constructor(){super("twitter.com")}static credential(t,n){return Hr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(e,t){return Km(e,"POST","/v1/accounts:signUp",gl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await An._fromIdTokenResponse(t,i,r),a=a_(i);return new vi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=a_(i);return new vi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function a_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(e){var t;if(dn(e.app))return Promise.reject(ci(e));const n=pl(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new vi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await xI(n,{returnSecureToken:!0}),r=await vi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends bi{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new vc(t,n,i,r)}}function $E(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(e,s,t,i):s})}async function MI(e,t,n=!1){const i=await qo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return vi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(e,t,n=!1){const{auth:i}=e;if(dn(i.app))return Promise.reject(ci(i));const r="reauthenticate";try{const s=await qo(e,$E(i,r,t,e),n);nt(s.idToken,i,"internal-error");const a=Xm(s.idToken);nt(a,i,"internal-error");const{sub:l}=a;return nt(e.uid===l,i,"user-mismatch"),vi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(e,t,n=!1){if(dn(e.app))return Promise.reject(ci(e));const i="signIn",r=await $E(e,i,t),s=await vi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(e,t){return Km(e,"POST","/v1/accounts:signInWithCustomToken",gl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(e,t){if(dn(e.app))return Promise.reject(ci(e));const n=pl(e),i=await PI(n,{token:t,returnSecureToken:!0}),r=await vi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function UI(e,t,n,i){return Ye(e).onIdTokenChanged(t,n,i)}function jI(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}function zI(e,t,n,i){return Ye(e).onAuthStateChanged(t,n,i)}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,qI=10;class WE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);gI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,qI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const HI=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JE.type="SESSION";const t1=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Wc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await FI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Wm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function QI(e){Un().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function YI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function XI(){return e1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",$I=1,Ec="firebaseLocalStorage",i1="fbase_key";class _l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jc(e,t){return e.transaction([Ec],t?"readwrite":"readonly").objectStore(Ec)}function ZI(){const e=indexedDB.deleteDatabase(n1);return new _l(e).toPromise()}function bd(){const e=indexedDB.open(n1,$I);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Ec,{keyPath:i1})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Ec)?t(i):(i.close(),await ZI(),t(await bd()))})})}async function o_(e,t,n){const i=Jc(e,!0).put({[i1]:t,value:n});return new _l(i).toPromise()}async function WI(e,t){const n=Jc(e,!1).get(t),i=await new _l(n).toPromise();return i===void 0?null:i.value}function l_(e,t){const n=Jc(e,!0).delete(t);return new _l(n).toPromise()}const JI=800,tC=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>tC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(XI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await YI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bd();return await o_(t,Tc,"1"),await l_(t,Tc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>o_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>WI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>l_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Jc(r,!1).getAll();return new _l(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const eC=r1;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e,t){return t?oi(t):(nt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends KE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iC(e){return VI(e.auth,new Jm(e),e.bypassAuthState)}function rC(e){const{auth:t,user:n}=e;return nt(n,t,"internal-error"),kI(n,new Jm(e),e.bypassAuthState)}async function sC(e){const{auth:t,user:n}=e;return nt(n,t,"internal-error"),MI(n,new Jm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return sC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:yi(this.auth,"internal-error")}}resolve(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new ml(2e3,1e4);class Os extends s1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nt(t,this.auth,"internal-error"),t}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const t=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aC.get())};t()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="pendingRedirect",Nu=new Map;class lC extends s1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Nu.get(this.auth._key());if(!t){try{const i=await uC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Nu.set(this.auth._key(),t)}return this.bypassAuthState||Nu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uC(e,t){const n=fC(t),i=hC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function cC(e,t){Nu.set(e._key(),t)}function hC(e){return oi(e._redirectPersistence)}function fC(e){return Du(oC,e.config.apiKey,e.name)}async function dC(e,t,n=!1){if(dn(e.app))return Promise.reject(ci(e));const i=pl(e),r=nC(i,t),a=await new lC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=10*60*1e3;class gC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!a1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mC&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(t))}saveEventToCache(t){this.cachedEventUids.add(u_(t)),this.lastProcessedEventTime=Date.now()}}function u_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function a1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(e,t={}){return Ta(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vC=/^https?/;async function TC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yC(e);for(const n of t)try{if(EC(n))return}catch{}yi(e,"unauthorized-domain")}function EC(e){const t=Ed(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!vC.test(n))return!1;if(_C.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new ml(3e4,6e4);function c_(){const e=Un().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bC(e){return new Promise((t,n)=>{var i,r,s;function a(){c_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c_(),n(Ln(e,"network-request-failed"))},timeout:AC.get()})}if(!((r=(i=Un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)a();else{const l=SI("iframefcb");return Un()[l]=()=>{gapi.load?a():n(Ln(e,"network-request-failed"))},AI(`${bI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw xu=null,t})}let xu=null;function SC(e){return xu=xu||bC(e),xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new ml(5e3,15e3),RC="__/auth/iframe",IC="emulator/auth/iframe",CC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(e){const t=e.config;nt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ym(t,IC):`https://${e.config.authDomain}/${RC}`,i={apiKey:t.apiKey,appName:e.name,v:va},r=DC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${dl(i).slice(1)}`}async function xC(e){const t=await SC(e),n=Un().gapi;return nt(n,e,"internal-error"),t.open({where:document.body,url:NC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Ln(e,"network-request-failed"),l=Un().setTimeout(()=>{s(a)},wC.get());function u(){Un().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MC=500,kC=600,VC="_blank",PC="http://localhost";class h_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LC(e,t,n,i=MC,r=kC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},OC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=ke().toLowerCase();n&&(l=zE(h)?VC:n),UE(h)&&(t=t||PC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,x])=>`${m}${_}=${x},`,"");if(mI(h)&&l!=="_self")return UC(t||"",l),new h_(null);const g=window.open(t||"",l,d);nt(g,e,"popup-blocked");try{g.focus()}catch{}return new h_(g)}function UC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="__/auth/handler",zC="emulator/auth/handler",BC=encodeURIComponent("fac");async function f_(e,t,n,i,r,s){nt(e.config.authDomain,e,"auth-domain-config-required"),nt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:va,eventId:r};if(t instanceof XE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Lw(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof yl){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${BC}=${encodeURIComponent(u)}`:"";return`${qC(e)}?${dl(l).slice(1)}${h}`}function qC({config:e}){return e.emulator?Ym(e,zC):`https://${e.authDomain}/${jC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="webStorageSupport";class HC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=dC,this._overrideRedirectResult=cC}async _openPopup(t,n,i,r){var s;_i((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await f_(t,n,i,Ed(),r);return LC(t,a,Wm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await f_(t,n,i,Ed(),r);return QI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(_i(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await xC(t),i=new gC(t);return n.register("authEvent",r=>(nt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gf,{type:gf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[gf];a!==void 0&&n(!!a),yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return GE()||jE()||$m()}}const FC=HC;var d_="@firebase/auth",m_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YC(e){na(new qr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;nt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(e)},h=new TI(i,r,s,u);return RI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),na(new qr("auth-internal",t=>{const n=pl(t.getProvider("auth").getImmediate());return(i=>new GC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(d_,m_,QC(e)),nr(d_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=5*60,XC=EE("authIdTokenMaxAge")||KC;let g_=null;const $C=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>XC)return;const r=n==null?void 0:n.token;g_!==r&&(g_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ZC(e=IE()){const t=Fm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=wI(e,{popupRedirectResolver:FC,persistence:[eC,HI,t1]}),i=EE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=$C(s.toString());jI(n,a,()=>a(n.currentUser)),UI(n,l=>a(l))}}const r=vE("auth");return r&&II(n,`http://${r}`),n}function WC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}EI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Ln("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",WC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YC("Browser");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ir,o1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(b,I,C){for(var w=Array(arguments.length-2),we=2;we<arguments.length;we++)w[we-2]=arguments[we];return y.prototype[I].apply(b,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var b=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)b[I]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(I=0;16>I;++I)b[I]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],I=T.g[2];var C=T.g[3],w=y+(C^E&(I^C))+b[0]+3614090360&4294967295;y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[1]+3905402710&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[3]+3250441966&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[4]+4118548399&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[5]+1200080426&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[7]+4249261313&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[8]+1770035416&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[9]+2336552879&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[11]+2304563134&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[12]+1804603682&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[13]+4254626195&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[15]+1236535329&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(I^C&(E^I))+b[1]+4129170786&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[6]+3225465664&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[0]+3921069994&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[5]+3593408605&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[10]+38016083&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[4]+3889429448&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[9]+568446438&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[14]+3275163606&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[8]+1163531501&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[13]+2850285829&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[2]+4243563512&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[12]+2368359562&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(E^I^C)+b[5]+4294588738&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[8]+2272392833&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[14]+4259657740&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[1]+2763975236&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[4]+1272893353&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[10]+3200236656&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[13]+681279174&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[0]+3936430074&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[6]+76029189&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[9]+3654602809&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[12]+3873151461&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[2]+3299628645&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(I^(E|~C))+b[0]+4096336452&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[7]+1126891415&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[5]+4237533241&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[12]+1700485571&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[3]+2399980690&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[1]+2240044497&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[8]+1873313359&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[15]+4264355552&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[13]+1309151649&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[4]+4149444226&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[11]+3174756917&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,b=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=E;)r(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(b[I++]=T.charCodeAt(C++),I==this.blockSize){r(this,b),I=0;break}}else for(;C<y;)if(b[I++]=T[C++],I==this.blockSize){r(this,b),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var b=0;32>b;b+=8)T[E++]=this.g[y]>>>b&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],b=!0,I=T.length-1;0<=I;I--){var C=T[I]|0;b&&C==y||(E[I]=C,b=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(h(-T));for(var y=[],E=1,b=0;T>=E;b++)y[b]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return k(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),b=g,I=0;I<T.length;I+=8){var C=Math.min(8,T.length-I),w=parseInt(T.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),b=b.j(C).add(h(w))):(b=b.j(E),b=b.add(h(w)))}return b}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-k(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var b=this.i(E);T+=(0<=b?b:4294967296+b)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(M(this))return"-"+k(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,b="";;){var I=N(E,y).g;E=S(E,I.j(y));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=I,x(E))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=S(this,T),M(T)?-1:x(T)?0:1};function k(T){for(var y=T.g.length,E=[],b=0;b<y;b++)E[b]=~T.g[b];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?k(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0,I=0;I<=y;I++){var C=b+(this.i(I)&65535)+(T.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);b=w>>>16,C&=65535,w&=65535,E[I]=w<<16|C}return new a(E,E[E.length-1]&-2147483648?-1:0)};function S(T,y){return T.add(k(y))}e.j=function(T){if(x(this)||x(T))return g;if(M(this))return M(T)?k(this).j(k(T)):k(k(this).j(T));if(M(T))return k(this.j(k(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],b=0;b<2*y;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<T.g.length;I++){var C=this.i(b)>>>16,w=this.i(b)&65535,we=T.i(I)>>>16,Q=T.i(I)&65535;E[2*b+2*I]+=w*Q,v(E,2*b+2*I),E[2*b+2*I+1]+=C*Q,v(E,2*b+2*I+1),E[2*b+2*I+1]+=w*we,v(E,2*b+2*I+1),E[2*b+2*I+2]+=C*we,v(E,2*b+2*I+2)}for(b=0;b<y;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=y;b<2*y;b++)E[b]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function R(T,y){this.g=T,this.h=y}function N(T,y){if(x(y))throw Error("division by zero");if(x(T))return new R(g,g);if(M(T))return y=N(k(T),y),new R(k(y.g),k(y.h));if(M(y))return y=N(T,k(y)),new R(k(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,b=y;0>=b.l(T);)E=U(E),b=U(b);var I=q(E,1),C=q(b,1);for(b=q(b,2),E=q(E,2);!x(b);){var w=C.add(b);0>=w.l(T)&&(I=I.add(E),C=w),b=q(b,1),E=q(E,1)}return y=S(T,I.j(y)),new R(I,y)}for(I=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=h(E),w=C.j(y);M(w)||0<w.l(T);)E-=b,C=h(E),w=C.j(y);x(C)&&(C=m),I=I.add(C),T=S(T,w)}return new R(I,T)}e.A=function(T){return N(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)&T.i(b);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)|T.i(b);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)^T.i(b);return new a(E,this.h^T.h)};function U(T){for(var y=T.g.length+1,E=[],b=0;b<y;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new a(E,T.h)}function q(T,y){var E=y>>5;y%=32;for(var b=T.g.length-E,I=[],C=0;C<b;C++)I[C]=0<y?T.i(C+E)>>>y|T.i(C+E+1)<<32-y:T.i(C+E);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,ir=a}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,eo,u1,Ou,Sd,c1,h1,f1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var D=o[p];if(!(D in f))break t;f=f[D]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,D={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),o.apply(c,D)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,D,O){for(var B=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)B[xt-2]=arguments[xt];return c.prototype[D].apply(p,B)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const D=o.length||0,O=p.length||0;o.length=D+O;for(let B=0;B<O;B++)o[D+B]=p[B]}else o.push(p)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function q(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let f,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(f in p)o[f]=p[f];for(let O=0;O<E.length;O++)f=E[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function w(){var o=bt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class we{constructor(){this.h=this.g=null}add(c,f){const p=Q.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Q=new S(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,tt=!1,bt=new we,Ut=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(Si)}};var Si=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(f){C(f)}var c=Q;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}tt=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function jt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function ze(o,c){if(jt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){t:{try{N(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ts[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ze.aa.h.call(this)}}x(ze,jt);var ts={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),mh=0;function es(o,c,f,p,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=D,this.key=++mh,this.da=this.fa=!1}function ns(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function In(o){this.src=o,this.g={},this.h=0}In.prototype.add=function(o,c,f,p,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var B=Ra(o,c,p,D);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new es(c,this.src,O,!!p,D),c.fa=f,o.push(c)),c};function is(o,c){var f=c.type;if(f in o.g){var p=o.g[f],D=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(p,D,1),O&&(ns(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ra(o,c,f,p){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return D}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),Ia={};function Ca(o,c,f,p,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Ca(o,c[O],f,p,D);return null}return f=Rl(f),o&&o[Be]?o.K(c,f,h(p)?!!p.capture:!1,D):ss(o,c,f,!1,p,D)}function ss(o,c,f,p,D,O){if(!c)throw Error("Invalid event type");var B=h(D)?!!D.capture:!!D,xt=ct(o);if(xt||(o[rs]=xt=new In(o)),f=xt.add(c,f,p,B,O),f.proxy)return f;if(p=Da(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)je||(D=B),D===void 0&&(D=!1),o.addEventListener(c.toString(),p,D);else if(o.attachEvent)o.attachEvent(yr(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Da(){function o(f){return c.call(o.src,o.listener,f)}const c=wl;return o}function Sl(o,c,f,p,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)Sl(o,c[O],f,p,D);else p=h(p)?!!p.capture:!!p,f=Rl(f),o&&o[Be]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Ra(O,f,p,D),-1<f&&(ns(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=ct(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Ra(c,f,p,D)),(f=-1<o?c[o]:null)&&Na(f))}function Na(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Be])is(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(yr(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=ct(c))?(is(f,o),f.h==0&&(f.src=null,c[rs]=null)):ns(o)}}}function yr(o){return o in Ia?Ia[o]:Ia[o]="on"+o}function wl(o,c){if(o.da)o=!0;else{c=new ze(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&Na(o),o=f.call(p,c)}return o}function ct(o){return o=o[rs],o instanceof In?o:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(o){return typeof o=="function"?o:(o[Cn]||(o[Cn]=function(c){return o.handleEvent(c)}),o[Cn])}function he(){Re.call(this),this.i=new In(this),this.M=this,this.F=null}x(he,Re),he.prototype[Be]=!0,he.prototype.removeEventListener=function(o,c,f,p){Sl(this,o,c,f,p)};function fe(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new jt(c,o);else if(c instanceof jt)c.target=c.target||o;else{var D=c;c=new jt(p,o),b(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var B=c.g=f[O];D=Gn(B,p,!0,c)&&D}if(B=c.g=o,D=Gn(B,p,!0,c)&&D,D=Gn(B,p,!1,c)&&D,f)for(O=0;O<f.length;O++)B=c.g=f[O],D=Gn(B,p,!1,c)&&D}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)ns(f[p]);delete o.g[c],o.h--}}this.F=null},he.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},he.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Gn(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var B=c[O];if(B&&!B.da&&B.capture==f){var xt=B.listener,_e=B.ha||B.src;B.fa&&is(o.i,B),D=xt.call(_e,p)!==!1&&D}}return D&&!p.defaultPrevented}function Il(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function xa(o){o.g=Il(()=>{o.g=null,o.i&&(o.i=!1,xa(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class gh extends Re{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:xa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(o){Re.call(this),this.h=o,this.g={}}x(_n,Re);var Cl=[];function Dl(o){q(o.g,function(c,f){this.g.hasOwnProperty(f)&&Na(c)},o),o.g={}}_n.prototype.N=function(){_n.aa.N.call(this),Dl(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=l.JSON.stringify,Nl=l.JSON.parse,xl=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function as(){}as.prototype.h=null;function Ol(o){return o.h||(o.h=o.i())}function Ml(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function z(){jt.call(this,"d")}x(z,jt);function F(){jt.call(this,"c")}x(F,jt);var Y={},it=null;function X(){return it=it||new he}Y.La="serverreachability";function gt(o){jt.call(this,Y.La,o)}x(gt,jt);function vt(o){const c=X();fe(c,new gt(c))}Y.STAT_EVENT="statevent";function Mt(o,c){jt.call(this,Y.STAT_EVENT,o),this.stat=c}x(Mt,jt);function et(o){const c=X();fe(c,new Mt(c,o))}Y.Ma="timingevent";function It(o,c){jt.call(this,Y.Ma,o),this.size=c}x(It,jt);function St(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function zt(){this.g=!0}zt.prototype.xa=function(){this.g=!1};function Nt(o,c,f,p,D,O){o.info(function(){if(o.g)if(O)for(var B="",xt=O.split("&"),_e=0;_e<xt.length;_e++){var _t=xt[_e].split("=");if(1<_t.length){var Ie=_t[0];_t=_t[1];var Ce=Ie.split("_");B=2<=Ce.length&&Ce[1]=="type"?B+(Ie+"="+_t+"&"):B+(Ie+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+c+`
`+f+`
`+B})}function Bt(o,c,f,p,D,O,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+B})}function te(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+ee(o,f)+(p?" "+p:"")})}function $t(o,c){o.info(function(){return"TIMEOUT: "+c})}zt.prototype.info=function(){};function ee(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return Oa(f)}catch{return c}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Tr(){}x(Tr,as),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Qn=new Tr;function vn(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var kl={},ph={};function yh(o,c,f){o.L=1,o.v=Ul(Yn(c)),o.m=f,o.P=!0,Vg(o,null)}function Vg(o,c){o.F=Date.now(),Vl(o),o.A=Yn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Xg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Ma,o.g=dp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new gh(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(Cl[0]=D.toString()),D=Cl);for(var O=0;O<D.length;O++){var B=Ca(f,D[O],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),vt(),Nt(o.i,o.u,o.A,o.l,o.R,o.m)}vn.prototype.ca=function(o){o=o.target;const c=this.M;c&&Kn(o)==3?c.j():this.Y(o)},vn.prototype.Y=function(o){try{if(o==this.g)t:{const Ce=Kn(this.g);var c=this.g.Ba();const us=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||np(this.g)))){this.J||Ce!=4||c==7||(c==8||0>=us?vt(3):vt(2)),_h(this);var f=this.g.Z();this.X=f;e:if(Pg(this)){var p=np(this.g);o="";var D=p.length,O=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),ka(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==D-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,Bt(this.i,this.u,this.A,this.l,this.R,Ce,f),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,_e=this.g;if((xt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(xt)){var _t=xt;break e}}_t=null}if(f=_t)te(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,f);else{this.o=!1,this.s=3,et(12),Er(this),ka(this);break t}}if(this.P){f=!0;let Tn;for(;!this.J&&this.C<B.length;)if(Tn=$A(this,B),Tn==ph){Ce==4&&(this.s=4,et(14),f=!1),te(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==kl){this.s=4,et(15),te(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else te(this.i,this.l,Tn,null),vh(this,Tn);if(Pg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||B.length!=0||this.h.h||(this.s=1,et(16),f=!1),this.o=this.o&&f,!f)te(this.i,this.l,B,"[Invalid Chunked Response]"),Er(this),ka(this);else if(0<B.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),wh(Ie),Ie.M=!0,et(11))}}else te(this.i,this.l,B,null),vh(this,B);Ce==4&&Er(this),this.o&&!this.J&&(Ce==4?up(this.j,this):(this.o=!1,Vl(this)))}else db(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Er(this),ka(this)}}}catch{}finally{}};function Pg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function $A(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?ph:(f=Number(c.substring(f,p)),isNaN(f)?kl:(p+=1,p+f>c.length?ph:(c=c.slice(p,p+f),o.C=p+f,c)))}vn.prototype.cancel=function(){this.J=!0,Er(this)};function Vl(o){o.S=Date.now()+o.I,Lg(o,o.I)}function Lg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=St(m(o.ba,o),c)}function _h(o){o.B&&(l.clearTimeout(o.B),o.B=null)}vn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?($t(this.i,this.A),this.L!=2&&(vt(),et(17)),Er(this),this.s=2,ka(this)):Lg(this,this.S-o)};function ka(o){o.j.G==0||o.J||up(o.j,o)}function Er(o){_h(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Dl(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function vh(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Th(f.h,o))){if(!o.K&&Th(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Fl(f),ql(f);else break t;Sh(f),et(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=St(m(f.Za,f),6e3));if(1>=zg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else br(f,11)}else if((o.K||f.g==o)&&Fl(f),!v(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let _t=D[c];if(f.T=_t[0],_t=_t[1],f.G==2)if(_t[0]=="c"){f.K=_t[1],f.ia=_t[2];const Ie=_t[3];Ie!=null&&(f.la=Ie,f.j.info("VER="+f.la));const Ce=_t[4];Ce!=null&&(f.Aa=Ce,f.j.info("SVER="+f.Aa));const us=_t[5];us!=null&&typeof us=="number"&&0<us&&(p=1.5*us,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const Tn=o.g;if(Tn){const Ql=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var O=p.h;O.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Eh(O,O.h),O.h=null))}if(p.D){const Rh=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(p.ya=Rh,Vt(p.I,p.D,Rh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=fp(p,p.J?p.ia:null,p.W),B.K){Bg(p.h,B);var xt=B,_e=p.L;_e&&(xt.I=_e),xt.B&&(_h(xt),Vl(xt)),p.g=B}else op(p);0<f.i.length&&Hl(f)}else _t[0]!="stop"&&_t[0]!="close"||br(f,7);else f.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?br(f,7):bh(f):_t[0]!="noop"&&f.l&&f.l.ta(_t),f.v=0)}}vt(4)}catch{}}var ZA=class{constructor(o,c){this.g=o,this.map=c}};function Ug(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function zg(o){return o.h?1:o.g?o.g.size:0}function Th(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Eh(o,c){o.g?o.g.add(c):o.h=c}function Bg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Ug.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function qg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function WA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function JA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Hg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=JA(o),p=WA(o),D=p.length,O=0;O<D;O++)c.call(void 0,p[O],f&&f[O],o)}var Fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tb(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),D=null;if(0<=p){var O=o[f].substring(0,p);D=o[f].substring(p+1)}else O=o[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ar(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ar){this.h=o.h,Pl(this,o.j),this.o=o.o,this.g=o.g,Ll(this,o.s),this.l=o.l;var c=o.i,f=new La;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Gg(this,f),this.m=o.m}else o&&(c=String(o).match(Fg))?(this.h=!1,Pl(this,c[1]||"",!0),this.o=Va(c[2]||""),this.g=Va(c[3]||"",!0),Ll(this,c[4]),this.l=Va(c[5]||"",!0),Gg(this,c[6]||"",!0),this.m=Va(c[7]||"")):(this.h=!1,this.i=new La(null,this.h))}Ar.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Pa(c,Qg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Pa(c,Qg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Pa(f,f.charAt(0)=="/"?ib:nb,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Pa(f,sb)),o.join("")};function Yn(o){return new Ar(o)}function Pl(o,c,f){o.j=f?Va(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ll(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Gg(o,c,f){c instanceof La?(o.i=c,ab(o.i,o.h)):(f||(c=Pa(c,rb)),o.i=new La(c,o.h))}function Vt(o,c,f){o.i.set(c,f)}function Ul(o){return Vt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Va(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Pa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,eb),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function eb(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qg=/[#\/\?@]/g,nb=/[#\?:]/g,ib=/[#\?]/g,rb=/[#\?@]/g,sb=/#/g;function La(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function wi(o){o.g||(o.g=new Map,o.h=0,o.i&&tb(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=La.prototype,e.add=function(o,c){wi(this),this.i=null,o=os(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Yg(o,c){wi(o),c=os(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Kg(o,c){return wi(o),c=os(o,c),o.g.has(c)}e.forEach=function(o,c){wi(this),this.g.forEach(function(f,p){f.forEach(function(D){o.call(c,D,p,this)},this)},this)},e.na=function(){wi(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const D=o[p];for(let O=0;O<D.length;O++)f.push(c[p])}return f},e.V=function(o){wi(this);let c=[];if(typeof o=="string")Kg(this,o)&&(c=c.concat(this.g.get(os(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return wi(this),this.i=null,o=os(this,o),Kg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Xg(o,c,f){Yg(o,c),0<f.length&&(o.i=null,o.g.set(os(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var D=O;B[p]!==""&&(D+="="+encodeURIComponent(String(B[p]))),o.push(D)}}return this.i=o.join("&")};function os(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function ab(o,c){c&&!o.j&&(wi(o),o.i=null,o.g.forEach(function(f,p){var D=p.toLowerCase();p!=D&&(Yg(this,p),Xg(this,D,f))},o)),o.j=c}function ob(o,c){const f=new zt;if(l.Image){const p=new Image;p.onload=_(Ri,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(Ri,f,"TestLoadImage: error",!1,c,p),p.onabort=_(Ri,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(Ri,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function lb(o,c){const f=new zt,p=new AbortController,D=setTimeout(()=>{p.abort(),Ri(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(D),O.ok?Ri(f,"TestPingServer: ok",!0,c):Ri(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),Ri(f,"TestPingServer: error",!1,c)})}function Ri(o,c,f,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(f)}catch{}}function ub(){this.g=new xl}function cb(o,c,f){const p=f||"";try{Hg(o,function(D,O){let B=D;h(D)&&(B=Oa(D)),c.push(p+O+"="+encodeURIComponent(B))})}catch(D){throw c.push(p+"type="+encodeURIComponent("_badmap")),D}}function jl(o){this.l=o.Ub||null,this.j=o.eb||!1}x(jl,as),jl.prototype.g=function(){return new zl(this.l,this.j)},jl.prototype.i=function(o){return function(){return o}}({});function zl(o,c){he.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(zl,he),e=zl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,ja(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$g(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $g(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ua(this):ja(this),this.readyState==3&&$g(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Ua(this))},e.Qa=function(o){this.g&&(this.response=o,Ua(this))},e.ga=function(){this.g&&Ua(this)};function Ua(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ja(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function ja(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Zg(o){let c="";return q(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Ah(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Zg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Vt(o,c,f))}function Yt(o){he.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Yt,he);var hb=/^https?$/i,fb=["POST","PUT"];e=Yt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?Ol(this.o):Ol(Qn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Wg(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)f.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fb,c,void 0))||p||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of f)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ep(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Wg(this,O)}};function Wg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Jg(o),Bl(o)}function Jg(o){o.A||(o.A=!0,fe(o,"complete"),fe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,fe(this,"complete"),fe(this,"abort"),Bl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?tp(this):this.bb())},e.bb=function(){tp(this)};function tp(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Kn(o)!=4||o.Z()!=2)){if(o.u&&Kn(o)==4)Il(o.Ea,0,o);else if(fe(o,"readystatechange"),Kn(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var D=String(o.D).match(Fg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),p=!hb.test(D?D.toLowerCase():"")}f=p}if(f)fe(o,"complete"),fe(o,"success");else{o.m=6;try{var O=2<Kn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Jg(o)}}finally{Bl(o)}}}}function Bl(o,c){if(o.g){ep(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||fe(o,"ready");try{f.onreadystatechange=p}catch{}}}function ep(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Kn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Nl(c)}};function np(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function db(o){const c={};o=(o.g&&2<=Kn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=I(o[p]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function ip(o){this.Aa=0,this.i=[],this.j=new zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,o),this.cb=za("retryDelaySeedMs",1e4,o),this.Wa=za("forwardChannelMaxRetries",2,o),this.wa=za("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ug(o&&o.concurrentRequestLimit),this.Da=new ub,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ip.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){et(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=fp(this,null,this.W),Hl(this)};function bh(o){if(rp(o),o.G==3){var c=o.U++,f=Yn(o.I);if(Vt(f,"SID",o.K),Vt(f,"RID",c),Vt(f,"TYPE","terminate"),Ba(o,f),c=new vn(o,o.j,c),c.L=2,c.v=Ul(Yn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=dp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Vl(c)}hp(o)}function ql(o){o.g&&(wh(o),o.g.cancel(),o.g=null)}function rp(o){ql(o),o.u&&(l.clearTimeout(o.u),o.u=null),Fl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Hl(o){if(!jg(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||Ut(),tt||(Z(),tt=!0),bt.add(c,o),o.B=0}}function mb(o,c){return zg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=St(m(o.Ga,o,c),cp(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new vn(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),b(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=ap(this,D,c),f=Yn(this.I),Vt(f,"RID",o),Vt(f,"CVER",22),this.D&&Vt(f,"X-HTTP-Session-Id",this.D),Ba(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Zg(O)))+"&"+c:this.m&&Ah(f,this.m,O)),Eh(this.h,D),this.Ua&&Vt(f,"TYPE","init"),this.P?(Vt(f,"$req",c),Vt(f,"SID","null"),D.T=!0,yh(D,f,null)):yh(D,f,c),this.G=2}}else this.G==3&&(o?sp(this,o):this.i.length==0||jg(this.h)||sp(this))};function sp(o,c){var f;c?f=c.l:f=o.U++;const p=Yn(o.I);Vt(p,"SID",o.K),Vt(p,"RID",f),Vt(p,"AID",o.T),Ba(o,p),o.m&&o.o&&Ah(p,o.m,o.o),f=new vn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=ap(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Eh(o.h,f),yh(f,p,c)}function Ba(o,c){o.H&&q(o.H,function(f,p){Vt(c,p,f)}),o.l&&Hg({},function(f,p){Vt(c,p,f)})}function ap(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const B=["count="+f];O==-1?0<f?(O=D[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let xt=!0;for(let _e=0;_e<f;_e++){let _t=D[_e].g;const Ie=D[_e].map;if(_t-=O,0>_t)O=Math.max(0,D[_e].g-100),xt=!1;else try{cb(Ie,B,"req"+_t+"_")}catch{p&&p(Ie)}}if(xt){p=B.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function op(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||Ut(),tt||(Z(),tt=!0),bt.add(c,o),o.v=0}}function Sh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=St(m(o.Fa,o),cp(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,lp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=St(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ql(this),lp(this))};function wh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function lp(o){o.g=new vn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Yn(o.qa);Vt(c,"RID","rpc"),Vt(c,"SID",o.K),Vt(c,"AID",o.T),Vt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Vt(c,"TO",o.ja),Vt(c,"TYPE","xmlhttp"),Ba(o,c),o.m&&o.o&&Ah(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Ul(Yn(c)),f.m=null,f.P=!0,Vg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,ql(this),Sh(this),et(19))};function Fl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function up(o,c){var f=null;if(o.g==c){Fl(o),wh(o),o.g=null;var p=2}else if(Th(o.h,c))f=c.D,Bg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=o.B;p=X(),fe(p,new It(p,f)),Hl(o)}else op(o);else if(D=c.s,D==3||D==0&&0<c.X||!(p==1&&mb(o,c)||p==2&&Sh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),D){case 1:br(o,5);break;case 4:br(o,10);break;case 3:br(o,6);break;default:br(o,2)}}}function cp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function br(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const D=!p;p=new Ar(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pl(p,"https"),Ul(p),D?ob(p.toString(),f):lb(p.toString(),f)}else et(2);o.G=0,o.l&&o.l.sa(c),hp(o),rp(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function hp(o){if(o.G=0,o.ka=[],o.l){const c=qg(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function fp(o,c,f){var p=f instanceof Ar?Yn(f):new Ar(f);if(p.g!="")c&&(p.g=c+"."+p.g),Ll(p,p.s);else{var D=l.location;p=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new Ar(null);p&&Pl(O,p),c&&(O.g=c),D&&Ll(O,D),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&Vt(p,f,c),Vt(p,"VER",o.la),Ba(o,p),p}function dp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Yt(new jl({eb:f})):new Yt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function mp(){}e=mp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Gl(){}Gl.prototype.g=function(o,c){return new $e(o,c)};function $e(o,c){he.call(this),this.g=new ip(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ls(this)}x($e,he),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){bh(this.g)},$e.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Oa(o),o=f);c.i.push(new ZA(c.Ya++,o)),c.G==3&&Hl(c)},$e.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,$e.aa.N.call(this)};function gp(o){z.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(gp,z);function pp(){F.call(this),this.status=1}x(pp,F);function ls(o){this.g=o}x(ls,mp),ls.prototype.ua=function(){fe(this.g,"a")},ls.prototype.ta=function(o){fe(this.g,new gp(o))},ls.prototype.sa=function(o){fe(this.g,new pp)},ls.prototype.ra=function(){fe(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,f1=function(){return new Gl},h1=function(){return X()},c1=Y,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,Ou=Xe,vr.COMPLETE="complete",u1=vr,Ml.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",he.prototype.listen=he.prototype.K,eo=Ml,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,l1=Yt}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const y_="@firebase/firestore",__="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new qm("@firebase/firestore");function ps(){return Fr.logLevel}function H(e,...t){if(Fr.logLevel<=dt.DEBUG){const n=t.map(tg);Fr.debug(`Firestore (${Ea}): ${e}`,...n)}}function Ti(e,...t){if(Fr.logLevel<=dt.ERROR){const n=t.map(tg);Fr.error(`Firestore (${Ea}): ${e}`,...n)}}function ia(e,...t){if(Fr.logLevel<=dt.WARN){const n=t.map(tg);Fr.warn(`Firestore (${Ea}): ${e}`,...n)}}function tg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,d1(e,i,n)}function d1(e,t,n){let i=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ti(i),new Error(i)}function At(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||d1(t,r,i)}function at(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends bi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ne.UNAUTHENTICATED))}shutdown(){}}class tD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eD{constructor(t){this.t=t,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){At(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string",31837,{l:i}),new m1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string",2055,{h:t}),new Ne(t)}}class nD{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iD{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new nD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){At(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new v_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new v_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=sD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function lt(e,t){return e<t?-1:e>t?1:0}function wd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return lt(i,r);{const s=g1(),a=aD(s.encode(T_(e,n)),s.encode(T_(t,n)));return a!==0?a:lt(i,r)}}n+=i>65535?2:1}return lt(e.length,t.length)}function T_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function aD(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return lt(e[n],t[n]);return lt(e.length,t.length)}function ra(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,A_=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*A_);return new le(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<E_)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A_}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-E_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(t){return new st(t)}static min(){return new st(new le(0,0))}static max(){return new st(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class xn{constructor(t,n,i){n===void 0?n=0:n>t.length&&W(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&W(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return xn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=xn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return lt(t.length,n.length)}static compareSegments(t,n){const i=xn.isNumericId(t),r=xn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?xn.extractNumericId(t).compare(xn.extractNumericId(n)):wd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class Pt extends xn{construct(t,n,i){return new Pt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends xn{construct(t,n,i){return new Ae(t,n,i)}static isValidIdentifier(t){return oD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Ae([b_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new G(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ae(n)}static emptyPath(){return new Ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.path=t}static fromPath(t){return new $(Pt.fromString(t))}static fromName(t){return new $(Pt.fromString(t).popFirst(5))}static empty(){return new $(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Pt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $(new Pt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=-1;function lD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=st.fromTimestamp(i===1e9?new le(n+1,0):new le(n,i));return new ur(r,$.empty(),t)}function uD(e){return new ur(e.readTime,e.key,Ho)}class ur{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ur(st.min(),$.empty(),Ho)}static max(){return new ur(st.max(),$.empty(),Ho)}}function cD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$.comparator(e.documentKey,t.documentKey),n!==0?n:lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==hD)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new V((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):V.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):V.reject(n)}static resolve(t){return new V((n,i)=>{n(t)})}static reject(t){return new V((n,i)=>{i(t)})}static waitFor(t){return new V((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=V.resolve(!1);for(const i of t)n=n.next(r=>r?V.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new V((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new V((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function dD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}th.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function eh(e){return e==null}function Ac(e){return e===0&&1/e==-1/0}function mD(e){return typeof e=="number"&&Number.isInteger(e)&&!Ac(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function gD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=S_(t)),t=pD(e.get(n),t);return S_(t)}function pD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case y1:n+="";break;default:n+=s}}return n}function S_(e){return e+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $r(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t,n){this.comparator=t,this.root=n||Te.EMPTY}insert(t,n){return new Qt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cu(this.root,t,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cu(this.root,t,this.comparator,!0)}}class cu{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Te{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Te.RED,this.left=r??Te.EMPTY,this.right=s??Te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Te(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Te.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw W(27949);return t+(this.isRed()?0:1)}}Te.EMPTY=null,Te.RED=!0,Te.BLACK=!1;Te.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new Te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(t){return new R_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ue(this.comparator);return n.data=t,n}}class R_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(Ae.comparator)}static empty(){return new bn([])}unionWith(t){let n=new ue(Ae.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ra(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v1("Invalid base64 string: "+s):s}}(t);return new Se(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new Se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Se.EMPTY_BYTE_STRING=new Se("");const yD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(e){if(At(!!e,39018),typeof e=="string"){let t=0;const n=yD.exec(e);if(At(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jt(e.seconds),nanos:Jt(e.nanos)}}function Jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?Se.fromBase64String(e):Se.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="server_timestamp",E1="__type__",A1="__previous_value__",b1="__local_write_time__";function ng(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[E1])===null||n===void 0?void 0:n.stringValue)===T1}function nh(e){const t=e.mapValue.fields[A1];return ng(t)?nh(t):t}function Fo(e){const t=cr(e.mapValue.fields[b1].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const bc="(default)";class Go{constructor(t,n){this.projectId=t,this.database=n||bc}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===bc}isEqual(t){return t instanceof Go&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",vD="__max__",hu={mapValue:{}},w1="__vector__",Sc="value";function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ng(e)?4:ED(e)?9007199254740991:TD(e)?10:11:W(28295,{value:e})}function qn(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fo(e).isEqual(Fo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=cr(r.timestampValue),l=cr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return hr(r.bytesValue).isEqual(hr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Jt(r.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jt(r.integerValue)===Jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Jt(r.doubleValue),l=Jt(s.doubleValue);return a===l?Ac(a)===Ac(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ra(e.arrayValue.values||[],t.arrayValue.values||[],qn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(w_(a)!==w_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!qn(a[u],l[u])))return!1;return!0}(e,t);default:return W(52216,{left:e})}}function Qo(e,t){return(e.values||[]).find(n=>qn(n,t))!==void 0}function sa(e,t){if(e===t)return 0;const n=fr(e),i=fr(t);if(n!==i)return lt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Jt(s.integerValue||s.doubleValue),u=Jt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return I_(e.timestampValue,t.timestampValue);case 4:return I_(Fo(e),Fo(t));case 5:return wd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=hr(s),u=hr(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=lt(l[h],u[h]);if(d!==0)return d}return lt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=lt(Jt(s.latitude),Jt(a.latitude));return l!==0?l:lt(Jt(s.longitude),Jt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return C_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[Sc])===null||l===void 0?void 0:l.arrayValue,x=(u=m[Sc])===null||u===void 0?void 0:u.arrayValue,M=lt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:C_(_,x)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===hu.mapValue&&a===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(a===hu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=wd(u[g],d[g]);if(m!==0)return m;const _=sa(l[u[g]],h[d[g]]);if(_!==0)return _}return lt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw W(23264,{Pe:n})}}function I_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return lt(e,t);const n=cr(e),i=cr(t),r=lt(n.seconds,i.seconds);return r!==0?r:lt(n.nanos,i.nanos)}function C_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=sa(n[r],i[r]);if(s)return s}return lt(n.length,i.length)}function aa(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=cr(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Rd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Rd(n.fields[a])}`;return r+"}"}(e.mapValue):W(61005,{value:e})}function Mu(e){switch(fr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(e);return t?16+Mu(t):16;case 5:return 2*e.stringValue.length;case 6:return hr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Mu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return $r(i.fields,(s,a)=>{r+=s.length+Mu(a)}),r}(e.mapValue);default:throw W(13486,{value:e})}}function D_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Id(e){return!!e&&"integerValue"in e}function ig(e){return!!e&&"arrayValue"in e}function N_(e){return!!e&&"nullValue"in e}function x_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ku(e){return!!e&&"mapValue"in e}function TD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[S1])===null||n===void 0?void 0:n.stringValue)===w1}function bo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $r(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=bo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ED(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ku(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=bo(n)}setAll(t){let n=Ae.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=bo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];ku(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){$r(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new mn(bo(this.value))}}function R1(e){const t=[];return $r(e.fields,(n,i)=>{const r=new Ae([n]);if(ku(i)){const s=R1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new xe(t,0,st.min(),st.min(),st.min(),mn.empty(),0)}static newFoundDocument(t,n,i,r){return new xe(t,1,n,st.min(),i,r,0)}static newNoDocument(t,n){return new xe(t,2,n,st.min(),st.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new xe(t,3,n,st.min(),st.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){this.position=t,this.inclusive=n}}function O_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=$.comparator($.fromName(a.referenceValue),n.key):i=sa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function M_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n="asc"){this.field=t,this.dir=n}}function AD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class re extends I1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new SD(t,n,i):n==="array-contains"?new ID(t,i):n==="in"?new CD(t,i):n==="not-in"?new DD(t,i):n==="array-contains-any"?new ND(t,i):new re(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new wD(t,i):new RD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sa(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends I1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new wn(t,n)}matches(t){return C1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function C1(e){return e.op==="and"}function D1(e){return bD(e)&&C1(e)}function bD(e){for(const t of e.filters)if(t instanceof wn)return!1;return!0}function Cd(e){if(e instanceof re)return e.field.canonicalString()+e.op.toString()+aa(e.value);if(D1(e))return e.filters.map(t=>Cd(t)).join(",");{const t=e.filters.map(n=>Cd(n)).join(",");return`${e.op}(${t})`}}function N1(e,t){return e instanceof re?function(i,r){return r instanceof re&&i.op===r.op&&i.field.isEqual(r.field)&&qn(i.value,r.value)}(e,t):e instanceof wn?function(i,r){return r instanceof wn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&N1(a,r.filters[l]),!0):!1}(e,t):void W(19439)}function x1(e){return e instanceof re?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(e):e instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(x1).join(" ,")+"}"}(e):"Filter"}class SD extends re{constructor(t,n,i){super(t,n,i),this.key=$.fromName(i.referenceValue)}matches(t){const n=$.comparator(t.key,this.key);return this.matchesComparison(n)}}class wD extends re{constructor(t,n){super(t,"in",n),this.keys=O1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RD extends re{constructor(t,n){super(t,"not-in",n),this.keys=O1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function O1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class ID extends re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ig(n)&&Qo(n.arrayValue,this.value)}}class CD extends re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class DD extends re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qo(this.value.arrayValue,n)}}class ND extends re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function k_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new xD(e,t,n,i,r,s,a)}function rg(e){const t=at(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Cd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>aa(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>aa(i)).join(",")),t.Ie=n}return t.Ie}function sg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!AD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!N1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!M_(e.startAt,t.startAt)&&M_(e.endAt,t.endAt)}function Dd(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OD(e,t,n,i,r,s,a,l){return new vl(e,t,n,i,r,s,a,l)}function ih(e){return new vl(e)}function V_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function M1(e){return e.collectionGroup!==null}function So(e){const t=at(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ue(Ae.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Rc(s,i))}),n.has(Ae.keyField().canonicalString())||t.Ee.push(new Rc(Ae.keyField(),i))}return t.Ee}function jn(e){const t=at(e);return t.de||(t.de=MD(t,So(e))),t.de}function MD(e,t){if(e.limitType==="F")return k_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Rc(r.field,s)});const n=e.endAt?new wc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new wc(e.startAt.position,e.startAt.inclusive):null;return k_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Nd(e,t){const n=e.filters.concat([t]);return new vl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xd(e,t,n){return new vl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rh(e,t){return sg(jn(e),jn(t))&&e.limitType===t.limitType}function k1(e){return`${rg(jn(e))}|lt:${e.limitType}`}function ys(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>x1(r)).join(", ")}]`),eh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>aa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>aa(r)).join(",")),`Target(${i})`}(jn(e))}; limitType=${e.limitType})`}function sh(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):$.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of So(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=O_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,So(i),r)||i.endAt&&!function(a,l,u){const h=O_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,So(i),r))}(e,t)}function kD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function V1(e){return(t,n)=>{let i=!1;for(const r of So(e)){const s=VD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function VD(e,t,n){const i=e.field.isKeyField()?$.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?sa(u,h):W(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return W(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Qt($.comparator);function Ei(){return PD}const P1=new Qt($.comparator);function no(...e){let t=P1;for(const n of e)t=t.insert(n.key,n);return t}function L1(e){let t=P1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Dr(){return wo()}function U1(){return wo()}function wo(){return new Zr(e=>e.toString(),(e,t)=>e.isEqual(t))}const LD=new Qt($.comparator),UD=new ue($.comparator);function mt(...e){let t=UD;for(const n of e)t=t.add(n);return t}const jD=new ue(lt);function zD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(t)?"-0":t}}function j1(e){return{integerValue:""+e}}function z1(e,t){return mD(t)?j1(t):ag(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function BD(e,t,n){return e instanceof Ic?function(r,s){const a={fields:{[E1]:{stringValue:T1},[b1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ng(s)&&(s=nh(s)),s&&(a.fields[A1]=s),{mapValue:a}}(n,t):e instanceof Yo?q1(e,t):e instanceof Ko?H1(e,t):function(r,s){const a=B1(r,s),l=P_(a)+P_(r.Re);return Id(a)&&Id(r.Re)?j1(l):ag(r.serializer,l)}(e,t)}function qD(e,t,n){return e instanceof Yo?q1(e,t):e instanceof Ko?H1(e,t):n}function B1(e,t){return e instanceof Xo?function(i){return Id(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Ic extends ah{}class Yo extends ah{constructor(t){super(),this.elements=t}}function q1(e,t){const n=F1(t);for(const i of e.elements)n.some(r=>qn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ko extends ah{constructor(t){super(),this.elements=t}}function H1(e,t){let n=F1(t);for(const i of e.elements)n=n.filter(r=>!qn(r,i));return{arrayValue:{values:n}}}class Xo extends ah{constructor(t,n){super(),this.serializer=t,this.Re=n}}function P_(e){return Jt(e.integerValue||e.doubleValue)}function F1(e){return ig(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.field=t,this.transform=n}}function FD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Yo&&r instanceof Yo||i instanceof Ko&&r instanceof Ko?ra(i.elements,r.elements,qn):i instanceof Xo&&r instanceof Xo?qn(i.Re,r.Re):i instanceof Ic&&r instanceof Ic}(e.transform,t.transform)}class GD{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class oh{}function G1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new og(e.key,zn.none()):new Tl(e.key,e.data,zn.none());{const n=e.data,i=mn.empty();let r=new ue(Ae.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Wr(e.key,i,new bn(r.toArray()),zn.none())}}function QD(e,t,n){e instanceof Tl?function(r,s,a){const l=r.value.clone(),u=U_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Wr?function(r,s,a){if(!Vu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=U_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(Q1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ro(e,t,n,i){return e instanceof Tl?function(s,a,l,u){if(!Vu(s.precondition,a))return l;const h=s.value.clone(),d=j_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Wr?function(s,a,l,u){if(!Vu(s.precondition,a))return l;const h=j_(s.fieldTransforms,u,a),d=a.data;return d.setAll(Q1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return Vu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function YD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=B1(i.transform,r||null);s!=null&&(n===null&&(n=mn.empty()),n.set(i.field,s))}return n||null}function L_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ra(i,r,(s,a)=>FD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tl extends oh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wr extends oh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function U_(e,t,n){const i=new Map;At(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,qD(a,l,n[r]))}return i}function j_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,BD(s,a,t))}return i}class og extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&QD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ro(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ro(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=U1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=G1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(st.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&ra(this.mutations,t.mutations,(n,i)=>L_(n,i))&&ra(this.baseMutations,t.baseMutations,(n,i)=>L_(n,i))}}class lg{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){At(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return LD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new lg(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne,pt;function WD(e){switch(e){case L.OK:return W(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return W(15467,{code:e})}}function Y1(e){if(e===void 0)return Ti("GRPC error has no .code"),L.UNKNOWN;switch(e){case ne.OK:return L.OK;case ne.CANCELLED:return L.CANCELLED;case ne.UNKNOWN:return L.UNKNOWN;case ne.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ne.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ne.INTERNAL:return L.INTERNAL;case ne.UNAVAILABLE:return L.UNAVAILABLE;case ne.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ne.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ne.NOT_FOUND:return L.NOT_FOUND;case ne.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ne.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ne.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ne.ABORTED:return L.ABORTED;case ne.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ne.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ne.DATA_LOSS:return L.DATA_LOSS;default:return W(39323,{code:e})}}(pt=ne||(ne={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new ir([4294967295,4294967295],0);function z_(e){const t=g1().encode(e),n=new o1;return n.update(t),new Uint8Array(n.digest())}function B_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ir([n,i],0),new ir([r,s],0)]}class ug{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new io(`Invalid padding: ${n}`);if(i<0)throw new io(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new io(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=ir.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(ir.fromNumber(i)));return r.compare(JD)===1&&(r=new ir([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=z_(t),[i,r]=B_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new ug(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=z_(t),[i,r]=B_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,El.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new lh(st.min(),r,new Qt(lt),Ei(),mt())}}class El{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new El(i,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class K1{constructor(t,n){this.targetId=t,this.Ce=n}}class X1{constructor(t,n,i=Se.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class q_{constructor(){this.Fe=0,this.Me=H_(),this.xe=Se.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=mt(),n=mt(),i=mt();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W(38017,{changeType:s})}}),new El(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=H_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,At(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class t4{constructor(t){this.ze=t,this.je=new Map,this.He=Ei(),this.Je=fu(),this.Ye=fu(),this.Ze=new Qt(lt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:W(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(Dd(s))if(i===0){const a=new $(s.path);this.tt(n,a,xe.newNoDocument(a,st.min()))}else At(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=hr(i).toUint8Array()}catch(u){if(u instanceof v1)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ug(a,r,s)}catch(u){return ia(u instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Dd(l.target)){const u=new $(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,xe.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=mt();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new lh(t,n,this.Ze,this.He,i);return this.He=Ei(),this.Je=fu(),this.Ye=fu(),this.Ze=new Qt(lt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new q_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ue(lt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ue(lt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new q_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function fu(){return new Qt($.comparator)}function H_(){return new Qt($.comparator)}const e4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i4={and:"AND",or:"OR"};class r4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Od(e,t){return e.useProto3Json||eh(t)?t:{value:t}}function Cc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function s4(e,t){return Cc(e,t.toTimestamp())}function Bn(e){return At(!!e,49232),st.fromTimestamp(function(n){const i=cr(n);return new le(i.seconds,i.nanos)}(e))}function cg(e,t){return Md(e,t).canonicalString()}function Md(e,t){const n=function(r){return new Pt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Z1(e){const t=Pt.fromString(e);return At(nA(t),10190,{key:t.toString()}),t}function kd(e,t){return cg(e.databaseId,t.path)}function pf(e,t){const n=Z1(t);if(n.get(1)!==e.databaseId.projectId)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(J1(n))}function W1(e,t){return cg(e.databaseId,t)}function a4(e){const t=Z1(e);return t.length===4?Pt.emptyPath():J1(t)}function Vd(e){return new Pt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function J1(e){return At(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function F_(e,t,n){return{name:kd(e,t),fields:n.value.mapValue.fields}}function o4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(At(d===void 0||typeof d=="string",58123),Se.fromBase64String(d||"")):(At(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Se.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:Y1(h.code);return new G(d,h.message||"")}(a);n=new X1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=pf(e,i.document.name),s=Bn(i.document.updateTime),a=i.document.createTime?Bn(i.document.createTime):st.min(),l=new mn({mapValue:{fields:i.document.fields}}),u=xe.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Pu(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=pf(e,i.document),s=i.readTime?Bn(i.readTime):st.min(),a=xe.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Pu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=pf(e,i.document),s=i.removedTargetIds||[];n=new Pu([],s,r,null)}else{if(!("filter"in t))return W(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new ZD(r,s),l=i.targetId;n=new K1(l,a)}}return n}function l4(e,t){let n;if(t instanceof Tl)n={update:F_(e,t.key,t.value)};else if(t instanceof og)n={delete:kd(e,t.key)};else if(t instanceof Wr)n={update:F_(e,t.key,t.data),updateMask:y4(t.fieldMask)};else{if(!(t instanceof KD))return W(16599,{ft:t.type});n={verify:kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Ic)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Yo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ko)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xo)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw W(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:s4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W(27497)}(e,t.precondition)),n}function u4(e,t){return e&&e.length>0?(At(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Bn(r.updateTime):Bn(s);return a.isEqual(st.min())&&(a=Bn(s)),new GD(a,r.transformResults||[])}(n,t))):[]}function c4(e,t){return{documents:[W1(e,t.path)]}}function h4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=W1(e,r);const s=function(h){if(h.length!==0)return eA(wn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:_s(m.field),direction:m4(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Od(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function f4(e){let t=a4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){At(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=tA(g);return m instanceof wn&&D1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(x){return new Rc(vs(x.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,eh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new wc(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new wc(_,m)}(n.endAt)),OD(t,r,a,s,l,"F",u,h)}function d4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function tA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vs(n.unaryFilter.field);return re.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=vs(n.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vs(n.unaryFilter.field);return re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=vs(n.unaryFilter.field);return re.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(e):e.fieldFilter!==void 0?function(n){return re.create(vs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(i=>tA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(e):W(30097,{filter:e})}function m4(e){return e4[e]}function g4(e){return n4[e]}function p4(e){return i4[e]}function _s(e){return{fieldPath:e.canonicalString()}}function vs(e){return Ae.fromServerFormat(e.fieldPath)}function eA(e){return e instanceof re?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(N_(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(N_(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:g4(n.op),value:n.value}}}(e):e instanceof wn?function(n){const i=n.getFilters().map(r=>eA(r));return i.length===1?i[0]:{compositeFilter:{op:p4(n.op),filters:i}}}(e):W(54877,{filter:e})}function y4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function nA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,n,i,r,s=st.min(),a=st.min(),l=Se.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Gi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t){this.wt=t}}function v4(e){const t=f4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Cn=new E4}addToCollectionParentIndex(t,n){return this.Cn.add(n),V.resolve()}getCollectionParents(t,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return V.resolve()}deleteFieldIndex(t,n){return V.resolve()}deleteAllFieldIndexes(t){return V.resolve()}createTargetIndexes(t,n){return V.resolve()}getDocumentsMatchingTarget(t,n){return V.resolve(null)}getIndexType(t,n){return V.resolve(0)}getFieldIndexes(t,n){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,n){return V.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,n){return V.resolve(ur.min())}updateCollectionGroup(t,n,i){return V.resolve()}updateIndexEntries(t,n){return V.resolve()}}class E4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ue(Pt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ue(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iA=41943040;class Ge{static withCacheSize(t){return new Ge(t,Ge.DEFAULT_COLLECTION_PERCENTILE,Ge.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ge.DEFAULT_COLLECTION_PERCENTILE=10,Ge.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ge.DEFAULT=new Ge(iA,Ge.DEFAULT_COLLECTION_PERCENTILE,Ge.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ge.DISABLED=new Ge(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new oa(0)}static lr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="LruGarbageCollector",A4=1048576;function Y_([e,t],[n,i]){const r=lt(e,n);return r===0?lt(t,i):r}class b4{constructor(t){this.Er=t,this.buffer=new ue(Y_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Y_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(Q_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?H(Q_,"Ignoring IndexedDB error during garbage collection: ",n):await Aa(n)}await this.mr(3e5)})}}class w4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return V.resolve(th.le);const i=new b4(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(G_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),ps()<=dt.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function R4(e,t){return new w4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.changes=new Zr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ro(i.mutation,r,bn.empty(),le.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=mt()){const r=Dr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=no();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Dr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,mt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Ei();const a=wo(),l=function(){return wo()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Wr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ro(d.mutation,h,d.mutation.getFieldMask(),le.now())):a.set(h.key,bn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new C4(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=wo();let r=new Qt((a,l)=>a-l),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||bn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||mt()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=U1();d.forEach(m=>{if(!s.has(m)){const _=G1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return V.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return $.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):V.resolve(Dr());let l=Ho,u=s;return a.next(h=>V.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,mt())).next(d=>({batchId:l,changes:L1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $(n)).next(i=>{let r=no();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=no();return this.indexManager.getCollectionParents(t,s).next(l=>V.forEach(l,u=>{const h=function(g,m){return new vl(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,xe.newInvalidDocument(d)))});let l=no();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Ro(d.mutation,h,bn.empty(),le.now()),sh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return V.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Bn(r.createTime)}}(n)),V.resolve()}getNamedQuery(t,n){return V.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:v4(r.bundledQuery),readTime:Bn(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.overlays=new Qt($.comparator),this.Qr=new Map}getOverlay(t,n){return V.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Dr();return V.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),V.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),V.resolve()}getOverlaysForCollection(t,n,i){const r=Dr(),s=n.length+1,a=new $(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return V.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Qt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Dr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Dr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return V.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new $D(n,i));let s=this.Qr.get(n);s===void 0&&(s=mt(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.sessionToken=Se.EMPTY_BYTE_STRING}getSessionToken(t){return V.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.$r=new ue(de.Ur),this.Kr=new ue(de.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new de(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new de(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new $(new Pt([])),i=new de(n,t),r=new de(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new $(new Pt([])),i=new de(n,t),r=new de(n,t+1);let s=mt();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new de(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class de{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return $.comparator(t.key,n.key)||lt(t.Zr,n.Zr)}static Wr(t,n){return lt(t.Zr,n.Zr)||$.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ue(de.Ur)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new de(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return V.resolve(a)}lookupMutationBatch(t,n){return V.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?eg:this.nr-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new de(n,0),r=new de(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ue(lt);return n.forEach(r=>{const s=new de(r,0),a=new de(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),V.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;$.isDocumentKey(s)||(s=s.child(""));const a=new de(new $(s),0);let l=new ue(lt);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),V.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){At(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return V.forEach(n.mutations,r=>{const s=new de(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new de(n,0),r=this.Xr.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t){this.ii=t,this.docs=function(){return new Qt($.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(t,n){let i=Ei();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():xe.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Ei();const a=n.path,l=new $(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||cD(uD(d),i)<=0||(r.has(d.key)||sh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(t,n,i,r){W(9500)}si(t,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new V4(this)}getSize(t){return V.resolve(this.size)}}class V4 extends I4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),V.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.persistence=t,this.oi=new Zr(n=>rg(n),sg),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this._i=0,this.ai=new hg,this.targetCount=0,this.ui=oa.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),V.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new oa(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,V.resolve()}updateTargetData(t,n){return this.Tr(n),V.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return V.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),V.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),V.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),V.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return V.resolve(i)}containsKey(t,n){return V.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n){this.ci={},this.overlays={},this.li=new th(0),this.hi=!1,this.hi=!0,this.Pi=new O4,this.referenceDelegate=t(this),this.Ti=new P4(this),this.indexManager=new T4,this.remoteDocumentCache=function(r){return new k4(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new _4(n),this.Ei=new N4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new x4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new M4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new L4(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return V.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class L4 extends fD{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Vi=new hg,this.mi=null}static fi(t){return new fg(t)}get gi(){if(this.mi)return this.mi;throw W(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),V.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),V.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),V.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,i=>{const r=$.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,st.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return V.or([()=>V.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Dc{constructor(t,n){this.persistence=t,this.yi=new Zr(i=>gD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=R4(this,n)}static fi(t,n){return new Dc(t,n)}di(){}Ai(t){return V.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return V.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?V.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,st.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),V.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),V.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),V.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),V.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Mu(t.data.value)),n}Dr(t,n,i){return V.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return V.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=mt(),r=mt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new dg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xw()?8:dD(ke())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new U4;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(ps()<=dt.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(ps()<=dt.DEBUG&&H("QueryEngine","Query:",ys(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(ps()<=dt.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(n))):V.resolve())}ws(t,n){if(V_(n))return V.resolve(null);let i=jn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=xd(n,null,"F"),i=jn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=mt(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,xd(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return V_(n)||r.isEqual(st.min())?V.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?V.resolve(null):(ps()<=dt.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ys(n)),this.Fs(t,a,n,lD(r,Ho)).next(l=>l))})}vs(t,n){let i=new ue(V1(t));return n.forEach((r,s)=>{sh(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return ps()<=dt.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ys(n)),this.ys.getDocumentsMatchingQuery(t,n,ur.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",z4=3e8;class B4{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Qt(lt),this.Os=new Zr(s=>rg(s),sg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new D4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function q4(e,t,n,i){return new B4(e,t,n,i)}async function sA(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=mt();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function H4(e,t){const n=at(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=V.resolve();return m.forEach(x=>{_=_.next(()=>d.getEntry(u,x)).next(M=>{const k=h.docVersions.get(x);At(k!==null,48541),M.version.compareTo(k)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function aA(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function F4(e,t){const n=at(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(Se.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,k,S){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=z4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=Ei(),h=mt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(G4(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(st.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return V.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function G4(e,t,n){let i=mt(),r=mt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Ei();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(st.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(mg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function Q4(e,t){const n=at(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Y4(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,V.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Gi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function Pd(e,t,n){const i=at(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ba(a))throw a;H(mg,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function K_(e,t,n){const i=at(e);let r=st.min(),s=mt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=at(u),m=g.Os.get(d);return m!==void 0?V.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,jn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:st.min(),n?s:mt())).next(l=>(K4(i,kD(t),l),{documents:l,$s:s})))}function K4(e,t,n){let i=e.Ns.get(t)||st.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class X_{constructor(){this.activeTargetIds=zD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X4{constructor(){this.xo=new X_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new X_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="ConnectivityMonitor";class Z_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H($_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H($_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Ld(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",Z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W4{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===bc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Ld(),l=this.jo(t,n.toUriEncodedString());H(yf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=_a(h);return this.Jo(t,l,u,i,d).then(g=>(H(yf,`Received RPC '${t}' ${a}: `,g),g),g=>{throw ia(yf,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=Z4[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De="WebChannelConnection";class tN extends W4{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Ld();return new Promise((l,u)=>{const h=new l1;h.setWithCredentials(!0),h.listenOnce(u1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ou.NO_ERROR:const g=h.getResponseJson();H(De,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case Ou.TIMEOUT:H(De,`RPC '${t}' ${a} timed out`),u(new G(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const m=h.getStatus();if(H(De,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const M=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(x.status);u(new G(M,x.message))}else u(new G(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(L.UNAVAILABLE,"Connection failed."));break;default:W(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(De,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(De,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Ld(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=f1(),l=h1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(De,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const x=new J4({Zo:k=>{_?H(De,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(m||(H(De,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(De,`RPC '${t}' stream ${r} sending:`,k),g.send(k))},Xo:()=>g.close()}),M=(k,S,v)=>{k.listen(S,R=>{try{v(R)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,eo.EventType.OPEN,()=>{_||(H(De,`RPC '${t}' stream ${r} transport opened.`),x.__())}),M(g,eo.EventType.CLOSE,()=>{_||(_=!0,H(De,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(g))}),M(g,eo.EventType.ERROR,k=>{_||(_=!0,ia(De,`RPC '${t}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),x.u_(new G(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,eo.EventType.MESSAGE,k=>{var S;if(!_){const v=k.data[0];At(!!v,16349);const R=v,N=(R==null?void 0:R.error)||((S=R[0])===null||S===void 0?void 0:S.error);if(N){H(De,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let q=function(E){const b=ne[E];if(b!==void 0)return Y1(b)}(U),T=N.message;q===void 0&&(q=L.INTERNAL,T="Unknown error status: "+U+" with message "+N.message),_=!0,x.u_(new G(q,T)),g.close()}else H(De,`RPC '${t}' stream ${r} received:`,v),x.c_(v)}}),M(l,c1.STAT_EVENT,k=>{k.stat===Sd.PROXY?H(De,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===Sd.NOPROXY&&H(De,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e){return new r4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="PersistentStream";class lA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new oA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new G(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(W_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eN extends lA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=o4(this.serializer,t),i=function(s){if(!("targetChange"in s))return st.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?st.min():a.readTime?Bn(a.readTime):st.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Vd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Dd(u)?{documents:c4(s,u)}:{query:h4(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=$1(s,a.resumeToken);const h=Od(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(st.min())>0){l.readTime=Cc(s,a.snapshotVersion.toTimestamp());const h=Od(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=d4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Vd(this.serializer),n.removeTarget=t,this.Q_(n)}}class nN extends lA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return At(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,At(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){At(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=u4(t.writeResults,t.commitTime),i=Bn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Vd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>l4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{}class rN extends iN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,Md(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Md(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class sN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ti(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="RemoteStore";class aN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Jr(this)&&(H(Gr,"Restarting streams for network reachability change."),await async function(u){const h=at(u);h.da.add(4),await Al(h),h.Va.set("Unknown"),h.da.delete(4),await ch(h)}(this))})}),this.Va=new sN(i,r)}}async function ch(e){if(Jr(e))for(const t of e.Aa)await t(!0)}async function Al(e){for(const t of e.Aa)await t(!1)}function uA(e,t){const n=at(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),_g(n)?yg(n):Sa(n).N_()&&pg(n,t))}function gg(e,t){const n=at(e),i=Sa(n);n.Ea.delete(t),i.N_()&&cA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Jr(n)&&n.Va.set("Unknown"))}function pg(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(st.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sa(e).Z_(t)}function cA(e,t){e.ma.Ke(t),Sa(e).X_(t)}function yg(e){e.ma=new t4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Sa(e).start(),e.Va.ca()}function _g(e){return Jr(e)&&!Sa(e).O_()&&e.Ea.size>0}function Jr(e){return at(e).da.size===0}function hA(e){e.ma=void 0}async function oN(e){e.Va.set("Online")}async function lN(e){e.Ea.forEach((t,n)=>{pg(e,t)})}async function uN(e,t){hA(e),_g(e)?(e.Va.Pa(t),yg(e)):e.Va.set("Unknown")}async function cN(e,t,n){if(e.Va.set("Online"),t instanceof X1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Nc(e,i)}else if(t instanceof Pu?e.ma.Xe(t):t instanceof K1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(st.min()))try{const i=await aA(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(Se.EMPTY_BYTE_STRING,d.snapshotVersion)),cA(s,u);const g=new Gi(d.target,u,h,d.sequenceNumber);pg(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(Gr,"Failed to raise snapshot:",i),await Nc(e,i)}}async function Nc(e,t,n){if(!ba(t))throw t;e.da.add(1),await Al(e),e.Va.set("Offline"),n||(n=()=>aA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(Gr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await ch(e)})}function fA(e,t){return t().catch(n=>Nc(e,n,t))}async function hh(e){const t=at(e),n=dr(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:eg;for(;hN(t);)try{const r=await Q4(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,fN(t,r)}catch(r){await Nc(t,r)}dA(t)&&mA(t)}function hN(e){return Jr(e)&&e.Ia.length<10}function fN(e,t){e.Ia.push(t);const n=dr(e);n.N_()&&n.ea&&n.ta(t.mutations)}function dA(e){return Jr(e)&&!dr(e).O_()&&e.Ia.length>0}function mA(e){dr(e).start()}async function dN(e){dr(e).ia()}async function mN(e){const t=dr(e);for(const n of e.Ia)t.ta(n.mutations)}async function gN(e,t,n){const i=e.Ia.shift(),r=lg.from(i,t,n);await fA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await hh(e)}async function pN(e,t){t&&dr(e).ea&&await async function(i,r){if(function(a){return WD(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();dr(i).L_(),await fA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await hh(i)}}(e,t),dA(e)&&mA(e)}async function J_(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),H(Gr,"RemoteStore received new credentials");const i=Jr(n);n.da.add(3),await Al(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ch(n)}async function yN(e,t){const n=at(e);t?(n.da.delete(2),await ch(n)):t||(n.da.add(2),await Al(n),n.Va.set("Unknown"))}function Sa(e){return e.fa||(e.fa=function(n,i,r){const s=at(n);return s.oa(),new eN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:oN.bind(null,e),n_:lN.bind(null,e),i_:uN.bind(null,e),Y_:cN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),_g(e)?yg(e):e.Va.set("Unknown")):(await e.fa.stop(),hA(e))})),e.fa}function dr(e){return e.ga||(e.ga=function(n,i,r){const s=at(n);return s.oa(),new nN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:dN.bind(null,e),i_:pN.bind(null,e),na:mN.bind(null,e),ra:gN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await hh(e)):(await e.ga.stop(),e.Ia.length>0&&(H(Gr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new vg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(e,t){if(Ti("AsyncQueue",`${t}: ${e}`),ba(e))return new G(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(t){return new Fs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=no(),this.sortedSet=new Qt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Fs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.pa=new Qt($.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):W(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class la{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new la(t,n,Fs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class vN{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=at(n),s=r.queries;r.queries=ev(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(L.ABORTED,"Firestore shutting down"))}}function ev(){return new Zr(e=>k1(e),rh)}async function gA(e,t){const n=at(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new _N,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Tg(a,`Initialization of query '${ys(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&Eg(n)}async function pA(e,t){const n=at(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function TN(e,t){const n=at(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Eg(n)}function EN(e,t,n){const i=at(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Eg(e){e.Ca.forEach(t=>{t.next()})}var Ud,nv;(nv=Ud||(Ud={})).xa="default",nv.Cache="cache";class yA{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new la(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=la.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.key=t}}class vA{constructor(t){this.key=t}}class AN{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.Za=V1(t),this.Xa=new Fs(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new tv,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=sh(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?x!==M&&(i.track({type:3,doc:_}),k=!0):this.ru(m,_)||(i.track({type:2,doc:_}),k=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),k=!0):m&&!_&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,x){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:k})}};return M(_)-M(x)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new la(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=mt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new vA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new _A(i))}),n}au(t){this.Ha=t.$s,this.Ya=mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return la.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ag="SyncEngine";class bN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class SN{constructor(t){this.key=t,this.cu=!1}}class wN{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Zr(l=>k1(l),rh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qt($.comparator),this.Eu=new Map,this.du=new hg,this.Au={},this.Ru=new Map,this.Vu=oa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function RN(e,t,n=!0){const i=wA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await TA(i,t,n,!0),r}async function IN(e,t){const n=wA(e);await TA(n,t,!0,!1)}async function TA(e,t,n,i){const r=await Y4(e.localStore,jn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await CN(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&uA(e.remoteStore,r),l}async function CN(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,k,S,v){let R=k.view.tu(S);R.Cs&&(R=await K_(M.localStore,k.query,!1).then(({documents:T})=>k.view.tu(T,R)));const N=v&&v.targetChanges.get(k.targetId),U=v&&v.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(R,M.isPrimaryClient,N,U);return rv(M,k.targetId,q.ou),q.snapshot}(e,g,m,_);const s=await K_(e.localStore,t,!0),a=new AN(t,s.$s),l=a.tu(s.documents),u=El.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);rv(e,n,h.ou);const d=new bN(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function DN(e,t,n){const i=at(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!rh(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Pd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&gg(i.remoteStore,r.targetId),jd(i,r.targetId)}).catch(Aa)):(jd(i,r.targetId),await Pd(i.localStore,r.targetId,!0))}async function NN(e,t){const n=at(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gg(n.remoteStore,i.targetId))}async function xN(e,t,n){const i=UN(e);try{const r=await function(a,l){const u=at(a),h=le.now(),d=l.reduce((_,x)=>_.add(x.key),mt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Ei(),M=mt();return u.Bs.getEntries(_,d).next(k=>{x=k,x.forEach((S,v)=>{v.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(k=>{g=k;const S=[];for(const v of l){const R=YD(v,g.get(v.key).overlayedDocument);R!=null&&S.push(new Wr(v.key,R,R1(R.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(k=>{m=k;const S=k.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,k.batchId,S)})}).then(()=>({batchId:m.batchId,changes:L1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Qt(lt)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await bl(i,r.changes),await hh(i.remoteStore)}catch(r){const s=Tg(r,"Failed to persist write");n.reject(s)}}async function EA(e,t){const n=at(e);try{const i=await F4(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?At(a.cu,14607):r.removedDocuments.size>0&&(At(a.cu,42227),a.cu=!1))}),await bl(n,i,t)}catch(i){await Aa(i)}}function iv(e,t,n){const i=at(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=at(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&Eg(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ON(e,t,n){const i=at(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Qt($.comparator);a=a.insert(s,xe.newNoDocument(s,st.min()));const l=mt().add(s),u=new lh(st.min(),new Map,new Qt(lt),a,l);await EA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),bg(i)}else await Pd(i.localStore,t,!1).then(()=>jd(i,t,n)).catch(Aa)}async function MN(e,t){const n=at(e),i=t.batch.batchId;try{const r=await H4(n.localStore,t);bA(n,i,null),AA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await bl(n,r)}catch(r){await Aa(r)}}async function kN(e,t,n){const i=at(e);try{const r=await function(a,l){const u=at(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(At(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);bA(i,t,n),AA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await bl(i,r)}catch(r){await Aa(r)}}function AA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function bA(e,t,n){const i=at(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function jd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||SA(e,i)})}function SA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(gg(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),bg(e))}function rv(e,t,n){for(const i of n)i instanceof _A?(e.du.addReference(i.key,t),VN(e,i)):i instanceof vA?(H(Ag,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||SA(e,i.key)):W(19791,{pu:i})}function VN(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Ag,"New document in limbo: "+n),e.Tu.add(i),bg(e))}function bg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new $(Pt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new SN(n)),e.Iu=e.Iu.insert(n,i),uA(e.remoteStore,new Gi(jn(ih(n.path)),i,"TargetPurposeLimboResolution",th.le))}}async function bl(e,t,n){const i=at(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=dg.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=at(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(h,m=>V.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>V.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ba(g))throw g;H(mg,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),x=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function PN(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){H(Ag,"User change. New user:",t.toKey());const i=await sA(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new G(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await bl(n,i.ks)}}function LN(e,t){const n=at(e),i=n.Eu.get(t);if(i&&i.cu)return mt().add(i.key);{let r=mt();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function wA(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=EA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ON.bind(null,t),t.lu.Y_=TN.bind(null,t.eventManager),t.lu.gu=EN.bind(null,t.eventManager),t}function UN(e){const t=at(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return q4(this.persistence,new j4,t.initialUser,this.serializer)}Su(t){return new rA(fg.fi,this.serializer)}bu(t){return new X4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class jN extends xc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){At(this.persistence.referenceDelegate instanceof Dc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new S4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Ge.withCacheSize(this.cacheSizeBytes):Ge.DEFAULT;return new rA(i=>Dc.fi(i,n),this.serializer)}}class zd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vN}()}createDatastore(t){const n=uh(t.databaseInfo.databaseId),i=function(s){return new tN(s)}(t.databaseInfo);return function(s,a,l,u){return new rN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new aN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>iv(this.syncEngine,n,0),function(){return Z_.C()?new Z_:new $4}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new wN(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=at(r);H(Gr,"RemoteStore shutting down."),s.da.add(5),await Al(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ti("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class zN{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ne.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(mr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(mr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Tg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vf(e,t){e.asyncQueue.verifyOperationInProgress(),H(mr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await sA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BN(e);H(mr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>J_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>J_(t.remoteStore,r)),e._onlineComponents=t}async function BN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(mr,"Using user provided OfflineComponentProvider");try{await vf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await vf(e,new xc)}}else H(mr,"Using default OfflineComponentProvider"),await vf(e,new jN(void 0));return e._offlineComponents}async function IA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(mr,"Using user provided OnlineComponentProvider"),await sv(e,e._uninitializedComponentsProvider._online)):(H(mr,"Using default OnlineComponentProvider"),await sv(e,new zd))),e._onlineComponents}function qN(e){return IA(e).then(t=>t.syncEngine)}async function Bd(e){const t=await IA(e),n=t.eventManager;return n.onListen=RN.bind(null,t.syncEngine),n.onUnlisten=DN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NN.bind(null,t.syncEngine),n}function HN(e,t,n={}){const i=new rr;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new RA({next:m=>{d.xu(),a.enqueueAndForget(()=>pA(s,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new G(L.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new G(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new yA(ih(l.path),d,{includeMetadataChanges:!0,Qa:!0});return gA(s,g)}(await Bd(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e,t,n){if(!n)throw new G(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function FN(e,t,n,i){if(t===!0&&i===!0)throw new G(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ov(e){if(!$.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lv(e){if($.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function fh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W(12329,{type:typeof e})}function hi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(e);throw new G(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firestore.googleapis.com",uv=!0;class cv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=uv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<A4)throw new G(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JC;switch(i.type){case"firstParty":return new iD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=av.get(n);i&&(H("ComponentProvider","Removing Datastore"),av.delete(n),i.terminate())}(this),Promise.resolve()}}function GN(e,t,n,i={}){var r;e=hi(e,dh);const s=_a(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(AE(`https://${u}`),bE("Firestore",!0)),a.host!==NA&&a.host!==u&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Br(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Ne.MOCK_USER;else{d=Aw(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ne(m)}e._authCredentials=new tD(new m1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new wa(this.firestore,t,this._query)}}class Le{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}}class sr extends wa{constructor(t,n,i){super(t,n,ih(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new $(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function Tf(e,t,...n){if(e=Ye(e),DA("collection","path",t),e instanceof dh){const i=Pt.fromString(t,...n);return lv(i),new sr(e,null,i)}{if(!(e instanceof Le||e instanceof sr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pt.fromString(t,...n));return lv(i),new sr(e.firestore,null,i)}}function Wn(e,t,...n){if(e=Ye(e),arguments.length===1&&(t=p1.newId()),DA("doc","path",t),e instanceof dh){const i=Pt.fromString(t,...n);return ov(i),new Le(e,null,new $(i))}{if(!(e instanceof Le||e instanceof sr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pt.fromString(t,...n));return ov(i),new Le(e.firestore,e instanceof sr?e.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="AsyncQueue";class fv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new oA(this,"async_queue_retry"),this.rc=()=>{const i=_f();i&&H(hv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new rr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ba(t))throw t;H(hv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Ti("INTERNAL UNHANDLED ERROR: ",dv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=vg.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&W(47125,{cc:dv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function dv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ua extends dh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new fv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fv(t),this._firestoreClient=void 0,await t}}}function QN(e,t){const n=typeof e=="object"?e:IE(),i=typeof e=="string"?e:bc,r=Fm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Tw("firestore");s&&GN(r,...s)}return r}function Sg(e){if(e._terminated)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||YN(e),e._firestoreClient}function YN(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new _D(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new zN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ca(Se.fromBase64String(t))}catch(n){throw new G(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ca(Se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^__.*__$/;class XN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(t,this.data,n,this.fieldTransforms)}}function xA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ic:e})}}class Dg{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Dg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Oc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(xA(this.Ic)&&KN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class $N{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||uh(t)}bc(t,n,i,r=!1){return new Dg({Ic:t,methodName:n,wc:i,path:Ae.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OA(e){const t=e._freezeSettings(),n=uh(e._databaseId);return new $N(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZN(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);VA("Data must be an object, but it was:",a,i);const l=MA(i,a);let u,h;if(s.merge)u=new bn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=JN(t,g,n);if(!a.contains(m))throw new G(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ex(d,m)||d.push(m)}u=new bn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new XN(new mn(l),u,h)}class Ng extends Rg{constructor(t,n){super(t),this.Dc=n}_toFieldTransform(t){const n=new Xo(t.serializer,z1(t.serializer,this.Dc));return new HD(t.path,n)}isEqual(t){return t instanceof Ng&&this.Dc===t.Dc}}function WN(e,t,n,i=!1){return xg(n,e.bc(i?4:3,t))}function xg(e,t){if(kA(e=Ye(e)))return VA("Unsupported field value:",t,e),MA(e,t);if(e instanceof Rg)return function(i,r){if(!xA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=xg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return z1(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=le.fromDate(i);return{timestampValue:Cc(r.serializer,s)}}if(i instanceof le){const s=new le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(r.serializer,s)}}if(i instanceof Ig)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ca)return{bytesValue:$1(r.serializer,i._byteString)};if(i instanceof Le){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cg)return function(a,l){return{mapValue:{fields:{[S1]:{stringValue:w1},[Sc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return ag(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${fh(i)}`)}(e,t)}function MA(e,t){const n={};return _1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(e,(i,r)=>{const s=xg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function kA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof le||e instanceof Ig||e instanceof ca||e instanceof Le||e instanceof Rg||e instanceof Cg)}function VA(e,t,n){if(!kA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=fh(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function JN(e,t,n){if((t=Ye(t))instanceof wg)return t._internalPath;if(typeof t=="string")return PA(e,t);throw Oc("Field path arguments must be of type string or ",e,!1,void 0,n)}const tx=new RegExp("[~\\*/\\[\\]]");function PA(e,t,n){if(t.search(tx)>=0)throw Oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wg(...t.split("."))._internalPath}catch{throw Oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Oc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(L.INVALID_ARGUMENT,l+e+u)}function ex(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(UA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nx extends LA{data(){return super.data()}}function UA(e,t){return typeof t=="string"?PA(e,t):t instanceof wg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class rx extends Og{}function sx(e,t,...n){let i=[];t instanceof Og&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof kg).length,l=s.filter(u=>u instanceof Mg).length;if(a>1||a>0&&l>0)throw new G(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Mg extends rx{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Mg(t,n,i)}_apply(t){const n=this._parse(t);return jA(t._query,n),new wa(t.firestore,t.converter,Nd(t._query,n))}_parse(t){const n=OA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){pv(g,d);const x=[];for(const M of g)x.push(gv(u,s,M));m={arrayValue:{values:x}}}else m=gv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||pv(g,d),m=WN(l,a,g,d==="in"||d==="not-in");return re.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class kg extends Og{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new kg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)jA(a,u),a=Nd(a,u)}(t._query,n),new wa(t.firestore,t.converter,Nd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gv(e,t,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new G(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(t)&&n.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Pt.fromString(n));if(!$.isDocumentKey(i))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return D_(e,new $(i))}if(n instanceof Le)return D_(e,n._key);throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function pv(e,t){if(!Array.isArray(e)||e.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ax{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw W(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return $r(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Jt(a.doubleValue));return new Cg(s)}convertGeoPoint(t){return new Ig(Jt(t.latitude),Jt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=nh(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fo(t));default:return null}}convertTimestamp(t){const n=cr(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Pt.fromString(t);At(nA(i),9688,{name:t});const r=new Go(i.get(1),i.get(3)),s=new $(i.popFirst(5));return r.isEqual(n)||Ti(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zA extends LA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(UA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Lu extends zA{data(t={}){return super.data(t)}}class lx{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ro(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Lu(this._firestore,this._userDataWriter,i.key,i,new ro(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:ux(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ux(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(e){e=hi(e,Le);const t=hi(e.firestore,ua);return HN(Sg(t),e._key).then(n=>HA(t,e,n))}class BA extends ax{constructor(t){super(),this.firestore=t}convertBytes(t){return new ca(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,n)}}function $a(e,t,n){e=hi(e,Le);const i=hi(e.firestore,ua),r=ox(e.converter,t,n);return qA(i,[ZN(OA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,zn.none())])}function hx(e){return qA(hi(e.firestore,ua),[new og(e._key,zn.none())])}function yv(e,...t){var n,i,r;e=Ye(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||mv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(mv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Le)h=hi(e.firestore,ua),d=ih(e._key.path),u={next:g=>{t[a]&&t[a](HA(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=hi(e,wa);h=hi(g.firestore,ua),d=g._query;const m=new BA(h);u={next:_=>{t[a]&&t[a](new lx(h,m,g,_))},error:t[a+1],complete:t[a+2]},ix(e._query)}return function(m,_,x,M){const k=new RA(M),S=new yA(_,k,x);return m.asyncQueue.enqueueAndForget(async()=>gA(await Bd(m),S)),()=>{k.xu(),m.asyncQueue.enqueueAndForget(async()=>pA(await Bd(m),S))}}(Sg(h),d,l,u)}function qA(e,t){return function(i,r){const s=new rr;return i.asyncQueue.enqueueAndForget(async()=>xN(await qN(i),r,s)),s.promise}(Sg(e),t)}function HA(e,t,n){const i=n.docs.get(t._key),r=new BA(e);return new zA(e,r,t._key,i,new ro(n.hasPendingWrites,n.fromCache),t.converter)}function fx(e){return new Ng("increment",e)}(function(t,n=!0){(function(r){Ea=r})(va),na(new qr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ua(new eD(i.getProvider("auth-internal")),new rD(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),nr(y_,__,t),nr(y_,__,"esm2017")})();const ti="https://art.pixilart.com/sr2a947c8f967b8.png",rt={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},FA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},GA={normal:"https://archives.bulbagarden.net/media/upload/c/cb/Normal_icon_LA.png?20220213053429",fire:"https://archives.bulbagarden.net/media/upload/4/48/Fire_icon_LA.png?20220213053749",water:"https://archives.bulbagarden.net/media/upload/5/5e/Water_icon_LA.png?20220213053800",electric:"https://archives.bulbagarden.net/media/upload/7/75/Electric_icon_LA.png?20220213053826",grass:"https://archives.bulbagarden.net/media/upload/1/1b/Grass_icon_LA.png?20220213053815",ice:"https://archives.bulbagarden.net/media/upload/7/70/Ice_icon_LA.png?20220213053853",fighting:"https://archives.bulbagarden.net/media/upload/6/68/Fighting_icon_LA.png?20220213053440",poison:"https://archives.bulbagarden.net/media/upload/b/b4/Poison_icon_LA.png?20220213053545",ground:"https://archives.bulbagarden.net/media/upload/4/45/Ground_icon_LA.png?20220213053610",flying:"https://archives.bulbagarden.net/media/upload/d/de/Flying_icon_LA.png?20220213053533",psychic:"https://archives.bulbagarden.net/media/upload/4/45/Psychic_icon_LA.png?20220213053708",bug:"https://archives.bulbagarden.net/media/upload/2/26/Bug_icon_LA.png?20220213053628",rock:"https://archives.bulbagarden.net/media/upload/8/85/Rock_icon_LA.png?20220213053620",ghost:"https://archives.bulbagarden.net/media/upload/b/b5/Ghost_icon_LA.png?20220213053637",dragon:"https://archives.bulbagarden.net/media/upload/2/28/Dragon_icon_LA.png?20220213053915",dark:"https://archives.bulbagarden.net/media/upload/7/7f/Dark_icon_LA.png?20220213053921",steel:"https://archives.bulbagarden.net/media/upload/f/f9/Steel_icon_LA.png?20220213053740",fairy:"https://archives.bulbagarden.net/media/upload/b/b1/Fairy_icon_LA.png?20220213053936"},mu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},dx=()=>A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),mx=()=>A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),QA=({className:e="w-6 h-6",isFavorite:t})=>A.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":rt.textMuted},children:[" ",A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),YA=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),gx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),px=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),yx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),_x=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),KA=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),XA=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),vx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),A.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),A.jsx("path",{d:"M3 12h6"}),A.jsx("path",{d:"M15 12h6"})]}),Tx=()=>A.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),Ex=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),Ax=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),bx=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),Sx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),A.jsx("path",{d:"M9 12l2 2l4 -4"})]}),wx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),A.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),Rx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),A.jsx("path",{d:"M12 8v4"}),A.jsx("path",{d:"M12 16h.01"})]}),qd=({type:e})=>A.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:FA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),Ix={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Nn="pokemonTeamBuilder",Cx=(e,t)=>{const[n,i]=K.useState(e);return K.useEffect(()=>{const r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),n},Dx=Cv.memo(({onAdd:e,onShowDetails:t,details:n,lastRef:i,isSuggested:r})=>{const s=l=>{l.stopPropagation(),e(n)},a=l=>{l.stopPropagation(),t(n)};return n?A.jsxs("div",{ref:i,onClick:s,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${r?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:rt.cardLight},children:[r&&A.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),A.jsx("img",{src:n.sprite||ti,onError:l=>{l.currentTarget.src=ti},alt:n.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),A.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:n.name}),A.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:n.types.map(l=>A.jsx("img",{src:GA[l],alt:l,className:"w-5 h-5"},l))}),A.jsx("button",{onClick:a,className:`
            absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
            opacity-100     
            lg:opacity-0    
            lg:group-hover:opacity-100 
            lg:transition-opacity
            `,children:A.jsx(XA,{})})]}):A.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:rt.cardLight},children:[A.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),A.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),A.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:A.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),Nx=({stat:e,value:t})=>{const n={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},i=t/255*100;return A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",children:e.replace("-"," ")}),A.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-4",children:A.jsx("div",{className:`${n[e]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${i}%`},children:t})})]})},xx=({pokemon:e,onClose:t,onAdd:n,currentTeam:i})=>{var s,a;if(!e)return null;const r=i.some(l=>l.id===e.id);return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:A.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",onClick:l=>l.stopPropagation(),children:[A.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:A.jsx(KA,{})}),A.jsxs("div",{className:"text-center",children:[A.jsx("img",{src:e.animatedSprite||e.sprite,alt:e.name,className:"mx-auto h-32 w-32 image-pixelated"}),A.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",children:[e.name," ",A.jsxs("span",{className:"text-gray-400",children:["#",e.id]})]}),A.jsx("div",{className:"flex justify-center gap-2 mt-2",children:e.types.map(l=>A.jsx(qd,{type:l},l))})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Base Stats"}),A.jsx("div",{className:"space-y-2",children:(s=e.stats)==null?void 0:s.map(l=>A.jsx(Nx,{stat:l.stat.name,value:l.base_stat},l.stat.name))})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),A.jsx("div",{className:"text-center space-x-2",children:(a=e.abilities)==null?void 0:a.map(l=>A.jsx("span",{className:"capitalize inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:l.ability.name.replace("-"," ")},l.ability.name))})]}),A.jsx("div",{className:"mt-8 flex justify-center",children:!r&&A.jsxs("button",{onClick:()=>{n(e),t()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[A.jsx(yx,{})," Add to Team"]})})]})})},Ox=({currentTeam:e,teamName:t,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,handleDeleteTeam:m,teamAnalysis:_,searchInput:x,setSearchInput:M,selectedGeneration:k,setSelectedGeneration:S,generations:v,isInitialLoading:R,isFiltering:N,availablePokemons:U,pokemonDetailsCache:q,handleAddPokemonToTeam:T,lastPokemonElementRef:y,isFetchingMore:E,visibleCount:b,selectedTypes:I,handleTypeSelection:C,showDetails:w,suggestedPokemonIds:we})=>A.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[A.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:rt.card},children:[A.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:rt.primary},children:"Current Team"}),A.jsx("input",{type:"text",value:t,onChange:Q=>n(Q.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:rt.cardLight,borderColor:"transparent"}}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[e.map(Q=>A.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:j=>{j.stopPropagation(),i(Q.id)},children:[A.jsx("img",{src:Q.animatedSprite||Q.sprite||ti,onError:j=>{j.currentTarget.src=Q.sprite||ti},alt:Q.name,className:"mx-auto h-20 w-20"}),A.jsx("p",{className:"text-xs capitalize truncate",children:Q.name}),A.jsx("button",{onClick:j=>{j.stopPropagation(),w(Q)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-5 w-5 flex items-center justify-center transition-opacity text-sm",children:A.jsx(XA,{})}),A.jsx("button",{onClick:j=>{j.stopPropagation(),i(Q.id)},className:`\r
                            absolute top-1 right-1 bg-red-600 text-white rounded-full h-5 w-5 flex items-center justify-center text-sm\r
                            opacity-100 visible\r
                            lg:opacity-0 lg:invisible\r
                            lg:group-hover:opacity-100 lg:group-hover:visible\r
                            transition-opacity duration-200\r
                        `,children:"X"})]},Q.id)),Array.from({length:6-e.length}).map((Q,j)=>A.jsx("div",{className:"flex items-center justify-center",children:A.jsx("img",{src:ti,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},j))]}),A.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[A.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:rt.primary,color:rt.background},children:[" ",A.jsx(px,{})," ",s?"Update":"Save"," "]}),A.jsx("button",{onClick:g,className:"p-2 rounded-lg bg-green-600 hover:bg-green-700 text-white",title:"Share Team",children:A.jsx(bx,{})}),A.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Clear Team",children:A.jsx(gx,{})})]})]}),A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:rt.card},children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Recent Teams"}),A.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),A.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:l.length>0?l.map(Q=>A.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:rt.cardLight},children:[A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"font-bold text-lg truncate",children:Q.name}),A.jsx("div",{className:"flex mt-1",children:Q.pokemons.map(j=>A.jsx("img",{src:j.sprite||ti,onError:Z=>{Z.currentTarget.src=ti},alt:j.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:rt.cardLight,backgroundColor:rt.card}},j.id))})]}),A.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[A.jsx("button",{onClick:()=>h(Q),title:"Favorite",children:A.jsx(QA,{isFavorite:Q.isFavorite})}),A.jsx("button",{onClick:()=>d(Q),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"}),A.jsx("button",{onClick:()=>m(Q.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:A.jsx(YA,{})})]})]},Q.id)):A.jsx("p",{className:"text-center py-4",style:{color:rt.textMuted},children:"No recent teams yet."})})]})]}),A.jsx("div",{className:"lg:col-span-6",children:A.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:rt.card},children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokémon!"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:x,onChange:Q=>M(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:rt.cardLight,borderColor:"transparent"}}),A.jsxs("select",{value:k,onChange:Q=>S(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:rt.cardLight,borderColor:"transparent"},children:[A.jsx("option",{value:"all",children:"All Generations"}),v.map(Q=>A.jsx("option",{value:Q.name,className:"capitalize",children:Q.name.replace("-"," ")},Q.name))]})]})]}),A.jsx("div",{className:"relative flex-grow h-[60vh]",children:R?A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:rt.primary}})}):A.jsxs(A.Fragment,{children:[N&&A.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:rt.primary}})}),A.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:U.slice(0,b).map((Q,j)=>A.jsx(Dx,{details:q[Q.id],onAdd:T,onShowDetails:w,lastRef:j===b-1?y:null,isSuggested:we.has(Q.id)},Q.id))}),E&&A.jsx("div",{className:"flex justify-center py-4",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:rt.primary}})}),U.length===0&&!N&&A.jsx("p",{className:"text-center py-8",style:{color:rt.textMuted},children:"No Pokémon found with these filters. :("})]})]})})]})}),A.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:rt.card},children:[A.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),A.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(FA).map(Q=>A.jsx("button",{onClick:()=>C(Q),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${I.has(Q)?"ring-2 ring-white":""}`,title:Q,children:A.jsx("img",{src:GA[Q],alt:Q,className:"w-full h-full object-contain"})},Q))})]}),e.length>0&&A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:rt.card},children:[A.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),A.jsx("div",{className:"flex flex-wrap gap-1",children:_.strengths.size>0?Array.from(_.strengths).sort().map(Q=>A.jsx(qd,{type:Q},Q)):A.jsx("p",{className:"text-sm",style:{color:rt.textMuted},children:"No type advantages found."})})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),A.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(_.weaknesses).length>0?Object.entries(_.weaknesses).sort(([,Q],[,j])=>j-Q).map(([Q,j])=>A.jsxs("div",{className:"flex items-center",children:[A.jsx(qd,{type:Q}),A.jsxs("span",{className:"text-xs text-red-300",children:["(",j,"x)"]})]},Q)):A.jsx("p",{className:"text-sm",style:{color:rt.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),Mx=({teams:e,onEdit:t,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s})=>A.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:rt.card},children:[A.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),A.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:a=>s(a.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:rt.cardLight,borderColor:"transparent"}}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0?e.map(a=>A.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:rt.cardLight},children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("p",{className:"font-bold text-xl truncate mb-2",children:a.name}),A.jsx("button",{onClick:()=>i(a),title:"Favorite",children:A.jsx(QA,{isFavorite:a.isFavorite})})]}),A.jsx("div",{className:"flex my-2",children:a.pokemons.map(l=>A.jsx("img",{src:l.sprite||ti,onError:u=>{u.currentTarget.src=ti},alt:l.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:rt.cardLight,backgroundColor:rt.card}},l.id))}),A.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[A.jsx("button",{onClick:()=>t(a),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),A.jsx("button",{onClick:()=>n(a.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:A.jsx(YA,{})})]})]},a.id)):A.jsx("p",{className:"col-span-full text-center py-8",style:{color:rt.textMuted},children:"No teams found."})})]});function kx(){const[e,t]=K.useState(null),[n,i]=K.useState(null),[r,s]=K.useState([]),[a,l]=K.useState([]),[u,h]=K.useState({}),[d,g]=K.useState({}),[m,_]=K.useState([]),[x,M]=K.useState("all"),[k,S]=K.useState(new Set),[v,R]=K.useState(""),N=Cx(v,300),[U,q]=K.useState([]),[T,y]=K.useState([]),[E,b]=K.useState(""),[I,C]=K.useState(null),[w,we]=K.useState({strengths:new Set,weaknesses:{}}),[Q,j]=K.useState(!0),[Z,tt]=K.useState(!1),[bt,Ut]=K.useState(!1),[Si,Re]=K.useState([]),[jt,je]=K.useState("builder"),[ze,ts]=K.useState(!1),[Be,mh]=K.useState(!1),[es,ns]=K.useState(""),[In,is]=K.useState(50),[Ra,rs]=K.useState(null),[Ia,Ca]=K.useState(3),[ss,Da]=K.useState(new Set),[Sl,Na]=K.useState(0),[yr,wl]=K.useState(!1);K.useEffect(()=>{const z=()=>{window.innerWidth<768?Ca(2):Ca(3)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const ct=K.useCallback((z,F="info")=>{const Y=Date.now();Re(it=>[...it,{id:Y,message:z,type:F}]),setTimeout(()=>Re(it=>it.filter(X=>X.id!==Y)),3e3)},[]),Cn=K.useMemo(()=>{const z=new Set(U.map(Y=>Y.id));return a.filter(Y=>!z.has(Y.id)).sort((Y,it)=>{const X=ss.has(Y.id),gt=ss.has(it.id);return X&&!gt?-1:!X&&gt?1:Y.id-it.id})},[a,U,ss]),Rl=K.useMemo(()=>T.sort((z,F)=>new Date(F.updatedAt||F.createdAt)-new Date(z.updatedAt||z.createdAt)).slice(0,3),[T]),he=K.useMemo(()=>{let z=[...T].sort((F,Y)=>Y.isFavorite-F.isFavorite||new Date(Y.updatedAt||F.createdAt)-new Date(F.updatedAt||F.createdAt));return es&&(z=z.filter(F=>F.name.toLowerCase().includes(es.toLowerCase()))),z},[T,es]),fe=K.useCallback(async z=>{if(!n)return;ct("Loading shared team...","info");const F=Wn(n,`artifacts/${Nn}/public/data/teams`,z);try{const Y=await cx(F);if(Y.exists()){const it=Y.data(),X=it.pokemons.map(async vt=>{var It,St,zt,Nt,Bt,te;if(u[vt.id])return u[vt.id];const et=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${vt.id}`)).json();return{id:et.id,name:et.name,sprite:(It=et.sprites)==null?void 0:It.front_default,types:et.types.map($t=>$t.type.name),animatedSprite:(te=(Bt=(Nt=(zt=(St=et.sprites)==null?void 0:St.versions)==null?void 0:zt["generation-v"])==null?void 0:Nt["black-white"])==null?void 0:Bt.animated)==null?void 0:te.front_default,stats:et.stats,abilities:et.abilities}}),gt=await Promise.all(X);h(vt=>({...vt,...gt.reduce((Mt,et)=>({...Mt,[et.id]:et}),{})})),q(gt.filter(Boolean)),b(it.name),C(null),ct(`Loaded team: ${it.name}`,"success")}else ct("Shared team not found.","error")}catch{ct("Failed to load shared team.","error")}},[n,u,ct]);K.useEffect(()=>{try{const z=RE(Ix),F=ZC(z);i(QN(z));const Y=zI(F,X=>{X&&t(X.uid)});return(async()=>{if(!F.currentUser)try{const X=typeof __initial_auth_token<"u"?__initial_auth_token:null;X?await LI(F,X):await OI(F)}catch{ct("Authentication failed. Please refresh.","error")}})(),()=>Y()}catch{ct("Failed to connect to services.","error")}},[]),K.useEffect(()=>{(async()=>{try{const it=(await(await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=1025")).json()).results.map(St=>fetch(St.url).then(zt=>zt.json())),gt=(await Promise.all(it)).flatMap(St=>St.varieties.map(zt=>({name:zt.pokemon.name,url:zt.pokemon.url}))),Mt=Array.from(new Map(gt.map(St=>[St.url,St])).values()).map(St=>({id:parseInt(St.url.split("/")[6]),name:St.name,url:St.url}));s(Mt),l(Mt);const It=await(await fetch("https://pokeapi.co/api/v2/generation")).json();_(It.results)}catch{ct("Failed to load Pokémon data.","error")}finally{j(!1)}})()},[]),K.useEffect(()=>{if(!n||Q)return;const F=new URLSearchParams(window.location.search).get("team");F&&fe(F)},[n,Q,fe]),K.useEffect(()=>{(async()=>{if(Q)return;tt(!0);let F=[...r];const Y={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(x!=="all"&&Y[x]){const[it,X]=Y[x];F=F.filter(gt=>gt.id>=it&&gt.id<=X)}if(N&&(F=F.filter(it=>it.name.toLowerCase().includes(N.toLowerCase()))),k.size>0)try{const it=Array.from(k).map(vt=>fetch(`https://pokeapi.co/api/v2/type/${vt.toLowerCase()}`).then(Mt=>Mt.json()).then(Mt=>new Set(Mt.pokemon.map(et=>et.pokemon.name)))),gt=(await Promise.all(it)).reduce((vt,Mt)=>new Set([...vt].filter(et=>Mt.has(et))));F=F.filter(vt=>gt.has(vt.name))}catch{ct("Failed to apply type filter.","error")}l(F),is(50),tt(!1)})()},[x,k,N,r,Q]),K.useEffect(()=>{let z=!0;const F=async()=>{const it=Cn.slice(0,In).filter(X=>!u[X.id]||!u[X.id].evolution_chain_url);if(it.length!==0){Ut(!0);try{const X=await Promise.all(it.map(et=>fetch(et.url).then(It=>It.json()))),gt=X.map(et=>fetch(et.species.url).then(It=>It.json())),vt=await Promise.all(gt);if(!z)return;const Mt=X.reduce((et,It,St)=>{var zt,Nt,Bt,te,$t,ee;return et[It.id]={id:It.id,name:It.name,sprite:(zt=It.sprites)==null?void 0:zt.front_default,animatedSprite:(ee=($t=(te=(Bt=(Nt=It.sprites)==null?void 0:Nt.versions)==null?void 0:Bt["generation-v"])==null?void 0:te["black-white"])==null?void 0:$t.animated)==null?void 0:ee.front_default,types:It.types.map(Xe=>Xe.type.name),stats:It.stats,abilities:It.abilities,evolution_chain_url:vt[St].evolution_chain.url},et},{});h(et=>({...et,...Mt}))}catch{}finally{z&&Ut(!1)}}};return Cn.length>0&&F(),()=>{z=!1}},[Cn,In,u]),K.useEffect(()=>{if(!e||!n)return;const z=sx(Tf(n,`artifacts/${Nn}/users/${e}/teams`));return yv(z,Y=>{y(Y.docs.map(it=>({id:it.id,...it.data()})))},()=>ct("Could not load saved teams.","error"))},[e,n]),K.useEffect(()=>{const z=U.map(X=>u[X.id]).filter(Boolean);if(z.length<U.length||z.length===0){we({strengths:new Set,weaknesses:{}}),Da(new Set);return}const F={},Y=new Set;z.flatMap(X=>X.types).forEach(X=>{var gt;Object.entries(((gt=mu[X])==null?void 0:gt.damageDealt)||{}).forEach(([vt,Mt])=>{Mt>1&&Y.add(vt.toLowerCase())})}),Object.keys(mu).forEach(X=>{const gt=X.charAt(0).toUpperCase()+X.slice(1);let vt=0,Mt=0;z.forEach(et=>{const It=et.types.reduce((St,zt)=>{var Nt;return St*(((Nt=mu[zt])==null?void 0:Nt.damageTaken[gt])??1)},1);It>1?vt++:It<1&&Mt++}),vt>0&&vt>Mt&&(F[X]=vt)}),we({strengths:Y,weaknesses:F}),(async()=>{const X=Object.keys(F);if(X.length===0||r.length===0){Da(new Set);return}const gt=async Nt=>{if(d[Nt])return d[Nt];try{let $t=(await(await fetch(Nt)).json()).chain;for(;$t&&$t.evolves_to.length>0;)$t=$t.evolves_to[0];const ee=$t.species.name;return g(Xe=>({...Xe,[Nt]:ee})),ee}catch{return null}},Mt=r.filter(Nt=>{const Bt=u[Nt.id];return Bt?X.some(te=>{const $t=te.charAt(0).toUpperCase()+te.slice(1);return Bt.types.reduce((Xe,vr)=>{var Qn;return Xe*(((Qn=mu[vr])==null?void 0:Qn.damageTaken[$t])??1)},1)<1}):!1}).map(async Nt=>{const Bt=u[Nt.id];return Bt!=null&&Bt.evolution_chain_url?await gt(Bt.evolution_chain_url):null}),et=await Promise.all(Mt),It=[...new Set(et.filter(Boolean))],St=new Set(It.map(Nt=>{var Bt;return(Bt=r.find(te=>te.name===Nt))==null?void 0:Bt.id}).filter(Boolean)),zt=Array.from(St).filter(Nt=>!u[Nt]);if(zt.length>0){const Nt=zt.map(Bt=>`https://pokeapi.co/api/v2/pokemon/${Bt}/`);try{const te=(await Promise.all(Nt.map($t=>fetch($t).then(ee=>ee.json())))).reduce(($t,ee)=>{var Xe,vr,Qn,Tr,vn,Ma;return $t[ee.id]={id:ee.id,name:ee.name,sprite:(Xe=ee.sprites)==null?void 0:Xe.front_default,animatedSprite:(Ma=(vn=(Tr=(Qn=(vr=ee.sprites)==null?void 0:vr.versions)==null?void 0:Qn["generation-v"])==null?void 0:Tr["black-white"])==null?void 0:vn.animated)==null?void 0:Ma.front_default,types:ee.types.map(kl=>kl.type.name),stats:ee.stats,abilities:ee.abilities,evolution_chain_url:ee.species.url},$t},{});h($t=>({...$t,...te}))}catch(Bt){console.error("Failed to fetch suggestion details:",Bt)}}Da(St)})()},[U,u,r,d]),K.useEffect(()=>{if(!n)return;const z=Wn(n,"artifacts",Nn,"public","data","app-metadata","likes"),F=yv(z,Y=>{Y.exists()?Na(Y.data().count):$a(z,{count:0})});return sessionStorage.getItem("hasLikedPokemonBuilder")&&wl(!0),()=>F()},[n]);const Gn=K.useRef(),Il=K.useCallback(z=>{bt||Z||(Gn.current&&Gn.current.disconnect(),Gn.current=new IntersectionObserver(F=>{F[0].isIntersecting&&Cn.length>In&&is(Y=>Y+50)}),z&&Gn.current.observe(z))},[bt,Z,Cn,In]),xa=K.useCallback(z=>{if(U.length>=6)return ct("Your team is full (6 Pokémon)!","warning");if(U.find(F=>F.id===z.id))return ct("This Pokémon is already on your team.","warning");q(F=>[...F,z])},[U,ct]),gh=K.useCallback(z=>{q(F=>F.filter(Y=>Y.id!==z))},[]),_n=K.useCallback(()=>{q([]),b(""),C(null)},[]),Cl=K.useCallback(async()=>{var Y,it;if(!n||!e)return ct("Database connection not ready.","error");if(U.length===0)return ct("Your team is empty!","warning");if(!E.trim())return ct("Please name your team.","warning");const z=I||Wn(Tf(n,`artifacts/${Nn}/users/${e}/teams`)).id,F={name:E,pokemons:U.map(X=>({id:X.id,name:X.name,sprite:X.sprite})),isFavorite:((Y=T.find(X=>X.id===I))==null?void 0:Y.isFavorite)||!1,createdAt:((it=T.find(X=>X.id===I))==null?void 0:it.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await $a(Wn(n,`artifacts/${Nn}/users/${e}/teams`,z),F),ct(`Team "${E}" saved!`,"success"),_n()}catch{ct("Error saving team.","error")}},[n,e,U,E,I,T,ct,_n]),Dl=K.useCallback(async()=>{if(!n||yr)return;const z=Wn(n,"artifacts",Nn,"public","data","app-metadata","likes");try{await $a(z,{count:fx(1)},{merge:!0}),sessionStorage.setItem("hasLikedPokemonBuilder","true"),wl(!0),ct("Thanks for the like!","success")}catch{ct("Could not register like.","error")}},[n,yr,ct]),Oa=K.useCallback(async()=>{if(!n)return ct("Database not ready.","error");if(U.length===0)return ct("Cannot share an empty team!","warning");const z=Wn(Tf(n,`artifacts/${Nn}/public/data/teams`)).id,F={name:E||"Unnamed Team",pokemons:U.map(Y=>({id:Y.id,name:Y.name,sprite:Y.sprite||""}))};try{await $a(Wn(n,`artifacts/${Nn}/public/data/teams`,z),F);const Y=`${window.location.origin}${window.location.pathname}?team=${z}`,it=document.createElement("textarea");it.value=Y,document.body.appendChild(it),it.focus(),it.select();try{document.execCommand("copy")?ct("Share link copied to clipboard!","success"):ct("Failed to copy link.","error")}catch{ct("Failed to copy link.","error")}document.body.removeChild(it)}catch{ct("Could not generate share link.","error")}},[n,U,E,ct]),Nl=K.useCallback(async z=>{const F=z.pokemons.map(async it=>{var vt,Mt,et,It,St,zt;if(u[it.id])return u[it.id];const gt=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${it.id}`)).json();return{id:gt.id,name:gt.name,sprite:(vt=gt.sprites)==null?void 0:vt.front_default,types:gt.types.map(Nt=>Nt.type.name),animatedSprite:(zt=(St=(It=(et=(Mt=gt.sprites)==null?void 0:Mt.versions)==null?void 0:et["generation-v"])==null?void 0:It["black-white"])==null?void 0:St.animated)==null?void 0:zt.front_default,stats:gt.stats,abilities:gt.abilities}}),Y=await Promise.all(F);h(it=>({...it,...Y.reduce((X,gt)=>({...X,[gt.id]:gt}),{})})),q(Y.filter(Boolean)),b(z.name),C(z.id),je("builder"),ts(!1),window.scrollTo({top:0,behavior:"smooth"})},[u]),xl=K.useCallback(async z=>{if(!(!n||!e))try{await hx(Wn(n,`artifacts/${Nn}/users/${e}/teams`,z)),I===z&&_n(),ct("Team deleted.","info")}catch{ct("Error deleting team.","error")}},[n,e,I,_n,ct]),as=K.useCallback(async z=>{if(!(!n||!e))try{await $a(Wn(n,`artifacts/${Nn}/users/${e}/teams`,z.id),{...z,isFavorite:!z.isFavorite})}catch{ct("Could not update favorite status.","error")}},[n,e,ct]),Ol=K.useCallback(z=>{S(F=>{const Y=new Set(F);return Y.has(z)?Y.delete(z):Y.add(z),Y})},[]),Ml=K.useCallback(z=>{rs(z)},[]),_r=()=>{switch(jt){case"allTeams":return A.jsx(Mx,{teams:he,onEdit:Nl,onDelete:xl,onToggleFavorite:as,searchTerm:es,setSearchTerm:ns});default:return A.jsx(Ox,{currentTeam:U,teamName:E,setTeamName:b,handleRemoveFromTeam:gh,handleSaveTeam:Cl,editingTeamId:I,handleClearTeam:_n,recentTeams:Rl,setCurrentPage:je,handleToggleFavorite:as,handleEditTeam:Nl,handleDeleteTeam:xl,handleShareTeam:Oa,teamAnalysis:w,searchInput:v,setSearchInput:R,selectedGeneration:x,setSelectedGeneration:M,generations:m,isInitialLoading:Q,isFiltering:Z,availablePokemons:Cn,pokemonDetailsCache:u,handleAddPokemonToTeam:xa,lastPokemonElementRef:Il,isFetchingMore:bt,visibleCount:In,selectedTypes:k,handleTypeSelection:Ol,showDetails:Ml,suggestedPokemonIds:ss})}};return A.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:rt.background},children:[A.jsx(xx,{pokemon:Ra,onClose:()=>rs(null),onAdd:xa,currentTeam:U}),A.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Si.slice(0,Ia).map(z=>A.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${z.type==="success"?"bg-green-600":z.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[z.type==="success"&&A.jsx(Sx,{}),z.type==="error"&&A.jsx(wx,{}),z.type==="warning"&&A.jsx(Rx,{}),z.message]},z.id))}),A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Be?"lg:w-20":"w-64"} ${ze?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:rt.card},children:A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:`flex items-center h-16 p-4 ${Be?"justify-center":"justify-between"}`,children:[A.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${Be?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:rt.primary},children:"Menu"}),A.jsx("button",{onClick:()=>mh(!Be),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:rt.textMuted},children:Be?A.jsx(Ax,{}):A.jsx(Ex,{})})]}),A.jsx("nav",{className:"px-4 flex-grow",children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsxs("button",{onClick:()=>{je("builder"),ts(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${jt==="builder"?"bg-purple-500/30":""} ${Be?"justify-center":""}`,children:[A.jsx(vx,{})," ",A.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Be?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),A.jsx("li",{children:A.jsxs("button",{onClick:()=>{je("allTeams"),ts(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${jt==="allTeams"?"bg-purple-500/30":""} ${Be?"justify-center":""}`,children:[A.jsx(Tx,{})," ",A.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Be?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"All Teams"})]})})]})})]})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[A.jsx("button",{onClick:()=>ts(!ze),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:rt.cardLight},children:ze?A.jsx(KA,{}):A.jsx(_x,{})}),A.jsxs("div",{className:"flex-1 text-center px-2 overflow-hidden",children:[A.jsx("h1",{className:"text-sm sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:rt.primary},children:"Pokémon Team Builder"}),A.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:rt.primary},children:"By: Enzo Esmeraldo"})]}),A.jsx("div",{className:"w-10 lg:hidden"})]}),A.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:_r()}),A.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:rt.cardLight},children:[A.jsxs("p",{className:"text-sm",style:{color:rt.textMuted},children:["Developed and built by ",A.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"Enzo Esmeraldo"})," "]}),A.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[A.jsxs("button",{onClick:Dl,disabled:yr,className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors ${yr?"bg-pink-500/50 text-white cursor-not-allowed":"bg-gray-700 hover:bg-pink-500"}`,children:[A.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),A.jsx("span",{children:Sl})]}),A.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:rt.textMuted},children:A.jsx(dx,{})}),A.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:rt.textMuted},children:A.jsx(mx,{})})]}),A.jsxs("p",{className:"text-xs mt-2",style:{color:rt.textMuted},children:["Using the ",A.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokéAPI"}),". Pokémon and their names are trademarks of Nintendo."]})]})]})]}),A.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: ${rt.card}; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${rt.primary}; border-radius: 20px; border: 3px solid ${rt.card}; } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } `})]})}hw.createRoot(document.getElementById("root")).render(A.jsx(Cv.StrictMode,{children:A.jsx(kx,{})}));
