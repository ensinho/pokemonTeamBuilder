(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dv={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=Symbol.for("react.transitional.element"),EA=Symbol.for("react.fragment");function Ov(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:TA,type:t,key:i,ref:e!==void 0?e:null,props:n}}Pc.Fragment=EA;Pc.jsx=Ov;Pc.jsxs=Ov;Dv.exports=Pc;var g=Dv.exports,kv={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.transitional.element"),bA=Symbol.for("react.portal"),AA=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),wA=Symbol.for("react.profiler"),RA=Symbol.for("react.consumer"),IA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),xA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),Mv=Symbol.for("react.lazy"),xp=Symbol.iterator;function DA(t){return t===null||typeof t!="object"?null:(t=xp&&t[xp]||t["@@iterator"],typeof t=="function"?t:null)}var Vv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pv=Object.assign,Lv={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=Lv,this.updater=n||Vv}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uv(){}Uv.prototype=Aa.prototype;function Zd(t,e,n){this.props=t,this.context=e,this.refs=Lv,this.updater=n||Vv}var Wd=Zd.prototype=new Uv;Wd.constructor=Zd;Pv(Wd,Aa.prototype);Wd.isPureReactComponent=!0;var Np=Array.isArray,Ve={H:null,A:null,T:null,S:null,V:null},jv=Object.prototype.hasOwnProperty;function Jd(t,e,n,i,r,s){return n=s.ref,{$$typeof:$d,type:t,key:e,ref:n!==void 0?n:null,props:s}}function OA(t,e){return Jd(t.type,e,void 0,void 0,void 0,t.props)}function em(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function kA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dp=/\/+/g;function Vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kA(""+t.key):e.toString(36)}function Op(){}function MA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Op,Op):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function bs(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case $d:case bA:a=!0;break;case Mv:return a=t._init,bs(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Vh(t,0):i,Np(r)?(n="",a!=null&&(n=a.replace(Dp,"$&/")+"/"),bs(r,e,n,"",function(h){return h})):r!=null&&(em(r)&&(r=OA(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Dp,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(Np(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Vh(i,u),a+=bs(i,e,n,s,r);else if(u=DA(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Vh(i,u++),a+=bs(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return bs(MA(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Yl(t,e,n){if(t==null)return t;var i=[],r=0;return bs(t,i,"","",function(s){return e.call(n,s,r++)}),i}function VA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function PA(){}ae.Children={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!em(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Aa;ae.Fragment=AA;ae.Profiler=wA;ae.PureComponent=Zd;ae.StrictMode=SA;ae.Suspense=xA;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ve.H.useMemoCache(t)}};ae.cache=function(t){return function(){return t.apply(null,arguments)}};ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Pv({},t.props),r=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!jv.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Jd(t.type,r,void 0,void 0,s,i)};ae.createContext=function(t){return t={$$typeof:IA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:RA,_context:t},t};ae.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)jv.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Jd(t,s,void 0,void 0,null,r)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:CA,render:t}};ae.isValidElement=em;ae.lazy=function(t){return{$$typeof:Mv,_payload:{_status:-1,_result:t},_init:VA}};ae.memo=function(t,e){return{$$typeof:NA,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Ve.T,n={};Ve.T=n;try{var i=t(),r=Ve.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(PA,kp)}catch(s){kp(s)}finally{Ve.T=e}};ae.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()};ae.use=function(t){return Ve.H.use(t)};ae.useActionState=function(t,e,n){return Ve.H.useActionState(t,e,n)};ae.useCallback=function(t,e){return Ve.H.useCallback(t,e)};ae.useContext=function(t){return Ve.H.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t,e){return Ve.H.useDeferredValue(t,e)};ae.useEffect=function(t,e,n){var i=Ve.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};ae.useId=function(){return Ve.H.useId()};ae.useImperativeHandle=function(t,e,n){return Ve.H.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ve.H.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ve.H.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ve.H.useMemo(t,e)};ae.useOptimistic=function(t,e){return Ve.H.useOptimistic(t,e)};ae.useReducer=function(t,e,n){return Ve.H.useReducer(t,e,n)};ae.useRef=function(t){return Ve.H.useRef(t)};ae.useState=function(t){return Ve.H.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ve.H.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ve.H.useTransition()};ae.version="19.1.0";kv.exports=ae;var q=kv.exports;const tm=Nv(q);var zv={exports:{}},Lc={},Bv={exports:{}},qv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,te){var W=z.length;z.push(te);e:for(;0<W;){var we=W-1>>>1,Oe=z[we];if(0<r(Oe,te))z[we]=te,z[W]=Oe,W=we;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var te=z[0],W=z.pop();if(W!==te){z[0]=W;e:for(var we=0,Oe=z.length,pi=Oe>>>1;we<pi;){var ht=2*(we+1)-1,se=z[ht],Tt=ht+1,Qe=z[Tt];if(0>r(se,W))Tt<Oe&&0>r(Qe,se)?(z[we]=Qe,z[Tt]=W,we=Tt):(z[we]=se,z[ht]=W,we=ht);else if(Tt<Oe&&0>r(Qe,W))z[we]=Qe,z[Tt]=W,we=Tt;else break e}}return te}function r(z,te){var W=z.sortIndex-te.sortIndex;return W!==0?W:z.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,m=3,v=!1,D=!1,M=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(z){for(var te=n(h);te!==null;){if(te.callback===null)i(h);else if(te.startTime<=z)i(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function j(z){if(M=!1,N(z),!D)if(n(u)!==null)D=!0,O||(O=!0,C());else{var te=n(h);te!==null&&K(j,te.startTime-z)}}var O=!1,E=-1,y=5,b=-1;function S(){return k?!0:!(t.unstable_now()-b<y)}function I(){if(k=!1,O){var z=t.unstable_now();b=z;var te=!0;try{e:{D=!1,M&&(M=!1,A(E),E=-1),v=!0;var W=m;try{t:{for(N(z),p=n(u);p!==null&&!(p.expirationTime>z&&S());){var we=p.callback;if(typeof we=="function"){p.callback=null,m=p.priorityLevel;var Oe=we(p.expirationTime<=z);if(z=t.unstable_now(),typeof Oe=="function"){p.callback=Oe,N(z),te=!0;break t}p===n(u)&&i(u),N(z)}else i(u);p=n(u)}if(p!==null)te=!0;else{var pi=n(h);pi!==null&&K(j,pi.startTime-z),te=!1}}break e}finally{p=null,m=W,v=!1}te=void 0}}finally{te?C():O=!1}}}var C;if(typeof R=="function")C=function(){R(I)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,vt=T.port2;T.port1.onmessage=I,C=function(){vt.postMessage(null)}}else C=function(){w(I,0)};function K(z,te){E=w(function(){z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var W=m;m=te;try{return z()}finally{m=W}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=m;m=z;try{return te()}finally{m=W}},t.unstable_scheduleCallback=function(z,te,W){var we=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?we+W:we):W=we,z){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=W+Oe,z={id:d++,callback:te,priorityLevel:z,startTime:W,expirationTime:Oe,sortIndex:-1},W>we?(z.sortIndex=W,e(h,z),n(u)===null&&z===n(h)&&(M?(A(E),E=-1):M=!0,K(j,W-we))):(z.sortIndex=Oe,e(u,z),D||v||(D=!0,O||(O=!0,C()))),z},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(z){var te=m;return function(){var W=m;m=te;try{return z.apply(this,arguments)}finally{m=W}}}})(qv);Bv.exports=qv;var LA=Bv.exports,Hv={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=q;function Fv(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wi(){}var Dt={d:{f:wi,r:function(){throw Error(Fv(522))},D:wi,C:wi,L:wi,m:wi,X:wi,S:wi,M:wi},p:0,findDOMNode:null},jA=Symbol.for("react.portal");function zA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jA,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var po=UA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Fv(299));return zA(t,e,null,n)};Ot.flushSync=function(t){var e=po.T,n=Dt.p;try{if(po.T=null,Dt.p=2,t)return t()}finally{po.T=e,Dt.p=n,Dt.d.f()}};Ot.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Dt.d.C(t,e))};Ot.prefetchDNS=function(t){typeof t=="string"&&Dt.d.D(t)};Ot.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Uc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Dt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Dt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ot.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Uc(e.as,e.crossOrigin);Dt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Dt.d.M(t)};Ot.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Uc(n,e.crossOrigin);Dt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ot.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Uc(e.as,e.crossOrigin);Dt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Dt.d.m(t)};Ot.requestFormReset=function(t){Dt.d.r(t)};Ot.unstable_batchedUpdates=function(t,e){return t(e)};Ot.useFormState=function(t,e,n){return po.H.useFormState(t,e,n)};Ot.useFormStatus=function(){return po.H.useHostTransitionStatus()};Ot.version="19.1.0";function Gv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gv)}catch(t){console.error(t)}}Gv(),Hv.exports=Ot;var BA=Hv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=LA,Qv=q,qA=BA;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mp(t){if(sl(t)!==t)throw Error(U(188))}function HA(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Mp(r),t;if(s===i)return Mp(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Xv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Xv(t),e!==null)return e;t=t.sibling}return null}var De=Object.assign,FA=Symbol.for("react.element"),Kl=Symbol.for("react.transitional.element"),oo=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),GA=Symbol.for("react.provider"),Zv=Symbol.for("react.consumer"),Qn=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),kf=Symbol.for("react.activity"),QA=Symbol.for("react.memo_cache_sentinel"),Vp=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=Vp&&t[Vp]||t["@@iterator"],typeof t=="function"?t:null)}var YA=Symbol.for("react.client.reference");function Mf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===YA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Nf:return"Profiler";case $v:return"StrictMode";case Df:return"Suspense";case Of:return"SuspenseList";case kf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case oo:return"Portal";case Qn:return(t.displayName||"Context")+".Provider";case Zv:return(t._context.displayName||"Context")+".Consumer";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:Mf(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return Mf(t(e))}catch{}}return null}var lo=Array.isArray,ee=Qv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=qA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kr={pending:!1,data:null,method:null,action:null},Vf=[],Ds=-1;function Vn(t){return{current:t}}function ct(t){0>Ds||(t.current=Vf[Ds],Vf[Ds]=null,Ds--)}function Pe(t,e){Ds++,Vf[Ds]=t.current,t.current=e}var Rn=Vn(null),Po=Vn(null),Gi=Vn(null),ju=Vn(null);function zu(t,e){switch(Pe(Gi,e),Pe(Po,t),Pe(Rn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?zy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=zy(e),t=mE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ct(Rn),Pe(Rn,t)}function ia(){ct(Rn),ct(Po),ct(Gi)}function Pf(t){t.memoizedState!==null&&Pe(ju,t);var e=Rn.current,n=mE(e,t.type);e!==n&&(Pe(Po,t),Pe(Rn,n))}function Bu(t){Po.current===t&&(ct(Rn),ct(Po)),ju.current===t&&(ct(ju),Qo._currentValue=kr)}var Lf=Object.prototype.hasOwnProperty,rm=tt.unstable_scheduleCallback,Ph=tt.unstable_cancelCallback,KA=tt.unstable_shouldYield,XA=tt.unstable_requestPaint,In=tt.unstable_now,$A=tt.unstable_getCurrentPriorityLevel,Wv=tt.unstable_ImmediatePriority,Jv=tt.unstable_UserBlockingPriority,qu=tt.unstable_NormalPriority,ZA=tt.unstable_LowPriority,e0=tt.unstable_IdlePriority,WA=tt.log,JA=tt.unstable_setDisableYieldValue,al=null,Yt=null;function zi(t){if(typeof WA=="function"&&JA(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(al,t)}catch{}}var Kt=Math.clz32?Math.clz32:n2,e2=Math.log,t2=Math.LN2;function n2(t){return t>>>=0,t===0?32:31-(e2(t)/t2|0)|0}var Xl=256,$l=4194304;function Cr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Cr(i):(a&=l,a!==0?r=Cr(a):n||(n=l&~t,n!==0&&(r=Cr(n))))):(l=i&~s,l!==0?r=Cr(l):a!==0?r=Cr(a):n||(n=i&~t,n!==0&&(r=Cr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function ol(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function i2(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t0(){var t=Xl;return Xl<<=1,!(Xl&4194048)&&(Xl=256),t}function n0(){var t=$l;return $l<<=1,!($l&62914560)&&($l=4194304),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function r2(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Kt(n),p=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~p}i!==0&&i0(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function i0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Kt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function r0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Kt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function sm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function am(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function s0(){var t=ve.p;return t!==0?t:(t=window.event,t===void 0?32:SE(t.type))}function s2(t,e){var n=ve.p;try{return ve.p=t,e()}finally{ve.p=n}}var mr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+mr,Ut="__reactProps$"+mr,Sa="__reactContainer$"+mr,Uf="__reactEvents$"+mr,a2="__reactListeners$"+mr,o2="__reactHandles$"+mr,Pp="__reactResources$"+mr,ul="__reactMarker$"+mr;function om(t){delete t[Rt],delete t[Ut],delete t[Uf],delete t[a2],delete t[o2]}function Os(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sa]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hy(t);t!==null;){if(n=t[Rt])return n;t=Hy(t)}return e}t=n,n=t.parentNode}return null}function wa(t){if(t=t[Rt]||t[Sa]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function uo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Hs(t){var e=t[Pp];return e||(e=t[Pp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function lt(t){t[ul]=!0}var a0=new Set,o0={};function Xr(t,e){ra(t,e),ra(t+"Capture",e)}function ra(t,e){for(o0[t]=e,t=0;t<e.length;t++)a0.add(e[t])}var l2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lp={},Up={};function u2(t){return Lf.call(Up,t)?!0:Lf.call(Lp,t)?!1:l2.test(t)?Up[t]=!0:(Lp[t]=!0,!1)}function pu(t,e,n){if(u2(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Zl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function qn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Uh,jp;function As(t){if(Uh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uh=e&&e[1]||"",jp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+t+jp}var jh=!1;function zh(t,e){if(!t||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(v){var m=v}Reflect.construct(t,[],p)}else{try{p.call()}catch(v){m=v}t.call(p.prototype)}}else{try{throw Error()}catch(v){m=v}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=r);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?As(n):""}function c2(t){switch(t.tag){case 26:case 27:case 5:return As(t.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 15:return zh(t.type,!1);case 11:return zh(t.type.render,!1);case 1:return zh(t.type,!0);case 31:return As("Activity");default:return""}}function zp(t){try{var e="";do e+=c2(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h2(t){var e=l0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=h2(t))}function u0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=l0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var f2=/[\n"\\]/g;function rn(t){return t.replace(f2,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function jf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?zf(t,a,en(e)):n!=null?zf(t,a,en(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+en(l):t.removeAttribute("name")}function c0(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+en(n):"",e=e!=null?""+en(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function zf(t,e,n){e==="number"&&Fu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Fs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function h0(t,e,n){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+en(n):""}function f0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(lo(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=en(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var d2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||d2.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function d0(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Bp(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Bp(t,s,e[s])}function lm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(t){return g2.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bf=null;function um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Gs=null;function qp(t){var e=wa(t);if(e&&(t=e.stateNode)){var n=t[Ut]||null;e:switch(t=e.stateNode,e.type){case"input":if(jf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+rn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Ut]||null;if(!r)throw Error(U(90));jf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&u0(i)}break e;case"textarea":h0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}}}var Bh=!1;function m0(t,e,n){if(Bh)return t(e,n);Bh=!0;try{var i=t(e);return i}finally{if(Bh=!1,(ks!==null||Gs!==null)&&(Xc(),ks&&(e=ks,t=Gs,Gs=ks=null,qp(e),t)))for(e=0;e<t.length;e++)qp(t[e])}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ut]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=!1;if(ii)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){qf=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{qf=!1}var Bi=null,cm=null,_u=null;function g0(){if(_u)return _u;var t,e=cm,n=e.length,i,r="value"in Bi?Bi.value:Bi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return _u=r.slice(t,1<i?1-i:void 0)}function vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wl(){return!0}function Hp(){return!1}function zt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wl:Hp,this.isPropagationStopped=Hp,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),e}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=zt($r),cl=De({},$r,{view:0,detail:0}),p2=zt(cl),qh,Hh,to,Bc=De({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(qh=t.screenX-to.screenX,Hh=t.screenY-to.screenY):Hh=qh=0,to=t),qh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),Fp=zt(Bc),y2=De({},Bc,{dataTransfer:0}),_2=zt(y2),v2=De({},cl,{relatedTarget:0}),Fh=zt(v2),T2=De({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),E2=zt(T2),b2=De({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=zt(b2),S2=De({},$r,{data:0}),Gp=zt(S2),w2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I2[t])?!!e[t]:!1}function hm(){return C2}var x2=De({},cl,{key:function(t){if(t.key){var e=w2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(t){return t.type==="keypress"?vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N2=zt(x2),D2=De({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qp=zt(D2),O2=De({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),k2=zt(O2),M2=De({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),V2=zt(M2),P2=De({},Bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L2=zt(P2),U2=De({},$r,{newState:0,oldState:0}),j2=zt(U2),z2=[9,13,27,32],fm=ii&&"CompositionEvent"in window,yo=null;ii&&"documentMode"in document&&(yo=document.documentMode);var B2=ii&&"TextEvent"in window&&!yo,p0=ii&&(!fm||yo&&8<yo&&11>=yo),Yp=" ",Kp=!1;function y0(t,e){switch(t){case"keyup":return z2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function q2(t,e){switch(t){case"compositionend":return _0(e);case"keypress":return e.which!==32?null:(Kp=!0,Yp);case"textInput":return t=e.data,t===Yp&&Kp?null:t;default:return null}}function H2(t,e){if(Ms)return t==="compositionend"||!fm&&y0(t,e)?(t=g0(),_u=cm=Bi=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p0&&e.locale!=="ko"?null:e.data;default:return null}}var F2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F2[t.type]:e==="textarea"}function v0(t,e,n,i){ks?Gs?Gs.push(i):Gs=[i]:ks=i,e=lc(e,"onChange"),0<e.length&&(n=new zc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _o=null,Uo=null;function G2(t){hE(t,0)}function qc(t){var e=uo(t);if(u0(e))return t}function $p(t,e){if(t==="change")return e}var T0=!1;if(ii){var Gh;if(ii){var Qh="oninput"in document;if(!Qh){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Qh=typeof Zp.oninput=="function"}Gh=Qh}else Gh=!1;T0=Gh&&(!document.documentMode||9<document.documentMode)}function Wp(){_o&&(_o.detachEvent("onpropertychange",E0),Uo=_o=null)}function E0(t){if(t.propertyName==="value"&&qc(Uo)){var e=[];v0(e,Uo,t,um(t)),m0(G2,e)}}function Q2(t,e,n){t==="focusin"?(Wp(),_o=e,Uo=n,_o.attachEvent("onpropertychange",E0)):t==="focusout"&&Wp()}function Y2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(Uo)}function K2(t,e){if(t==="click")return qc(e)}function X2(t,e){if(t==="input"||t==="change")return qc(e)}function $2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zt=typeof Object.is=="function"?Object.is:$2;function jo(t,e){if(Zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Lf.call(e,r)||!Zt(t[r],e[r]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,e){var n=Jp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jp(n)}}function b0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fu(t.document)}return e}function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Z2=ii&&"documentMode"in document&&11>=document.documentMode,Vs=null,Hf=null,vo=null,Ff=!1;function ty(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||Vs==null||Vs!==Fu(i)||(i=Vs,"selectionStart"in i&&dm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vo&&jo(vo,i)||(vo=i,i=lc(Hf,"onSelect"),0<i.length&&(e=new zc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Vs)))}function Rr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ps={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Yh={},S0={};ii&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Zr(t){if(Yh[t])return Yh[t];if(!Ps[t])return t;var e=Ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S0)return Yh[t]=e[n];return t}var w0=Zr("animationend"),R0=Zr("animationiteration"),I0=Zr("animationstart"),W2=Zr("transitionrun"),J2=Zr("transitionstart"),eS=Zr("transitioncancel"),C0=Zr("transitionend"),x0=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function _n(t,e){x0.set(t,e),Xr(e,[t])}var ny=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var n=ny.get(t);return n!==void 0?n:(e={value:t,source:e,stack:zp(e)},ny.set(t,e),e)}return{value:t,source:e,stack:zp(e)}}var Jt=[],Ls=0,mm=0;function Hc(){for(var t=Ls,e=mm=Ls=0;e<t;){var n=Jt[e];Jt[e++]=null;var i=Jt[e];Jt[e++]=null;var r=Jt[e];Jt[e++]=null;var s=Jt[e];if(Jt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&N0(n,r,s)}}function Fc(t,e,n,i){Jt[Ls++]=t,Jt[Ls++]=e,Jt[Ls++]=n,Jt[Ls++]=i,mm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function gm(t,e,n,i){return Fc(t,e,n,i),Gu(t)}function Ra(t,e){return Fc(t,null,null,e),Gu(t)}function N0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Kt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Gu(t){if(50<xo)throw xo=0,fd=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Us={};function tS(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,i){return new tS(t,e,n,i)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jn(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function D0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Tu(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")pm(t)&&(a=1);else if(typeof t=="string")a=iw(t,n,Rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case kf:return t=Qt(31,n,e,r),t.elementType=kf,t.lanes=s,t;case Ns:return Mr(n.children,r,s,e);case $v:a=8,r|=24;break;case Nf:return t=Qt(12,n,e,r|2),t.elementType=Nf,t.lanes=s,t;case Df:return t=Qt(13,n,e,r),t.elementType=Df,t.lanes=s,t;case Of:return t=Qt(19,n,e,r),t.elementType=Of,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GA:case Qn:a=10;break e;case Zv:a=9;break e;case nm:a=11;break e;case im:a=14;break e;case Ni:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=Qt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Mr(t,e,n,i){return t=Qt(7,t,i,e),t.lanes=n,t}function Kh(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function Xh(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var js=[],zs=0,Qu=null,Yu=0,tn=[],nn=0,Vr=null,Yn=1,Kn="";function xr(t,e){js[zs++]=Yu,js[zs++]=Qu,Qu=t,Yu=e}function O0(t,e,n){tn[nn++]=Yn,tn[nn++]=Kn,tn[nn++]=Vr,Vr=t;var i=Yn;t=Kn;var r=32-Kt(i)-1;i&=~(1<<r),n+=1;var s=32-Kt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Yn=1<<32-Kt(e)+r|n<<r|i,Kn=s+t}else Yn=1<<s|n<<r|i,Kn=t}function ym(t){t.return!==null&&(xr(t,1),O0(t,1,0))}function _m(t){for(;t===Qu;)Qu=js[--zs],js[zs]=null,Yu=js[--zs],js[zs]=null;for(;t===Vr;)Vr=tn[--nn],tn[nn]=null,Kn=tn[--nn],tn[nn]=null,Yn=tn[--nn],tn[nn]=null}var Nt=null,Be=null,_e=!1,Pr=null,Sn=!1,Qf=Error(U(519));function zr(t){var e=Error(U(418,""));throw zo(sn(e,t)),Qf}function iy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Rt]=t,e[Ut]=i,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<Ho.length;n++)he(Ho[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),c0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Hu(e);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),f0(e,i.value,i.defaultValue,i.children),Hu(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||dE(e.textContent,n)?(i.popover!=null&&(he("beforetoggle",e),he("toggle",e)),i.onScroll!=null&&he("scroll",e),i.onScrollEnd!=null&&he("scrollend",e),i.onClick!=null&&(e.onclick=Wc),e=!0):e=!1,e||zr(t)}function ry(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Nt=Nt.return}}function no(t){if(t!==Nt)return!1;if(!_e)return ry(t),_e=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||_d(t.type,t.memoizedProps)),n=!n),n&&Be&&zr(t),ry(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Be=pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Be=null}}else e===27?(e=Be,gr(t.type)?(t=Ed,Ed=null,Be=t):Be=e):Be=Nt?pn(t.stateNode.nextSibling):null;return!0}function hl(){Be=Nt=null,_e=!1}function sy(){var t=Pr;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),Pr=null),t}function zo(t){Pr===null?Pr=[t]:Pr.push(t)}var Yf=Vn(null),Wr=null,Xn=null;function Oi(t,e,n){Pe(Yf,e._currentValue),e._currentValue=n}function ei(t){t._currentValue=Yf.current,ct(Yf)}function Kf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kf(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Kf(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function fl(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;Zt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===ju.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Qo):t=[Qo])}r=r.return}t!==null&&Xf(e,t,n,i),e.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!Zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){Wr=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function It(t){return k0(Wr,t)}function Jl(t,e){return Wr===null&&Br(t),k0(t,e)}function k0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Xn===null){if(t===null)throw Error(U(308));Xn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xn=Xn.next=e;return n}var nS=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},iS=tt.unstable_scheduleCallback,rS=tt.unstable_NormalPriority,Ze={$$typeof:Qn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new nS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&iS(rS,function(){t.controller.abort()})}var To=null,$f=0,aa=0,Qs=null;function sS(t,e){if(To===null){var n=To=[];$f=0,aa=qm(),Qs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return $f++,e.then(ay,ay),e}function ay(){if(--$f===0&&To!==null){Qs!==null&&(Qs.status="fulfilled");var t=To;To=null,aa=0,Qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function aS(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var oy=ee.S;ee.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&sS(t,e),oy!==null&&oy(t,e)};var Lr=Vn(null);function Tm(){var t=Lr.current;return t!==null?t:xe.pooledCache}function Eu(t,e){e===null?Pe(Lr,Lr.current):Pe(Lr,e.pool)}function M0(){var t=Tm();return t===null?null:{parent:Ze._currentValue,pool:t}}var ml=Error(U(460)),V0=Error(U(474)),Gc=Error(U(542)),Zf={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eu(){}function P0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(eu,eu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cy(t),t;default:if(typeof e.status=="string")e.then(eu,eu);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cy(t),t}throw Eo=e,ml}}var Eo=null;function uy(){if(Eo===null)throw Error(U(459));var t=Eo;return Eo=null,t}function cy(t){if(t===ml||t===Gc)throw Error(U(483))}var Di=!1;function Em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,be&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Gu(t),N0(t,null,n),e}return Fc(t,i,e,n),Gu(t)}function bo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,r0(t,n)}}function $h(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Jf=!1;function Ao(){if(Jf){var t=Qs;if(t!==null)throw t}}function So(t,e,n,i){Jf=!1;var r=t.updateQueue;Di=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,v=m!==l.lane;if(v?(pe&m)===m:(i&m)===m){m!==0&&m===aa&&(Jf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var D=t,M=l;m=e;var k=n;switch(M.tag){case 1:if(D=M.payload,typeof D=="function"){p=D.call(k,p,m);break e}p=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,m=typeof D=="function"?D.call(k,p,m):D,m==null)break e;p=De({},p,m);break e;case 2:Di=!0}}m=l.callback,m!==null&&(t.flags|=64,v&&(t.flags|=8192),v=r.callbacks,v===null?r.callbacks=[m]:v.push(m))}else v={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=v,u=p):d=d.next=v,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;v=l,l=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),ar|=a,t.lanes=a,t.memoizedState=p}}function L0(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function U0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)L0(n[t],e)}var oa=Vn(null),Xu=Vn(0);function hy(t,e){t=ai,Pe(Xu,t),Pe(oa,e),ai=t|e.baseLanes}function ed(){Pe(Xu,ai),Pe(oa,oa.current)}function bm(){ai=Xu.current,ct(oa),ct(Xu)}var rr=0,ue=null,Se=null,Ke=null,$u=!1,Ys=!1,qr=!1,Zu=0,Bo=0,Ks=null,oS=0;function He(){throw Error(U(321))}function Am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zt(t[n],e[n]))return!1;return!0}function Sm(t,e,n,i,r,s){return rr=s,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?gT:pT,qr=!1,s=n(i,r),qr=!1,Ys&&(s=z0(e,n,i,r)),j0(t),s}function j0(t){ee.H=Wu;var e=Se!==null&&Se.next!==null;if(rr=0,Ke=Se=ue=null,$u=!1,Bo=0,Ks=null,e)throw Error(U(300));t===null||ut||(t=t.dependencies,t!==null&&Ku(t)&&(ut=!0))}function z0(t,e,n,i){ue=t;var r=0;do{if(Ys&&(Ks=null),Bo=0,Ys=!1,25<=r)throw Error(U(301));if(r+=1,Ke=Se=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ee.H=mS,s=e(n,i)}while(Ys);return s}function lS(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?gl(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(ue.flags|=1024),e}function wm(){var t=Zu!==0;return Zu=0,t}function Rm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Im(t){if($u){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$u=!1}rr=0,Ke=Se=ue=null,Ys=!1,Bo=Zu=0,Ks=null}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ue.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function $e(){if(Se===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ke===null?ue.memoizedState:Ke.next;if(e!==null)Ke=e,Se=t;else{if(t===null)throw ue.alternate===null?Error(U(467)):Error(U(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ke===null?ue.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var e=Bo;return Bo+=1,Ks===null&&(Ks=[]),t=P0(Ks,t,e),e=ue,(Ke===null?e.memoizedState:Ke.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?gT:pT),t}function Qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===Qn)return It(t)}throw Error(U(438,String(t)))}function xm(t){var e=null,n=ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Cm(),ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=QA;return e.index++,n}function ri(t,e){return typeof e=="function"?e(t):e}function bu(t){var e=$e();return Nm(e,Se,t)}function Nm(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,h=e,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(pe&p)===p:(rr&p)===p){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===aa&&(d=!0);else if((rr&m)===m){h=h.next,m===aa&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,ue.lanes|=m,ar|=m;p=h.action,qr&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else m={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ue.lanes|=p,ar|=p;h=h.next}while(h!==null&&h!==e);if(u===null?a=s:u.next=l,!Zt(s,t.memoizedState)&&(ut=!0,d&&(n=Qs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Zh(t){var e=$e(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Zt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function B0(t,e,n){var i=ue,r=$e(),s=_e;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!Zt((Se||r).memoizedState,n);a&&(r.memoizedState=n,ut=!0),r=r.queue;var l=F0.bind(null,i,r,t);if(pl(2048,8,l,[t]),r.getSnapshot!==e||a||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,la(9,Yc(),H0.bind(null,i,r,n,e),null),xe===null)throw Error(U(349));s||rr&124||q0(i,e,n)}return n}function q0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e=Cm(),ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H0(t,e,n,i){e.value=n,e.getSnapshot=i,G0(e)&&Q0(t)}function F0(t,e,n){return n(function(){G0(e)&&Q0(t)})}function G0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zt(t,n)}catch{return!0}}function Q0(t){var e=Ra(t,2);e!==null&&$t(e,t,2)}function td(t){var e=kt();if(typeof t=="function"){var n=t;if(t=n(),qr){zi(!0);try{n()}finally{zi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},e}function Y0(t,e,n,i){return t.baseState=n,Nm(t,Se,typeof i=="function"?i:ri)}function uS(t,e,n,i,r){if(Kc(t))throw Error(U(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ee.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,K0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function K0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=ee.T,a={};ee.T=a;try{var l=n(r,i),u=ee.S;u!==null&&u(a,l),fy(t,e,l)}catch(h){nd(t,e,h)}finally{ee.T=s}}else try{s=n(r,i),fy(t,e,s)}catch(h){nd(t,e,h)}}function fy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){dy(t,e,i)},function(i){return nd(t,e,i)}):dy(t,e,n)}function dy(t,e,n){e.status="fulfilled",e.value=n,X0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,K0(t,n)))}function nd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,X0(e),e=e.next;while(e!==i)}t.action=null}function X0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function $0(t,e){return e}function my(t,e){if(_e){var n=xe.formState;if(n!==null){e:{var i=ue;if(_e){if(Be){t:{for(var r=Be,s=Sn;r.nodeType!==8;){if(!s){r=null;break t}if(r=pn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Be=pn(r.nextSibling),i=r.data==="F!";break e}}zr(i)}i=!1}i&&(e=n[0])}}return n=kt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:e},n.queue=i,n=fT.bind(null,ue,i),i.dispatch=n,i=td(!1),s=Mm.bind(null,ue,!1,i.queue),i=kt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=uS.bind(null,ue,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function gy(t){var e=$e();return Z0(e,Se,t)}function Z0(t,e,n){if(e=Nm(t,e,$0)[0],t=bu(ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=gl(e)}catch(a){throw a===ml?Gc:a}else i=e;e=$e();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ue.flags|=2048,la(9,Yc(),cS.bind(null,r,n),null)),[i,s,t]}function cS(t,e){t.action=e}function py(t){var e=$e(),n=Se;if(n!==null)return Z0(e,n,t);$e(),e=e.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function la(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ue.updateQueue,e===null&&(e=Cm(),ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Yc(){return{destroy:void 0,resource:void 0}}function W0(){return $e().memoizedState}function Au(t,e,n,i){var r=kt();i=i===void 0?null:i,ue.flags|=t,r.memoizedState=la(1|e,Yc(),n,i)}function pl(t,e,n,i){var r=$e();i=i===void 0?null:i;var s=r.memoizedState.inst;Se!==null&&i!==null&&Am(i,Se.memoizedState.deps)?r.memoizedState=la(e,s,n,i):(ue.flags|=t,r.memoizedState=la(1|e,s,n,i))}function yy(t,e){Au(8390656,8,t,e)}function J0(t,e){pl(2048,8,t,e)}function eT(t,e){return pl(4,2,t,e)}function tT(t,e){return pl(4,4,t,e)}function nT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iT(t,e,n){n=n!=null?n.concat([t]):null,pl(4,4,nT.bind(null,e,t),n)}function Dm(){}function rT(t,e){var n=$e();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Am(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=$e();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Am(e,i[1]))return i[0];if(i=t(),qr){zi(!0);try{t()}finally{zi(!1)}}return n.memoizedState=[i,e],i}function Om(t,e,n){return n===void 0||rr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=XT(),ue.lanes|=t,ar|=t,n)}function aT(t,e,n,i){return Zt(n,e)?n:oa.current!==null?(t=Om(t,n,i),Zt(t,e)||(ut=!0),t):rr&42?(t=XT(),ue.lanes|=t,ar|=t,e):(ut=!0,t.memoizedState=n)}function oT(t,e,n,i,r){var s=ve.p;ve.p=s!==0&&8>s?s:8;var a=ee.T,l={};ee.T=l,Mm(t,!1,e,n);try{var u=r(),h=ee.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=aS(u,i);wo(t,e,d,Xt(t))}else wo(t,e,i,Xt(t))}catch(p){wo(t,e,{then:function(){},status:"rejected",reason:p},Xt())}finally{ve.p=s,ee.T=a}}function hS(){}function id(t,e,n,i){if(t.tag!==5)throw Error(U(476));var r=lT(t).queue;oT(t,r,e,kr,n===null?hS:function(){return uT(t),n(i)})}function lT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:kr,baseState:kr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:kr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function uT(t){var e=lT(t).next.queue;wo(t,e,{},Xt())}function km(){return It(Qo)}function cT(){return $e().memoizedState}function hT(){return $e().memoizedState}function fS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Xt();t=Qi(n);var i=Yi(e,t,n);i!==null&&($t(i,e,n),bo(i,e,n)),e={cache:vm()},t.payload=e;return}e=e.return}}function dS(t,e,n){var i=Xt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Kc(t)?dT(e,n):(n=gm(t,e,n,i),n!==null&&($t(n,t,i),mT(n,e,i)))}function fT(t,e,n){var i=Xt();wo(t,e,n,i)}function wo(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kc(t))dT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Zt(l,a))return Fc(t,e,r,0),xe===null&&Hc(),!1}catch{}finally{}if(n=gm(t,e,r,i),n!==null)return $t(n,t,i),mT(n,e,i),!0}return!1}function Mm(t,e,n,i){if(i={lane:2,revertLane:qm(),action:i,hasEagerState:!1,eagerState:null,next:null},Kc(t)){if(e)throw Error(U(479))}else e=gm(t,n,i,2),e!==null&&$t(e,t,2)}function Kc(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function dT(t,e){Ys=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,r0(t,n)}}var Wu={readContext:It,use:Qc,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},gT={readContext:It,use:Qc,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:yy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Au(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Au(4194308,4,t,e)},useInsertionEffect:function(t,e){Au(4,2,t,e)},useMemo:function(t,e){var n=kt();e=e===void 0?null:e;var i=t();if(qr){zi(!0);try{t()}finally{zi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=kt();if(n!==void 0){var r=n(e);if(qr){zi(!0);try{n(e)}finally{zi(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=dS.bind(null,ue,t),[i.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:function(t){t=td(t);var e=t.queue,n=fT.bind(null,ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Dm,useDeferredValue:function(t,e){var n=kt();return Om(n,t,e)},useTransition:function(){var t=td(!1);return t=oT.bind(null,ue,t.queue,!0,!1),kt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ue,r=kt();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),xe===null)throw Error(U(349));pe&124||q0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,yy(F0.bind(null,i,s,t),[t]),i.flags|=2048,la(9,Yc(),H0.bind(null,i,s,n,e),null),n},useId:function(){var t=kt(),e=xe.identifierPrefix;if(_e){var n=Kn,i=Yn;n=(i&~(1<<32-Kt(i)-1)).toString(32)+n,e=""+e+"R"+n,n=Zu++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=oS++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:km,useFormState:my,useActionState:my,useOptimistic:function(t){var e=kt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Mm.bind(null,ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:xm,useCacheRefresh:function(){return kt().memoizedState=fS.bind(null,ue)}},pT={readContext:It,use:Qc,useCallback:rT,useContext:It,useEffect:J0,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:bu,useRef:W0,useState:function(){return bu(ri)},useDebugValue:Dm,useDeferredValue:function(t,e){var n=$e();return aT(n,Se.memoizedState,t,e)},useTransition:function(){var t=bu(ri)[0],e=$e().memoizedState;return[typeof t=="boolean"?t:gl(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:km,useFormState:gy,useActionState:gy,useOptimistic:function(t,e){var n=$e();return Y0(n,Se,t,e)},useMemoCache:xm,useCacheRefresh:hT},mS={readContext:It,use:Qc,useCallback:rT,useContext:It,useEffect:J0,useImperativeHandle:iT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:Zh,useRef:W0,useState:function(){return Zh(ri)},useDebugValue:Dm,useDeferredValue:function(t,e){var n=$e();return Se===null?Om(n,t,e):aT(n,Se.memoizedState,t,e)},useTransition:function(){var t=Zh(ri)[0],e=$e().memoizedState;return[typeof t=="boolean"?t:gl(t),e]},useSyncExternalStore:B0,useId:cT,useHostTransitionStatus:km,useFormState:py,useActionState:py,useOptimistic:function(t,e){var n=$e();return Se!==null?Y0(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:xm,useCacheRefresh:hT},Xs=null,qo=0;function tu(t){var e=qo;return qo+=1,Xs===null&&(Xs=[]),P0(Xs,t,e)}function io(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nu(t,e){throw e.$$typeof===FA?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function _y(t){var e=t._init;return e(t._payload)}function yT(t){function e(w,A){if(t){var R=w.deletions;R===null?(w.deletions=[A],w.flags|=16):R.push(A)}}function n(w,A){if(!t)return null;for(;A!==null;)e(w,A),A=A.sibling;return null}function i(w){for(var A=new Map;w!==null;)w.key!==null?A.set(w.key,w):A.set(w.index,w),w=w.sibling;return A}function r(w,A){return w=Jn(w,A),w.index=0,w.sibling=null,w}function s(w,A,R){return w.index=R,t?(R=w.alternate,R!==null?(R=R.index,R<A?(w.flags|=67108866,A):R):(w.flags|=67108866,A)):(w.flags|=1048576,A)}function a(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function l(w,A,R,N){return A===null||A.tag!==6?(A=Kh(R,w.mode,N),A.return=w,A):(A=r(A,R),A.return=w,A)}function u(w,A,R,N){var j=R.type;return j===Ns?d(w,A,R.props.children,N,R.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ni&&_y(j)===A.type)?(A=r(A,R.props),io(A,R),A.return=w,A):(A=Tu(R.type,R.key,R.props,null,w.mode,N),io(A,R),A.return=w,A)}function h(w,A,R,N){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=Xh(R,w.mode,N),A.return=w,A):(A=r(A,R.children||[]),A.return=w,A)}function d(w,A,R,N,j){return A===null||A.tag!==7?(A=Mr(R,w.mode,N,j),A.return=w,A):(A=r(A,R),A.return=w,A)}function p(w,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Kh(""+A,w.mode,R),A.return=w,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Kl:return R=Tu(A.type,A.key,A.props,null,w.mode,R),io(R,A),R.return=w,R;case oo:return A=Xh(A,w.mode,R),A.return=w,A;case Ni:var N=A._init;return A=N(A._payload),p(w,A,R)}if(lo(A)||Ja(A))return A=Mr(A,w.mode,R,null),A.return=w,A;if(typeof A.then=="function")return p(w,tu(A),R);if(A.$$typeof===Qn)return p(w,Jl(w,A),R);nu(w,A)}return null}function m(w,A,R,N){var j=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return j!==null?null:l(w,A,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Kl:return R.key===j?u(w,A,R,N):null;case oo:return R.key===j?h(w,A,R,N):null;case Ni:return j=R._init,R=j(R._payload),m(w,A,R,N)}if(lo(R)||Ja(R))return j!==null?null:d(w,A,R,N,null);if(typeof R.then=="function")return m(w,A,tu(R),N);if(R.$$typeof===Qn)return m(w,A,Jl(w,R),N);nu(w,R)}return null}function v(w,A,R,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(R)||null,l(A,w,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Kl:return w=w.get(N.key===null?R:N.key)||null,u(A,w,N,j);case oo:return w=w.get(N.key===null?R:N.key)||null,h(A,w,N,j);case Ni:var O=N._init;return N=O(N._payload),v(w,A,R,N,j)}if(lo(N)||Ja(N))return w=w.get(R)||null,d(A,w,N,j,null);if(typeof N.then=="function")return v(w,A,R,tu(N),j);if(N.$$typeof===Qn)return v(w,A,R,Jl(A,N),j);nu(A,N)}return null}function D(w,A,R,N){for(var j=null,O=null,E=A,y=A=0,b=null;E!==null&&y<R.length;y++){E.index>y?(b=E,E=null):b=E.sibling;var S=m(w,E,R[y],N);if(S===null){E===null&&(E=b);break}t&&E&&S.alternate===null&&e(w,E),A=s(S,A,y),O===null?j=S:O.sibling=S,O=S,E=b}if(y===R.length)return n(w,E),_e&&xr(w,y),j;if(E===null){for(;y<R.length;y++)E=p(w,R[y],N),E!==null&&(A=s(E,A,y),O===null?j=E:O.sibling=E,O=E);return _e&&xr(w,y),j}for(E=i(E);y<R.length;y++)b=v(E,w,y,R[y],N),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?y:b.key),A=s(b,A,y),O===null?j=b:O.sibling=b,O=b);return t&&E.forEach(function(I){return e(w,I)}),_e&&xr(w,y),j}function M(w,A,R,N){if(R==null)throw Error(U(151));for(var j=null,O=null,E=A,y=A=0,b=null,S=R.next();E!==null&&!S.done;y++,S=R.next()){E.index>y?(b=E,E=null):b=E.sibling;var I=m(w,E,S.value,N);if(I===null){E===null&&(E=b);break}t&&E&&I.alternate===null&&e(w,E),A=s(I,A,y),O===null?j=I:O.sibling=I,O=I,E=b}if(S.done)return n(w,E),_e&&xr(w,y),j;if(E===null){for(;!S.done;y++,S=R.next())S=p(w,S.value,N),S!==null&&(A=s(S,A,y),O===null?j=S:O.sibling=S,O=S);return _e&&xr(w,y),j}for(E=i(E);!S.done;y++,S=R.next())S=v(E,w,y,S.value,N),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?y:S.key),A=s(S,A,y),O===null?j=S:O.sibling=S,O=S);return t&&E.forEach(function(C){return e(w,C)}),_e&&xr(w,y),j}function k(w,A,R,N){if(typeof R=="object"&&R!==null&&R.type===Ns&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Kl:e:{for(var j=R.key;A!==null;){if(A.key===j){if(j=R.type,j===Ns){if(A.tag===7){n(w,A.sibling),N=r(A,R.props.children),N.return=w,w=N;break e}}else if(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ni&&_y(j)===A.type){n(w,A.sibling),N=r(A,R.props),io(N,R),N.return=w,w=N;break e}n(w,A);break}else e(w,A);A=A.sibling}R.type===Ns?(N=Mr(R.props.children,w.mode,N,R.key),N.return=w,w=N):(N=Tu(R.type,R.key,R.props,null,w.mode,N),io(N,R),N.return=w,w=N)}return a(w);case oo:e:{for(j=R.key;A!==null;){if(A.key===j)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){n(w,A.sibling),N=r(A,R.children||[]),N.return=w,w=N;break e}else{n(w,A);break}else e(w,A);A=A.sibling}N=Xh(R,w.mode,N),N.return=w,w=N}return a(w);case Ni:return j=R._init,R=j(R._payload),k(w,A,R,N)}if(lo(R))return D(w,A,R,N);if(Ja(R)){if(j=Ja(R),typeof j!="function")throw Error(U(150));return R=j.call(R),M(w,A,R,N)}if(typeof R.then=="function")return k(w,A,tu(R),N);if(R.$$typeof===Qn)return k(w,A,Jl(w,R),N);nu(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(n(w,A.sibling),N=r(A,R),N.return=w,w=N):(n(w,A),N=Kh(R,w.mode,N),N.return=w,w=N),a(w)):n(w,A)}return function(w,A,R,N){try{qo=0;var j=k(w,A,R,N);return Xs=null,j}catch(E){if(E===ml||E===Gc)throw E;var O=Qt(29,E,null,w.mode);return O.lanes=N,O.return=w,O}finally{}}}var ua=yT(!0),_T=yT(!1),cn=Vn(null),Cn=null;function ki(t){var e=t.alternate;Pe(We,We.current&1),Pe(cn,t),Cn===null&&(e===null||oa.current!==null||e.memoizedState!==null)&&(Cn=t)}function vT(t){if(t.tag===22){if(Pe(We,We.current),Pe(cn,t),Cn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Cn=t)}}else Mi()}function Mi(){Pe(We,We.current),Pe(cn,cn.current)}function $n(t){ct(cn),Cn===t&&(Cn=null),ct(We)}var We=Vn(0);function Ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Td(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Wh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Xt(),r=Qi(i);r.payload=e,n!=null&&(r.callback=n),e=Yi(t,r,i),e!==null&&($t(e,t,i),bo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Xt(),r=Qi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Yi(t,r,i),e!==null&&($t(e,t,i),bo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),i=Qi(n);i.tag=2,e!=null&&(i.callback=e),e=Yi(t,i,n),e!==null&&($t(e,t,n),bo(e,t,n))}};function vy(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!jo(n,i)||!jo(r,s):!0}function Ty(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&rd.enqueueReplaceState(e,e.state,null)}function Hr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=De({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function TT(t){ec(t)}function ET(t){console.error(t)}function bT(t){ec(t)}function tc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Ey(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function sd(t,e,n){return n=Qi(n),n.tag=3,n.payload={element:null},n.callback=function(){tc(t,e)},n}function AT(t){return t=Qi(t),t.tag=3,t}function ST(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){Ey(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Ey(e,n,i),typeof r!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function gS(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&fl(e,n,r,!0),n=cn.current,n!==null){switch(n.tag){case 13:return Cn===null?dd():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Zf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),cf(t,i,r)),!1;case 22:return n.flags|=65536,i===Zf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),cf(t,i,r)),!1}throw Error(U(435,n.tag))}return cf(t,i,r),dd(),!1}if(_e)return e=cn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Qf&&(t=Error(U(422),{cause:i}),zo(sn(t,n)))):(i!==Qf&&(e=Error(U(423),{cause:i}),zo(sn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=sn(i,n),r=sd(t.stateNode,i,r),$h(t,r),qe!==4&&(qe=2)),!1;var s=Error(U(520),{cause:i});if(s=sn(s,n),Co===null?Co=[s]:Co.push(s),qe!==4&&(qe=2),e===null)return!0;i=sn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=sd(n.stateNode,i,t),$h(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ki===null||!Ki.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=AT(r),ST(r,t,n,i),$h(n,r),!1}n=n.return}while(n!==null);return!1}var wT=Error(U(461)),ut=!1;function dt(t,e,n,i){e.child=t===null?_T(e,null,n,i):ua(e,t.child,n,i)}function by(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Br(e),i=Sm(t,e,n,a,s,r),l=wm(),t!==null&&!ut?(Rm(t,e,r),si(t,e,r)):(_e&&l&&ym(e),e.flags|=1,dt(t,e,i,r),e.child)}function Ay(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!pm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,RT(t,e,s,i,r)):(t=Tu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Vm(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(a,i)&&t.ref===e.ref)return si(t,e,r)}return e.flags|=1,t=Jn(s,i),t.ref=e.ref,t.return=e,e.child=t}function RT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(jo(s,i)&&t.ref===e.ref)if(ut=!1,e.pendingProps=i=s,Vm(t,r))t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,si(t,e,r)}return ad(t,e,n,i,r)}function IT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Sy(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(e,s!==null?s.cachePool:null),s!==null?hy(e,s):ed(),vT(e);else return e.lanes=e.childLanes=536870912,Sy(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Eu(e,s.cachePool),hy(e,s),Mi(),e.memoizedState=null):(t!==null&&Eu(e,null),ed(),Mi());return dt(t,e,r,n),e.child}function Sy(t,e,n,i){var r=Tm();return r=r===null?null:{parent:Ze._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Eu(e,null),ed(),vT(e),t!==null&&fl(t,e,i,!0),null}function Su(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ad(t,e,n,i,r){return Br(e),n=Sm(t,e,n,i,void 0,r),i=wm(),t!==null&&!ut?(Rm(t,e,r),si(t,e,r)):(_e&&i&&ym(e),e.flags|=1,dt(t,e,n,r),e.child)}function wy(t,e,n,i,r,s){return Br(e),e.updateQueue=null,n=z0(e,i,n,r),j0(t),i=wm(),t!==null&&!ut?(Rm(t,e,s),si(t,e,s)):(_e&&i&&ym(e),e.flags|=1,dt(t,e,n,s),e.child)}function Ry(t,e,n,i,r){if(Br(e),e.stateNode===null){var s=Us,a=n.contextType;typeof a=="object"&&a!==null&&(s=It(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Em(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?It(a):Us,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Wh(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&rd.enqueueReplaceState(s,s.state,null),So(e,i,s,r),Ao(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=Hr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Us,typeof d=="object"&&d!==null&&(a=It(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Ty(e,s,i,a),Di=!1;var m=e.memoizedState;s.state=m,So(e,i,s,r),Ao(),h=e.memoizedState,l||m!==h||Di?(typeof p=="function"&&(Wh(e,n,p,i),h=e.memoizedState),(u=Di||vy(e,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Wf(t,e),a=e.memoizedProps,d=Hr(n,a),s.props=d,p=e.pendingProps,m=s.context,h=n.contextType,u=Us,typeof h=="object"&&h!==null&&(u=It(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Ty(e,s,i,u),Di=!1,m=e.memoizedState,s.state=m,So(e,i,s,r),Ao();var v=e.memoizedState;a!==p||m!==v||Di||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof l=="function"&&(Wh(e,n,l,i),v=e.memoizedState),(d=Di||vy(e,n,d,i,m,v,u)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),s.props=i,s.state=v,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Su(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=ua(e,t.child,null,r),e.child=ua(e,null,n,r)):dt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=si(t,e,r),t}function Iy(t,e,n,i){return hl(),e.flags|=256,dt(t,e,n,i),e.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:M0()}}function tf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=un),t}function CT(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(_e){if(r?ki(e):Mi(),_e){var l=Be,u;if(u=l){e:{for(u=l,l=Sn;u.nodeType!==8;){if(!l){l=null;break e}if(u=pn(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:Vr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},u=Qt(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Nt=e,Be=null,u=!0):u=!1}u||zr(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Td(l)?e.lanes=32:e.lanes=536870912,null;$n(e)}return l=i.children,i=i.fallback,r?(Mi(),r=e.mode,l=nc({mode:"hidden",children:l},r),i=Mr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,r=e.child,r.memoizedState=ef(n),r.childLanes=tf(t,a,n),e.memoizedState=Jh,i):(ki(e),od(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(ki(e),e.flags&=-257,e=nf(t,e,n)):e.memoizedState!==null?(Mi(),e.child=t.child,e.flags|=128,e=null):(Mi(),r=i.fallback,l=e.mode,i=nc({mode:"visible",children:i.children},l),r=Mr(r,l,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,ua(e,t.child,null,n),i=e.child,i.memoizedState=ef(n),i.childLanes=tf(t,a,n),e.memoizedState=Jh,e=r);else if(ki(e),Td(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,zo({value:i,source:null,stack:null}),e=nf(t,e,n)}else if(ut||fl(t,e,n,!1),a=(n&t.childLanes)!==0,ut||a){if(a=xe,a!==null&&(i=n&-n,i=i&42?1:sm(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ra(t,i),$t(a,t,i),wT;l.data==="$?"||dd(),e=nf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Be=pn(l.nextSibling),Nt=e,_e=!0,Pr=null,Sn=!1,t!==null&&(tn[nn++]=Yn,tn[nn++]=Kn,tn[nn++]=Vr,Yn=t.id,Kn=t.overflow,Vr=e),e=od(e,i.children),e.flags|=4096);return e}return r?(Mi(),r=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=Jn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Jn(h,r):(r=Mr(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l===null?l=ef(n):(u=l.cachePool,u!==null?(h=Ze._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=M0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=tf(t,a,n),e.memoizedState=Jh,i):(ki(e),n=t.child,t=n.sibling,n=Jn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function od(t,e){return e=nc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function nc(t,e){return t=Qt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,e,n){return ua(e,t.child,null,n),t=od(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Kf(t.return,e,n)}function rf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function xT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(dt(t,e,i.children,n),i=We.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,n,e);else if(t.tag===19)Cy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Pe(We,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ju(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),rf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ju(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}rf(e,!0,n,null,s);break;case"together":rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ar|=e.lanes,!(n&e.childLanes))if(t!==null){if(fl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function pS(t,e,n){switch(e.tag){case 3:zu(e,e.stateNode.containerInfo),Oi(e,Ze,t.memoizedState.cache),hl();break;case 27:case 5:Pf(e);break;case 4:zu(e,e.stateNode.containerInfo);break;case 10:Oi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(ki(e),e.flags|=128,null):n&e.child.childLanes?CT(t,e,n):(ki(e),t=si(t,e,n),t!==null?t.sibling:null);ki(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(fl(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return xT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pe(We,We.current),i)break;return null;case 22:case 23:return e.lanes=0,IT(t,e,n);case 24:Oi(e,Ze,t.memoizedState.cache)}return si(t,e,n)}function NT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ut=!0;else{if(!Vm(t,n)&&!(e.flags&128))return ut=!1,pS(t,e,n);ut=!!(t.flags&131072)}else ut=!1,_e&&e.flags&1048576&&O0(e,Yu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")pm(i)?(t=Hr(i,t),e.tag=1,e=Ry(null,e,i,t,n)):(e.tag=0,e=ad(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===nm){e.tag=11,e=by(null,e,i,t,n);break e}else if(r===im){e.tag=14,e=Ay(null,e,i,t,n);break e}}throw e=Mf(i)||i,Error(U(306,e,""))}}return e;case 0:return ad(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Hr(i,e.pendingProps),Ry(t,e,i,r,n);case 3:e:{if(zu(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,Wf(t,e),So(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Oi(e,Ze,i),i!==s.cache&&Xf(e,[Ze],n,!0),Ao(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Iy(t,e,i,n);break e}else if(i!==r){r=sn(Error(U(424)),e),zo(r),e=Iy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=pn(t.firstChild),Nt=e,_e=!0,Pr=null,Sn=!0,n=_T(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(hl(),i===r){e=si(t,e,n);break e}dt(t,e,i,n)}e=e.child}return e;case 26:return Su(t,e),t===null?(n=Gy(e.type,null,e.pendingProps,null))?e.memoizedState=n:_e||(n=e.type,t=e.pendingProps,i=uc(Gi.current).createElement(n),i[Rt]=e,i[Ut]=t,yt(i,n,t),lt(i),e.stateNode=i):e.memoizedState=Gy(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Pf(e),t===null&&_e&&(i=e.stateNode=pE(e.type,e.pendingProps,Gi.current),Nt=e,Sn=!0,r=Be,gr(e.type)?(Ed=r,Be=pn(i.firstChild)):Be=r),dt(t,e,e.pendingProps.children,n),Su(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&_e&&((r=i=Be)&&(i=FS(i,e.type,e.pendingProps,Sn),i!==null?(e.stateNode=i,Nt=e,Be=pn(i.firstChild),Sn=!1,r=!0):r=!1),r||zr(e)),Pf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,_d(r,s)?i=null:a!==null&&_d(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Sm(t,e,lS,null,null,n),Qo._currentValue=r),Su(t,e),dt(t,e,i,n),e.child;case 6:return t===null&&_e&&((t=n=Be)&&(n=GS(n,e.pendingProps,Sn),n!==null?(e.stateNode=n,Nt=e,Be=null,t=!0):t=!1),t||zr(e)),null;case 13:return CT(t,e,n);case 4:return zu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ua(e,null,i,n):dt(t,e,i,n),e.child;case 11:return by(t,e,e.type,e.pendingProps,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Oi(e,e.type,i.value),dt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Br(e),r=It(r),i=i(r),e.flags|=1,dt(t,e,i,n),e.child;case 14:return Ay(t,e,e.type,e.pendingProps,n);case 15:return RT(t,e,e.type,e.pendingProps,n);case 19:return xT(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=nc(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Jn(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return IT(t,e,n);case 24:return Br(e),i=It(Ze),t===null?(r=Tm(),r===null&&(r=xe,s=vm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Em(e),Oi(e,Ze,r)):(t.lanes&n&&(Wf(t,e),So(e,null,null,n),Ao()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Oi(e,Ze,i)):(i=s.cache,Oi(e,Ze,i),i!==r.cache&&Xf(e,[Ze],n,!0))),dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Hn(t){t.flags|=4}function xy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!vE(e)){if(e=cn.current,e!==null&&((pe&4194048)===pe?Cn!==null:(pe&62914560)!==pe&&!(pe&536870912)||e!==Cn))throw Eo=Zf,V0;t.flags|=8192}}function iu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?n0():536870912,t.lanes|=e,ca|=e)}function ro(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function yS(t,e,n){var i=e.pendingProps;switch(_m(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return Le(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ei(Ze),ia(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(no(e)?Hn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sy())),Le(e),null;case 26:return n=e.memoizedState,t===null?(Hn(e),n!==null?(Le(e),xy(e,n)):(Le(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Hn(e),Le(e),xy(e,n)):(Le(e),e.flags&=-16777217):(t.memoizedProps!==i&&Hn(e),Le(e),e.flags&=-16777217),null;case 27:Bu(e),n=Gi.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Le(e),null}t=Rn.current,no(e)?iy(e):(t=pE(r,i,n),e.stateNode=t,Hn(e))}return Le(e),null;case 5:if(Bu(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Le(e),null}if(t=Rn.current,no(e))iy(e);else{switch(r=uc(Gi.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Rt]=e,t[Ut]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(yt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hn(e)}}return Le(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=Gi.current,no(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Nt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Rt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||dE(t.nodeValue,n)),t||zr(e)}else t=uc(t).createTextNode(i),t[Rt]=e,e.stateNode=t}return Le(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=no(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(U(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[Rt]=e}else hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),r=!1}else r=sy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?($n(e),e):($n(e),null)}if($n(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),iu(e,e.updateQueue),Le(e),null;case 4:return ia(),t===null&&Hm(e.stateNode.containerInfo),Le(e),null;case 10:return ei(e.type),Le(e),null;case 19:if(ct(We),r=e.memoizedState,r===null)return Le(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)ro(r,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ju(t),s!==null){for(e.flags|=128,ro(r,!1),t=s.updateQueue,e.updateQueue=t,iu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)D0(n,t),n=n.sibling;return Pe(We,We.current&1|2),e.child}t=t.sibling}r.tail!==null&&In()>rc&&(e.flags|=128,i=!0,ro(r,!1),e.lanes=4194304)}else{if(!i)if(t=Ju(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,iu(e,t),ro(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!_e)return Le(e),null}else 2*In()-r.renderingStartTime>rc&&n!==536870912&&(e.flags|=128,i=!0,ro(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=In(),e.sibling=null,t=We.current,Pe(We,i?t&1|2:t&1),e):(Le(e),null);case 22:case 23:return $n(e),bm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),n=e.updateQueue,n!==null&&iu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ct(Lr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ei(Ze),Le(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function _S(t,e){switch(_m(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(Ze),ia(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bu(e),null;case 13:if($n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(We),null;case 4:return ia(),null;case 10:return ei(e.type),null;case 22:case 23:return $n(e),bm(),t!==null&&ct(Lr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ei(Ze),null;case 25:return null;default:return null}}function DT(t,e){switch(_m(e),e.tag){case 3:ei(Ze),ia();break;case 26:case 27:case 5:Bu(e);break;case 4:ia();break;case 13:$n(e);break;case 19:ct(We);break;case 10:ei(e.type);break;case 22:case 23:$n(e),bm(),t!==null&&ct(Lr);break;case 24:ei(Ze)}}function yl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Ie(e,e.return,l)}}function sr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,h=l;try{h()}catch(d){Ie(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Ie(e,e.return,d)}}function OT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{U0(e,n)}catch(i){Ie(t,t.return,i)}}}function kT(t,e,n){n.props=Hr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ie(t,e,i)}}function Ro(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){Ie(t,e,r)}}function wn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Ie(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function MT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ie(t,t.return,r)}}function sf(t,e,n){try{var i=t.stateNode;jS(i,t.type,n,e),i[Ut]=e}catch(r){Ie(t,t.return,r)}}function VT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(i!==4&&(i===27&&gr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ld(t,e,n),t=t.sibling;t!==null;)ld(t,e,n),t=t.sibling}function ic(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&gr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}function PT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);yt(e,i,n),e[Rt]=t,e[Ut]=n}catch(s){Ie(t,t.return,s)}}var Gn=!1,Fe=!1,of=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,ot=null;function vS(t,e){if(t=t.containerInfo,pd=dc,t=A0(t),dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var v;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:t,selectionRange:n},dc=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){switch(e=ot,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var D=Hr(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(D,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(M){Ie(n,n.return,M)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)vd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}}function LT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(t,n),i&4&&yl(5,n);break;case 1:if(Ri(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ie(n,n.return,a)}else{var r=Hr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ie(n,n.return,a)}}i&64&&OT(n),i&512&&Ro(n,n.return);break;case 3:if(Ri(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{U0(t,e)}catch(a){Ie(n,n.return,a)}}break;case 27:e===null&&i&4&&PT(n);case 26:case 5:Ri(t,n),e===null&&i&4&&MT(n),i&512&&Ro(n,n.return);break;case 12:Ri(t,n);break;case 13:Ri(t,n),i&4&&zT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=CS.bind(null,n),QS(t,n))));break;case 22:if(i=n.memoizedState!==null||Gn,!i){e=e!==null&&e.memoizedState!==null||Fe,r=Gn;var s=Fe;Gn=i,(Fe=e)&&!s?Ci(t,n,(n.subtreeFlags&8772)!==0):Ri(t,n),Gn=r,Fe=s}break;case 30:break;default:Ri(t,n)}}function UT(t){var e=t.alternate;e!==null&&(t.alternate=null,UT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&om(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,Mt=!1;function Fn(t,e,n){for(n=n.child;n!==null;)jT(t,e,n),n=n.sibling}function jT(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 26:Fe||wn(n,e),Fn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Fe||wn(n,e);var i=Me,r=Mt;gr(n.type)&&(Me=n.stateNode,Mt=!1),Fn(t,e,n),No(n.stateNode),Me=i,Mt=r;break;case 5:Fe||wn(n,e);case 6:if(i=Me,r=Mt,Me=null,Fn(t,e,n),Me=i,Mt=r,Me!==null)if(Mt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(s){Ie(n,e,s)}else try{Me.removeChild(n.stateNode)}catch(s){Ie(n,e,s)}break;case 18:Me!==null&&(Mt?(t=Me,qy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Xo(t)):qy(Me,n.stateNode));break;case 4:i=Me,r=Mt,Me=n.stateNode.containerInfo,Mt=!0,Fn(t,e,n),Me=i,Mt=r;break;case 0:case 11:case 14:case 15:Fe||sr(2,n,e),Fe||sr(4,n,e),Fn(t,e,n);break;case 1:Fe||(wn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&kT(n,e,i)),Fn(t,e,n);break;case 21:Fn(t,e,n);break;case 22:Fe=(i=Fe)||n.memoizedState!==null,Fn(t,e,n),Fe=i;break;default:Fn(t,e,n)}}function zT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xo(t)}catch(n){Ie(e,e.return,n)}}function TS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ny),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ny),e;default:throw Error(U(435,t.tag))}}function lf(t,e){var n=TS(t);e.forEach(function(i){var r=xS.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ht(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(gr(l.type)){Me=l.stateNode,Mt=!1;break e}break;case 5:Me=l.stateNode,Mt=!1;break e;case 3:case 4:Me=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(Me===null)throw Error(U(160));jT(s,a,r),Me=null,Mt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)BT(e,t),e=e.sibling}var dn=null;function BT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ht(e,t),Ft(t),i&4&&(sr(3,t,t.return),yl(3,t),sr(5,t,t.return));break;case 1:Ht(e,t),Ft(t),i&512&&(Fe||n===null||wn(n,n.return)),i&64&&Gn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=dn;if(Ht(e,t),Ft(t),i&512&&(Fe||n===null||wn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[ul]||s[Rt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),yt(s,i,n),s[Rt]=t,lt(s),i=s;break e;case"link":var a=Yy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),yt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Yy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),yt(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[Rt]=t,lt(s),i=s}t.stateNode=i}else Ky(r,t.type,t.stateNode);else t.stateNode=Qy(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ky(r,t.type,t.stateNode):Qy(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&sf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ht(e,t),Ft(t),i&512&&(Fe||n===null||wn(n,n.return)),n!==null&&i&4&&sf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ht(e,t),Ft(t),i&512&&(Fe||n===null||wn(n,n.return)),t.flags&32){r=t.stateNode;try{sa(r,"")}catch(v){Ie(t,t.return,v)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,sf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(of=!0);break;case 6:if(Ht(e,t),Ft(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){Ie(t,t.return,v)}}break;case 3:if(Iu=null,r=dn,dn=cc(e.containerInfo),Ht(e,t),dn=r,Ft(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(e.containerInfo)}catch(v){Ie(t,t.return,v)}of&&(of=!1,qT(t));break;case 4:i=dn,dn=cc(t.stateNode.containerInfo),Ht(e,t),Ft(t),dn=i;break;case 12:Ht(e,t),Ft(t);break;case 13:Ht(e,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zm=In()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,lf(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Gn,d=Fe;if(Gn=h||r,Fe=d||u,Ht(e,t),Fe=d,Gn=h,Ft(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Gn||Fe||Nr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){Ie(u,u.return,v)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(v){Ie(u,u.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,lf(t,n))));break;case 19:Ht(e,t),Ft(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,lf(t,i)));break;case 30:break;case 21:break;default:Ht(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(VT(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=af(t);ic(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(sa(a,""),n.flags&=-33);var l=af(t);ic(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=af(t);ld(t,h,u);break;default:throw Error(U(161))}}catch(d){Ie(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ri(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)LT(t,e.alternate,e),e=e.sibling}function Nr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sr(4,e,e.return),Nr(e);break;case 1:wn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&kT(e,e.return,n),Nr(e);break;case 27:No(e.stateNode);case 26:case 5:wn(e,e.return),Nr(e);break;case 22:e.memoizedState===null&&Nr(e);break;case 30:Nr(e);break;default:Nr(e)}t=t.sibling}}function Ci(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(r,s,n),yl(4,s);break;case 1:if(Ci(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Ie(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)L0(u[r],l)}catch(h){Ie(i,i.return,h)}}n&&a&64&&OT(s),Ro(s,s.return);break;case 27:PT(s);case 26:case 5:Ci(r,s,n),n&&i===null&&a&4&&MT(s),Ro(s,s.return);break;case 12:Ci(r,s,n);break;case 13:Ci(r,s,n),n&&a&4&&zT(r,s);break;case 22:s.memoizedState===null&&Ci(r,s,n),Ro(s,s.return);break;case 30:break;default:Ci(r,s,n)}e=e.sibling}}function Pm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&dl(n))}function Lm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dl(t))}function bn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)HT(t,e,n,i),e=e.sibling}function HT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:bn(t,e,n,i),r&2048&&yl(9,e);break;case 1:bn(t,e,n,i);break;case 3:bn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dl(t)));break;case 12:if(r&2048){bn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ie(e,e.return,u)}}else bn(t,e,n,i);break;case 13:bn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?bn(t,e,n,i):Io(t,e):s._visibility&2?bn(t,e,n,i):(s._visibility|=2,Ss(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&Pm(a,e);break;case 24:bn(t,e,n,i),r&2048&&Lm(e.alternate,e);break;default:bn(t,e,n,i)}}function Ss(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(s,a,l,u,r),yl(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Ss(s,a,l,u,r):Io(s,a):(d._visibility|=2,Ss(s,a,l,u,r)),r&&h&2048&&Pm(a.alternate,a);break;case 24:Ss(s,a,l,u,r),r&&h&2048&&Lm(a.alternate,a);break;default:Ss(s,a,l,u,r)}e=e.sibling}}function Io(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Io(n,i),r&2048&&Pm(i.alternate,i);break;case 24:Io(n,i),r&2048&&Lm(i.alternate,i);break;default:Io(n,i)}e=e.sibling}}var co=8192;function Ts(t){if(t.subtreeFlags&co)for(t=t.child;t!==null;)FT(t),t=t.sibling}function FT(t){switch(t.tag){case 26:Ts(t),t.flags&co&&t.memoizedState!==null&&sw(dn,t.memoizedState,t.memoizedProps);break;case 5:Ts(t);break;case 3:case 4:var e=dn;dn=cc(t.stateNode.containerInfo),Ts(t),dn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=co,co=16777216,Ts(t),co=e):Ts(t));break;default:Ts(t)}}function GT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function so(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ot=i,YT(i,t)}GT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)QT(t),t=t.sibling}function QT(t){switch(t.tag){case 0:case 11:case 15:so(t),t.flags&2048&&sr(9,t,t.return);break;case 3:so(t);break;case 12:so(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wu(t)):so(t);break;default:so(t)}}function wu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ot=i,YT(i,t)}GT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sr(8,e,e.return),wu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,wu(e));break;default:wu(e)}t=t.sibling}}function YT(t,e){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:sr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:dl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ot=i;else e:for(n=t;ot!==null;){i=ot;var r=i.sibling,s=i.return;if(UT(i),i===n){ot=null;break e}if(r!==null){r.return=s,ot=r;break e}ot=s}}}var ES={getCacheForType:function(t){var e=It(Ze),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},bS=typeof WeakMap=="function"?WeakMap:Map,be=0,xe=null,fe=null,pe=0,Ee=0,Gt=null,qi=!1,Ia=!1,Um=!1,ai=0,qe=0,ar=0,Ur=0,jm=0,un=0,ca=0,Co=null,Vt=null,ud=!1,zm=0,rc=1/0,sc=null,Ki=null,gt=0,Xi=null,ha=null,$s=0,cd=0,hd=null,KT=null,xo=0,fd=null;function Xt(){if(be&2&&pe!==0)return pe&-pe;if(ee.T!==null){var t=aa;return t!==0?t:qm()}return s0()}function XT(){un===0&&(un=!(pe&536870912)||_e?t0():536870912);var t=cn.current;return t!==null&&(t.flags|=32),un}function $t(t,e,n){(t===xe&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(fa(t,0),Hi(t,pe,un,!1)),ll(t,n),(!(be&2)||t!==xe)&&(t===xe&&(!(be&2)&&(Ur|=n),qe===4&&Hi(t,pe,un,!1)),Pn(t))}function $T(t,e,n){if(be&6)throw Error(U(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ol(t,e),r=i?wS(t,e):uf(t,e,!0),s=i;do{if(r===0){Ia&&!i&&Hi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!AS(n)){r=uf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Co;var u=l.current.memoizedState.isDehydrated;if(u&&(fa(l,a).flags|=256),a=uf(l,a,!1),a!==2){if(Um&&!u){l.errorRecoveryDisabledLanes|=s,Ur|=s,r=4;break e}s=Vt,Vt=r,s!==null&&(Vt===null?Vt=s:Vt.push.apply(Vt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){fa(t,0),Hi(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Hi(i,e,un,!qi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(r=zm+300-In(),10<r)){if(Hi(i,e,un,!qi),jc(i,0,!0)!==0)break e;i.timeoutHandle=gE(Dy.bind(null,i,n,Vt,sc,ud,e,un,Ur,ca,qi,s,2,-0,0),r);break e}Dy(i,n,Vt,sc,ud,e,un,Ur,ca,qi,s,0,-0,0)}}break}while(!0);Pn(t)}function Dy(t,e,n,i,r,s,a,l,u,h,d,p,m,v){if(t.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(Go={stylesheets:null,count:0,unsuspend:rw},FT(e),p=aw(),p!==null)){t.cancelPendingCommit=p(ky.bind(null,t,e,s,n,i,r,a,l,u,d,1,m,v)),Hi(t,s,a,!h);return}ky(t,e,s,n,i,r,a,l,u)}function AS(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Zt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e,n,i){e&=~jm,e&=~Ur,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Kt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&i0(t,n,e)}function Xc(){return be&6?!0:(_l(0),!1)}function Bm(){if(fe!==null){if(Ee===0)var t=fe.return;else t=fe,Xn=Wr=null,Im(t),Xs=null,qo=0,t=fe;for(;t!==null;)DT(t.alternate,t),t=t.return;fe=null}}function fa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,BS(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Bm(),xe=t,fe=n=Jn(t.current,null),pe=e,Ee=0,Gt=null,qi=!1,Ia=ol(t,e),Um=!1,ca=un=jm=Ur=ar=qe=0,Vt=Co=null,ud=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Kt(i),s=1<<r;e|=t[r],i&=~s}return ai=e,Hc(),n}function ZT(t,e){ue=null,ee.H=Wu,e===ml||e===Gc?(e=uy(),Ee=3):e===V0?(e=uy(),Ee=4):Ee=e===wT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Gt=e,fe===null&&(qe=1,tc(t,sn(e,t.current)))}function WT(){var t=ee.H;return ee.H=Wu,t===null?Wu:t}function JT(){var t=ee.A;return ee.A=ES,t}function dd(){qe=4,qi||(pe&4194048)!==pe&&cn.current!==null||(Ia=!0),!(ar&134217727)&&!(Ur&134217727)||xe===null||Hi(xe,pe,un,!1)}function uf(t,e,n){var i=be;be|=2;var r=WT(),s=JT();(xe!==t||pe!==e)&&(sc=null,fa(t,e)),e=!1;var a=qe;e:do try{if(Ee!==0&&fe!==null){var l=fe,u=Gt;switch(Ee){case 8:Bm(),a=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(e=!0);var h=Ee;if(Ee=0,Gt=null,Bs(t,l,u,h),n&&Ia){a=0;break e}break;default:h=Ee,Ee=0,Gt=null,Bs(t,l,u,h)}}SS(),a=qe;break}catch(d){ZT(t,d)}while(!0);return e&&t.shellSuspendCounter++,Xn=Wr=null,be=i,ee.H=r,ee.A=s,fe===null&&(xe=null,pe=0,Hc()),a}function SS(){for(;fe!==null;)eE(fe)}function wS(t,e){var n=be;be|=2;var i=WT(),r=JT();xe!==t||pe!==e?(sc=null,rc=In()+500,fa(t,e)):Ia=ol(t,e);e:do try{if(Ee!==0&&fe!==null){e=fe;var s=Gt;t:switch(Ee){case 1:Ee=0,Gt=null,Bs(t,e,s,1);break;case 2:case 9:if(ly(s)){Ee=0,Gt=null,Oy(e);break}e=function(){Ee!==2&&Ee!==9||xe!==t||(Ee=7),Pn(t)},s.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:ly(s)?(Ee=0,Gt=null,Oy(e)):(Ee=0,Gt=null,Bs(t,e,s,7));break;case 5:var a=null;switch(fe.tag){case 26:a=fe.memoizedState;case 5:case 27:var l=fe;if(!a||vE(a)){Ee=0,Gt=null;var u=l.sibling;if(u!==null)fe=u;else{var h=l.return;h!==null?(fe=h,$c(h)):fe=null}break t}}Ee=0,Gt=null,Bs(t,e,s,5);break;case 6:Ee=0,Gt=null,Bs(t,e,s,6);break;case 8:Bm(),qe=6;break e;default:throw Error(U(462))}}RS();break}catch(d){ZT(t,d)}while(!0);return Xn=Wr=null,ee.H=i,ee.A=r,be=n,fe!==null?0:(xe=null,pe=0,Hc(),qe)}function RS(){for(;fe!==null&&!KA();)eE(fe)}function eE(t){var e=NT(t.alternate,t,ai);t.memoizedProps=t.pendingProps,e===null?$c(t):fe=e}function Oy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wy(n,e,e.pendingProps,e.type,void 0,pe);break;case 11:e=wy(n,e,e.pendingProps,e.type.render,e.ref,pe);break;case 5:Im(e);default:DT(n,e),e=fe=D0(e,ai),e=NT(n,e,ai)}t.memoizedProps=t.pendingProps,e===null?$c(t):fe=e}function Bs(t,e,n,i){Xn=Wr=null,Im(e),Xs=null,qo=0;var r=e.return;try{if(gS(t,r,e,n,pe)){qe=1,tc(t,sn(n,t.current)),fe=null;return}}catch(s){if(r!==null)throw fe=r,s;qe=1,tc(t,sn(n,t.current)),fe=null;return}e.flags&32768?(_e||i===1?t=!0:Ia||pe&536870912?t=!1:(qi=t=!0,(i===2||i===9||i===3||i===6)&&(i=cn.current,i!==null&&i.tag===13&&(i.flags|=16384))),tE(e,t)):$c(e)}function $c(t){var e=t;do{if(e.flags&32768){tE(e,qi);return}t=e.return;var n=yS(e.alternate,e,ai);if(n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);qe===0&&(qe=5)}function tE(t,e){do{var n=_S(t.alternate,t);if(n!==null){n.flags&=32767,fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){fe=t;return}fe=t=n}while(t!==null);qe=6,fe=null}function ky(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Zc();while(gt!==0);if(be&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(s=e.lanes|e.childLanes,s|=mm,r2(t,n,s,a,l,u),t===xe&&(fe=xe=null,pe=0),ha=e,Xi=t,$s=n,cd=s,hd=r,KT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,NS(qu,function(){return aE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=ee.T,ee.T=null,r=ve.p,ve.p=2,a=be,be|=4;try{vS(t,e,n)}finally{be=a,ve.p=r,ee.T=i}}gt=1,nE(),iE(),rE()}}function nE(){if(gt===1){gt=0;var t=Xi,e=ha,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var i=ve.p;ve.p=2;var r=be;be|=4;try{BT(e,t);var s=yd,a=A0(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&b0(l.ownerDocument.documentElement,l)){if(u!==null&&dm(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var v=m.getSelection(),D=l.textContent.length,M=Math.min(u.start,D),k=u.end===void 0?M:Math.min(u.end,D);!v.extend&&M>k&&(a=k,k=M,M=a);var w=ey(l,M),A=ey(l,k);if(w&&A&&(v.rangeCount!==1||v.anchorNode!==w.node||v.anchorOffset!==w.offset||v.focusNode!==A.node||v.focusOffset!==A.offset)){var R=p.createRange();R.setStart(w.node,w.offset),v.removeAllRanges(),M>k?(v.addRange(R),v.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),v.addRange(R))}}}}for(p=[],v=l;v=v.parentNode;)v.nodeType===1&&p.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var N=p[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}dc=!!pd,yd=pd=null}finally{be=r,ve.p=i,ee.T=n}}t.current=e,gt=2}}function iE(){if(gt===2){gt=0;var t=Xi,e=ha,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var i=ve.p;ve.p=2;var r=be;be|=4;try{LT(t,e.alternate,e)}finally{be=r,ve.p=i,ee.T=n}}gt=3}}function rE(){if(gt===4||gt===3){gt=0,XA();var t=Xi,e=ha,n=$s,i=KT;e.subtreeFlags&10256||e.flags&10256?gt=5:(gt=0,ha=Xi=null,sE(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ki=null),am(n),e=e.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=ee.T,r=ve.p,ve.p=2,ee.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{ee.T=e,ve.p=r}}$s&3&&Zc(),Pn(t),r=t.pendingLanes,n&4194090&&r&42?t===fd?xo++:(xo=0,fd=t):xo=0,_l(0)}}function sE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,dl(e)))}function Zc(t){return nE(),iE(),rE(),aE()}function aE(){if(gt!==5)return!1;var t=Xi,e=cd;cd=0;var n=am($s),i=ee.T,r=ve.p;try{ve.p=32>n?32:n,ee.T=null,n=hd,hd=null;var s=Xi,a=$s;if(gt=0,ha=Xi=null,$s=0,be&6)throw Error(U(331));var l=be;if(be|=4,QT(s.current),HT(s,s.current,a,n),be=l,_l(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(al,s)}catch{}return!0}finally{ve.p=r,ee.T=i,sE(t,e)}}function My(t,e,n){e=sn(n,e),e=sd(t.stateNode,e,2),t=Yi(t,e,2),t!==null&&(ll(t,2),Pn(t))}function Ie(t,e,n){if(t.tag===3)My(t,t,n);else for(;e!==null;){if(e.tag===3){My(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ki===null||!Ki.has(i))){t=sn(n,t),n=AT(2),i=Yi(e,n,2),i!==null&&(ST(n,i,e,t),ll(i,2),Pn(i));break}}e=e.return}}function cf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new bS;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Um=!0,r.add(n),t=IS.bind(null,t,e,n),e.then(t,t))}function IS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,xe===t&&(pe&n)===n&&(qe===4||qe===3&&(pe&62914560)===pe&&300>In()-zm?!(be&2)&&fa(t,0):jm|=n,ca===pe&&(ca=0)),Pn(t)}function oE(t,e){e===0&&(e=n0()),t=Ra(t,e),t!==null&&(ll(t,e),Pn(t))}function CS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oE(t,n)}function xS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),oE(t,n)}function NS(t,e){return rm(t,e)}var ac=null,ws=null,md=!1,oc=!1,hf=!1,jr=0;function Pn(t){t!==ws&&t.next===null&&(ws===null?ac=ws=t:ws=ws.next=t),oc=!0,md||(md=!0,OS())}function _l(t,e){if(!hf&&oc){hf=!0;do for(var n=!1,i=ac;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Kt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Vy(i,s))}else s=pe,s=jc(i,i===xe?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||ol(i,s)||(n=!0,Vy(i,s));i=i.next}while(n);hf=!1}}function DS(){lE()}function lE(){oc=md=!1;var t=0;jr!==0&&(zS()&&(t=jr),jr=0);for(var e=In(),n=null,i=ac;i!==null;){var r=i.next,s=uE(i,e);s===0?(i.next=null,n===null?ac=r:n.next=r,r===null&&(ws=n)):(n=i,(t!==0||s&3)&&(oc=!0)),i=r}_l(t)}function uE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Kt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=i2(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=xe,n=pe,n=jc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ph(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ol(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Ph(i),am(n)){case 2:case 8:n=Jv;break;case 32:n=qu;break;case 268435456:n=e0;break;default:n=qu}return i=cE.bind(null,t),n=rm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Ph(i),t.callbackPriority=2,t.callbackNode=null,2}function cE(t,e){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Zc()&&t.callbackNode!==n)return null;var i=pe;return i=jc(t,t===xe?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:($T(t,i,e),uE(t,In()),t.callbackNode!=null&&t.callbackNode===n?cE.bind(null,t):null)}function Vy(t,e){if(Zc())return null;$T(t,e,!0)}function OS(){qS(function(){be&6?rm(Wv,DS):lE()})}function qm(){return jr===0&&(jr=t0()),jr}function Py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yu(""+t)}function Ly(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function kS(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Py((r[Ut]||null).action),a=i.submitter;a&&(e=(e=a[Ut]||null)?Py(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new zc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(jr!==0){var u=a?Ly(r,a):new FormData(r);id(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Ly(r,a):new FormData(r),id(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var ff=0;ff<Gf.length;ff++){var df=Gf[ff],MS=df.toLowerCase(),VS=df[0].toUpperCase()+df.slice(1);_n(MS,"on"+VS)}_n(w0,"onAnimationEnd");_n(R0,"onAnimationIteration");_n(I0,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(W2,"onTransitionRun");_n(J2,"onTransitionStart");_n(eS,"onTransitionCancel");_n(C0,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function hE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){ec(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){ec(d)}r.currentTarget=null,s=u}}}}function he(t,e){var n=e[Uf];n===void 0&&(n=e[Uf]=new Set);var i=t+"__bubble";n.has(i)||(fE(e,t,2,!1),n.add(i))}function mf(t,e,n){var i=0;e&&(i|=4),fE(n,t,i,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[ru]){t[ru]=!0,a0.forEach(function(n){n!=="selectionchange"&&(PS.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,mf("selectionchange",!1,e))}}function fE(t,e,n,i){switch(SE(e)){case 2:var r=uw;break;case 8:r=cw;break;default:r=Ym}n=r.bind(null,e,n,t),r=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function gf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Os(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}m0(function(){var h=s,d=um(n),p=[];e:{var m=x0.get(t);if(m!==void 0){var v=zc,D=t;switch(t){case"keypress":if(vu(n)===0)break e;case"keydown":case"keyup":v=N2;break;case"focusin":D="focus",v=Fh;break;case"focusout":D="blur",v=Fh;break;case"beforeblur":case"afterblur":v=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=_2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=k2;break;case w0:case R0:case I0:v=E2;break;case C0:v=V2;break;case"scroll":case"scrollend":v=p2;break;case"wheel":v=L2;break;case"copy":case"cut":case"paste":v=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Qp;break;case"toggle":case"beforetoggle":v=j2}var M=(e&4)!==0,k=!M&&(t==="scroll"||t==="scrollend"),w=M?m!==null?m+"Capture":null:m;M=[];for(var A=h,R;A!==null;){var N=A;if(R=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||R===null||w===null||(N=Lo(A,w),N!=null&&M.push(Fo(A,N,R))),k)break;A=A.return}0<M.length&&(m=new v(m,D,null,n,d),p.push({event:m,listeners:M}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Bf&&(D=n.relatedTarget||n.fromElement)&&(Os(D)||D[Sa]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(D=n.relatedTarget||n.toElement,v=h,D=D?Os(D):null,D!==null&&(k=sl(D),M=D.tag,D!==k||M!==5&&M!==27&&M!==6)&&(D=null)):(v=null,D=h),v!==D)){if(M=Fp,N="onMouseLeave",w="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(M=Qp,N="onPointerLeave",w="onPointerEnter",A="pointer"),k=v==null?m:uo(v),R=D==null?m:uo(D),m=new M(N,A+"leave",v,n,d),m.target=k,m.relatedTarget=R,N=null,Os(d)===h&&(M=new M(w,A+"enter",D,n,d),M.target=R,M.relatedTarget=k,N=M),k=N,v&&D)t:{for(M=v,w=D,A=0,R=M;R;R=Es(R))A++;for(R=0,N=w;N;N=Es(N))R++;for(;0<A-R;)M=Es(M),A--;for(;0<R-A;)w=Es(w),R--;for(;A--;){if(M===w||w!==null&&M===w.alternate)break t;M=Es(M),w=Es(w)}M=null}else M=null;v!==null&&Uy(p,m,v,M,!1),D!==null&&k!==null&&Uy(p,k,D,M,!0)}}e:{if(m=h?uo(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=$p;else if(Xp(m))if(T0)j=X2;else{j=Y2;var O=Q2}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&lm(h.elementType)&&(j=$p):j=K2;if(j&&(j=j(t,h))){v0(p,j,n,d);break e}O&&O(t,m,h),t==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&zf(m,"number",m.value)}switch(O=h?uo(h):window,t){case"focusin":(Xp(O)||O.contentEditable==="true")&&(Vs=O,Hf=h,vo=null);break;case"focusout":vo=Hf=Vs=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,ty(p,n,d);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":ty(p,n,d)}var E;if(fm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ms?y0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(p0&&n.locale!=="ko"&&(Ms||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ms&&(E=g0()):(Bi=d,cm="value"in Bi?Bi.value:Bi.textContent,Ms=!0)),O=lc(h,y),0<O.length&&(y=new Gp(y,t,null,n,d),p.push({event:y,listeners:O}),E?y.data=E:(E=_0(n),E!==null&&(y.data=E)))),(E=B2?q2(t,n):H2(t,n))&&(y=lc(h,"onBeforeInput"),0<y.length&&(O=new Gp("onBeforeInput","beforeinput",null,n,d),p.push({event:O,listeners:y}),O.data=E)),kS(p,t,h,n,d)}hE(p,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Lo(t,n),r!=null&&i.unshift(Fo(t,r,s)),r=Lo(t,e),r!=null&&i.push(Fo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uy(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=Lo(n,s),h!=null&&a.unshift(Fo(n,h,u))):r||(h=Lo(n,s),h!=null&&a.push(Fo(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var LS=/\r\n?/g,US=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(LS,`
`).replace(US,"")}function dE(t,e){return e=jy(e),jy(t)===e}function Wc(){}function Ae(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||sa(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&sa(t,""+i);break;case"className":Zl(t,"class",i);break;case"tabIndex":Zl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(t,n,i);break;case"style":d0(t,i,s);break;case"data":if(e!=="object"){Zl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=yu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Ae(t,e,"name",r.name,r,null),Ae(t,e,"formEncType",r.formEncType,r,null),Ae(t,e,"formMethod",r.formMethod,r,null),Ae(t,e,"formTarget",r.formTarget,r,null)):(Ae(t,e,"encType",r.encType,r,null),Ae(t,e,"method",r.method,r,null),Ae(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=yu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Wc);break;case"onScroll":i!=null&&he("scroll",t);break;case"onScrollEnd":i!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=yu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":he("beforetoggle",t),he("toggle",t),pu(t,"popover",i);break;case"xlinkActuate":qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":pu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=m2.get(n)||n,pu(t,n,i))}}function gd(t,e,n,i,r,s){switch(n){case"style":d0(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?sa(t,i):(typeof i=="number"||typeof i=="bigint")&&sa(t,""+i);break;case"onScroll":i!=null&&he("scroll",t);break;case"onScrollEnd":i!=null&&he("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!o0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Ut]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):pu(t,n,i)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ae(t,e,s,a,n,null)}}r&&Ae(t,e,"srcSet",n.srcSet,n,null),i&&Ae(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,e));break;default:Ae(t,e,i,d,n,null)}}c0(t,s,l,u,h,a,r,!1),Hu(t);return;case"select":he("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ae(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Fs(t,!!i,e,!1):n!=null&&Fs(t,!!i,n,!0);return;case"textarea":he("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Ae(t,e,a,l,n,null)}f0(t,i,r,s),Hu(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(t,e,u,i,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(i=0;i<Ho.length;i++)he(Ho[i],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ae(t,e,h,i,n,null)}return;default:if(lm(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&gd(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ae(t,e,l,i,n,null))}function jS(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(v in n){var p=n[v];if(n.hasOwnProperty(v)&&p!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(v)||Ae(t,e,v,null,i,p)}}for(var m in i){var v=i[m];if(p=n[m],i.hasOwnProperty(m)&&(v!=null||p!=null))switch(m){case"type":s=v;break;case"name":r=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(U(137,e));break;default:v!==p&&Ae(t,e,m,v,i,p)}}jf(t,a,l,u,h,d,s,r);return;case"select":v=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(s)||Ae(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Ae(t,e,r,s,i,u)}e=l,n=a,i=v,m!=null?Fs(t,!!n,m,!1):!!i!=!!n&&(e!=null?Fs(t,!!n,e,!0):Fs(t,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":v=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&Ae(t,e,a,r,i,s)}h0(t,m,v);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":t.selected=!1;break;default:Ae(t,e,D,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ae(t,e,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Ae(t,e,M,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,e));break;default:Ae(t,e,h,m,i,v)}return;default:if(lm(e)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&gd(t,e,k,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||gd(t,e,d,m,i,v);return}}for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!i.hasOwnProperty(w)&&Ae(t,e,w,null,i,m);for(p in i)m=i[p],v=n[p],!i.hasOwnProperty(p)||m===v||m==null&&v==null||Ae(t,e,p,m,i,v)}var pd=null,yd=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function _d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pf=null;function zS(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(HS)}:gE;function HS(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function qy(t,e){var n=e,i=0,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&No(a.documentElement),n&2&&No(a.body),n&4)for(n=a.head,No(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[ul]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){t.removeChild(s),Xo(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Xo(e)}function vd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),om(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function FS(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ul])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=pn(t.nextSibling),t===null)break}return null}function GS(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=pn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QS(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Ed=null;function Hy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function pE(t,e,n){switch(e=uc(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function No(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);om(t)}var hn=new Map,Fy=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=ve.d;ve.d={f:YS,r:KS,D:XS,C:$S,L:ZS,m:WS,X:ew,S:JS,M:tw};function YS(){var t=di.f(),e=Xc();return t||e}function KS(t){var e=wa(t);e!==null&&e.tag===5&&e.type==="form"?uT(e):di.r(t)}var Ca=typeof document>"u"?null:document;function yE(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var r=rn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Fy.has(r)||(Fy.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),yt(e,"link",t),lt(e),i.head.appendChild(e)))}}function XS(t){di.D(t),yE("dns-prefetch",t,null)}function $S(t,e){di.C(t,e),yE("preconnect",t,e)}function ZS(t,e,n){di.L(t,e,n);var i=Ca;if(i&&t&&e){var r='link[rel="preload"][as="'+rn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+rn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+rn(n.imageSizes)+'"]')):r+='[href="'+rn(t)+'"]';var s=r;switch(e){case"style":s=da(t);break;case"script":s=xa(t)}hn.has(s)||(t=De({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),hn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(vl(s))||e==="script"&&i.querySelector(Tl(s))||(e=i.createElement("link"),yt(e,"link",t),lt(e),i.head.appendChild(e)))}}function WS(t,e){di.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+rn(i)+'"][href="'+rn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xa(t)}if(!hn.has(s)&&(t=De({rel:"modulepreload",href:t},e),hn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tl(s)))return}i=n.createElement("link"),yt(i,"link",t),lt(i),n.head.appendChild(i)}}}function JS(t,e,n){di.S(t,e,n);var i=Ca;if(i&&t){var r=Hs(i).hoistableStyles,s=da(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(vl(s)))l.loading=5;else{t=De({rel:"stylesheet",href:t,"data-precedence":e},n),(n=hn.get(s))&&Fm(t,n);var u=a=i.createElement("link");lt(u),yt(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ru(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function ew(t,e){di.X(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,r=xa(t),s=i.get(r);s||(s=n.querySelector(Tl(r)),s||(t=De({src:t,async:!0},e),(e=hn.get(r))&&Gm(t,e),s=n.createElement("script"),lt(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function tw(t,e){di.M(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,r=xa(t),s=i.get(r);s||(s=n.querySelector(Tl(r)),s||(t=De({src:t,async:!0,type:"module"},e),(e=hn.get(r))&&Gm(t,e),s=n.createElement("script"),lt(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Gy(t,e,n,i){var r=(r=Gi.current)?cc(r):null;if(!r)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=da(n.href),n=Hs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=da(n.href);var s=Hs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(vl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),hn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hn.set(t,n),s||nw(r,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xa(n),n=Hs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function da(t){return'href="'+rn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function _E(t){return De({},t,{"data-precedence":t.precedence,precedence:null})}function nw(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),yt(e,"link",n),lt(e),t.head.appendChild(e))}function xa(t){return'[src="'+rn(t)+'"]'}function Tl(t){return"script[async]"+t}function Qy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+rn(n.href)+'"]');if(i)return e.instance=i,lt(i),i;var r=De({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),lt(i),yt(i,"style",r),Ru(i,n.precedence,t),e.instance=i;case"stylesheet":r=da(n.href);var s=t.querySelector(vl(r));if(s)return e.state.loading|=4,e.instance=s,lt(s),s;i=_E(n),(r=hn.get(r))&&Fm(i,r),s=(t.ownerDocument||t).createElement("link"),lt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),yt(s,"link",i),e.state.loading|=4,Ru(s,n.precedence,t),e.instance=s;case"script":return s=xa(n.src),(r=t.querySelector(Tl(s)))?(e.instance=r,lt(r),r):(i=n,(r=hn.get(s))&&(i=De({},n),Gm(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),lt(r),yt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ru(i,n.precedence,t));return e.instance}function Ru(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Fm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Iu=null;function Yy(t,e,n){if(Iu===null){var i=new Map,r=Iu=new Map;r.set(n,i)}else r=Iu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[ul]||s[Rt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ky(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function iw(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function vE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Go=null;function rw(){}function sw(t,e,n){if(Go===null)throw Error(U(475));var i=Go;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=da(n.href),s=t.querySelector(vl(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=hc.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,lt(s);return}s=t.ownerDocument||t,n=_E(n),(r=hn.get(r))&&Fm(n,r),s=s.createElement("link"),lt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),yt(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=hc.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function aw(){if(Go===null)throw Error(U(475));var t=Go;return t.stylesheets&&t.count===0&&bd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&bd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function bd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,e.forEach(ow,t),fc=null,hc.call(t))}function ow(t,e){if(!(e.state.loading&4)){var n=fc.get(t);if(n)var i=n.get(null);else{n=new Map,fc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=hc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Qo={$$typeof:Qn,Provider:null,Consumer:null,_currentValue:kr,_currentValue2:kr,_threadCount:0};function lw(t,e,n,i,r,s,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.hiddenUpdates=Lh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function TE(t,e,n,i,r,s,a,l,u,h,d,p){return t=new lw(t,e,n,a,l,u,h,p),e=1,s===!0&&(e|=24),s=Qt(3,null,null,e),t.current=s,s.stateNode=t,e=vm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Em(s),t}function EE(t){return t?(t=Us,t):Us}function bE(t,e,n,i,r,s){r=EE(r),i.context===null?i.context=r:i.pendingContext=r,i=Qi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Yi(t,i,e),n!==null&&($t(n,t,e),bo(n,t,e))}function Xy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qm(t,e){Xy(t,e),(t=t.alternate)&&Xy(t,e)}function AE(t){if(t.tag===13){var e=Ra(t,67108864);e!==null&&$t(e,t,67108864),Qm(t,67108864)}}var dc=!0;function uw(t,e,n,i){var r=ee.T;ee.T=null;var s=ve.p;try{ve.p=2,Ym(t,e,n,i)}finally{ve.p=s,ee.T=r}}function cw(t,e,n,i){var r=ee.T;ee.T=null;var s=ve.p;try{ve.p=8,Ym(t,e,n,i)}finally{ve.p=s,ee.T=r}}function Ym(t,e,n,i){if(dc){var r=Ad(i);if(r===null)gf(t,e,i,mc,n),$y(t,i);else if(fw(r,t,e,n,i))i.stopPropagation();else if($y(t,i),e&4&&-1<hw.indexOf(t)){for(;r!==null;){var s=wa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Cr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Kt(a);l.entanglements[1]|=u,a&=~u}Pn(s),!(be&6)&&(rc=In()+500,_l(0))}}break;case 13:l=Ra(s,2),l!==null&&$t(l,s,2),Xc(),Qm(s,2)}if(s=Ad(i),s===null&&gf(t,e,i,mc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else gf(t,e,i,null,n)}}function Ad(t){return t=um(t),Km(t)}var mc=null;function Km(t){if(mc=null,t=Os(t),t!==null){var e=sl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Kv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return mc=t,null}function SE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($A()){case Wv:return 2;case Jv:return 8;case qu:case ZA:return 32;case e0:return 268435456;default:return 32}default:return 32}}var Sd=!1,$i=null,Zi=null,Wi=null,Yo=new Map,Ko=new Map,Vi=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function ao(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wa(e),e!==null&&AE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fw(t,e,n,i,r){switch(e){case"focusin":return $i=ao($i,t,e,n,i,r),!0;case"dragenter":return Zi=ao(Zi,t,e,n,i,r),!0;case"mouseover":return Wi=ao(Wi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Yo.set(s,ao(Yo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ko.set(s,ao(Ko.get(s)||null,t,e,n,i,r)),!0}return!1}function wE(t){var e=Os(t.target);if(e!==null){var n=sl(e);if(n!==null){if(e=n.tag,e===13){if(e=Kv(n),e!==null){t.blockedOn=e,s2(t.priority,function(){if(n.tag===13){var i=Xt();i=sm(i);var r=Ra(n,i);r!==null&&$t(r,n,i),Qm(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ad(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Bf=i,n.target.dispatchEvent(i),Bf=null}else return e=wa(n),e!==null&&AE(e),t.blockedOn=n,!1;e.shift()}return!0}function Zy(t,e,n){Cu(t)&&n.delete(e)}function dw(){Sd=!1,$i!==null&&Cu($i)&&($i=null),Zi!==null&&Cu(Zi)&&(Zi=null),Wi!==null&&Cu(Wi)&&(Wi=null),Yo.forEach(Zy),Ko.forEach(Zy)}function su(t,e){t.blockedOn===e&&(t.blockedOn=null,Sd||(Sd=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,dw)))}var au=null;function Wy(t){au!==t&&(au=t,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,function(){au===t&&(au=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Km(i||n)===null)continue;break}var s=wa(n);s!==null&&(t.splice(e,3),e-=3,id(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Xo(t){function e(u){return su(u,t)}$i!==null&&su($i,t),Zi!==null&&su(Zi,t),Wi!==null&&su(Wi,t),Yo.forEach(e),Ko.forEach(e);for(var n=0;n<Vi.length;n++){var i=Vi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)wE(n),n.blockedOn===null&&Vi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ut]||null;if(typeof s=="function")a||Wy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ut]||null)l=a.formAction;else if(Km(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Wy(n)}}}function Xm(t){this._internalRoot=t}Jc.prototype.render=Xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=Xt();bE(n,i,t,e,null,null)};Jc.prototype.unmount=Xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bE(t.current,2,null,t,null,null),Xc(),e[Sa]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=s0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&wE(t)}};var Jy=Qv.version;if(Jy!=="19.1.0")throw Error(U(527,Jy,"19.1.0"));ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=HA(e),t=t!==null?Xv(t):null,t=t===null?null:t.stateNode,t};var mw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{al=ou.inject(mw),Yt=ou}catch{}}Lc.createRoot=function(t,e){if(!Yv(t))throw Error(U(299));var n=!1,i="",r=TT,s=ET,a=bT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=TE(t,1,!1,null,null,n,i,r,s,a,l,null),t[Sa]=e.current,Hm(t),new Xm(e)};Lc.hydrateRoot=function(t,e,n){if(!Yv(t))throw Error(U(299));var i=!1,r="",s=TT,a=ET,l=bT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=TE(t,1,!0,e,n??null,i,r,s,a,l,u,h),e.context=EE(null),n=e.current,i=Xt(),i=sm(i),r=Qi(i),r.callback=null,Yi(n,r,i),n=i,e.current.lanes=n,ll(e,n),Pn(e),t[Sa]=e.current,Hm(t),new Jc(e)};Lc.version="19.1.0";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),zv.exports=Lc;var gw=zv.exports;const pw=Nv(gw),yw=()=>{};var e_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},_w=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),i.push(n[d],n[p],n[m],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_w(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new vw;const m=s<<2|l>>4;if(i.push(m),h!==64){const v=l<<4&240|h>>2;if(i.push(v),p!==64){const D=h<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(t){const e=IE(t);return CE.encodeByteArray(e,!0)},gc=function(t){return Tw(t).replace(/\./g,"")},xE=function(t){try{return CE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=()=>Ew().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof e_>"u")return;const t=e_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xE(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return yw()||bw()||Aw()||Sw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NE=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ww=t=>{const e=NE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},DE=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},OE=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return t.endsWith(".cloudworkstations.dev")}async function kE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(a)),""].join(".")}const Do={};function Cw(){const t={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?t.emulator.push(e):t.prod.push(e);return t}function xw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t_=!1;function ME(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Do[t]===e||Do[t]||t_)return;Do[t]=e;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=Cw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{t_=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=xw(i),v=n("text"),D=document.getElementById(v)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),w=n("preprendIcon"),A=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;l(R),d(k,M);const N=h();u(A,w),R.append(A,D,k,N),document.body.appendChild(R)}s?(D.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function Dw(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ow(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vw(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pw(){return!Dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lw(){try{return typeof indexedDB=="object"}catch{return!1}}function Uw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=jw,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?zw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new mi(r,l,i)}}function zw(t,e){return t.replace(Bw,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Bw=/\{\$([^}]+)}/g;function qw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(n_(s)&&n_(a)){if(!Fr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function n_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hw(t,e){const n=new Fw(t,e);return n.subscribe.bind(n)}class Fw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Gw(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=yf),r.error===void 0&&(r.error=yf),r.complete===void 0&&(r.complete=yf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Gr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Rw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dr){return this.instances.has(e)}getOptions(e=Dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Yw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Dr){return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yw(t){return t===Dr?void 0:t}function Kw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const $w={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},Zw=de.INFO,Ww={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},Jw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Ww[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=Jw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$w[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const eR=(t,e)=>e.some(n=>t instanceof n);let i_,r_;function tR(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nR(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,wd=new WeakMap,PE=new WeakMap,_f=new WeakMap,Zm=new WeakMap;function iR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ji(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,t)}).catch(()=>{}),Zm.set(e,t),e}function rR(t){if(wd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});wd.set(t,e)}let Rd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sR(t){Rd=t(Rd)}function aR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(vf(this),e,...n);return PE.set(i,e.sort?e.sort():[e]),Ji(i)}:nR().includes(t)?function(...e){return t.apply(vf(this),e),Ji(VE.get(this))}:function(...e){return Ji(t.apply(vf(this),e))}}function oR(t){return typeof t=="function"?aR(t):(t instanceof IDBTransaction&&rR(t),eR(t,tR())?new Proxy(t,Rd):t)}function Ji(t){if(t instanceof IDBRequest)return iR(t);if(_f.has(t))return _f.get(t);const e=oR(t);return e!==t&&(_f.set(t,e),Zm.set(e,t)),e}const vf=t=>Zm.get(t);function lR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Ji(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ji(a.result),u.oldVersion,u.newVersion,Ji(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const uR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],Tf=new Map;function s_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=cR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Tf.set(e,s),s}sR(t=>({...t,get:(e,n,i)=>s_(e,n)||t.get(e,n,i),has:(e,n)=>!!s_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Id="@firebase/app",a_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new $m("@firebase/app"),dR="@firebase/app-compat",mR="@firebase/analytics-compat",gR="@firebase/analytics",pR="@firebase/app-check-compat",yR="@firebase/app-check",_R="@firebase/auth",vR="@firebase/auth-compat",TR="@firebase/database",ER="@firebase/data-connect",bR="@firebase/database-compat",AR="@firebase/functions",SR="@firebase/functions-compat",wR="@firebase/installations",RR="@firebase/installations-compat",IR="@firebase/messaging",CR="@firebase/messaging-compat",xR="@firebase/performance",NR="@firebase/performance-compat",DR="@firebase/remote-config",OR="@firebase/remote-config-compat",kR="@firebase/storage",MR="@firebase/storage-compat",VR="@firebase/firestore",PR="@firebase/ai",LR="@firebase/firestore-compat",UR="firebase",jR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",zR={[Id]:"fire-core",[dR]:"fire-core-compat",[gR]:"fire-analytics",[mR]:"fire-analytics-compat",[yR]:"fire-app-check",[pR]:"fire-app-check-compat",[_R]:"fire-auth",[vR]:"fire-auth-compat",[TR]:"fire-rtdb",[ER]:"fire-data-connect",[bR]:"fire-rtdb-compat",[AR]:"fire-fn",[SR]:"fire-fn-compat",[wR]:"fire-iid",[RR]:"fire-iid-compat",[IR]:"fire-fcm",[CR]:"fire-fcm-compat",[xR]:"fire-perf",[NR]:"fire-perf-compat",[DR]:"fire-rc",[OR]:"fire-rc-compat",[kR]:"fire-gcs",[MR]:"fire-gcs-compat",[VR]:"fire-fst",[LR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,BR=new Map,xd=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(xd.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of pc.values())o_(n,t);for(const n of BR.values())o_(n,t);return!0}function Wm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new El("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=jR;function LE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Cd,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw er.create("bad-app-name",{appName:String(r)});if(n||(n=DE()),!n)throw er.create("no-options");const s=pc.get(r);if(s){if(Fr(n,s.options)&&Fr(i,s.config))return s;throw er.create("duplicate-app",{appName:r})}const a=new Xw(r);for(const u of xd.values())a.addComponent(u);const l=new HR(n,i,a);return pc.set(r,l),l}function UE(t=Cd){const e=pc.get(t);if(!e&&t===Cd&&DE())return LE();if(!e)throw er.create("no-app",{appName:t});return e}function tr(t,e,n){var i;let r=(i=zR[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(l.join(" "));return}ma(new Gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",GR=1,$o="firebase-heartbeat-store";let Ef=null;function jE(){return Ef||(Ef=lR(FR,GR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),Ef}async function QR(t){try{const n=(await jE()).transaction($o),i=await n.objectStore($o).get(zE(t));return await n.done,i}catch(e){if(e instanceof mi)oi.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function l_(t,e){try{const i=(await jE()).transaction($o,"readwrite");await i.objectStore($o).put(e,zE(t)),await i.done}catch(n){if(n instanceof mi)oi.warn(n.message);else{const i=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function zE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1024,KR=30;class XR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>KR){const a=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:i,unsentEntries:r}=$R(this._heartbeatsCache.heartbeats),s=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oi.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function $R(t,e=YR){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),c_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),c_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lw()?Uw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}function WR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){ma(new Gr("platform-logger",e=>new hR(e),"PRIVATE")),ma(new Gr("heartbeat",e=>new XR(e),"PRIVATE")),tr(Id,a_,t),tr(Id,a_,"esm2017"),tr("fire-js","")}JR("");var eI="firebase",tI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(eI,tI,"app");function Jm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nI=BE,qE=new El("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new $m("@firebase/auth");function iI(t,...e){yc.logLevel<=de.WARN&&yc.warn(`Auth (${Da}): ${t}`,...e)}function xu(t,...e){yc.logLevel<=de.ERROR&&yc.error(`Auth (${Da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,...e){throw eg(t,...e)}function xn(t,...e){return eg(t,...e)}function HE(t,e,n){const i=Object.assign(Object.assign({},nI()),{[e]:n});return new El("auth","Firebase",i).create(e,{appName:t.name})}function ti(t){return HE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return qE.create(t,...e)}function ne(t,e,...n){if(!t)throw eg(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function ui(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rI(){return h_()==="http:"||h_()==="https:"}function h_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rI()||kw()||"connection"in navigator)?navigator.onLine:!0}function aI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=Nw()||Mw()}get(){return sI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uI=new Al(3e4,6e4);function Sl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oa(t,e,n,i,r={}){return GE(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=bl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return Ow()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(h.credentials="include"),FE.fetch()(await QE(t,t.config.apiHost,n,l),h)})}async function GE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},oI),e);try{const r=new cI(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw lu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw lu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw lu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HE(t,d,h);li(t,d)}}catch(r){if(r instanceof mi)throw r;li(t,"network-request-failed",{message:String(r)})}}async function ng(t,e,n,i,r={}){const s=await Oa(t,e,n,i,r);return"mfaPendingCredential"in s&&li(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function QE(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?tg(t.config,r):`${t.config.apiScheme}://${r}`;return lI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xn(this.auth,"network-request-failed")),uI.get())})}}function lu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=xn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e){return Oa(t,"POST","/v1/accounts:delete",e)}async function _c(t,e){return Oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(t,e=!1){const n=jt(t),i=await n.getIdToken(e),r=ig(i);ne(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Oo(bf(r.auth_time)),issuedAtTime:Oo(bf(r.iat)),expirationTime:Oo(bf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bf(t){return Number(t)*1e3}function ig(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=xE(n);return r?JSON.parse(r):(xu("Failed to decode base64 JWT payload"),null)}catch(r){return xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function f_(t){const e=ig(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&dI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function dI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Zo(t,_c(n,{idToken:i}));ne(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YE(s.providerUserInfo):[],l=pI(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Dd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function gI(t){const e=jt(t);await vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function YE(t){return t.map(e=>{var{providerId:n}=e,i=Jm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t,e){const n=await GE(t,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await QE(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),FE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _I(t,e){return Oa(t,"POST","/v2/accounts:revokeToken",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=f_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await yI(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Zs;return i&&(ne(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(ne(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(ne(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await vc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await Zo(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,l,u,h,d;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(h=n.createdAt)!==null&&h!==void 0?h:void 0,A=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:N,isAnonymous:j,providerData:O,stsTokenManager:E}=n;ne(R&&E,e,"internal-error");const y=Zs.fromJSON(this.name,E);ne(typeof R=="string",e,"internal-error"),Ii(p,e.name),Ii(m,e.name),ne(typeof N=="boolean",e,"internal-error"),ne(typeof j=="boolean",e,"internal-error"),Ii(v,e.name),Ii(D,e.name),Ii(M,e.name),Ii(k,e.name),Ii(w,e.name),Ii(A,e.name);const b=new mn({uid:R,auth:e,email:m,emailVerified:N,displayName:p,isAnonymous:j,photoURL:D,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:w,lastLoginAt:A});return O&&Array.isArray(O)&&(b.providerData=O.map(S=>Object.assign({},S))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new Zs;r.updateFromServerResponse(n);const s=new mn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await vc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ne(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?YE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Zs;l.updateFromIdToken(i);const u=new mn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Dd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function Wn(t){ui(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KE.type="NONE";const m_=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Nu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Nu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _c(this.auth,{idToken:e}).catch(()=>{});return n?mn._fromGetAccountInfoResponse(this.auth,n,e):null}return mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ws(Wn(m_),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Wn(m_);const a=Nu(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await _c(e,{idToken:d}).catch(()=>{});if(!m)break;p=await mn._fromGetAccountInfoResponse(e,m,d)}else p=mn._fromJSON(e,d);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ws(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ws(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function XE(t=Ct()){return/firefox\//i.test(t)}function $E(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(t=Ct()){return/crios\//i.test(t)}function WE(t=Ct()){return/iemobile/i.test(t)}function JE(t=Ct()){return/android/i.test(t)}function e1(t=Ct()){return/blackberry/i.test(t)}function t1(t=Ct()){return/webos/i.test(t)}function rg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vI(t=Ct()){var e;return rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return Vw()&&document.documentMode===10}function n1(t=Ct()){return rg(t)||JE(t)||t1(t)||e1(t)||/windows phone/i.test(t)||WE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e=[]){let n;switch(t){case"Browser":n=g_(Ct());break;case"Worker":n=`${g_(Ct())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e={}){return Oa(t,"GET","/v2/passwordPolicy",Sl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=6;class SI{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:AI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _c(this,{idToken:e}),i=await mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(ti(this));const n=e?jt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bI(this),n=new SI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await _I(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wl(t){return jt(t)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hw(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(t){sg=t}function II(t){return sg.loadJS(t)}function CI(){return sg.gapiScript}function xI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){const n=Wm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Fr(s,e??{}))return r;li(r,"already-initialized")}return n.initialize({options:e})}function DI(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OI(t,e,n){const i=wl(t);ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=r1(e),{host:a,port:l}=kI(e),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ne(Fr(h,i.config.emulator)&&Fr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Na(a)?(kE(`${s}//${a}${u}`),ME("Auth",!0)):MI()}function r1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kI(t){const e=r1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:y_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:y_(a)}}}function y_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e){return ng(t,"POST","/v1/accounts:signInWithIdp",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="http://localhost";class Qr extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Jm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Qr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Js(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:VI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Rl{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qr._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Li.credential(n,i)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Rl{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Rl{constructor(){super("twitter.com")}static credential(e,n){return Qr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ji.credential(n,i)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){return ng(t,"POST","/v1/accounts:signUp",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await mn._fromIdTokenResponse(e,i,r),a=__(i);return new ci({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=__(i);return new ci({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function __(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t){var e;if(an(t.app))return Promise.reject(ti(t));const n=wl(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ci({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await PI(n,{returnSecureToken:!0}),r=await ci._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends mi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Tc(e,n,i,r)}}function o1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,s,e,i):s})}async function UI(t,e,n=!1){const i=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e,n=!1){const{auth:i}=t;if(an(i.app))return Promise.reject(ti(i));const r="reauthenticate";try{const s=await Zo(t,o1(i,r,e,t),n);ne(s.idToken,i,"internal-error");const a=ig(s.idToken);ne(a,i,"internal-error");const{sub:l}=a;return ne(t.uid===l,i,"user-mismatch"),ci._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&li(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e,n=!1){if(an(t.app))return Promise.reject(ti(t));const i="signIn",r=await o1(t,i,e),s=await ci._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e){return ng(t,"POST","/v1/accounts:signInWithCustomToken",Sl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t,e){if(an(t.app))return Promise.reject(ti(t));const n=wl(t),i=await BI(n,{token:e,returnSecureToken:!0}),r=await ci._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function HI(t,e,n,i){return jt(t).onIdTokenChanged(e,n,i)}function FI(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function GI(t,e,n,i){return jt(t).onAuthStateChanged(e,n,i)}const Ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e3,YI=10;class u1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);TI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,YI):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u1.type="LOCAL";const KI=u1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c1.type="SESSION";const h1=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await XI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=ag("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function ZI(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eC(){return f1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebaseLocalStorageDb",tC=1,bc="firebaseLocalStorage",m1="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function nC(){const t=indexedDB.deleteDatabase(d1);return new Il(t).toPromise()}function Od(){const t=indexedDB.open(d1,tC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(bc,{keyPath:m1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(bc)?e(i):(i.close(),await nC(),e(await Od()))})})}async function v_(t,e,n){const i=nh(t,!0).put({[m1]:e,value:n});return new Il(i).toPromise()}async function iC(t,e){const n=nh(t,!1).get(e),i=await new Il(n).toPromise();return i===void 0?null:i.value}function T_(t,e){const n=nh(t,!0).delete(e);return new Il(n).toPromise()}const rC=800,sC=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>sC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(eC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Od();return await v_(e,Ec,"1"),await T_(e,Ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>v_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>iC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=nh(r,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const aC=g1;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){return e?Wn(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends s1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lC(t){return zI(t.auth,new og(t),t.bypassAuthState)}function uC(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),jI(n,new og(t),t.bypassAuthState)}async function cC(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),UI(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:li(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Al(2e3,1e4);class qs extends p1{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hC.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="pendingRedirect",Du=new Map;class dC extends p1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const i=await mC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mC(t,e){const n=yC(e),i=pC(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function gC(t,e){Du.set(t._key(),e)}function pC(t){return Wn(t._redirectPersistence)}function yC(t){return Nu(fC,t.config.apiKey,t.name)}async function _C(t,e,n=!1){if(an(t.app))return Promise.reject(ti(t));const i=wl(t),r=oC(i,e),a=await new dC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=10*60*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!y1(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e={}){return Oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function wC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bC(t);for(const n of e)try{if(RC(n))return}catch{}li(t,"unauthorized-domain")}function RC(t){const e=Nd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!SC.test(n))return!1;if(AC.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Al(3e4,6e4);function b_(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CC(t){return new Promise((e,n)=>{var i,r,s;function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),n(xn(t,"network-request-failed"))},timeout:IC.get()})}if(!((r=(i=Nn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)a();else{const l=xI("iframefcb");return Nn()[l]=()=>{gapi.load?a():n(xn(t,"network-request-failed"))},II(`${CI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function xC(t){return Ou=Ou||CC(t),Ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Al(5e3,15e3),DC="__/auth/iframe",OC="emulator/auth/iframe",kC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,OC):`https://${t.config.authDomain}/${DC}`,i={apiKey:e.apiKey,appName:t.name,v:Da},r=MC.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${bl(i).slice(1)}`}async function PC(t){const e=await xC(t),n=Nn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:VC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=xn(t,"network-request-failed"),l=Nn().setTimeout(()=>{s(a)},NC.get());function u(){Nn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,jC=600,zC="_blank",BC="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qC(t,e,n,i=UC,r=jC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},LC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Ct().toLowerCase();n&&(l=ZE(h)?zC:n),XE(h)&&(e=e||BC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,D])=>`${m}${v}=${D},`,"");if(vI(h)&&l!=="_self")return HC(e||"",l),new A_(null);const p=window.open(e||"",l,d);ne(p,t,"popup-blocked");try{p.focus()}catch{}return new A_(p)}function HC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__/auth/handler",GC="emulator/auth/handler",QC=encodeURIComponent("fac");async function S_(t,e,n,i,r,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Da,eventId:r};if(e instanceof a1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",qw(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Rl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${QC}=${encodeURIComponent(u)}`:"";return`${YC(t)}?${bl(l).slice(1)}${h}`}function YC({config:t}){return t.emulator?tg(t,GC):`https://${t.authDomain}/${FC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class KC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=_C,this._overrideRedirectResult=gC}async _openPopup(e,n,i,r){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await S_(e,n,i,Nd(),r);return qC(e,a,ag())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await S_(e,n,i,Nd(),r);return ZI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ui(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await PC(e),i=new TC(e);return n.register("authEvent",r=>(ne(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Af,{type:Af},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Af];a!==void 0&&n(!!a),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||$E()||rg()}}const XC=KC;var w_="@firebase/auth",R_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WC(t){ma(new Gr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(t)},h=new wI(i,r,s,u);return DI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ma(new Gr("auth-internal",e=>{const n=wl(e.getProvider("auth").getImmediate());return(i=>new $C(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(w_,R_,ZC(t)),tr(w_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=5*60,ex=OE("authIdTokenMaxAge")||JC;let I_=null;const tx=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ex)return;const r=n==null?void 0:n.token;I_!==r&&(I_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function nx(t=UE()){const e=Wm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NI(t,{popupRedirectResolver:XC,persistence:[aC,KI,h1]}),i=OE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=tx(s.toString());FI(n,a,()=>a(n.currentUser)),HI(n,l=>a(l))}}const r=NE("auth");return r&&OI(n,`http://${r}`),n}function ix(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=xn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",ix().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WC("Browser");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,_1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function b(){}b.prototype=y.prototype,E.D=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(S,I,C){for(var T=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)T[vt-2]=arguments[vt];return y.prototype[I].apply(S,T)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,b){b||(b=0);var S=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)S[I]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(I=0;16>I;++I)S[I]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],I=E.g[2];var C=E.g[3],T=y+(C^b&(I^C))+S[0]+3614090360&4294967295;y=b+(T<<7&4294967295|T>>>25),T=C+(I^y&(b^I))+S[1]+3905402710&4294967295,C=y+(T<<12&4294967295|T>>>20),T=I+(b^C&(y^b))+S[2]+606105819&4294967295,I=C+(T<<17&4294967295|T>>>15),T=b+(y^I&(C^y))+S[3]+3250441966&4294967295,b=I+(T<<22&4294967295|T>>>10),T=y+(C^b&(I^C))+S[4]+4118548399&4294967295,y=b+(T<<7&4294967295|T>>>25),T=C+(I^y&(b^I))+S[5]+1200080426&4294967295,C=y+(T<<12&4294967295|T>>>20),T=I+(b^C&(y^b))+S[6]+2821735955&4294967295,I=C+(T<<17&4294967295|T>>>15),T=b+(y^I&(C^y))+S[7]+4249261313&4294967295,b=I+(T<<22&4294967295|T>>>10),T=y+(C^b&(I^C))+S[8]+1770035416&4294967295,y=b+(T<<7&4294967295|T>>>25),T=C+(I^y&(b^I))+S[9]+2336552879&4294967295,C=y+(T<<12&4294967295|T>>>20),T=I+(b^C&(y^b))+S[10]+4294925233&4294967295,I=C+(T<<17&4294967295|T>>>15),T=b+(y^I&(C^y))+S[11]+2304563134&4294967295,b=I+(T<<22&4294967295|T>>>10),T=y+(C^b&(I^C))+S[12]+1804603682&4294967295,y=b+(T<<7&4294967295|T>>>25),T=C+(I^y&(b^I))+S[13]+4254626195&4294967295,C=y+(T<<12&4294967295|T>>>20),T=I+(b^C&(y^b))+S[14]+2792965006&4294967295,I=C+(T<<17&4294967295|T>>>15),T=b+(y^I&(C^y))+S[15]+1236535329&4294967295,b=I+(T<<22&4294967295|T>>>10),T=y+(I^C&(b^I))+S[1]+4129170786&4294967295,y=b+(T<<5&4294967295|T>>>27),T=C+(b^I&(y^b))+S[6]+3225465664&4294967295,C=y+(T<<9&4294967295|T>>>23),T=I+(y^b&(C^y))+S[11]+643717713&4294967295,I=C+(T<<14&4294967295|T>>>18),T=b+(C^y&(I^C))+S[0]+3921069994&4294967295,b=I+(T<<20&4294967295|T>>>12),T=y+(I^C&(b^I))+S[5]+3593408605&4294967295,y=b+(T<<5&4294967295|T>>>27),T=C+(b^I&(y^b))+S[10]+38016083&4294967295,C=y+(T<<9&4294967295|T>>>23),T=I+(y^b&(C^y))+S[15]+3634488961&4294967295,I=C+(T<<14&4294967295|T>>>18),T=b+(C^y&(I^C))+S[4]+3889429448&4294967295,b=I+(T<<20&4294967295|T>>>12),T=y+(I^C&(b^I))+S[9]+568446438&4294967295,y=b+(T<<5&4294967295|T>>>27),T=C+(b^I&(y^b))+S[14]+3275163606&4294967295,C=y+(T<<9&4294967295|T>>>23),T=I+(y^b&(C^y))+S[3]+4107603335&4294967295,I=C+(T<<14&4294967295|T>>>18),T=b+(C^y&(I^C))+S[8]+1163531501&4294967295,b=I+(T<<20&4294967295|T>>>12),T=y+(I^C&(b^I))+S[13]+2850285829&4294967295,y=b+(T<<5&4294967295|T>>>27),T=C+(b^I&(y^b))+S[2]+4243563512&4294967295,C=y+(T<<9&4294967295|T>>>23),T=I+(y^b&(C^y))+S[7]+1735328473&4294967295,I=C+(T<<14&4294967295|T>>>18),T=b+(C^y&(I^C))+S[12]+2368359562&4294967295,b=I+(T<<20&4294967295|T>>>12),T=y+(b^I^C)+S[5]+4294588738&4294967295,y=b+(T<<4&4294967295|T>>>28),T=C+(y^b^I)+S[8]+2272392833&4294967295,C=y+(T<<11&4294967295|T>>>21),T=I+(C^y^b)+S[11]+1839030562&4294967295,I=C+(T<<16&4294967295|T>>>16),T=b+(I^C^y)+S[14]+4259657740&4294967295,b=I+(T<<23&4294967295|T>>>9),T=y+(b^I^C)+S[1]+2763975236&4294967295,y=b+(T<<4&4294967295|T>>>28),T=C+(y^b^I)+S[4]+1272893353&4294967295,C=y+(T<<11&4294967295|T>>>21),T=I+(C^y^b)+S[7]+4139469664&4294967295,I=C+(T<<16&4294967295|T>>>16),T=b+(I^C^y)+S[10]+3200236656&4294967295,b=I+(T<<23&4294967295|T>>>9),T=y+(b^I^C)+S[13]+681279174&4294967295,y=b+(T<<4&4294967295|T>>>28),T=C+(y^b^I)+S[0]+3936430074&4294967295,C=y+(T<<11&4294967295|T>>>21),T=I+(C^y^b)+S[3]+3572445317&4294967295,I=C+(T<<16&4294967295|T>>>16),T=b+(I^C^y)+S[6]+76029189&4294967295,b=I+(T<<23&4294967295|T>>>9),T=y+(b^I^C)+S[9]+3654602809&4294967295,y=b+(T<<4&4294967295|T>>>28),T=C+(y^b^I)+S[12]+3873151461&4294967295,C=y+(T<<11&4294967295|T>>>21),T=I+(C^y^b)+S[15]+530742520&4294967295,I=C+(T<<16&4294967295|T>>>16),T=b+(I^C^y)+S[2]+3299628645&4294967295,b=I+(T<<23&4294967295|T>>>9),T=y+(I^(b|~C))+S[0]+4096336452&4294967295,y=b+(T<<6&4294967295|T>>>26),T=C+(b^(y|~I))+S[7]+1126891415&4294967295,C=y+(T<<10&4294967295|T>>>22),T=I+(y^(C|~b))+S[14]+2878612391&4294967295,I=C+(T<<15&4294967295|T>>>17),T=b+(C^(I|~y))+S[5]+4237533241&4294967295,b=I+(T<<21&4294967295|T>>>11),T=y+(I^(b|~C))+S[12]+1700485571&4294967295,y=b+(T<<6&4294967295|T>>>26),T=C+(b^(y|~I))+S[3]+2399980690&4294967295,C=y+(T<<10&4294967295|T>>>22),T=I+(y^(C|~b))+S[10]+4293915773&4294967295,I=C+(T<<15&4294967295|T>>>17),T=b+(C^(I|~y))+S[1]+2240044497&4294967295,b=I+(T<<21&4294967295|T>>>11),T=y+(I^(b|~C))+S[8]+1873313359&4294967295,y=b+(T<<6&4294967295|T>>>26),T=C+(b^(y|~I))+S[15]+4264355552&4294967295,C=y+(T<<10&4294967295|T>>>22),T=I+(y^(C|~b))+S[6]+2734768916&4294967295,I=C+(T<<15&4294967295|T>>>17),T=b+(C^(I|~y))+S[13]+1309151649&4294967295,b=I+(T<<21&4294967295|T>>>11),T=y+(I^(b|~C))+S[4]+4149444226&4294967295,y=b+(T<<6&4294967295|T>>>26),T=C+(b^(y|~I))+S[11]+3174756917&4294967295,C=y+(T<<10&4294967295|T>>>22),T=I+(y^(C|~b))+S[2]+718787259&4294967295,I=C+(T<<15&4294967295|T>>>17),T=b+(C^(I|~y))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var b=y-this.blockSize,S=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=b;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(S[I++]=E.charCodeAt(C++),I==this.blockSize){r(this,S),I=0;break}}else for(;C<y;)if(S[I++]=E[C++],I==this.blockSize){r(this,S),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var b=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=b&255,b/=256;for(this.u(E),E=Array(16),y=b=0;4>y;++y)for(var S=0;32>S;S+=8)E[b++]=this.g[y]>>>S&255;return E};function s(E,y){var b=l;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function a(E,y){this.h=y;for(var b=[],S=!0,I=E.length-1;0<=I;I--){var C=E[I]|0;S&&C==y||(b[I]=C,S=!1)}this.g=b}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return k(h(-E));for(var y=[],b=1,S=0;E>=b;S++)y[S]=E/b|0,b*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return k(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(y,8)),S=p,I=0;I<E.length;I+=8){var C=Math.min(8,E.length-I),T=parseInt(E.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),S=S.j(C).add(h(T))):(S=S.j(b),S=S.add(h(T)))}return S}var p=u(0),m=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(M(this))return-k(this).m();for(var E=0,y=1,b=0;b<this.g.length;b++){var S=this.i(b);E+=(0<=S?S:4294967296+S)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(M(this))return"-"+k(this).toString(E);for(var y=h(Math.pow(E,6)),b=this,S="";;){var I=N(b,y).g;b=w(b,I.j(y));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=I,D(b))return C+S;for(;6>C.length;)C="0"+C;S=C+S}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=w(this,E),M(E)?-1:D(E)?0:1};function k(E){for(var y=E.g.length,b=[],S=0;S<y;S++)b[S]=~E.g[S];return new a(b,~E.h).add(m)}t.abs=function(){return M(this)?k(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],S=0,I=0;I<=y;I++){var C=S+(this.i(I)&65535)+(E.i(I)&65535),T=(C>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);S=T>>>16,C&=65535,T&=65535,b[I]=T<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function w(E,y){return E.add(k(y))}t.j=function(E){if(D(this)||D(E))return p;if(M(this))return M(E)?k(this).j(k(E)):k(k(this).j(E));if(M(E))return k(this.j(k(E)));if(0>this.l(v)&&0>E.l(v))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,b=[],S=0;S<2*y;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var I=0;I<E.g.length;I++){var C=this.i(S)>>>16,T=this.i(S)&65535,vt=E.i(I)>>>16,K=E.i(I)&65535;b[2*S+2*I]+=T*K,A(b,2*S+2*I),b[2*S+2*I+1]+=C*K,A(b,2*S+2*I+1),b[2*S+2*I+1]+=T*vt,A(b,2*S+2*I+1),b[2*S+2*I+2]+=C*vt,A(b,2*S+2*I+2)}for(S=0;S<y;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=y;S<2*y;S++)b[S]=0;return new a(b,0)};function A(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function R(E,y){this.g=E,this.h=y}function N(E,y){if(D(y))throw Error("division by zero");if(D(E))return new R(p,p);if(M(E))return y=N(k(E),y),new R(k(y.g),k(y.h));if(M(y))return y=N(E,k(y)),new R(k(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,S=y;0>=S.l(E);)b=j(b),S=j(S);var I=O(b,1),C=O(S,1);for(S=O(S,2),b=O(b,2);!D(S);){var T=C.add(S);0>=T.l(E)&&(I=I.add(b),C=T),S=O(S,1),b=O(b,1)}return y=w(E,I.j(y)),new R(I,y)}for(I=p;0<=E.l(y);){for(b=Math.max(1,Math.floor(E.m()/y.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),C=h(b),T=C.j(y);M(T)||0<T.l(E);)b-=S,C=h(b),T=C.j(y);D(C)&&(C=m),I=I.add(C),E=w(E,T)}return new R(I,E)}t.A=function(E){return N(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],S=0;S<y;S++)b[S]=this.i(S)&E.i(S);return new a(b,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],S=0;S<y;S++)b[S]=this.i(S)|E.i(S);return new a(b,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],S=0;S<y;S++)b[S]=this.i(S)^E.i(S);return new a(b,this.h^E.h)};function j(E){for(var y=E.g.length+1,b=[],S=0;S<y;S++)b[S]=E.i(S)<<1|E.i(S-1)>>>31;return new a(b,E.h)}function O(E,y){var b=y>>5;y%=32;for(var S=E.g.length-b,I=[],C=0;C<S;C++)I[C]=0<y?E.i(C+b)>>>y|E.i(C+b+1)<<32-y:E.i(C+b);return new a(I,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,nr=a}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v1,ho,T1,ku,kd,E1,b1,A1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)e:{var f=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var x=o[_];if(!(x in f))break e;f=f[x]}o=o[o.length-1],_=f[o],c=c(_),c!=_&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,_=!1,x={next:function(){if(!_&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),o.apply(c,x)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function v(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function D(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(_,x,V){for(var H=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)H[Re-2]=arguments[Re];return c.prototype[x].apply(_,H)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let _=0;_<c;_++)f[_]=o[_];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const x=o.length||0,V=_.length||0;o.length=x+V;for(let H=0;H<V;H++)o[x+H]=_[H]}else o.push(_)}}class w{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function A(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var j=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function O(o,c,f){for(const _ in o)c.call(f,o[_],_,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,c){let f,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(f in _)o[f]=_[f];for(let V=0;V<b.length;V++)f=b[V],Object.prototype.hasOwnProperty.call(_,f)&&(o[f]=_[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function T(){var o=we;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class vt{constructor(){this.h=this.g=null}add(c,f){const _=K.get();_.set(c,f),this.h?this.h.next=_:this.g=_,this.h=_}}var K=new w(()=>new z,o=>o.reset());class z{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let te,W=!1,we=new vt,Oe=()=>{const o=l.Promise.resolve(void 0);te=()=>{o.then(pi)}};var pi=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(f){C(f)}var c=K;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}W=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Qe(o,c){if(se.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(j){e:{try{N(c.nodeName);var x=!0;break e}catch{}x=!1}x||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Kg[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Qe.aa.h.call(this)}}D(Qe,se);var Kg={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),rs=0;function vn(o,c,f,_,x){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!_,this.ha=x,this.key=++rs,this.da=this.fa=!1}function yi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ss(o){this.src=o,this.g={},this.h=0}ss.prototype.add=function(o,c,f,_,x){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=_i(o,c,_,x);return-1<H?(c=o[H],f||(c.fa=!1)):(c=new vn(c,this.src,V,!!_,x),c.fa=f,o.push(c)),c};function as(o,c){var f=c.type;if(f in o.g){var _=o.g[f],x=Array.prototype.indexOf.call(_,c,void 0),V;(V=0<=x)&&Array.prototype.splice.call(_,x,1),V&&(yi(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function _i(o,c,f,_){for(var x=0;x<o.length;++x){var V=o[x];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==_)return x}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Tn={};function La(o,c,f,_,x){if(Array.isArray(c)){for(var V=0;V<c.length;V++)La(o,c[V],f,_,x);return null}return f=yr(f),o&&o[Bt]?o.K(c,f,h(_)?!!_.capture:!1,x):Th(o,c,f,!1,_,x)}function Th(o,c,f,_,x,V){if(!c)throw Error("Invalid event type");var H=h(x)?!!x.capture:!!x,Re=xt(o);if(Re||(o[os]=Re=new ss(o)),f=Re.add(c,f,_,H,V),f.proxy)return f;if(_=kl(),f.proxy=_,_.src=o,_.listener=f,o.addEventListener)Tt||(x=H),x===void 0&&(x=!1),o.addEventListener(c.toString(),_,x);else if(o.attachEvent)o.attachEvent(ls(c.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function kl(){function o(f){return c.call(o.src,o.listener,f)}const c=pr;return o}function nt(o,c,f,_,x){if(Array.isArray(c))for(var V=0;V<c.length;V++)nt(o,c[V],f,_,x);else _=h(_)?!!_.capture:!!_,f=yr(f),o&&o[Bt]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=_i(V,f,_,x),-1<f&&(yi(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=xt(o))&&(c=o.g[c.toString()],o=-1,c&&(o=_i(c,f,_,x)),(f=-1<o?c[o]:null)&&Ln(f))}function Ln(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Bt])as(c.i,o);else{var f=o.type,_=o.proxy;c.removeEventListener?c.removeEventListener(f,_,o.capture):c.detachEvent?c.detachEvent(ls(f),_):c.addListener&&c.removeListener&&c.removeListener(_),(f=xt(c))?(as(f,o),f.h==0&&(f.src=null,c[os]=null)):yi(o)}}}function ls(o){return o in Tn?Tn[o]:Tn[o]="on"+o}function pr(o,c){if(o.da)o=!0;else{c=new Qe(c,this);var f=o.listener,_=o.ha||o.src;o.fa&&Ln(o),o=f.call(_,c)}return o}function xt(o){return o=o[os],o instanceof ss?o:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(o){return typeof o=="function"?o:(o[Ua]||(o[Ua]=function(c){return o.handleEvent(c)}),o[Ua])}function it(){ht.call(this),this.i=new ss(this),this.M=this,this.F=null}D(it,ht),it.prototype[Bt]=!0,it.prototype.removeEventListener=function(o,c,f,_){nt(this,o,c,f,_)};function rt(o,c){var f,_=o.F;if(_)for(f=[];_;_=_.F)f.push(_);if(o=o.M,_=c.type||c,typeof c=="string")c=new se(c,o);else if(c instanceof se)c.target=c.target||o;else{var x=c;c=new se(_,o),S(c,x)}if(x=!0,f)for(var V=f.length-1;0<=V;V--){var H=c.g=f[V];x=_r(H,_,!0,c)&&x}if(H=c.g=o,x=_r(H,_,!0,c)&&x,x=_r(H,_,!1,c)&&x,f)for(V=0;V<f.length;V++)H=c.g=f[V],x=_r(H,_,!1,c)&&x}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],_=0;_<f.length;_++)yi(f[_]);delete o.g[c],o.h--}}this.F=null},it.prototype.K=function(o,c,f,_){return this.i.add(String(o),c,!1,f,_)},it.prototype.L=function(o,c,f,_){return this.i.add(String(o),c,!0,f,_)};function _r(o,c,f,_){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var x=!0,V=0;V<c.length;++V){var H=c[V];if(H&&!H.da&&H.capture==f){var Re=H.listener,ft=H.ha||H.src;H.fa&&as(o.i,H),x=Re.call(ft,_)!==!1&&x}}return x&&!_.defaultPrevented}function ja(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function za(o){o.g=ja(()=>{o.g=null,o.i&&(o.i=!1,za(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Eh extends ht{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(o){ht.call(this),this.h=o,this.g={}}D(us,ht);var vr=[];function cs(o){O(o.g,function(c,f){this.g.hasOwnProperty(f)&&Ln(c)},o),o.g={}}us.prototype.N=function(){us.aa.N.call(this),cs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=l.JSON.stringify,bh=l.JSON.parse,ce=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ba(){}Ba.prototype.h=null;function Tr(o){return o.h||(o.h=o.i())}function qa(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fs(){se.call(this,"d")}D(fs,se);function ds(){se.call(this,"c")}D(ds,se);var Un={},vi=null;function ms(){return vi=vi||new it}Un.La="serverreachability";function Ml(o){se.call(this,Un.La,o)}D(Ml,se);function Er(o){const c=ms();rt(c,new Ml(c))}Un.STAT_EVENT="statevent";function Ha(o,c){se.call(this,Un.STAT_EVENT,o),this.stat=c}D(Ha,se);function st(o){const c=ms();rt(c,new Ha(c,o))}Un.Ma="timingevent";function Fa(o,c){se.call(this,Un.Ma,o),this.size=c}D(Fa,se);function Ti(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Ah(o,c,f,_,x,V){o.info(function(){if(o.g)if(V)for(var H="",Re=V.split("&"),ft=0;ft<Re.length;ft++){var ye=Re[ft].split("=");if(1<ye.length){var Et=ye[0];ye=ye[1];var bt=Et.split("_");H=2<=bt.length&&bt[1]=="type"?H+(Et+"="+ye+"&"):H+(Et+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+c+`
`+f+`
`+H})}function Sh(o,c,f,_,x,V,H){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+c+`
`+f+`
`+V+" "+H})}function Ei(o,c,f,_){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+B(o,f)+(_?" "+_:"")})}function wh(o,c){o.info(function(){return"TIMEOUT: "+c})}jn.prototype.info=function(){};function B(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var _=f[o];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var V=x[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<x.length;H++)x[H]=""}}}}return hs(f)}catch{return c}}var Y={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},X;function Z(){}D(Z,Ba),Z.prototype.g=function(){return new XMLHttpRequest},Z.prototype.i=function(){return{}},X=new Z;function oe(o,c,f,_){this.j=o,this.i=c,this.l=f,this.R=_||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var je={},Wt={};function bi(o,c,f){o.L=1,o.v=Ul(zn(c)),o.m=f,o.P=!0,gs(o,null)}function gs(o,c){o.F=Date.now(),Vl(o),o.A=zn(o.v);var f=o.A,_=o.R;Array.isArray(_)||(_=[String(_)]),op(f.i,"t",_),o.C=0,f=o.j.J,o.h=new ke,o.g=wp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Eh(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,_=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(vr[0]=x.toString()),x=vr);for(var V=0;V<x.length;V++){var H=La(f,x[V],_||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Er(),Ah(o.i,o.u,o.A,o.l,o.R,o.m)}oe.prototype.ca=function(o){o=o.target;const c=this.M;c&&Bn(o)==3?c.j():this.Y(o)},oe.prototype.Y=function(o){try{if(o==this.g)e:{const bt=Bn(this.g);var c=this.g.Ba();const vs=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||mp(this.g)))){this.J||bt!=4||c==7||(c==8||0>=vs?Er(3):Er(2)),Rh(this);var f=this.g.Z();this.X=f;t:if(ps(this)){var _=mp(this.g);o="";var x=_.length,V=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Ga(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<x;c++)this.h.h=!0,o+=this.h.i.decode(_[c],{stream:!(V&&c==x-1)});_.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Sh(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ft=this.g;if((Re=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Re)){var ye=Re;break t}}ye=null}if(f=ye)Ei(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ih(this,f);else{this.o=!1,this.s=3,st(12),Ar(this),Ga(this);break e}}if(this.P){f=!0;let fn;for(;!this.J&&this.C<H.length;)if(fn=br(this,H),fn==Wt){bt==4&&(this.s=4,st(14),f=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==je){this.s=4,st(15),Ei(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Ei(this.i,this.l,fn,null),Ih(this,fn);if(ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||H.length!=0||this.h.h||(this.s=1,st(16),f=!1),this.o=this.o&&f,!f)Ei(this.i,this.l,H,"[Invalid Chunked Response]"),Ar(this),Ga(this);else if(0<H.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),kh(Et),Et.M=!0,st(11))}}else Ei(this.i,this.l,H,null),Ih(this,H);bt==4&&Ar(this),this.o&&!this.J&&(bt==4?Ep(this.j,this):(this.o=!1,Vl(this)))}else _A(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ar(this),Ga(this)}}}catch{}finally{}};function ps(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function br(o,c){var f=o.C,_=c.indexOf(`
`,f);return _==-1?Wt:(f=Number(c.substring(f,_)),isNaN(f)?je:(_+=1,_+f>c.length?Wt:(c=c.slice(_,_+f),o.C=_+f,c)))}oe.prototype.cancel=function(){this.J=!0,Ar(this)};function Vl(o){o.S=Date.now()+o.I,Xg(o,o.I)}function Xg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ti(m(o.ba,o),c)}function Rh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}oe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(wh(this.i,this.A),this.L!=2&&(Er(),st(17)),Ar(this),this.s=2,Ga(this)):Xg(this,this.S-o)};function Ga(o){o.j.G==0||o.J||Ep(o.j,o)}function Ar(o){Rh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,cs(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ih(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Ch(f.h,o))){if(!o.K&&Ch(f.h,o)&&f.G==3){try{var _=f.Da.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Fl(f),ql(f);else break e;Oh(f),st(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ti(m(f.Za,f),6e3));if(1>=Wg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else wr(f,11)}else if((o.K||f.g==o)&&Fl(f),!A(c))for(x=f.Da.g.parse(c),c=0;c<x.length;c++){let ye=x[c];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];const Et=ye[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));const bt=ye[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));const vs=ye[5];vs!=null&&typeof vs=="number"&&0<vs&&(_=1.5*vs,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const fn=o.g;if(fn){const Ql=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var V=_.h;V.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(xh(V,V.h),V.h=null))}if(_.D){const Mh=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(_.ya=Mh,Ne(_.I,_.D,Mh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var H=o;if(_.qa=Sp(_,_.J?_.ia:null,_.W),H.K){Jg(_.h,H);var Re=H,ft=_.L;ft&&(Re.I=ft),Re.B&&(Rh(Re),Vl(Re)),_.g=H}else vp(_);0<f.i.length&&Hl(f)}else ye[0]!="stop"&&ye[0]!="close"||wr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?wr(f,7):Dh(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Er(4)}catch{}}var nA=class{constructor(o,c){this.g=o,this.map=c}};function $g(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wg(o){return o.h?1:o.g?o.g.size:0}function Ch(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function xh(o,c){o.g?o.g.add(c):o.h=c}function Jg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}$g.prototype.cancel=function(){if(this.i=ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ep(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function iA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,_=0;_<f;_++)c.push(o[_]);return c}c=[],f=0;for(_ in o)c[f++]=o[_];return c}function rA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const _ in o)c[f++]=_;return c}}}function tp(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=rA(o),_=iA(o),x=_.length,V=0;V<x;V++)c.call(void 0,_[V],f&&f[V],o)}var np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var _=o[f].indexOf("="),x=null;if(0<=_){var V=o[f].substring(0,_);x=o[f].substring(_+1)}else V=o[f];c(V,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Sr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Sr){this.h=o.h,Pl(this,o.j),this.o=o.o,this.g=o.g,Ll(this,o.s),this.l=o.l;var c=o.i,f=new Ka;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),ip(this,f),this.m=o.m}else o&&(c=String(o).match(np))?(this.h=!1,Pl(this,c[1]||"",!0),this.o=Qa(c[2]||""),this.g=Qa(c[3]||"",!0),Ll(this,c[4]),this.l=Qa(c[5]||"",!0),ip(this,c[6]||"",!0),this.m=Qa(c[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}Sr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ya(c,rp,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ya(c,rp,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ya(f,f.charAt(0)=="/"?lA:oA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ya(f,cA)),o.join("")};function zn(o){return new Sr(o)}function Pl(o,c,f){o.j=f?Qa(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ll(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function ip(o,c,f){c instanceof Ka?(o.i=c,hA(o.i,o.h)):(f||(c=Ya(c,uA)),o.i=new Ka(c,o.h))}function Ne(o,c,f){o.i.set(c,f)}function Ul(o){return Ne(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Qa(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ya(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,aA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function aA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var rp=/[#\/\?@]/g,oA=/[#\?:]/g,lA=/[#\?]/g,uA=/[#\?@]/g,cA=/#/g;function Ka(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Ai(o){o.g||(o.g=new Map,o.h=0,o.i&&sA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Ka.prototype,t.add=function(o,c){Ai(this),this.i=null,o=ys(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function sp(o,c){Ai(o),c=ys(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function ap(o,c){return Ai(o),c=ys(o,c),o.g.has(c)}t.forEach=function(o,c){Ai(this),this.g.forEach(function(f,_){f.forEach(function(x){o.call(c,x,_,this)},this)},this)},t.na=function(){Ai(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let _=0;_<c.length;_++){const x=o[_];for(let V=0;V<x.length;V++)f.push(c[_])}return f},t.V=function(o){Ai(this);let c=[];if(typeof o=="string")ap(this,o)&&(c=c.concat(this.g.get(ys(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return Ai(this),this.i=null,o=ys(this,o),ap(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function op(o,c,f){sp(o,c),0<f.length&&(o.i=null,o.g.set(ys(o,c),M(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var _=c[f];const V=encodeURIComponent(String(_)),H=this.V(_);for(_=0;_<H.length;_++){var x=V;H[_]!==""&&(x+="="+encodeURIComponent(String(H[_]))),o.push(x)}}return this.i=o.join("&")};function ys(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function hA(o,c){c&&!o.j&&(Ai(o),o.i=null,o.g.forEach(function(f,_){var x=_.toLowerCase();_!=x&&(sp(this,_),op(this,x,f))},o)),o.j=c}function fA(o,c){const f=new jn;if(l.Image){const _=new Image;_.onload=v(Si,f,"TestLoadImage: loaded",!0,c,_),_.onerror=v(Si,f,"TestLoadImage: error",!1,c,_),_.onabort=v(Si,f,"TestLoadImage: abort",!1,c,_),_.ontimeout=v(Si,f,"TestLoadImage: timeout",!1,c,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else c(!1)}function dA(o,c){const f=new jn,_=new AbortController,x=setTimeout(()=>{_.abort(),Si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:_.signal}).then(V=>{clearTimeout(x),V.ok?Si(f,"TestPingServer: ok",!0,c):Si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(x),Si(f,"TestPingServer: error",!1,c)})}function Si(o,c,f,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(f)}catch{}}function mA(){this.g=new ce}function gA(o,c,f){const _=f||"";try{tp(o,function(x,V){let H=x;h(x)&&(H=hs(x)),c.push(_+V+"="+encodeURIComponent(H))})}catch(x){throw c.push(_+"type="+encodeURIComponent("_badmap")),x}}function jl(o){this.l=o.Ub||null,this.j=o.eb||!1}D(jl,Ba),jl.prototype.g=function(){return new zl(this.l,this.j)},jl.prototype.i=function(o){return function(){return o}}({});function zl(o,c){it.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(zl,it),t=zl.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,$a(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xa(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lp(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function lp(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Xa(this):$a(this),this.readyState==3&&lp(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Xa(this))},t.Qa=function(o){this.g&&(this.response=o,Xa(this))},t.ga=function(){this.g&&Xa(this)};function Xa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,$a(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function $a(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function up(o){let c="";return O(o,function(f,_){c+=_,c+=":",c+=f,c+=`\r
`}),c}function Nh(o,c,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=up(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ne(o,c,f))}function ze(o){it.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ze,it);var pA=/^https?$/i,yA=["POST","PUT"];t=ze.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():X.g(),this.v=this.o?Tr(this.o):Tr(X),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){cp(this,V);return}if(o=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)f.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())f.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),x=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(yA,c,void 0))||_||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dp(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){cp(this,V)}};function cp(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,hp(o),Bl(o)}function hp(o){o.A||(o.A=!0,rt(o,"complete"),rt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,rt(this,"complete"),rt(this,"abort"),Bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fp(this):this.bb())},t.bb=function(){fp(this)};function fp(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bn(o)!=4||o.Z()!=2)){if(o.u&&Bn(o)==4)ja(o.Ea,0,o);else if(rt(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const H=o.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var _;if(_=H===0){var x=String(o.D).match(np)[1]||null;!x&&l.self&&l.self.location&&(x=l.self.location.protocol.slice(0,-1)),_=!pA.test(x?x.toLowerCase():"")}f=_}if(f)rt(o,"complete"),rt(o,"success");else{o.m=6;try{var V=2<Bn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",hp(o)}}finally{Bl(o)}}}}function Bl(o,c){if(o.g){dp(o);const f=o.g,_=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||rt(o,"ready");try{f.onreadystatechange=_}catch{}}}function dp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),bh(c)}};function mp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function _A(o){const c={};o=(o.g&&2<=Bn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(A(o[_]))continue;var f=I(o[_]);const x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[x]||[];c[x]=V,V.push(f)}E(c,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function gp(o){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,o),this.cb=Za("retryDelaySeedMs",1e4,o),this.Wa=Za("forwardChannelMaxRetries",2,o),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new $g(o&&o.concurrentRequestLimit),this.Da=new mA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gp.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,_){st(0),this.W=o,this.H=c||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=Sp(this,null,this.W),Hl(this)};function Dh(o){if(pp(o),o.G==3){var c=o.U++,f=zn(o.I);if(Ne(f,"SID",o.K),Ne(f,"RID",c),Ne(f,"TYPE","terminate"),Wa(o,f),c=new oe(o,o.j,c),c.L=2,c.v=Ul(zn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=wp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Vl(c)}Ap(o)}function ql(o){o.g&&(kh(o),o.g.cancel(),o.g=null)}function pp(o){ql(o),o.u&&(l.clearTimeout(o.u),o.u=null),Fl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Hl(o){if(!Zg(o.h)&&!o.s){o.s=!0;var c=o.Ga;te||Oe(),W||(te(),W=!0),we.add(c,o),o.B=0}}function vA(o,c){return Wg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ti(m(o.Ga,o,c),bp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new oe(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(x.H=V,V=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(c+=_,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=_p(this,x,c),f=zn(this.I),Ne(f,"RID",o),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),Wa(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(up(V)))+"&"+c:this.m&&Nh(f,this.m,V)),xh(this.h,x),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",c),Ne(f,"SID","null"),x.T=!0,bi(x,f,null)):bi(x,f,c),this.G=2}}else this.G==3&&(o?yp(this,o):this.i.length==0||Zg(this.h)||yp(this))};function yp(o,c){var f;c?f=c.l:f=o.U++;const _=zn(o.I);Ne(_,"SID",o.K),Ne(_,"RID",f),Ne(_,"AID",o.T),Wa(o,_),o.m&&o.o&&Nh(_,o.m,o.o),f=new oe(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=_p(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),xh(o.h,f),bi(f,_,c)}function Wa(o,c){o.H&&O(o.H,function(f,_){Ne(c,_,f)}),o.l&&tp({},function(f,_){Ne(c,_,f)})}function _p(o,c,f){f=Math.min(o.i.length,f);var _=o.l?m(o.l.Na,o.l,o):null;e:{var x=o.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=x[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Re=!0;for(let ft=0;ft<f;ft++){let ye=x[ft].g;const Et=x[ft].map;if(ye-=V,0>ye)V=Math.max(0,x[ft].g-100),Re=!1;else try{gA(Et,H,"req"+ye+"_")}catch{_&&_(Et)}}if(Re){_=H.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,_}function vp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;te||Oe(),W||(te(),W=!0),we.add(c,o),o.v=0}}function Oh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ti(m(o.Fa,o),bp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Tp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ti(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),ql(this),Tp(this))};function kh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Tp(o){o.g=new oe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=zn(o.qa);Ne(c,"RID","rpc"),Ne(c,"SID",o.K),Ne(c,"AID",o.T),Ne(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ne(c,"TO",o.ja),Ne(c,"TYPE","xmlhttp"),Wa(o,c),o.m&&o.o&&Nh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Ul(zn(c)),f.m=null,f.P=!0,gs(f,o)}t.Za=function(){this.C!=null&&(this.C=null,ql(this),Oh(this),st(19))};function Fl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Ep(o,c){var f=null;if(o.g==c){Fl(o),kh(o),o.g=null;var _=2}else if(Ch(o.h,c))f=c.D,Jg(o.h,c),_=1;else return;if(o.G!=0){if(c.o)if(_==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var x=o.B;_=ms(),rt(_,new Fa(_,f)),Hl(o)}else vp(o);else if(x=c.s,x==3||x==0&&0<c.X||!(_==1&&vA(o,c)||_==2&&Oh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),x){case 1:wr(o,5);break;case 4:wr(o,10);break;case 3:wr(o,6);break;default:wr(o,2)}}}function bp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function wr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),_=o.Xa;const x=!_;_=new Sr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pl(_,"https"),Ul(_),x?fA(_.toString(),f):dA(_.toString(),f)}else st(2);o.G=0,o.l&&o.l.sa(c),Ap(o),pp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ap(o){if(o.G=0,o.ka=[],o.l){const c=ep(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Sp(o,c,f){var _=f instanceof Sr?zn(f):new Sr(f);if(_.g!="")c&&(_.g=c+"."+_.g),Ll(_,_.s);else{var x=l.location;_=x.protocol,c=c?c+"."+x.hostname:x.hostname,x=+x.port;var V=new Sr(null);_&&Pl(V,_),c&&(V.g=c),x&&Ll(V,x),f&&(V.l=f),_=V}return f=o.D,c=o.ya,f&&c&&Ne(_,f,c),Ne(_,"VER",o.la),Wa(o,_),_}function wp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new ze(new jl({eb:f})):new ze(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rp(){}t=Rp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gl(){}Gl.prototype.g=function(o,c){return new qt(o,c)};function qt(o,c){it.call(this),this.g=new gp(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!A(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new _s(this)}D(qt,it),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Dh(this.g)},qt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=hs(o),o=f);c.i.push(new nA(c.Ya++,o)),c.G==3&&Hl(c)},qt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,qt.aa.N.call(this)};function Ip(o){fs.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}D(Ip,fs);function Cp(){ds.call(this),this.status=1}D(Cp,ds);function _s(o){this.g=o}D(_s,Rp),_s.prototype.ua=function(){rt(this.g,"a")},_s.prototype.ta=function(o){rt(this.g,new Ip(o))},_s.prototype.sa=function(o){rt(this.g,new Cp)},_s.prototype.ra=function(){rt(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,A1=function(){return new Gl},b1=function(){return ms()},E1=Un,kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,ku=Y,G.COMPLETE="complete",T1=G,qa.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",it.prototype.listen=it.prototype.K,ho=qa,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,v1=ze}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",N_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new $m("@firebase/firestore");function Rs(){return Yr.logLevel}function Q(t,...e){if(Yr.logLevel<=de.DEBUG){const n=e.map(lg);Yr.debug(`Firestore (${ka}): ${t}`,...n)}}function hi(t,...e){if(Yr.logLevel<=de.ERROR){const n=e.map(lg);Yr.error(`Firestore (${ka}): ${t}`,...n)}}function ga(t,...e){if(Yr.logLevel<=de.WARN){const n=e.map(lg);Yr.warn(`Firestore (${ka}): ${t}`,...n)}}function lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,S1(t,i,n)}function S1(t,e,n){let i=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw hi(i),new Error(i)}function Te(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||S1(e,r,i)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class sx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ax{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string",31837,{l:i}),new w1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class ox{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lx{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ox(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ux{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const i=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=cx(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function le(t,e){return t<e?-1:t>e?1:0}function Md(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return le(i,r);{const s=R1(),a=hx(s.encode(O_(t,n)),s.encode(O_(e,n)));return a!==0?a:le(i,r)}}n+=i>65535?2:1}return le(t.length,e.length)}function O_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function hx(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function pa(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,M_=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*M_);return new Je(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k_)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Je(0,0))}static max(){return new ie(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class An{constructor(e,n,i){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&J(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return An.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof An?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=An.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const i=An.isNumericId(e),r=An.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?An.extractNumericId(e).compare(An.extractNumericId(n)):Md(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}}class Ce extends An{construct(e,n,i){return new Ce(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new F(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const fx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends An{construct(e,n,i){return new pt(e,n,i)}static isValidIdentifier(e){return fx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new pt([V_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new F(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.path=e}static fromPath(e){return new $(Ce.fromString(e))}static fromName(e){return new $(Ce.fromString(e).popFirst(5))}static empty(){return new $(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=-1;function dx(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(i===1e9?new Je(n+1,0):new Je(n,i));return new or(r,$.empty(),e)}function mx(t){return new or(t.readTime,t.key,Wo)}class or{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new or(ie.min(),$.empty(),Wo)}static max(){return new or(ie.max(),$.empty(),Wo)}}function gx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==px)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(r=>r?L.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new L((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(e,n){return new L((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function _x(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ih.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function rh(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function vx(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function Tx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=P_(e)),e=Ex(t.get(n),e);return P_(e)}function Ex(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case C1:n+="";break;default:n+=s}}return n}function P_(t){return t+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cu(this.root,e,this.comparator,!0)}}class cu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??mt.RED,this.left=r??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new mt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return mt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new et(pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N1("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=bx.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ur(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",O1="__type__",k1="__previous_value__",M1="__local_write_time__";function sh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O1])===null||n===void 0?void 0:n.stringValue)===D1}function ah(t){const e=t.mapValue.fields[k1];return sh(e)?ah(e):e}function Jo(t){const e=lr(t.mapValue.fields[M1].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,i,r,s,a,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Sc="(default)";class el{constructor(e,n){this.projectId=e,this.database=n||Sc}static empty(){return new el("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__type__",Sx="__max__",hu={mapValue:{}},P1="__vector__",wc="value";function cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sh(t)?4:Rx(t)?9007199254740991:wx(t)?10:11:J(28295,{value:t})}function Mn(t,e){if(t===e)return!0;const n=cr(t);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jo(t).isEqual(Jo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=lr(r.timestampValue),l=lr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ur(r.bytesValue).isEqual(ur(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ge(r.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ge(r.integerValue)===Ge(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ge(r.doubleValue),l=Ge(s.doubleValue);return a===l?Ac(a)===Ac(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(L_(a)!==L_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Mn(a[u],l[u])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function tl(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=cr(t),i=cr(e);if(n!==i)return le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ge(s.integerValue||s.doubleValue),u=Ge(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_(Jo(t),Jo(e));case 5:return Md(t.stringValue,e.stringValue);case 6:return function(s,a){const l=ur(s),u=ur(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=le(l[h],u[h]);if(d!==0)return d}return le(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=le(Ge(s.latitude),Ge(a.latitude));return l!==0?l:le(Ge(s.longitude),Ge(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,h,d;const p=s.fields||{},m=a.fields||{},v=(l=p[wc])===null||l===void 0?void 0:l.arrayValue,D=(u=m[wc])===null||u===void 0?void 0:u.arrayValue,M=le(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((d=D==null?void 0:D.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:z_(v,D)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===hu.mapValue&&a===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(a===hu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Md(u[p],d[p]);if(m!==0)return m;const v=ya(l[u[p]],h[d[p]]);if(v!==0)return v}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw J(23264,{Pe:n})}}function j_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=lr(t),i=lr(e),r=le(n.seconds,i.seconds);return r!==0?r:le(n.nanos,i.nanos)}function z_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ya(n[r],i[r]);if(s)return s}return le(n.length,i.length)}function _a(t){return Vd(t)}function Vd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=lr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Vd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Vd(n.fields[a])}`;return r+"}"}(t.mapValue):J(61005,{value:t})}function Mu(t){switch(cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(t);return e?16+Mu(e):16;case 5:return 2*t.stringValue.length;case 6:return ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Mu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Jr(i.fields,(s,a)=>{r+=s.length+Mu(a)}),r}(t.mapValue);default:throw J(13486,{value:t})}}function Rc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pd(t){return!!t&&"integerValue"in t}function cg(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function wx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[V1])===null||n===void 0?void 0:n.stringValue)===P1}function ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ko(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(n)}setAll(e){let n=pt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=ko(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Vu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Jr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new on(ko(this.value))}}function L1(t){const e=[];return Jr(t.fields,(n,i)=>{const r=new pt([n]);if(Vu(i)){const s=L1(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new wt(e,0,ie.min(),ie.min(),ie.min(),on.empty(),0)}static newFoundDocument(e,n,i,r){return new wt(e,1,n,ie.min(),i,r,0)}static newNoDocument(e,n){return new wt(e,2,n,ie.min(),ie.min(),on.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ie.min(),ie.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=$.comparator($.fromName(a.referenceValue),n.key):i=ya(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function F_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class Xe extends U1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xx(e,n,i):n==="array-contains"?new Ox(e,i):n==="in"?new kx(e,i):n==="not-in"?new Mx(e,i):n==="array-contains-any"?new Vx(e,i):new Xe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Nx(e,i):new Dx(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ya(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends U1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new yn(e,n)}matches(e){return j1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function j1(t){return t.op==="and"}function z1(t){return Cx(t)&&j1(t)}function Cx(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function Ld(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(z1(t))return t.filters.map(e=>Ld(e)).join(",");{const e=t.filters.map(n=>Ld(n)).join(",");return`${t.op}(${e})`}}function B1(t,e){return t instanceof Xe?function(i,r){return r instanceof Xe&&i.op===r.op&&i.field.isEqual(r.field)&&Mn(i.value,r.value)}(t,e):t instanceof yn?function(i,r){return r instanceof yn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&B1(a,r.filters[l]),!0):!1}(t,e):void J(19439)}function q1(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(q1).join(" ,")+"}"}(t):"Filter"}class xx extends Xe{constructor(e,n,i){super(e,n,i),this.key=$.fromName(i.referenceValue)}matches(e){const n=$.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nx extends Xe{constructor(e,n){super(e,"in",n),this.keys=H1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dx extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=H1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class Ox extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&tl(n.arrayValue,this.value)}}class kx extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tl(this.value.arrayValue,n)}}class Mx extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tl(this.value.arrayValue,n)}}class Vx extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function G_(t,e=null,n=[],i=[],r=null,s=null,a=null){return new Px(t,e,n,i,r,s,a)}function hg(t){const e=re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ld(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>_a(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>_a(i)).join(",")),e.Ie=n}return e.Ie}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ix(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F_(t.startAt,e.startAt)&&F_(t.endAt,e.endAt)}function Ud(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Lx(t,e,n,i,r,s,a,l){return new es(t,e,n,i,r,s,a,l)}function dg(t){return new es(t)}function Q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mg(t){return t.collectionGroup!==null}function ea(t){const e=re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new et(pt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new nl(s,i))}),n.has(pt.keyField().canonicalString())||e.Ee.push(new nl(pt.keyField(),i))}return e.Ee}function Dn(t){const e=re(t);return e.de||(e.de=Ux(e,ea(t))),e.de}function Ux(t,e){if(t.limitType==="F")return G_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new nl(r.field,s)});const n=t.endAt?new va(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new va(t.startAt.position,t.startAt.inclusive):null;return G_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function jd(t,e){const n=t.filters.concat([e]);return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ic(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return fg(Dn(t),Dn(e))&&t.limitType===e.limitType}function F1(t){return`${hg(Dn(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>q1(r)).join(", ")}]`),rh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>_a(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>_a(r)).join(",")),`Target(${i})`}(Dn(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):$.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ea(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=H_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,ea(i),r)||i.endAt&&!function(a,l,u){const h=H_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,ea(i),r))}(t,e)}function jx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G1(t){return(e,n)=>{let i=!1;for(const r of ea(t)){const s=zx(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function zx(t,e,n){const i=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?ya(u,h):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Ue($.comparator);function fi(){return Bx}const Q1=new Ue($.comparator);function fo(...t){let e=Q1;for(const n of t)e=e.insert(n.key,n);return e}function Y1(t){let e=Q1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Or(){return Mo()}function K1(){return Mo()}function Mo(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const qx=new Ue($.comparator),Hx=new et($.comparator);function me(...t){let e=Hx;for(const n of t)e=e.add(n);return e}const Fx=new et(le);function Gx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function X1(t){return{integerValue:""+t}}function Qx(t,e){return vx(e)?X1(e):gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function Yx(t,e,n){return t instanceof Cc?function(r,s){const a={fields:{[O1]:{stringValue:D1},[M1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&sh(s)&&(s=ah(s)),s&&(a.fields[k1]=s),{mapValue:a}}(n,e):t instanceof il?Z1(t,e):t instanceof rl?W1(t,e):function(r,s){const a=$1(r,s),l=Y_(a)+Y_(r.Re);return Pd(a)&&Pd(r.Re)?X1(l):gg(r.serializer,l)}(t,e)}function Kx(t,e,n){return t instanceof il?Z1(t,e):t instanceof rl?W1(t,e):n}function $1(t,e){return t instanceof xc?function(i){return Pd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Cc extends uh{}class il extends uh{constructor(e){super(),this.elements=e}}function Z1(t,e){const n=J1(e);for(const i of t.elements)n.some(r=>Mn(r,i))||n.push(i);return{arrayValue:{values:n}}}class rl extends uh{constructor(e){super(),this.elements=e}}function W1(t,e){let n=J1(e);for(const i of t.elements)n=n.filter(r=>!Mn(r,i));return{arrayValue:{values:n}}}class xc extends uh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Y_(t){return Ge(t.integerValue||t.doubleValue)}function J1(t){return cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xx(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof il&&r instanceof il||i instanceof rl&&r instanceof rl?pa(i.elements,r.elements,Mn):i instanceof xc&&r instanceof xc?Mn(i.Re,r.Re):i instanceof Cc&&r instanceof Cc}(t.transform,e.transform)}class $x{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function eb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pg(t.key,On.none()):new Cl(t.key,t.data,On.none());{const n=t.data,i=on.empty();let r=new et(pt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new ns(t.key,i,new gn(r.toArray()),On.none())}}function Zx(t,e,n){t instanceof Cl?function(r,s,a){const l=r.value.clone(),u=X_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(r,s,a){if(!Pu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=X_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(tb(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vo(t,e,n,i){return t instanceof Cl?function(s,a,l,u){if(!Pu(s.precondition,a))return l;const h=s.value.clone(),d=$_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ns?function(s,a,l,u){if(!Pu(s.precondition,a))return l;const h=$_(s.fieldTransforms,u,a),d=a.data;return d.setAll(tb(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(s,a,l){return Pu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Wx(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=$1(i.transform,r||null);s!=null&&(n===null&&(n=on.empty()),n.set(i.field,s))}return n||null}function K_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pa(i,r,(s,a)=>Xx(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends ch{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ns extends ch{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function X_(t,e,n){const i=new Map;Te(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,Kx(a,l,n[r]))}return i}function $_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,Yx(s,a,e))}return i}class pg extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Zx(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Vo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Vo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=K1();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=eb(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,i)=>K_(n,i))&&pa(this.baseMutations,e.baseMutations,(n,i)=>K_(n,i))}}class yg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Te(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return qx}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new yg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ge;function iN(t){switch(t){case P.OK:return J(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function nb(t){if(t===void 0)return hi("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ye.OK:return P.OK;case Ye.CANCELLED:return P.CANCELLED;case Ye.UNKNOWN:return P.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return P.INTERNAL;case Ye.UNAVAILABLE:return P.UNAVAILABLE;case Ye.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ye.NOT_FOUND:return P.NOT_FOUND;case Ye.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ye.ABORTED:return P.ABORTED;case Ye.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ye.DATA_LOSS:return P.DATA_LOSS;default:return J(39323,{code:t})}}(ge=Ye||(Ye={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new nr([4294967295,4294967295],0);function Z_(t){const e=R1().encode(t),n=new _1;return n.update(e),new Uint8Array(n.digest())}function W_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nr([n,i],0),new nr([r,s],0)]}class _g{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(i<0)throw new mo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=nr.fromNumber(this.pe)}we(e,n,i){let r=e.add(n.multiply(nr.fromNumber(i)));return r.compare(rN)===1&&(r=new nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Z_(e),[i,r]=W_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new _g(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=Z_(e),[i,r]=W_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hh(ie.min(),r,new Ue(le),fi(),me())}}class xl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xl(i,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,i,r){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=r}}class ib{constructor(e,n){this.targetId=e,this.Ce=n}}class rb{constructor(e,n,i=_t.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class J_{constructor(){this.Fe=0,this.Me=ev(),this.xe=_t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=me(),n=me(),i=me();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:J(38017,{changeType:s})}}),new xl(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=ev()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sN{constructor(e){this.ze=e,this.je=new Map,this.He=fi(),this.Je=fu(),this.Ye=fu(),this.Ze=new Ue(le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,i=e.Ce.count,r=this._t(n);if(r){const s=r.target;if(Ud(s))if(i===0){const a=new $(s.path);this.tt(n,a,wt.newNoDocument(a,ie.min()))}else Te(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=ur(i).toUint8Array()}catch(u){if(u instanceof N1)return ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new _g(a,r,s)}catch(u){return ga(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(e){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Ud(l.target)){const u=new $(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,wt.newNoDocument(u,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=me();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const r=new hh(e,n,this.Ze,this.He,i);return this.He=fi(),this.Je=fu(),this.Ye=fu(),this.Ze=new Ue(le),r}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new J_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new et(le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new et(le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new J_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function fu(){return new Ue($.comparator)}function ev(){return new Ue($.comparator)}const aN={asc:"ASCENDING",desc:"DESCENDING"},oN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lN={and:"AND",or:"OR"};class uN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zd(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cN(t,e){return Nc(t,e.toTimestamp())}function kn(t){return Te(!!t,49232),ie.fromTimestamp(function(n){const i=lr(n);return new Je(i.seconds,i.nanos)}(t))}function vg(t,e){return Bd(t,e).canonicalString()}function Bd(t,e){const n=function(r){return new Ce(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ab(t){const e=Ce.fromString(t);return Te(hb(e),10190,{key:e.toString()}),e}function qd(t,e){return vg(t.databaseId,e.path)}function Sf(t,e){const n=ab(e);if(n.get(1)!==t.databaseId.projectId)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(lb(n))}function ob(t,e){return vg(t.databaseId,e)}function hN(t){const e=ab(t);return e.length===4?Ce.emptyPath():lb(e)}function Hd(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lb(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tv(t,e,n){return{name:qd(t,e),fields:n.value.mapValue.fields}}function fN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:J(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Te(d===void 0||typeof d=="string",58123),_t.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?P.UNKNOWN:nb(h.code);return new F(d,h.message||"")}(a);n=new rb(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Sf(t,i.document.name),s=kn(i.document.updateTime),a=i.document.createTime?kn(i.document.createTime):ie.min(),l=new on({mapValue:{fields:i.document.fields}}),u=wt.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Lu(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Sf(t,i.document),s=i.readTime?kn(i.readTime):ie.min(),a=wt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Lu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Sf(t,i.document),s=i.removedTargetIds||[];n=new Lu([],s,r,null)}else{if(!("filter"in e))return J(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new nN(r,s),l=i.targetId;n=new ib(l,a)}}return n}function dN(t,e){let n;if(e instanceof Cl)n={update:tv(t,e.key,e.value)};else if(e instanceof pg)n={delete:qd(t,e.key)};else if(e instanceof ns)n={update:tv(t,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof Jx))return J(16599,{ft:e.type});n={verify:qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Cc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof il)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof rl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof xc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw J(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:cN(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)}(t,e.precondition)),n}function mN(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?kn(r.updateTime):kn(s);return a.isEqual(ie.min())&&(a=kn(s)),new $x(a,r.transformResults||[])}(n,e))):[]}function gN(t,e){return{documents:[ob(t,e.path)]}}function pN(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ob(t,r);const s=function(h){if(h.length!==0)return cb(yn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Cs(m.field),direction:vN(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=zd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:r}}function yN(t){let e=hN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Te(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=ub(p);return m instanceof yn&&z1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(D){return new nl(xs(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,rh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new va(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,v=p.values||[];return new va(v,m)}(n.endAt)),Lx(e,r,a,s,l,"F",u,h)}function _N(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ub(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xs(n.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=xs(n.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xs(n.unaryFilter.field);return Xe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(xs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(i=>ub(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function vN(t){return aN[t]}function TN(t){return oN[t]}function EN(t){return lN[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function xs(t){return pt.fromServerFormat(t.fieldPath)}function cb(t){return t instanceof Xe?function(n){if(n.op==="=="){if(q_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:TN(n.op),value:n.value}}}(t):t instanceof yn?function(n){const i=n.getFilters().map(r=>cb(r));return i.length===1?i[0]:{compositeFilter:{op:EN(n.op),filters:i}}}(t):J(54877,{filter:t})}function bN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i,r,s=ie.min(),a=ie.min(),l=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.wt=e}}function SN(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ic(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Cn=new RN}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(or.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class RN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new et(Ce.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new et(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(fb,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ta(0)}static lr(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",IN=1048576;function rv([t,e],[n,i]){const r=le(t,n);return r===0?le(e,i):r}class CN{constructor(e){this.Er=e,this.buffer=new et(rv),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();rv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Q(iv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Va(n)?Q(iv,"Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.mr(3e5)})}}class NN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(ih.le);const i=new CN(n);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(nv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),Rs()<=de.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function DN(t,e){return new NN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Vo(i.mutation,r,gn.empty(),Je.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,me()).next(()=>i))}getLocalViewOfDocuments(e,n,i=me()){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=fo();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,me()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=fi();const a=Mo(),l=function(){return Mo()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof ns)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Vo(d.mutation,h,d.mutation.getFieldMask(),Je.now())):a.set(h.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new kN(d,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const i=Mo();let r=new Ue((a,l)=>a-l),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||gn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(r.get(l.batchId)||me()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=K1();d.forEach(m=>{if(!s.has(m)){const v=eb(n.get(m),i.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return $.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):L.resolve(Or());let l=Wo,u=s;return a.next(h=>L.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,me())).next(d=>({batchId:l,changes:Y1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(i=>{let r=fo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=fo();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,u=>{const h=function(p,m){return new es(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,wt.newInvalidDocument(d)))});let l=fo();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Vo(d.mutation,h,gn.empty(),Je.now()),lh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return L.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:kn(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:SN(r.bundledQuery),readTime:kn(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.overlays=new Ue($.comparator),this.Qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Or();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const r=Or(),s=n.length+1,a=new $(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ue((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Or(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Or(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return L.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new tN(n,i));let s=this.Qr.get(n);s===void 0&&(s=me(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.$r=new et(at.Ur),this.Kr=new et(at.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new at(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new at(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new $(new Ce([])),i=new at(n,e),r=new at(n,e+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new $(new Ce([])),i=new at(n,e),r=new at(n,e+1);let s=me();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new at(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class at{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return $.comparator(e.key,n.key)||le(e.Zr,n.Zr)}static Wr(e,n){return le(e.Zr,n.Zr)||$.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new et(at.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new eN(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new at(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?ug:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new at(n,0),r=new at(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new et(le);return n.forEach(r=>{const s=new at(r,0),a=new at(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),L.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;$.isDocumentKey(s)||(s=s.child(""));const a=new at(new $(s),0);let l=new et(le);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),L.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Te(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return L.forEach(n.mutations,r=>{const s=new at(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new at(n,0),r=this.Xr.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.ii=e,this.docs=function(){return new Ue($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let i=fi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():wt.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=fi();const a=n.path,l=new $(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||gx(mx(d),i)<=0||(r.has(d.key)||lh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,i,r){J(9500)}si(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new zN(this)}getSize(e){return L.resolve(this.size)}}class zN extends ON{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.persistence=e,this.oi=new ts(n=>hg(n),fg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Tg,this.targetCount=0,this.ui=Ta.cr()}forEachTarget(e,n){return this.oi.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),L.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Tr(n),L.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.ci={},this.overlays={},this.li=new ih(0),this.hi=!1,this.hi=!0,this.Pi=new LN,this.referenceDelegate=e(this),this.Ti=new BN(this),this.indexManager=new wN,this.remoteDocumentCache=function(r){return new jN(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new AN(n),this.Ei=new VN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new UN(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){Q("MemoryPersistence","Starting transaction:",e);const r=new qN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,n){return L.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class qN extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new Tg,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw J(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,i=>{const r=$.fromPath(i);return this.pi(e,r).next(s=>{s||n.removeEntry(r,ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return L.or([()=>L.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Dc{constructor(e,n){this.persistence=e,this.yi=new ts(i=>Tx(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=DN(this,n)}static fi(e,n){return new Dc(e,n)}di(){}Ai(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return L.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?L.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,a=>this.Dr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,ie.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}Dr(e,n,i){return L.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return L.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ds=i,this.As=r}static Rs(e,n){let i=me(),r=me();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new bg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Pw()?8:_x(Ct())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new HN;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>s.result)}Ds(e,n,i,r){return i.documentReadCount<this.gs?(Rs()<=de.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Rs()<=de.DEBUG&&Q("QueryEngine","Query:",Is(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Rs()<=de.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):L.resolve())}ws(e,n){if(Q_(n))return L.resolve(null);let i=Dn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ic(n,null,"F"),i=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=me(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(e,Ic(n,null,"F")):this.Fs(e,h,n,u)}))})))}bs(e,n,i,r){return Q_(n)||r.isEqual(ie.min())?L.resolve(null):this.ys.getDocuments(e,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?L.resolve(null):(Rs()<=de.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Is(n)),this.Fs(e,a,n,dx(r,Wo)).next(l=>l))})}vs(e,n){let i=new et(G1(e));return n.forEach((r,s)=>{lh(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return Rs()<=de.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Is(n)),this.ys.getDocumentsMatchingQuery(e,n,or.min(),i)}Fs(e,n,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",GN=3e8;class QN{constructor(e,n,i,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new Ue(le),this.Os=new ts(s=>hg(s),fg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function YN(t,e,n,i){return new QN(t,e,n,i)}async function mb(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=me();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function KN(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let v=L.resolve();return m.forEach(D=>{v=v.next(()=>d.getEntry(u,D)).next(M=>{const k=h.docVersions.get(D);Te(k!==null,48541),M.version.compareTo(k)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=me();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function gb(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function XN(t,e){const n=re(t),i=e.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];e.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(_t.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(p,v),function(M,k,w){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=GN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&l.push(n.Ti.updateTargetData(s,v))});let u=fi(),h=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push($N(s,a,e.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(ie.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return L.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function $N(t,e,n){let i=me(),r=me();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=fi();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Q(Ag,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function ZN(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function WN(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,e).next(s=>s?(r=s,L.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Fi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Fd(t,e,n){const i=re(t),r=i.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Va(a))throw a;Q(Ag,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function sv(t,e,n){const i=re(t);let r=ie.min(),s=me();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=re(u),m=p.Os.get(d);return m!==void 0?L.resolve(p.xs.get(m)):p.Ti.getTargetData(h,d)}(i,a,Dn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,n?r:ie.min(),n?s:me())).next(l=>(JN(i,jx(e),l),{documents:l,$s:s})))}function JN(t,e,n){let i=t.Ns.get(e)||ie.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ns.set(e,i)}class av{constructor(){this.activeTargetIds=Gx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e4{constructor(){this.xo=new av,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new av,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class lv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(ov,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Q(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function Gd(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",n4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Sc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,n,i,r,s){const a=Gd(),l=this.jo(e,n.toUriEncodedString());Q(wf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=Na(h);return this.Jo(e,l,u,i,d).then(p=>(Q(wf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw ga(wf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Yo(e,n,i,r,s,a){return this.zo(e,n,i,r,s)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,n){const i=n4[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class s4 extends i4{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const a=Gd();return new Promise((l,u)=>{const h=new v1;h.setWithCredentials(!0),h.listenOnce(T1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ku.NO_ERROR:const p=h.getResponseJson();Q(At,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case ku.TIMEOUT:Q(At,`RPC '${e}' ${a} timed out`),u(new F(P.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const m=h.getStatus();if(Q(At,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const D=v==null?void 0:v.error;if(D&&D.status&&D.message){const M=function(w){const A=w.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(A)>=0?A:P.UNKNOWN}(D.status);u(new F(M,D.message))}else u(new F(P.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(P.UNAVAILABLE,"Connection failed."));break;default:J(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Q(At,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);Q(At,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(e,n,i){const r=Gd(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=A1(),l=b1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");Q(At,`Creating RPC '${e}' stream ${r}: ${d}`,u);const p=a.createWebChannel(d,u);this.E_(p);let m=!1,v=!1;const D=new r4({Zo:k=>{v?Q(At,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(m||(Q(At,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),Q(At,`RPC '${e}' stream ${r} sending:`,k),p.send(k))},Xo:()=>p.close()}),M=(k,w,A)=>{k.listen(w,R=>{try{A(R)}catch(N){setTimeout(()=>{throw N},0)}})};return M(p,ho.EventType.OPEN,()=>{v||(Q(At,`RPC '${e}' stream ${r} transport opened.`),D.__())}),M(p,ho.EventType.CLOSE,()=>{v||(v=!0,Q(At,`RPC '${e}' stream ${r} transport closed`),D.u_(),this.d_(p))}),M(p,ho.EventType.ERROR,k=>{v||(v=!0,ga(At,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),D.u_(new F(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,ho.EventType.MESSAGE,k=>{var w;if(!v){const A=k.data[0];Te(!!A,16349);const R=A,N=(R==null?void 0:R.error)||((w=R[0])===null||w===void 0?void 0:w.error);if(N){Q(At,`RPC '${e}' stream ${r} received error:`,N);const j=N.status;let O=function(b){const S=Ye[b];if(S!==void 0)return nb(S)}(j),E=N.message;O===void 0&&(O=P.INTERNAL,E="Unknown error status: "+j+" with message "+N.message),v=!0,D.u_(new F(O,E)),p.close()}else Q(At,`RPC '${e}' stream ${r} received:`,A),D.c_(A)}}),M(l,E1.STAT_EVENT,k=>{k.stat===kd.PROXY?Q(At,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===kd.NOPROXY&&Q(At,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new uN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&Q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="PersistentStream";class yb{constructor(e,n,i,r,s,a,l,u){this.xi=e,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new pb(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{e(()=>{const r=new F(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Q(uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Q(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a4 extends yb{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=fN(this.serializer,e),i=function(s){if(!("targetChange"in s))return ie.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?kn(a.readTime):ie.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=Hd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Ud(u)?{documents:gN(s,u)}:{query:pN(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=sb(s,a.resumeToken);const h=zd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ie.min())>0){l.readTime=Nc(s,a.snapshotVersion.toTimestamp());const h=zd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=_N(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=Hd(this.serializer),n.removeTarget=e,this.Q_(n)}}class o4 extends yb{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=mN(e.writeResults,e.commitTime),i=kn(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=Hd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>dN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{}class u4 extends l4{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,Bd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(P.UNKNOWN,s.toString())})}Yo(e,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Bd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(P.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class c4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hi(n),this.ua=!1):Q("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="RemoteStore";class h4{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{is(this)&&(Q(Kr,"Restarting streams for network reachability change."),await async function(u){const h=re(u);h.da.add(4),await Nl(h),h.Va.set("Unknown"),h.da.delete(4),await dh(h)}(this))})}),this.Va=new c4(i,r)}}async function dh(t){if(is(t))for(const e of t.Aa)await e(!0)}async function Nl(t){for(const e of t.Aa)await e(!1)}function _b(t,e){const n=re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Ig(n)?Rg(n):Pa(n).N_()&&wg(n,e))}function Sg(t,e){const n=re(t),i=Pa(n);n.Ea.delete(e),i.N_()&&vb(n,e),n.Ea.size===0&&(i.N_()?i.k_():is(n)&&n.Va.set("Unknown"))}function wg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Z_(e)}function vb(t,e){t.ma.Ke(e),Pa(t).X_(e)}function Rg(t){t.ma=new sN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Va.ca()}function Ig(t){return is(t)&&!Pa(t).O_()&&t.Ea.size>0}function is(t){return re(t).da.size===0}function Tb(t){t.ma=void 0}async function f4(t){t.Va.set("Online")}async function d4(t){t.Ea.forEach((e,n)=>{wg(t,e)})}async function m4(t,e){Tb(t),Ig(t)?(t.Va.Pa(e),Rg(t)):t.Va.set("Unknown")}async function g4(t,e,n){if(t.Va.set("Online"),e instanceof rb&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(t,e)}catch(i){Q(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Oc(t,i)}else if(e instanceof Lu?t.ma.Xe(e):e instanceof ib?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ie.min()))try{const i=await gb(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),vb(s,u);const p=new Fi(d.target,u,h,d.sequenceNumber);wg(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Q(Kr,"Failed to raise snapshot:",i),await Oc(t,i)}}async function Oc(t,e,n){if(!Va(e))throw e;t.da.add(1),await Nl(t),t.Va.set("Offline"),n||(n=()=>gb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Kr,"Retrying IndexedDB access"),await n(),t.da.delete(1),await dh(t)})}function Eb(t,e){return e().catch(n=>Oc(t,n,e))}async function mh(t){const e=re(t),n=hr(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ug;for(;p4(e);)try{const r=await ZN(e.localStore,i);if(r===null){e.Ia.length===0&&n.k_();break}i=r.batchId,y4(e,r)}catch(r){await Oc(e,r)}bb(e)&&Ab(e)}function p4(t){return is(t)&&t.Ia.length<10}function y4(t,e){t.Ia.push(e);const n=hr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function bb(t){return is(t)&&!hr(t).O_()&&t.Ia.length>0}function Ab(t){hr(t).start()}async function _4(t){hr(t).ia()}async function v4(t){const e=hr(t);for(const n of t.Ia)e.ta(n.mutations)}async function T4(t,e,n){const i=t.Ia.shift(),r=yg.from(i,e,n);await Eb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await mh(t)}async function E4(t,e){e&&hr(t).ea&&await async function(i,r){if(function(a){return iN(a)&&a!==P.ABORTED}(r.code)){const s=i.Ia.shift();hr(i).L_(),await Eb(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await mh(i)}}(t,e),bb(t)&&Ab(t)}async function cv(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),Q(Kr,"RemoteStore received new credentials");const i=is(n);n.da.add(3),await Nl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await dh(n)}async function b4(t,e){const n=re(t);e?(n.da.delete(2),await dh(n)):e||(n.da.add(2),await Nl(n),n.Va.set("Unknown"))}function Pa(t){return t.fa||(t.fa=function(n,i,r){const s=re(n);return s.oa(),new a4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{e_:f4.bind(null,t),n_:d4.bind(null,t),i_:m4.bind(null,t),Y_:g4.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Ig(t)?Rg(t):t.Va.set("Unknown")):(await t.fa.stop(),Tb(t))})),t.fa}function hr(t){return t.ga||(t.ga=function(n,i,r){const s=re(n);return s.oa(),new o4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:_4.bind(null,t),i_:E4.bind(null,t),na:v4.bind(null,t),ra:T4.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await mh(t)):(await t.ga.stop(),t.Ia.length>0&&(Q(Kr,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Cg(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Va(t))return new F(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=fo(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.pa=new Ue($.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):J(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ea{constructor(e,n,i,r,s,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ea(e,n,ta.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class S4{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=re(n),s=r.queries;r.queries=fv(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(P.ABORTED,"Firestore shutting down"))}}function fv(){return new ts(t=>F1(t),oh)}async function Sb(t,e){const n=re(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Da()&&e.va()&&(i=2):(s=new A4,i=e.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=xg(a,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Ng(n)}async function wb(t,e){const n=re(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.va()?0:1:!s.Da()&&e.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w4(t,e){const n=re(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Ng(n)}function R4(t,e,n){const i=re(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function Ng(t){t.Ca.forEach(e=>{e.next()})}var Qd,dv;(dv=Qd||(Qd={})).xa="default",dv.Cache="cache";class Rb{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class I4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=me(),this.mutatedKeys=me(),this.Za=G1(e),this.Xa=new ta(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new hv,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{const m=r.get(d),v=lh(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;m&&v?m.data.isEqual(v.data)?D!==M&&(i.track({type:3,doc:v}),k=!0):this.ru(m,v)||(i.track({type:2,doc:v}),k=!0,(u&&this.Za(v,u)>0||h&&this.Za(v,h)<0)&&(l=!0)):!m&&v?(i.track({type:0,doc:v}),k=!0):m&&!v&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(v?(a=a.add(v),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,p)=>function(v,D){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Vt:k})}};return M(v)-M(D)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Ea(this.query,e.Xa,s,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=me(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Cb(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new Ib(i))}),n}au(e){this.Ha=e.$s,this.Ya=me();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ea.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dg="SyncEngine";class C4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class x4{constructor(e){this.key=e,this.cu=!1}}class N4{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ts(l=>F1(l),oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ue($.comparator),this.Eu=new Map,this.du=new Tg,this.Au={},this.Ru=new Map,this.Vu=Ta.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function D4(t,e,n=!0){const i=Mb(t);let r;const s=i.hu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await xb(i,e,n,!0),r}async function O4(t,e){const n=Mb(t);await xb(n,e,!0,!1)}async function xb(t,e,n,i){const r=await WN(t.localStore,Dn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await k4(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&_b(t.remoteStore,r),l}async function k4(t,e,n,i,r){t.fu=(p,m,v)=>async function(M,k,w,A){let R=k.view.tu(w);R.Cs&&(R=await sv(M.localStore,k.query,!1).then(({documents:E})=>k.view.tu(E,R)));const N=A&&A.targetChanges.get(k.targetId),j=A&&A.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(R,M.isPrimaryClient,N,j);return gv(M,k.targetId,O.ou),O.snapshot}(t,p,m,v);const s=await sv(t.localStore,e,!0),a=new I4(e,s.$s),l=a.tu(s.documents),u=xl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,u);gv(t,n,h.ou);const d=new C4(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function M4(t,e,n){const i=re(t),r=i.hu.get(e),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!oh(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Fd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Sg(i.remoteStore,r.targetId),Yd(i,r.targetId)}).catch(Ma)):(Yd(i,r.targetId),await Fd(i.localStore,r.targetId,!0))}async function V4(t,e){const n=re(t),i=n.hu.get(e),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Sg(n.remoteStore,i.targetId))}async function P4(t,e,n){const i=H4(t);try{const r=await function(a,l){const u=re(a),h=Je.now(),d=l.reduce((v,D)=>v.add(D.key),me());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=fi(),M=me();return u.Bs.getEntries(v,d).next(k=>{D=k,D.forEach((w,A)=>{A.isValidDocument()||(M=M.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,D)).next(k=>{p=k;const w=[];for(const A of l){const R=Wx(A,p.get(A.key).overlayedDocument);R!=null&&w.push(new ns(A.key,R,L1(R.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,w,l)}).next(k=>{m=k;const w=k.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,k.batchId,w)})}).then(()=>({batchId:m.batchId,changes:Y1(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Ue(le)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await Dl(i,r.changes),await mh(i.remoteStore)}catch(r){const s=xg(r,"Failed to persist write");n.reject(s)}}async function Nb(t,e){const n=re(t);try{const i=await XN(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Te(a.cu,14607):r.removedDocuments.size>0&&(Te(a.cu,42227),a.cu=!1))}),await Dl(n,i,e)}catch(i){await Ma(i)}}function mv(t,e,n){const i=re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=re(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.Fa(l)&&(h=!0)}),h&&Ng(u)}(i.eventManager,e),r.length&&i.lu.Y_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L4(t,e,n){const i=re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new Ue($.comparator);a=a.insert(s,wt.newNoDocument(s,ie.min()));const l=me().add(s),u=new hh(ie.min(),new Map,new Ue(le),a,l);await Nb(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(e),Og(i)}else await Fd(i.localStore,e,!1).then(()=>Yd(i,e,n)).catch(Ma)}async function U4(t,e){const n=re(t),i=e.batch.batchId;try{const r=await KN(n.localStore,e);Ob(n,i,null),Db(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Dl(n,r)}catch(r){await Ma(r)}}async function j4(t,e,n){const i=re(t);try{const r=await function(a,l){const u=re(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Te(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);Ob(i,e,n),Db(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Dl(i,r)}catch(r){await Ma(r)}}function Db(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Ob(t,e,n){const i=re(t);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Au[i.currentUser.toKey()]=r}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||kb(t,i)})}function kb(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Sg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Og(t))}function gv(t,e,n){for(const i of n)i instanceof Ib?(t.du.addReference(i.key,e),z4(t,i)):i instanceof Cb?(Q(Dg,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||kb(t,i.key)):J(19791,{pu:i})}function z4(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(Q(Dg,"New document in limbo: "+n),t.Tu.add(i),Og(t))}function Og(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new $(Ce.fromString(e)),i=t.Vu.next();t.Eu.set(i,new x4(n)),t.Iu=t.Iu.insert(n,i),_b(t.remoteStore,new Fi(Dn(dg(n.path)),i,"TargetPurposeLimboResolution",ih.le))}}async function Dl(t,e,n){const i=re(t),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);const p=bg.Rs(u.targetId,h);s.push(p)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=re(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(h,m=>L.forEach(m.ds,v=>d.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>L.forEach(m.As,v=>d.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Va(p))throw p;Q(Ag,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=d.xs.get(m),D=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(D);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function B4(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){Q(Dg,"User change. New user:",e.toKey());const i=await mb(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(P.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dl(n,i.ks)}}function q4(t,e){const n=re(t),i=n.Eu.get(e);if(i&&i.cu)return me().add(i.key);{let r=me();const s=n.Pu.get(e);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function Mb(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.lu.Y_=w4.bind(null,e.eventManager),e.lu.gu=R4.bind(null,e.eventManager),e}function H4(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j4.bind(null,e),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return YN(this.persistence,new FN,e.initialUser,this.serializer)}Su(e){return new db(Eg.fi,this.serializer)}bu(e){return new e4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class F4 extends kc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Te(this.persistence.referenceDelegate instanceof Dc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xN(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new db(i=>Dc.fi(i,n),this.serializer)}}class Kd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await b4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S4}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),i=function(s){return new s4(s)}(e.databaseInfo);return function(s,a,l,u){return new u4(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new h4(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>mv(this.syncEngine,n,0),function(){return lv.C()?new lv:new t4}())}createSyncEngine(e,n){return function(r,s,a,l,u,h,d){const p=new N4(r,s,a,l,u,h);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=re(r);Q(Kr,"RemoteStore shutting down."),s.da.add(5),await Nl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class G4{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Q(fr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Q(fr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=xg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function If(t,e){t.asyncQueue.verifyOperationInProgress(),Q(fr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await mb(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q4(t);Q(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>cv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>cv(e.remoteStore,r)),t._onlineComponents=e}async function Q4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(fr,"Using user provided OfflineComponentProvider");try{await If(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===P.FAILED_PRECONDITION||r.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await If(t,new kc)}}else Q(fr,"Using default OfflineComponentProvider"),await If(t,new F4(void 0));return t._offlineComponents}async function Pb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(fr,"Using user provided OnlineComponentProvider"),await pv(t,t._uninitializedComponentsProvider._online)):(Q(fr,"Using default OnlineComponentProvider"),await pv(t,new Kd))),t._onlineComponents}function Y4(t){return Pb(t).then(e=>e.syncEngine)}async function Lb(t){const e=await Pb(t),n=e.eventManager;return n.onListen=D4.bind(null,e.syncEngine),n.onUnlisten=M4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V4.bind(null,e.syncEngine),n}function K4(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new Vb({next:m=>{d.xu(),a.enqueueAndForget(()=>wb(s,p));const v=m.docs.has(l);!v&&m.fromCache?h.reject(new F(P.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?h.reject(new F(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new Rb(dg(l.path),d,{includeMetadataChanges:!0,Qa:!0});return Sb(s,p)}(await Lb(t),t.asyncQueue,e,n,i)),i.promise}function X4(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new Vb({next:m=>{d.xu(),a.enqueueAndForget(()=>wb(s,p)),m.fromCache&&u.source==="server"?h.reject(new F(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new Rb(l,d,{includeMetadataChanges:!0,Qa:!0});return Sb(s,p)}(await Lb(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t,e,n){if(!n)throw new F(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $4(t,e,n,i){if(e===!0&&i===!0)throw new F(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _v(t){if(!$.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vv(t){if($.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(t);throw new F(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firestore.googleapis.com",Tv=!0;class Ev{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new F(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=Tv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IN)throw new F(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ub((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rx;switch(i.type){case"firstParty":return new lx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=yv.get(n);i&&(Q("ComponentProvider","Removing Datastore"),yv.delete(n),i.terminate())}(this),Promise.resolve()}}function Z4(t,e,n,i={}){var r;t=dr(t,ph);const s=Na(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(kE(`https://${u}`),ME("Firestore",!0)),a.host!==zb&&a.host!==u&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Fr(h,l)&&(t._setSettings(h),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=St.MOCK_USER;else{d=Iw(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(m)}t._authCredentials=new sx(new w1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class ir extends gi{constructor(e,n,i){super(e,n,dg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new $(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function Cf(t,e,...n){if(t=jt(t),jb("collection","path",e),t instanceof ph){const i=Ce.fromString(e,...n);return vv(i),new ir(t,null,i)}{if(!(t instanceof Lt||t instanceof ir))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ce.fromString(e,...n));return vv(i),new ir(t.firestore,null,i)}}function xi(t,e,...n){if(t=jt(t),arguments.length===1&&(e=I1.newId()),jb("doc","path",e),t instanceof ph){const i=Ce.fromString(e,...n);return _v(i),new Lt(t,null,new $(i))}{if(!(t instanceof Lt||t instanceof ir))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ce.fromString(e,...n));return _v(i),new Lt(t.firestore,t instanceof ir?t.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new pb(this,"async_queue_retry"),this.rc=()=>{const i=Rf();i&&Q(bv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ni;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Va(e))throw e;Q(bv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,hi("INTERNAL UNHANDLED ERROR: ",Sv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const r=Cg.createAndSchedule(this,e,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&J(47125,{cc:Sv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Sv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ol extends ph{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Av,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function W4(t,e){const n=typeof t=="object"?t:UE(),i=typeof t=="string"?t:Sc,r=Wm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=ww("firestore");s&&Z4(r,...s)}return r}function kg(t){if(t._terminated)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J4(t),t._firestoreClient}function J4(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,h,d){return new Ax(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ub(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new G4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(_t.fromBase64String(e))}catch(n){throw new F(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^__.*__$/;class tD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ic:t})}}class Lg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:i,Rc:!1});return r.Vc(e),r}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Mc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(qb(this.Ic)&&eD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class nD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||fh(e)}bc(e,n,i,r=!1){return new Lg({Ic:e,methodName:n,wc:i,path:pt.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new nD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iD(t,e,n,i,r,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,r);Qb("Data must be an object, but it was:",a,i);const l=Fb(i,a);let u,h;if(s.merge)u=new gn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=rD(e,p,n);if(!a.contains(m))throw new F(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);aD(d,m)||d.push(m)}u=new gn(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new tD(new on(l),u,h)}function Hb(t,e,n,i=!1){return jg(n,t.bc(i?4:3,e))}function jg(t,e){if(Gb(t=jt(t)))return Qb("Unsupported field value:",e,t),Fb(t,e);if(t instanceof Bb)return function(i,r){if(!qb(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=jg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Qx(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Je.fromDate(i);return{timestampValue:Nc(r.serializer,s)}}if(i instanceof Je){const s=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nc(r.serializer,s)}}if(i instanceof Vg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ba)return{bytesValue:sb(r.serializer,i._byteString)};if(i instanceof Lt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Pg)return function(a,l){return{mapValue:{fields:{[V1]:{stringValue:P1},[wc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return gg(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${gh(i)}`)}(t,e)}function Fb(t,e){const n={};return x1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,(i,r)=>{const s=jg(r,e.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Gb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Vg||t instanceof ba||t instanceof Lt||t instanceof Bb||t instanceof Pg)}function Qb(t,e,n){if(!Gb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=gh(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function rD(t,e,n){if((e=jt(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return Yb(t,e);throw Mc("Field path arguments must be of type string or ",t,!1,void 0,n)}const sD=new RegExp("[~\\*/\\[\\]]");function Yb(t,e,n){if(e.search(sD)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(P.INVALID_ARGUMENT,l+t+u)}function aD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oD extends zg{data(){return super.data()}}function yh(t,e){return typeof e=="string"?Yb(t,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class _h extends Bg{}function uD(t,e,...n){let i=[];e instanceof Bg&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof qg).length,l=s.filter(u=>u instanceof vh).length;if(a>1||a>0&&l>0)throw new F(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class vh extends _h{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new vh(e,n,i)}_apply(e){const n=this._parse(e);return Kb(e._query,n),new gi(e.firestore,e.converter,jd(e._query,n))}_parse(e){const n=Ug(e.firestore);return function(s,a,l,u,h,d,p){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Iv(p,d);const D=[];for(const M of p)D.push(Rv(u,s,M));m={arrayValue:{values:D}}}else m=Rv(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Iv(p,d),m=Hb(l,a,p,d==="in"||d==="not-in");return Xe.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mu(t,e,n){const i=e,r=yh("where",t);return vh._create(r,i,n)}class qg extends Bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)Kb(a,u),a=jd(a,u)}(e._query,n),new gi(e.firestore,e.converter,jd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends _h{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hg(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new F(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new F(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nl(s,a)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new es(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function wv(t,e="asc"){const n=e,i=yh("orderBy",t);return Hg._create(i,n)}class Fg extends _h{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Fg(e,n,i)}_apply(e){return new gi(e.firestore,e.converter,Ic(e._query,this._limit,this._limitType))}}function cD(t){return Fg._create("limit",t,"F")}class Gg extends _h{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Gg(e,n,i)}_apply(e){const n=fD(e,this.type,this._docOrFields,this._inclusive);return new gi(e.firestore,e.converter,function(r,s){return new es(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function hD(...t){return Gg._create("startAfter",t,!1)}function fD(t,e,n,i){if(n[0]=jt(n[0]),n[0]instanceof zg)return function(s,a,l,u,h){if(!u)throw new F(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const p of ea(s))if(p.field.isKeyField())d.push(Rc(a,u.key));else{const m=u.data.field(p.field);if(sh(m))throw new F(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const v=p.field.canonicalString();throw new F(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new va(d,h)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Ug(t.firestore);return function(a,l,u,h,d,p){const m=a.explicitOrderBy;if(d.length>m.length)throw new F(P.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let D=0;D<d.length;D++){const M=d[D];if(m[D].field.isKeyField()){if(typeof M!="string")throw new F(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof M}`);if(!mg(a)&&M.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${M}' contains a slash.`);const k=a.path.child(Ce.fromString(M));if(!$.isDocumentKey(k))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const w=new $(k);v.push(Rc(l,w))}else{const k=Hb(u,h,M);v.push(k)}}return new va(v,p)}(t._query,t.firestore._databaseId,r,e,n,i)}}function Rv(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new F(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(e)&&n.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ce.fromString(n));if(!$.isDocumentKey(i))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Rc(t,new $(i))}if(n instanceof Lt)return Rc(t,n._key);throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function Iv(t,e){if(!Array.isArray(t)||t.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kb(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dD{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Jr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[wc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ge(a.doubleValue));return new Pg(s)}convertGeoPoint(e){return new Vg(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=lr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ce.fromString(e);Te(hb(i),9688,{name:e});const r=new el(i.get(1),i.get(3)),s=new $(i.popFirst(5));return r.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xb extends zg{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(yh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Uu extends Xb{data(e={}){return super.data(e)}}class gD{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new go(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Uu(this._firestore,this._userDataWriter,i.key,i,new go(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new go(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new go(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:pD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){t=dr(t,Lt);const e=dr(t.firestore,Ol);return K4(kg(e),t._key).then(n=>_D(e,t,n))}class Zb extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function Cv(t){t=dr(t,gi);const e=dr(t.firestore,Ol),n=kg(e),i=new Zb(e);return lD(t._query),X4(n,t._query).then(r=>new gD(e,i,t,r))}function xf(t,e,n){t=dr(t,Lt);const i=dr(t.firestore,Ol),r=mD(t.converter,e,n);return Wb(i,[iD(Ug(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,On.none())])}function yD(t){return Wb(dr(t.firestore,Ol),[new pg(t._key,On.none())])}function Wb(t,e){return function(i,r){const s=new ni;return i.asyncQueue.enqueueAndForget(async()=>P4(await Y4(i),r,s)),s.promise}(kg(t),e)}function _D(t,e,n){const i=n.docs.get(e._key),r=new Zb(t);return new Xb(t,r,e._key,i,new go(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){ka=r})(Da),ma(new Gr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Ol(new ax(i.getProvider("auth-internal")),new ux(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),tr(x_,N_,e),tr(x_,N_,"esm2017")})();const vD="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",TD="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",ED="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",bD="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",AD="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",SD="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",wD="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",RD="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",ID="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",CD="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",xD="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",ND="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",DD="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",OD="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",kD="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",MD="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",VD="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",PD="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",ln="https://art.pixilart.com/sr2a947c8f967b8.png",LD={dark:{primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",text:"#FFFFFF",textMuted:"#9CA3AF"},light:{primary:"#6353b3",background:"#F3F4F6",card:"#FFFFFF",cardLight:"#E5E7EB",text:"#1F2937",textMuted:"#6B7280"}},na={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},Qg={normal:vD,fire:TD,water:ED,electric:bD,grass:AD,ice:SD,fighting:wD,poison:RD,ground:ID,flying:CD,psychic:xD,bug:ND,rock:DD,ghost:OD,dragon:kD,dark:MD,steel:VD,fairy:PD},gu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},UD=({color:t})=>g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:g.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),jD=({color:t})=>g.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:g.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),Jb=({className:t="w-6 h-6",isFavorite:e,color:n})=>g.jsxs("svg",{className:t,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:e?"#FBBF24":n},children:[" ",g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),Xd=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),zD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),eA=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),BD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",g.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),qD=()=>g.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Yg=()=>g.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),HD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),g.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),g.jsx("path",{d:"M3 12h6"}),g.jsx("path",{d:"M15 12h6"})]}),FD=()=>g.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),GD=()=>g.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),QD=()=>g.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),YD=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),KD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),g.jsx("path",{d:"M9 12l2 2l4 -4"})]}),XD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),g.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),$D=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),g.jsx("path",{d:"M12 8v4"}),g.jsx("path",{d:"M12 16h.01"})]}),ZD=({color:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sun",style:{color:t},children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),g.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),WD=({color:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-moon",style:{color:t},children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})]}),JD=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-swords",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z"}),g.jsx("path",{d:"M5 13l6 6"}),g.jsx("path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365"}),g.jsx("path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5"})]}),e3=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[g.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),g.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),t3=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sparkles",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z"})]}),n3=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-upload",children:[g.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),g.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),g.jsx("path",{d:"M7 9l5 -5l5 5"}),g.jsx("path",{d:"M12 4l0 12"})]}),Vc=({type:t,colors:e})=>g.jsxs("span",{className:"text-xs text-white font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full shadow-sm",style:{backgroundColor:na[t]||"#777"},children:[" ",t.toUpperCase()," "]}),i3={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Ir="pokemonTeamBuilder",xv=(t,e)=>{const[n,i]=q.useState(t);return q.useEffect(()=>{const r=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(r)}},[t,e]),n},tA=tm.memo(({onCardClick:t,details:e,lastRef:n,isSuggested:i,colors:r})=>{const s=a=>{a.stopPropagation(),t(e)};return e?g.jsxs("div",{ref:n,onClick:s,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${i?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:r.cardLight},children:[i&&g.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),g.jsx("img",{src:e.sprite||ln,onError:a=>{a.currentTarget.src=ln},alt:e.name,className:"mx-auto w-full h-auto max-w-[120px] group-hover:scale-110 transition-transform"}),g.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",style:{color:r.text},children:e.name}),g.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:e.types.map(a=>g.jsx("img",{src:Qg[a],alt:a,className:"w-5 h-5"},a))})]}):g.jsxs("div",{ref:n,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:r.cardLight},children:[g.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),g.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),g.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:g.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),r3=({stat:t,value:e,colors:n})=>{const i={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},r=e/255*100;return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",style:{color:n.text},children:t.replace("-"," ")}),g.jsx("div",{className:"w-2/3 rounded-full h-4",style:{backgroundColor:n.cardLight},children:g.jsx("div",{className:`${i[t]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${r}%`},children:e})})]})},s3=({ability:t})=>{const[e,n]=q.useState(""),[i,r]=q.useState(!1),[s,a]=q.useState(!1),l=q.useRef(null),u=q.useCallback(async()=>{if(!(e||s)){a(!0);try{const M=(await(await fetch(t.url)).json()).effect_entries.find(k=>k.language.name==="en");n((M==null?void 0:M.short_effect)||"No description available.")}catch{n("Could not load description.")}finally{a(!1)}}},[t.url,e,s]),h=()=>{u(),r(!0)},d=()=>{r(!1)},p=()=>{u(),l.current=setTimeout(()=>{r(!0)},300)},m=()=>{clearTimeout(l.current),setTimeout(()=>{r(!1)},2e3)};return g.jsxs("span",{className:"relative capitalize text-white inline-block bg-gray-700 px-3 py-1 rounded-full text-sm cursor-pointer",onMouseEnter:h,onMouseLeave:d,onTouchStart:p,onTouchEnd:m,children:[t.name.replace("-"," "),i&&g.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-gray-700 text-white text-xs rounded-md shadow-lg z-20",children:s?"Loading...":e})]})},a3=({pokemon:t,onClose:e,onAdd:n,currentTeam:i,colors:r,showPokemonDetails:s,db:a})=>{var D,M;const[l,u]=q.useState(!1),[h,d]=q.useState([]);q.useEffect(()=>{if(!t||!t.evolution_chain_url||!a)return;(async()=>{try{const A=await(await fetch(t.evolution_chain_url)).json(),R=[];let N=A.chain;do R.push({name:N.species.name,url:N.species.url}),N=N.evolves_to[0];while(N&&N.hasOwnProperty("evolves_to"));const j=R.map(async E=>{const y=E.url.split("/").filter(Boolean).pop(),b=xi(a,"artifacts/pokemonTeamBuilder/pokemons",y),S=await $b(b);return S.exists()?S.data():{name:E.name,sprite:ln}}),O=await Promise.all(j);d(O)}catch(w){console.error("Failed to fetch evolution chain",w)}})()},[t,a]);const p=k=>{e(),s(k)};if(!t)return null;const m=i.some(k=>k.id===t.id),v=l?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite;return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 h-[100vh] flex items-center justify-center z-50 p-4 ",onClick:e,children:g.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",style:{backgroundColor:r.card},onClick:k=>k.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:g.jsx(Yg,{})}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("img",{src:v||ln,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),g.jsx("button",{onClick:()=>u(!l),className:`absolute bottom-0 right-0 p-1 rounded-full ${l?"bg-yellow-500":"bg-gray-700"}`,style:{color:"white"},title:"Toggle Shiny",children:g.jsx(t3,{})})]}),g.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:r.text},children:[t.name," ",g.jsxs("span",{style:{color:r.textMuted},children:["#",t.id]})]}),g.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(k=>g.jsx(Vc,{type:k,colors:r},k))})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:r.text},children:"Base Stats"}),g.jsx("div",{className:"space-y-2",children:(D=t.stats)==null?void 0:D.map(k=>g.jsx(r3,{stat:k.name,value:k.base_stat,colors:r},k.name))})]}),h.length>1&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:r.text},children:"Evolution Line"}),g.jsx("div",{className:"flex justify-center items-center gap-2",children:h.map((k,w)=>g.jsxs(tm.Fragment,{children:[g.jsxs("div",{onClick:()=>p(k),className:"text-center cursor-pointer p-2 rounded-lg hover:bg-purple-500/30",children:[g.jsx("img",{src:k.sprite||ln,alt:k.name,className:"h-20 w-20 mx-auto"}),g.jsx("p",{className:"text-sm capitalize",style:{color:r.text},children:k.name})]}),w<h.length-1&&g.jsx("span",{className:"text-2xl",style:{color:r.textMuted},children:""})]},k.name))})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),g.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(M=t.abilities)==null?void 0:M.map((k,w)=>g.jsx(s3,{ability:k},w))})]}),g.jsx("div",{className:"mt-8 flex justify-center",children:!m&&n&&g.jsxs("button",{onClick:()=>{n(t),e()},className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[g.jsx(BD,{})," Add to Team"]})})]})})},o3=({pokemon:t,onClose:e,onSave:n,colors:i,items:r,natures:s,moveDetailsCache:a,setMoveDetailsCache:l})=>{const[u,h]=q.useState(t.customization),[d,p]=q.useState(510),[m,v]=q.useState(""),D=["hp","attack","defense","special-attack","special-defense","speed"],M=q.useCallback(async(O,E)=>{if(a[E])return a[E];try{const b=await(await fetch(O)).json(),S={name:b.name,type:b.type.name,power:b.power,accuracy:b.accuracy,pp:b.pp,damage_class:b.damage_class.name};return l(I=>({...I,[E]:S})),S}catch(y){return console.error(`Failed to fetch details for move: ${E}`,y),null}},[a,l]);q.useEffect(()=>{const O=Object.values(u.evs).reduce((E,y)=>E+y,0);p(510-O)},[u.evs]);const k=(O,E)=>{const y=Number(E),S={...u.evs}[O],I=y-S;y>252||d-I<0||h(C=>({...C,evs:{...C.evs,[O]:y}}))},w=(O,E)=>{h(y=>({...y,[O]:E}))},A=O=>{h(E=>{const y=E.moves,b=y.includes(O)?y.filter(S=>S!==O):[...y,O];return b.length>4?E:{...E,moves:b}})},R=()=>{n(t.instanceId,u),e()},N=(O,E,y)=>y==="hp"?Math.floor(O*2+31+Math.floor(E/4))+110:Math.floor(Math.floor(O*2+31+Math.floor(E/4))+5),j=q.useMemo(()=>m?t.moves.filter(O=>O.name.toLowerCase().includes(m.toLowerCase())):t.moves,[m,t.moves]);return q.useEffect(()=>{j.slice(0,20).forEach(O=>{a[O.name]||M(O.url,O.name)})},[j,a,M]),t?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:g.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:i.card,"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},onClick:O=>O.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:g.jsx(Yg,{})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("img",{src:u.isShiny?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),g.jsx("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:i.text},children:t.name}),g.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(O=>g.jsx(Vc,{type:O,colors:i},O))}),g.jsxs("div",{className:"w-full mt-4 grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Item"}),g.jsxs("select",{value:u.item,onChange:O=>w("item",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:[g.jsx("option",{value:"",children:"None"}),r.map(O=>g.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Nature"}),g.jsx("select",{value:u.nature,onChange:O=>w("nature",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:s.map(O=>g.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Tera Type"}),g.jsx("select",{value:u.teraType,onChange:O=>w("teraType",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:Object.keys(na).map(O=>g.jsx("option",{value:O,className:"capitalize",children:O},O))})]}),g.jsx("div",{className:"flex items-center justify-start pt-5",children:g.jsxs("label",{htmlFor:"shiny-toggle",className:"flex items-center cursor-pointer",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"checkbox",id:"shiny-toggle",className:"sr-only",checked:u.isShiny,onChange:O=>w("isShiny",O.target.checked)}),g.jsx("div",{className:"block w-10 h-6 bg-gray-600 rounded-full"}),g.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"})]}),g.jsx("div",{className:"ml-3 text-sm font-bold",style:{color:i.text},children:"Shiny"})]})})]}),g.jsxs("div",{className:"w-full mt-4",children:[g.jsx("label",{className:"block text-lg font-bold mb-2",style:{color:i.text},children:"Ability"}),g.jsx("select",{value:u.ability,onChange:O=>w("ability",O.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:t.abilities.map(O=>g.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold",style:{color:i.text},children:"Stats & EVs"}),g.jsxs("p",{className:"text-sm mb-2",style:{color:i.textMuted},children:["Remaining EVs: ",g.jsx("span",{className:"font-bold text-lg",style:{color:i.primary},children:d})]}),g.jsx("div",{className:"space-y-3",children:D.map((O,E)=>{const y=t.stats[E].base_stat,b=u.evs[O],S=N(y,b,O);return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center capitalize text-sm",children:[g.jsx("span",{style:{color:i.text},children:O.replace(/-/g," ")}),g.jsxs("span",{style:{color:i.textMuted},children:[b," / ",S]})]}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("input",{type:"range",min:"0",max:"252",value:b,step:"4",onChange:I=>k(O,I.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{backgroundColor:i.cardLight}})})]},O)})}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Move Selection"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 min-h-[80px] mb-4 p-2 rounded-lg",style:{backgroundColor:i.background},children:[u.moves.map(O=>{var y;const E=(y=a[O])==null?void 0:y.type;return g.jsx("div",{className:"p-2 rounded-lg text-center text-sm capitalize text-white",style:{backgroundColor:E?na[E]:i.cardLight},children:O.replace(/-/g," ")},O)}),Array.from({length:4-u.moves.length}).map((O,E)=>g.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i.cardLight,opacity:.5},children:g.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:i.background}})},E))]}),g.jsx("input",{type:"text",placeholder:"Search moves...",value:m,onChange:O=>v(O.target.value),className:"w-full p-2 rounded-lg mb-2",style:{backgroundColor:i.cardLight,color:i.text}}),g.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",style:{"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},children:j.map(O=>{var S;const E=(S=a[O.name])==null?void 0:S.type,y=u.moves.includes(O.name),b=y?{backgroundColor:E?na[E]:i.primary,color:"white"}:{backgroundColor:i.cardLight,color:i.text};return g.jsx("button",{onClick:()=>A(O.name),className:`p-2 rounded-lg text-sm capitalize transition-colors ${!y&&"hover:opacity-80"}`,style:b,children:O.name.replace(/-/g," ")},O.name)})})]})]})]}),g.jsx("div",{className:"mt-8 flex justify-end",children:g.jsxs("button",{onClick:R,className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[g.jsx(eA,{})," Confirm Changes"]})})]})}):null},l3=({currentTeam:t,teamName:e,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:p,handleDeleteTeam:m,handleExportToShowdown:v,teamAnalysis:D,searchInput:M,setSearchInput:k,selectedGeneration:w,setSelectedGeneration:A,generations:R,isInitialLoading:N,availablePokemons:j,handleAddPokemonToTeam:O,lastPokemonElementRef:E,isFetchingMore:y,selectedTypes:b,handleTypeSelection:S,showDetails:I,suggestedPokemonIds:C,colors:T,onEditTeamPokemon:vt})=>g.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[g.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:T.card},children:[g.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:T.primary,color:T.text},children:"Current Team"}),g.jsx("input",{type:"text",value:e,onChange:K=>n(K.target.value),placeholder:"Team Name",className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:T.cardLight,borderColor:"transparent",color:T.text}}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:T.background},children:[t.map(K=>g.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:()=>vt(K),children:[g.jsx("img",{src:K.animatedSprite||K.sprite||ln,onError:z=>{z.currentTarget.src=K.sprite||ln},alt:K.name,className:"mx-auto h-20 w-20"}),g.jsx("p",{className:"text-xs capitalize truncate",style:{color:T.text},children:K.name}),g.jsx("button",{onClick:z=>{z.stopPropagation(),vt(K)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-6 w-6 flex items-center justify-center transition-opacity text-sm opacity-100 visible lg:opacity-0 lg:invisible lg:group-hover:opacity-100 lg:group-hover:visible",children:g.jsx(e3,{})}),g.jsx("button",{onClick:z=>{z.stopPropagation(),i(K.instanceId)},className:`\r
                                absolute top-1 right-1 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-sm\r
                                opacity-100 visible\r
                                lg:opacity-0 lg:invisible\r
                                lg:group-hover:opacity-100 lg:group-hover:visible\r
                                transition-opacity duration-200 \r
                            `,children:g.jsx(Xd,{})})]},K.instanceId)),Array.from({length:6-t.length}).map((K,z)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("img",{src:ln,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},z))]}),g.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[g.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg hover:opacity-90",style:{backgroundColor:T.primary,color:T.background},children:[" ",g.jsx(eA,{})," ",s?"Update":"Save"," "]}),g.jsx("button",{onClick:v,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:T.cardLight,color:T.text},title:"Export to Showdown",children:g.jsx(n3,{})}),g.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:T.cardLight,color:T.text},title:"Share Team",children:g.jsx(YD,{})}),g.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:T.cardLight,color:T.text},title:"Clear Team",children:g.jsx(zD,{})})]})]}),g.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:T.card},children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'",color:T.text},children:"Recent Teams"}),g.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm hover:underline",style:{color:T.primary},children:"View All"})]}),g.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",style:{"--scrollbar-track-color":T.card,"--scrollbar-thumb-color":T.primary,"--scrollbar-thumb-border-color":T.card},children:l.length>0?l.map(K=>g.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:T.cardLight},children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-bold text-lg truncate",style:{color:T.text},children:K.name}),g.jsx("div",{className:"flex mt-1",children:K.pokemons.map(z=>g.jsx("img",{src:z.sprite||ln,onError:te=>{te.currentTarget.src=ln},alt:z.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:T.cardLight,backgroundColor:T.card}},z.id))})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[g.jsx("button",{onClick:()=>h(K),title:"Favorite",children:g.jsx(Jb,{isFavorite:K.isFavorite,color:T.textMuted})}),g.jsx("button",{onClick:()=>d(K),className:"text-xs font-bold py-1 px-3 rounded-full",style:{backgroundColor:T.primary,color:T.background},children:"Edit"}),g.jsx("button",{onClick:()=>m(K.id),className:"bg-red-600 p-1 hover:bg-red-700 text-white rounded-lg",children:g.jsx(Xd,{})})]})]},K.id)):g.jsx("p",{className:"text-center py-4",style:{color:T.textMuted},children:"No recent teams yet."})})]})]}),g.jsx("div",{className:"lg:col-span-6",children:g.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:T.card},children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:T.text},children:"Choose your Pokmon!"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:M,onChange:K=>k(K.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:T.cardLight,borderColor:"transparent",color:T.text}}),g.jsxs("select",{value:w,onChange:K=>A(K.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:T.cardLight,borderColor:"transparent",color:T.text},children:[g.jsx("option",{value:"all",style:{color:T.text},children:"All Generations"}),R.map(K=>g.jsx("option",{value:K,className:"capitalize",style:{color:T.text},children:K.replace("-"," ")},K))]})]})]}),g.jsx("div",{className:"relative flex-grow h-[60vh]",children:N?g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:T.primary}})}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":T.card,"--scrollbar-thumb-color":T.primary,"--scrollbar-thumb-border-color":T.card},children:[g.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:j.map((K,z)=>g.jsx(tA,{details:K,onCardClick:O,lastRef:z===j.length-1?E:null,isSuggested:C.has(K.id),colors:T},K.id))}),y&&g.jsx("div",{className:"flex justify-center py-4",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:T.primary}})}),j.length===0&&!N&&g.jsx("p",{className:"text-center py-8",style:{color:T.textMuted},children:"No Pokmon found with these filters. :("})]})})})]})}),g.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[g.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:T.card},children:[g.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:T.text},children:"Filter by Type"}),g.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(na).map(K=>g.jsx("button",{onClick:()=>S(K),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${b.has(K)?"ring-2 ring-purple":""}`,style:{backgroundColor:T.cardLight},title:K,children:g.jsx("img",{src:Qg[K],alt:K,className:"w-full h-full object-contain"})},K))})]}),t.length>0&&g.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:T.card},children:[g.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",style:{color:T.text},children:"Team Analysis"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:D.strengths.size>0?Array.from(D.strengths).sort().map(K=>g.jsx(Vc,{type:K,colors:T},K)):g.jsx("p",{className:"text-sm",style:{color:T.textMuted},children:"No type advantages found."})})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(D.weaknesses).length>0?Object.entries(D.weaknesses).sort(([,K],[,z])=>z-K).map(([K,z])=>g.jsxs("div",{className:"flex items-center",children:[g.jsx(Vc,{type:K,colors:T}),g.jsxs("span",{className:"text-xs text-red-300",children:["(",z,"x)"]})]},K)):g.jsx("p",{className:"text-sm",style:{color:T.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),u3=({teams:t,onEdit:e,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s,colors:a})=>g.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:a.card},children:[g.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",style:{color:a.text},children:"All Saved Teams"}),g.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:l=>s(l.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:a.cardLight,borderColor:"transparent",color:a.text}}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length>0?t.map(l=>g.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:a.cardLight},children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("p",{className:"font-bold text-xl truncate mb-2",style:{color:a.text},children:l.name}),g.jsx("button",{onClick:()=>i(l),title:"Favorite",children:g.jsx(Jb,{isFavorite:l.isFavorite,color:a.textMuted})})]}),g.jsx("div",{className:"flex my-2",children:l.pokemons.map(u=>g.jsx("img",{src:u.sprite||ln,onError:h=>{h.currentTarget.src=ln},alt:u.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:a.cardLight,backgroundColor:a.card}},u.id))}),g.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[g.jsx("button",{onClick:()=>e(l),className:"w-full bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),g.jsx("button",{onClick:()=>n(l.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:g.jsx(Xd,{})})]})]},l.id)):g.jsx("p",{className:"col-span-full text-center py-8",style:{color:a.textMuted},children:"No teams found."})})]}),c3=({pokemons:t,lastPokemonElementRef:e,isFetchingMore:n,searchInput:i,setSearchInput:r,selectedTypes:s,handleTypeSelection:a,selectedGeneration:l,setSelectedGeneration:u,generations:h,isInitialLoading:d,colors:p,showDetails:m})=>g.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsx("div",{className:"lg:col-span-9",children:g.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:p.card},children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:p.text},children:"Pokdex"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:i,onChange:v=>r(v.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:p.cardLight,borderColor:"transparent",color:p.text}}),g.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:p.cardLight,borderColor:"transparent",color:p.text},children:[g.jsx("option",{value:"all",style:{color:p.text},children:"All Generations"}),h.map(v=>g.jsx("option",{value:v,className:"capitalize",style:{color:p.text},children:v.replace("-"," ")},v))]})]})]}),g.jsx("div",{className:"relative flex-grow h-[75vh]",children:d?g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:p.primary}})}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":p.card,"--scrollbar-thumb-color":p.primary,"--scrollbar-thumb-border-color":p.card},children:[g.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-2",children:t.map((v,D)=>g.jsx(tA,{details:v,onCardClick:m,lastRef:D===t.length-1?e:null,colors:p},v.id))}),n&&g.jsx("div",{className:"flex justify-center py-4",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:p.primary}})}),t.length===0&&!d&&g.jsx("p",{className:"text-center py-8",style:{color:p.textMuted},children:"No Pokmon found."})]})})})]})}),g.jsx("div",{className:"lg:col-span-3 space-y-8",children:g.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:p.card},children:[g.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:p.text},children:"Filter by Type"}),g.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(na).map(v=>g.jsx("button",{onClick:()=>a(v),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${s.has(v)?"ring-2 ring-purple":""}`,style:{backgroundColor:p.cardLight},title:v,children:g.jsx("img",{src:Qg[v],alt:v,className:"w-full h-full object-contain"})},v))})]})})]});function h3(){const[t,e]=q.useState("light"),n=LD[t],[i,r]=q.useState(null),[s,a]=q.useState(null),[l,u]=q.useState(!1),[h,d]=q.useState([]),[p,m]=q.useState(null),[v,D]=q.useState(!0),[M,k]=q.useState({}),[w,A]=q.useState({}),[R,N]=q.useState([]),[j,O]=q.useState([]),[E,y]=q.useState([]),[b,S]=q.useState("all"),[I,C]=q.useState(new Set),[T,vt]=q.useState(""),K=xv(T,300),[z,te]=q.useState("all"),[W,we]=q.useState(new Set),[Oe,pi]=q.useState(""),ht=xv(Oe,300),[se,Tt]=q.useState([]),[Qe,Kg]=q.useState([]),[Bt,rs]=q.useState(""),[vn,yi]=q.useState(null),[ss,as]=q.useState({strengths:new Set,weaknesses:{}}),[_i,os]=q.useState(!0),[Tn,La]=q.useState(!1),[Th,kl]=q.useState([]),[nt,Ln]=q.useState("builder"),[ls,pr]=q.useState(!1),[xt,Ua]=q.useState(!1),[yr,it]=q.useState(""),[rt,_r]=q.useState(null),[ja,za]=q.useState(null),[Eh,us]=q.useState(3),[vr,cs]=q.useState(new Set),[hs,bh]=q.useState(!1),ce=q.useCallback((B,Y="info")=>{const G=Date.now();kl(X=>[...X,{id:G,message:B,type:Y}]),setTimeout(()=>kl(X=>X.filter(Z=>Z.id!==G)),3e3)},[]);q.useEffect(()=>{(async()=>{try{const G=await(await fetch("https://pokeapi.co/api/v2/generation")).json();y(G.results.map(je=>je.name));const Z=await(await fetch("https://pokeapi.co/api/v2/item?limit=2000")).json();N(Z.results);const ke=await(await fetch("https://pokeapi.co/api/v2/nature")).json();O(ke.results)}catch{ce("Failed to load filter data.","error")}})()},[]),q.useEffect(()=>{const B=se;if(B.length===0){as({strengths:new Set,weaknesses:{}}),cs(new Set);return}const Y={},G=new Set;B.flatMap(Z=>Z.types).forEach(Z=>{var oe;Object.entries(((oe=gu[Z])==null?void 0:oe.damageDealt)||{}).forEach(([ke,je])=>{je>1&&G.add(ke.toLowerCase())})}),Object.keys(gu).forEach(Z=>{const oe=Z.charAt(0).toUpperCase()+Z.slice(1);let ke=0,je=0;B.forEach(Wt=>{const bi=Wt.types.reduce((gs,ps)=>{var br;return gs*(((br=gu[ps])==null?void 0:br.damageTaken[oe])??1)},1);bi>1?ke++:bi<1&&je++}),ke>0&&ke>=B.length/2&&ke>je&&(Y[Z]=ke)}),as({strengths:G,weaknesses:Y});const X=Object.keys(Y);if(X.length>0&&h.length>0){const Z=h.filter(oe=>{const ke=oe;return ke.types?X.some(je=>{const Wt=je.charAt(0).toUpperCase()+je.slice(1);return ke.types.reduce((gs,ps)=>{var br;return gs*(((br=gu[ps])==null?void 0:br.damageTaken[Wt])??1)},1)<1}):!1});cs(new Set(Z.map(oe=>oe.id).slice(0,10)))}else cs(new Set)},[se,h]),q.useMemo(()=>{const B=new Set(se.map(G=>G.id));return h.filter(G=>!B.has(G.id)).sort((G,X)=>{const Z=vr.has(G.id),oe=vr.has(X.id);return Z&&!oe?-1:!Z&&oe?1:G.id-X.id})},[h,se,vr]);const Ba=q.useMemo(()=>Qe.sort((B,Y)=>new Date(Y.updatedAt||Y.createdAt)-new Date(B.updatedAt||B.createdAt)).slice(0,3),[Qe]);q.useMemo(()=>{let B=[...Qe].sort((Y,G)=>G.isFavorite-Y.isFavorite||new Date(G.updatedAt||Y.createdAt)-new Date(Y.updatedAt||Y.createdAt));return yr&&(B=B.filter(Y=>Y.name.toLowerCase().includes(yr.toLowerCase()))),B},[Qe,yr]),q.useCallback(async B=>{if(!s||hs)return;bh(!0),ce("Loading shared team...","info");const Y=xi(s,`artifacts/${Ir}/public/data/teams`,B);try{const G=await $b(Y);if(G.exists()){const X=G.data(),Z=X.pokemons.map(je=>fetchPokemonDetails(je.id)),ke=(await Promise.all(Z)).map((je,Wt)=>({...je,instanceId:X.pokemons[Wt].instanceId,customization:X.pokemons[Wt].customization}));Tt(ke.filter(Boolean)),rs(X.name),yi(null),ce(`Loaded team: ${X.name}`,"success")}else ce("Shared team not found.","error")}catch{ce("Failed to load shared team.","error")}},[s,ce,hs]),q.useEffect(()=>{try{const B=LE(i3),Y=nx(B);a(W4(B));const G=GI(Y,async X=>{if(X)r(X.uid),u(!0);else try{const Z=typeof window.__initial_auth_token<"u"?window.__initial_auth_token:null;Z?await qI(Y,Z):await LI(Y),r(Y.currentUser.uid)}catch{ce("Authentication failed. Please refresh.","error")}finally{u(!0)}});return()=>G()}catch{ce("Failed to connect to services.","error")}},[ce]);const Tr=(B=!1)=>{const Y=nt==="pokedex"?z:b,G=(nt==="pokedex"?ht:K).toLowerCase(),X=Array.from(nt==="pokedex"?W:I);let Z=Cf(s,"artifacts/pokemonTeamBuilder/pokemons");const oe=[];return Y!=="all"&&oe.push(mu("generation","==",Y)),X.length>0&&X.forEach(ke=>oe.push(mu("types","array-contains",ke))),G?(oe.push(wv("name")),oe.push(mu("name",">=",G)),oe.push(mu("name","<=",G+""))):oe.push(wv("id")),B&&p&&oe.push(hD(p)),oe.push(cD(50)),uD(Z,...oe)};q.useEffect(()=>{if(!s||!l)return;(async()=>{os(!0),D(!0);const Y=Tr(!1);try{const G=await Cv(Y),X=G.docs.map(oe=>oe.data()),Z=G.docs[G.docs.length-1];d(X),m(Z),G.docs.length<50&&D(!1)}catch(G){console.error("Error fetching pokemons:",G),ce("Error loading Pokmon list.","error")}finally{os(!1)}})()},[s,l,nt,K,b,JSON.stringify(Array.from(I)),ht,z,JSON.stringify(Array.from(W))]);const qa=q.useCallback(async()=>{if(Tn||!v||!s||!p)return;La(!0);const B=Tr(!0);try{const Y=await Cv(B),G=Y.docs.map(Z=>Z.data()),X=Y.docs[Y.docs.length-1];d(Z=>[...Z,...G]),m(X),Y.docs.length<50&&D(!1)}catch(Y){console.error("Error fetching more pokemons:",Y),ce("Failed to load more Pokmon.","error")}finally{La(!1)}},[Tn,v,s,p,nt,b,K,JSON.stringify(Array.from(I)),z,ht,JSON.stringify(Array.from(W))]),En=q.useRef(),fs=q.useCallback(B=>{Tn||_i||(En.current&&En.current.disconnect(),En.current=new IntersectionObserver(Y=>{Y[0].isIntersecting&&v&&qa()}),B&&En.current.observe(B))},[Tn,_i,v,qa]),ds=q.useCallback(B=>{if(se.length>=6)return ce("Your team is full (6 Pokmon)!","warning");const Y={...B,instanceId:`${B.id}-${Date.now()}`,customization:{item:"",nature:"serious",teraType:B.types[0],isShiny:!1,ability:B.abilities[0].name,moves:B.moves.slice(0,4).map(G=>G.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}}};Tt(G=>[...G,Y])},[se,ce]),Un=q.useCallback(B=>{Tt(Y=>Y.filter(G=>G.instanceId!==B))},[]),vi=q.useCallback(()=>{Tt([]),rs(""),yi(null)},[]),ms=q.useCallback(async()=>{var G,X;if(!s||!i)return ce("Database connection not ready.","error");if(se.length===0)return ce("Your team is empty!","warning");if(!Bt.trim())return ce("Please name your team.","warning");if(Qe.some(Z=>Z.name===Bt&&Z.id!==vn))return ce("A team with this name already exists.","warning");const B=vn||xi(Cf(s,`artifacts/${Ir}/users/${i}/teams`)).id,Y={name:Bt,pokemons:se.map(Z=>({id:Z.id,name:Z.name,sprite:Z.sprite,instanceId:Z.instanceId,customization:Z.customization})),isFavorite:((G=Qe.find(Z=>Z.id===vn))==null?void 0:G.isFavorite)||!1,createdAt:((X=Qe.find(Z=>Z.id===vn))==null?void 0:X.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await xf(xi(s,`artifacts/${Ir}/users/${i}/teams`,B),Y),ce(`Team "${Bt}" saved!`,"success"),vi()}catch{ce("Error saving team.","error")}},[s,i,se,Bt,vn,Qe,ce,vi]),Ml=q.useCallback(async()=>{if(!s||!l)return ce("Database not ready.","error");if(se.length===0)return ce("Cannot share an empty team!","warning");const B=xi(Cf(s,`artifacts/${Ir}/public/data/teams`)).id,Y={name:Bt||"Unnamed Team",pokemons:se.map(G=>({id:G.id,name:G.name,sprite:G.sprite||""}))};try{await xf(xi(s,`artifacts/${Ir}/public/data/teams`,B),Y);const G=`${window.location.origin}${window.location.pathname}?team=${B}`;await navigator.clipboard.writeText(G),ce("Share link copied to clipboard!","success")}catch{ce("Could not generate share link.","error")}},[s,se,Bt,ce,l]),Er=q.useCallback(async()=>{if(se.length===0)return ce("Your team is empty!","warning");const B=G=>G.split("-").map(X=>X.charAt(0).toUpperCase()+X.slice(1)).join(" "),Y=se.map(G=>{const{customization:X,name:Z}=G,oe=Object.entries(X.evs).filter(([,je])=>je>0).map(([je,Wt])=>`${Wt} ${{hp:"HP",attack:"Atk",defense:"Def","special-attack":"SpA","special-defense":"SpD",speed:"Spe"}[je]}`).join(" / "),ke=X.ivs.attack===0?"IVs: 0 Atk":"";return[`${B(Z)} @ ${B(X.item||"Nothing")}`,`Ability: ${B(X.ability)}`,"Level: 50",X.isShiny?"Shiny: Yes":null,`Tera Type: ${B(X.teraType)}`,oe?`EVs: ${oe}`:null,`${B(X.nature)} Nature`,ke||null,...X.moves.map(je=>`- ${B(je)}`)].filter(Boolean).join(`
`)}).join(`

`);try{await navigator.clipboard.writeText(Y),ce("Team copied for Pokmon Showdown!","success")}catch{ce("Failed to copy team.","error")}},[se,ce]),Ha=q.useCallback(async B=>{ce(`Loading team: ${B.name}...`,"info");const G=(await Promise.all(B.pokemons.map(X=>Tr(X.id)))).map((X,Z)=>{const oe={item:"",nature:"serious",teraType:X.types[0],isShiny:!1,ability:X.abilities[0].ability.name,moves:X.moves.slice(0,4).map(ke=>ke.move.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}};return{...X,instanceId:B.pokemons[Z].instanceId,customization:{...oe,...B.pokemons[Z].customization}}});Tt(G.filter(Boolean)),rs(B.name),yi(B.id),Ln("builder"),pr(!1),window.scrollTo({top:0,behavior:"smooth"})},[Tr,ce]),st=q.useCallback(async B=>{if(!(!s||!i))try{await yD(xi(s,`artifacts/${Ir}/users/${i}/teams`,B)),vn===B&&vi(),ce("Team deleted.","info")}catch{ce("Error deleting team.","error")}},[s,i,vn,vi,ce]),Fa=q.useCallback(async B=>{if(!(!s||!i))try{await xf(xi(s,`artifacts/${Ir}/users/${i}/teams`,B.id),{...B,isFavorite:!B.isFavorite},{merge:!0})}catch{ce("Could not update favorite status.","error")}},[s,i,ce]),Ti=q.useCallback(B=>{(nt==="pokedex"?we:C)(G=>{const X=new Set(G);return X.has(B)?X.delete(B):X.add(B),X})},[nt]),jn=q.useCallback(B=>{_r(B)},[]),Ah=q.useCallback(B=>{za(B)},[]),Sh=q.useCallback((B,Y)=>{Tt(G=>G.map(X=>X.instanceId===B?{...X,customization:Y}:X))},[]),Ei=q.useCallback(()=>{e(B=>{const Y=B==="dark"?"light":"dark";return localStorage.setItem("theme",Y),Y})},[]);q.useEffect(()=>{const B=localStorage.getItem("theme");B&&e(B)},[]);const wh=()=>{const B=q.useMemo(()=>{if(!h)return[];const Y=new Set(se.map(G=>G.id));return h.filter(G=>!Y.has(G.id))},[h,se]);switch(nt){case"allTeams":return g.jsx(u3,{teams:Qe,onEdit:Ha,onDelete:st,onToggleFavorite:Fa,searchTerm:yr,setSearchTerm:it,colors:n});case"pokedex":return g.jsx(c3,{pokemons:h,lastPokemonElementRef:fs,isFetchingMore:Tn,searchInput:Oe,setSearchInput:pi,selectedTypes:W,handleTypeSelection:Ti,selectedGeneration:z,setSelectedGeneration:te,generations:E,isInitialLoading:_i,colors:n,showDetails:jn});default:return g.jsx(l3,{currentTeam:se,teamName:Bt,setTeamName:rs,handleRemoveFromTeam:Un,handleSaveTeam:ms,editingTeamId:vn,handleClearTeam:vi,recentTeams:Ba,setCurrentPage:Ln,handleToggleFavorite:Fa,handleEditTeam:Ha,handleDeleteTeam:st,handleShareTeam:Ml,handleExportToShowdown:Er,teamAnalysis:ss,searchInput:T,setSearchInput:vt,selectedGeneration:b,setSelectedGeneration:S,generations:E,isInitialLoading:_i,availablePokemons:B,handleAddPokemonToTeam:ds,lastPokemonElementRef:fs,isFetchingMore:Tn,selectedTypes:I,handleTypeSelection:Ti,showDetails:jn,suggestedPokemonIds:vr,colors:n,onEditTeamPokemon:Ah})}};return g.jsxs("div",{className:"min-h-screen font-sans",style:{backgroundColor:n.background,color:n.text},children:[rt&&g.jsx(a3,{pokemon:rt,onClose:()=>_r(null),onAdd:nt==="builder"?ds:null,currentTeam:se,colors:n,showPokemonDetails:jn,pokemonDetailsCache:M,db:s}),ja&&g.jsx(o3,{pokemon:ja,onClose:()=>za(null),onSave:Sh,colors:n,items:R,natures:j,moveDetailsCache:w}),g.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Th.slice(0,Eh).map(B=>g.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${B.type==="success"?"bg-green-600":B.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[B.type==="success"&&g.jsx(KD,{}),B.type==="error"&&g.jsx(XD,{}),B.type==="warning"&&g.jsx($D,{}),B.message]},B.id))}),g.jsxs("div",{className:"flex min-h-screen",children:[g.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${xt?"lg:w-20":"w-64"} ${ls?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:n.card},children:g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsxs("div",{className:`flex items-center h-16 p-4 ${xt?"justify-center":"justify-between"}`,children:[g.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${xt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Menu"}),g.jsx("button",{onClick:()=>Ua(!xt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:opacity-80",style:{color:n.textMuted},children:xt?g.jsx(QD,{}):g.jsx(GD,{})})]}),g.jsx("nav",{className:"px-4 flex-grow",children:g.jsxs("ul",{children:[g.jsx("li",{children:g.jsxs("button",{onClick:()=>{Ln("builder"),pr(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${nt==="builder"?"bg-primary":""} ${xt?"justify-center":""}`,style:{color:nt==="builder"?"white":n.text},children:[g.jsx(JD,{}),g.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${xt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),g.jsx("li",{className:"mt-2",children:g.jsxs("button",{onClick:()=>{Ln("pokedex"),pr(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${nt==="pokedex"?"bg-primary":""} ${xt?"justify-center":""}`,style:{color:nt==="pokedex"?"white":n.text},children:[g.jsx(HD,{}),g.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${xt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Pokdex"})]})}),g.jsx("li",{className:"mt-2",children:g.jsxs("button",{onClick:()=>{Ln("allTeams"),pr(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${nt==="allTeams"?"bg-primary":""} ${xt?"justify-center":""}`,style:{color:nt==="allTeams"?"white":n.text},children:[g.jsx(FD,{}),g.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${xt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Saved Teams"})]})})]})})]})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[g.jsx("button",{onClick:()=>pr(!ls),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:ls?g.jsx(Yg,{}):g.jsx(qD,{})}),g.jsxs("div",{className:"flex-1 text-center px-2 marginLeft",children:[g.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Pokmon Team Builder"}),g.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"By: Enzo Esmeraldo"})]}),g.jsx("div",{className:"flex items-center gap-2 lg:mr-4 sm:mr-0",children:g.jsx("button",{onClick:Ei,className:"p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:t==="dark"?g.jsx(ZD,{color:n.text}):g.jsx(WD,{color:n.text})})})]}),g.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:wh()}),g.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:n.cardLight},children:[g.jsxs("p",{className:"text-sm",style:{color:n.textMuted},children:["Developed and built by ",g.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"Enzo Esmeraldo"})]}),g.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[g.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:g.jsx(UD,{color:n.textMuted})}),g.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:g.jsx(jD,{color:n.textMuted})})]}),g.jsxs("p",{className:"text-xs mt-2",style:{color:n.textMuted},children:["Using the ",g.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]})]})]})]}),g.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: var(--scrollbar-track-color); } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 20px; border: 3px solid var(--scrollbar-thumb-border-color); } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } .bg-primary { background-color: ${n.primary}; } input[type="checkbox"]:checked + div + div { transform: translateX(100%); background-color: ${n.primary}; }`})]})}pw.createRoot(document.getElementById("root")).render(g.jsx(tm.StrictMode,{children:g.jsx(h3,{})}));
