(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function q_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H_={exports:{}},Hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2=Symbol.for("react.transitional.element"),N2=Symbol.for("react.fragment");function G_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:C2,type:t,key:i,ref:e!==void 0?e:null,props:n}}Hc.Fragment=N2;Hc.jsx=G_;Hc.jsxs=G_;H_.exports=Hc;var d=H_.exports,Q_={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=Symbol.for("react.transitional.element"),D2=Symbol.for("react.portal"),k2=Symbol.for("react.fragment"),O2=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),V2=Symbol.for("react.consumer"),P2=Symbol.for("react.context"),j2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),U2=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),Up=Symbol.iterator;function z2(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$_=Object.assign,X_={};function xa(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||K_}xa.prototype.isReactComponent={};xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z_(){}Z_.prototype=xa.prototype;function om(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||K_}var lm=om.prototype=new Z_;lm.constructor=om;$_(lm,xa.prototype);lm.isPureReactComponent=!0;var zp=Array.isArray,Ue={H:null,A:null,T:null,S:null,V:null},W_=Object.prototype.hasOwnProperty;function um(t,e,n,i,s,r){return n=r.ref,{$$typeof:am,type:t,key:e,ref:n!==void 0?n:null,props:r}}function B2(t,e){return um(t.type,e,void 0,void 0,void 0,t.props)}function cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===am}function F2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bp=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F2(""+t.key):e.toString(36)}function Fp(){}function q2(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Fp,Fp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function xr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case am:case D2:a=!0;break;case Y_:return a=t._init,xr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+Hh(t,0):i,zp(s)?(n="",a!=null&&(n=a.replace(Bp,"$&/")+"/"),xr(s,e,n,"",function(h){return h})):s!=null&&(cm(s)&&(s=B2(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Bp,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(zp(t))for(var u=0;u<t.length;u++)i=t[u],r=l+Hh(i,u),a+=xr(i,e,n,r,s);else if(u=z2(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+Hh(i,u++),a+=xr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return xr(q2(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Jl(t,e,n){if(t==null)return t;var i=[],s=0;return xr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function H2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function G2(){}ue.Children={map:Jl,forEach:function(t,e,n){Jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jl(t,function(){e++}),e},toArray:function(t){return Jl(t,function(e){return e})||[]},only:function(t){if(!cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=xa;ue.Fragment=k2;ue.Profiler=M2;ue.PureComponent=om;ue.StrictMode=O2;ue.Suspense=L2;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ue.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=$_({},t.props),s=t.key,r=void 0;if(e!=null)for(a in e.ref!==void 0&&(r=void 0),e.key!==void 0&&(s=""+e.key),e)!W_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return um(t.type,s,void 0,void 0,r,i)};ue.createContext=function(t){return t={$$typeof:P2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:V2,_context:t},t};ue.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)W_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return um(t,r,void 0,void 0,null,s)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:j2,render:t}};ue.isValidElement=cm;ue.lazy=function(t){return{$$typeof:Y_,_payload:{_status:-1,_result:t},_init:H2}};ue.memo=function(t,e){return{$$typeof:U2,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Ue.T,n={};Ue.T=n;try{var i=t(),s=Ue.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(G2,qp)}catch(r){qp(r)}finally{Ue.T=e}};ue.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};ue.use=function(t){return Ue.H.use(t)};ue.useActionState=function(t,e,n){return Ue.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return Ue.H.useCallback(t,e)};ue.useContext=function(t){return Ue.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return Ue.H.useDeferredValue(t,e)};ue.useEffect=function(t,e,n){var i=Ue.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};ue.useId=function(){return Ue.H.useId()};ue.useImperativeHandle=function(t,e,n){return Ue.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ue.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ue.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ue.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return Ue.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return Ue.H.useReducer(t,e,n)};ue.useRef=function(t){return Ue.H.useRef(t)};ue.useState=function(t){return Ue.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ue.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ue.H.useTransition()};ue.version="19.1.0";Q_.exports=ue;var B=Q_.exports;const Fo=q_(B);var J_={exports:{}},Gc={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,W){var $=P.length;P.push(W);e:for(;0<$;){var ie=$-1>>>1,ce=P[ie];if(0<s(ce,W))P[ie]=W,P[$]=ce,$=ie;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var W=P[0],$=P.pop();if($!==W){P[0]=$;e:for(var ie=0,ce=P.length,ot=ce>>>1;ie<ot;){var J=2*(ie+1)-1,Z=P[J],Pe=J+1,Be=P[Pe];if(0>s(Z,$))Pe<ce&&0>s(Be,Z)?(P[ie]=Be,P[Pe]=$,ie=Pe):(P[ie]=Z,P[J]=$,ie=J);else if(Pe<ce&&0>s(Be,$))P[ie]=Be,P[Pe]=$,ie=Pe;else break e}}return W}function s(P,W){var $=P.sortIndex-W.sortIndex;return $!==0?$:P.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,p=null,g=3,T=!1,N=!1,M=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=P)i(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(h)}}function q(P){if(M=!1,D(P),!N)if(n(u)!==null)N=!0,O||(O=!0,I());else{var W=n(h);W!==null&&z(q,W.startTime-P)}}var O=!1,b=-1,v=5,A=-1;function y(){return k?!0:!(t.unstable_now()-A<v)}function R(){if(k=!1,O){var P=t.unstable_now();A=P;var W=!0;try{e:{N=!1,M&&(M=!1,w(b),b=-1),T=!0;var $=g;try{t:{for(D(P),p=n(u);p!==null&&!(p.expirationTime>P&&y());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,g=p.priorityLevel;var ce=ie(p.expirationTime<=P);if(P=t.unstable_now(),typeof ce=="function"){p.callback=ce,D(P),W=!0;break t}p===n(u)&&i(u),D(P)}else i(u);p=n(u)}if(p!==null)W=!0;else{var ot=n(h);ot!==null&&z(q,ot.startTime-P),W=!1}}break e}finally{p=null,g=$,T=!1}W=void 0}}finally{W?I():O=!1}}}var I;if(typeof x=="function")I=function(){x(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,we=E.port2;E.port1.onmessage=R,I=function(){we.postMessage(null)}}else I=function(){S(R,0)};function z(P,W){b=S(function(){P(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var $=g;g=W;try{return P()}finally{g=$}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=g;g=P;try{return W()}finally{g=$}},t.unstable_scheduleCallback=function(P,W,$){var ie=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,P){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=$+ce,P={id:m++,callback:W,priorityLevel:P,startTime:$,expirationTime:ce,sortIndex:-1},$>ie?(P.sortIndex=$,e(h,P),n(u)===null&&P===n(h)&&(M?(w(b),b=-1):M=!0,z(q,$-ie))):(P.sortIndex=ce,e(u,P),N||T||(N=!0,O||(O=!0,I()))),P},t.unstable_shouldYield=y,t.unstable_wrapCallback=function(P){var W=g;return function(){var $=g;g=W;try{return P.apply(this,arguments)}finally{g=$}}}})(t0);e0.exports=t0;var Q2=e0.exports,n0={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=B;function i0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oi(){}var Vt={d:{f:Oi,r:function(){throw Error(i0(522))},D:Oi,C:Oi,L:Oi,m:Oi,X:Oi,S:Oi,M:Oi},p:0,findDOMNode:null},K2=Symbol.for("react.portal");function $2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K2,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var bo=Y2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Qc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(i0(299));return $2(t,e,null,n)};Lt.flushSync=function(t){var e=bo.T,n=Vt.p;try{if(bo.T=null,Vt.p=2,t)return t()}finally{bo.T=e,Vt.p=n,Vt.d.f()}};Lt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Vt.d.C(t,e))};Lt.prefetchDNS=function(t){typeof t=="string"&&Vt.d.D(t)};Lt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Qc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Vt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Lt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Qc(e.as,e.crossOrigin);Vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Vt.d.M(t)};Lt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Qc(n,e.crossOrigin);Vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Lt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Qc(e.as,e.crossOrigin);Vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Vt.d.m(t)};Lt.requestFormReset=function(t){Vt.d.r(t)};Lt.unstable_batchedUpdates=function(t,e){return t(e)};Lt.useFormState=function(t,e,n){return bo.H.useFormState(t,e,n)};Lt.useFormStatus=function(){return bo.H.useHostTransitionStatus()};Lt.version="19.1.0";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(t){console.error(t)}}s0(),n0.exports=Lt;var X2=n0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=Q2,r0=B,Z2=X2;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hp(t){if(fl(t)!==t)throw Error(U(188))}function W2(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Hp(s),t;if(r===i)return Hp(s),e;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function l0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=l0(t),e!==null)return e;t=t.sibling}return null}var Ve=Object.assign,J2=Symbol.for("react.element"),eu=Symbol.for("react.transitional.element"),mo=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),c0=Symbol.for("react.consumer"),Wn=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),fm=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Ff=Symbol.for("react.activity"),tA=Symbol.for("react.memo_cache_sentinel"),Gp=Symbol.iterator;function so(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var nA=Symbol.for("react.client.reference");function qf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===nA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Uf:return"Profiler";case u0:return"StrictMode";case zf:return"Suspense";case Bf:return"SuspenseList";case Ff:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case mo:return"Portal";case Wn:return(t.displayName||"Context")+".Provider";case c0:return(t._context.displayName||"Context")+".Consumer";case hm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fm:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}var go=Array.isArray,ne=r0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=Z2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ls={pending:!1,data:null,method:null,action:null},Hf=[],Vr=-1;function Bn(t){return{current:t}}function gt(t){0>Vr||(t.current=Hf[Vr],Hf[Vr]=null,Vr--)}function ze(t,e){Vr++,Hf[Vr]=t.current,t.current=e}var kn=Bn(null),qo=Bn(null),Ji=Bn(null),Qu=Bn(null);function Yu(t,e){switch(ze(Ji,e),ze(qo,t),ze(kn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Xy(e),t=RE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}gt(kn),ze(kn,t)}function aa(){gt(kn),gt(qo),gt(Ji)}function Gf(t){t.memoizedState!==null&&ze(Qu,t);var e=kn.current,n=RE(e,t.type);e!==n&&(ze(qo,t),ze(kn,n))}function Ku(t){qo.current===t&&(gt(kn),gt(qo)),Qu.current===t&&(gt(Qu),Jo._currentValue=Ls)}var Qf=Object.prototype.hasOwnProperty,dm=at.unstable_scheduleCallback,Gh=at.unstable_cancelCallback,iA=at.unstable_shouldYield,sA=at.unstable_requestPaint,On=at.unstable_now,rA=at.unstable_getCurrentPriorityLevel,h0=at.unstable_ImmediatePriority,f0=at.unstable_UserBlockingPriority,$u=at.unstable_NormalPriority,aA=at.unstable_LowPriority,d0=at.unstable_IdlePriority,oA=at.log,lA=at.unstable_setDisableYieldValue,dl=null,Wt=null;function Ki(t){if(typeof oA=="function"&&lA(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(dl,t)}catch{}}var Jt=Math.clz32?Math.clz32:hA,uA=Math.log,cA=Math.LN2;function hA(t){return t>>>=0,t===0?32:31-(uA(t)/cA|0)|0}var tu=256,nu=4194304;function ks(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=ks(i):(a&=l,a!==0?s=ks(a):n||(n=l&~t,n!==0&&(s=ks(n))))):(l=i&~r,l!==0?s=ks(l):a!==0?s=ks(a):n||(n=i&~t,n!==0&&(s=ks(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function ml(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function fA(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(){var t=tu;return tu<<=1,!(tu&4194048)&&(tu=256),t}function g0(){var t=nu;return nu<<=1,!(nu&62914560)&&(nu=4194304),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function dA(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var m=31-Jt(n),p=1<<m;l[m]=0,u[m]=-1;var g=h[m];if(g!==null)for(h[m]=null,m=0;m<g.length;m++){var T=g[m];T!==null&&(T.lane&=-536870913)}n&=~p}i!==0&&p0(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function p0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Jt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function mm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function v0(){var t=be.p;return t!==0?t:(t=window.event,t===void 0?32:jE(t.type))}function mA(t,e){var n=be.p;try{return be.p=t,e()}finally{be.p=n}}var Es=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Es,Ht="__reactProps$"+Es,Ra="__reactContainer$"+Es,Yf="__reactEvents$"+Es,gA="__reactListeners$"+Es,pA="__reactHandles$"+Es,Qp="__reactResources$"+Es,pl="__reactMarker$"+Es;function pm(t){delete t[Dt],delete t[Ht],delete t[Yf],delete t[gA],delete t[pA]}function Pr(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ra]||n[Dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jy(t);t!==null;){if(n=t[Dt])return n;t=Jy(t)}return e}t=n,n=t.parentNode}return null}function Ia(t){if(t=t[Dt]||t[Ra]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function po(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Yr(t){var e=t[Qp];return e||(e=t[Qp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function dt(t){t[pl]=!0}var _0=new Set,T0={};function tr(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(T0[t]=e,t=0;t<e.length;t++)_0.add(e[t])}var yA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yp={},Kp={};function vA(t){return Qf.call(Kp,t)?!0:Qf.call(Yp,t)?!1:yA.test(t)?Kp[t]=!0:(Yp[t]=!0,!1)}function Au(t,e,n){if(vA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function iu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Yn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Yh,$p;function Rr(t){if(Yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||"",$p=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yh+t+$p}var Kh=!1;function $h(t,e){if(!t||Kh)return"";Kh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(T){var g=T}Reflect.construct(t,[],p)}else{try{p.call()}catch(T){g=T}t.call(p.prototype)}}else{try{throw Error()}catch(T){g=T}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(T){if(T&&g&&typeof T.stack=="string")return[T.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var m=`
`+u[i].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=i&&0<=s);break}}}finally{Kh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Rr(n):""}function _A(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return $h(t.type,!1);case 11:return $h(t.type.render,!1);case 1:return $h(t.type,!0);case 31:return Rr("Activity");default:return""}}function Xp(t){try{var e="";do e+=_A(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TA(t){var e=E0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=TA(t))}function b0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=E0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var EA=/[\n"\\]/g;function ln(t){return t.replace(EA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Kf(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rn(e)):t.value!==""+rn(e)&&(t.value=""+rn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?$f(t,a,rn(e)):n!=null?$f(t,a,rn(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+rn(l):t.removeAttribute("name")}function A0(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+rn(n):"",e=e!=null?""+rn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function $f(t,e,n){e==="number"&&Zu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Kr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function w0(t,e,n){if(e!=null&&(e=""+rn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+rn(n):""}function S0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(go(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=rn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||bA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function x0(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Zp(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&Zp(t,r,e[r])}function ym(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(t){return wA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xf=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,$r=null;function Wp(t){var e=Ia(t);if(e&&(t=e.stateNode)){var n=t[Ht]||null;e:switch(t=e.stateNode,e.type){case"input":if(Kf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ln(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Ht]||null;if(!s)throw Error(U(90));Kf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&b0(i)}break e;case"textarea":w0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Kr(t,!!n.multiple,e,!1)}}}var Xh=!1;function R0(t,e,n){if(Xh)return t(e,n);Xh=!0;try{var i=t(e);return i}finally{if(Xh=!1,(jr!==null||$r!==null)&&(ih(),jr&&(e=jr,t=$r,$r=jr=null,Wp(e),t)))for(e=0;e<t.length;e++)Wp(t[e])}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ht]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=!1;if(ui)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Zf=!1}var $i=null,_m=null,Su=null;function I0(){if(Su)return Su;var t,e=_m,n=e.length,i,s="value"in $i?$i.value:$i.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return Su=s.slice(t,1<i?1-i:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function su(){return!0}function Jp(){return!1}function Gt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?su:Jp,this.isPropagationStopped=Jp,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),e}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=Gt(nr),yl=Ve({},nr,{view:0,detail:0}),SA=Gt(yl),Zh,Wh,ao,$c=Ve({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Zh=t.screenX-ao.screenX,Wh=t.screenY-ao.screenY):Wh=Zh=0,ao=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),ey=Gt($c),xA=Ve({},$c,{dataTransfer:0}),RA=Gt(xA),IA=Ve({},yl,{relatedTarget:0}),Jh=Gt(IA),CA=Ve({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=Gt(CA),DA=Ve({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kA=Gt(DA),OA=Ve({},nr,{data:0}),ty=Gt(OA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PA[t])?!!e[t]:!1}function Tm(){return jA}var LA=Ve({},yl,{key:function(t){if(t.key){var e=MA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UA=Gt(LA),zA=Ve({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=Gt(zA),BA=Ve({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),FA=Gt(BA),qA=Ve({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Gt(qA),GA=Ve({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=Gt(GA),YA=Ve({},nr,{newState:0,oldState:0}),KA=Gt(YA),$A=[9,13,27,32],Em=ui&&"CompositionEvent"in window,Ao=null;ui&&"documentMode"in document&&(Ao=document.documentMode);var XA=ui&&"TextEvent"in window&&!Ao,C0=ui&&(!Em||Ao&&8<Ao&&11>=Ao),iy=" ",sy=!1;function N0(t,e){switch(t){case"keyup":return $A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function ZA(t,e){switch(t){case"compositionend":return D0(e);case"keypress":return e.which!==32?null:(sy=!0,iy);case"textInput":return t=e.data,t===iy&&sy?null:t;default:return null}}function WA(t,e){if(Lr)return t==="compositionend"||!Em&&N0(t,e)?(t=I0(),Su=_m=$i=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C0&&e.locale!=="ko"?null:e.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JA[t.type]:e==="textarea"}function k0(t,e,n,i){jr?$r?$r.push(i):$r=[i]:jr=i,e=gc(e,"onChange"),0<e.length&&(n=new Kc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var wo=null,Go=null;function ew(t){wE(t,0)}function Xc(t){var e=po(t);if(b0(e))return t}function ay(t,e){if(t==="change")return e}var O0=!1;if(ui){var ef;if(ui){var tf="oninput"in document;if(!tf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),tf=typeof oy.oninput=="function"}ef=tf}else ef=!1;O0=ef&&(!document.documentMode||9<document.documentMode)}function ly(){wo&&(wo.detachEvent("onpropertychange",M0),Go=wo=null)}function M0(t){if(t.propertyName==="value"&&Xc(Go)){var e=[];k0(e,Go,t,vm(t)),R0(ew,e)}}function tw(t,e,n){t==="focusin"?(ly(),wo=e,Go=n,wo.attachEvent("onpropertychange",M0)):t==="focusout"&&ly()}function nw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(Go)}function iw(t,e){if(t==="click")return Xc(e)}function sw(t,e){if(t==="input"||t==="change")return Xc(e)}function rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:rw;function Qo(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Qf.call(e,s)||!nn(t[s],e[s]))return!1}return!0}function uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,e){var n=uy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uy(n)}}function V0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Zu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zu(t.document)}return e}function bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var aw=ui&&"documentMode"in document&&11>=document.documentMode,Ur=null,Wf=null,So=null,Jf=!1;function hy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Ur==null||Ur!==Zu(i)||(i=Ur,"selectionStart"in i&&bm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),So&&Qo(So,i)||(So=i,i=gc(Wf,"onSelect"),0<i.length&&(e=new Kc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ur)))}function Ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},nf={},j0={};ui&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function ir(t){if(nf[t])return nf[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j0)return nf[t]=e[n];return t}var L0=ir("animationend"),U0=ir("animationiteration"),z0=ir("animationstart"),ow=ir("transitionrun"),lw=ir("transitionstart"),uw=ir("transitioncancel"),B0=ir("transitionend"),F0=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function bn(t,e){F0.set(t,e),tr(e,[t])}var fy=new WeakMap;function un(t,e){if(typeof t=="object"&&t!==null){var n=fy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Xp(e)},fy.set(t,e),e)}return{value:t,source:e,stack:Xp(e)}}var sn=[],Br=0,Am=0;function Zc(){for(var t=Br,e=Am=Br=0;e<t;){var n=sn[e];sn[e++]=null;var i=sn[e];sn[e++]=null;var s=sn[e];sn[e++]=null;var r=sn[e];if(sn[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&q0(n,s,r)}}function Wc(t,e,n,i){sn[Br++]=t,sn[Br++]=e,sn[Br++]=n,sn[Br++]=i,Am|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function wm(t,e,n,i){return Wc(t,e,n,i),Wu(t)}function Ca(t,e){return Wc(t,null,null,e),Wu(t)}function q0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-Jt(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function Wu(t){if(50<Vo)throw Vo=0,Ed=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Fr={};function cw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,i){return new cw(t,e,n,i)}function Sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function H0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ru(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")Sm(t)&&(a=1);else if(typeof t=="string")a=fS(t,n,kn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ff:return t=Zt(31,n,e,s),t.elementType=Ff,t.lanes=r,t;case Mr:return Us(n.children,s,r,e);case u0:a=8,s|=24;break;case Uf:return t=Zt(12,n,e,s|2),t.elementType=Uf,t.lanes=r,t;case zf:return t=Zt(13,n,e,s),t.elementType=zf,t.lanes=r,t;case Bf:return t=Zt(19,n,e,s),t.elementType=Bf,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eA:case Wn:a=10;break e;case c0:a=9;break e;case hm:a=11;break e;case fm:a=14;break e;case Li:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=Zt(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Us(t,e,n,i){return t=Zt(7,t,i,e),t.lanes=n,t}function sf(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var qr=[],Hr=0,Ju=null,ec=0,an=[],on=0,zs=null,Jn=1,ei="";function Os(t,e){qr[Hr++]=ec,qr[Hr++]=Ju,Ju=t,ec=e}function G0(t,e,n){an[on++]=Jn,an[on++]=ei,an[on++]=zs,zs=t;var i=Jn;t=ei;var s=32-Jt(i)-1;i&=~(1<<s),n+=1;var r=32-Jt(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Jn=1<<32-Jt(e)+s|n<<s|i,ei=r+t}else Jn=1<<r|n<<s|i,ei=t}function xm(t){t.return!==null&&(Os(t,1),G0(t,1,0))}function Rm(t){for(;t===Ju;)Ju=qr[--Hr],qr[Hr]=null,ec=qr[--Hr],qr[Hr]=null;for(;t===zs;)zs=an[--on],an[on]=null,ei=an[--on],an[on]=null,Jn=an[--on],an[on]=null}var Mt=null,Ge=null,Ee=!1,Bs=null,Nn=!1,td=Error(U(519));function Gs(t){var e=Error(U(418,""));throw Yo(un(e,t)),td}function dy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Dt]=t,e[Ht]=i,n){case"dialog":de("cancel",e),de("close",e);break;case"iframe":case"object":case"embed":de("load",e);break;case"video":case"audio":for(n=0;n<Xo.length;n++)de(Xo[n],e);break;case"source":de("error",e);break;case"img":case"image":case"link":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"input":de("invalid",e),A0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Xu(e);break;case"select":de("invalid",e);break;case"textarea":de("invalid",e),S0(e,i.value,i.defaultValue,i.children),Xu(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||xE(e.textContent,n)?(i.popover!=null&&(de("beforetoggle",e),de("toggle",e)),i.onScroll!=null&&de("scroll",e),i.onScrollEnd!=null&&de("scrollend",e),i.onClick!=null&&(e.onclick=ah),e=!0):e=!1,e||Gs(t)}function my(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Mt=Mt.return}}function oo(t){if(t!==Mt)return!1;if(!Ee)return my(t),Ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Rd(t.type,t.memoizedProps)),n=!n),n&&Ge&&Gs(t),my(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ge=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ge=null}}else e===27?(e=Ge,bs(t.type)?(t=Nd,Nd=null,Ge=t):Ge=e):Ge=Mt?_n(t.stateNode.nextSibling):null;return!0}function vl(){Ge=Mt=null,Ee=!1}function gy(){var t=Bs;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),Bs=null),t}function Yo(t){Bs===null?Bs=[t]:Bs.push(t)}var nd=Bn(null),sr=null,ti=null;function zi(t,e,n){ze(nd,e._currentValue),e._currentValue=n}function ai(t){t._currentValue=nd.current,gt(nd)}function id(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function sd(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),id(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),id(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function _l(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=s.type;nn(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===Qu.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Jo):t=[Jo])}s=s.return}t!==null&&sd(e,t,n,i),e.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){sr=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kt(t){return Q0(sr,t)}function ru(t,e){return sr===null&&Qs(t),Q0(t,e)}function Q0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ti===null){if(t===null)throw Error(U(308));ti=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ti=ti.next=e;return n}var hw=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},fw=at.unstable_scheduleCallback,dw=at.unstable_NormalPriority,nt={$$typeof:Wn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new hw,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&fw(dw,function(){t.controller.abort()})}var xo=null,rd=0,ua=0,Xr=null;function mw(t,e){if(xo===null){var n=xo=[];rd=0,ua=Zm(),Xr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return rd++,e.then(py,py),e}function py(){if(--rd===0&&xo!==null){Xr!==null&&(Xr.status="fulfilled");var t=xo;xo=null,ua=0,Xr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var yy=ne.S;ne.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&mw(t,e),yy!==null&&yy(t,e)};var Fs=Bn(null);function Cm(){var t=Fs.current;return t!==null?t:ke.pooledCache}function Iu(t,e){e===null?ze(Fs,Fs.current):ze(Fs,e.pool)}function Y0(){var t=Cm();return t===null?null:{parent:nt._currentValue,pool:t}}var El=Error(U(460)),K0=Error(U(474)),Jc=Error(U(542)),ad={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function $0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(au,au),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t;default:if(typeof e.status=="string")e.then(au,au);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t}throw Ro=e,El}}var Ro=null;function _y(){if(Ro===null)throw Error(U(459));var t=Ro;return Ro=null,t}function Ty(t){if(t===El||t===Jc)throw Error(U(483))}var Ui=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,xe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Wu(t),q0(t,null,n),e}return Wc(t,i,e,n),Wu(t)}function Io(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,y0(t,n)}}function af(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ld=!1;function Co(){if(ld){var t=Xr;if(t!==null)throw t}}function No(t,e,n,i){ld=!1;var s=t.updateQueue;Ui=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var m=t.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,m=h=u=null,l=r;do{var g=l.lane&-536870913,T=g!==l.lane;if(T?(_e&g)===g:(i&g)===g){g!==0&&g===ua&&(ld=!0),m!==null&&(m=m.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var N=t,M=l;g=e;var k=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){p=N.call(k,p,g);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,g=typeof N=="function"?N.call(k,p,g):N,g==null)break e;p=Ve({},p,g);break e;case 2:Ui=!0}}g=l.callback,g!==null&&(t.flags|=64,T&&(t.flags|=8192),T=s.callbacks,T===null?s.callbacks=[g]:T.push(g))}else T={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(h=m=T,u=p):m=m.next=T,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;T=l,l=T.next,T.next=null,s.lastBaseUpdate=T,s.shared.pending=null}}while(!0);m===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=m,r===null&&(s.shared.lanes=0),ms|=a,t.lanes=a,t.memoizedState=p}}function X0(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function Z0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)X0(n[t],e)}var ca=Bn(null),nc=Bn(0);function Ey(t,e){t=fi,ze(nc,t),ze(ca,e),fi=t|e.baseLanes}function ud(){ze(nc,fi),ze(ca,ca.current)}function Dm(){fi=nc.current,gt(ca),gt(nc)}var fs=0,fe=null,Ie=null,We=null,ic=!1,Zr=!1,Ys=!1,sc=0,Ko=0,Wr=null,pw=0;function Ye(){throw Error(U(321))}function km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function Om(t,e,n,i,s,r){return fs=r,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ne.H=t===null||t.memoizedState===null?IT:CT,Ys=!1,r=n(i,s),Ys=!1,Zr&&(r=J0(e,n,i,s)),W0(t),r}function W0(t){ne.H=rc;var e=Ie!==null&&Ie.next!==null;if(fs=0,We=Ie=fe=null,ic=!1,Ko=0,Wr=null,e)throw Error(U(300));t===null||mt||(t=t.dependencies,t!==null&&tc(t)&&(mt=!0))}function J0(t,e,n,i){fe=t;var s=0;do{if(Zr&&(Wr=null),Ko=0,Zr=!1,25<=s)throw Error(U(301));if(s+=1,We=Ie=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ne.H=Aw,r=e(n,i)}while(Zr);return r}function yw(){var t=ne.H,e=t.useState()[0];return e=typeof e.then=="function"?bl(e):e,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(fe.flags|=1024),e}function Mm(){var t=sc!==0;return sc=0,t}function Vm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Pm(t){if(ic){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ic=!1}fs=0,We=Ie=fe=null,Zr=!1,Ko=sc=0,Wr=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?fe.memoizedState=We=t:We=We.next=t,We}function et(){if(Ie===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=We===null?fe.memoizedState:We.next;if(e!==null)We=e,Ie=t;else{if(t===null)throw fe.alternate===null?Error(U(467)):Error(U(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},We===null?fe.memoizedState=We=t:We=We.next=t}return We}function jm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var e=Ko;return Ko+=1,Wr===null&&(Wr=[]),t=$0(Wr,t,e),e=fe,(We===null?e.memoizedState:We.next)===null&&(e=e.alternate,ne.H=e===null||e.memoizedState===null?IT:CT),t}function eh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===Wn)return kt(t)}throw Error(U(438,String(t)))}function Lm(t){var e=null,n=fe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=jm(),fe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=tA;return e.index++,n}function ci(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=et();return Um(e,Ie,t)}function Um(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,h=e,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(_e&p)===p:(fs&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===ua&&(m=!0);else if((fs&g)===g){h=h.next,g===ua&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=r):u=u.next=p,fe.lanes|=g,ms|=g;p=h.action,Ys&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,fe.lanes|=p,ms|=p;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=l,!nn(r,t.memoizedState)&&(mt=!0,m&&(n=Xr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function of(t){var e=et(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);nn(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function eT(t,e,n){var i=fe,s=et(),r=Ee;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!nn((Ie||s).memoizedState,n);a&&(s.memoizedState=n,mt=!0),s=s.queue;var l=iT.bind(null,i,s,t);if(Al(2048,8,l,[t]),s.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(i.flags|=2048,ha(9,th(),nT.bind(null,i,s,n,e),null),ke===null)throw Error(U(349));r||fs&124||tT(i,e,n)}return n}function tT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e=jm(),fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nT(t,e,n,i){e.value=n,e.getSnapshot=i,sT(e)&&rT(t)}function iT(t,e,n){return n(function(){sT(e)&&rT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function rT(t){var e=Ca(t,2);e!==null&&tn(e,t,2)}function cd(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),Ys){Ki(!0);try{n()}finally{Ki(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},e}function aT(t,e,n,i){return t.baseState=n,Um(t,Ie,typeof i=="function"?i:ci)}function vw(t,e,n,i,s){if(nh(t))throw Error(U(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};ne.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,oT(e,r)):(r.next=n.next,e.pending=n.next=r)}}function oT(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=ne.T,a={};ne.T=a;try{var l=n(s,i),u=ne.S;u!==null&&u(a,l),by(t,e,l)}catch(h){hd(t,e,h)}finally{ne.T=r}}else try{r=n(s,i),by(t,e,r)}catch(h){hd(t,e,h)}}function by(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ay(t,e,i)},function(i){return hd(t,e,i)}):Ay(t,e,n)}function Ay(t,e,n){e.status="fulfilled",e.value=n,lT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,oT(t,n)))}function hd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,lT(e),e=e.next;while(e!==i)}t.action=null}function lT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function uT(t,e){return e}function wy(t,e){if(Ee){var n=ke.formState;if(n!==null){e:{var i=fe;if(Ee){if(Ge){t:{for(var s=Ge,r=Nn;s.nodeType!==8;){if(!r){s=null;break t}if(s=_n(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ge=_n(s.nextSibling),i=s.data==="F!";break e}}Gs(i)}i=!1}i&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uT,lastRenderedState:e},n.queue=i,n=ST.bind(null,fe,i),i.dispatch=n,i=cd(!1),r=qm.bind(null,fe,!1,i.queue),i=Ut(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=vw.bind(null,fe,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function Sy(t){var e=et();return cT(e,Ie,t)}function cT(t,e,n){if(e=Um(t,e,uT)[0],t=Cu(ci)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=bl(e)}catch(a){throw a===El?Jc:a}else i=e;e=et();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(fe.flags|=2048,ha(9,th(),_w.bind(null,s,n),null)),[i,r,t]}function _w(t,e){t.action=e}function xy(t){var e=et(),n=Ie;if(n!==null)return cT(e,n,t);et(),e=e.memoizedState,n=et();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ha(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=fe.updateQueue,e===null&&(e=jm(),fe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function th(){return{destroy:void 0,resource:void 0}}function hT(){return et().memoizedState}function Nu(t,e,n,i){var s=Ut();i=i===void 0?null:i,fe.flags|=t,s.memoizedState=ha(1|e,th(),n,i)}function Al(t,e,n,i){var s=et();i=i===void 0?null:i;var r=s.memoizedState.inst;Ie!==null&&i!==null&&km(i,Ie.memoizedState.deps)?s.memoizedState=ha(e,r,n,i):(fe.flags|=t,s.memoizedState=ha(1|e,r,n,i))}function Ry(t,e){Nu(8390656,8,t,e)}function fT(t,e){Al(2048,8,t,e)}function dT(t,e){return Al(4,2,t,e)}function mT(t,e){return Al(4,4,t,e)}function gT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pT(t,e,n){n=n!=null?n.concat([t]):null,Al(4,4,gT.bind(null,e,t),n)}function zm(){}function yT(t,e){var n=et();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&km(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function vT(t,e){var n=et();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&km(e,i[1]))return i[0];if(i=t(),Ys){Ki(!0);try{t()}finally{Ki(!1)}}return n.memoizedState=[i,e],i}function Bm(t,e,n){return n===void 0||fs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=lE(),fe.lanes|=t,ms|=t,n)}function _T(t,e,n,i){return nn(n,e)?n:ca.current!==null?(t=Bm(t,n,i),nn(t,e)||(mt=!0),t):fs&42?(t=lE(),fe.lanes|=t,ms|=t,e):(mt=!0,t.memoizedState=n)}function TT(t,e,n,i,s){var r=be.p;be.p=r!==0&&8>r?r:8;var a=ne.T,l={};ne.T=l,qm(t,!1,e,n);try{var u=s(),h=ne.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=gw(u,i);Do(t,e,m,en(t))}else Do(t,e,i,en(t))}catch(p){Do(t,e,{then:function(){},status:"rejected",reason:p},en())}finally{be.p=r,ne.T=a}}function Tw(){}function fd(t,e,n,i){if(t.tag!==5)throw Error(U(476));var s=ET(t).queue;TT(t,s,e,Ls,n===null?Tw:function(){return bT(t),n(i)})}function ET(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ls,baseState:Ls,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:Ls},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function bT(t){var e=ET(t).next.queue;Do(t,e,{},en())}function Fm(){return kt(Jo)}function AT(){return et().memoizedState}function wT(){return et().memoizedState}function Ew(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=en();t=es(n);var i=ts(e,t,n);i!==null&&(tn(i,e,n),Io(i,e,n)),e={cache:Im()},t.payload=e;return}e=e.return}}function bw(t,e,n){var i=en();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},nh(t)?xT(e,n):(n=wm(t,e,n,i),n!==null&&(tn(n,t,i),RT(n,e,i)))}function ST(t,e,n){var i=en();Do(t,e,n,i)}function Do(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(nh(t))xT(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,nn(l,a))return Wc(t,e,s,0),ke===null&&Zc(),!1}catch{}finally{}if(n=wm(t,e,s,i),n!==null)return tn(n,t,i),RT(n,e,i),!0}return!1}function qm(t,e,n,i){if(i={lane:2,revertLane:Zm(),action:i,hasEagerState:!1,eagerState:null,next:null},nh(t)){if(e)throw Error(U(479))}else e=wm(t,n,i,2),e!==null&&tn(e,t,2)}function nh(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function xT(t,e){Zr=ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,y0(t,n)}}var rc={readContext:kt,use:eh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},IT={readContext:kt,use:eh,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:Ry,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Nu(4194308,4,gT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){Nu(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var i=t();if(Ys){Ki(!0);try{t()}finally{Ki(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ut();if(n!==void 0){var s=n(e);if(Ys){Ki(!0);try{n(e)}finally{Ki(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=bw.bind(null,fe,t),[i.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=cd(t);var e=t.queue,n=ST.bind(null,fe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:zm,useDeferredValue:function(t,e){var n=Ut();return Bm(n,t,e)},useTransition:function(){var t=cd(!1);return t=TT.bind(null,fe,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=fe,s=Ut();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ke===null)throw Error(U(349));_e&124||tT(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Ry(iT.bind(null,i,r,t),[t]),i.flags|=2048,ha(9,th(),nT.bind(null,i,r,n,e),null),n},useId:function(){var t=Ut(),e=ke.identifierPrefix;if(Ee){var n=ei,i=Jn;n=(i&~(1<<32-Jt(i)-1)).toString(32)+n,e=""+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=pw++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Fm,useFormState:wy,useActionState:wy,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=qm.bind(null,fe,!0,n),n.dispatch=e,[t,e]},useMemoCache:Lm,useCacheRefresh:function(){return Ut().memoizedState=Ew.bind(null,fe)}},CT={readContext:kt,use:eh,useCallback:yT,useContext:kt,useEffect:fT,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:mT,useMemo:vT,useReducer:Cu,useRef:hT,useState:function(){return Cu(ci)},useDebugValue:zm,useDeferredValue:function(t,e){var n=et();return _T(n,Ie.memoizedState,t,e)},useTransition:function(){var t=Cu(ci)[0],e=et().memoizedState;return[typeof t=="boolean"?t:bl(t),e]},useSyncExternalStore:eT,useId:AT,useHostTransitionStatus:Fm,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,e){var n=et();return aT(n,Ie,t,e)},useMemoCache:Lm,useCacheRefresh:wT},Aw={readContext:kt,use:eh,useCallback:yT,useContext:kt,useEffect:fT,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:mT,useMemo:vT,useReducer:of,useRef:hT,useState:function(){return of(ci)},useDebugValue:zm,useDeferredValue:function(t,e){var n=et();return Ie===null?Bm(n,t,e):_T(n,Ie.memoizedState,t,e)},useTransition:function(){var t=of(ci)[0],e=et().memoizedState;return[typeof t=="boolean"?t:bl(t),e]},useSyncExternalStore:eT,useId:AT,useHostTransitionStatus:Fm,useFormState:xy,useActionState:xy,useOptimistic:function(t,e){var n=et();return Ie!==null?aT(n,Ie,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Lm,useCacheRefresh:wT},Jr=null,$o=0;function ou(t){var e=$o;return $o+=1,Jr===null&&(Jr=[]),$0(Jr,t,e)}function lo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function lu(t,e){throw e.$$typeof===J2?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Iy(t){var e=t._init;return e(t._payload)}function NT(t){function e(S,w){if(t){var x=S.deletions;x===null?(S.deletions=[w],S.flags|=16):x.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function i(S){for(var w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function s(S,w){return S=ri(S,w),S.index=0,S.sibling=null,S}function r(S,w,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<w?(S.flags|=67108866,w):x):(S.flags|=67108866,w)):(S.flags|=1048576,w)}function a(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function l(S,w,x,D){return w===null||w.tag!==6?(w=sf(x,S.mode,D),w.return=S,w):(w=s(w,x),w.return=S,w)}function u(S,w,x,D){var q=x.type;return q===Mr?m(S,w,x.props.children,D,x.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Li&&Iy(q)===w.type)?(w=s(w,x.props),lo(w,x),w.return=S,w):(w=Ru(x.type,x.key,x.props,null,S.mode,D),lo(w,x),w.return=S,w)}function h(S,w,x,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=rf(x,S.mode,D),w.return=S,w):(w=s(w,x.children||[]),w.return=S,w)}function m(S,w,x,D,q){return w===null||w.tag!==7?(w=Us(x,S.mode,D,q),w.return=S,w):(w=s(w,x),w.return=S,w)}function p(S,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=sf(""+w,S.mode,x),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:return x=Ru(w.type,w.key,w.props,null,S.mode,x),lo(x,w),x.return=S,x;case mo:return w=rf(w,S.mode,x),w.return=S,w;case Li:var D=w._init;return w=D(w._payload),p(S,w,x)}if(go(w)||so(w))return w=Us(w,S.mode,x,null),w.return=S,w;if(typeof w.then=="function")return p(S,ou(w),x);if(w.$$typeof===Wn)return p(S,ru(S,w),x);lu(S,w)}return null}function g(S,w,x,D){var q=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return q!==null?null:l(S,w,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:return x.key===q?u(S,w,x,D):null;case mo:return x.key===q?h(S,w,x,D):null;case Li:return q=x._init,x=q(x._payload),g(S,w,x,D)}if(go(x)||so(x))return q!==null?null:m(S,w,x,D,null);if(typeof x.then=="function")return g(S,w,ou(x),D);if(x.$$typeof===Wn)return g(S,w,ru(S,x),D);lu(S,x)}return null}function T(S,w,x,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return S=S.get(x)||null,l(w,S,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case eu:return S=S.get(D.key===null?x:D.key)||null,u(w,S,D,q);case mo:return S=S.get(D.key===null?x:D.key)||null,h(w,S,D,q);case Li:var O=D._init;return D=O(D._payload),T(S,w,x,D,q)}if(go(D)||so(D))return S=S.get(x)||null,m(w,S,D,q,null);if(typeof D.then=="function")return T(S,w,x,ou(D),q);if(D.$$typeof===Wn)return T(S,w,x,ru(w,D),q);lu(w,D)}return null}function N(S,w,x,D){for(var q=null,O=null,b=w,v=w=0,A=null;b!==null&&v<x.length;v++){b.index>v?(A=b,b=null):A=b.sibling;var y=g(S,b,x[v],D);if(y===null){b===null&&(b=A);break}t&&b&&y.alternate===null&&e(S,b),w=r(y,w,v),O===null?q=y:O.sibling=y,O=y,b=A}if(v===x.length)return n(S,b),Ee&&Os(S,v),q;if(b===null){for(;v<x.length;v++)b=p(S,x[v],D),b!==null&&(w=r(b,w,v),O===null?q=b:O.sibling=b,O=b);return Ee&&Os(S,v),q}for(b=i(b);v<x.length;v++)A=T(b,S,v,x[v],D),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?v:A.key),w=r(A,w,v),O===null?q=A:O.sibling=A,O=A);return t&&b.forEach(function(R){return e(S,R)}),Ee&&Os(S,v),q}function M(S,w,x,D){if(x==null)throw Error(U(151));for(var q=null,O=null,b=w,v=w=0,A=null,y=x.next();b!==null&&!y.done;v++,y=x.next()){b.index>v?(A=b,b=null):A=b.sibling;var R=g(S,b,y.value,D);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(S,b),w=r(R,w,v),O===null?q=R:O.sibling=R,O=R,b=A}if(y.done)return n(S,b),Ee&&Os(S,v),q;if(b===null){for(;!y.done;v++,y=x.next())y=p(S,y.value,D),y!==null&&(w=r(y,w,v),O===null?q=y:O.sibling=y,O=y);return Ee&&Os(S,v),q}for(b=i(b);!y.done;v++,y=x.next())y=T(b,S,v,y.value,D),y!==null&&(t&&y.alternate!==null&&b.delete(y.key===null?v:y.key),w=r(y,w,v),O===null?q=y:O.sibling=y,O=y);return t&&b.forEach(function(I){return e(S,I)}),Ee&&Os(S,v),q}function k(S,w,x,D){if(typeof x=="object"&&x!==null&&x.type===Mr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:e:{for(var q=x.key;w!==null;){if(w.key===q){if(q=x.type,q===Mr){if(w.tag===7){n(S,w.sibling),D=s(w,x.props.children),D.return=S,S=D;break e}}else if(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Li&&Iy(q)===w.type){n(S,w.sibling),D=s(w,x.props),lo(D,x),D.return=S,S=D;break e}n(S,w);break}else e(S,w);w=w.sibling}x.type===Mr?(D=Us(x.props.children,S.mode,D,x.key),D.return=S,S=D):(D=Ru(x.type,x.key,x.props,null,S.mode,D),lo(D,x),D.return=S,S=D)}return a(S);case mo:e:{for(q=x.key;w!==null;){if(w.key===q)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(S,w.sibling),D=s(w,x.children||[]),D.return=S,S=D;break e}else{n(S,w);break}else e(S,w);w=w.sibling}D=rf(x,S.mode,D),D.return=S,S=D}return a(S);case Li:return q=x._init,x=q(x._payload),k(S,w,x,D)}if(go(x))return N(S,w,x,D);if(so(x)){if(q=so(x),typeof q!="function")throw Error(U(150));return x=q.call(x),M(S,w,x,D)}if(typeof x.then=="function")return k(S,w,ou(x),D);if(x.$$typeof===Wn)return k(S,w,ru(S,x),D);lu(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(n(S,w.sibling),D=s(w,x),D.return=S,S=D):(n(S,w),D=sf(x,S.mode,D),D.return=S,S=D),a(S)):n(S,w)}return function(S,w,x,D){try{$o=0;var q=k(S,w,x,D);return Jr=null,q}catch(b){if(b===El||b===Jc)throw b;var O=Zt(29,b,null,S.mode);return O.lanes=D,O.return=S,O}finally{}}}var fa=NT(!0),DT=NT(!1),dn=Bn(null),Mn=null;function Bi(t){var e=t.alternate;ze(it,it.current&1),ze(dn,t),Mn===null&&(e===null||ca.current!==null||e.memoizedState!==null)&&(Mn=t)}function kT(t){if(t.tag===22){if(ze(it,it.current),ze(dn,t),Mn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Mn=t)}}else Fi()}function Fi(){ze(it,it.current),ze(dn,dn.current)}function ni(t){gt(dn),Mn===t&&(Mn=null),gt(it)}var it=Bn(0);function ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Cd(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function lf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),s=es(i);s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(tn(e,t,i),Io(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),s=es(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ts(t,s,i),e!==null&&(tn(e,t,i),Io(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=es(n);i.tag=2,e!=null&&(i.callback=e),e=ts(t,i,n),e!==null&&(tn(e,t,n),Io(e,t,n))}};function Cy(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!Qo(n,i)||!Qo(s,r):!0}function Ny(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&dd.enqueueReplaceState(e,e.state,null)}function Ks(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ve({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function OT(t){oc(t)}function MT(t){console.error(t)}function VT(t){oc(t)}function lc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Dy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function md(t,e,n){return n=es(n),n.tag=3,n.payload={element:null},n.callback=function(){lc(t,e)},n}function PT(t){return t=es(t),t.tag=3,t}function jT(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){Dy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Dy(e,n,i),typeof s!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function ww(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&_l(e,n,s,!0),n=dn.current,n!==null){switch(n.tag){case 13:return Mn===null?bd():n.alternate===null&&Qe===0&&(Qe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ad?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),_f(t,i,s)),!1;case 22:return n.flags|=65536,i===ad?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),_f(t,i,s)),!1}throw Error(U(435,n.tag))}return _f(t,i,s),bd(),!1}if(Ee)return e=dn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==td&&(t=Error(U(422),{cause:i}),Yo(un(t,n)))):(i!==td&&(e=Error(U(423),{cause:i}),Yo(un(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=un(i,n),s=md(t.stateNode,i,s),af(t,s),Qe!==4&&(Qe=2)),!1;var r=Error(U(520),{cause:i});if(r=un(r,n),Mo===null?Mo=[r]:Mo.push(r),Qe!==4&&(Qe=2),e===null)return!0;i=un(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=md(n.stateNode,i,t),af(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=PT(s),jT(s,t,n,i),af(n,s),!1}n=n.return}while(n!==null);return!1}var LT=Error(U(461)),mt=!1;function Tt(t,e,n,i){e.child=t===null?DT(e,null,n,i):fa(e,t.child,n,i)}function ky(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Qs(e),i=Om(t,e,n,a,r,s),l=Mm(),t!==null&&!mt?(Vm(t,e,s),hi(t,e,s)):(Ee&&l&&xm(e),e.flags|=1,Tt(t,e,i,s),e.child)}function Oy(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Sm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,UT(t,e,r,i,s)):(t=Ru(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Hm(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(a,i)&&t.ref===e.ref)return hi(t,e,s)}return e.flags|=1,t=ri(r,i),t.ref=e.ref,t.return=e,e.child=t}function UT(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Qo(r,i)&&t.ref===e.ref)if(mt=!1,e.pendingProps=i=r,Hm(t,s))t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,hi(t,e,s)}return gd(t,e,n,i,s)}function zT(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return My(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(e,r!==null?r.cachePool:null),r!==null?Ey(e,r):ud(),kT(e);else return e.lanes=e.childLanes=536870912,My(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(Iu(e,r.cachePool),Ey(e,r),Fi(),e.memoizedState=null):(t!==null&&Iu(e,null),ud(),Fi());return Tt(t,e,s,n),e.child}function My(t,e,n,i){var s=Cm();return s=s===null?null:{parent:nt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Iu(e,null),ud(),kT(e),t!==null&&_l(t,e,i,!0),null}function Du(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function gd(t,e,n,i,s){return Qs(e),n=Om(t,e,n,i,void 0,s),i=Mm(),t!==null&&!mt?(Vm(t,e,s),hi(t,e,s)):(Ee&&i&&xm(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Vy(t,e,n,i,s,r){return Qs(e),e.updateQueue=null,n=J0(e,i,n,s),W0(t),i=Mm(),t!==null&&!mt?(Vm(t,e,r),hi(t,e,r)):(Ee&&i&&xm(e),e.flags|=1,Tt(t,e,n,r),e.child)}function Py(t,e,n,i,s){if(Qs(e),e.stateNode===null){var r=Fr,a=n.contextType;typeof a=="object"&&a!==null&&(r=kt(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dd,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},Nm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?kt(a):Fr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(lf(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&dd.enqueueReplaceState(r,r.state,null),No(e,i,r,s),Co(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=Ks(n,l);r.props=u;var h=r.context,m=n.contextType;a=Fr,typeof m=="object"&&m!==null&&(a=kt(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,m||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&Ny(e,r,i,a),Ui=!1;var g=e.memoizedState;r.state=g,No(e,i,r,s),Co(),h=e.memoizedState,l||g!==h||Ui?(typeof p=="function"&&(lf(e,n,p,i),h=e.memoizedState),(u=Ui||Cy(e,n,u,i,g,h,a))?(m||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,od(t,e),a=e.memoizedProps,m=Ks(n,a),r.props=m,p=e.pendingProps,g=r.context,h=n.contextType,u=Fr,typeof h=="object"&&h!==null&&(u=kt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||g!==u)&&Ny(e,r,i,u),Ui=!1,g=e.memoizedState,r.state=g,No(e,i,r,s),Co();var T=e.memoizedState;a!==p||g!==T||Ui||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof l=="function"&&(lf(e,n,l,i),T=e.memoizedState),(m=Ui||Cy(e,n,m,i,g,T,u)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,T,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,T,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),r.props=i,r.state=T,r.context=u,i=m):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,Du(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=fa(e,t.child,null,s),e.child=fa(e,null,n,s)):Tt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=hi(t,e,s),t}function jy(t,e,n,i){return vl(),e.flags|=256,Tt(t,e,n,i),e.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:Y0()}}function hf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function BT(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(it.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ee){if(s?Bi(e):Fi(),Ee){var l=Ge,u;if(u=l){e:{for(u=l,l=Nn;u.nodeType!==8;){if(!l){l=null;break e}if(u=_n(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:zs!==null?{id:Jn,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},u=Zt(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Mt=e,Ge=null,u=!0):u=!1}u||Gs(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Cd(l)?e.lanes=32:e.lanes=536870912,null;ni(e)}return l=i.children,i=i.fallback,s?(Fi(),s=e.mode,l=uc({mode:"hidden",children:l},s),i=Us(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,s=e.child,s.memoizedState=cf(n),s.childLanes=hf(t,a,n),e.memoizedState=uf,i):(Bi(e),pd(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(Bi(e),e.flags&=-257,e=ff(t,e,n)):e.memoizedState!==null?(Fi(),e.child=t.child,e.flags|=128,e=null):(Fi(),s=i.fallback,l=e.mode,i=uc({mode:"visible",children:i.children},l),s=Us(s,l,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,fa(e,t.child,null,n),i=e.child,i.memoizedState=cf(n),i.childLanes=hf(t,a,n),e.memoizedState=uf,e=s);else if(Bi(e),Cd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,Yo({value:i,source:null,stack:null}),e=ff(t,e,n)}else if(mt||_l(t,e,n,!1),a=(n&t.childLanes)!==0,mt||a){if(a=ke,a!==null&&(i=n&-n,i=i&42?1:mm(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ca(t,i),tn(a,t,i),LT;l.data==="$?"||bd(),e=ff(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ge=_n(l.nextSibling),Mt=e,Ee=!0,Bs=null,Nn=!1,t!==null&&(an[on++]=Jn,an[on++]=ei,an[on++]=zs,Jn=t.id,ei=t.overflow,zs=e),e=pd(e,i.children),e.flags|=4096);return e}return s?(Fi(),s=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=ri(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?s=ri(h,s):(s=Us(s,l,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=t.child.memoizedState,l===null?l=cf(n):(u=l.cachePool,u!==null?(h=nt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=Y0(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=hf(t,a,n),e.memoizedState=uf,i):(Bi(e),n=t.child,t=n.sibling,n=ri(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function pd(t,e){return e=uc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function uc(t,e){return t=Zt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ff(t,e,n){return fa(e,t.child,null,n),t=pd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ly(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),id(t.return,e,n)}function df(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function FT(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Tt(t,e,i.children,n),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,n,e);else if(t.tag===19)Ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(ze(it,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ac(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),df(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ac(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}df(e,!0,n,null,r);break;case"together":df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))if(t!==null){if(_l(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function Sw(t,e,n){switch(e.tag){case 3:Yu(e,e.stateNode.containerInfo),zi(e,nt,t.memoizedState.cache),vl();break;case 27:case 5:Gf(e);break;case 4:Yu(e,e.stateNode.containerInfo);break;case 10:zi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Bi(e),e.flags|=128,null):n&e.child.childLanes?BT(t,e,n):(Bi(e),t=hi(t,e,n),t!==null?t.sibling:null);Bi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(_l(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return FT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,zT(t,e,n);case 24:zi(e,nt,t.memoizedState.cache)}return hi(t,e,n)}function qT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)mt=!0;else{if(!Hm(t,n)&&!(e.flags&128))return mt=!1,Sw(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Ee&&e.flags&1048576&&G0(e,ec,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")Sm(i)?(t=Ks(i,t),e.tag=1,e=Py(null,e,i,t,n)):(e.tag=0,e=gd(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===hm){e.tag=11,e=ky(null,e,i,t,n);break e}else if(s===fm){e.tag=14,e=Oy(null,e,i,t,n);break e}}throw e=qf(i)||i,Error(U(306,e,""))}}return e;case 0:return gd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ks(i,e.pendingProps),Py(t,e,i,s,n);case 3:e:{if(Yu(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,od(t,e),No(e,i,null,n);var a=e.memoizedState;if(i=a.cache,zi(e,nt,i),i!==r.cache&&sd(e,[nt],n,!0),Co(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=jy(t,e,i,n);break e}else if(i!==s){s=un(Error(U(424)),e),Yo(s),e=jy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=_n(t.firstChild),Mt=e,Ee=!0,Bs=null,Nn=!0,n=DT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vl(),i===s){e=hi(t,e,n);break e}Tt(t,e,i,n)}e=e.child}return e;case 26:return Du(t,e),t===null?(n=tv(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ee||(n=e.type,t=e.pendingProps,i=pc(Ji.current).createElement(n),i[Dt]=e,i[Ht]=t,wt(i,n,t),dt(i),e.stateNode=i):e.memoizedState=tv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Gf(e),t===null&&Ee&&(i=e.stateNode=CE(e.type,e.pendingProps,Ji.current),Mt=e,Nn=!0,s=Ge,bs(e.type)?(Nd=s,Ge=_n(i.firstChild)):Ge=s),Tt(t,e,e.pendingProps.children,n),Du(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ee&&((s=i=Ge)&&(i=Jw(i,e.type,e.pendingProps,Nn),i!==null?(e.stateNode=i,Mt=e,Ge=_n(i.firstChild),Nn=!1,s=!0):s=!1),s||Gs(e)),Gf(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,Rd(s,r)?i=null:a!==null&&Rd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=Om(t,e,yw,null,null,n),Jo._currentValue=s),Du(t,e),Tt(t,e,i,n),e.child;case 6:return t===null&&Ee&&((t=n=Ge)&&(n=eS(n,e.pendingProps,Nn),n!==null?(e.stateNode=n,Mt=e,Ge=null,t=!0):t=!1),t||Gs(e)),null;case 13:return BT(t,e,n);case 4:return Yu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=fa(e,null,i,n):Tt(t,e,i,n),e.child;case 11:return ky(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,zi(e,e.type,i.value),Tt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Qs(e),s=kt(s),i=i(s),e.flags|=1,Tt(t,e,i,n),e.child;case 14:return Oy(t,e,e.type,e.pendingProps,n);case 15:return UT(t,e,e.type,e.pendingProps,n);case 19:return FT(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=uc(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ri(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return zT(t,e,n);case 24:return Qs(e),i=kt(nt),t===null?(s=Cm(),s===null&&(s=ke,r=Im(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},Nm(e),zi(e,nt,s)):(t.lanes&n&&(od(t,e),No(e,null,null,n),Co()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),zi(e,nt,i)):(i=r.cache,zi(e,nt,i),i!==s.cache&&sd(e,[nt],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Kn(t){t.flags|=4}function Uy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kE(e)){if(e=dn.current,e!==null&&((_e&4194048)===_e?Mn!==null:(_e&62914560)!==_e&&!(_e&536870912)||e!==Mn))throw Ro=ad,K0;t.flags|=8192}}function uu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?g0():536870912,t.lanes|=e,da|=e)}function uo(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function xw(t,e,n){var i=e.pendingProps;switch(Rm(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return Fe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ai(nt),aa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(oo(e)?Kn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gy())),Fe(e),null;case 26:return n=e.memoizedState,t===null?(Kn(e),n!==null?(Fe(e),Uy(e,n)):(Fe(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Kn(e),Fe(e),Uy(e,n)):(Fe(e),e.flags&=-16777217):(t.memoizedProps!==i&&Kn(e),Fe(e),e.flags&=-16777217),null;case 27:Ku(e),n=Ji.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Fe(e),null}t=kn.current,oo(e)?dy(e):(t=CE(s,i,n),e.stateNode=t,Kn(e))}return Fe(e),null;case 5:if(Ku(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Fe(e),null}if(t=kn.current,oo(e))dy(e);else{switch(s=pc(Ji.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}t[Dt]=e,t[Ht]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(wt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Kn(e)}}return Fe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Kn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=Ji.current,oo(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Mt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Dt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||xE(t.nodeValue,n)),t||Gs(e)}else t=pc(t).createTextNode(i),t[Dt]=e,e.stateNode=t}return Fe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=oo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Dt]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),s=!1}else s=gy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(ni(e),e):(ni(e),null)}if(ni(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),uu(e,e.updateQueue),Fe(e),null;case 4:return aa(),t===null&&Wm(e.stateNode.containerInfo),Fe(e),null;case 10:return ai(e.type),Fe(e),null;case 19:if(gt(it),s=e.memoizedState,s===null)return Fe(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)uo(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=ac(t),r!==null){for(e.flags|=128,uo(s,!1),t=r.updateQueue,e.updateQueue=t,uu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)H0(n,t),n=n.sibling;return ze(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>hc&&(e.flags|=128,i=!0,uo(s,!1),e.lanes=4194304)}else{if(!i)if(t=ac(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,uu(e,t),uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Ee)return Fe(e),null}else 2*On()-s.renderingStartTime>hc&&n!==536870912&&(e.flags|=128,i=!0,uo(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,t=it.current,ze(it,i?t&1|2:t&1),e):(Fe(e),null);case 22:case 23:return ni(e),Dm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),n=e.updateQueue,n!==null&&uu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&gt(Fs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ai(nt),Fe(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function Rw(t,e){switch(Rm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ai(nt),aa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ku(e),null;case 13:if(ni(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(it),null;case 4:return aa(),null;case 10:return ai(e.type),null;case 22:case 23:return ni(e),Dm(),t!==null&&gt(Fs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ai(nt),null;case 25:return null;default:return null}}function HT(t,e){switch(Rm(e),e.tag){case 3:ai(nt),aa();break;case 26:case 27:case 5:Ku(e);break;case 4:aa();break;case 13:ni(e);break;case 19:gt(it);break;case 10:ai(e.type);break;case 22:case 23:ni(e),Dm(),t!==null&&gt(Fs);break;case 24:ai(nt)}}function wl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){Ne(e,e.return,l)}}function ds(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,h=l;try{h()}catch(m){Ne(s,u,m)}}}i=i.next}while(i!==r)}}catch(m){Ne(e,e.return,m)}}function GT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Z0(e,n)}catch(i){Ne(t,t.return,i)}}}function QT(t,e,n){n.props=Ks(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ne(t,e,i)}}function ko(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){Ne(t,e,s)}}function Dn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Ne(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ne(t,e,s)}else n.current=null}function YT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Ne(t,t.return,s)}}function mf(t,e,n){try{var i=t.stateNode;Kw(i,t.type,n,e),i[Ht]=e}catch(s){Ne(t,t.return,s)}}function KT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bs(t.type)||t.tag===4}function gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ah));else if(i!==4&&(i===27&&bs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(yd(t,e,n),t=t.sibling;t!==null;)yd(t,e,n),t=t.sibling}function cc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&bs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}function $T(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);wt(e,i,n),e[Dt]=t,e[Ht]=n}catch(r){Ne(t,t.return,r)}}var Zn=!1,Ke=!1,pf=!1,zy=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Iw(t,e){if(t=t.containerInfo,Sd=Tc,t=P0(t),bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,m=0,p=t,g=null;t:for(;;){for(var T;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(T=p.firstChild)!==null;)g=p,p=T;for(;;){if(p===t)break t;if(g===n&&++h===s&&(l=a),g===r&&++m===i&&(u=a),(T=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:t,selectionRange:n},Tc=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){switch(e=ft,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var N=Ks(n.type,s,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(N,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(M){Ne(n,n.return,M)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Id(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}}function XT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(t,n),i&4&&wl(5,n);break;case 1:if(Mi(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ne(n,n.return,a)}else{var s=Ks(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ne(n,n.return,a)}}i&64&&GT(n),i&512&&ko(n,n.return);break;case 3:if(Mi(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Z0(t,e)}catch(a){Ne(n,n.return,a)}}break;case 27:e===null&&i&4&&$T(n);case 26:case 5:Mi(t,n),e===null&&i&4&&YT(n),i&512&&ko(n,n.return);break;case 12:Mi(t,n);break;case 13:Mi(t,n),i&4&&JT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=jw.bind(null,n),tS(t,n))));break;case 22:if(i=n.memoizedState!==null||Zn,!i){e=e!==null&&e.memoizedState!==null||Ke,s=Zn;var r=Ke;Zn=i,(Ke=e)&&!r?ji(t,n,(n.subtreeFlags&8772)!==0):Mi(t,n),Zn=s,Ke=r}break;case 30:break;default:Mi(t,n)}}function ZT(t){var e=t.alternate;e!==null&&(t.alternate=null,ZT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&pm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,zt=!1;function $n(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 26:Ke||Dn(n,e),$n(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||Dn(n,e);var i=Le,s=zt;bs(n.type)&&(Le=n.stateNode,zt=!1),$n(t,e,n),Po(n.stateNode),Le=i,zt=s;break;case 5:Ke||Dn(n,e);case 6:if(i=Le,s=zt,Le=null,$n(t,e,n),Le=i,zt=s,Le!==null)if(zt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(r){Ne(n,e,r)}else try{Le.removeChild(n.stateNode)}catch(r){Ne(n,e,r)}break;case 18:Le!==null&&(zt?(t=Le,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),nl(t)):Wy(Le,n.stateNode));break;case 4:i=Le,s=zt,Le=n.stateNode.containerInfo,zt=!0,$n(t,e,n),Le=i,zt=s;break;case 0:case 11:case 14:case 15:Ke||ds(2,n,e),Ke||ds(4,n,e),$n(t,e,n);break;case 1:Ke||(Dn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&QT(n,e,i)),$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:Ke=(i=Ke)||n.memoizedState!==null,$n(t,e,n),Ke=i;break;default:$n(t,e,n)}}function JT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(n){Ne(e,e.return,n)}}function Cw(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zy),e;default:throw Error(U(435,t.tag))}}function yf(t,e){var n=Cw(t);e.forEach(function(i){var s=Lw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function Kt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(bs(l.type)){Le=l.stateNode,zt=!1;break e}break;case 5:Le=l.stateNode,zt=!1;break e;case 3:case 4:Le=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(Le===null)throw Error(U(160));WT(r,a,s),Le=null,zt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)eE(e,t),e=e.sibling}var pn=null;function eE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kt(e,t),$t(t),i&4&&(ds(3,t,t.return),wl(3,t),ds(5,t,t.return));break;case 1:Kt(e,t),$t(t),i&512&&(Ke||n===null||Dn(n,n.return)),i&64&&Zn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=pn;if(Kt(e,t),$t(t),i&512&&(Ke||n===null||Dn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[pl]||r[Dt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),wt(r,i,n),r[Dt]=t,dt(r),i=r;break e;case"link":var a=iv("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),wt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=iv("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),wt(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[Dt]=t,dt(r),i=r}t.stateNode=i}else sv(s,t.type,t.stateNode);else t.stateNode=nv(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?sv(s,t.type,t.stateNode):nv(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&mf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Kt(e,t),$t(t),i&512&&(Ke||n===null||Dn(n,n.return)),n!==null&&i&4&&mf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Kt(e,t),$t(t),i&512&&(Ke||n===null||Dn(n,n.return)),t.flags&32){s=t.stateNode;try{la(s,"")}catch(T){Ne(t,t.return,T)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,mf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(pf=!0);break;case 6:if(Kt(e,t),$t(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(T){Ne(t,t.return,T)}}break;case 3:if(Mu=null,s=pn,pn=yc(e.containerInfo),Kt(e,t),pn=s,$t(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(T){Ne(t,t.return,T)}pf&&(pf=!1,tE(t));break;case 4:i=pn,pn=yc(t.stateNode.containerInfo),Kt(e,t),$t(t),pn=i;break;case 12:Kt(e,t),$t(t);break;case 13:Kt(e,t),$t(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($m=On()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,yf(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Zn,m=Ke;if(Zn=h||s,Ke=m||u,Kt(e,t),Ke=m,Zn=h,$t(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||Zn||Ke||Ms(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(T){Ne(u,u.return,T)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(T){Ne(u,u.return,T)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,yf(t,n))));break;case 19:Kt(e,t),$t(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,yf(t,i)));break;case 30:break;case 21:break;default:Kt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(KT(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=gf(t);cc(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(la(a,""),n.flags&=-33);var l=gf(t);cc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=gf(t);yd(t,h,u);break;default:throw Error(U(161))}}catch(m){Ne(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tE(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Mi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)XT(t,e.alternate,e),e=e.sibling}function Ms(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ds(4,e,e.return),Ms(e);break;case 1:Dn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&QT(e,e.return,n),Ms(e);break;case 27:Po(e.stateNode);case 26:case 5:Dn(e,e.return),Ms(e);break;case 22:e.memoizedState===null&&Ms(e);break;case 30:Ms(e);break;default:Ms(e)}t=t.sibling}}function ji(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:ji(s,r,n),wl(4,r);break;case 1:if(ji(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){Ne(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)X0(u[s],l)}catch(h){Ne(i,i.return,h)}}n&&a&64&&GT(r),ko(r,r.return);break;case 27:$T(r);case 26:case 5:ji(s,r,n),n&&i===null&&a&4&&YT(r),ko(r,r.return);break;case 12:ji(s,r,n);break;case 13:ji(s,r,n),n&&a&4&&JT(s,r);break;case 22:r.memoizedState===null&&ji(s,r,n),ko(r,r.return);break;case 30:break;default:ji(s,r,n)}e=e.sibling}}function Gm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Tl(n))}function Qm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Tl(t))}function In(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nE(t,e,n,i),e=e.sibling}function nE(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:In(t,e,n,i),s&2048&&wl(9,e);break;case 1:In(t,e,n,i);break;case 3:In(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Tl(t)));break;case 12:if(s&2048){In(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ne(e,e.return,u)}}else In(t,e,n,i);break;case 13:In(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?In(t,e,n,i):Oo(t,e):r._visibility&2?In(t,e,n,i):(r._visibility|=2,Ir(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&Gm(a,e);break;case 24:In(t,e,n,i),s&2048&&Qm(e.alternate,e);break;default:In(t,e,n,i)}}function Ir(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(r,a,l,u,s),wl(8,a);break;case 23:break;case 22:var m=a.stateNode;a.memoizedState!==null?m._visibility&2?Ir(r,a,l,u,s):Oo(r,a):(m._visibility|=2,Ir(r,a,l,u,s)),s&&h&2048&&Gm(a.alternate,a);break;case 24:Ir(r,a,l,u,s),s&&h&2048&&Qm(a.alternate,a);break;default:Ir(r,a,l,u,s)}e=e.sibling}}function Oo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Oo(n,i),s&2048&&Gm(i.alternate,i);break;case 24:Oo(n,i),s&2048&&Qm(i.alternate,i);break;default:Oo(n,i)}e=e.sibling}}var yo=8192;function wr(t){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)iE(t),t=t.sibling}function iE(t){switch(t.tag){case 26:wr(t),t.flags&yo&&t.memoizedState!==null&&mS(pn,t.memoizedState,t.memoizedProps);break;case 5:wr(t);break;case 3:case 4:var e=pn;pn=yc(t.stateNode.containerInfo),wr(t),pn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=yo,yo=16777216,wr(t),yo=e):wr(t));break;default:wr(t)}}function sE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function co(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ft=i,aE(i,t)}sE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rE(t),t=t.sibling}function rE(t){switch(t.tag){case 0:case 11:case 15:co(t),t.flags&2048&&ds(9,t,t.return);break;case 3:co(t);break;case 12:co(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ku(t)):co(t);break;default:co(t)}}function ku(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ft=i,aE(i,t)}sE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ds(8,e,e.return),ku(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ku(e));break;default:ku(e)}t=t.sibling}}function aE(t,e){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:ds(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Tl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ft=i;else e:for(n=t;ft!==null;){i=ft;var s=i.sibling,r=i.return;if(ZT(i),i===n){ft=null;break e}if(s!==null){s.return=r,ft=s;break e}ft=r}}}var Nw={getCacheForType:function(t){var e=kt(nt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Dw=typeof WeakMap=="function"?WeakMap:Map,xe=0,ke=null,me=null,_e=0,Se=0,Xt=null,Xi=!1,Na=!1,Ym=!1,fi=0,Qe=0,ms=0,qs=0,Km=0,fn=0,da=0,Mo=null,Bt=null,vd=!1,$m=0,hc=1/0,fc=null,ns=null,bt=0,is=null,ma=null,ea=0,_d=0,Td=null,oE=null,Vo=0,Ed=null;function en(){if(xe&2&&_e!==0)return _e&-_e;if(ne.T!==null){var t=ua;return t!==0?t:Zm()}return v0()}function lE(){fn===0&&(fn=!(_e&536870912)||Ee?m0():536870912);var t=dn.current;return t!==null&&(t.flags|=32),fn}function tn(t,e,n){(t===ke&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(ga(t,0),Zi(t,_e,fn,!1)),gl(t,n),(!(xe&2)||t!==ke)&&(t===ke&&(!(xe&2)&&(qs|=n),Qe===4&&Zi(t,_e,fn,!1)),Fn(t))}function uE(t,e,n){if(xe&6)throw Error(U(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ml(t,e),s=i?Mw(t,e):vf(t,e,!0),r=i;do{if(s===0){Na&&!i&&Zi(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!kw(n)){s=vf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=Mo;var u=l.current.memoizedState.isDehydrated;if(u&&(ga(l,a).flags|=256),a=vf(l,a,!1),a!==2){if(Ym&&!u){l.errorRecoveryDisabledLanes|=r,qs|=r,s=4;break e}r=Bt,Bt=s,r!==null&&(Bt===null?Bt=r:Bt.push.apply(Bt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){ga(t,0),Zi(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Zi(i,e,fn,!Xi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(s=$m+300-On(),10<s)){if(Zi(i,e,fn,!Xi),Yc(i,0,!0)!==0)break e;i.timeoutHandle=IE(By.bind(null,i,n,Bt,fc,vd,e,fn,qs,da,Xi,r,2,-0,0),s);break e}By(i,n,Bt,fc,vd,e,fn,qs,da,Xi,r,0,-0,0)}}break}while(!0);Fn(t)}function By(t,e,n,i,s,r,a,l,u,h,m,p,g,T){if(t.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:dS},iE(e),p=gS(),p!==null)){t.cancelPendingCommit=p(qy.bind(null,t,e,r,n,i,s,a,l,u,m,1,g,T)),Zi(t,r,a,!h);return}qy(t,e,r,n,i,s,a,l,u)}function kw(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!nn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e,n,i){e&=~Km,e&=~qs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-Jt(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&p0(t,n,e)}function ih(){return xe&6?!0:(Sl(0),!1)}function Xm(){if(me!==null){if(Se===0)var t=me.return;else t=me,ti=sr=null,Pm(t),Jr=null,$o=0,t=me;for(;t!==null;)HT(t.alternate,t),t=t.return;me=null}}function ga(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Xw(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Xm(),ke=t,me=n=ri(t.current,null),_e=e,Se=0,Xt=null,Xi=!1,Na=ml(t,e),Ym=!1,da=fn=Km=qs=ms=Qe=0,Bt=Mo=null,vd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Jt(i),r=1<<s;e|=t[s],i&=~r}return fi=e,Zc(),n}function cE(t,e){fe=null,ne.H=rc,e===El||e===Jc?(e=_y(),Se=3):e===K0?(e=_y(),Se=4):Se=e===LT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xt=e,me===null&&(Qe=1,lc(t,un(e,t.current)))}function hE(){var t=ne.H;return ne.H=rc,t===null?rc:t}function fE(){var t=ne.A;return ne.A=Nw,t}function bd(){Qe=4,Xi||(_e&4194048)!==_e&&dn.current!==null||(Na=!0),!(ms&134217727)&&!(qs&134217727)||ke===null||Zi(ke,_e,fn,!1)}function vf(t,e,n){var i=xe;xe|=2;var s=hE(),r=fE();(ke!==t||_e!==e)&&(fc=null,ga(t,e)),e=!1;var a=Qe;e:do try{if(Se!==0&&me!==null){var l=me,u=Xt;switch(Se){case 8:Xm(),a=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var h=Se;if(Se=0,Xt=null,Gr(t,l,u,h),n&&Na){a=0;break e}break;default:h=Se,Se=0,Xt=null,Gr(t,l,u,h)}}Ow(),a=Qe;break}catch(m){cE(t,m)}while(!0);return e&&t.shellSuspendCounter++,ti=sr=null,xe=i,ne.H=s,ne.A=r,me===null&&(ke=null,_e=0,Zc()),a}function Ow(){for(;me!==null;)dE(me)}function Mw(t,e){var n=xe;xe|=2;var i=hE(),s=fE();ke!==t||_e!==e?(fc=null,hc=On()+500,ga(t,e)):Na=ml(t,e);e:do try{if(Se!==0&&me!==null){e=me;var r=Xt;t:switch(Se){case 1:Se=0,Xt=null,Gr(t,e,r,1);break;case 2:case 9:if(vy(r)){Se=0,Xt=null,Fy(e);break}e=function(){Se!==2&&Se!==9||ke!==t||(Se=7),Fn(t)},r.then(e,e);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:vy(r)?(Se=0,Xt=null,Fy(e)):(Se=0,Xt=null,Gr(t,e,r,7));break;case 5:var a=null;switch(me.tag){case 26:a=me.memoizedState;case 5:case 27:var l=me;if(!a||kE(a)){Se=0,Xt=null;var u=l.sibling;if(u!==null)me=u;else{var h=l.return;h!==null?(me=h,sh(h)):me=null}break t}}Se=0,Xt=null,Gr(t,e,r,5);break;case 6:Se=0,Xt=null,Gr(t,e,r,6);break;case 8:Xm(),Qe=6;break e;default:throw Error(U(462))}}Vw();break}catch(m){cE(t,m)}while(!0);return ti=sr=null,ne.H=i,ne.A=s,xe=n,me!==null?0:(ke=null,_e=0,Zc(),Qe)}function Vw(){for(;me!==null&&!iA();)dE(me)}function dE(t){var e=qT(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?sh(t):me=e}function Fy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Vy(n,e,e.pendingProps,e.type,void 0,_e);break;case 11:e=Vy(n,e,e.pendingProps,e.type.render,e.ref,_e);break;case 5:Pm(e);default:HT(n,e),e=me=H0(e,fi),e=qT(n,e,fi)}t.memoizedProps=t.pendingProps,e===null?sh(t):me=e}function Gr(t,e,n,i){ti=sr=null,Pm(e),Jr=null,$o=0;var s=e.return;try{if(ww(t,s,e,n,_e)){Qe=1,lc(t,un(n,t.current)),me=null;return}}catch(r){if(s!==null)throw me=s,r;Qe=1,lc(t,un(n,t.current)),me=null;return}e.flags&32768?(Ee||i===1?t=!0:Na||_e&536870912?t=!1:(Xi=t=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),mE(e,t)):sh(e)}function sh(t){var e=t;do{if(e.flags&32768){mE(e,Xi);return}t=e.return;var n=xw(e.alternate,e,fi);if(n!==null){me=n;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);Qe===0&&(Qe=5)}function mE(t,e){do{var n=Rw(t.alternate,t);if(n!==null){n.flags&=32767,me=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){me=t;return}me=t=n}while(t!==null);Qe=6,me=null}function qy(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do rh();while(bt!==0);if(xe&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(r=e.lanes|e.childLanes,r|=Am,dA(t,n,r,a,l,u),t===ke&&(me=ke=null,_e=0),ma=e,is=t,ea=n,_d=r,Td=s,oE=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Uw($u,function(){return _E(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=ne.T,ne.T=null,s=be.p,be.p=2,a=xe,xe|=4;try{Iw(t,e,n)}finally{xe=a,be.p=s,ne.T=i}}bt=1,gE(),pE(),yE()}}function gE(){if(bt===1){bt=0;var t=is,e=ma,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ne.T,ne.T=null;var i=be.p;be.p=2;var s=xe;xe|=4;try{eE(e,t);var r=xd,a=P0(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&V0(l.ownerDocument.documentElement,l)){if(u!==null&&bm(l)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(m,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var T=g.getSelection(),N=l.textContent.length,M=Math.min(u.start,N),k=u.end===void 0?M:Math.min(u.end,N);!T.extend&&M>k&&(a=k,k=M,M=a);var S=cy(l,M),w=cy(l,k);if(S&&w&&(T.rangeCount!==1||T.anchorNode!==S.node||T.anchorOffset!==S.offset||T.focusNode!==w.node||T.focusOffset!==w.offset)){var x=p.createRange();x.setStart(S.node,S.offset),T.removeAllRanges(),M>k?(T.addRange(x),T.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),T.addRange(x))}}}}for(p=[],T=l;T=T.parentNode;)T.nodeType===1&&p.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Tc=!!Sd,xd=Sd=null}finally{xe=s,be.p=i,ne.T=n}}t.current=e,bt=2}}function pE(){if(bt===2){bt=0;var t=is,e=ma,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ne.T,ne.T=null;var i=be.p;be.p=2;var s=xe;xe|=4;try{XT(t,e.alternate,e)}finally{xe=s,be.p=i,ne.T=n}}bt=3}}function yE(){if(bt===4||bt===3){bt=0,sA();var t=is,e=ma,n=ea,i=oE;e.subtreeFlags&10256||e.flags&10256?bt=5:(bt=0,ma=is=null,vE(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(ns=null),gm(n),e=e.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=ne.T,s=be.p,be.p=2,ne.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{ne.T=e,be.p=s}}ea&3&&rh(),Fn(t),s=t.pendingLanes,n&4194090&&s&42?t===Ed?Vo++:(Vo=0,Ed=t):Vo=0,Sl(0)}}function vE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Tl(e)))}function rh(t){return gE(),pE(),yE(),_E()}function _E(){if(bt!==5)return!1;var t=is,e=_d;_d=0;var n=gm(ea),i=ne.T,s=be.p;try{be.p=32>n?32:n,ne.T=null,n=Td,Td=null;var r=is,a=ea;if(bt=0,ma=is=null,ea=0,xe&6)throw Error(U(331));var l=xe;if(xe|=4,rE(r.current),nE(r,r.current,a,n),xe=l,Sl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(dl,r)}catch{}return!0}finally{be.p=s,ne.T=i,vE(t,e)}}function Hy(t,e,n){e=un(n,e),e=md(t.stateNode,e,2),t=ts(t,e,2),t!==null&&(gl(t,2),Fn(t))}function Ne(t,e,n){if(t.tag===3)Hy(t,t,n);else for(;e!==null;){if(e.tag===3){Hy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ns===null||!ns.has(i))){t=un(n,t),n=PT(2),i=ts(e,n,2),i!==null&&(jT(n,i,e,t),gl(i,2),Fn(i));break}}e=e.return}}function _f(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Dw;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Ym=!0,s.add(n),t=Pw.bind(null,t,e,n),e.then(t,t))}function Pw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ke===t&&(_e&n)===n&&(Qe===4||Qe===3&&(_e&62914560)===_e&&300>On()-$m?!(xe&2)&&ga(t,0):Km|=n,da===_e&&(da=0)),Fn(t)}function TE(t,e){e===0&&(e=g0()),t=Ca(t,e),t!==null&&(gl(t,e),Fn(t))}function jw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TE(t,n)}function Lw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),TE(t,n)}function Uw(t,e){return dm(t,e)}var dc=null,Cr=null,Ad=!1,mc=!1,Tf=!1,Hs=0;function Fn(t){t!==Cr&&t.next===null&&(Cr===null?dc=Cr=t:Cr=Cr.next=t),mc=!0,Ad||(Ad=!0,Bw())}function Sl(t,e){if(!Tf&&mc){Tf=!0;do for(var n=!1,i=dc;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Jt(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Gy(i,r))}else r=_e,r=Yc(i,i===ke?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||ml(i,r)||(n=!0,Gy(i,r));i=i.next}while(n);Tf=!1}}function zw(){EE()}function EE(){mc=Ad=!1;var t=0;Hs!==0&&($w()&&(t=Hs),Hs=0);for(var e=On(),n=null,i=dc;i!==null;){var s=i.next,r=bE(i,e);r===0?(i.next=null,n===null?dc=s:n.next=s,s===null&&(Cr=n)):(n=i,(t!==0||r&3)&&(mc=!0)),i=s}Sl(t)}function bE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-Jt(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=fA(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=ke,n=_e,n=Yc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Gh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ml(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Gh(i),gm(n)){case 2:case 8:n=f0;break;case 32:n=$u;break;case 268435456:n=d0;break;default:n=$u}return i=AE.bind(null,t),n=dm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Gh(i),t.callbackPriority=2,t.callbackNode=null,2}function AE(t,e){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rh()&&t.callbackNode!==n)return null;var i=_e;return i=Yc(t,t===ke?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(uE(t,i,e),bE(t,On()),t.callbackNode!=null&&t.callbackNode===n?AE.bind(null,t):null)}function Gy(t,e){if(rh())return null;uE(t,e,!0)}function Bw(){Zw(function(){xe&6?dm(h0,zw):EE()})}function Zm(){return Hs===0&&(Hs=m0()),Hs}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wu(""+t)}function Yy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Fw(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Qy((s[Ht]||null).action),a=i.submitter;a&&(e=(e=a[Ht]||null)?Qy(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new Kc("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Hs!==0){var u=a?Yy(s,a):new FormData(s);fd(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?Yy(s,a):new FormData(s),fd(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var Ef=0;Ef<ed.length;Ef++){var bf=ed[Ef],qw=bf.toLowerCase(),Hw=bf[0].toUpperCase()+bf.slice(1);bn(qw,"on"+Hw)}bn(L0,"onAnimationEnd");bn(U0,"onAnimationIteration");bn(z0,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(ow,"onTransitionRun");bn(lw,"onTransitionStart");bn(uw,"onTransitionCancel");bn(B0,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function wE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(m){oc(m)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(m){oc(m)}s.currentTarget=null,r=u}}}}function de(t,e){var n=e[Yf];n===void 0&&(n=e[Yf]=new Set);var i=t+"__bubble";n.has(i)||(SE(e,t,2,!1),n.add(i))}function Af(t,e,n){var i=0;e&&(i|=4),SE(n,t,i,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Wm(t){if(!t[cu]){t[cu]=!0,_0.forEach(function(n){n!=="selectionchange"&&(Gw.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,Af("selectionchange",!1,e))}}function SE(t,e,n,i){switch(jE(e)){case 2:var s=vS;break;case 8:s=_S;break;default:s=ng}n=s.bind(null,e,n,t),s=void 0,!Zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function wf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Pr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}R0(function(){var h=r,m=vm(n),p=[];e:{var g=F0.get(t);if(g!==void 0){var T=Kc,N=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":T=UA;break;case"focusin":N="focus",T=Jh;break;case"focusout":N="blur",T=Jh;break;case"beforeblur":case"afterblur":T=Jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=RA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=FA;break;case L0:case U0:case z0:T=NA;break;case B0:T=HA;break;case"scroll":case"scrollend":T=SA;break;case"wheel":T=QA;break;case"copy":case"cut":case"paste":T=kA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=ny;break;case"toggle":case"beforetoggle":T=KA}var M=(e&4)!==0,k=!M&&(t==="scroll"||t==="scrollend"),S=M?g!==null?g+"Capture":null:g;M=[];for(var w=h,x;w!==null;){var D=w;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||S===null||(D=Ho(w,S),D!=null&&M.push(Zo(w,D,x))),k)break;w=w.return}0<M.length&&(g=new T(g,N,null,n,m),p.push({event:g,listeners:M}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==Xf&&(N=n.relatedTarget||n.fromElement)&&(Pr(N)||N[Ra]))break e;if((T||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,T?(N=n.relatedTarget||n.toElement,T=h,N=N?Pr(N):null,N!==null&&(k=fl(N),M=N.tag,N!==k||M!==5&&M!==27&&M!==6)&&(N=null)):(T=null,N=h),T!==N)){if(M=ey,D="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(M=ny,D="onPointerLeave",S="onPointerEnter",w="pointer"),k=T==null?g:po(T),x=N==null?g:po(N),g=new M(D,w+"leave",T,n,m),g.target=k,g.relatedTarget=x,D=null,Pr(m)===h&&(M=new M(S,w+"enter",N,n,m),M.target=x,M.relatedTarget=k,D=M),k=D,T&&N)t:{for(M=T,S=N,w=0,x=M;x;x=Sr(x))w++;for(x=0,D=S;D;D=Sr(D))x++;for(;0<w-x;)M=Sr(M),w--;for(;0<x-w;)S=Sr(S),x--;for(;w--;){if(M===S||S!==null&&M===S.alternate)break t;M=Sr(M),S=Sr(S)}M=null}else M=null;T!==null&&Ky(p,g,T,M,!1),N!==null&&k!==null&&Ky(p,k,N,M,!0)}}e:{if(g=h?po(h):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var q=ay;else if(ry(g))if(O0)q=sw;else{q=nw;var O=tw}else T=g.nodeName,!T||T.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&ym(h.elementType)&&(q=ay):q=iw;if(q&&(q=q(t,h))){k0(p,q,n,m);break e}O&&O(t,g,h),t==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&$f(g,"number",g.value)}switch(O=h?po(h):window,t){case"focusin":(ry(O)||O.contentEditable==="true")&&(Ur=O,Wf=h,So=null);break;case"focusout":So=Wf=Ur=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,hy(p,n,m);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":hy(p,n,m)}var b;if(Em)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Lr?N0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(C0&&n.locale!=="ko"&&(Lr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Lr&&(b=I0()):($i=m,_m="value"in $i?$i.value:$i.textContent,Lr=!0)),O=gc(h,v),0<O.length&&(v=new ty(v,t,null,n,m),p.push({event:v,listeners:O}),b?v.data=b:(b=D0(n),b!==null&&(v.data=b)))),(b=XA?ZA(t,n):WA(t,n))&&(v=gc(h,"onBeforeInput"),0<v.length&&(O=new ty("onBeforeInput","beforeinput",null,n,m),p.push({event:O,listeners:v}),O.data=b)),Fw(p,t,h,n,m)}wE(p,e)})}function Zo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ho(t,n),s!=null&&i.unshift(Zo(t,s,r)),s=Ho(t,e),s!=null&&i.push(Zo(t,s,r))),t.tag===3)return i;t=t.return}return[]}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=Ho(n,r),h!=null&&a.unshift(Zo(n,h,u))):s||(h=Ho(n,r),h!=null&&a.push(Zo(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Qw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(Qw,`
`).replace(Yw,"")}function xE(t,e){return e=$y(e),$y(t)===e}function ah(){}function Re(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||la(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&la(t,""+i);break;case"className":iu(t,"class",i);break;case"tabIndex":iu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":iu(t,n,i);break;case"style":x0(t,i,r);break;case"data":if(e!=="object"){iu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=wu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Re(t,e,"name",s.name,s,null),Re(t,e,"formEncType",s.formEncType,s,null),Re(t,e,"formMethod",s.formMethod,s,null),Re(t,e,"formTarget",s.formTarget,s,null)):(Re(t,e,"encType",s.encType,s,null),Re(t,e,"method",s.method,s,null),Re(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=wu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ah);break;case"onScroll":i!=null&&de("scroll",t);break;case"onScrollEnd":i!=null&&de("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=wu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":de("beforetoggle",t),de("toggle",t),Au(t,"popover",i);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Au(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AA.get(n)||n,Au(t,n,i))}}function wd(t,e,n,i,s,r){switch(n){case"style":x0(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?la(t,i):(typeof i=="number"||typeof i=="bigint")&&la(t,""+i);break;case"onScroll":i!=null&&de("scroll",t);break;case"onScrollEnd":i!=null&&de("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!T0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Ht]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Au(t,n,i)}}}function wt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",t),de("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Re(t,e,r,a,n,null)}}s&&Re(t,e,"srcSet",n.srcSet,n,null),i&&Re(t,e,"src",n.src,n,null);return;case"input":de("invalid",t);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":s=m;break;case"type":a=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,e));break;default:Re(t,e,i,m,n,null)}}A0(t,r,l,u,h,a,s,!1),Xu(t);return;case"select":de("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Re(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Kr(t,!!i,e,!1):n!=null&&Kr(t,!!i,n,!0);return;case"textarea":de("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Re(t,e,a,l,n,null)}S0(t,i,s,r),Xu(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Re(t,e,u,i,n,null)}return;case"dialog":de("beforetoggle",t),de("toggle",t),de("cancel",t),de("close",t);break;case"iframe":case"object":de("load",t);break;case"video":case"audio":for(i=0;i<Xo.length;i++)de(Xo[i],t);break;case"image":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"embed":case"source":case"link":de("error",t),de("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Re(t,e,h,i,n,null)}return;default:if(ym(e)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&wd(t,e,m,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Re(t,e,l,i,n,null))}function Kw(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,m=null;for(T in n){var p=n[T];if(n.hasOwnProperty(T)&&p!=null)switch(T){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(T)||Re(t,e,T,null,i,p)}}for(var g in i){var T=i[g];if(p=n[g],i.hasOwnProperty(g)&&(T!=null||p!=null))switch(g){case"type":r=T;break;case"name":s=T;break;case"checked":h=T;break;case"defaultChecked":m=T;break;case"value":a=T;break;case"defaultValue":l=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(U(137,e));break;default:T!==p&&Re(t,e,g,T,i,p)}}Kf(t,a,l,u,h,m,r,s);return;case"select":T=a=l=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":T=u;default:i.hasOwnProperty(r)||Re(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":g=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Re(t,e,s,r,i,u)}e=l,n=a,i=T,g!=null?Kr(t,!!n,g,!1):!!i!=!!n&&(e!=null?Kr(t,!!n,e,!0):Kr(t,!!n,n?[]:"",!1));return;case"textarea":T=g=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Re(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":g=s;break;case"defaultValue":T=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&Re(t,e,a,s,i,r)}w0(t,g,T);return;case"option":for(var N in n)if(g=n[N],n.hasOwnProperty(N)&&g!=null&&!i.hasOwnProperty(N))switch(N){case"selected":t.selected=!1;break;default:Re(t,e,N,null,i,g)}for(u in i)if(g=i[u],T=n[u],i.hasOwnProperty(u)&&g!==T&&(g!=null||T!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Re(t,e,u,g,i,T)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!=null&&!i.hasOwnProperty(M)&&Re(t,e,M,null,i,g);for(h in i)if(g=i[h],T=n[h],i.hasOwnProperty(h)&&g!==T&&(g!=null||T!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,e));break;default:Re(t,e,h,g,i,T)}return;default:if(ym(e)){for(var k in n)g=n[k],n.hasOwnProperty(k)&&g!==void 0&&!i.hasOwnProperty(k)&&wd(t,e,k,void 0,i,g);for(m in i)g=i[m],T=n[m],!i.hasOwnProperty(m)||g===T||g===void 0&&T===void 0||wd(t,e,m,g,i,T);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S)&&Re(t,e,S,null,i,g);for(p in i)g=i[p],T=n[p],!i.hasOwnProperty(p)||g===T||g==null&&T==null||Re(t,e,p,g,i,T)}var Sd=null,xd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Rd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sf=null;function $w(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,Zw=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(Ww)}:IE;function Ww(t){setTimeout(function(){throw t})}function bs(t){return t==="head"}function Wy(t,e){var n=e,i=0,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&Po(a.documentElement),n&2&&Po(a.body),n&4)for(n=a.head,Po(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[pl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(s===0){t.removeChild(r),nl(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);nl(e)}function Id(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),pm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Jw(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[pl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function eS(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=_n(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tS(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Nd=null;function Jy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function CE(t,e,n){switch(e=pc(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Po(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);pm(t)}var mn=new Map,ev=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _i=be.d;be.d={f:nS,r:iS,D:sS,C:rS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var t=_i.f(),e=ih();return t||e}function iS(t){var e=Ia(t);e!==null&&e.tag===5&&e.type==="form"?bT(e):_i.r(t)}var Da=typeof document>"u"?null:document;function NE(t,e,n){var i=Da;if(i&&typeof e=="string"&&e){var s=ln(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),ev.has(s)||(ev.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),wt(e,"link",t),dt(e),i.head.appendChild(e)))}}function sS(t){_i.D(t),NE("dns-prefetch",t,null)}function rS(t,e){_i.C(t,e),NE("preconnect",t,e)}function aS(t,e,n){_i.L(t,e,n);var i=Da;if(i&&t&&e){var s='link[rel="preload"][as="'+ln(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+ln(n.imageSizes)+'"]')):s+='[href="'+ln(t)+'"]';var r=s;switch(e){case"style":r=pa(t);break;case"script":r=ka(t)}mn.has(r)||(t=Ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),mn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(xl(r))||e==="script"&&i.querySelector(Rl(r))||(e=i.createElement("link"),wt(e,"link",t),dt(e),i.head.appendChild(e)))}}function oS(t,e){_i.m(t,e);var n=Da;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+ln(i)+'"][href="'+ln(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ka(t)}if(!mn.has(r)&&(t=Ve({rel:"modulepreload",href:t},e),mn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rl(r)))return}i=n.createElement("link"),wt(i,"link",t),dt(i),n.head.appendChild(i)}}}function lS(t,e,n){_i.S(t,e,n);var i=Da;if(i&&t){var s=Yr(i).hoistableStyles,r=pa(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(xl(r)))l.loading=5;else{t=Ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=mn.get(r))&&Jm(t,n);var u=a=i.createElement("link");dt(u),wt(u,"link",t),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ou(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function uS(t,e){_i.X(t,e);var n=Da;if(n&&t){var i=Yr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Rl(s)),r||(t=Ve({src:t,async:!0},e),(e=mn.get(s))&&eg(t,e),r=n.createElement("script"),dt(r),wt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function cS(t,e){_i.M(t,e);var n=Da;if(n&&t){var i=Yr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Rl(s)),r||(t=Ve({src:t,async:!0,type:"module"},e),(e=mn.get(s))&&eg(t,e),r=n.createElement("script"),dt(r),wt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function tv(t,e,n,i){var s=(s=Ji.current)?yc(s):null;if(!s)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=pa(n.href),n=Yr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=pa(n.href);var r=Yr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(xl(t)))&&!r._p&&(a.instance=r,a.state.loading=5),mn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(t,n),r||hS(s,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ka(n),n=Yr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function pa(t){return'href="'+ln(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function DE(t){return Ve({},t,{"data-precedence":t.precedence,precedence:null})}function hS(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),wt(e,"link",n),dt(e),t.head.appendChild(e))}function ka(t){return'[src="'+ln(t)+'"]'}function Rl(t){return"script[async]"+t}function nv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ln(n.href)+'"]');if(i)return e.instance=i,dt(i),i;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),dt(i),wt(i,"style",s),Ou(i,n.precedence,t),e.instance=i;case"stylesheet":s=pa(n.href);var r=t.querySelector(xl(s));if(r)return e.state.loading|=4,e.instance=r,dt(r),r;i=DE(n),(s=mn.get(s))&&Jm(i,s),r=(t.ownerDocument||t).createElement("link"),dt(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(r,"link",i),e.state.loading|=4,Ou(r,n.precedence,t),e.instance=r;case"script":return r=ka(n.src),(s=t.querySelector(Rl(r)))?(e.instance=s,dt(s),s):(i=n,(s=mn.get(r))&&(i=Ve({},n),eg(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),dt(s),wt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ou(i,n.precedence,t));return e.instance}function Ou(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Jm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function eg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mu=null;function iv(t,e,n){if(Mu===null){var i=new Map,s=Mu=new Map;s.set(n,i)}else s=Mu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[pl]||r[Dt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function sv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function fS(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Wo=null;function dS(){}function mS(t,e,n){if(Wo===null)throw Error(U(475));var i=Wo;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=pa(n.href),r=t.querySelector(xl(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=vc.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,dt(r);return}r=t.ownerDocument||t,n=DE(n),(s=mn.get(s))&&Jm(n,s),r=r.createElement("link"),dt(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(r,"link",n),e.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=vc.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function gS(){if(Wo===null)throw Error(U(475));var t=Wo;return t.stylesheets&&t.count===0&&Dd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Dd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function Dd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,e.forEach(pS,t),_c=null,vc.call(t))}function pS(t,e){if(!(e.state.loading&4)){var n=_c.get(t);if(n)var i=n.get(null);else{n=new Map,_c.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=vc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Jo={$$typeof:Wn,Provider:null,Consumer:null,_currentValue:Ls,_currentValue2:Ls,_threadCount:0};function yS(t,e,n,i,s,r,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.hiddenUpdates=Qh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function OE(t,e,n,i,s,r,a,l,u,h,m,p){return t=new yS(t,e,n,a,l,u,h,p),e=1,r===!0&&(e|=24),r=Zt(3,null,null,e),t.current=r,r.stateNode=t,e=Im(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Nm(r),t}function ME(t){return t?(t=Fr,t):Fr}function VE(t,e,n,i,s,r){s=ME(s),i.context===null?i.context=s:i.pendingContext=s,i=es(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ts(t,i,e),n!==null&&(tn(n,t,e),Io(n,t,e))}function rv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tg(t,e){rv(t,e),(t=t.alternate)&&rv(t,e)}function PE(t){if(t.tag===13){var e=Ca(t,67108864);e!==null&&tn(e,t,67108864),tg(t,67108864)}}var Tc=!0;function vS(t,e,n,i){var s=ne.T;ne.T=null;var r=be.p;try{be.p=2,ng(t,e,n,i)}finally{be.p=r,ne.T=s}}function _S(t,e,n,i){var s=ne.T;ne.T=null;var r=be.p;try{be.p=8,ng(t,e,n,i)}finally{be.p=r,ne.T=s}}function ng(t,e,n,i){if(Tc){var s=kd(i);if(s===null)wf(t,e,i,Ec,n),av(t,i);else if(ES(s,t,e,n,i))i.stopPropagation();else if(av(t,i),e&4&&-1<TS.indexOf(t)){for(;s!==null;){var r=Ia(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=ks(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Jt(a);l.entanglements[1]|=u,a&=~u}Fn(r),!(xe&6)&&(hc=On()+500,Sl(0))}}break;case 13:l=Ca(r,2),l!==null&&tn(l,r,2),ih(),tg(r,2)}if(r=kd(i),r===null&&wf(t,e,i,Ec,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else wf(t,e,i,null,n)}}function kd(t){return t=vm(t),ig(t)}var Ec=null;function ig(t){if(Ec=null,t=Pr(t),t!==null){var e=fl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ec=t,null}function jE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rA()){case h0:return 2;case f0:return 8;case $u:case aA:return 32;case d0:return 268435456;default:return 32}default:return 32}}var Od=!1,ss=null,rs=null,as=null,el=new Map,tl=new Map,qi=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(t,e){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":el.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(e.pointerId)}}function ho(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ia(e),e!==null&&PE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ES(t,e,n,i,s){switch(e){case"focusin":return ss=ho(ss,t,e,n,i,s),!0;case"dragenter":return rs=ho(rs,t,e,n,i,s),!0;case"mouseover":return as=ho(as,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return el.set(r,ho(el.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,tl.set(r,ho(tl.get(r)||null,t,e,n,i,s)),!0}return!1}function LE(t){var e=Pr(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,mA(t.priority,function(){if(n.tag===13){var i=en();i=mm(i);var s=Ca(n,i);s!==null&&tn(s,n,i),tg(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Xf=i,n.target.dispatchEvent(i),Xf=null}else return e=Ia(n),e!==null&&PE(e),t.blockedOn=n,!1;e.shift()}return!0}function ov(t,e,n){Vu(t)&&n.delete(e)}function bS(){Od=!1,ss!==null&&Vu(ss)&&(ss=null),rs!==null&&Vu(rs)&&(rs=null),as!==null&&Vu(as)&&(as=null),el.forEach(ov),tl.forEach(ov)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,Od||(Od=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,bS)))}var fu=null;function lv(t){fu!==t&&(fu=t,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){fu===t&&(fu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(ig(i||n)===null)continue;break}var r=Ia(n);r!==null&&(t.splice(e,3),e-=3,fd(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function nl(t){function e(u){return hu(u,t)}ss!==null&&hu(ss,t),rs!==null&&hu(rs,t),as!==null&&hu(as,t),el.forEach(e),tl.forEach(e);for(var n=0;n<qi.length;n++){var i=qi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&qi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ht]||null;if(typeof r=="function")a||lv(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ht]||null)l=a.formAction;else if(ig(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),lv(n)}}}function sg(t){this._internalRoot=t}oh.prototype.render=sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=en();VE(n,i,t,e,null,null)};oh.prototype.unmount=sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;VE(t.current,2,null,t,null,null),ih(),e[Ra]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=v0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qi.length&&e!==0&&e<qi[n].priority;n++);qi.splice(n,0,t),n===0&&LE(t)}};var uv=r0.version;if(uv!=="19.1.0")throw Error(U(527,uv,"19.1.0"));be.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=W2(e),t=t!==null?l0(t):null,t=t===null?null:t.stateNode,t};var AS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{dl=du.inject(AS),Wt=du}catch{}}Gc.createRoot=function(t,e){if(!a0(t))throw Error(U(299));var n=!1,i="",s=OT,r=MT,a=VT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=OE(t,1,!1,null,null,n,i,s,r,a,l,null),t[Ra]=e.current,Wm(t),new sg(e)};Gc.hydrateRoot=function(t,e,n){if(!a0(t))throw Error(U(299));var i=!1,s="",r=OT,a=MT,l=VT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=OE(t,1,!0,e,n??null,i,s,r,a,l,u,h),e.context=ME(null),n=e.current,i=en(),i=mm(i),s=es(i),s.callback=null,ts(n,s,i),n=i,e.current.lanes=n,gl(e,n),Fn(e),t[Ra]=e.current,Wm(t),new oh(e)};Gc.version="19.1.0";function UE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UE)}catch(t){console.error(t)}}UE(),J_.exports=Gc;var wS=J_.exports;const SS=q_(wS),xS=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,m=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,T=h&63;u||(T=64,a||(g=64)),i.push(n[m],n[p],n[g],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new IS;const g=r<<2|l>>4;if(i.push(g),h!==64){const T=l<<4&240|h>>2;if(i.push(T),p!==64){const N=h<<6&192|p;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(t){const e=zE(t);return BE.encodeByteArray(e,!0)},bc=function(t){return CS(t).replace(/\./g,"")},FE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>NS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof cv>"u")return;const t=cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FE(t[1]);return e&&JSON.parse(e)},lh=()=>{try{return xS()||DS()||kS()||OS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qE=t=>{var e,n;return(n=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MS=t=>{const e=qE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},HE=()=>{var t;return(t=lh())===null||t===void 0?void 0:t.config},GE=t=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){return t.endsWith(".cloudworkstations.dev")}async function QE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bc(JSON.stringify(n)),bc(JSON.stringify(a)),""].join(".")}const jo={};function jS(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function LS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hv=!1;function YE(t,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||jo[t]===e||jo[t]||hv)return;jo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=jS().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{hv=!0,a()},g}function m(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=LS(i),T=n("text"),N=document.getElementById(T)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),w=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const x=g.element;l(x),m(k,M);const D=h();u(w,S),x.append(w,N,k,D),document.body.appendChild(x)}r?(N.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function zS(){var t;const e=(t=lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class Ti extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=KS,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?$S(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ti(s,l,i)}}function $S(t,e){return t.replace(XS,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const XS=/\{\$([^}]+)}/g;function ZS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(fv(r)&&fv(a)){if(!$s(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function fv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function WS(t,e){const n=new JS(t,e);return n.subscribe.bind(n)}class JS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ex(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=xf),s.error===void 0&&(s.error=xf),s.complete===void 0&&(s.complete=xf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ex(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new VS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(t){return t===Vs?void 0:t}function ix(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const rx={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ax=pe.INFO,ox={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},lx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ox[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=ax,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const ux=(t,e)=>e.some(n=>t instanceof n);let dv,mv;function cx(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Md=new WeakMap,$E=new WeakMap,Rf=new WeakMap,ag=new WeakMap;function fx(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(os(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function dx(t){if(Md.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Md.set(t,e)}let Vd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Md.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mx(t){Vd=t(Vd)}function gx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(If(this),e,...n);return $E.set(i,e.sort?e.sort():[e]),os(i)}:hx().includes(t)?function(...e){return t.apply(If(this),e),os(KE.get(this))}:function(...e){return os(t.apply(If(this),e))}}function px(t){return typeof t=="function"?gx(t):(t instanceof IDBTransaction&&dx(t),ux(t,cx())?new Proxy(t,Vd):t)}function os(t){if(t instanceof IDBRequest)return fx(t);if(Rf.has(t))return Rf.get(t);const e=px(t);return e!==t&&(Rf.set(t,e),ag.set(e,t)),e}const If=t=>ag.get(t);function yx(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=os(a);return i&&a.addEventListener("upgradeneeded",u=>{i(os(a.result),u.oldVersion,u.newVersion,os(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const vx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],Cf=new Map;function gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=_x.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vx.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return Cf.set(e,r),r}mx(t=>({...t,get:(e,n,i)=>gv(e,n)||t.get(e,n,i),has:(e,n)=>!!gv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ex(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Ex(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pd="@firebase/app",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new rg("@firebase/app"),bx="@firebase/app-compat",Ax="@firebase/analytics-compat",wx="@firebase/analytics",Sx="@firebase/app-check-compat",xx="@firebase/app-check",Rx="@firebase/auth",Ix="@firebase/auth-compat",Cx="@firebase/database",Nx="@firebase/data-connect",Dx="@firebase/database-compat",kx="@firebase/functions",Ox="@firebase/functions-compat",Mx="@firebase/installations",Vx="@firebase/installations-compat",Px="@firebase/messaging",jx="@firebase/messaging-compat",Lx="@firebase/performance",Ux="@firebase/performance-compat",zx="@firebase/remote-config",Bx="@firebase/remote-config-compat",Fx="@firebase/storage",qx="@firebase/storage-compat",Hx="@firebase/firestore",Gx="@firebase/ai",Qx="@firebase/firestore-compat",Yx="firebase",Kx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",$x={[Pd]:"fire-core",[bx]:"fire-core-compat",[wx]:"fire-analytics",[Ax]:"fire-analytics-compat",[xx]:"fire-app-check",[Sx]:"fire-app-check-compat",[Rx]:"fire-auth",[Ix]:"fire-auth-compat",[Cx]:"fire-rtdb",[Nx]:"fire-data-connect",[Dx]:"fire-rtdb-compat",[kx]:"fire-fn",[Ox]:"fire-fn-compat",[Mx]:"fire-iid",[Vx]:"fire-iid-compat",[Px]:"fire-fcm",[jx]:"fire-fcm-compat",[Lx]:"fire-perf",[Ux]:"fire-perf-compat",[zx]:"fire-rc",[Bx]:"fire-rc-compat",[Fx]:"fire-gcs",[qx]:"fire-gcs-compat",[Hx]:"fire-fst",[Qx]:"fire-fst-compat",[Gx]:"fire-vertex","fire-js":"fire-js",[Yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,Xx=new Map,Ld=new Map;function yv(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Ld.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Ld.set(e,t);for(const n of Ac.values())yv(n,t);for(const n of Xx.values())yv(n,t);return!0}function og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Il("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=Kx;function XE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:jd,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=HE()),!n)throw ls.create("no-options");const r=Ac.get(s);if(r){if($s(n,r.options)&&$s(i,r.config))return r;throw ls.create("duplicate-app",{appName:s})}const a=new sx(s);for(const u of Ld.values())a.addComponent(u);const l=new Wx(n,i,a);return Ac.set(s,l),l}function ZE(t=jd){const e=Ac.get(t);if(!e&&t===jd&&HE())return XE();if(!e)throw ls.create("no-app",{appName:t});return e}function us(t,e,n){var i;let s=(i=$x[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(l.join(" "));return}ya(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebase-heartbeat-database",eR=1,il="firebase-heartbeat-store";let Nf=null;function WE(){return Nf||(Nf=yx(Jx,eR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),Nf}async function tR(t){try{const n=(await WE()).transaction(il),i=await n.objectStore(il).get(JE(t));return await n.done,i}catch(e){if(e instanceof Ti)di.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function vv(t,e){try{const i=(await WE()).transaction(il,"readwrite");await i.objectStore(il).put(e,JE(t)),await i.done}catch(n){if(n instanceof Ti)di.warn(n.message);else{const i=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(i.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,iR=30;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>iR){const a=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_v(),{heartbeatsToSend:i,unsentEntries:s}=rR(this._heartbeatsCache.heartbeats),r=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return di.warn(n),""}}}function _v(){return new Date().toISOString().substring(0,10)}function rR(t,e=nR){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Tv(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tv(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}function oR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){ya(new Xs("platform-logger",e=>new Tx(e),"PRIVATE")),ya(new Xs("heartbeat",e=>new sR(e),"PRIVATE")),us(Pd,pv,t),us(Pd,pv,"esm2017"),us("fire-js","")}lR("");var uR="firebase",cR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(uR,cR,"app");function lg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function e1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hR=e1,t1=new Il("auth","Firebase",e1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new rg("@firebase/auth");function fR(t,...e){wc.logLevel<=pe.WARN&&wc.warn(`Auth (${Ma}): ${t}`,...e)}function Pu(t,...e){wc.logLevel<=pe.ERROR&&wc.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw ug(t,...e)}function Vn(t,...e){return ug(t,...e)}function n1(t,e,n){const i=Object.assign(Object.assign({},hR()),{[e]:n});return new Il("auth","Firebase",i).create(e,{appName:t.name})}function oi(t){return n1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ug(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return t1.create(t,...e)}function re(t,e,...n){if(!t)throw ug(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function gi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dR(){return Ev()==="http:"||Ev()==="https:"}function Ev(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dR()||FS()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=US()||qS()}get(){return mR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vR=new Nl(3e4,6e4);function Dl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Va(t,e,n,i,s={}){return s1(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=Cl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},r);return BS()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(h.credentials="include"),i1.fetch()(await r1(t,t.config.apiHost,n,l),h)})}async function s1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},pR),e);try{const s=new _R(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw mu(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw mu(t,"user-disabled",a);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw n1(t,m,h);mi(t,m)}}catch(s){if(s instanceof Ti)throw s;mi(t,"network-request-failed",{message:String(s)})}}async function hg(t,e,n,i,s={}){const r=await Va(t,e,n,i,s);return"mfaPendingCredential"in r&&mi(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function r1(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?cg(t.config,s):`${t.config.apiScheme}://${s}`;return yR.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class _R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),vR.get())})}}function mu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Vn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return Va(t,"POST","/v1/accounts:delete",e)}async function Sc(t,e){return Va(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ER(t,e=!1){const n=jt(t),i=await n.getIdToken(e),s=fg(i);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Lo(Df(s.auth_time)),issuedAtTime:Lo(Df(s.iat)),expirationTime:Lo(Df(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Df(t){return Number(t)*1e3}function fg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const s=FE(n);return s?JSON.parse(s):(Pu("Failed to decode base64 JWT payload"),null)}catch(s){return Pu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bv(t){const e=fg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ti&&bR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function bR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await sl(t,Sc(n,{idToken:i}));re(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?a1(r.providerUserInfo):[],l=SR(t.providerData,a),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),m=u?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new zd(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function wR(t){const e=jt(t);await xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function a1(t){return t.map(e=>{var{providerId:n}=e,i=lg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e){const n=await s1(t,{},async()=>{const i=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await r1(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Oa(t.emulatorConfig.host)&&(u.credentials="include"),i1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RR(t,e){return Va(t,"POST","/v2/accounts:revokeToken",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await xR(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ta;return i&&(re(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(re(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(re(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new zd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await sl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ER(this,e)}reload(){return wR(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await xc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await sl(this,TR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,u,h,m;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,T=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,N=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,w=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:x,emailVerified:D,isAnonymous:q,providerData:O,stsTokenManager:b}=n;re(x&&b,e,"internal-error");const v=ta.fromJSON(this.name,b);re(typeof x=="string",e,"internal-error"),Vi(p,e.name),Vi(g,e.name),re(typeof D=="boolean",e,"internal-error"),re(typeof q=="boolean",e,"internal-error"),Vi(T,e.name),Vi(N,e.name),Vi(M,e.name),Vi(k,e.name),Vi(S,e.name),Vi(w,e.name);const A=new yn({uid:x,auth:e,email:g,emailVerified:D,displayName:p,isAnonymous:q,photoURL:N,phoneNumber:T,tenantId:M,stsTokenManager:v,createdAt:S,lastLoginAt:w});return O&&Array.isArray(O)&&(A.providerData=O.map(y=>Object.assign({},y))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,n,i=!1){const s=new ta;s.updateFromServerResponse(n);const r=new yn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];re(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?a1(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new ta;l.updateFromIdToken(i);const u=new yn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new zd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function si(t){gi(t instanceof Function,"Expected a class definition");let e=Av.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Av.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o1.type="NONE";const wv=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=ju(this.userKey,s.apiKey,r),this.fullPersistenceKey=ju("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sc(this.auth,{idToken:e}).catch(()=>{});return n?yn._fromGetAccountInfoResponse(this.auth,n,e):null}return yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new na(si(wv),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||si(wv);const a=ju(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const m=await h._get(a);if(m){let p;if(typeof m=="string"){const g=await Sc(e,{idToken:m}).catch(()=>{});if(!g)break;p=await yn._fromGetAccountInfoResponse(e,g,m)}else p=yn._fromJSON(e,m);h!==r&&(l=p),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new na(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new na(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(m1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||c1(e))&&!e.includes("edge/"))return"Chrome";if(f1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function l1(t=Ot()){return/firefox\//i.test(t)}function u1(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c1(t=Ot()){return/crios\//i.test(t)}function h1(t=Ot()){return/iemobile/i.test(t)}function f1(t=Ot()){return/android/i.test(t)}function d1(t=Ot()){return/blackberry/i.test(t)}function m1(t=Ot()){return/webos/i.test(t)}function dg(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IR(t=Ot()){var e;return dg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CR(){return HS()&&document.documentMode===10}function g1(t=Ot()){return dg(t)||f1(t)||m1(t)||d1(t)||/windows phone/i.test(t)||h1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e=[]){let n;switch(t){case"Browser":n=Sv(Ot());break;case"Worker":n=`${Sv(Ot())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(t,e={}){return Va(t,"GET","/v2/passwordPolicy",Dl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=6;class OR{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:kR,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sc(this,{idToken:e}),i=await yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(oi(this));const n=e?jt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DR(this),n=new OR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kl(t){return jt(t)}class xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=WS(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(t){mg=t}function PR(t){return mg.loadJS(t)}function jR(){return mg.gapiScript}function LR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e){const n=og(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if($s(r,e??{}))return s;mi(s,"already-initialized")}return n.initialize({options:e})}function zR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function BR(t,e,n){const i=kl(t);re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=y1(e),{host:a,port:l}=FR(e),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},m=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),re($s(h,i.config.emulator)&&$s(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Oa(a)?(QE(`${r}//${a}${u}`),YE("Auth",!0)):qR()}function y1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FR(t){const e=y1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Rv(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:Rv(a)}}}function Rv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return hg(t,"POST","/v1/accounts:signInWithIdp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="http://localhost";class Zs extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=lg(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Zs(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ia(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:HR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends _1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ol{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ol{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Yi.credential(n,i)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e){return hg(t,"POST","/v1/accounts:signUp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await yn._fromIdTokenResponse(e,i,s),a=Iv(i);return new pi({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Iv(i);return new pi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Iv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t){var e;if(cn(t.app))return Promise.reject(oi(t));const n=kl(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new pi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await GR(n,{returnSecureToken:!0}),s=await pi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Ti{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Rc(e,n,i,s)}}function T1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,r,e,i):r})}async function YR(t,e,n=!1){const i=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e,n=!1){const{auth:i}=t;if(cn(i.app))return Promise.reject(oi(i));const s="reauthenticate";try{const r=await sl(t,T1(i,s,e,t),n);re(r.idToken,i,"internal-error");const a=fg(r.idToken);re(a,i,"internal-error");const{sub:l}=a;return re(t.uid===l,i,"user-mismatch"),pi._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&mi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e,n=!1){if(cn(t.app))return Promise.reject(oi(t));const i="signIn",s=await T1(t,i,e),r=await pi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return hg(t,"POST","/v1/accounts:signInWithCustomToken",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e){if(cn(t.app))return Promise.reject(oi(t));const n=kl(t),i=await XR(n,{token:e,returnSecureToken:!0}),s=await pi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function WR(t,e,n,i){return jt(t).onIdTokenChanged(e,n,i)}function JR(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function eI(t,e,n,i){return jt(t).onAuthStateChanged(e,n,i)}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1e3,nI=10;class b1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);CR()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const iI=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A1.type="SESSION";const w1=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await sI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=gg("",20);s.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(m),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function aI(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function oI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uI(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",cI=1,Cc="firebaseLocalStorage",R1="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(t,e){return t.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function hI(){const t=indexedDB.deleteDatabase(x1);return new Ml(t).toPromise()}function Bd(){const t=indexedDB.open(x1,cI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cc,{keyPath:R1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await hI(),e(await Bd()))})})}async function Cv(t,e,n){const i=ch(t,!0).put({[R1]:e,value:n});return new Ml(i).toPromise()}async function fI(t,e){const n=ch(t,!1).get(e),i=await new Ml(n).toPromise();return i===void 0?null:i.value}function Nv(t,e){const n=ch(t,!0).delete(e);return new Ml(n).toPromise()}const dI=800,mI=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>mI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(uI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bd();return await Cv(e,Ic,"1"),await Nv(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>fI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=ch(s,!1).getAll();return new Ml(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const gI=I1;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){return e?si(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yI(t){return $R(t.auth,new pg(t),t.bypassAuthState)}function vI(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),KR(n,new pg(t),t.bypassAuthState)}async function _I(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),YR(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return _I;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:mi(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Nl(2e3,1e4);class Qr extends C1{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TI.get())};e()}}Qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="pendingRedirect",Lu=new Map;class bI extends C1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const i=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(t,e){const n=xI(e),i=SI(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function wI(t,e){Lu.set(t._key(),e)}function SI(t){return si(t._redirectPersistence)}function xI(t){return ju(EI,t.config.apiKey,t.name)}async function RI(t,e,n=!1){if(cn(t.app))return Promise.reject(oi(t));const i=kl(t),s=pI(i,e),a=await new bI(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=10*60*1e3;class CI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!N1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e={}){return Va(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OI=/^https?/;async function MI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DI(t);for(const n of e)try{if(VI(n))return}catch{}mi(t,"unauthorized-domain")}function VI(t){const e=Ud(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!OI.test(n))return!1;if(kI.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Nl(3e4,6e4);function kv(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jI(t){return new Promise((e,n)=>{var i,s,r;function a(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(Vn(t,"network-request-failed"))},timeout:PI.get()})}if(!((s=(i=Pn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Pn().gapi)===null||r===void 0)&&r.load)a();else{const l=LR("iframefcb");return Pn()[l]=()=>{gapi.load?a():n(Vn(t,"network-request-failed"))},PR(`${jR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function LI(t){return Uu=Uu||jI(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Nl(5e3,15e3),zI="__/auth/iframe",BI="emulator/auth/iframe",FI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cg(e,BI):`https://${t.config.authDomain}/${zI}`,i={apiKey:e.apiKey,appName:t.name,v:Ma},s=qI.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Cl(i).slice(1)}`}async function GI(t){const e=await LI(t),n=Pn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:HI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FI,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Vn(t,"network-request-failed"),l=Pn().setTimeout(()=>{r(a)},UI.get());function u(){Pn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YI=500,KI=600,$I="_blank",XI="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZI(t,e,n,i=YI,s=KI){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},QI),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Ot().toLowerCase();n&&(l=c1(h)?$I:n),l1(h)&&(e=e||XI,u.scrollbars="yes");const m=Object.entries(u).reduce((g,[T,N])=>`${g}${T}=${N},`,"");if(IR(h)&&l!=="_self")return WI(e||"",l),new Ov(null);const p=window.open(e||"",l,m);re(p,t,"popup-blocked");try{p.focus()}catch{}return new Ov(p)}function WI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="__/auth/handler",eC="emulator/auth/handler",tC=encodeURIComponent("fac");async function Mv(t,e,n,i,s,r){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ma,eventId:s};if(e instanceof _1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ZS(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))a[m]=p}if(e instanceof Ol){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const u=await t._getAppCheckToken(),h=u?`#${tC}=${encodeURIComponent(u)}`:"";return`${nC(t)}?${Cl(l).slice(1)}${h}`}function nC({config:t}){return t.emulator?cg(t,eC):`https://${t.authDomain}/${JI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=RI,this._overrideRedirectResult=wI}async _openPopup(e,n,i,s){var r;gi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Mv(e,n,i,Ud(),s);return ZI(e,a,gg())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await Mv(e,n,i,Ud(),s);return aI(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(gi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await GI(e),i=new CI(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[kf];a!==void 0&&n(!!a),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g1()||u1()||dg()}}const sC=iC;var Vv="@firebase/auth",Pv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oC(t){ya(new Xs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;re(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(t)},h=new MR(i,s,r,u);return zR(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ya(new Xs("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(i=>new rC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Vv,Pv,aC(t)),us(Vv,Pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=5*60,uC=GE("authIdTokenMaxAge")||lC;let jv=null;const cC=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>uC)return;const s=n==null?void 0:n.token;jv!==s&&(jv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hC(t=ZE()){const e=og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UR(t,{popupRedirectResolver:sC,persistence:[gI,iI,w1]}),i=GE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=cC(r.toString());JR(n,a,()=>a(n.currentUser)),WR(n,l=>a(l))}}const s=qE("auth");return s&&BR(n,`http://${s}`),n}function fC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Vn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",fC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oC("Browser");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,D1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,v){function A(){}A.prototype=v.prototype,b.D=v.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(y,R,I){for(var E=Array(arguments.length-2),we=2;we<arguments.length;we++)E[we-2]=arguments[we];return v.prototype[R].apply(y,E)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,v,A){A||(A=0);var y=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)y[R]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(R=0;16>R;++R)y[R]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=b.g[0],A=b.g[1],R=b.g[2];var I=b.g[3],E=v+(I^A&(R^I))+y[0]+3614090360&4294967295;v=A+(E<<7&4294967295|E>>>25),E=I+(R^v&(A^R))+y[1]+3905402710&4294967295,I=v+(E<<12&4294967295|E>>>20),E=R+(A^I&(v^A))+y[2]+606105819&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(v^R&(I^v))+y[3]+3250441966&4294967295,A=R+(E<<22&4294967295|E>>>10),E=v+(I^A&(R^I))+y[4]+4118548399&4294967295,v=A+(E<<7&4294967295|E>>>25),E=I+(R^v&(A^R))+y[5]+1200080426&4294967295,I=v+(E<<12&4294967295|E>>>20),E=R+(A^I&(v^A))+y[6]+2821735955&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(v^R&(I^v))+y[7]+4249261313&4294967295,A=R+(E<<22&4294967295|E>>>10),E=v+(I^A&(R^I))+y[8]+1770035416&4294967295,v=A+(E<<7&4294967295|E>>>25),E=I+(R^v&(A^R))+y[9]+2336552879&4294967295,I=v+(E<<12&4294967295|E>>>20),E=R+(A^I&(v^A))+y[10]+4294925233&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(v^R&(I^v))+y[11]+2304563134&4294967295,A=R+(E<<22&4294967295|E>>>10),E=v+(I^A&(R^I))+y[12]+1804603682&4294967295,v=A+(E<<7&4294967295|E>>>25),E=I+(R^v&(A^R))+y[13]+4254626195&4294967295,I=v+(E<<12&4294967295|E>>>20),E=R+(A^I&(v^A))+y[14]+2792965006&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(v^R&(I^v))+y[15]+1236535329&4294967295,A=R+(E<<22&4294967295|E>>>10),E=v+(R^I&(A^R))+y[1]+4129170786&4294967295,v=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(v^A))+y[6]+3225465664&4294967295,I=v+(E<<9&4294967295|E>>>23),E=R+(v^A&(I^v))+y[11]+643717713&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^v&(R^I))+y[0]+3921069994&4294967295,A=R+(E<<20&4294967295|E>>>12),E=v+(R^I&(A^R))+y[5]+3593408605&4294967295,v=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(v^A))+y[10]+38016083&4294967295,I=v+(E<<9&4294967295|E>>>23),E=R+(v^A&(I^v))+y[15]+3634488961&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^v&(R^I))+y[4]+3889429448&4294967295,A=R+(E<<20&4294967295|E>>>12),E=v+(R^I&(A^R))+y[9]+568446438&4294967295,v=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(v^A))+y[14]+3275163606&4294967295,I=v+(E<<9&4294967295|E>>>23),E=R+(v^A&(I^v))+y[3]+4107603335&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^v&(R^I))+y[8]+1163531501&4294967295,A=R+(E<<20&4294967295|E>>>12),E=v+(R^I&(A^R))+y[13]+2850285829&4294967295,v=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(v^A))+y[2]+4243563512&4294967295,I=v+(E<<9&4294967295|E>>>23),E=R+(v^A&(I^v))+y[7]+1735328473&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^v&(R^I))+y[12]+2368359562&4294967295,A=R+(E<<20&4294967295|E>>>12),E=v+(A^R^I)+y[5]+4294588738&4294967295,v=A+(E<<4&4294967295|E>>>28),E=I+(v^A^R)+y[8]+2272392833&4294967295,I=v+(E<<11&4294967295|E>>>21),E=R+(I^v^A)+y[11]+1839030562&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^v)+y[14]+4259657740&4294967295,A=R+(E<<23&4294967295|E>>>9),E=v+(A^R^I)+y[1]+2763975236&4294967295,v=A+(E<<4&4294967295|E>>>28),E=I+(v^A^R)+y[4]+1272893353&4294967295,I=v+(E<<11&4294967295|E>>>21),E=R+(I^v^A)+y[7]+4139469664&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^v)+y[10]+3200236656&4294967295,A=R+(E<<23&4294967295|E>>>9),E=v+(A^R^I)+y[13]+681279174&4294967295,v=A+(E<<4&4294967295|E>>>28),E=I+(v^A^R)+y[0]+3936430074&4294967295,I=v+(E<<11&4294967295|E>>>21),E=R+(I^v^A)+y[3]+3572445317&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^v)+y[6]+76029189&4294967295,A=R+(E<<23&4294967295|E>>>9),E=v+(A^R^I)+y[9]+3654602809&4294967295,v=A+(E<<4&4294967295|E>>>28),E=I+(v^A^R)+y[12]+3873151461&4294967295,I=v+(E<<11&4294967295|E>>>21),E=R+(I^v^A)+y[15]+530742520&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^v)+y[2]+3299628645&4294967295,A=R+(E<<23&4294967295|E>>>9),E=v+(R^(A|~I))+y[0]+4096336452&4294967295,v=A+(E<<6&4294967295|E>>>26),E=I+(A^(v|~R))+y[7]+1126891415&4294967295,I=v+(E<<10&4294967295|E>>>22),E=R+(v^(I|~A))+y[14]+2878612391&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~v))+y[5]+4237533241&4294967295,A=R+(E<<21&4294967295|E>>>11),E=v+(R^(A|~I))+y[12]+1700485571&4294967295,v=A+(E<<6&4294967295|E>>>26),E=I+(A^(v|~R))+y[3]+2399980690&4294967295,I=v+(E<<10&4294967295|E>>>22),E=R+(v^(I|~A))+y[10]+4293915773&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~v))+y[1]+2240044497&4294967295,A=R+(E<<21&4294967295|E>>>11),E=v+(R^(A|~I))+y[8]+1873313359&4294967295,v=A+(E<<6&4294967295|E>>>26),E=I+(A^(v|~R))+y[15]+4264355552&4294967295,I=v+(E<<10&4294967295|E>>>22),E=R+(v^(I|~A))+y[6]+2734768916&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~v))+y[13]+1309151649&4294967295,A=R+(E<<21&4294967295|E>>>11),E=v+(R^(A|~I))+y[4]+4149444226&4294967295,v=A+(E<<6&4294967295|E>>>26),E=I+(A^(v|~R))+y[11]+3174756917&4294967295,I=v+(E<<10&4294967295|E>>>22),E=R+(v^(I|~A))+y[2]+718787259&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~v))+y[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(R+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+I&4294967295}i.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var A=v-this.blockSize,y=this.B,R=this.h,I=0;I<v;){if(R==0)for(;I<=A;)s(this,b,I),I+=this.blockSize;if(typeof b=="string"){for(;I<v;)if(y[R++]=b.charCodeAt(I++),R==this.blockSize){s(this,y),R=0;break}}else for(;I<v;)if(y[R++]=b[I++],R==this.blockSize){s(this,y),R=0;break}}this.h=R,this.o+=v},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var A=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=A&255,A/=256;for(this.u(b),b=Array(16),v=A=0;4>v;++v)for(var y=0;32>y;y+=8)b[A++]=this.g[v]>>>y&255;return b};function r(b,v){var A=l;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=v(b)}function a(b,v){this.h=v;for(var A=[],y=!0,R=b.length-1;0<=R;R--){var I=b[R]|0;y&&I==v||(A[R]=I,y=!1)}this.g=A}var l={};function u(b){return-128<=b&&128>b?r(b,function(v){return new a([v|0],0>v?-1:0)}):new a([b|0],0>b?-1:0)}function h(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return k(h(-b));for(var v=[],A=1,y=0;b>=A;y++)v[y]=b/A|0,A*=4294967296;return new a(v,0)}function m(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return k(m(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(v,8)),y=p,R=0;R<b.length;R+=8){var I=Math.min(8,b.length-R),E=parseInt(b.substring(R,R+I),v);8>I?(I=h(Math.pow(v,I)),y=y.j(I).add(h(E))):(y=y.j(A),y=y.add(h(E)))}return y}var p=u(0),g=u(1),T=u(16777216);t=a.prototype,t.m=function(){if(M(this))return-k(this).m();for(var b=0,v=1,A=0;A<this.g.length;A++){var y=this.i(A);b+=(0<=y?y:4294967296+y)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N(this))return"0";if(M(this))return"-"+k(this).toString(b);for(var v=h(Math.pow(b,6)),A=this,y="";;){var R=D(A,v).g;A=S(A,R.j(v));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=R,N(A))return I+y;for(;6>I.length;)I="0"+I;y=I+y}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function N(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function M(b){return b.h==-1}t.l=function(b){return b=S(this,b),M(b)?-1:N(b)?0:1};function k(b){for(var v=b.g.length,A=[],y=0;y<v;y++)A[y]=~b.g[y];return new a(A,~b.h).add(g)}t.abs=function(){return M(this)?k(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],y=0,R=0;R<=v;R++){var I=y+(this.i(R)&65535)+(b.i(R)&65535),E=(I>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);y=E>>>16,I&=65535,E&=65535,A[R]=E<<16|I}return new a(A,A[A.length-1]&-2147483648?-1:0)};function S(b,v){return b.add(k(v))}t.j=function(b){if(N(this)||N(b))return p;if(M(this))return M(b)?k(this).j(k(b)):k(k(this).j(b));if(M(b))return k(this.j(k(b)));if(0>this.l(T)&&0>b.l(T))return h(this.m()*b.m());for(var v=this.g.length+b.g.length,A=[],y=0;y<2*v;y++)A[y]=0;for(y=0;y<this.g.length;y++)for(var R=0;R<b.g.length;R++){var I=this.i(y)>>>16,E=this.i(y)&65535,we=b.i(R)>>>16,z=b.i(R)&65535;A[2*y+2*R]+=E*z,w(A,2*y+2*R),A[2*y+2*R+1]+=I*z,w(A,2*y+2*R+1),A[2*y+2*R+1]+=E*we,w(A,2*y+2*R+1),A[2*y+2*R+2]+=I*we,w(A,2*y+2*R+2)}for(y=0;y<v;y++)A[y]=A[2*y+1]<<16|A[2*y];for(y=v;y<2*v;y++)A[y]=0;return new a(A,0)};function w(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function x(b,v){this.g=b,this.h=v}function D(b,v){if(N(v))throw Error("division by zero");if(N(b))return new x(p,p);if(M(b))return v=D(k(b),v),new x(k(v.g),k(v.h));if(M(v))return v=D(b,k(v)),new x(k(v.g),v.h);if(30<b.g.length){if(M(b)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var A=g,y=v;0>=y.l(b);)A=q(A),y=q(y);var R=O(A,1),I=O(y,1);for(y=O(y,2),A=O(A,2);!N(y);){var E=I.add(y);0>=E.l(b)&&(R=R.add(A),I=E),y=O(y,1),A=O(A,1)}return v=S(b,R.j(v)),new x(R,v)}for(R=p;0<=b.l(v);){for(A=Math.max(1,Math.floor(b.m()/v.m())),y=Math.ceil(Math.log(A)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),I=h(A),E=I.j(v);M(E)||0<E.l(b);)A-=y,I=h(A),E=I.j(v);N(I)&&(I=g),R=R.add(I),b=S(b,E)}return new x(R,b)}t.A=function(b){return D(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],y=0;y<v;y++)A[y]=this.i(y)&b.i(y);return new a(A,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],y=0;y<v;y++)A[y]=this.i(y)|b.i(y);return new a(A,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],y=0;y<v;y++)A[y]=this.i(y)^b.i(y);return new a(A,this.h^b.h)};function q(b){for(var v=b.g.length+1,A=[],y=0;y<v;y++)A[y]=b.i(y)<<1|b.i(y-1)>>>31;return new a(A,b.h)}function O(b,v){var A=v>>5;v%=32;for(var y=b.g.length-A,R=[],I=0;I<y;I++)R[I]=0<v?b.i(I+A)>>>v|b.i(I+A+1)<<32-v:b.i(I+A);return new a(R,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,D1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,cs=a}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k1,vo,O1,zu,Fd,M1,V1,P1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)e:{var f=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var C=o[_];if(!(C in f))break e;f=f[C]}o=o[o.length-1],_=f[o],c=c(_),c!=_&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function r(o,c){o instanceof String&&(o+="");var f=0,_=!1,C={next:function(){if(!_&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}s("Array.prototype.values",function(o){return o||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function m(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,_),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function g(o,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,g.apply(null,arguments)}function T(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function N(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(_,C,V){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return c.prototype[C].apply(_,H)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let _=0;_<c;_++)f[_]=o[_];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const C=o.length||0,V=_.length||0;o.length=C+V;for(let H=0;H<V;H++)o[C+H]=_[H]}else o.push(_)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function w(o){return/^[\s\xa0]*$/.test(o)}function x(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var q=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(o,c,f){for(const _ in o)c.call(f,o[_],_,o)}function b(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(o,c){let f,_;for(let C=1;C<arguments.length;C++){_=arguments[C];for(f in _)o[f]=_[f];for(let V=0;V<A.length;V++)f=A[V],Object.prototype.hasOwnProperty.call(_,f)&&(o[f]=_[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function E(){var o=ie;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class we{constructor(){this.h=this.g=null}add(c,f){const _=z.get();_.set(c,f),this.h?this.h.next=_:this.g=_,this.h=_}}var z=new S(()=>new P,o=>o.reset());class P{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,ie=new we,ce=()=>{const o=l.Promise.resolve(void 0);W=()=>{o.then(ot)}};var ot=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(f){I(f)}var c=z;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}$=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Be(o,c){if(Z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(q){e:{try{D(c.nodeName);var C=!0;break e}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:An[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Be.aa.h.call(this)}}N(Be,Z);var An={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Hn(o,c,f,_,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!_,this.ha=C,this.key=++pt,this.da=this.fa=!1}function Ei(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function cr(o){this.src=o,this.g={},this.h=0}cr.prototype.add=function(o,c,f,_,C){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=wn(o,c,_,C);return-1<H?(c=o[H],f||(c.fa=!1)):(c=new Hn(c,this.src,V,!!_,C),c.fa=f,o.push(c)),c};function hr(o,c){var f=c.type;if(f in o.g){var _=o.g[f],C=Array.prototype.indexOf.call(_,c,void 0),V;(V=0<=C)&&Array.prototype.splice.call(_,C,1),V&&(Ei(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function wn(o,c,f,_){for(var C=0;C<o.length;++C){var V=o[C];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==_)return C}return-1}var fr="closure_lm_"+(1e6*Math.random()|0),Sn={};function za(o,c,f,_,C){if(Array.isArray(c)){for(var V=0;V<c.length;V++)za(o,c[V],f,_,C);return null}return f=As(f),o&&o[tt]?o.K(c,f,h(_)?!!_.capture:!1,C):Nh(o,c,f,!1,_,C)}function Nh(o,c,f,_,C,V){if(!c)throw Error("Invalid event type");var H=h(C)?!!C.capture:!!C,Ce=yt(o);if(Ce||(o[fr]=Ce=new cr(o)),f=Ce.add(c,f,_,H,V),f.proxy)return f;if(_=Ul(),f.proxy=_,_.src=o,_.listener=f,o.addEventListener)Pe||(C=H),C===void 0&&(C=!1),o.addEventListener(c.toString(),_,C);else if(o.attachEvent)o.attachEvent(dr(c.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ul(){function o(f){return c.call(o.src,o.listener,f)}const c=bi;return o}function Xe(o,c,f,_,C){if(Array.isArray(c))for(var V=0;V<c.length;V++)Xe(o,c[V],f,_,C);else _=h(_)?!!_.capture:!!_,f=As(f),o&&o[tt]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=wn(V,f,_,C),-1<f&&(Ei(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=yt(o))&&(c=o.g[c.toString()],o=-1,c&&(o=wn(c,f,_,C)),(f=-1<o?c[o]:null)&&xn(f))}function xn(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[tt])hr(c.i,o);else{var f=o.type,_=o.proxy;c.removeEventListener?c.removeEventListener(f,_,o.capture):c.detachEvent?c.detachEvent(dr(f),_):c.addListener&&c.removeListener&&c.removeListener(_),(f=yt(c))?(hr(f,o),f.h==0&&(f.src=null,c[fr]=null)):Ei(o)}}}function dr(o){return o in Sn?Sn[o]:Sn[o]="on"+o}function bi(o,c){if(o.da)o=!0;else{c=new Be(c,this);var f=o.listener,_=o.ha||o.src;o.fa&&xn(o),o=f.call(_,c)}return o}function yt(o){return o=o[fr],o instanceof cr?o:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function As(o){return typeof o=="function"?o:(o[Ba]||(o[Ba]=function(c){return o.handleEvent(c)}),o[Ba])}function lt(){J.call(this),this.i=new cr(this),this.M=this,this.F=null}N(lt,J),lt.prototype[tt]=!0,lt.prototype.removeEventListener=function(o,c,f,_){Xe(this,o,c,f,_)};function ut(o,c){var f,_=o.F;if(_)for(f=[];_;_=_.F)f.push(_);if(o=o.M,_=c.type||c,typeof c=="string")c=new Z(c,o);else if(c instanceof Z)c.target=c.target||o;else{var C=c;c=new Z(_,o),y(c,C)}if(C=!0,f)for(var V=f.length-1;0<=V;V--){var H=c.g=f[V];C=ws(H,_,!0,c)&&C}if(H=c.g=o,C=ws(H,_,!0,c)&&C,C=ws(H,_,!1,c)&&C,f)for(V=0;V<f.length;V++)H=c.g=f[V],C=ws(H,_,!1,c)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],_=0;_<f.length;_++)Ei(f[_]);delete o.g[c],o.h--}}this.F=null},lt.prototype.K=function(o,c,f,_){return this.i.add(String(o),c,!1,f,_)},lt.prototype.L=function(o,c,f,_){return this.i.add(String(o),c,!0,f,_)};function ws(o,c,f,_){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,V=0;V<c.length;++V){var H=c[V];if(H&&!H.da&&H.capture==f){var Ce=H.listener,_t=H.ha||H.src;H.fa&&hr(o.i,H),C=Ce.call(_t,_)!==!1&&C}}return C&&!_.defaultPrevented}function Fa(o,c,f){if(typeof o=="function")f&&(o=g(o,f));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function qa(o){o.g=Fa(()=>{o.g=null,o.i&&(o.i=!1,qa(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Dh extends J{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(o){J.call(this),this.h=o,this.g={}}N(mr,J);var Ss=[];function gr(o){O(o.g,function(c,f){this.g.hasOwnProperty(f)&&xn(c)},o),o.g={}}mr.prototype.N=function(){mr.aa.N.call(this),gr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=l.JSON.stringify,kh=l.JSON.parse,le=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ha(){}Ha.prototype.h=null;function yr(o){return o.h||(o.h=o.i())}function Ga(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){Z.call(this,"d")}N(vr,Z);function wi(){Z.call(this,"c")}N(wi,Z);var Rn={},Qa=null;function _r(){return Qa=Qa||new lt}Rn.La="serverreachability";function Si(o){Z.call(this,Rn.La,o)}N(Si,Z);function xs(o){const c=_r();ut(c,new Si(c))}Rn.STAT_EVENT="statevent";function zl(o,c){Z.call(this,Rn.STAT_EVENT,o),this.stat=c}N(zl,Z);function vt(o){const c=_r();ut(c,new zl(c,o))}Rn.Ma="timingevent";function Ya(o,c){Z.call(this,Rn.Ma,o),this.size=c}N(Ya,Z);function xi(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Bl(o,c,f,_,C,V){o.info(function(){if(o.g)if(V)for(var H="",Ce=V.split("&"),_t=0;_t<Ce.length;_t++){var Te=Ce[_t].split("=");if(1<Te.length){var xt=Te[0];Te=Te[1];var Rt=xt.split("_");H=2<=Rt.length&&Rt[1]=="type"?H+(xt+"="+Te+"&"):H+(xt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+_+") [attempt "+C+"]: "+c+`
`+f+`
`+H})}function Ka(o,c,f,_,C,V,H){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+C+"]: "+c+`
`+f+`
`+V+" "+H})}function Ii(o,c,f,_){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Mh(o,f)+(_?" "+_:"")})}function Oh(o,c){o.info(function(){return"TIMEOUT: "+c})}Ri.prototype.info=function(){};function Mh(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var _=f[o];if(!(2>_.length)){var C=_[1];if(Array.isArray(C)&&!(1>C.length)){var V=C[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<C.length;H++)C[H]=""}}}}return pr(f)}catch{return c}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G;function Y(){}N(Y,Ha),Y.prototype.g=function(){return new XMLHttpRequest},Y.prototype.i=function(){return{}},G=new Y;function Q(o,c,f,_){this.j=o,this.i=c,this.l=f,this.R=_||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var ge={},je={};function Oe(o,c,f){o.L=1,o.v=Hl(Gn(c)),o.m=f,o.P=!0,Qt(o,null)}function Qt(o,c){o.F=Date.now(),Ci(o),o.A=Gn(o.v);var f=o.A,_=o.R;Array.isArray(_)||(_=[String(_)]),yp(f.i,"t",_),o.C=0,f=o.j.J,o.h=new se,o.g=Vp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Dh(g(o.Y,o,o.g),o.O)),c=o.U,f=o.g,_=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ss[0]=C.toString()),C=Ss);for(var V=0;V<C.length;V++){var H=za(f,C[V],_||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),xs(),Bl(o.i,o.u,o.A,o.l,o.R,o.m)}Q.prototype.ca=function(o){o=o.target;const c=this.M;c&&Qn(o)==3?c.j():this.Y(o)},Q.prototype.Y=function(o){try{if(o==this.g)e:{const Rt=Qn(this.g);var c=this.g.Ba();const Ar=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||wp(this.g)))){this.J||Rt!=4||c==7||(c==8||0>=Ar?xs(3):xs(2)),Vh(this);var f=this.g.Z();this.X=f;t:if(Rs(this)){var _=wp(this.g);o="";var C=_.length,V=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Xa(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(_[c],{stream:!(V&&c==C-1)});_.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Ka(this.i,this.u,this.A,this.l,this.R,Rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,_t=this.g;if((Ce=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ce)){var Te=Ce;break t}}Te=null}if(f=Te)Ii(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ph(this,f);else{this.o=!1,this.s=3,vt(12),Is(this),Xa(this);break e}}if(this.P){f=!0;let gn;for(;!this.J&&this.C<H.length;)if(gn=$a(this,H),gn==je){Rt==4&&(this.s=4,vt(14),f=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==ge){this.s=4,vt(15),Ii(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Ii(this.i,this.l,gn,null),Ph(this,gn);if(Rs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||H.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Ii(this.i,this.l,H,"[Invalid Chunked Response]"),Is(this),Xa(this);else if(0<H.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Fh(xt),xt.M=!0,vt(11))}}else Ii(this.i,this.l,H,null),Ph(this,H);Rt==4&&Is(this),this.o&&!this.J&&(Rt==4?Dp(this.j,this):(this.o=!1,Ci(this)))}else R2(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Is(this),Xa(this)}}}catch{}finally{}};function Rs(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function $a(o,c){var f=o.C,_=c.indexOf(`
`,f);return _==-1?je:(f=Number(c.substring(f,_)),isNaN(f)?ge:(_+=1,_+f>c.length?je:(c=c.slice(_,_+f),o.C=_+f,c)))}Q.prototype.cancel=function(){this.J=!0,Is(this)};function Ci(o){o.S=Date.now()+o.I,Ni(o,o.I)}function Ni(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=xi(g(o.ba,o),c)}function Vh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Q.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Oh(this.i,this.A),this.L!=2&&(xs(),vt(17)),Is(this),this.s=2,Xa(this)):Ni(this,this.S-o)};function Xa(o){o.j.G==0||o.J||Dp(o.j,o)}function Is(o){Vh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,gr(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ph(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||jh(f.h,o))){if(!o.K&&jh(f.h,o)&&f.G==3){try{var _=f.Da.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var C=_;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Xl(f),Kl(f);else break e;Bh(f),vt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=xi(g(f.Za,f),6e3));if(1>=lp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ns(f,11)}else if((o.K||f.g==o)&&Xl(f),!w(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let Te=C[c];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];const xt=Te[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));const Rt=Te[4];Rt!=null&&(f.Aa=Rt,f.j.info("SVER="+f.Aa));const Ar=Te[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(_=1.5*Ar,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const gn=o.g;if(gn){const Wl=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var V=_.h;V.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Lh(V,V.h),V.h=null))}if(_.D){const qh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(_.ya=qh,Me(_.I,_.D,qh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var H=o;if(_.qa=Mp(_,_.J?_.ia:null,_.W),H.K){up(_.h,H);var Ce=H,_t=_.L;_t&&(Ce.I=_t),Ce.B&&(Vh(Ce),Ci(Ce)),_.g=H}else Cp(_);0<f.i.length&&$l(f)}else Te[0]!="stop"&&Te[0]!="close"||Ns(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Ns(f,7):zh(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}xs(4)}catch{}}var h2=class{constructor(o,c){this.g=o,this.map=c}};function ap(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function op(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function lp(o){return o.h?1:o.g?o.g.size:0}function jh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Lh(o,c){o.g?o.g.add(c):o.h=c}function up(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}ap.prototype.cancel=function(){if(this.i=cp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function cp(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function f2(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,_=0;_<f;_++)c.push(o[_]);return c}c=[],f=0;for(_ in o)c[f++]=o[_];return c}function d2(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const _ in o)c[f++]=_;return c}}}function hp(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=d2(o),_=f2(o),C=_.length,V=0;V<C;V++)c.call(void 0,_[V],f&&f[V],o)}var fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m2(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var _=o[f].indexOf("="),C=null;if(0<=_){var V=o[f].substring(0,_);C=o[f].substring(_+1)}else V=o[f];c(V,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Cs(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Cs){this.h=o.h,Fl(this,o.j),this.o=o.o,this.g=o.g,ql(this,o.s),this.l=o.l;var c=o.i,f=new Ja;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),dp(this,f),this.m=o.m}else o&&(c=String(o).match(fp))?(this.h=!1,Fl(this,c[1]||"",!0),this.o=Za(c[2]||""),this.g=Za(c[3]||"",!0),ql(this,c[4]),this.l=Za(c[5]||"",!0),dp(this,c[6]||"",!0),this.m=Za(c[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}Cs.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Wa(c,mp,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Wa(c,mp,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Wa(f,f.charAt(0)=="/"?y2:p2,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Wa(f,_2)),o.join("")};function Gn(o){return new Cs(o)}function Fl(o,c,f){o.j=f?Za(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function ql(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function dp(o,c,f){c instanceof Ja?(o.i=c,T2(o.i,o.h)):(f||(c=Wa(c,v2)),o.i=new Ja(c,o.h))}function Me(o,c,f){o.i.set(c,f)}function Hl(o){return Me(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Za(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Wa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,g2),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function g2(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var mp=/[#\/\?@]/g,p2=/[#\?:]/g,y2=/[#\?]/g,v2=/[#\?@]/g,_2=/#/g;function Ja(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Di(o){o.g||(o.g=new Map,o.h=0,o.i&&m2(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Ja.prototype,t.add=function(o,c){Di(this),this.i=null,o=Er(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function gp(o,c){Di(o),c=Er(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function pp(o,c){return Di(o),c=Er(o,c),o.g.has(c)}t.forEach=function(o,c){Di(this),this.g.forEach(function(f,_){f.forEach(function(C){o.call(c,C,_,this)},this)},this)},t.na=function(){Di(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let _=0;_<c.length;_++){const C=o[_];for(let V=0;V<C.length;V++)f.push(c[_])}return f},t.V=function(o){Di(this);let c=[];if(typeof o=="string")pp(this,o)&&(c=c.concat(this.g.get(Er(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return Di(this),this.i=null,o=Er(this,o),pp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function yp(o,c,f){gp(o,c),0<f.length&&(o.i=null,o.g.set(Er(o,c),M(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var _=c[f];const V=encodeURIComponent(String(_)),H=this.V(_);for(_=0;_<H.length;_++){var C=V;H[_]!==""&&(C+="="+encodeURIComponent(String(H[_]))),o.push(C)}}return this.i=o.join("&")};function Er(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function T2(o,c){c&&!o.j&&(Di(o),o.i=null,o.g.forEach(function(f,_){var C=_.toLowerCase();_!=C&&(gp(this,_),yp(this,C,f))},o)),o.j=c}function E2(o,c){const f=new Ri;if(l.Image){const _=new Image;_.onload=T(ki,f,"TestLoadImage: loaded",!0,c,_),_.onerror=T(ki,f,"TestLoadImage: error",!1,c,_),_.onabort=T(ki,f,"TestLoadImage: abort",!1,c,_),_.ontimeout=T(ki,f,"TestLoadImage: timeout",!1,c,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else c(!1)}function b2(o,c){const f=new Ri,_=new AbortController,C=setTimeout(()=>{_.abort(),ki(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:_.signal}).then(V=>{clearTimeout(C),V.ok?ki(f,"TestPingServer: ok",!0,c):ki(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),ki(f,"TestPingServer: error",!1,c)})}function ki(o,c,f,_,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),_(f)}catch{}}function A2(){this.g=new le}function w2(o,c,f){const _=f||"";try{hp(o,function(C,V){let H=C;h(C)&&(H=pr(C)),c.push(_+V+"="+encodeURIComponent(H))})}catch(C){throw c.push(_+"type="+encodeURIComponent("_badmap")),C}}function Gl(o){this.l=o.Ub||null,this.j=o.eb||!1}N(Gl,Ha),Gl.prototype.g=function(){return new Ql(this.l,this.j)},Gl.prototype.i=function(o){return function(){return o}}({});function Ql(o,c){lt.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ql,lt),t=Ql.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,to(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vp(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function vp(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?eo(this):to(this),this.readyState==3&&vp(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,eo(this))},t.Qa=function(o){this.g&&(this.response=o,eo(this))},t.ga=function(){this.g&&eo(this)};function eo(o){o.readyState=4,o.l=null,o.j=null,o.v=null,to(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function to(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function _p(o){let c="";return O(o,function(f,_){c+=_,c+=":",c+=f,c+=`\r
`}),c}function Uh(o,c,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=_p(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Me(o,c,f))}function He(o){lt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,lt);var S2=/^https?$/i,x2=["POST","PUT"];t=He.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G.g(),this.v=this.o?yr(this.o):yr(G),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Tp(this,V);return}if(o=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var C in _)f.set(C,_[C]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())f.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(x2,c,void 0))||_||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ap(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Tp(this,V)}};function Tp(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ep(o),Yl(o)}function Ep(o){o.A||(o.A=!0,ut(o,"complete"),ut(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ut(this,"complete"),ut(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bp(this):this.bb())},t.bb=function(){bp(this)};function bp(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Qn(o)!=4||o.Z()!=2)){if(o.u&&Qn(o)==4)Fa(o.Ea,0,o);else if(ut(o,"readystatechange"),Qn(o)==4){o.h=!1;try{const H=o.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var _;if(_=H===0){var C=String(o.D).match(fp)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),_=!S2.test(C?C.toLowerCase():"")}f=_}if(f)ut(o,"complete"),ut(o,"success");else{o.m=6;try{var V=2<Qn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",Ep(o)}}finally{Yl(o)}}}}function Yl(o,c){if(o.g){Ap(o);const f=o.g,_=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ut(o,"ready");try{f.onreadystatechange=_}catch{}}}function Ap(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Qn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),kh(c)}};function wp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function R2(o){const c={};o=(o.g&&2<=Qn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(w(o[_]))continue;var f=R(o[_]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[C]||[];c[C]=V,V.push(f)}b(c,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Sp(o){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=no("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=no("baseRetryDelayMs",5e3,o),this.cb=no("retryDelaySeedMs",1e4,o),this.Wa=no("forwardChannelMaxRetries",2,o),this.wa=no("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ap(o&&o.concurrentRequestLimit),this.Da=new A2,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sp.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,_){vt(0),this.W=o,this.H=c||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=Mp(this,null,this.W),$l(this)};function zh(o){if(xp(o),o.G==3){var c=o.U++,f=Gn(o.I);if(Me(f,"SID",o.K),Me(f,"RID",c),Me(f,"TYPE","terminate"),io(o,f),c=new Q(o,o.j,c),c.L=2,c.v=Hl(Gn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Vp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ci(c)}Op(o)}function Kl(o){o.g&&(Fh(o),o.g.cancel(),o.g=null)}function xp(o){Kl(o),o.u&&(l.clearTimeout(o.u),o.u=null),Xl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function $l(o){if(!op(o.h)&&!o.s){o.s=!0;var c=o.Ga;W||ce(),$||(W(),$=!0),ie.add(c,o),o.B=0}}function I2(o,c){return lp(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=xi(g(o.Ga,o,c),kp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new Q(this,this.j,o);let V=this.o;if(this.S&&(V?(V=v(V),y(V,this.S)):V=this.S),this.m!==null||this.O||(C.H=V,V=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(c+=_,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=Ip(this,C,c),f=Gn(this.I),Me(f,"RID",o),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),io(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(_p(V)))+"&"+c:this.m&&Uh(f,this.m,V)),Lh(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",c),Me(f,"SID","null"),C.T=!0,Oe(C,f,null)):Oe(C,f,c),this.G=2}}else this.G==3&&(o?Rp(this,o):this.i.length==0||op(this.h)||Rp(this))};function Rp(o,c){var f;c?f=c.l:f=o.U++;const _=Gn(o.I);Me(_,"SID",o.K),Me(_,"RID",f),Me(_,"AID",o.T),io(o,_),o.m&&o.o&&Uh(_,o.m,o.o),f=new Q(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Ip(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Lh(o.h,f),Oe(f,_,c)}function io(o,c){o.H&&O(o.H,function(f,_){Me(c,_,f)}),o.l&&hp({},function(f,_){Me(c,_,f)})}function Ip(o,c,f){f=Math.min(o.i.length,f);var _=o.l?g(o.l.Na,o.l,o):null;e:{var C=o.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=C[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Ce=!0;for(let _t=0;_t<f;_t++){let Te=C[_t].g;const xt=C[_t].map;if(Te-=V,0>Te)V=Math.max(0,C[_t].g-100),Ce=!1;else try{w2(xt,H,"req"+Te+"_")}catch{_&&_(xt)}}if(Ce){_=H.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,_}function Cp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;W||ce(),$||(W(),$=!0),ie.add(c,o),o.v=0}}function Bh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=xi(g(o.Fa,o),kp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Np(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=xi(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Kl(this),Np(this))};function Fh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Np(o){o.g=new Q(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Gn(o.qa);Me(c,"RID","rpc"),Me(c,"SID",o.K),Me(c,"AID",o.T),Me(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Me(c,"TO",o.ja),Me(c,"TYPE","xmlhttp"),io(o,c),o.m&&o.o&&Uh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Hl(Gn(c)),f.m=null,f.P=!0,Qt(f,o)}t.Za=function(){this.C!=null&&(this.C=null,Kl(this),Bh(this),vt(19))};function Xl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Dp(o,c){var f=null;if(o.g==c){Xl(o),Fh(o),o.g=null;var _=2}else if(jh(o.h,c))f=c.D,up(o.h,c),_=1;else return;if(o.G!=0){if(c.o)if(_==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;_=_r(),ut(_,new Ya(_,f)),$l(o)}else Cp(o);else if(C=c.s,C==3||C==0&&0<c.X||!(_==1&&I2(o,c)||_==2&&Bh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:Ns(o,5);break;case 4:Ns(o,10);break;case 3:Ns(o,6);break;default:Ns(o,2)}}}function kp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Ns(o,c){if(o.j.info("Error code "+c),c==2){var f=g(o.fb,o),_=o.Xa;const C=!_;_=new Cs(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fl(_,"https"),Hl(_),C?E2(_.toString(),f):b2(_.toString(),f)}else vt(2);o.G=0,o.l&&o.l.sa(c),Op(o),xp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Op(o){if(o.G=0,o.ka=[],o.l){const c=cp(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Mp(o,c,f){var _=f instanceof Cs?Gn(f):new Cs(f);if(_.g!="")c&&(_.g=c+"."+_.g),ql(_,_.s);else{var C=l.location;_=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var V=new Cs(null);_&&Fl(V,_),c&&(V.g=c),C&&ql(V,C),f&&(V.l=f),_=V}return f=o.D,c=o.ya,f&&c&&Me(_,f,c),Me(_,"VER",o.la),io(o,_),_}function Vp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new He(new Gl({eb:f})):new He(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pp(){}t=Pp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zl(){}Zl.prototype.g=function(o,c){return new Yt(o,c)};function Yt(o,c){lt.call(this),this.g=new Sp(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!w(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!w(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new br(this)}N(Yt,lt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){zh(this.g)},Yt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=pr(o),o=f);c.i.push(new h2(c.Ya++,o)),c.G==3&&$l(c)},Yt.prototype.N=function(){this.g.l=null,delete this.j,zh(this.g),delete this.g,Yt.aa.N.call(this)};function jp(o){vr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}N(jp,vr);function Lp(){wi.call(this),this.status=1}N(Lp,wi);function br(o){this.g=o}N(br,Pp),br.prototype.ua=function(){ut(this.g,"a")},br.prototype.ta=function(o){ut(this.g,new jp(o))},br.prototype.sa=function(o){ut(this.g,new Lp)},br.prototype.ra=function(){ut(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,P1=function(){return new Zl},V1=function(){return _r()},M1=Rn,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,zu=Tr,F.COMPLETE="complete",O1=F,Ga.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",lt.prototype.listen=lt.prototype.K,vo=Ga,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,k1=He}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",zv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new rg("@firebase/firestore");function Nr(){return Ws.logLevel}function X(t,...e){if(Ws.logLevel<=pe.DEBUG){const n=e.map(yg);Ws.debug(`Firestore (${Pa}): ${t}`,...n)}}function yi(t,...e){if(Ws.logLevel<=pe.ERROR){const n=e.map(yg);Ws.error(`Firestore (${Pa}): ${t}`,...n)}}function va(t,...e){if(Ws.logLevel<=pe.WARN){const n=e.map(yg);Ws.warn(`Firestore (${Pa}): ${t}`,...n)}}function yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,j1(t,i,n)}function j1(t,e,n){let i=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw yi(i),new Error(i)}function Ae(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||j1(e,s,i)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new li;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new li,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new li)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string",31837,{l:i}),new L1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class pC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new pC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const i=r=>{r.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=_C(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function he(t,e){return t<e?-1:t>e?1:0}function qd(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return he(i,s);{const r=U1(),a=TC(r.encode(Fv(t,n)),r.encode(Fv(e,n)));return a!==0?a:he(i,s)}}n+=i>65535?2:1}return he(t.length,e.length)}function Fv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TC(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function _a(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Hv);return new st(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qv)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new st(0,0))}static max(){return new ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class Cn{constructor(e,n,i){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Cn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return he(e.length,n.length)}static compareSegments(e,n){const i=Cn.isNumericId(e),s=Cn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Cn.extractNumericId(e).compare(Cn.extractNumericId(n)):qd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class De extends Cn{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Cn{construct(e,n,i){return new At(e,n,i)}static isValidIdentifier(e){return EC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new At([Gv])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new K(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(De.fromString(e))}static fromName(e){return new ee(De.fromString(e).popFirst(5))}static empty(){return new ee(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new De(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=-1;function bC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(i===1e9?new st(n+1,0):new st(n,i));return new gs(s,ee.empty(),e)}function AC(t){return new gs(t.readTime,t.key,rl)}class gs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new gs(ae.min(),ee.empty(),rl)}static max(){return new gs(ae.max(),ee.empty(),rl)}}function wC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==SC)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new L((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(m=>{a[h]=m,++l,l===r&&i(a)},m=>s(m))}})}static doWhile(e,n){return new L((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function RC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function La(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function fh(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function IC(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function CC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qv(e)),e=NC(t.get(n),e);return Qv(e)}function NC(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case B1:n+="";break;default:n+=r}}return n}function Qv(t){return t+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Et.RED,this.left=s??Et.EMPTY,this.right=r??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Et(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new vn([])}unionWith(e){let n=new rt(At.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new q1("Invalid base64 string: "+r):r}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const DC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=DC.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",G1="__type__",Q1="__previous_value__",Y1="__local_write_time__";function dh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[G1])===null||n===void 0?void 0:n.stringValue)===H1}function mh(t){const e=t.mapValue.fields[Q1];return dh(e)?mh(e):e}function al(t){const e=ps(t.mapValue.fields[Y1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,i,s,r,a,l,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=m}}const Dc="(default)";class ol{constructor(e,n){this.projectId=e,this.database=n||Dc}static empty(){return new ol("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",OC="__max__",yu={mapValue:{}},$1="__vector__",kc="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dh(t)?4:VC(t)?9007199254740991:MC(t)?10:11:te(28295,{value:t})}function zn(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ps(s.timestampValue),l=ps(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ys(s.bytesValue).isEqual(ys(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return $e(s.geoPointValue.latitude)===$e(r.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return $e(s.integerValue)===$e(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=$e(s.doubleValue),l=$e(r.doubleValue);return a===l?Nc(a)===Nc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(Yv(a)!==Yv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!zn(a[u],l[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function ll(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=vs(t),i=vs(e);if(n!==i)return he(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=$e(r.integerValue||r.doubleValue),u=$e(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return $v(t.timestampValue,e.timestampValue);case 4:return $v(al(t),al(e));case 5:return qd(t.stringValue,e.stringValue);case 6:return function(r,a){const l=ys(r),u=ys(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const m=he(l[h],u[h]);if(m!==0)return m}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=he($e(r.latitude),$e(a.latitude));return l!==0?l:he($e(r.longitude),$e(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,u,h,m;const p=r.fields||{},g=a.fields||{},T=(l=p[kc])===null||l===void 0?void 0:l.arrayValue,N=(u=g[kc])===null||u===void 0?void 0:u.arrayValue,M=he(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return M!==0?M:Xv(T,N)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===yu.mapValue&&a===yu.mapValue)return 0;if(r===yu.mapValue)return 1;if(a===yu.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const g=qd(u[p],m[p]);if(g!==0)return g;const T=Ta(l[u[p]],h[m[p]]);if(T!==0)return T}return he(u.length,m.length)}(t.mapValue,e.mapValue);default:throw te(23264,{Pe:n})}}function $v(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=ps(t),i=ps(e),s=he(n.seconds,i.seconds);return s!==0?s:he(n.nanos,i.nanos)}function Xv(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Ta(n[s],i[s]);if(r)return r}return he(n.length,i.length)}function Ea(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ps(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Hd(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Hd(n.fields[a])}`;return s+"}"}(t.mapValue):te(61005,{value:t})}function Bu(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+Bu(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Bu(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return rr(i.fields,(r,a)=>{s+=r.length+Bu(a)}),s}(t.mapValue);default:throw te(13486,{value:t})}}function Oc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gd(t){return!!t&&"integerValue"in t}function _g(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function Wv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function MC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[K1])===null||n===void 0?void 0:n.stringValue)===$1}function Uo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Uo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(n)}setAll(e){let n=At.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Uo(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Fu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){rr(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new hn(Uo(this.value))}}function X1(t){const e=[];return rr(t.fields,(n,i)=>{const s=new At([n]);if(Fu(i)){const r=X1(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Nt(e,0,ae.min(),ae.min(),ae.min(),hn.empty(),0)}static newFoundDocument(e,n,i,s){return new Nt(e,1,n,ae.min(),i,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,ae.min(),ae.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ae.min(),ae.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.position=e,this.inclusive=n}}function Jv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=ee.comparator(ee.fromName(a.referenceValue),n.key):i=Ta(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function e_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function PC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{}class Je extends Z1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new LC(e,n,i):n==="array-contains"?new BC(e,i):n==="in"?new FC(e,i):n==="not-in"?new qC(e,i):n==="array-contains-any"?new HC(e,i):new Je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UC(e,i):new zC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends Z1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new En(e,n)}matches(e){return W1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function W1(t){return t.op==="and"}function J1(t){return jC(t)&&W1(t)}function jC(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function Qd(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(J1(t))return t.filters.map(e=>Qd(e)).join(",");{const e=t.filters.map(n=>Qd(n)).join(",");return`${t.op}(${e})`}}function eb(t,e){return t instanceof Je?function(i,s){return s instanceof Je&&i.op===s.op&&i.field.isEqual(s.field)&&zn(i.value,s.value)}(t,e):t instanceof En?function(i,s){return s instanceof En&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&eb(a,s.filters[l]),!0):!1}(t,e):void te(19439)}function tb(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"}(t):"Filter"}class LC extends Je{constructor(e,n,i){super(e,n,i),this.key=ee.fromName(i.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class UC extends Je{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zC extends Je{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ee.fromName(i.referenceValue))}class BC extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&ll(n.arrayValue,this.value)}}class FC extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class qC extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ll(this.value.arrayValue,n)}}class HC extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function t_(t,e=null,n=[],i=[],s=null,r=null,a=null){return new GC(t,e,n,i,s,r,a)}function Tg(t){const e=oe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Qd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ea(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ea(i)).join(",")),e.Ie=n}return e.Ie}function Eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e_(t.startAt,e.startAt)&&e_(t.endAt,e.endAt)}function Yd(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QC(t,e,n,i,s,r,a,l){return new ar(t,e,n,i,s,r,a,l)}function gh(t){return new ar(t)}function n_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bg(t){return t.collectionGroup!==null}function sa(t){const e=oe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rt(At.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new ul(r,i))}),n.has(At.keyField().canonicalString())||e.Ee.push(new ul(At.keyField(),i))}return e.Ee}function jn(t){const e=oe(t);return e.de||(e.de=YC(e,sa(t))),e.de}function YC(t,e){if(t.limitType==="F")return t_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new ul(s.field,r)});const n=t.endAt?new ba(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ba(t.startAt.position,t.startAt.inclusive):null;return t_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Kd(t,e){const n=t.filters.concat([e]);return new ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mc(t,e,n){return new ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Eg(jn(t),jn(e))&&t.limitType===e.limitType}function ib(t){return`${Tg(jn(t))}|lt:${t.limitType}`}function Dr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>tb(s)).join(", ")}]`),fh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ea(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ea(s)).join(",")),`Target(${i})`}(jn(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ee.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of sa(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=Jv(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,sa(i),s)||i.endAt&&!function(a,l,u){const h=Jv(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,sa(i),s))}(t,e)}function KC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sb(t){return(e,n)=>{let i=!1;for(const s of sa(t)){const r=$C(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function $C(t,e,n){const i=t.field.isKeyField()?ee.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?Ta(u,h):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new qe(ee.comparator);function vi(){return XC}const rb=new qe(ee.comparator);function _o(...t){let e=rb;for(const n of t)e=e.insert(n.key,n);return e}function ab(t){let e=rb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ps(){return zo()}function ob(){return zo()}function zo(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZC=new qe(ee.comparator),WC=new rt(ee.comparator);function ye(...t){let e=WC;for(const n of t)e=e.add(n);return e}const JC=new rt(he);function eN(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function lb(t){return{integerValue:""+t}}function tN(t,e){return IC(e)?lb(e):Ag(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function nN(t,e,n){return t instanceof Vc?function(s,r){const a={fields:{[G1]:{stringValue:H1},[Y1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&dh(r)&&(r=mh(r)),r&&(a.fields[Q1]=r),{mapValue:a}}(n,e):t instanceof cl?cb(t,e):t instanceof hl?hb(t,e):function(s,r){const a=ub(s,r),l=i_(a)+i_(s.Re);return Gd(a)&&Gd(s.Re)?lb(l):Ag(s.serializer,l)}(t,e)}function iN(t,e,n){return t instanceof cl?cb(t,e):t instanceof hl?hb(t,e):n}function ub(t,e){return t instanceof Pc?function(i){return Gd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Vc extends vh{}class cl extends vh{constructor(e){super(),this.elements=e}}function cb(t,e){const n=fb(e);for(const i of t.elements)n.some(s=>zn(s,i))||n.push(i);return{arrayValue:{values:n}}}class hl extends vh{constructor(e){super(),this.elements=e}}function hb(t,e){let n=fb(e);for(const i of t.elements)n=n.filter(s=>!zn(s,i));return{arrayValue:{values:n}}}class Pc extends vh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function i_(t){return $e(t.integerValue||t.doubleValue)}function fb(t){return _g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sN(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof cl&&s instanceof cl||i instanceof hl&&s instanceof hl?_a(i.elements,s.elements,zn):i instanceof Pc&&s instanceof Pc?zn(i.Re,s.Re):i instanceof Vc&&s instanceof Vc}(t.transform,e.transform)}class rN{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function db(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,Ln.none()):new Vl(t.key,t.data,Ln.none());{const n=t.data,i=hn.empty();let s=new rt(At.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new lr(t.key,i,new vn(s.toArray()),Ln.none())}}function aN(t,e,n){t instanceof Vl?function(s,r,a){const l=s.value.clone(),u=r_(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof lr?function(s,r,a){if(!qu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=r_(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(mb(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Bo(t,e,n,i){return t instanceof Vl?function(r,a,l,u){if(!qu(r.precondition,a))return l;const h=r.value.clone(),m=a_(r.fieldTransforms,u,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof lr?function(r,a,l,u){if(!qu(r.precondition,a))return l;const h=a_(r.fieldTransforms,u,a),m=a.data;return m.setAll(mb(r)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,a,l){return qu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function oN(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=ub(i.transform,s||null);r!=null&&(n===null&&(n=hn.empty()),n.set(i.field,r))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&_a(i,s,(r,a)=>sN(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vl extends _h{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lr extends _h{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function mb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function r_(t,e,n){const i=new Map;Ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,iN(a,l,n[s]))}return i}function a_(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,nN(r,a,e))}return i}class wg extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&aN(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Bo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Bo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ob();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=db(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ae.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,i)=>s_(n,i))&&_a(this.baseMutations,e.baseMutations,(n,i)=>s_(n,i))}}class Sg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Ae(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return ZC}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Sg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ve;function fN(t){switch(t){case j.OK:return te(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function gb(t){if(t===void 0)return yi("GRPC error has no .code"),j.UNKNOWN;switch(t){case Ze.OK:return j.OK;case Ze.CANCELLED:return j.CANCELLED;case Ze.UNKNOWN:return j.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return j.INTERNAL;case Ze.UNAVAILABLE:return j.UNAVAILABLE;case Ze.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ze.NOT_FOUND:return j.NOT_FOUND;case Ze.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ze.ABORTED:return j.ABORTED;case Ze.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ze.DATA_LOSS:return j.DATA_LOSS;default:return te(39323,{code:t})}}(ve=Ze||(Ze={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new cs([4294967295,4294967295],0);function o_(t){const e=U1().encode(t),n=new D1;return n.update(e),new Uint8Array(n.digest())}function l_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new cs([n,i],0),new cs([s,r],0)]}class xg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(i<0)throw new To(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=cs.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(cs.fromNumber(i)));return s.compare(dN)===1&&(s=new cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=o_(e),[i,s]=l_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new xg(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=o_(e),[i,s]=l_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Th(ae.min(),s,new qe(he),vi(),ye())}}class Pl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pl(i,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class pb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,i=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class u_{constructor(){this.Fe=0,this.Me=c_(),this.xe=St.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ye(),n=ye(),i=ye();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:te(38017,{changeType:r})}}),new Pl(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=c_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mN{constructor(e){this.ze=e,this.je=new Map,this.He=vi(),this.Je=vu(),this.Ye=vu(),this.Ze=new qe(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const r=s.target;if(Yd(r))if(i===0){const a=new ee(r.path);this.tt(n,a,Nt.newNoDocument(a,ae.min()))}else Ae(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=ys(i).toUint8Array()}catch(u){if(u instanceof q1)return va("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new xg(a,s,r)}catch(u){return va(u instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),s++)}),s}It(e){const n=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&Yd(l.target)){const u=new ee(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Nt.newNoDocument(u,e))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=ye();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(e));const s=new Th(e,n,this.Ze,this.He,i);return this.He=vi(),this.Je=vu(),this.Ye=vu(),this.Ze=new qe(he),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new u_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new rt(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new rt(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function vu(){return new qe(ee.comparator)}function c_(){return new qe(ee.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yN={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $d(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _N(t,e){return jc(t,e.toTimestamp())}function Un(t){return Ae(!!t,49232),ae.fromTimestamp(function(n){const i=ps(n);return new st(i.seconds,i.nanos)}(t))}function Rg(t,e){return Xd(t,e).canonicalString()}function Xd(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _b(t){const e=De.fromString(t);return Ae(wb(e),10190,{key:e.toString()}),e}function Zd(t,e){return Rg(t.databaseId,e.path)}function Of(t,e){const n=_b(e);if(n.get(1)!==t.databaseId.projectId)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Eb(n))}function Tb(t,e){return Rg(t.databaseId,e)}function TN(t){const e=_b(t);return e.length===4?De.emptyPath():Eb(e)}function Wd(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Eb(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function h_(t,e,n){return{name:Zd(t,e),fields:n.value.mapValue.fields}}function EN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:te(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,m){return h.useProto3Json?(Ae(m===void 0||typeof m=="string",58123),St.fromBase64String(m||"")):(Ae(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),St.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const m=h.code===void 0?j.UNKNOWN:gb(h.code);return new K(m,h.message||"")}(a);n=new yb(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Of(t,i.document.name),r=Un(i.document.updateTime),a=i.document.createTime?Un(i.document.createTime):ae.min(),l=new hn({mapValue:{fields:i.document.fields}}),u=Nt.newFoundDocument(s,r,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Hu(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Of(t,i.document),r=i.readTime?Un(i.readTime):ae.min(),a=Nt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Hu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Of(t,i.document),r=i.removedTargetIds||[];n=new Hu([],r,s,null)}else{if(!("filter"in e))return te(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new hN(s,r),l=i.targetId;n=new pb(l,a)}}return n}function bN(t,e){let n;if(e instanceof Vl)n={update:h_(t,e.key,e.value)};else if(e instanceof wg)n={delete:Zd(t,e.key)};else if(e instanceof lr)n={update:h_(t,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof lN))return te(16599,{ft:e.type});n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Vc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw te(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:_N(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:te(27497)}(t,e.precondition)),n}function AN(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Un(s.updateTime):Un(r);return a.isEqual(ae.min())&&(a=Un(r)),new rN(a,s.transformResults||[])}(n,e))):[]}function wN(t,e){return{documents:[Tb(t,e.path)]}}function SN(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Tb(t,s);const r=function(h){if(h.length!==0)return Ab(En.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:kr(g.field),direction:IN(g.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=$d(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function xN(t){let e=TN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ae(i===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let r=[];n.where&&(r=function(p){const g=bb(p);return g instanceof En&&J1(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(N){return new ul(Or(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,fh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,T=p.values||[];return new ba(T,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,T=p.values||[];return new ba(T,g)}(n.endAt)),QC(e,s,a,r,l,"F",u,h)}function RN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Or(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Or(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Or(n.unaryFilter.field);return Je.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Or(n.unaryFilter.field);return Je.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Or(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(i=>bb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function IN(t){return gN[t]}function CN(t){return pN[t]}function NN(t){return yN[t]}function kr(t){return{fieldPath:t.canonicalString()}}function Or(t){return At.fromServerFormat(t.fieldPath)}function Ab(t){return t instanceof Je?function(n){if(n.op==="=="){if(Wv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(n.field),op:CN(n.op),value:n.value}}}(t):t instanceof En?function(n){const i=n.getFilters().map(s=>Ab(s));return i.length===1?i[0]:{compositeFilter:{op:NN(n.op),filters:i}}}(t):te(54877,{filter:t})}function DN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,i,s,r=ae.min(),a=ae.min(),l=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.wt=e}}function ON(t){const e=xN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Cn=new VN}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(gs.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class VN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rt(De.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(Sb,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Aa(0)}static lr(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",PN=1048576;function m_([t,e],[n,i]){const s=he(t,n);return s===0?he(e,i):s}class jN{constructor(e){this.Er=e,this.buffer=new rt(m_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();m_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){X(d_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){La(n)?X(d_,"Ignoring IndexedDB error during garbage collection: ",n):await ja(n)}await this.mr(3e5)})}}class UN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(hh.le);const i=new jN(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,r,a,l,u,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),Nr()<=pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-m}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function zN(t,e){return new UN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Bo(i.mutation,s,vn.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ye()){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=_o();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ye()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=vi();const a=zo(),l=function(){return zo()}();return n.forEach((u,h)=>{const m=i.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof lr)?r=r.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Bo(m.mutation,h,m.mutation.getFieldMask(),st.now())):a.set(h.key,vn.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var p;return l.set(h,new FN(m,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const i=zo();let s=new qe((a,l)=>a-l),r=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let m=i.get(u)||vn.empty();m=l.applyToLocalView(h,m),i.set(u,m);const p=(s.get(l.batchId)||ye()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,m=u.value,p=ob();m.forEach(g=>{if(!r.has(g)){const T=db(n.get(g),i.get(g));T!==null&&p.set(g,T),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):L.resolve(Ps());let l=rl,u=r;return a.next(h=>L.forEach(h,(m,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(m)?L.resolve():this.remoteDocumentCache.getEntry(e,m).next(g=>{u=u.insert(m,g)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,ye())).next(m=>({batchId:l,changes:ab(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(i=>{let s=_o();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=_o();return this.indexManager.getCollectionParents(e,r).next(l=>L.forEach(l,u=>{const h=function(p,g){return new ar(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(m=>{m.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Nt.newInvalidDocument(m)))});let l=_o();return a.forEach((u,h)=>{const m=r.get(u);m!==void 0&&Bo(m.mutation,h,vn.empty(),st.now()),yh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return L.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Un(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:ON(s.bundledQuery),readTime:Un(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.overlays=new qe(ee.comparator),this.Qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ps();return L.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.St(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const s=Ps(),r=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new qe((h,m)=>h-m);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=r.get(h.largestBatchId);m===null&&(m=Ps(),r=r.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const l=Ps(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=s)););return L.resolve(l)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new cN(n,i));let r=this.Qr.get(n);r===void 0&&(r=ye(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.$r=new rt(ht.Ur),this.Kr=new rt(ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new ht(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new ht(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new ee(new De([])),i=new ht(n,e),s=new ht(n,e+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new De([])),i=new ht(n,e),s=new ht(n,e+1);let r=ye();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new ht(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ht{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||he(e.Zr,n.Zr)}static Wr(e,n){return he(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new rt(ht.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new uN(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new ht(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?vg:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rt(he);return n.forEach(s=>{const r=new ht(s,0),a=new ht(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),L.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;ee.isDocumentKey(r)||(r=r.child(""));const a=new ht(new ee(r),0);let l=new rt(he);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Zr)),!0)},a),L.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return L.forEach(n.mutations,s=>{const r=new ht(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new ht(n,0),s=this.Xr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.ii=e,this.docs=function(){return new qe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let i=vi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Nt.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=vi();const a=n.path,l=new ee(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||wC(AC(m),i)<=0||(s.has(m.key)||yh(n,m))&&(r=r.insert(m.key,m.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,i,s){te(9500)}si(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new $N(this)}getSize(e){return L.resolve(this.size)}}class $N extends BN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.persistence=e,this.oi=new or(n=>Tg(n),Eg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Ig,this.targetCount=0,this.ui=Aa.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),L.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Tr(n),L.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.ci={},this.overlays={},this.li=new hh(0),this.hi=!1,this.hi=!0,this.Pi=new QN,this.referenceDelegate=e(this),this.Ti=new XN(this),this.indexManager=new MN,this.remoteDocumentCache=function(s){return new KN(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new kN(n),this.Ei=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new YN(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){X("MemoryPersistence","Starting transaction:",e);const s=new ZN(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,n){return L.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class ZN extends xC{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Vi=new Ig,this.mi=null}static fi(e){return new Cg(e)}get gi(){if(this.mi)return this.mi;throw te(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,i=>{const s=ee.fromPath(i);return this.pi(e,s).next(r=>{r||n.removeEntry(s,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return L.or([()=>L.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Lc{constructor(e,n){this.persistence=e,this.yi=new or(i=>CC(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=zN(this,n)}static fi(e,n){return new Lc(e,n)}di(){}Ai(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return L.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?L.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,ae.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),L.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bu(e.data.value)),n}Dr(e,n,i){return L.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return L.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=ye(),s=ye();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Ng(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GS()?8:RC(Ot())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ws(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new WN;return this.Ss(e,n,a).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>r.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(Nr()<=pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Nr()<=pe.DEBUG&&X("QueryEngine","Query:",Dr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Nr()<=pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):L.resolve())}ws(e,n){if(n_(n))return L.resolve(null);let i=jn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mc(n,null,"F"),i=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=ye(...r);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(e,Mc(n,null,"F")):this.Fs(e,h,n,u)}))})))}bs(e,n,i,s){return n_(n)||s.isEqual(ae.min())?L.resolve(null):this.ys.getDocuments(e,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?L.resolve(null):(Nr()<=pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dr(n)),this.Fs(e,a,n,bC(s,rl)).next(l=>l))})}vs(e,n){let i=new rt(sb(e));return n.forEach((s,r)=>{yh(e,r)&&(i=i.add(r))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,n,i){return Nr()<=pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.ys.getDocumentsMatchingQuery(e,n,gs.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",e4=3e8;class t4{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new qe(he),this.Os=new or(r=>Tg(r),Eg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function n4(t,e,n,i){return new t4(t,e,n,i)}async function Rb(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=ye();for(const h of s){a.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of r){l.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function i4(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,m){const p=h.batch,g=p.keys();let T=L.resolve();return g.forEach(N=>{T=T.next(()=>m.getEntry(u,N)).next(M=>{const k=h.docVersions.get(N);Ae(k!==null,48541),M.version.compareTo(k)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),m.addEntry(M)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ye();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function Ib(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function s4(t,e){const n=oe(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((m,p)=>{const g=s.get(p);if(!g)return;l.push(n.Ti.removeMatchingKeys(r,m.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(r,m.addedDocuments,p)));let T=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(St.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),s=s.insert(p,T),function(M,k,S){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=e4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,T,m)&&l.push(n.Ti.updateTargetData(r,T))});let u=vi(),h=ye();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,m))}),l.push(r4(r,a,e.documentUpdates).next(m=>{u=m.qs,h=m.Qs})),!i.isEqual(ae.min())){const m=n.Ti.getLastRemoteSnapshotVersion(r).next(p=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(m)}return L.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.xs=s,r))}function r4(t,e,n){let i=ye(),s=ye();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=vi();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):X(Dg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:s}})}function a4(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function o4(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(r=>r?(s=r,L.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new Wi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Jd(t,e,n){const i=oe(t),s=i.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!La(a))throw a;X(Dg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function g_(t,e,n){const i=oe(t);let s=ae.min(),r=ye();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,m){const p=oe(u),g=p.Os.get(m);return g!==void 0?L.resolve(p.xs.get(g)):p.Ti.getTargetData(h,m)}(i,a,jn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,n?s:ae.min(),n?r:ye())).next(l=>(l4(i,KC(e),l),{documents:l,$s:r})))}function l4(t,e,n){let i=t.Ns.get(e)||ae.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ns.set(e,i)}class p_{constructor(){this.activeTargetIds=eN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u4{constructor(){this.xo=new p_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new p_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){X(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){X(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u=null;function em(){return _u===null?_u=function(){return 268435456+Math.round(2147483648*Math.random())}():_u++,"0x"+_u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",h4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Dc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,r){const a=em(),l=this.jo(e,n.toUriEncodedString());X(Mf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,r);const{host:h}=new URL(l),m=Oa(h);return this.Jo(e,l,u,i,m).then(p=>(X(Mf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw va(Mf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Yo(e,n,i,s,r,a){return this.zo(e,n,i,s,r)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,n){const i=h4[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class m4 extends f4{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,r){const a=em();return new Promise((l,u)=>{const h=new k1;h.setWithCredentials(!0),h.listenOnce(O1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case zu.NO_ERROR:const p=h.getResponseJson();X(It,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case zu.TIMEOUT:X(It,`RPC '${e}' ${a} timed out`),u(new K(j.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const g=h.getStatus();if(X(It,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const M=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(w)>=0?w:j.UNKNOWN}(N.status);u(new K(M,N.message))}else u(new K(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(j.UNAVAILABLE,"Connection failed."));break;default:te(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{X(It,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);X(It,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,i,15)})}I_(e,n,i){const s=em(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=P1(),l=V1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const m=r.join("");X(It,`Creating RPC '${e}' stream ${s}: ${m}`,u);const p=a.createWebChannel(m,u);this.E_(p);let g=!1,T=!1;const N=new d4({Zo:k=>{T?X(It,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(X(It,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),X(It,`RPC '${e}' stream ${s} sending:`,k),p.send(k))},Xo:()=>p.close()}),M=(k,S,w)=>{k.listen(S,x=>{try{w(x)}catch(D){setTimeout(()=>{throw D},0)}})};return M(p,vo.EventType.OPEN,()=>{T||(X(It,`RPC '${e}' stream ${s} transport opened.`),N.__())}),M(p,vo.EventType.CLOSE,()=>{T||(T=!0,X(It,`RPC '${e}' stream ${s} transport closed`),N.u_(),this.d_(p))}),M(p,vo.EventType.ERROR,k=>{T||(T=!0,va(It,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),N.u_(new K(j.UNAVAILABLE,"The operation could not be completed")))}),M(p,vo.EventType.MESSAGE,k=>{var S;if(!T){const w=k.data[0];Ae(!!w,16349);const x=w,D=(x==null?void 0:x.error)||((S=x[0])===null||S===void 0?void 0:S.error);if(D){X(It,`RPC '${e}' stream ${s} received error:`,D);const q=D.status;let O=function(A){const y=Ze[A];if(y!==void 0)return gb(y)}(q),b=D.message;O===void 0&&(O=j.INTERNAL,b="Unknown error status: "+q+" with message "+D.message),T=!0,N.u_(new K(O,b)),p.close()}else X(It,`RPC '${e}' stream ${s} received:`,w),N.c_(w)}}),M(l,M1.STAT_EVENT,k=>{k.stat===Fd.PROXY?X(It,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Fd.NOPROXY&&X(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new vN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class Nb{constructor(e,n,i,s,r,a,l,u){this.xi=e,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Cb(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{e(()=>{const s=new K(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return X(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(X(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g4 extends Nb{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=EN(this.serializer,e),i=function(r){if(!("targetChange"in r))return ae.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ae.min():a.readTime?Un(a.readTime):ae.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=Wd(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=Yd(u)?{documents:wN(r,u)}:{query:SN(r,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=vb(r,a.resumeToken);const h=$d(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ae.min())>0){l.readTime=jc(r,a.snapshotVersion.toTimestamp());const h=$d(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=RN(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=Wd(this.serializer),n.removeTarget=e,this.Q_(n)}}class p4 extends Nb{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=AN(e.writeResults,e.commitTime),i=Un(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=Wd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>bN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{}class v4 extends y4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(e,Xd(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(j.UNKNOWN,r.toString())})}Yo(e,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Xd(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class _4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(yi(n),this.ua=!1):X("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class T4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{ur(this)&&(X(Js,"Restarting streams for network reachability change."),await async function(u){const h=oe(u);h.da.add(4),await jl(h),h.Va.set("Unknown"),h.da.delete(4),await bh(h)}(this))})}),this.Va=new _4(i,s)}}async function bh(t){if(ur(t))for(const e of t.Aa)await e(!0)}async function jl(t){for(const e of t.Aa)await e(!1)}function Db(t,e){const n=oe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Vg(n)?Mg(n):Ua(n).N_()&&Og(n,e))}function kg(t,e){const n=oe(t),i=Ua(n);n.Ea.delete(e),i.N_()&&kb(n,e),n.Ea.size===0&&(i.N_()?i.k_():ur(n)&&n.Va.set("Unknown"))}function Og(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).Z_(e)}function kb(t,e){t.ma.Ke(e),Ua(t).X_(e)}function Mg(t){t.ma=new mN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.Va.ca()}function Vg(t){return ur(t)&&!Ua(t).O_()&&t.Ea.size>0}function ur(t){return oe(t).da.size===0}function Ob(t){t.ma=void 0}async function E4(t){t.Va.set("Online")}async function b4(t){t.Ea.forEach((e,n)=>{Og(t,e)})}async function A4(t,e){Ob(t),Vg(t)?(t.Va.Pa(e),Mg(t)):t.Va.set("Unknown")}async function w4(t,e,n){if(t.Va.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(i){X(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uc(t,i)}else if(e instanceof Hu?t.ma.Xe(e):e instanceof pb?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ae.min()))try{const i=await Ib(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.Ea.get(h);m&&r.Ea.set(h,m.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const m=r.Ea.get(u);if(!m)return;r.Ea.set(u,m.withResumeToken(St.EMPTY_BYTE_STRING,m.snapshotVersion)),kb(r,u);const p=new Wi(m.target,u,h,m.sequenceNumber);Og(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){X(Js,"Failed to raise snapshot:",i),await Uc(t,i)}}async function Uc(t,e,n){if(!La(e))throw e;t.da.add(1),await jl(t),t.Va.set("Offline"),n||(n=()=>Ib(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Js,"Retrying IndexedDB access"),await n(),t.da.delete(1),await bh(t)})}function Mb(t,e){return e().catch(n=>Uc(t,n,e))}async function Ah(t){const e=oe(t),n=_s(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vg;for(;S4(e);)try{const s=await a4(e.localStore,i);if(s===null){e.Ia.length===0&&n.k_();break}i=s.batchId,x4(e,s)}catch(s){await Uc(e,s)}Vb(e)&&Pb(e)}function S4(t){return ur(t)&&t.Ia.length<10}function x4(t,e){t.Ia.push(e);const n=_s(t);n.N_()&&n.ea&&n.ta(e.mutations)}function Vb(t){return ur(t)&&!_s(t).O_()&&t.Ia.length>0}function Pb(t){_s(t).start()}async function R4(t){_s(t).ia()}async function I4(t){const e=_s(t);for(const n of t.Ia)e.ta(n.mutations)}async function C4(t,e,n){const i=t.Ia.shift(),s=Sg.from(i,e,n);await Mb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ah(t)}async function N4(t,e){e&&_s(t).ea&&await async function(i,s){if(function(a){return fN(a)&&a!==j.ABORTED}(s.code)){const r=i.Ia.shift();_s(i).L_(),await Mb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ah(i)}}(t,e),Vb(t)&&Pb(t)}async function T_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),X(Js,"RemoteStore received new credentials");const i=ur(n);n.da.add(3),await jl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await bh(n)}async function D4(t,e){const n=oe(t);e?(n.da.delete(2),await bh(n)):e||(n.da.add(2),await jl(n),n.Va.set("Unknown"))}function Ua(t){return t.fa||(t.fa=function(n,i,s){const r=oe(n);return r.oa(),new g4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:E4.bind(null,t),n_:b4.bind(null,t),i_:A4.bind(null,t),Y_:w4.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Vg(t)?Mg(t):t.Va.set("Unknown")):(await t.fa.stop(),Ob(t))})),t.fa}function _s(t){return t.ga||(t.ga=function(n,i,s){const r=oe(n);return r.oa(),new p4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:R4.bind(null,t),i_:N4.bind(null,t),na:I4.bind(null,t),ra:C4.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ah(t)):(await t.ga.stop(),t.Ia.length>0&&(X(Js,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new Pg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(t,e){if(yi("AsyncQueue",`${e}: ${t}`),La(t))return new K(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ee.comparator(n.key,i.key):(n,i)=>ee.comparator(n.key,i.key),this.keyedMap=_o(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ra;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.pa=new qe(ee.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):te(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class wa{constructor(e,n,i,s,r,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new wa(e,n,ra.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class O4{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=oe(n),r=s.queries;s.queries=b_(),r.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new K(j.ABORTED,"Firestore shutting down"))}}function b_(){return new or(t=>ib(t),ph)}async function Lg(t,e){const n=oe(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Da()&&e.va()&&(i=2):(r=new k4,i=e.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=jg(a,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&zg(n)}async function Ug(t,e){const n=oe(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.va()?0:1:!r.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function M4(t,e){const n=oe(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Ma(s)&&(i=!0);a.ba=s}}i&&zg(n)}function V4(t,e,n){const i=oe(t),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(e)}function zg(t){t.Ca.forEach(e=>{e.next()})}var tm,A_;(A_=tm||(tm={})).xa="default",A_.Cache="cache";class Bg{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new wa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class Lb{constructor(e){this.key=e}}class P4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.Za=sb(e),this.Xa=new ra(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new E_,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,p)=>{const g=s.get(m),T=yh(this.query,p)?p:null,N=!!g&&this.mutatedKeys.has(g.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;g&&T?g.data.isEqual(T.data)?N!==M&&(i.track({type:3,doc:T}),k=!0):this.ru(g,T)||(i.track({type:2,doc:T}),k=!0,(u&&this.Za(T,u)>0||h&&this.Za(T,h)<0)&&(l=!0)):!g&&T?(i.track({type:0,doc:T}),k=!0):g&&!T&&(i.track({type:1,doc:g}),k=!0,(u||h)&&(l=!0)),k&&(T?(a=a.add(T),r=M?r.add(m):r.delete(m)):(a=a.delete(m),r=r.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),r=r.delete(m.key),i.track({type:1,doc:m})}return{Xa:a,nu:i,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((m,p)=>function(T,N){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Vt:k})}};return M(T)-M(N)}(m.type,p.type)||this.Za(m.doc,p.doc)),this.iu(i),s=s!=null&&s;const l=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new wa(this.query,e.Xa,r,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ye(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Lb(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new jb(i))}),n}au(e){this.Ha=e.$s,this.Ya=ye();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return wa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fg="SyncEngine";class j4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class L4{constructor(e){this.key=e,this.cu=!1}}class U4{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new or(l=>ib(l),ph),this.Pu=new Map,this.Tu=new Set,this.Iu=new qe(ee.comparator),this.Eu=new Map,this.du=new Ig,this.Au={},this.Ru=new Map,this.Vu=Aa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function z4(t,e,n=!0){const i=Hb(t);let s;const r=i.hu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await Ub(i,e,n,!0),s}async function B4(t,e){const n=Hb(t);await Ub(n,e,!0,!1)}async function Ub(t,e,n,i){const s=await o4(t.localStore,jn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await F4(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Db(t.remoteStore,s),l}async function F4(t,e,n,i,s){t.fu=(p,g,T)=>async function(M,k,S,w){let x=k.view.tu(S);x.Cs&&(x=await g_(M.localStore,k.query,!1).then(({documents:b})=>k.view.tu(b,x)));const D=w&&w.targetChanges.get(k.targetId),q=w&&w.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(x,M.isPrimaryClient,D,q);return S_(M,k.targetId,O.ou),O.snapshot}(t,p,g,T);const r=await g_(t.localStore,e,!0),a=new P4(e,r.$s),l=a.tu(r.documents),u=Pl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,u);S_(t,n,h.ou);const m=new j4(e,n,a);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function q4(t,e,n){const i=oe(t),s=i.hu.get(e),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!ph(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Jd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&kg(i.remoteStore,s.targetId),nm(i,s.targetId)}).catch(ja)):(nm(i,s.targetId),await Jd(i.localStore,s.targetId,!0))}async function H4(t,e){const n=oe(t),i=n.hu.get(e),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),kg(n.remoteStore,i.targetId))}async function G4(t,e,n){const i=W4(t);try{const s=await function(a,l){const u=oe(a),h=st.now(),m=l.reduce((T,N)=>T.add(N.key),ye());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let N=vi(),M=ye();return u.Bs.getEntries(T,m).next(k=>{N=k,N.forEach((S,w)=>{w.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,N)).next(k=>{p=k;const S=[];for(const w of l){const x=oN(w,p.get(w.key).overlayedDocument);x!=null&&S.push(new lr(w.key,x,X1(x.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,S,l)}).next(k=>{g=k;const S=k.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(T,k.batchId,S)})}).then(()=>({batchId:g.batchId,changes:ab(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new qe(he)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,s.batchId,n),await Ll(i,s.changes),await Ah(i.remoteStore)}catch(s){const r=jg(s,"Failed to persist write");n.reject(r)}}async function zb(t,e){const n=oe(t);try{const i=await s4(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?Ae(a.cu,14607):s.removedDocuments.size>0&&(Ae(a.cu,42227),a.cu=!1))}),await Ll(n,i,e)}catch(i){await ja(i)}}function w_(t,e,n){const i=oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=oe(a);u.onlineState=l;let h=!1;u.queries.forEach((m,p)=>{for(const g of p.Sa)g.Fa(l)&&(h=!0)}),h&&zg(u)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Q4(t,e,n){const i=oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new qe(ee.comparator);a=a.insert(r,Nt.newNoDocument(r,ae.min()));const l=ye().add(r),u=new Th(ae.min(),new Map,new qe(he),a,l);await zb(i,u),i.Iu=i.Iu.remove(r),i.Eu.delete(e),qg(i)}else await Jd(i.localStore,e,!1).then(()=>nm(i,e,n)).catch(ja)}async function Y4(t,e){const n=oe(t),i=e.batch.batchId;try{const s=await i4(n.localStore,e);Fb(n,i,null),Bb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(n,s)}catch(s){await ja(s)}}async function K4(t,e,n){const i=oe(t);try{const s=await function(a,l){const u=oe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Ae(p!==null,37113),m=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,e);Fb(i,e,n),Bb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ll(i,s)}catch(s){await ja(s)}}function Bb(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Fb(t,e,n){const i=oe(t);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||qb(t,i)})}function qb(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(kg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),qg(t))}function S_(t,e,n){for(const i of n)i instanceof jb?(t.du.addReference(i.key,e),$4(t,i)):i instanceof Lb?(X(Fg,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||qb(t,i.key)):te(19791,{pu:i})}function $4(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(X(Fg,"New document in limbo: "+n),t.Tu.add(i),qg(t))}function qg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ee(De.fromString(e)),i=t.Vu.next();t.Eu.set(i,new L4(n)),t.Iu=t.Iu.insert(n,i),Db(t.remoteStore,new Wi(jn(gh(n.path)),i,"TargetPurposeLimboResolution",hh.le))}}async function Ll(t,e,n){const i=oe(t),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,e,n).then(h=>{var m;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Ng.Rs(u.targetId,h);r.push(p)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(u,h){const m=oe(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(h,g=>L.forEach(g.ds,T=>m.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>L.forEach(g.As,T=>m.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!La(p))throw p;X(Dg,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const T=m.xs.get(g),N=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(N);m.xs=m.xs.insert(g,M)}}}(i.localStore,r))}async function X4(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){X(Fg,"User change. New user:",e.toKey());const i=await Rb(n.localStore,e);n.currentUser=e,function(r,a){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new K(j.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(n,i.ks)}}function Z4(t,e){const n=oe(t),i=n.Eu.get(e);if(i&&i.cu)return ye().add(i.key);{let s=ye();const r=n.Pu.get(e);if(!r)return s;for(const a of r){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function Hb(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,e),e.lu.Y_=M4.bind(null,e.eventManager),e.lu.gu=V4.bind(null,e.eventManager),e}function W4(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K4.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return n4(this.persistence,new JN,e.initialUser,this.serializer)}Su(e){return new xb(Cg.fi,this.serializer)}bu(e){return new u4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class J4 extends zc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ae(this.persistence.referenceDelegate instanceof Lc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LN(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new xb(i=>Lc.fi(i,n),this.serializer)}}class im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>w_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,this.syncEngine),await D4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O4}()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),i=function(r){return new m4(r)}(e.databaseInfo);return function(r,a,l,u){return new v4(r,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new T4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>w_(this.syncEngine,n,0),function(){return v_.C()?new v_:new c4}())}createSyncEngine(e,n){return function(s,r,a,l,u,h,m){const p=new U4(s,r,a,l,u,h);return m&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=oe(s);X(Js,"RemoteStore shutting down."),r.da.add(5),await jl(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}im.provider={build:()=>new im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class eD{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=z1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{X(Ts,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(X(Ts,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=jg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Pf(t,e){t.asyncQueue.verifyOperationInProgress(),X(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Rb(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tD(t);X(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>T_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>T_(e.remoteStore,s)),t._onlineComponents=e}async function tD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Ts,"Using user provided OfflineComponentProvider");try{await Pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Pf(t,new zc)}}else X(Ts,"Using default OfflineComponentProvider"),await Pf(t,new J4(void 0));return t._offlineComponents}async function Gb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Ts,"Using user provided OnlineComponentProvider"),await x_(t,t._uninitializedComponentsProvider._online)):(X(Ts,"Using default OnlineComponentProvider"),await x_(t,new im))),t._onlineComponents}function nD(t){return Gb(t).then(e=>e.syncEngine)}async function Bc(t){const e=await Gb(t),n=e.eventManager;return n.onListen=z4.bind(null,e.syncEngine),n.onUnlisten=q4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H4.bind(null,e.syncEngine),n}function iD(t,e,n={}){const i=new li;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const m=new Hg({next:g=>{m.xu(),a.enqueueAndForget(()=>Ug(r,p));const T=g.docs.has(l);!T&&g.fromCache?h.reject(new K(j.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&g.fromCache&&u&&u.source==="server"?h.reject(new K(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Bg(gh(l.path),m,{includeMetadataChanges:!0,Qa:!0});return Lg(r,p)}(await Bc(t),t.asyncQueue,e,n,i)),i.promise}function sD(t,e,n={}){const i=new li;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const m=new Hg({next:g=>{m.xu(),a.enqueueAndForget(()=>Ug(r,p)),g.fromCache&&u.source==="server"?h.reject(new K(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Bg(l,m,{includeMetadataChanges:!0,Qa:!0});return Lg(r,p)}(await Bc(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t,e,n){if(!n)throw new K(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rD(t,e,n,i){if(e===!0&&i===!0)throw new K(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I_(t){if(!ee.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(ee.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new K(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firestore.googleapis.com",N_=!0;class D_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=N_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PN)throw new K(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dC;switch(i.type){case"firstParty":return new yC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=R_.get(n);i&&(X("ComponentProvider","Removing Datastore"),R_.delete(n),i.terminate())}(this),Promise.resolve()}}function aD(t,e,n,i={}){var s;t=Tn(t,Sh);const r=Oa(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;r&&(QE(`https://${u}`),YE("Firestore",!0)),a.host!==Kb&&a.host!==u&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!$s(h,l)&&(t._setSettings(h),i.mockUserToken)){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=Ct.MOCK_USER;else{m=PS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new K(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ct(g)}t._authCredentials=new mC(new L1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qn(this.firestore,e,this._query)}}class Pt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class hs extends qn{constructor(e,n,i){super(e,n,gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ee(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function Tu(t,e,...n){if(t=jt(t),Yb("collection","path",e),t instanceof Sh){const i=De.fromString(e,...n);return C_(i),new hs(t,null,i)}{if(!(t instanceof Pt||t instanceof hs))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return C_(i),new hs(t.firestore,null,i)}}function Xn(t,e,...n){if(t=jt(t),arguments.length===1&&(e=z1.newId()),Yb("doc","path",e),t instanceof Sh){const i=De.fromString(e,...n);return I_(i),new Pt(t,null,new ee(i))}{if(!(t instanceof Pt||t instanceof hs))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return I_(i),new Pt(t.firestore,t instanceof hs?t.converter:null,new ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Cb(this,"async_queue_retry"),this.rc=()=>{const i=Vf();i&&X(k_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Vf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new li;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!La(e))throw e;X(k_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,yi("INTERNAL UNHANDLED ERROR: ",M_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Pg.createAndSchedule(this,e,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&te(47125,{cc:M_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function M_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class er extends Sh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new O_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function oD(t,e){const n=typeof t=="object"?t:ZE(),i=typeof t=="string"?t:Dc,s=og(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=MS("firestore");r&&aD(s,...r)}return s}function xh(t){if(t._terminated)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lD(t),t._firestoreClient}function lD(t){var e,n,i;const s=t._freezeSettings(),r=function(l,u,h,m){return new kC(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new eD(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(St.fromBase64String(e))}catch(n){throw new K(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sa(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vl(e,this.data,n,this.fieldTransforms)}}function Xb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ic:t})}}class Kg{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Fc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Xb(this.Ic)&&uD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class hD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eh(e)}bc(e,n,i,s=!1){return new Kg({Ic:e,methodName:n,wc:i,path:At.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new hD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fD(t,e,n,i,s,r={}){const a=t.bc(r.merge||r.mergeFields?2:0,e,n,s);e2("Data must be an object, but it was:",a,i);const l=Wb(i,a);let u,h;if(r.merge)u=new vn(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const m=[];for(const p of r.mergeFields){const g=dD(e,p,n);if(!a.contains(g))throw new K(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);gD(m,g)||m.push(g)}u=new vn(m),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new cD(new hn(l),u,h)}function Zb(t,e,n,i=!1){return Xg(n,t.bc(i?4:3,e))}function Xg(t,e){if(Jb(t=jt(t)))return e2("Unsupported field value:",e,t),Wb(t,e);if(t instanceof $b)return function(i,s){if(!Xb(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=Xg(l,s.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=st.fromDate(i);return{timestampValue:jc(s.serializer,r)}}if(i instanceof st){const r=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(s.serializer,r)}}if(i instanceof Qg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sa)return{bytesValue:vb(s.serializer,i._byteString)};if(i instanceof Pt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Rg(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Yg)return function(a,l){return{mapValue:{fields:{[K1]:{stringValue:$1},[kc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Ag(l.serializer,h)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${wh(i)}`)}(t,e)}function Wb(t,e){const n={};return F1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(t,(i,s)=>{const r=Xg(s,e.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Jb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Qg||t instanceof Sa||t instanceof Pt||t instanceof $b||t instanceof Yg)}function e2(t,e,n){if(!Jb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=wh(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function dD(t,e,n){if((e=jt(e))instanceof Gg)return e._internalPath;if(typeof e=="string")return t2(t,e);throw Fc("Field path arguments must be of type string or ",t,!1,void 0,n)}const mD=new RegExp("[~\\*/\\[\\]]");function t2(t,e,n){if(e.search(mD)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gg(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new K(j.INVALID_ARGUMENT,l+t+u)}function gD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pD extends Zg{data(){return super.data()}}function Rh(t,e){return typeof e=="string"?t2(t,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class Ih extends Wg{}function P_(t,e,...n){let i=[];e instanceof Wg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof Jg).length,l=r.filter(u=>u instanceof Ch).length;if(a>1||a>0&&l>0)throw new K(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Ch extends Ih{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ch(e,n,i)}_apply(e){const n=this._parse(e);return i2(e._query,n),new qn(e.firestore,e.converter,Kd(e._query,n))}_parse(e){const n=$g(e.firestore);return function(r,a,l,u,h,m,p){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new K(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){L_(p,m);const N=[];for(const M of p)N.push(j_(u,r,M));g={arrayValue:{values:N}}}else g=j_(u,r,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||L_(p,m),g=Zb(l,a,p,m==="in"||m==="not-in");return Je.create(h,m,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Eu(t,e,n){const i=e,s=Rh("where",t);return Ch._create(s,i,n)}class Jg extends Wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)i2(a,u),a=Kd(a,u)}(e._query,n),new qn(e.firestore,e.converter,Kd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ep extends Ih{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ep(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ul(r,a)}(e._query,this._field,this._direction);return new qn(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new ar(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function jf(t,e="asc"){const n=e,i=Rh("orderBy",t);return ep._create(i,n)}class tp extends Ih{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new tp(e,n,i)}_apply(e){return new qn(e.firestore,e.converter,Mc(e._query,this._limit,this._limitType))}}function yD(t){return tp._create("limit",t,"F")}class np extends Ih{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new np(e,n,i)}_apply(e){const n=_D(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(s,r){return new ar(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,r,s.endAt)}(e._query,n))}}function vD(...t){return np._create("startAfter",t,!1)}function _D(t,e,n,i){if(n[0]=jt(n[0]),n[0]instanceof Zg)return function(r,a,l,u,h){if(!u)throw new K(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const m=[];for(const p of sa(r))if(p.field.isKeyField())m.push(Oc(a,u.key));else{const g=u.data.field(p.field);if(dh(g))throw new K(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const T=p.field.canonicalString();throw new K(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(g)}return new ba(m,h)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=$g(t.firestore);return function(a,l,u,h,m,p){const g=a.explicitOrderBy;if(m.length>g.length)throw new K(j.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let N=0;N<m.length;N++){const M=m[N];if(g[N].field.isKeyField()){if(typeof M!="string")throw new K(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof M}`);if(!bg(a)&&M.indexOf("/")!==-1)throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${M}' contains a slash.`);const k=a.path.child(De.fromString(M));if(!ee.isDocumentKey(k))throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const S=new ee(k);T.push(Oc(l,S))}else{const k=Zb(u,h,M);T.push(k)}}return new ba(T,p)}(t._query,t.firestore._databaseId,s,e,n,i)}}function j_(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new K(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bg(e)&&n.indexOf("/")!==-1)throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(De.fromString(n));if(!ee.isDocumentKey(i))throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oc(t,new ee(i))}if(n instanceof Pt)return Oc(t,n._key);throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function L_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i2(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TD{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return rr(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[kc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>$e(a.doubleValue));return new Yg(r)}convertGeoPoint(e){return new Qg($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const n=ps(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);Ae(wb(i),9688,{name:e});const s=new ol(i.get(1),i.get(3)),r=new ee(i.popFirst(5));return s.isEqual(n)||yi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s2 extends Zg{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Rh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Gu extends s2{data(e={}){return super.data(e)}}class r2{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Eo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Gu(this._firestore,this._userDataWriter,i.key,i,new Eo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:bD(l.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){t=Tn(t,Pt);const e=Tn(t.firestore,er);return iD(xh(e),t._key).then(n=>o2(e,t,n))}class ip extends TD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function U_(t){t=Tn(t,qn);const e=Tn(t.firestore,er),n=xh(e),i=new ip(e);return n2(t._query),sD(n,t._query).then(s=>new r2(e,i,t,s))}function Lf(t,e,n){t=Tn(t,Pt);const i=Tn(t.firestore,er),s=ED(t.converter,e,n);return a2(i,[fD($g(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function AD(t){return a2(Tn(t.firestore,er),[new wg(t._key,Ln.none())])}function wD(t,...e){var n,i,s;t=jt(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||V_(e[a])||(r=e[a],a++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(V_(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let u,h,m;if(t instanceof Pt)h=Tn(t.firestore,er),m=gh(t._key.path),u={next:p=>{e[a]&&e[a](o2(h,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Tn(t,qn);h=Tn(p.firestore,er),m=p._query;const g=new ip(h);u={next:T=>{e[a]&&e[a](new r2(h,g,p,T))},error:e[a+1],complete:e[a+2]},n2(t._query)}return function(g,T,N,M){const k=new Hg(M),S=new Bg(T,k,N);return g.asyncQueue.enqueueAndForget(async()=>Lg(await Bc(g),S)),()=>{k.xu(),g.asyncQueue.enqueueAndForget(async()=>Ug(await Bc(g),S))}}(xh(h),m,l,u)}function a2(t,e){return function(i,s){const r=new li;return i.asyncQueue.enqueueAndForget(async()=>G4(await nD(i),s,r)),r.promise}(xh(t),e)}function o2(t,e,n){const i=n.docs.get(e._key),s=new ip(t);return new s2(t,s,e._key,i,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Pa=s})(Ma),ya(new Xs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new er(new gC(i.getProvider("auth-internal")),new vC(a,i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(h.options.projectId,m)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),us(Uv,zv,e),us(Uv,zv,"esm2017")})();const SD="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",xD="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",RD="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",ID="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",CD="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",ND="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",DD="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",kD="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",OD="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",MD="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",VD="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",PD="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",jD="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",LD="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",UD="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",zD="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",BD="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",FD="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",qt="https://art.pixilart.com/sr2a947c8f967b8.png",qD={dark:{primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",text:"#FFFFFF",textMuted:"#9CA3AF"},light:{primary:"#6353b3",background:"#F3F4F6",card:"#FFFFFF",cardLight:"#E5E7EB",text:"#1F2937",textMuted:"#6B7280"}},ct={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},sp={normal:SD,fire:xD,water:RD,electric:ID,grass:CD,ice:ND,fighting:DD,poison:kD,ground:OD,flying:MD,psychic:VD,bug:PD,rock:jD,ghost:LD,dragon:UD,dark:zD,steel:BD,fairy:FD},bu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},HD=({color:t})=>d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:d.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),GD=({color:t})=>d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:d.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),l2=({className:t="w-6 h-6",isFavorite:e,color:n})=>d.jsxs("svg",{className:t,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:e?"#FBBF24":n},children:[" ",d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),rm=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",d.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),QD=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),u2=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),YD=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",d.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),KD=()=>d.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),rp=()=>d.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),$D=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),d.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),d.jsx("path",{d:"M3 12h6"}),d.jsx("path",{d:"M15 12h6"})]}),XD=()=>d.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),ZD=()=>d.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),WD=()=>d.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),JD=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),ek=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),d.jsx("path",{d:"M9 12l2 2l4 -4"})]}),tk=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),d.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),nk=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),d.jsx("path",{d:"M12 8v4"}),d.jsx("path",{d:"M12 16h.01"})]}),ik=({color:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sun",style:{color:t},children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),d.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),sk=({color:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-moon",style:{color:t},children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})]}),rk=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-swords",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z"}),d.jsx("path",{d:"M5 13l6 6"}),d.jsx("path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365"}),d.jsx("path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5"})]}),ak=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[d.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),d.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),ok=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sparkles",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z"})]}),lk=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-upload",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),d.jsx("path",{d:"M7 9l5 -5l5 5"}),d.jsx("path",{d:"M12 4l0 12"})]}),uk=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-dice shrink-0",children:[d.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),d.jsx("circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor"}),d.jsx("circle",{cx:"15.5",cy:"8.5",r:".5",fill:"currentColor"}),d.jsx("circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor"}),d.jsx("circle",{cx:"8.5",cy:"15.5",r:".5",fill:"currentColor"})]}),qc=({type:t,colors:e})=>d.jsxs("span",{className:"text-xs text-white font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full shadow-sm",style:{backgroundColor:ct[t]||"#777"},children:[" ",t.toUpperCase()," "]}),ck={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Pi="pokemonTeamBuilder",js="https://pokeapi.co/api/v2",z_=(t,e)=>{const[n,i]=B.useState(t);return B.useEffect(()=>{const s=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(s)}},[t,e]),n},c2=Fo.memo(({onCardClick:t,details:e,lastRef:n,isSuggested:i,colors:s})=>{const r=a=>{a.stopPropagation(),t(e)};return e?d.jsxs("div",{ref:n,onClick:r,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${i?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:s.cardLight},children:[i&&d.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),d.jsx("img",{src:e.sprite||qt,onError:a=>{a.currentTarget.src=qt},alt:e.name,className:"mx-auto w-full h-auto max-w-[120px] group-hover:scale-110 transition-transform"}),d.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",style:{color:s.text},children:e.name}),d.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:e.types.map(a=>d.jsx("img",{src:sp[a],alt:a,className:"w-5 h-5"},a))})]}):d.jsxs("div",{ref:n,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:s.cardLight},children:[d.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),d.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),d.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:d.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),hk=({stat:t,value:e,colors:n})=>{const i={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},s=e/255*100;return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",style:{color:n.text},children:t.replace("-"," ")}),d.jsx("div",{className:"w-2/3 rounded-full h-4",style:{backgroundColor:n.cardLight},children:d.jsx("div",{className:`${i[t]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${s}%`},children:e})})]})},fk=({ability:t})=>{const[e,n]=B.useState(""),[i,s]=B.useState(!1),[r,a]=B.useState(!1),l=B.useRef(null),u=B.useCallback(async()=>{if(!(e||r)){a(!0);try{const M=(await(await fetch(t.url)).json()).effect_entries.find(k=>k.language.name==="en");n((M==null?void 0:M.short_effect)||"No description available.")}catch{n("Could not load description.")}finally{a(!1)}}},[t.url,e,r]),h=()=>{u(),s(!0)},m=()=>{s(!1)},p=()=>{u(),l.current=setTimeout(()=>{s(!0)},300)},g=()=>{clearTimeout(l.current),setTimeout(()=>{s(!1)},2e3)};return d.jsxs("span",{className:"relative capitalize text-white inline-block bg-gray-700 px-3 py-1 rounded-full text-sm cursor-pointer",onMouseEnter:h,onMouseLeave:m,onTouchStart:p,onTouchEnd:g,children:[t.name.replace("-"," "),i&&d.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-gray-700 text-white text-xs rounded-md shadow-lg z-20",children:r?"Loading...":e})]})},dk=({pokemon:t,onClose:e,onAdd:n,currentTeam:i,colors:s,showPokemonDetails:r,db:a})=>{var N,M;const[l,u]=B.useState(!1),[h,m]=B.useState([]);B.useEffect(()=>{if(!t||!t.evolution_chain_url||!a)return;(async()=>{try{const w=await(await fetch(t.evolution_chain_url)).json(),x=[];let D=w.chain;do x.push({name:D.species.name,url:D.species.url}),D=D.evolves_to[0];while(D&&D.hasOwnProperty("evolves_to"));const q=x.map(async b=>{const v=b.url.split("/").filter(Boolean).pop(),A=Xn(a,"artifacts/pokemonTeamBuilder/pokemons",v),y=await sm(A);return y.exists()?y.data():{name:b.name,sprite:qt}}),O=await Promise.all(q);m(O)}catch(S){console.error("Failed to fetch evolution chain",S)}})()},[t,a]);const p=k=>{e(),r(k)};if(!t)return null;const g=i.some(k=>k.id===t.id),T=l?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 h-[100vh] flex items-center justify-center z-50 p-4 ",onClick:e,children:d.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",style:{backgroundColor:s.card},onClick:k=>k.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:d.jsx(rp,{})}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:T||qt,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),d.jsx("button",{onClick:()=>u(!l),className:`absolute bottom-0 right-0 p-1 rounded-full ${l?"bg-yellow-500":"bg-gray-700"}`,style:{color:"white"},title:"Toggle Shiny",children:d.jsx(ok,{})})]}),d.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:s.text},children:[t.name," ",d.jsxs("span",{style:{color:s.textMuted},children:["#",t.id]})]}),d.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(k=>d.jsx(qc,{type:k,colors:s},k))})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Base Stats"}),d.jsx("div",{className:"space-y-2",children:(N=t.stats)==null?void 0:N.map(k=>d.jsx(hk,{stat:k.name,value:k.base_stat,colors:s},k.name))})]}),h.length>1&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Evolution Line"}),d.jsx("div",{className:"flex justify-center items-center gap-2",children:h.map((k,S)=>d.jsxs(Fo.Fragment,{children:[d.jsxs("div",{onClick:()=>p(k),className:"text-center cursor-pointer p-2 rounded-lg hover:bg-purple-500/30",children:[d.jsx("img",{src:k.sprite||qt,alt:k.name,className:"h-20 w-20 mx-auto"}),d.jsx("p",{className:"text-sm capitalize",style:{color:s.text},children:k.name})]}),S<h.length-1&&d.jsx("span",{className:"text-2xl",style:{color:s.textMuted},children:""})]},k.name))})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(M=t.abilities)==null?void 0:M.map((k,S)=>d.jsx(fk,{ability:k},S))})]}),d.jsx("div",{className:"mt-8 flex justify-center",children:!g&&n&&d.jsxs("button",{onClick:()=>{n(t),e()},className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[d.jsx(YD,{})," Add to Team"]})})]})})},mk=({pokemon:t,onClose:e,onSave:n,colors:i,items:s,natures:r,moveDetailsCache:a,setMoveDetailsCache:l})=>{const[u,h]=B.useState(t.customization),[m,p]=B.useState(510),[g,T]=B.useState(""),N=["hp","attack","defense","special-attack","special-defense","speed"],M=B.useCallback(async(O,b)=>{if(a[b])return a[b];try{const A=await(await fetch(O)).json(),y={name:A.name,type:A.type.name,power:A.power,accuracy:A.accuracy,pp:A.pp,damage_class:A.damage_class.name};return l(R=>({...R,[b]:y})),y}catch(v){return console.error(`Failed to fetch details for move: ${b}`,v),null}},[a,l]);B.useEffect(()=>{const O=Object.values(u.evs).reduce((b,v)=>b+v,0);p(510-O)},[u.evs]);const k=(O,b)=>{const v=Number(b),y={...u.evs}[O],R=v-y;v>252||m-R<0||h(I=>({...I,evs:{...I.evs,[O]:v}}))},S=(O,b)=>{h(v=>({...v,[O]:b}))},w=O=>{h(b=>{const v=b.moves,A=v.includes(O)?v.filter(y=>y!==O):[...v,O];return A.length>4?b:{...b,moves:A}})},x=()=>{n(t.instanceId,u),e()},D=(O,b,v)=>v==="hp"?Math.floor(O*2+31+Math.floor(b/4))+110:Math.floor(Math.floor(O*2+31+Math.floor(b/4))+5),q=B.useMemo(()=>g?t.moves.filter(O=>O.name.toLowerCase().includes(g.toLowerCase())):t.moves,[g,t.moves]);return B.useEffect(()=>{q.slice(0,20).forEach(O=>{a[O.name]||M(O.url,O.name)})},[q,a,M]),t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:d.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:i.card,"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},onClick:O=>O.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:d.jsx(rp,{})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("img",{src:u.isShiny?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),d.jsx("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:i.text},children:t.name}),d.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(O=>d.jsx(qc,{type:O,colors:i},O))}),d.jsxs("div",{className:"w-full mt-4 grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Item"}),d.jsxs("select",{value:u.item,onChange:O=>S("item",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:[d.jsx("option",{value:"",children:"None"}),s.map(O=>d.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Nature"}),d.jsx("select",{value:u.nature,onChange:O=>S("nature",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:r.map(O=>d.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Tera Type"}),d.jsx("select",{value:u.teraType,onChange:O=>S("teraType",O.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:Object.keys(ct).map(O=>d.jsx("option",{value:O,className:"capitalize",children:O},O))})]}),d.jsx("div",{className:"flex items-center justify-start pt-5",children:d.jsxs("label",{htmlFor:"shiny-toggle",className:"flex items-center cursor-pointer",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"checkbox",id:"shiny-toggle",className:"sr-only",checked:u.isShiny,onChange:O=>S("isShiny",O.target.checked)}),d.jsx("div",{className:"block w-10 h-6 bg-gray-600 rounded-full"}),d.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"})]}),d.jsx("div",{className:"ml-3 text-sm font-bold",style:{color:i.text},children:"Shiny"})]})})]}),d.jsxs("div",{className:"w-full mt-4",children:[d.jsx("label",{className:"block text-lg font-bold mb-2",style:{color:i.text},children:"Ability"}),d.jsx("select",{value:u.ability,onChange:O=>S("ability",O.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:t.abilities.map(O=>d.jsx("option",{value:O.name,className:"capitalize",children:O.name.replace(/-/g," ")},O.name))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold",style:{color:i.text},children:"Stats & EVs"}),d.jsxs("p",{className:"text-sm mb-2",style:{color:i.textMuted},children:["Remaining EVs: ",d.jsx("span",{className:"font-bold text-lg",style:{color:i.primary},children:m})]}),d.jsx("div",{className:"space-y-3",children:N.map((O,b)=>{const v=t.stats[b].base_stat,A=u.evs[O],y=D(v,A,O);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center capitalize text-sm",children:[d.jsx("span",{style:{color:i.text},children:O.replace(/-/g," ")}),d.jsxs("span",{style:{color:i.textMuted},children:[A," / ",y]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"range",min:"0",max:"252",value:A,step:"4",onChange:R=>k(O,R.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{backgroundColor:i.cardLight}})})]},O)})}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Move Selection"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 min-h-[80px] mb-4 p-2 rounded-lg",style:{backgroundColor:i.background},children:[u.moves.map(O=>{var v;const b=(v=a[O])==null?void 0:v.type;return d.jsx("div",{className:"p-2 rounded-lg text-center text-sm capitalize text-white",style:{backgroundColor:b?ct[b]:i.cardLight},children:O.replace(/-/g," ")},O)}),Array.from({length:4-u.moves.length}).map((O,b)=>d.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i.cardLight,opacity:.5},children:d.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:i.background}})},b))]}),d.jsx("input",{type:"text",placeholder:"Search moves...",value:g,onChange:O=>T(O.target.value),className:"w-full p-2 rounded-lg mb-2",style:{backgroundColor:i.cardLight,color:i.text}}),d.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",style:{"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},children:q.map(O=>{var y;const b=(y=a[O.name])==null?void 0:y.type,v=u.moves.includes(O.name),A=v?{backgroundColor:b?ct[b]:i.primary,color:"white"}:{backgroundColor:i.cardLight,color:i.text};return d.jsx("button",{onClick:()=>w(O.name),className:`p-2 rounded-lg text-sm capitalize transition-colors ${!v&&"hover:opacity-80"}`,style:A,children:O.name.replace(/-/g," ")},O.name)})})]})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsxs("button",{onClick:x,className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[d.jsx(u2,{})," Confirm Changes"]})})]})}):null},gk=({currentTeam:t,teamName:e,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:s,editingTeamId:r,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:m,handleShareTeam:p,handleDeleteTeam:g,handleExportToShowdown:T,teamAnalysis:N,searchInput:M,setSearchInput:k,selectedGeneration:S,setSelectedGeneration:w,generations:x,isInitialLoading:D,availablePokemons:q,handleAddPokemonToTeam:O,lastPokemonElementRef:b,isFetchingMore:v,selectedTypes:A,handleTypeSelection:y,showDetails:R,suggestedPokemonIds:I,colors:E,onEditTeamPokemon:we})=>d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[d.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:E.card},children:[d.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:E.primary,color:E.text},children:"Current Team"}),d.jsx("input",{type:"text",value:e,onChange:z=>n(z.target.value),placeholder:"Team Name",className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:E.cardLight,borderColor:"transparent",color:E.text}}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:E.background},children:[t.map(z=>d.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:()=>we(z),children:[d.jsx("img",{src:z.animatedSprite||z.sprite||qt,onError:P=>{P.currentTarget.src=z.sprite||qt},alt:z.name,className:"mx-auto h-20 w-20"}),d.jsx("p",{className:"text-xs capitalize truncate",style:{color:E.text},children:z.name}),d.jsx("button",{onClick:P=>{P.stopPropagation(),we(z)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-6 w-6 flex items-center justify-center transition-opacity text-sm opacity-100 visible lg:opacity-0 lg:invisible lg:group-hover:opacity-100 lg:group-hover:visible",children:d.jsx(ak,{})}),d.jsx("button",{onClick:P=>{P.stopPropagation(),i(z.instanceId)},className:`
                                absolute top-1 right-1 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-sm
                                opacity-100 visible
                                lg:opacity-0 lg:invisible
                                lg:group-hover:opacity-100 lg:group-hover:visible
                                transition-opacity duration-200 
                            `,children:d.jsx(rm,{})})]},z.instanceId)),Array.from({length:6-t.length}).map((z,P)=>d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("img",{src:qt,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},P))]}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg hover:opacity-90",style:{backgroundColor:E.primary,color:E.background},children:[" ",d.jsx(u2,{})," ",r?"Update":"Save"," "]}),d.jsx("button",{onClick:T,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:E.cardLight,color:E.text},title:"Export to Showdown",children:d.jsx(lk,{})}),d.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:E.cardLight,color:E.text},title:"Share Team",children:d.jsx(JD,{})}),d.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:E.cardLight,color:E.text},title:"Clear Team",children:d.jsx(QD,{})})]})]}),d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:E.card},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'",color:E.text},children:"Recent Teams"}),d.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm hover:underline",style:{color:E.primary},children:"View All"})]}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",style:{"--scrollbar-track-color":E.card,"--scrollbar-thumb-color":E.primary,"--scrollbar-thumb-border-color":E.card},children:l.length>0?l.map(z=>d.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:E.cardLight},children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-bold text-lg truncate",style:{color:E.text},children:z.name}),d.jsx("div",{className:"flex mt-1",children:z.pokemons.map(P=>d.jsx("img",{src:P.sprite||qt,onError:W=>{W.currentTarget.src=qt},alt:P.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:E.cardLight,backgroundColor:E.card}},P.id))})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[d.jsx("button",{onClick:()=>h(z),title:"Favorite",children:d.jsx(l2,{isFavorite:z.isFavorite,color:E.textMuted})}),d.jsx("button",{onClick:()=>m(z),className:"text-xs font-bold py-1 px-3 rounded-full",style:{backgroundColor:E.primary,color:E.background},children:"Edit"}),d.jsx("button",{onClick:()=>g(z.id),className:"bg-red-600 p-1 hover:bg-red-700 text-white rounded-lg",children:d.jsx(rm,{})})]})]},z.id)):d.jsx("p",{className:"text-center py-4",style:{color:E.textMuted},children:"No recent teams yet."})})]})]}),d.jsx("div",{className:"lg:col-span-6",children:d.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:E.card},children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:E.text},children:"Choose your Pokmon!"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:M,onChange:z=>k(z.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:E.cardLight,borderColor:"transparent",color:E.text}}),d.jsxs("select",{value:S,onChange:z=>w(z.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:E.cardLight,borderColor:"transparent",color:E.text},children:[d.jsx("option",{value:"all",style:{color:E.text},children:"All Generations"}),x.map(z=>d.jsx("option",{value:z,className:"capitalize",style:{color:E.text},children:z.replace("-"," ")},z))]})]})]}),d.jsx("div",{className:"relative flex-grow h-[60vh]",children:D?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:E.primary}})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":E.card,"--scrollbar-thumb-color":E.primary,"--scrollbar-thumb-border-color":E.card},children:[d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:q.map((z,P)=>d.jsx(c2,{details:z,onCardClick:O,lastRef:P===q.length-1?b:null,isSuggested:I.has(z.id),colors:E},z.id))}),v&&d.jsx("div",{className:"flex justify-center py-4",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:E.primary}})}),q.length===0&&!D&&d.jsx("p",{className:"text-center py-8",style:{color:E.textMuted},children:"No Pokmon found with these filters. :("})]})})})]})}),d.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:E.card},children:[d.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:E.text},children:"Filter by Type"}),d.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ct).map(z=>d.jsx("button",{onClick:()=>y(z),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${A.has(z)?"ring-2 ring-purple":""}`,style:{backgroundColor:E.cardLight},title:z,children:d.jsx("img",{src:sp[z],alt:z,className:"w-full h-full object-contain"})},z))})]}),t.length>0&&d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:E.card},children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",style:{color:E.text},children:"Team Analysis"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:N.strengths.size>0?Array.from(N.strengths).sort().map(z=>d.jsx(qc,{type:z,colors:E},z)):d.jsx("p",{className:"text-sm",style:{color:E.textMuted},children:"No type advantages found."})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(N.weaknesses).length>0?Object.entries(N.weaknesses).sort(([,z],[,P])=>P-z).map(([z,P])=>d.jsxs("div",{className:"flex items-center",children:[d.jsx(qc,{type:z,colors:E}),d.jsxs("span",{className:"text-xs text-red-300",children:["(",P,"x)"]})]},z)):d.jsx("p",{className:"text-sm",style:{color:E.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),pk=({teams:t,onEdit:e,onDelete:n,onToggleFavorite:i,searchTerm:s,setSearchTerm:r,colors:a})=>d.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:a.card},children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",style:{color:a.text},children:"All Saved Teams"}),d.jsx("input",{type:"text",placeholder:"Search teams by name...",value:s,onChange:l=>r(l.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:a.cardLight,borderColor:"transparent",color:a.text}}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length>0?t.map(l=>d.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:a.cardLight},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"font-bold text-xl truncate mb-2",style:{color:a.text},children:l.name}),d.jsx("button",{onClick:()=>i(l),title:"Favorite",children:d.jsx(l2,{isFavorite:l.isFavorite,color:a.textMuted})})]}),d.jsx("div",{className:"flex my-2",children:l.pokemons.map(u=>d.jsx("img",{src:u.sprite||qt,onError:h=>{h.currentTarget.src=qt},alt:u.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:a.cardLight,backgroundColor:a.card}},u.id))}),d.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[d.jsx("button",{onClick:()=>e(l),className:"w-full bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),d.jsx("button",{onClick:()=>n(l.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:d.jsx(rm,{})})]})]},l.id)):d.jsx("p",{className:"col-span-full text-center py-8",style:{color:a.textMuted},children:"No teams found."})})]}),yk=({pokemons:t,lastPokemonElementRef:e,isFetchingMore:n,searchInput:i,setSearchInput:s,selectedTypes:r,handleTypeSelection:a,selectedGeneration:l,setSelectedGeneration:u,generations:h,isInitialLoading:m,colors:p,showDetails:g})=>d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[d.jsx("div",{className:"lg:col-span-9",children:d.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:p.card},children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:p.text},children:"Pokdex"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:i,onChange:T=>s(T.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:p.cardLight,borderColor:"transparent",color:p.text}}),d.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:p.cardLight,borderColor:"transparent",color:p.text},children:[d.jsx("option",{value:"all",style:{color:p.text},children:"All Generations"}),h.map(T=>d.jsx("option",{value:T,className:"capitalize",style:{color:p.text},children:T.replace("-"," ")},T))]})]})]}),d.jsx("div",{className:"relative flex-grow h-[75vh]",children:m?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:p.primary}})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":p.card,"--scrollbar-thumb-color":p.primary,"--scrollbar-thumb-border-color":p.card},children:[d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-2",children:t.map((T,N)=>d.jsx(c2,{details:T,onCardClick:g,lastRef:N===t.length-1?e:null,colors:p},T.id))}),n&&d.jsx("div",{className:"flex justify-center py-4",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:p.primary}})}),t.length===0&&!m&&d.jsx("p",{className:"text-center py-8",style:{color:p.textMuted},children:"No Pokmon found."})]})})})]})}),d.jsx("div",{className:"lg:col-span-3 space-y-8",children:d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:p.card},children:[d.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:p.text},children:"Filter by Type"}),d.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ct).map(T=>d.jsx("button",{onClick:()=>a(T),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${r.has(T)?"ring-2 ring-purple":""}`,style:{backgroundColor:p.cardLight},title:T,children:d.jsx("img",{src:sp[T],alt:T,className:"w-full h-full object-contain"})},T))})]})})]}),fo={all:{start:1,end:1025},"generation-i":{start:1,end:151},"generation-ii":{start:152,end:251},"generation-iii":{start:252,end:386},"generation-iv":{start:387,end:493},"generation-v":{start:494,end:649},"generation-vi":{start:650,end:721},"generation-vii":{start:722,end:809},"generation-viii":{start:810,end:905},"generation-ix":{start:906,end:1025}},B_=new Set([144,145,146,150,151,243,244,245,249,250,251,377,378,379,380,381,382,383,384,385,386,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,638,639,640,641,642,643,644,645,646,647,648,649,716,717,718,719,720,721,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,888,889,890,891,892,893,894,895,896,897,898,905,1001,1002,1003,1004,1007,1008,1009,1010,1014,1015,1016,1017,1024,1025]),F_=[{name:"Hardy",plus:null,minus:null},{name:"Lonely",plus:"Attack",minus:"Defense"},{name:"Brave",plus:"Attack",minus:"Speed"},{name:"Adamant",plus:"Attack",minus:"Sp. Atk"},{name:"Naughty",plus:"Attack",minus:"Sp. Def"},{name:"Bold",plus:"Defense",minus:"Attack"},{name:"Docile",plus:null,minus:null},{name:"Relaxed",plus:"Defense",minus:"Speed"},{name:"Impish",plus:"Defense",minus:"Sp. Atk"},{name:"Lax",plus:"Defense",minus:"Sp. Def"},{name:"Timid",plus:"Speed",minus:"Attack"},{name:"Hasty",plus:"Speed",minus:"Defense"},{name:"Serious",plus:null,minus:null},{name:"Jolly",plus:"Speed",minus:"Sp. Atk"},{name:"Naive",plus:"Speed",minus:"Sp. Def"},{name:"Modest",plus:"Sp. Atk",minus:"Attack"},{name:"Mild",plus:"Sp. Atk",minus:"Defense"},{name:"Quiet",plus:"Sp. Atk",minus:"Speed"},{name:"Bashful",plus:null,minus:null},{name:"Rash",plus:"Sp. Atk",minus:"Sp. Def"},{name:"Calm",plus:"Sp. Def",minus:"Attack"},{name:"Gentle",plus:"Sp. Def",minus:"Defense"},{name:"Sassy",plus:"Sp. Def",minus:"Speed"},{name:"Careful",plus:"Sp. Def",minus:"Sp. Atk"},{name:"Quirky",plus:null,minus:null}],vk=({colors:t,generations:e})=>{const[n,i]=B.useState([]),[s,r]=B.useState(!1),[a,l]=B.useState(3),[u,h]=B.useState("all"),[m,p]=B.useState("all"),[g,T]=B.useState("all"),[N,M]=B.useState("all"),[k,S]=B.useState("all"),[w,x]=B.useState({}),D=y=>{for(const[R,I]of Object.entries(fo))if(R!=="all"&&y>=I.start&&y<=I.end)return R.replace("generation-","Gen ").toUpperCase();return"Unknown"},q=B.useCallback(async y=>{try{if(w[y])return w[y];const I=await(await fetch(y)).json(),E=[],we=(z,P=1)=>{var ce;const W=z.species.url.split("/").filter(Boolean).pop();let $="Unknown";const ie=parseInt(W);for(const[ot,J]of Object.entries(fo))if(ot!=="all"&&ie>=J.start&&ie<=J.end){$=ot.replace("generation-","Gen ").toUpperCase();break}E.push({name:z.species.name,id:W,stage:P,genIntroduced:$,evolutionDetails:((ce=z.evolution_details)==null?void 0:ce[0])||null}),z.evolves_to&&z.evolves_to.length>0&&z.evolves_to.forEach(ot=>we(ot,P+1))};return we(I.chain),x(z=>({...z,[y]:E})),E}catch(R){return console.error("Error fetching evolution chain:",R),[]}},[w]),O=B.useCallback(async(y,R)=>{try{const E=await(await fetch(R)).json();return(await Promise.all(E.varieties.filter(z=>!z.is_default).slice(0,5).map(async z=>{var P,W;try{const ie=await(await fetch(z.pokemon.url)).json();return{name:z.pokemon.name,sprite:ie.sprites.front_default||((W=(P=ie.sprites.other)==null?void 0:P["official-artwork"])==null?void 0:W.front_default)}}catch{return null}}))).filter(Boolean)}catch(I){return console.error("Error fetching forms:",I),[]}},[]),b=B.useCallback(async y=>{var R,I,E,we,z;try{const[P,W]=await Promise.all([fetch(`${js}/pokemon/${y}`),fetch(`${js}/pokemon-species/${y}`)]),$=await P.json(),ie=await W.json(),ce=await q(ie.evolution_chain.url),ot=await O(y,`${js}/pokemon-species/${y}`),J=ce.find(pt=>parseInt(pt.id)===y),Z=(J==null?void 0:J.stage)||1,Pe=!ce.some(pt=>pt.stage>Z),Be=F_[Math.floor(Math.random()*F_.length)],An=ie.gender_rate;let tt="Genderless";return An===-1?tt="Genderless":An===0?tt="Male":An===8?tt="Female":tt=Math.random()<An/8?"Female":"Male",{id:$.id,name:$.name,types:$.types.map(pt=>pt.type.name),sprite:((I=(R=$.sprites.other)==null?void 0:R["official-artwork"])==null?void 0:I.front_default)||$.sprites.front_default,shinySprite:((we=(E=$.sprites.other)==null?void 0:E["official-artwork"])==null?void 0:we.front_shiny)||$.sprites.front_shiny,height:$.height/10,weight:$.weight/10,generation:D($.id),stats:$.stats.map(pt=>({name:pt.stat.name,base_stat:pt.base_stat})),abilities:$.abilities.map(pt=>pt.ability.name),evolutions:ce,evolutionStage:Z,isFullyEvolved:Pe,forms:ot,isLegendary:ie.is_legendary||ie.is_mythical,nature:Be,gender:tt,baseHappiness:ie.base_happiness,captureRate:ie.capture_rate,growthRate:((z=ie.growth_rate)==null?void 0:z.name)||"Unknown"}}catch(P){return console.error(`Error fetching Pokemon ${y}:`,P),null}},[q,O]),v=B.useCallback(async()=>{r(!0),i([]);try{let y=[];const R=fo[u]||fo.all;for(let P=R.start;P<=R.end;P++)y.push(P);g==="legendary"?y=y.filter(P=>B_.has(P)):g==="non-legendary"&&(y=y.filter(P=>!B_.has(P)));const I=y.sort(()=>Math.random()-.5),we=I.slice(0,Math.min(a,y.length)).map(P=>b(P));let z=await Promise.all(we);if(z=z.filter(Boolean),m!=="all"&&(z=z.filter(P=>P.types.includes(m)),z.length<a)){const P=a-z.length,W=I.slice(a,a+P*3),ie=(await Promise.all(W.map(ce=>b(ce)))).filter(ce=>ce&&ce.types.includes(m));z=[...z,...ie].slice(0,a)}N==="fully-evolved"?z=z.filter(P=>P.isFullyEvolved):N==="not-fully-evolved"&&(z=z.filter(P=>!P.isFullyEvolved)),i(z)}catch(y){console.error("Error generating Pokemon:",y)}finally{r(!1)}},[a,u,m,g,N,b]);B.useEffect(()=>{v()},[]);const A=({pokemon:y})=>{var ce,ot;const[R,I]=B.useState({}),[E,we]=B.useState(!0);B.useEffect(()=>{(async()=>{if(!y.evolutions||y.evolutions.length===0){we(!1);return}we(!0);const Z={};try{await Promise.all(y.evolutions.map(async Pe=>{try{const An=await(await fetch(`${js}/pokemon/${Pe.id}`)).json();Z[Pe.id]=An.sprites.front_default}catch{Z[Pe.id]=null}}))}catch(Pe){console.error("Error fetching evo sprites:",Pe)}I(Z),we(!1)})()},[y.evolutions]);const z=y.types[0],P=((ce=y.evolutions)==null?void 0:ce.findIndex(J=>parseInt(J.id)===y.id))??-1,W=P>0?y.evolutions.slice(0,P):[],$=P>=0&&P<((ot=y.evolutions)==null?void 0:ot.length)-1?y.evolutions.slice(P+1):[],ie=({evo:J,isCurrent:Z=!1})=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`rounded-xl p-1 ${Z?"":"opacity-70"}`,style:{backgroundColor:Z?ct[z]+"20":"transparent",border:Z?`3px solid ${ct[z]}`:"2px solid transparent"},children:E?d.jsx("div",{className:`${Z?"w-24 h-24":"w-16 h-16"} rounded-full animate-pulse`,style:{backgroundColor:t.cardLight}}):(Z?y.sprite:R[J.id])?d.jsx("img",{src:Z?y.sprite:R[J.id],alt:J.name,className:`${Z?"w-24 h-24":"w-16 h-16"} object-contain`}):d.jsx("div",{className:`${Z?"w-24 h-24":"w-16 h-16"} rounded-full flex items-center justify-center text-lg`,style:{backgroundColor:t.cardLight},children:"?"})}),d.jsx("p",{className:`capitalize font-semibold mt-1 text-center truncate ${Z?"text-sm max-w-[96px]":"text-[11px] max-w-[64px]"}`,style:{color:Z?ct[z]:t.textMuted},children:J.name.replace(/-/g," ")}),!Z&&d.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded-full font-medium mt-0.5",style:{backgroundColor:t.cardLight,color:t.textMuted},children:J.genIntroduced})]});return d.jsxs("div",{className:"group rounded-2xl overflow-hidden",style:{backgroundColor:t.card,border:`3px solid ${ct[z]}`},children:[d.jsxs("div",{className:"relative p-4",style:{backgroundColor:ct[z]+"10"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded",style:{backgroundColor:t.card,color:t.textMuted},children:["#",String(y.id).padStart(3,"0")]}),d.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded",style:{backgroundColor:ct[z]+"30",color:ct[z]},children:y.generation})]}),d.jsx("div",{className:"flex gap-1.5",children:y.types.map(J=>d.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold text-white uppercase",style:{backgroundColor:ct[J]},children:J},J))})]}),d.jsx("h3",{className:"text-lg font-bold capitalize text-center mb-3",style:{color:t.text},children:y.name.replace(/-/g," ")}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[W.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center gap-1",children:W.map((J,Z)=>d.jsxs(Fo.Fragment,{children:[d.jsx(ie,{evo:J,isCurrent:!1}),Z<W.length-1&&d.jsx("span",{className:"text-sm",style:{color:t.textMuted},children:""})]},J.id))}),d.jsx("span",{className:"text-lg mx-1",style:{color:t.textMuted},children:""})]}),y.evolutions&&y.evolutions.length>0?d.jsx(ie,{evo:y.evolutions.find(J=>parseInt(J.id)===y.id)||{id:y.id,name:y.name},isCurrent:!0}):d.jsx("div",{className:"rounded-xl p-1",style:{backgroundColor:ct[z]+"20",border:`3px solid ${ct[z]}`},children:d.jsx("img",{src:y.sprite||qt,alt:y.name,className:"w-24 h-24 object-contain",onError:J=>{J.currentTarget.src=qt}})}),$.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-lg mx-1",style:{color:t.textMuted},children:""}),d.jsx("div",{className:"flex items-center gap-1",children:$.map((J,Z)=>d.jsxs(Fo.Fragment,{children:[d.jsx(ie,{evo:J,isCurrent:!1}),Z<$.length-1&&d.jsx("span",{className:"text-sm",style:{color:t.textMuted},children:""})]},J.id))})]})]})]}),d.jsxs("div",{className:"px-4 pb-4 pt-3 space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[d.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Height"}),d.jsxs("p",{className:"text-base font-bold",style:{color:t.text},children:[y.height,d.jsx("span",{className:"text-xs font-normal opacity-60",children:"m"})]})]}),d.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[d.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Weight"}),d.jsxs("p",{className:"text-base font-bold",style:{color:t.text},children:[y.weight,d.jsx("span",{className:"text-xs font-normal opacity-60",children:"kg"})]})]})]}),y.forms&&y.forms.length>0&&(k==="all"||k==="with-forms")&&d.jsxs("div",{className:"p-3 rounded-xl",style:{backgroundColor:t.cardLight},children:[d.jsxs("p",{className:"text-[9px] uppercase tracking-wider text-center mb-2 font-medium",style:{color:t.textMuted},children:["Forms (",y.forms.length,")"]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:y.forms.slice(0,4).map(J=>d.jsxs("div",{className:"text-center",children:[J.sprite&&d.jsx("img",{src:J.sprite,alt:J.name,className:"w-10 h-10 mx-auto"}),d.jsx("p",{className:"text-[9px] capitalize mt-0.5 max-w-[50px] truncate",style:{color:t.text},children:J.name.replace(y.name+"-","").replace(/-/g," ")})]},J.name))})]}),d.jsxs("div",{className:"p-3 rounded-xl",style:{backgroundColor:t.cardLight},children:[d.jsx("p",{className:"text-[9px] uppercase tracking-wider text-center mb-2 font-medium",style:{color:t.textMuted},children:"Abilities"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-1.5",children:y.abilities.map((J,Z)=>d.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full capitalize font-medium",style:{backgroundColor:Z===0?ct[z]:t.card,color:Z===0?"white":t.text},children:J.replace(/-/g," ")},J))})]})]})]})};return d.jsxs("main",{className:"space-y-6",children:[d.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:t.card},children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:t.text},children:"Random Pokmon Generator"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm whitespace-nowrap",style:{color:t.text},children:"Generate"}),d.jsx("select",{value:a,onChange:y=>l(parseInt(y.target.value)),className:"w-16 p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[1,2,3,4,5,6,7,8,9,10,12].map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx("span",{className:"text-sm",style:{color:t.text},children:"Pokmon"})]}),d.jsxs("select",{value:u,onChange:y=>h(y.target.value),className:"p-2 rounded-lg capitalize",style:{backgroundColor:t.cardLight,color:t.text},children:[d.jsx("option",{value:"all",children:"All Regions"}),Object.keys(fo).filter(y=>y!=="all").map(y=>d.jsx("option",{value:y,className:"capitalize",children:y.replace("generation-","Gen ").replace("-"," ")},y))]}),d.jsxs("select",{value:m,onChange:y=>p(y.target.value),className:"p-2 rounded-lg capitalize",style:{backgroundColor:t.cardLight,color:t.text},children:[d.jsx("option",{value:"all",children:"All Types"}),Object.keys(ct).map(y=>d.jsx("option",{value:y,className:"capitalize",children:y},y))]}),d.jsxs("select",{value:g,onChange:y=>T(y.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[d.jsx("option",{value:"all",children:"All Legendaries"}),d.jsx("option",{value:"legendary",children:"Legendaries Only"}),d.jsx("option",{value:"non-legendary",children:"No Legendaries"})]}),d.jsxs("select",{value:N,onChange:y=>M(y.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[d.jsx("option",{value:"all",children:"Fully Evolved or Not"}),d.jsx("option",{value:"fully-evolved",children:"Fully Evolved Only"}),d.jsx("option",{value:"not-fully-evolved",children:"Not Fully Evolved"})]}),d.jsxs("select",{value:k,onChange:y=>S(y.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[d.jsx("option",{value:"all",children:"All Forms"}),d.jsx("option",{value:"with-forms",children:"Show Forms"}),d.jsx("option",{value:"no-forms",children:"Hide Forms"})]}),d.jsx("button",{onClick:v,disabled:s,className:"px-6 py-2 rounded-lg font-bold text-white transition-colors hover:opacity-90 disabled:opacity-50",style:{backgroundColor:t.primary},children:s?"Generating...":"Generate"})]})]}),d.jsx("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:t.card},children:s?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:t.primary}})}):n.length>0?d.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.map(y=>d.jsx(A,{pokemon:y},y.id))}):d.jsx("p",{className:"text-center py-8",style:{color:t.textMuted},children:"No Pokmon found with the selected filters. Try adjusting your criteria."})})]})};function _k(){const[t,e]=B.useState("light"),n=qD[t],[i,s]=B.useState(null),[r,a]=B.useState(null),[l,u]=B.useState(!1),[h,m]=B.useState([]),[p,g]=B.useState(null),[T,N]=B.useState(!0),[M,k]=B.useState({}),[S,w]=B.useState({}),[x,D]=B.useState([]),[q,O]=B.useState([]),[b,v]=B.useState([]),[A,y]=B.useState("all"),[R,I]=B.useState(new Set),[E,we]=B.useState(""),z=z_(E,300),[P,W]=B.useState("all"),[$,ie]=B.useState(new Set),[ce,ot]=B.useState(""),J=z_(ce,300),[Z,Pe]=B.useState([]),[Be,An]=B.useState([]),[tt,pt]=B.useState(""),[Hn,Ei]=B.useState(null),[cr,hr]=B.useState({strengths:new Set,weaknesses:{}}),[wn,fr]=B.useState(!0),[Sn,za]=B.useState(!1),[Nh,Ul]=B.useState([]),[Xe,xn]=B.useState("builder"),[dr,bi]=B.useState(!1),[yt,Ba]=B.useState(!1),[As,lt]=B.useState(""),[ut,ws]=B.useState(null),[Fa,qa]=B.useState(null),[Dh,mr]=B.useState(3),[Ss,gr]=B.useState(new Set),[pr,kh]=B.useState(!1),le=B.useCallback((F,G="info")=>{const Y=Date.now();Ul(Q=>[...Q,{id:Y,message:F,type:G}]),setTimeout(()=>Ul(Q=>Q.filter(se=>se.id!==Y)),3e3)},[]);B.useEffect(()=>{if(!r||!i)return;const F=Tu(r,`artifacts/${Pi}/users/${i}/teams`),G=P_(F,jf("updatedAt","desc")),Y=wD(G,Q=>{const se=Q.docs.map(ge=>({id:ge.id,...ge.data()}));An(se)},Q=>{console.error("Error listening to saved teams:",Q),le("Could not fetch saved teams.","error")});return()=>Y()},[r,i,le]),B.useEffect(()=>{(async()=>{try{const Y=await(await fetch(`${js}/generation`)).json();v(Y.results.map(Oe=>Oe.name));const se=await(await fetch(`${js}/item?limit=2000`)).json();D(se.results);const je=await(await fetch(`${js}/nature`)).json();O(je.results)}catch{le("Failed to load filter data.","error")}})()},[]),B.useEffect(()=>{const F=Z;if(F.length===0){hr({strengths:new Set,weaknesses:{}}),gr(new Set);return}const G={},Y=new Set;F.flatMap(se=>se.types).forEach(se=>{var ge;Object.entries(((ge=bu[se])==null?void 0:ge.damageDealt)||{}).forEach(([je,Oe])=>{Oe>1&&Y.add(je.toLowerCase())})}),Object.keys(bu).forEach(se=>{const ge=se.charAt(0).toUpperCase()+se.slice(1);let je=0,Oe=0;F.forEach(Qt=>{const Rs=Qt.types.reduce(($a,Ci)=>{var Ni;return $a*(((Ni=bu[Ci])==null?void 0:Ni.damageTaken[ge])??1)},1);Rs>1?je++:Rs<1&&Oe++}),je>0&&je>=F.length/2&&je>Oe&&(G[se]=je)}),hr({strengths:Y,weaknesses:G});const Q=Object.keys(G);if(Q.length>0&&h.length>0){const se=h.filter(ge=>{const je=ge;return je.types?Q.some(Oe=>{const Qt=Oe.charAt(0).toUpperCase()+Oe.slice(1);return je.types.reduce(($a,Ci)=>{var Ni;return $a*(((Ni=bu[Ci])==null?void 0:Ni.damageTaken[Qt])??1)},1)<1}):!1});gr(new Set(se.map(ge=>ge.id).slice(0,10)))}else gr(new Set)},[Z,h]),B.useMemo(()=>{const F=new Set(Z.map(Y=>Y.id));return h.filter(Y=>!F.has(Y.id)).sort((Y,Q)=>{const se=Ss.has(Y.id),ge=Ss.has(Q.id);return se&&!ge?-1:!se&&ge?1:Y.id-Q.id})},[h,Z,Ss]);const Ha=B.useMemo(()=>Be.sort((F,G)=>new Date(G.updatedAt||G.createdAt)-new Date(F.updatedAt||F.createdAt)).slice(0,3),[Be]);B.useMemo(()=>{let F=[...Be].sort((G,Y)=>Y.isFavorite-G.isFavorite||new Date(Y.updatedAt||G.createdAt)-new Date(G.updatedAt||G.createdAt));return As&&(F=F.filter(G=>G.name.toLowerCase().includes(As.toLowerCase()))),F},[Be,As]);const yr=B.useCallback(async F=>{if(M[F])return M[F];if(!r)return null;try{const G=Xn(r,"artifacts/pokemonTeamBuilder/pokemons",String(F)),Y=await sm(G);if(Y.exists()){const Q=Y.data();return k(se=>({...se,[F]:Q})),Q}return null}catch(G){return console.error("Failed to fetch Pokmon details:",G),le(`Could not load details for Pokmon ID: ${F}`,"error"),null}},[r,M,le]),Ga=B.useCallback(async F=>{if(!r||pr)return;kh(!0),le("Loading shared team...","info");const G=Xn(r,`artifacts/${Pi}/public/data/teams`,F);try{const Y=await sm(G);if(Y.exists()){const Q=Y.data(),se=Q.pokemons.map(Oe=>yr(Oe.id)),je=(await Promise.all(se)).map((Oe,Qt)=>({...Oe,instanceId:Q.pokemons[Qt].instanceId,customization:Q.pokemons[Qt].customization}));Pe(je.filter(Boolean)),pt(Q.name),Ei(null),le(`Loaded team: ${Q.name}`,"success")}else le("Shared team not found.","error")}catch{le("Failed to load shared team.","error")}},[r,le,pr]);B.useEffect(()=>{if(!r||wn||!l)return;const G=new URLSearchParams(window.location.search).get("team");G&&Ga(G)},[r,wn,l,Ga]),B.useEffect(()=>{try{const F=XE(ck),G=hC(F);a(oD(F));const Y=eI(G,async Q=>{if(Q)s(Q.uid),u(!0);else try{const se=typeof window.__initial_auth_token<"u"?window.__initial_auth_token:null;se?await ZR(G,se):await QR(G),s(G.currentUser.uid)}catch{le("Authentication failed. Please refresh.","error")}finally{u(!0)}});return()=>Y()}catch{le("Failed to connect to services.","error")}},[le]);const Ai=(F=!1)=>{const G=Xe==="pokedex"?P:A,Y=(Xe==="pokedex"?J:z).toLowerCase(),Q=Array.from(Xe==="pokedex"?$:R);let se=Tu(r,"artifacts/pokemonTeamBuilder/pokemons");const ge=[];return G!=="all"&&ge.push(Eu("generation","==",G)),Q.length>0&&ge.push(Eu("types","array-contains-any",Q)),Y?(ge.push(jf("name")),ge.push(Eu("name",">=",Y)),ge.push(Eu("name","<=",Y+""))):ge.push(jf("id")),F&&p&&ge.push(vD(p)),ge.push(yD(50)),P_(se,...ge)};B.useEffect(()=>{if(!r||!l)return;(async()=>{fr(!0),N(!0);const G=Ai(!1);try{const Y=await U_(G),Q=Y.docs.map(ge=>ge.data()),se=Y.docs[Y.docs.length-1];m(Q),g(se),Y.docs.length<50&&N(!1)}catch(Y){console.error("Error fetching pokemons:",Y),le("Error loading Pokmon list. You may need to create a composite index in Firestore.","error")}finally{fr(!1)}})()},[r,l,Xe,z,A,JSON.stringify(Array.from(R)),J,P,JSON.stringify(Array.from($))]);const vr=B.useCallback(async()=>{if(Sn||!T||!r||!p)return;za(!0);const F=Ai(!0);try{const G=await U_(F),Y=G.docs.map(se=>se.data()),Q=G.docs[G.docs.length-1];m(se=>[...se,...Y]),g(Q),G.docs.length<50&&N(!1)}catch(G){console.error("Error fetching more pokemons:",G),le("Failed to load more Pokmon.","error")}finally{za(!1)}},[Sn,T,r,p,Xe,A,z,JSON.stringify(Array.from(R)),P,J,JSON.stringify(Array.from($))]),wi=B.useRef(),Rn=B.useCallback(F=>{Sn||wn||(wi.current&&wi.current.disconnect(),wi.current=new IntersectionObserver(G=>{G[0].isIntersecting&&T&&vr()}),F&&wi.current.observe(F))},[Sn,wn,T,vr]),Qa=B.useCallback(F=>{if(Z.length>=6)return le("Your team is full (6 Pokmon)!","warning");const G={...F,instanceId:`${F.id}-${Date.now()}`,customization:{item:"",nature:"serious",teraType:F.types[0],isShiny:!1,ability:F.abilities[0].name,moves:F.moves.slice(0,4).map(Y=>Y.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}}};Pe(Y=>[...Y,G])},[Z,le]),_r=B.useCallback(F=>{Pe(G=>G.filter(Y=>Y.instanceId!==F))},[]),Si=B.useCallback(()=>{Pe([]),pt(""),Ei(null)},[]),xs=B.useCallback(async()=>{if(!r||!i)return le("Database connection not ready.","error");if(Z.length===0)return le("Your team is empty!","warning");if(!tt.trim())return le("Please name your team.","warning");if(Be.some(Q=>Q.name===tt&&Q.id!==Hn))return le("A team with this name already exists.","warning");const F=Hn||Xn(Tu(r,`artifacts/${Pi}/users/${i}/teams`)).id,G=Be.find(Q=>Q.id===Hn),Y={name:tt,pokemons:Z.map(Q=>({id:Q.id,name:Q.name,sprite:Q.sprite,instanceId:Q.instanceId,customization:Q.customization})),isFavorite:(G==null?void 0:G.isFavorite)||!1,createdAt:(G==null?void 0:G.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await Lf(Xn(r,`artifacts/${Pi}/users/${i}/teams`,F),Y),le(`Team "${tt}" saved!`,"success"),Si()}catch{le("Error saving team.","error")}},[r,i,Z,tt,Hn,Be,le,Si]),zl=B.useCallback(async()=>{if(!r||!l)return le("Database not ready.","error");if(Z.length===0)return le("Cannot share an empty team!","warning");const F=Xn(Tu(r,`artifacts/${Pi}/public/data/teams`)).id,G={name:tt||"Unnamed Team",pokemons:Z.map(Y=>({id:Y.id,name:Y.name,sprite:Y.sprite||""}))};try{await Lf(Xn(r,`artifacts/${Pi}/public/data/teams`,F),G);const Y=`${window.location.origin}${window.location.pathname}?team=${F}`;await navigator.clipboard.writeText(Y),le("Share link copied to clipboard!","success")}catch{le("Could not generate share link.","error")}},[r,Z,tt,le,l]),vt=B.useCallback(async()=>{if(Z.length===0)return le("Your team is empty!","warning");const F=Y=>Y.split("-").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" "),G=Z.map(Y=>{const{customization:Q,name:se}=Y,ge=Object.entries(Q.evs).filter(([,Oe])=>Oe>0).map(([Oe,Qt])=>`${Qt} ${{hp:"HP",attack:"Atk",defense:"Def","special-attack":"SpA","special-defense":"SpD",speed:"Spe"}[Oe]}`).join(" / "),je=Q.ivs.attack===0?"IVs: 0 Atk":"";return[`${F(se)} @ ${F(Q.item||"Nothing")}`,`Ability: ${F(Q.ability)}`,"Level: 50",Q.isShiny?"Shiny: Yes":null,`Tera Type: ${F(Q.teraType)}`,ge?`EVs: ${ge}`:null,`${F(Q.nature)} Nature`,je||null,...Q.moves.map(Oe=>`- ${F(Oe)}`)].filter(Boolean).join(`
`)}).join(`

`);try{await navigator.clipboard.writeText(G),le("Team copied for Pokmon Showdown!","success")}catch{le("Failed to copy team.","error")}},[Z,le]),Ya=B.useCallback(async F=>{le(`Loading team: ${F.name}...`,"info");const G=F.pokemons.map(se=>yr(se.id)),Q=(await Promise.all(G)).map((se,ge)=>{if(!se)return null;const je=F.pokemons[ge],Oe={item:"",nature:"serious",teraType:se.types[0],isShiny:!1,ability:se.abilities[0].name,moves:se.moves.slice(0,4).map(Qt=>Qt.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}};return{...se,instanceId:je.instanceId,customization:{...Oe,...je.customization}}}).filter(Boolean);Pe(Q),pt(F.name),Ei(F.id),xn("builder"),bi(!1),window.scrollTo({top:0,behavior:"smooth"})},[yr,le]),xi=B.useCallback(async F=>{if(!(!r||!i))try{await AD(Xn(r,`artifacts/${Pi}/users/${i}/teams`,F)),Hn===F&&Si(),le("Team deleted.","info")}catch{le("Error deleting team.","error")}},[r,i,Hn,Si,le]),Ri=B.useCallback(async F=>{if(!(!r||!i))try{await Lf(Xn(r,`artifacts/${Pi}/users/${i}/teams`,F.id),{...F,isFavorite:!F.isFavorite},{merge:!0})}catch{le("Could not update favorite status.","error")}},[r,i,le]),Bl=B.useCallback(F=>{(Xe==="pokedex"?ie:I)(Y=>{const Q=new Set(Y);return Q.has(F)?Q.delete(F):Q.add(F),Q})},[Xe]),Ka=B.useCallback(F=>{ws(F)},[]),Ii=B.useCallback(F=>{qa(F)},[]),Oh=B.useCallback((F,G)=>{Pe(Y=>Y.map(Q=>Q.instanceId===F?{...Q,customization:G}:Q))},[]),Mh=B.useCallback(()=>{e(F=>{const G=F==="dark"?"light":"dark";return localStorage.setItem("theme",G),G})},[]);B.useEffect(()=>{const F=localStorage.getItem("theme");F&&e(F)},[]);const Tr=()=>{const F=B.useMemo(()=>{if(!h)return[];const G=new Set(Z.map(Y=>Y.id));return h.filter(Y=>!G.has(Y.id))},[h,Z]);switch(Xe){case"allTeams":return d.jsx(pk,{teams:Be,onEdit:Ya,onDelete:xi,onToggleFavorite:Ri,searchTerm:As,setSearchTerm:lt,colors:n});case"pokedex":return d.jsx(yk,{pokemons:h,lastPokemonElementRef:Rn,isFetchingMore:Sn,searchInput:ce,setSearchInput:ot,selectedTypes:$,handleTypeSelection:Bl,selectedGeneration:P,setSelectedGeneration:W,generations:b,isInitialLoading:wn,colors:n,showDetails:Ka});case"randomGenerator":return d.jsx(vk,{colors:n,generations:b});default:return d.jsx(gk,{currentTeam:Z,teamName:tt,setTeamName:pt,handleRemoveFromTeam:_r,handleSaveTeam:xs,editingTeamId:Hn,handleClearTeam:Si,recentTeams:Ha,setCurrentPage:xn,handleToggleFavorite:Ri,handleEditTeam:Ya,handleDeleteTeam:xi,handleShareTeam:zl,handleExportToShowdown:vt,teamAnalysis:cr,searchInput:E,setSearchInput:we,selectedGeneration:A,setSelectedGeneration:y,generations:b,isInitialLoading:wn,availablePokemons:F,handleAddPokemonToTeam:Qa,lastPokemonElementRef:Rn,isFetchingMore:Sn,selectedTypes:R,handleTypeSelection:Bl,showDetails:Ka,suggestedPokemonIds:Ss,colors:n,onEditTeamPokemon:Ii})}};return d.jsxs("div",{className:"min-h-screen font-sans",style:{backgroundColor:n.background,color:n.text},children:[ut&&d.jsx(dk,{pokemon:ut,onClose:()=>ws(null),onAdd:Xe==="builder"?Qa:null,currentTeam:Z,colors:n,showPokemonDetails:Ka,pokemonDetailsCache:M,db:r}),Fa&&d.jsx(mk,{pokemon:Fa,onClose:()=>qa(null),onSave:Oh,colors:n,items:x,natures:q,moveDetailsCache:S}),d.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Nh.slice(0,Dh).map(F=>d.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${F.type==="success"?"bg-green-600":F.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[F.type==="success"&&d.jsx(ek,{}),F.type==="error"&&d.jsx(tk,{}),F.type==="warning"&&d.jsx(nk,{}),F.message]},F.id))}),d.jsxs("div",{className:"flex min-h-screen",children:[d.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${yt?"lg:w-20":"w-64"} ${dr?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:n.card},children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:`flex items-center h-16 p-4 ${yt?"justify-center":"justify-between"}`,children:[d.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${yt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Menu"}),d.jsx("button",{onClick:()=>Ba(!yt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:opacity-80",style:{color:n.textMuted},children:yt?d.jsx(WD,{}):d.jsx(ZD,{})})]}),d.jsx("nav",{className:"px-4 flex-grow",children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>{xn("builder"),bi(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Xe==="builder"?"bg-primary":""} ${yt?"justify-center":""}`,style:{color:Xe==="builder"?"white":n.text},children:[d.jsx(rk,{}),d.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${yt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),d.jsx("li",{className:"mt-2",children:d.jsxs("button",{onClick:()=>{xn("pokedex"),bi(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Xe==="pokedex"?"bg-primary":""} ${yt?"justify-center":""}`,style:{color:Xe==="pokedex"?"white":n.text},children:[d.jsx($D,{}),d.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${yt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Pokdex"})]})}),d.jsx("li",{className:"mt-2",children:d.jsxs("button",{onClick:()=>{xn("randomGenerator"),bi(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Xe==="randomGenerator"?"bg-primary":""} ${yt?"justify-center":""}`,style:{color:Xe==="randomGenerator"?"white":n.text},children:[d.jsx(uk,{}),d.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${yt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Random Generator"})]})}),d.jsx("li",{className:"mt-2",children:d.jsxs("button",{onClick:()=>{xn("allTeams"),bi(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Xe==="allTeams"?"bg-primary":""} ${yt?"justify-center":""}`,style:{color:Xe==="allTeams"?"white":n.text},children:[d.jsx(XD,{}),d.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${yt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Saved Teams"})]})})]})})]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[d.jsx("button",{onClick:()=>bi(!dr),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:dr?d.jsx(rp,{}):d.jsx(KD,{})}),d.jsxs("div",{className:"flex-1 text-center px-2 marginLeft",children:[d.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Pokmon Team Builder"}),d.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"By: Enzo Esmeraldo"})]}),d.jsx("div",{className:"flex items-center gap-2 lg:mr-4 sm:mr-0",children:d.jsx("button",{onClick:Mh,className:"p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:t==="dark"?d.jsx(ik,{color:n.text}):d.jsx(sk,{color:n.text})})})]}),d.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Tr()}),d.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:n.cardLight},children:[d.jsxs("p",{className:"text-sm",style:{color:n.textMuted},children:["Developed and built by ",d.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"Enzo Esmeraldo"})]}),d.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[d.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:d.jsx(HD,{color:n.textMuted})}),d.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:d.jsx(GD,{color:n.textMuted})})]}),d.jsxs("p",{className:"text-xs mt-2",style:{color:n.textMuted},children:["Using the ",d.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]})]})]})]}),d.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: var(--scrollbar-track-color); } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 20px; border: 3px solid var(--scrollbar-thumb-border-color); } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } .bg-primary { background-color: ${n.primary}; } input[type="checkbox"]:checked + div + div { transform: translateX(100%); background-color: ${n.primary}; }`})]})}SS.createRoot(document.getElementById("root")).render(d.jsx(Fo.StrictMode,{children:d.jsx(_k,{})}));
