(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function F_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q_={exports:{}},Vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=Symbol.for("react.transitional.element"),Fw=Symbol.for("react.fragment");function H_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:Bw,type:t,key:i,ref:e!==void 0?e:null,props:n}}Vh.Fragment=Fw;Vh.jsx=H_;Vh.jsxs=H_;q_.exports=Vh;var c=q_.exports,G_={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=Symbol.for("react.transitional.element"),qw=Symbol.for("react.portal"),Hw=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Qw=Symbol.for("react.consumer"),Yw=Symbol.for("react.context"),Kw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Ww=Symbol.for("react.memo"),$_=Symbol.for("react.lazy"),Dy=Symbol.iterator;function Zw(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var Q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y_=Object.assign,K_={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=K_,this.updater=n||Q_}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X_(){}X_.prototype=Ga.prototype;function np(t,e,n){this.props=t,this.context=e,this.refs=K_,this.updater=n||Q_}var ip=np.prototype=new X_;ip.constructor=np;Y_(ip,Ga.prototype);ip.isPureReactComponent=!0;var My=Array.isArray,He={H:null,A:null,T:null,S:null,V:null},W_=Object.prototype.hasOwnProperty;function rp(t,e,n,i,r,s){return n=s.ref,{$$typeof:tp,type:t,key:e,ref:n!==void 0?n:null,props:s}}function Jw(t,e){return rp(t.type,e,void 0,void 0,void 0,t.props)}function sp(t){return typeof t=="object"&&t!==null&&t.$$typeof===tp}function ex(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Oy=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ex(""+t.key):e.toString(36)}function jy(){}function tx(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(jy,jy):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function $s(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tp:case qw:a=!0;break;case $_:return a=t._init,$s(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+jd(t,0):i,My(r)?(n="",a!=null&&(n=a.replace(Oy,"$&/")+"/"),$s(r,e,n,"",function(h){return h})):r!=null&&(sp(r)&&(r=Jw(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Oy,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(My(t))for(var u=0;u<t.length;u++)i=t[u],s=l+jd(i,u),a+=$s(i,e,n,s,r);else if(u=Zw(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+jd(i,u++),a+=$s(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return $s(tx(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function zu(t,e,n){if(t==null)return t;var i=[],r=0;return $s(t,i,"","",function(s){return e.call(n,s,r++)}),i}function nx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Py=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ix(){}fe.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!sp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Ga;fe.Fragment=Hw;fe.Profiler=$w;fe.PureComponent=np;fe.StrictMode=Gw;fe.Suspense=Xw;fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;fe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return He.H.useMemoCache(t)}};fe.cache=function(t){return function(){return t.apply(null,arguments)}};fe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Y_({},t.props),r=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!W_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return rp(t.type,r,void 0,void 0,s,i)};fe.createContext=function(t){return t={$$typeof:Yw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Qw,_context:t},t};fe.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)W_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return rp(t,s,void 0,void 0,null,r)};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Kw,render:t}};fe.isValidElement=sp;fe.lazy=function(t){return{$$typeof:$_,_payload:{_status:-1,_result:t},_init:nx}};fe.memo=function(t,e){return{$$typeof:Ww,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=He.T,n={};He.T=n;try{var i=t(),r=He.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ix,Py)}catch(s){Py(s)}finally{He.T=e}};fe.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()};fe.use=function(t){return He.H.use(t)};fe.useActionState=function(t,e,n){return He.H.useActionState(t,e,n)};fe.useCallback=function(t,e){return He.H.useCallback(t,e)};fe.useContext=function(t){return He.H.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t,e){return He.H.useDeferredValue(t,e)};fe.useEffect=function(t,e,n){var i=He.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};fe.useId=function(){return He.H.useId()};fe.useImperativeHandle=function(t,e,n){return He.H.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return He.H.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return He.H.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return He.H.useMemo(t,e)};fe.useOptimistic=function(t,e){return He.H.useOptimistic(t,e)};fe.useReducer=function(t,e,n){return He.H.useReducer(t,e,n)};fe.useRef=function(t){return He.H.useRef(t)};fe.useState=function(t){return He.H.useState(t)};fe.useSyncExternalStore=function(t,e,n){return He.H.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return He.H.useTransition()};fe.version="19.1.0";G_.exports=fe;var C=G_.exports;const pl=F_(C);var Z_={exports:{}},Lh={},J_={exports:{}},e1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var J=z.length;z.push(X);e:for(;0<J;){var ee=J-1>>>1,B=z[ee];if(0<r(B,X))z[ee]=X,z[J]=B,J=ee;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var X=z[0],J=z.pop();if(J!==X){z[0]=J;e:for(var ee=0,B=z.length,q=B>>>1;ee<q;){var re=2*(ee+1)-1,$=z[re],te=re+1,de=z[te];if(0>r($,J))te<B&&0>r(de,$)?(z[ee]=de,z[te]=J,ee=te):(z[ee]=$,z[re]=J,ee=re);else if(te<B&&0>r(de,J))z[ee]=de,z[te]=J,ee=te;else break e}}return X}function r(z,X){var J=z.sortIndex-X.sortIndex;return J!==0?J:z.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,m=null,g=3,y=!1,N=!1,D=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function I(z){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=z)i(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function L(z){if(D=!1,I(z),!N)if(n(u)!==null)N=!0,H||(H=!0,k());else{var X=n(h);X!==null&&ne(L,X.startTime-z)}}var H=!1,_=-1,E=5,A=-1;function v(){return M?!0:!(t.unstable_now()-A<E)}function R(){if(M=!1,H){var z=t.unstable_now();A=z;var X=!0;try{e:{N=!1,D&&(D=!1,b(_),_=-1),y=!0;var J=g;try{t:{for(I(z),m=n(u);m!==null&&!(m.expirationTime>z&&v());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var B=ee(m.expirationTime<=z);if(z=t.unstable_now(),typeof B=="function"){m.callback=B,I(z),X=!0;break t}m===n(u)&&i(u),I(z)}else i(u);m=n(u)}if(m!==null)X=!0;else{var q=n(h);q!==null&&ne(L,q.startTime-z),X=!1}}break e}finally{m=null,g=J,y=!1}X=void 0}}finally{X?k():H=!1}}}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,we=S.port2;S.port1.onmessage=R,k=function(){we.postMessage(null)}}else k=function(){x(R,0)};function ne(z,X){_=x(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var J=g;g=X;try{return z()}finally{g=J}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=g;g=z;try{return X()}finally{g=J}},t.unstable_scheduleCallback=function(z,X,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,z={id:f++,callback:X,priorityLevel:z,startTime:J,expirationTime:B,sortIndex:-1},J>ee?(z.sortIndex=J,e(h,z),n(u)===null&&z===n(h)&&(D?(b(_),_=-1):D=!0,ne(L,J-ee))):(z.sortIndex=B,e(u,z),N||y||(N=!0,H||(H=!0,k()))),z},t.unstable_shouldYield=v,t.unstable_wrapCallback=function(z){var X=g;return function(){var J=g;g=X;try{return z.apply(this,arguments)}finally{g=J}}}})(e1);J_.exports=e1;var rx=J_.exports,t1={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=C;function n1(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nr(){}var zt={d:{f:nr,r:function(){throw Error(n1(522))},D:nr,C:nr,L:nr,m:nr,X:nr,S:nr,M:nr},p:0,findDOMNode:null},ax=Symbol.for("react.portal");function ox(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ax,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ko=sx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zt;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(n1(299));return ox(t,e,null,n)};Ft.flushSync=function(t){var e=Ko.T,n=zt.p;try{if(Ko.T=null,zt.p=2,t)return t()}finally{Ko.T=e,zt.p=n,zt.d.f()}};Ft.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,zt.d.C(t,e))};Ft.prefetchDNS=function(t){typeof t=="string"&&zt.d.D(t)};Ft.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Uh(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?zt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&zt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ft.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Uh(e.as,e.crossOrigin);zt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&zt.d.M(t)};Ft.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Uh(n,e.crossOrigin);zt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ft.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Uh(e.as,e.crossOrigin);zt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else zt.d.m(t)};Ft.requestFormReset=function(t){zt.d.r(t)};Ft.unstable_batchedUpdates=function(t,e){return t(e)};Ft.useFormState=function(t,e,n){return Ko.H.useFormState(t,e,n)};Ft.useFormStatus=function(){return Ko.H.useHostTransitionStatus()};Ft.version="19.1.0";function i1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i1)}catch(t){console.error(t)}}i1(),t1.exports=Ft;var lx=t1.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=rx,r1=C,ux=lx;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vy(t){if(zl(t)!==t)throw Error(F(188))}function cx(t){var e=t.alternate;if(!e){if(e=zl(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Vy(r),t;if(s===i)return Vy(r),e;s=s.sibling}throw Error(F(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function o1(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=o1(t),e!==null)return e;t=t.sibling}return null}var Fe=Object.assign,hx=Symbol.for("react.element"),Bu=Symbol.for("react.transitional.element"),zo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),u1=Symbol.for("react.consumer"),yi=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),Mf=Symbol.for("react.activity"),fx=Symbol.for("react.memo_cache_sentinel"),Ly=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var mx=Symbol.for("react.client.reference");function Of(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===mx?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case If:return"Profiler";case l1:return"StrictMode";case kf:return"Suspense";case Df:return"SuspenseList";case Mf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case zo:return"Portal";case yi:return(t.displayName||"Context")+".Provider";case u1:return(t._context.displayName||"Context")+".Consumer";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case or:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}var Bo=Array.isArray,ae=r1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=ux.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ss={pending:!1,data:null,method:null,action:null},jf=[],ta=-1;function ii(t){return{current:t}}function wt(t){0>ta||(t.current=jf[ta],jf[ta]=null,ta--)}function Ge(t,e){ta++,jf[ta]=t.current,t.current=e}var $n=ii(null),gl=ii(null),Tr=ii(null),Vc=ii(null);function Lc(t,e){switch(Ge(Tr,e),Ge(gl,t),Ge($n,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=qv(e),t=AE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt($n),Ge($n,t)}function Ca(){wt($n),wt(gl),wt(Tr)}function Pf(t){t.memoizedState!==null&&Ge(Vc,t);var e=$n.current,n=AE(e,t.type);e!==n&&(Ge(gl,t),Ge($n,n))}function Uc(t){gl.current===t&&(wt($n),wt(gl)),Vc.current===t&&(wt(Vc),Al._currentValue=ss)}var Vf=Object.prototype.hasOwnProperty,lp=gt.unstable_scheduleCallback,Pd=gt.unstable_cancelCallback,px=gt.unstable_shouldYield,gx=gt.unstable_requestPaint,Qn=gt.unstable_now,yx=gt.unstable_getCurrentPriorityLevel,c1=gt.unstable_ImmediatePriority,h1=gt.unstable_UserBlockingPriority,zc=gt.unstable_NormalPriority,vx=gt.unstable_LowPriority,d1=gt.unstable_IdlePriority,_x=gt.log,bx=gt.unstable_setDisableYieldValue,Bl=null,sn=null;function yr(t){if(typeof _x=="function"&&bx(t),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Bl,t)}catch{}}var an=Math.clz32?Math.clz32:wx,Ex=Math.log,Tx=Math.LN2;function wx(t){return t>>>=0,t===0?32:31-(Ex(t)/Tx|0)|0}var Fu=256,qu=4194304;function Jr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Jr(i):(a&=l,a!==0?r=Jr(a):n||(n=l&~t,n!==0&&(r=Jr(n))))):(l=i&~s,l!==0?r=Jr(l):a!==0?r=Jr(a):n||(n=i&~t,n!==0&&(r=Jr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function Fl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function xx(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(){var t=Fu;return Fu<<=1,!(Fu&4194048)&&(Fu=256),t}function m1(){var t=qu;return qu<<=1,!(qu&62914560)&&(qu=4194304),t}function Vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ql(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sx(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-an(n),m=1<<f;l[f]=0,u[f]=-1;var g=h[f];if(g!==null)for(h[f]=null,f=0;f<g.length;f++){var y=g[f];y!==null&&(y.lane&=-536870913)}n&=~m}i!==0&&p1(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function p1(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-an(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function g1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-an(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function up(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cp(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function y1(){var t=Ae.p;return t!==0?t:(t=window.event,t===void 0?32:PE(t.type))}function Ax(t,e){var n=Ae.p;try{return Ae.p=t,e()}finally{Ae.p=n}}var Gr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Gr,Xt="__reactProps$"+Gr,$a="__reactContainer$"+Gr,Lf="__reactEvents$"+Gr,Cx="__reactListeners$"+Gr,Rx="__reactHandles$"+Gr,Uy="__reactResources$"+Gr,Hl="__reactMarker$"+Gr;function hp(t){delete t[Pt],delete t[Xt],delete t[Lf],delete t[Cx],delete t[Rx]}function na(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$a]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$v(t);t!==null;){if(n=t[Pt])return n;t=$v(t)}return e}t=n,n=t.parentNode}return null}function Qa(t){if(t=t[Pt]||t[$a]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Fo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function fa(t){var e=t[Uy];return e||(e=t[Uy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Et(t){t[Hl]=!0}var v1=new Set,_1={};function xs(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(_1[t]=e,t=0;t<e.length;t++)v1.add(e[t])}var Nx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zy={},By={};function Ix(t){return Vf.call(By,t)?!0:Vf.call(zy,t)?!1:Nx.test(t)?By[t]=!0:(zy[t]=!0,!1)}function hc(t,e,n){if(Ix(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Hu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function fi(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Ld,Fy;function Qs(t){if(Ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ld=e&&e[1]||"",Fy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ld+t+Fy}var Ud=!1;function zd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var g=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){g=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){g=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qs(n):""}function kx(t){switch(t.tag){case 26:case 27:case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 15:return zd(t.type,!1);case 11:return zd(t.type.render,!1);case 1:return zd(t.type,!0);case 31:return Qs("Activity");default:return""}}function qy(t){try{var e="";do e+=kx(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dx(t){var e=b1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=Dx(t))}function E1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=b1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mx=/[\n"\\]/g;function yn(t){return t.replace(Mx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Uf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+mn(e)):t.value!==""+mn(e)&&(t.value=""+mn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?zf(t,a,mn(e)):n!=null?zf(t,a,mn(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+mn(l):t.removeAttribute("name")}function T1(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+mn(n):"",e=e!=null?""+mn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function zf(t,e,n){e==="number"&&Fc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ma(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function w1(t,e,n){if(e!=null&&(e=""+mn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+mn(n):""}function x1(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(F(92));if(Bo(i)){if(1<i.length)throw Error(F(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=mn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Ox.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function S1(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Hy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Hy(t,s,e[s])}function dp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(t){return Px.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bf=null;function fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ia=null,pa=null;function Gy(t){var e=Qa(t);if(e&&(t=e.stateNode)){var n=t[Xt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Uf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Xt]||null;if(!r)throw Error(F(90));Uf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&E1(i)}break e;case"textarea":w1(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}}}var Bd=!1;function A1(t,e,n){if(Bd)return t(e,n);Bd=!0;try{var i=t(e);return i}finally{if(Bd=!1,(ia!==null||pa!==null)&&(Xh(),ia&&(e=ia,t=pa,pa=ia=null,Gy(e),t)))for(e=0;e<t.length;e++)Gy(t[e])}}function yl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Xt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ff=!1;if(Ni)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Ff=!1}var vr=null,mp=null,fc=null;function C1(){if(fc)return fc;var t,e=mp,n=e.length,i,r="value"in vr?vr.value:vr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return fc=r.slice(t,1<i?1-i:void 0)}function mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gu(){return!0}function $y(){return!1}function Wt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gu:$y,this.isPropagationStopped=$y,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),e}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Wt(Ss),Gl=Fe({},Ss,{view:0,detail:0}),Vx=Wt(Gl),Fd,qd,Mo,Fh=Fe({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(Fd=t.screenX-Mo.screenX,qd=t.screenY-Mo.screenY):qd=Fd=0,Mo=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Qy=Wt(Fh),Lx=Fe({},Fh,{dataTransfer:0}),Ux=Wt(Lx),zx=Fe({},Gl,{relatedTarget:0}),Hd=Wt(zx),Bx=Fe({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Fx=Wt(Bx),qx=Fe({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hx=Wt(qx),Gx=Fe({},Ss,{data:0}),Yy=Wt(Gx),$x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yx[t])?!!e[t]:!1}function pp(){return Kx}var Xx=Fe({},Gl,{key:function(t){if(t.key){var e=$x[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wx=Wt(Xx),Zx=Fe({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Wt(Zx),Jx=Fe({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),eS=Wt(Jx),tS=Fe({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=Wt(tS),iS=Fe({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=Wt(iS),sS=Fe({},Ss,{newState:0,oldState:0}),aS=Wt(sS),oS=[9,13,27,32],gp=Ni&&"CompositionEvent"in window,Xo=null;Ni&&"documentMode"in document&&(Xo=document.documentMode);var lS=Ni&&"TextEvent"in window&&!Xo,R1=Ni&&(!gp||Xo&&8<Xo&&11>=Xo),Xy=" ",Wy=!1;function N1(t,e){switch(t){case"keyup":return oS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function uS(t,e){switch(t){case"compositionend":return I1(e);case"keypress":return e.which!==32?null:(Wy=!0,Xy);case"textInput":return t=e.data,t===Xy&&Wy?null:t;default:return null}}function cS(t,e){if(ra)return t==="compositionend"||!gp&&N1(t,e)?(t=C1(),fc=mp=vr=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R1&&e.locale!=="ko"?null:e.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hS[t.type]:e==="textarea"}function k1(t,e,n,i){ia?pa?pa.push(i):pa=[i]:ia=i,e=ah(e,"onChange"),0<e.length&&(n=new Bh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Wo=null,vl=null;function dS(t){wE(t,0)}function qh(t){var e=Fo(t);if(E1(e))return t}function Jy(t,e){if(t==="change")return e}var D1=!1;if(Ni){var Gd;if(Ni){var $d="oninput"in document;if(!$d){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),$d=typeof ev.oninput=="function"}Gd=$d}else Gd=!1;D1=Gd&&(!document.documentMode||9<document.documentMode)}function tv(){Wo&&(Wo.detachEvent("onpropertychange",M1),vl=Wo=null)}function M1(t){if(t.propertyName==="value"&&qh(vl)){var e=[];k1(e,vl,t,fp(t)),A1(dS,e)}}function fS(t,e,n){t==="focusin"?(tv(),Wo=e,vl=n,Wo.attachEvent("onpropertychange",M1)):t==="focusout"&&tv()}function mS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qh(vl)}function pS(t,e){if(t==="click")return qh(e)}function gS(t,e){if(t==="input"||t==="change")return qh(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:yS;function _l(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Vf.call(e,r)||!un(t[r],e[r]))return!1}return!0}function nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var n=nv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nv(n)}}function O1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j1(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var vS=Ni&&"documentMode"in document&&11>=document.documentMode,sa=null,qf=null,Zo=null,Hf=!1;function rv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||sa==null||sa!==Fc(i)||(i=sa,"selectionStart"in i&&yp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zo&&_l(Zo,i)||(Zo=i,i=ah(qf,"onSelect"),0<i.length&&(e=new Bh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=sa)))}function Zr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Qd={},P1={};Ni&&(P1=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function As(t){if(Qd[t])return Qd[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P1)return Qd[t]=e[n];return t}var V1=As("animationend"),L1=As("animationiteration"),U1=As("animationstart"),_S=As("transitionrun"),bS=As("transitionstart"),ES=As("transitioncancel"),z1=As("transitionend"),B1=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Ln(t,e){B1.set(t,e),xs(e,[t])}var sv=new WeakMap;function vn(t,e){if(typeof t=="object"&&t!==null){var n=sv.get(t);return n!==void 0?n:(e={value:t,source:e,stack:qy(e)},sv.set(t,e),e)}return{value:t,source:e,stack:qy(e)}}var fn=[],oa=0,vp=0;function Hh(){for(var t=oa,e=vp=oa=0;e<t;){var n=fn[e];fn[e++]=null;var i=fn[e];fn[e++]=null;var r=fn[e];fn[e++]=null;var s=fn[e];if(fn[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&F1(n,r,s)}}function Gh(t,e,n,i){fn[oa++]=t,fn[oa++]=e,fn[oa++]=n,fn[oa++]=i,vp|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function _p(t,e,n,i){return Gh(t,e,n,i),qc(t)}function Ya(t,e){return Gh(t,null,null,e),qc(t)}function F1(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-an(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function qc(t){if(50<ll)throw ll=0,dm=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var la={};function TS(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,i){return new TS(t,e,n,i)}function bp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function q1(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function pc(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")bp(t)&&(a=1);else if(typeof t=="string")a=xA(t,n,$n.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Mf:return t=rn(31,n,e,r),t.elementType=Mf,t.lanes=s,t;case ea:return as(n.children,r,s,e);case l1:a=8,r|=24;break;case If:return t=rn(12,n,e,r|2),t.elementType=If,t.lanes=s,t;case kf:return t=rn(13,n,e,r),t.elementType=kf,t.lanes=s,t;case Df:return t=rn(19,n,e,r),t.elementType=Df,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dx:case yi:a=10;break e;case u1:a=9;break e;case ap:a=11;break e;case op:a=14;break e;case or:a=16,i=null;break e}a=29,n=Error(F(130,t===null?"null":typeof t,"")),i=null}return e=rn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function as(t,e,n,i){return t=rn(7,t,i,e),t.lanes=n,t}function Yd(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ua=[],ca=0,Hc=null,Gc=0,pn=[],gn=0,os=null,vi=1,_i="";function es(t,e){ua[ca++]=Gc,ua[ca++]=Hc,Hc=t,Gc=e}function H1(t,e,n){pn[gn++]=vi,pn[gn++]=_i,pn[gn++]=os,os=t;var i=vi;t=_i;var r=32-an(i)-1;i&=~(1<<r),n+=1;var s=32-an(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,vi=1<<32-an(e)+r|n<<r|i,_i=s+t}else vi=1<<s|n<<r|i,_i=t}function Ep(t){t.return!==null&&(es(t,1),H1(t,1,0))}function Tp(t){for(;t===Hc;)Hc=ua[--ca],ua[ca]=null,Gc=ua[--ca],ua[ca]=null;for(;t===os;)os=pn[--gn],pn[gn]=null,_i=pn[--gn],pn[gn]=null,vi=pn[--gn],pn[gn]=null}var Ut=null,et=null,Se=!1,ls=null,Hn=!1,$f=Error(F(519));function ms(t){var e=Error(F(418,""));throw bl(vn(e,t)),$f}function av(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Pt]=t,e[Xt]=i,n){case"dialog":ge("cancel",e),ge("close",e);break;case"iframe":case"object":case"embed":ge("load",e);break;case"video":case"audio":for(n=0;n<wl.length;n++)ge(wl[n],e);break;case"source":ge("error",e);break;case"img":case"image":case"link":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"input":ge("invalid",e),T1(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Bc(e);break;case"select":ge("invalid",e);break;case"textarea":ge("invalid",e),x1(e,i.value,i.defaultValue,i.children),Bc(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||SE(e.textContent,n)?(i.popover!=null&&(ge("beforetoggle",e),ge("toggle",e)),i.onScroll!=null&&ge("scroll",e),i.onScrollEnd!=null&&ge("scrollend",e),i.onClick!=null&&(e.onclick=Jh),e=!0):e=!1,e||ms(t)}function ov(t){for(Ut=t.return;Ut;)switch(Ut.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ut=Ut.return}}function Oo(t){if(t!==Ut)return!1;if(!Se)return ov(t),Se=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||vm(t.type,t.memoizedProps)),n=!n),n&&et&&ms(t),ov(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){et=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}et=null}}else e===27?(e=et,$r(t.type)?(t=Em,Em=null,et=t):et=e):et=Ut?jn(t.stateNode.nextSibling):null;return!0}function $l(){et=Ut=null,Se=!1}function lv(){var t=ls;return t!==null&&(Yt===null?Yt=t:Yt.push.apply(Yt,t),ls=null),t}function bl(t){ls===null?ls=[t]:ls.push(t)}var Qf=ii(null),Cs=null,bi=null;function ur(t,e,n){Ge(Qf,e._currentValue),e._currentValue=n}function Si(t){t._currentValue=Qf.current,wt(Qf)}function Yf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Kf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yf(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(F(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Yf(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Ql(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(F(387));if(a=a.memoizedProps,a!==null){var l=r.type;un(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Vc.current){if(a=r.alternate,a===null)throw Error(F(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}r=r.return}t!==null&&Kf(e,t,n,i),e.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ps(t){Cs=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vt(t){return G1(Cs,t)}function $u(t,e){return Cs===null&&ps(t),G1(t,e)}function G1(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},bi===null){if(t===null)throw Error(F(308));bi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else bi=bi.next=e;return n}var wS=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},xS=gt.unstable_scheduleCallback,SS=gt.unstable_NormalPriority,ft={$$typeof:yi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new wS,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&xS(SS,function(){t.controller.abort()})}var Jo=null,Xf=0,Ia=0,ga=null;function AS(t,e){if(Jo===null){var n=Jo=[];Xf=0,Ia=$p(),ga={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Xf++,e.then(uv,uv),e}function uv(){if(--Xf===0&&Jo!==null){ga!==null&&(ga.status="fulfilled");var t=Jo;Jo=null,Ia=0,ga=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function CS(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var cv=ae.S;ae.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&AS(t,e),cv!==null&&cv(t,e)};var us=ii(null);function xp(){var t=us.current;return t!==null?t:Ue.pooledCache}function gc(t,e){e===null?Ge(us,us.current):Ge(us,e.pool)}function $1(){var t=xp();return t===null?null:{parent:ft._currentValue,pool:t}}var Kl=Error(F(460)),Q1=Error(F(474)),$h=Error(F(542)),Wf={then:function(){}};function hv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Y1(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Qu,Qu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fv(t),t;default:if(typeof e.status=="string")e.then(Qu,Qu);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fv(t),t}throw el=e,Kl}}var el=null;function dv(){if(el===null)throw Error(F(459));var t=el;return el=null,t}function fv(t){if(t===Kl||t===$h)throw Error(F(483))}var lr=!1;function Sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=qc(t),F1(t,null,n),e}return Gh(t,i,e,n),qc(t)}function tl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,g1(t,n)}}function Xd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Jf=!1;function nl(){if(Jf){var t=ga;if(t!==null)throw t}}function il(t,e,n,i){Jf=!1;var r=t.updateQueue;lr=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=h=u=null,l=s;do{var g=l.lane&-536870913,y=g!==l.lane;if(y?(Te&g)===g:(i&g)===g){g!==0&&g===Ia&&(Jf=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var N=t,D=l;g=e;var M=n;switch(D.tag){case 1:if(N=D.payload,typeof N=="function"){m=N.call(M,m,g);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=D.payload,g=typeof N=="function"?N.call(M,m,g):N,g==null)break e;m=Fe({},m,g);break e;case 2:lr=!0}}g=l.callback,g!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[g]:y.push(g))}else y={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,u=m):f=f.next=y,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Vr|=a,t.lanes=a,t.memoizedState=m}}function K1(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function X1(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)K1(n[t],e)}var ka=ii(null),Qc=ii(0);function mv(t,e){t=Di,Ge(Qc,t),Ge(ka,e),Di=t|e.baseLanes}function em(){Ge(Qc,Di),Ge(ka,ka.current)}function Ap(){Di=Qc.current,wt(ka),wt(Qc)}var jr=0,pe=null,Oe=null,lt=null,Yc=!1,ya=!1,gs=!1,Kc=0,El=0,va=null,RS=0;function nt(){throw Error(F(321))}function Cp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Rp(t,e,n,i,r,s){return jr=s,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ae.H=t===null||t.memoizedState===null?Cb:Rb,gs=!1,s=n(i,r),gs=!1,ya&&(s=Z1(e,n,i,r)),W1(t),s}function W1(t){ae.H=Xc;var e=Oe!==null&&Oe.next!==null;if(jr=0,lt=Oe=pe=null,Yc=!1,El=0,va=null,e)throw Error(F(300));t===null||Tt||(t=t.dependencies,t!==null&&$c(t)&&(Tt=!0))}function Z1(t,e,n,i){pe=t;var r=0;do{if(ya&&(va=null),El=0,ya=!1,25<=r)throw Error(F(301));if(r+=1,lt=Oe=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ae.H=jS,s=e(n,i)}while(ya);return s}function NS(){var t=ae.H,e=t.useState()[0];return e=typeof e.then=="function"?Xl(e):e,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(pe.flags|=1024),e}function Np(){var t=Kc!==0;return Kc=0,t}function Ip(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function kp(t){if(Yc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Yc=!1}jr=0,lt=Oe=pe=null,ya=!1,El=Kc=0,va=null}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?pe.memoizedState=lt=t:lt=lt.next=t,lt}function ht(){if(Oe===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=lt===null?pe.memoizedState:lt.next;if(e!==null)lt=e,Oe=t;else{if(t===null)throw pe.alternate===null?Error(F(467)):Error(F(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},lt===null?pe.memoizedState=lt=t:lt=lt.next=t}return lt}function Dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(t){var e=El;return El+=1,va===null&&(va=[]),t=Y1(va,t,e),e=pe,(lt===null?e.memoizedState:lt.next)===null&&(e=e.alternate,ae.H=e===null||e.memoizedState===null?Cb:Rb),t}function Qh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xl(t);if(t.$$typeof===yi)return Vt(t)}throw Error(F(438,String(t)))}function Mp(t){var e=null,n=pe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=pe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dp(),pe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=fx;return e.index++,n}function Ii(t,e){return typeof e=="function"?e(t):e}function yc(t){var e=ht();return Op(e,Oe,t)}function Op(t,e,n){var i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,h=e,f=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(Te&m)===m:(jr&m)===m){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===Ia&&(f=!0);else if((jr&g)===g){h=h.next,g===Ia&&(f=!0);continue}else m={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,pe.lanes|=g,Vr|=g;m=h.action,gs&&n(s,m),s=h.hasEagerState?h.eagerState:n(s,m)}else g={lane:m,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,pe.lanes|=m,Vr|=m;h=h.next}while(h!==null&&h!==e);if(u===null?a=s:u.next=l,!un(s,t.memoizedState)&&(Tt=!0,f&&(n=ga,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Wd(t){var e=ht(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);un(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function J1(t,e,n){var i=pe,r=ht(),s=Se;if(s){if(n===void 0)throw Error(F(407));n=n()}else n=e();var a=!un((Oe||r).memoizedState,n);a&&(r.memoizedState=n,Tt=!0),r=r.queue;var l=nb.bind(null,i,r,t);if(Wl(2048,8,l,[t]),r.getSnapshot!==e||a||lt!==null&&lt.memoizedState.tag&1){if(i.flags|=2048,Da(9,Yh(),tb.bind(null,i,r,n,e),null),Ue===null)throw Error(F(349));s||jr&124||eb(i,e,n)}return n}function eb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e=Dp(),pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tb(t,e,n,i){e.value=n,e.getSnapshot=i,ib(e)&&rb(t)}function nb(t,e,n){return n(function(){ib(e)&&rb(t)})}function ib(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function rb(t){var e=Ya(t,2);e!==null&&ln(e,t,2)}function tm(t){var e=$t();if(typeof t=="function"){var n=t;if(t=n(),gs){yr(!0);try{n()}finally{yr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e}function sb(t,e,n,i){return t.baseState=n,Op(t,Oe,typeof i=="function"?i:Ii)}function IS(t,e,n,i,r){if(Kh(t))throw Error(F(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ae.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,ab(e,s)):(s.next=n.next,e.pending=n.next=s)}}function ab(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=ae.T,a={};ae.T=a;try{var l=n(r,i),u=ae.S;u!==null&&u(a,l),pv(t,e,l)}catch(h){nm(t,e,h)}finally{ae.T=s}}else try{s=n(r,i),pv(t,e,s)}catch(h){nm(t,e,h)}}function pv(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){gv(t,e,i)},function(i){return nm(t,e,i)}):gv(t,e,n)}function gv(t,e,n){e.status="fulfilled",e.value=n,ob(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ab(t,n)))}function nm(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ob(e),e=e.next;while(e!==i)}t.action=null}function ob(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function lb(t,e){return e}function yv(t,e){if(Se){var n=Ue.formState;if(n!==null){e:{var i=pe;if(Se){if(et){t:{for(var r=et,s=Hn;r.nodeType!==8;){if(!s){r=null;break t}if(r=jn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){et=jn(r.nextSibling),i=r.data==="F!";break e}}ms(i)}i=!1}i&&(e=n[0])}}return n=$t(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lb,lastRenderedState:e},n.queue=i,n=xb.bind(null,pe,i),i.dispatch=n,i=tm(!1),s=Lp.bind(null,pe,!1,i.queue),i=$t(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=IS.bind(null,pe,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function vv(t){var e=ht();return ub(e,Oe,t)}function ub(t,e,n){if(e=Op(t,e,lb)[0],t=yc(Ii)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Xl(e)}catch(a){throw a===Kl?$h:a}else i=e;e=ht();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(pe.flags|=2048,Da(9,Yh(),kS.bind(null,r,n),null)),[i,s,t]}function kS(t,e){t.action=e}function _v(t){var e=ht(),n=Oe;if(n!==null)return ub(e,n,t);ht(),e=e.memoizedState,n=ht();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Da(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=pe.updateQueue,e===null&&(e=Dp(),pe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Yh(){return{destroy:void 0,resource:void 0}}function cb(){return ht().memoizedState}function vc(t,e,n,i){var r=$t();i=i===void 0?null:i,pe.flags|=t,r.memoizedState=Da(1|e,Yh(),n,i)}function Wl(t,e,n,i){var r=ht();i=i===void 0?null:i;var s=r.memoizedState.inst;Oe!==null&&i!==null&&Cp(i,Oe.memoizedState.deps)?r.memoizedState=Da(e,s,n,i):(pe.flags|=t,r.memoizedState=Da(1|e,s,n,i))}function bv(t,e){vc(8390656,8,t,e)}function hb(t,e){Wl(2048,8,t,e)}function db(t,e){return Wl(4,2,t,e)}function fb(t,e){return Wl(4,4,t,e)}function mb(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pb(t,e,n){n=n!=null?n.concat([t]):null,Wl(4,4,mb.bind(null,e,t),n)}function jp(){}function gb(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Cp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function yb(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Cp(e,i[1]))return i[0];if(i=t(),gs){yr(!0);try{t()}finally{yr(!1)}}return n.memoizedState=[i,e],i}function Pp(t,e,n){return n===void 0||jr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=oE(),pe.lanes|=t,Vr|=t,n)}function vb(t,e,n,i){return un(n,e)?n:ka.current!==null?(t=Pp(t,n,i),un(t,e)||(Tt=!0),t):jr&42?(t=oE(),pe.lanes|=t,Vr|=t,e):(Tt=!0,t.memoizedState=n)}function _b(t,e,n,i,r){var s=Ae.p;Ae.p=s!==0&&8>s?s:8;var a=ae.T,l={};ae.T=l,Lp(t,!1,e,n);try{var u=r(),h=ae.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=CS(u,i);rl(t,e,f,on(t))}else rl(t,e,i,on(t))}catch(m){rl(t,e,{then:function(){},status:"rejected",reason:m},on())}finally{Ae.p=s,ae.T=a}}function DS(){}function im(t,e,n,i){if(t.tag!==5)throw Error(F(476));var r=bb(t).queue;_b(t,r,e,ss,n===null?DS:function(){return Eb(t),n(i)})}function bb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ss,baseState:ss,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ss},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Eb(t){var e=bb(t).next.queue;rl(t,e,{},on())}function Vp(){return Vt(Al)}function Tb(){return ht().memoizedState}function wb(){return ht().memoizedState}function MS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=on();t=wr(n);var i=xr(e,t,n);i!==null&&(ln(i,e,n),tl(i,e,n)),e={cache:wp()},t.payload=e;return}e=e.return}}function OS(t,e,n){var i=on();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Kh(t)?Sb(e,n):(n=_p(t,e,n,i),n!==null&&(ln(n,t,i),Ab(n,e,i)))}function xb(t,e,n){var i=on();rl(t,e,n,i)}function rl(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kh(t))Sb(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,un(l,a))return Gh(t,e,r,0),Ue===null&&Hh(),!1}catch{}finally{}if(n=_p(t,e,r,i),n!==null)return ln(n,t,i),Ab(n,e,i),!0}return!1}function Lp(t,e,n,i){if(i={lane:2,revertLane:$p(),action:i,hasEagerState:!1,eagerState:null,next:null},Kh(t)){if(e)throw Error(F(479))}else e=_p(t,n,i,2),e!==null&&ln(e,t,2)}function Kh(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Sb(t,e){ya=Yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ab(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,g1(t,n)}}var Xc={readContext:Vt,use:Qh,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},Cb={readContext:Vt,use:Qh,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:Vt,useEffect:bv,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,vc(4194308,4,mb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){vc(4,2,t,e)},useMemo:function(t,e){var n=$t();e=e===void 0?null:e;var i=t();if(gs){yr(!0);try{t()}finally{yr(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=$t();if(n!==void 0){var r=n(e);if(gs){yr(!0);try{n(e)}finally{yr(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=OS.bind(null,pe,t),[i.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:function(t){t=tm(t);var e=t.queue,n=xb.bind(null,pe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:jp,useDeferredValue:function(t,e){var n=$t();return Pp(n,t,e)},useTransition:function(){var t=tm(!1);return t=_b.bind(null,pe,t.queue,!0,!1),$t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=pe,r=$t();if(Se){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Ue===null)throw Error(F(349));Te&124||eb(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,bv(nb.bind(null,i,s,t),[t]),i.flags|=2048,Da(9,Yh(),tb.bind(null,i,s,n,e),null),n},useId:function(){var t=$t(),e=Ue.identifierPrefix;if(Se){var n=_i,i=vi;n=(i&~(1<<32-an(i)-1)).toString(32)+n,e=""+e+"R"+n,n=Kc++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=RS++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Vp,useFormState:yv,useActionState:yv,useOptimistic:function(t){var e=$t();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Lp.bind(null,pe,!0,n),n.dispatch=e,[t,e]},useMemoCache:Mp,useCacheRefresh:function(){return $t().memoizedState=MS.bind(null,pe)}},Rb={readContext:Vt,use:Qh,useCallback:gb,useContext:Vt,useEffect:hb,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:fb,useMemo:yb,useReducer:yc,useRef:cb,useState:function(){return yc(Ii)},useDebugValue:jp,useDeferredValue:function(t,e){var n=ht();return vb(n,Oe.memoizedState,t,e)},useTransition:function(){var t=yc(Ii)[0],e=ht().memoizedState;return[typeof t=="boolean"?t:Xl(t),e]},useSyncExternalStore:J1,useId:Tb,useHostTransitionStatus:Vp,useFormState:vv,useActionState:vv,useOptimistic:function(t,e){var n=ht();return sb(n,Oe,t,e)},useMemoCache:Mp,useCacheRefresh:wb},jS={readContext:Vt,use:Qh,useCallback:gb,useContext:Vt,useEffect:hb,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:fb,useMemo:yb,useReducer:Wd,useRef:cb,useState:function(){return Wd(Ii)},useDebugValue:jp,useDeferredValue:function(t,e){var n=ht();return Oe===null?Pp(n,t,e):vb(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Wd(Ii)[0],e=ht().memoizedState;return[typeof t=="boolean"?t:Xl(t),e]},useSyncExternalStore:J1,useId:Tb,useHostTransitionStatus:Vp,useFormState:_v,useActionState:_v,useOptimistic:function(t,e){var n=ht();return Oe!==null?sb(n,Oe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Mp,useCacheRefresh:wb},_a=null,Tl=0;function Yu(t){var e=Tl;return Tl+=1,_a===null&&(_a=[]),Y1(_a,t,e)}function jo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ku(t,e){throw e.$$typeof===hx?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ev(t){var e=t._init;return e(t._payload)}function Nb(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function i(x){for(var b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function r(x,b){return x=xi(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=67108866,b):w):(x.flags|=67108866,b)):(x.flags|=1048576,b)}function a(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function l(x,b,w,I){return b===null||b.tag!==6?(b=Yd(w,x.mode,I),b.return=x,b):(b=r(b,w),b.return=x,b)}function u(x,b,w,I){var L=w.type;return L===ea?f(x,b,w.props.children,I,w.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===or&&Ev(L)===b.type)?(b=r(b,w.props),jo(b,w),b.return=x,b):(b=pc(w.type,w.key,w.props,null,x.mode,I),jo(b,w),b.return=x,b)}function h(x,b,w,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Kd(w,x.mode,I),b.return=x,b):(b=r(b,w.children||[]),b.return=x,b)}function f(x,b,w,I,L){return b===null||b.tag!==7?(b=as(w,x.mode,I,L),b.return=x,b):(b=r(b,w),b.return=x,b)}function m(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Yd(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bu:return w=pc(b.type,b.key,b.props,null,x.mode,w),jo(w,b),w.return=x,w;case zo:return b=Kd(b,x.mode,w),b.return=x,b;case or:var I=b._init;return b=I(b._payload),m(x,b,w)}if(Bo(b)||ko(b))return b=as(b,x.mode,w,null),b.return=x,b;if(typeof b.then=="function")return m(x,Yu(b),w);if(b.$$typeof===yi)return m(x,$u(x,b),w);Ku(x,b)}return null}function g(x,b,w,I){var L=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return L!==null?null:l(x,b,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:return w.key===L?u(x,b,w,I):null;case zo:return w.key===L?h(x,b,w,I):null;case or:return L=w._init,w=L(w._payload),g(x,b,w,I)}if(Bo(w)||ko(w))return L!==null?null:f(x,b,w,I,null);if(typeof w.then=="function")return g(x,b,Yu(w),I);if(w.$$typeof===yi)return g(x,b,$u(x,w),I);Ku(x,w)}return null}function y(x,b,w,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return x=x.get(w)||null,l(b,x,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Bu:return x=x.get(I.key===null?w:I.key)||null,u(b,x,I,L);case zo:return x=x.get(I.key===null?w:I.key)||null,h(b,x,I,L);case or:var H=I._init;return I=H(I._payload),y(x,b,w,I,L)}if(Bo(I)||ko(I))return x=x.get(w)||null,f(b,x,I,L,null);if(typeof I.then=="function")return y(x,b,w,Yu(I),L);if(I.$$typeof===yi)return y(x,b,w,$u(b,I),L);Ku(b,I)}return null}function N(x,b,w,I){for(var L=null,H=null,_=b,E=b=0,A=null;_!==null&&E<w.length;E++){_.index>E?(A=_,_=null):A=_.sibling;var v=g(x,_,w[E],I);if(v===null){_===null&&(_=A);break}t&&_&&v.alternate===null&&e(x,_),b=s(v,b,E),H===null?L=v:H.sibling=v,H=v,_=A}if(E===w.length)return n(x,_),Se&&es(x,E),L;if(_===null){for(;E<w.length;E++)_=m(x,w[E],I),_!==null&&(b=s(_,b,E),H===null?L=_:H.sibling=_,H=_);return Se&&es(x,E),L}for(_=i(_);E<w.length;E++)A=y(_,x,E,w[E],I),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?E:A.key),b=s(A,b,E),H===null?L=A:H.sibling=A,H=A);return t&&_.forEach(function(R){return e(x,R)}),Se&&es(x,E),L}function D(x,b,w,I){if(w==null)throw Error(F(151));for(var L=null,H=null,_=b,E=b=0,A=null,v=w.next();_!==null&&!v.done;E++,v=w.next()){_.index>E?(A=_,_=null):A=_.sibling;var R=g(x,_,v.value,I);if(R===null){_===null&&(_=A);break}t&&_&&R.alternate===null&&e(x,_),b=s(R,b,E),H===null?L=R:H.sibling=R,H=R,_=A}if(v.done)return n(x,_),Se&&es(x,E),L;if(_===null){for(;!v.done;E++,v=w.next())v=m(x,v.value,I),v!==null&&(b=s(v,b,E),H===null?L=v:H.sibling=v,H=v);return Se&&es(x,E),L}for(_=i(_);!v.done;E++,v=w.next())v=y(_,x,E,v.value,I),v!==null&&(t&&v.alternate!==null&&_.delete(v.key===null?E:v.key),b=s(v,b,E),H===null?L=v:H.sibling=v,H=v);return t&&_.forEach(function(k){return e(x,k)}),Se&&es(x,E),L}function M(x,b,w,I){if(typeof w=="object"&&w!==null&&w.type===ea&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:e:{for(var L=w.key;b!==null;){if(b.key===L){if(L=w.type,L===ea){if(b.tag===7){n(x,b.sibling),I=r(b,w.props.children),I.return=x,x=I;break e}}else if(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===or&&Ev(L)===b.type){n(x,b.sibling),I=r(b,w.props),jo(I,w),I.return=x,x=I;break e}n(x,b);break}else e(x,b);b=b.sibling}w.type===ea?(I=as(w.props.children,x.mode,I,w.key),I.return=x,x=I):(I=pc(w.type,w.key,w.props,null,x.mode,I),jo(I,w),I.return=x,x=I)}return a(x);case zo:e:{for(L=w.key;b!==null;){if(b.key===L)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),I=r(b,w.children||[]),I.return=x,x=I;break e}else{n(x,b);break}else e(x,b);b=b.sibling}I=Kd(w,x.mode,I),I.return=x,x=I}return a(x);case or:return L=w._init,w=L(w._payload),M(x,b,w,I)}if(Bo(w))return N(x,b,w,I);if(ko(w)){if(L=ko(w),typeof L!="function")throw Error(F(150));return w=L.call(w),D(x,b,w,I)}if(typeof w.then=="function")return M(x,b,Yu(w),I);if(w.$$typeof===yi)return M(x,b,$u(x,w),I);Ku(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),I=r(b,w),I.return=x,x=I):(n(x,b),I=Yd(w,x.mode,I),I.return=x,x=I),a(x)):n(x,b)}return function(x,b,w,I){try{Tl=0;var L=M(x,b,w,I);return _a=null,L}catch(_){if(_===Kl||_===$h)throw _;var H=rn(29,_,null,x.mode);return H.lanes=I,H.return=x,H}finally{}}}var Ma=Nb(!0),Ib=Nb(!1),wn=ii(null),Yn=null;function cr(t){var e=t.alternate;Ge(mt,mt.current&1),Ge(wn,t),Yn===null&&(e===null||ka.current!==null||e.memoizedState!==null)&&(Yn=t)}function kb(t){if(t.tag===22){if(Ge(mt,mt.current),Ge(wn,t),Yn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Yn=t)}}else hr()}function hr(){Ge(mt,mt.current),Ge(wn,wn.current)}function Ei(t){wt(wn),Yn===t&&(Yn=null),wt(mt)}var mt=ii(0);function Wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||bm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Zd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rm={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=on(),r=wr(i);r.payload=e,n!=null&&(r.callback=n),e=xr(t,r,i),e!==null&&(ln(e,t,i),tl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=on(),r=wr(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=xr(t,r,i),e!==null&&(ln(e,t,i),tl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),i=wr(n);i.tag=2,e!=null&&(i.callback=e),e=xr(t,i,n),e!==null&&(ln(e,t,n),tl(e,t,n))}};function Tv(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!_l(n,i)||!_l(r,s):!0}function wv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&rm.enqueueReplaceState(e,e.state,null)}function ys(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Fe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Db(t){Zc(t)}function Mb(t){console.error(t)}function Ob(t){Zc(t)}function Jc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function xv(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function sm(t,e,n){return n=wr(n),n.tag=3,n.payload={element:null},n.callback=function(){Jc(t,e)},n}function jb(t){return t=wr(t),t.tag=3,t}function Pb(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){xv(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){xv(e,n,i),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function PS(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Ql(e,n,r,!0),n=wn.current,n!==null){switch(n.tag){case 13:return Yn===null?fm():n.alternate===null&&tt===0&&(tt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Wf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),cf(t,i,r)),!1;case 22:return n.flags|=65536,i===Wf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),cf(t,i,r)),!1}throw Error(F(435,n.tag))}return cf(t,i,r),fm(),!1}if(Se)return e=wn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==$f&&(t=Error(F(422),{cause:i}),bl(vn(t,n)))):(i!==$f&&(e=Error(F(423),{cause:i}),bl(vn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=vn(i,n),r=sm(t.stateNode,i,r),Xd(t,r),tt!==4&&(tt=2)),!1;var s=Error(F(520),{cause:i});if(s=vn(s,n),ol===null?ol=[s]:ol.push(s),tt!==4&&(tt=2),e===null)return!0;i=vn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=sm(n.stateNode,i,t),Xd(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Sr===null||!Sr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=jb(r),Pb(r,t,n,i),Xd(n,r),!1}n=n.return}while(n!==null);return!1}var Vb=Error(F(461)),Tt=!1;function St(t,e,n,i){e.child=t===null?Ib(e,null,n,i):Ma(e,t.child,n,i)}function Sv(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return ps(e),i=Rp(t,e,n,a,s,r),l=Np(),t!==null&&!Tt?(Ip(t,e,r),ki(t,e,r)):(Se&&l&&Ep(e),e.flags|=1,St(t,e,i,r),e.child)}function Av(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!bp(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Lb(t,e,s,i,r)):(t=pc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Up(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(a,i)&&t.ref===e.ref)return ki(t,e,r)}return e.flags|=1,t=xi(s,i),t.ref=e.ref,t.return=e,e.child=t}function Lb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(_l(s,i)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=i=s,Up(t,r))t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,ki(t,e,r)}return am(t,e,n,i,r)}function Ub(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Cv(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(e,s!==null?s.cachePool:null),s!==null?mv(e,s):em(),kb(e);else return e.lanes=e.childLanes=536870912,Cv(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(gc(e,s.cachePool),mv(e,s),hr(),e.memoizedState=null):(t!==null&&gc(e,null),em(),hr());return St(t,e,r,n),e.child}function Cv(t,e,n,i){var r=xp();return r=r===null?null:{parent:ft._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&gc(e,null),em(),kb(e),t!==null&&Ql(t,e,i,!0),null}function _c(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function am(t,e,n,i,r){return ps(e),n=Rp(t,e,n,i,void 0,r),i=Np(),t!==null&&!Tt?(Ip(t,e,r),ki(t,e,r)):(Se&&i&&Ep(e),e.flags|=1,St(t,e,n,r),e.child)}function Rv(t,e,n,i,r,s){return ps(e),e.updateQueue=null,n=Z1(e,i,n,r),W1(t),i=Np(),t!==null&&!Tt?(Ip(t,e,s),ki(t,e,s)):(Se&&i&&Ep(e),e.flags|=1,St(t,e,n,s),e.child)}function Nv(t,e,n,i,r){if(ps(e),e.stateNode===null){var s=la,a=n.contextType;typeof a=="object"&&a!==null&&(s=Vt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rm,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Sp(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Vt(a):la,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Zd(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&rm.enqueueReplaceState(s,s.state,null),il(e,i,s,r),nl(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=ys(n,l);s.props=u;var h=s.context,f=n.contextType;a=la,typeof f=="object"&&f!==null&&(a=Vt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&wv(e,s,i,a),lr=!1;var g=e.memoizedState;s.state=g,il(e,i,s,r),nl(),h=e.memoizedState,l||g!==h||lr?(typeof m=="function"&&(Zd(e,n,m,i),h=e.memoizedState),(u=lr||Tv(e,n,u,i,g,h,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Zf(t,e),a=e.memoizedProps,f=ys(n,a),s.props=f,m=e.pendingProps,g=s.context,h=n.contextType,u=la,typeof h=="object"&&h!==null&&(u=Vt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||g!==u)&&wv(e,s,i,u),lr=!1,g=e.memoizedState,s.state=g,il(e,i,s,r),nl();var y=e.memoizedState;a!==m||g!==y||lr||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof l=="function"&&(Zd(e,n,l,i),y=e.memoizedState),(f=lr||Tv(e,n,f,i,g,y,u)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,_c(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Ma(e,t.child,null,r),e.child=Ma(e,null,n,r)):St(t,e,n,r),e.memoizedState=s.state,t=e.child):t=ki(t,e,r),t}function Iv(t,e,n,i){return $l(),e.flags|=256,St(t,e,n,i),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:$1()}}function tf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Tn),t}function zb(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Se){if(r?cr(e):hr(),Se){var l=et,u;if(u=l){e:{for(u=l,l=Hn;u.nodeType!==8;){if(!l){l=null;break e}if(u=jn(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:os!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=rn(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Ut=e,et=null,u=!0):u=!1}u||ms(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return bm(l)?e.lanes=32:e.lanes=536870912,null;Ei(e)}return l=i.children,i=i.fallback,r?(hr(),r=e.mode,l=eh({mode:"hidden",children:l},r),i=as(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,r=e.child,r.memoizedState=ef(n),r.childLanes=tf(t,a,n),e.memoizedState=Jd,i):(cr(e),om(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(cr(e),e.flags&=-257,e=nf(t,e,n)):e.memoizedState!==null?(hr(),e.child=t.child,e.flags|=128,e=null):(hr(),r=i.fallback,l=e.mode,i=eh({mode:"visible",children:i.children},l),r=as(r,l,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,Ma(e,t.child,null,n),i=e.child,i.memoizedState=ef(n),i.childLanes=tf(t,a,n),e.memoizedState=Jd,e=r);else if(cr(e),bm(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(F(419)),i.stack="",i.digest=a,bl({value:i,source:null,stack:null}),e=nf(t,e,n)}else if(Tt||Ql(t,e,n,!1),a=(n&t.childLanes)!==0,Tt||a){if(a=Ue,a!==null&&(i=n&-n,i=i&42?1:up(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ya(t,i),ln(a,t,i),Vb;l.data==="$?"||fm(),e=nf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,et=jn(l.nextSibling),Ut=e,Se=!0,ls=null,Hn=!1,t!==null&&(pn[gn++]=vi,pn[gn++]=_i,pn[gn++]=os,vi=t.id,_i=t.overflow,os=e),e=om(e,i.children),e.flags|=4096);return e}return r?(hr(),r=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=xi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=xi(h,r):(r=as(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l===null?l=ef(n):(u=l.cachePool,u!==null?(h=ft._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=$1(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=tf(t,a,n),e.memoizedState=Jd,i):(cr(e),n=t.child,t=n.sibling,n=xi(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function om(t,e){return e=eh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function eh(t,e){return t=rn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,e,n){return Ma(e,t.child,null,n),t=om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Yf(t.return,e,n)}function rf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Bb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(St(t,e,i.children,n),i=mt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,n,e);else if(t.tag===19)kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Ge(mt,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Wc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),rf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Wc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}rf(e,!0,n,null,s);break;case"together":rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ql(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Up(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function VS(t,e,n){switch(e.tag){case 3:Lc(e,e.stateNode.containerInfo),ur(e,ft,t.memoizedState.cache),$l();break;case 27:case 5:Pf(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:ur(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(cr(e),e.flags|=128,null):n&e.child.childLanes?zb(t,e,n):(cr(e),t=ki(t,e,n),t!==null?t.sibling:null);cr(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Ql(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return Bb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ge(mt,mt.current),i)break;return null;case 22:case 23:return e.lanes=0,Ub(t,e,n);case 24:ur(e,ft,t.memoizedState.cache)}return ki(t,e,n)}function Fb(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Tt=!0;else{if(!Up(t,n)&&!(e.flags&128))return Tt=!1,VS(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Se&&e.flags&1048576&&H1(e,Gc,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")bp(i)?(t=ys(i,t),e.tag=1,e=Nv(null,e,i,t,n)):(e.tag=0,e=am(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===ap){e.tag=11,e=Sv(null,e,i,t,n);break e}else if(r===op){e.tag=14,e=Av(null,e,i,t,n);break e}}throw e=Of(i)||i,Error(F(306,e,""))}}return e;case 0:return am(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=ys(i,e.pendingProps),Nv(t,e,i,r,n);case 3:e:{if(Lc(e,e.stateNode.containerInfo),t===null)throw Error(F(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,Zf(t,e),il(e,i,null,n);var a=e.memoizedState;if(i=a.cache,ur(e,ft,i),i!==s.cache&&Kf(e,[ft],n,!0),nl(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Iv(t,e,i,n);break e}else if(i!==r){r=vn(Error(F(424)),e),bl(r),e=Iv(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=jn(t.firstChild),Ut=e,Se=!0,ls=null,Hn=!0,n=Ib(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($l(),i===r){e=ki(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 26:return _c(t,e),t===null?(n=Yv(e.type,null,e.pendingProps,null))?e.memoizedState=n:Se||(n=e.type,t=e.pendingProps,i=oh(Tr.current).createElement(n),i[Pt]=e,i[Xt]=t,Nt(i,n,t),Et(i),e.stateNode=i):e.memoizedState=Yv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Pf(e),t===null&&Se&&(i=e.stateNode=RE(e.type,e.pendingProps,Tr.current),Ut=e,Hn=!0,r=et,$r(e.type)?(Em=r,et=jn(i.firstChild)):et=r),St(t,e,e.pendingProps.children,n),_c(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Se&&((r=i=et)&&(i=hA(i,e.type,e.pendingProps,Hn),i!==null?(e.stateNode=i,Ut=e,et=jn(i.firstChild),Hn=!1,r=!0):r=!1),r||ms(e)),Pf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,vm(r,s)?i=null:a!==null&&vm(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Rp(t,e,NS,null,null,n),Al._currentValue=r),_c(t,e),St(t,e,i,n),e.child;case 6:return t===null&&Se&&((t=n=et)&&(n=dA(n,e.pendingProps,Hn),n!==null?(e.stateNode=n,Ut=e,et=null,t=!0):t=!1),t||ms(e)),null;case 13:return zb(t,e,n);case 4:return Lc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ma(e,null,i,n):St(t,e,i,n),e.child;case 11:return Sv(t,e,e.type,e.pendingProps,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,ur(e,e.type,i.value),St(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,ps(e),r=Vt(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return Av(t,e,e.type,e.pendingProps,n);case 15:return Lb(t,e,e.type,e.pendingProps,n);case 19:return Bb(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=eh(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=xi(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Ub(t,e,n);case 24:return ps(e),i=Vt(ft),t===null?(r=xp(),r===null&&(r=Ue,s=wp(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Sp(e),ur(e,ft,r)):(t.lanes&n&&(Zf(t,e),il(e,null,null,n),nl()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ur(e,ft,i)):(i=s.cache,ur(e,ft,i),i!==r.cache&&Kf(e,[ft],n,!0))),St(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function mi(t){t.flags|=4}function Dv(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kE(e)){if(e=wn.current,e!==null&&((Te&4194048)===Te?Yn!==null:(Te&62914560)!==Te&&!(Te&536870912)||e!==Yn))throw el=Wf,Q1;t.flags|=8192}}function Xu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?m1():536870912,t.lanes|=e,Oa|=e)}function Po(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function LS(t,e,n){var i=e.pendingProps;switch(Tp(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return Ke(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Si(ft),Ca(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Oo(e)?mi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lv())),Ke(e),null;case 26:return n=e.memoizedState,t===null?(mi(e),n!==null?(Ke(e),Dv(e,n)):(Ke(e),e.flags&=-16777217)):n?n!==t.memoizedState?(mi(e),Ke(e),Dv(e,n)):(Ke(e),e.flags&=-16777217):(t.memoizedProps!==i&&mi(e),Ke(e),e.flags&=-16777217),null;case 27:Uc(e),n=Tr.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&mi(e);else{if(!i){if(e.stateNode===null)throw Error(F(166));return Ke(e),null}t=$n.current,Oo(e)?av(e):(t=RE(r,i,n),e.stateNode=t,mi(e))}return Ke(e),null;case 5:if(Uc(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&mi(e);else{if(!i){if(e.stateNode===null)throw Error(F(166));return Ke(e),null}if(t=$n.current,Oo(e))av(e);else{switch(r=oh(Tr.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Pt]=e,t[Xt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Nt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(e)}}return Ke(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&mi(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(t=Tr.current,Oo(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Ut,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Pt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||SE(t.nodeValue,n)),t||ms(e)}else t=oh(t).createTextNode(i),t[Pt]=e,e.stateNode=t}return Ke(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Oo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(F(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(F(317));r[Pt]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),r=!1}else r=lv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ei(e),e):(Ei(e),null)}if(Ei(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Xu(e,e.updateQueue),Ke(e),null;case 4:return Ca(),t===null&&Qp(e.stateNode.containerInfo),Ke(e),null;case 10:return Si(e.type),Ke(e),null;case 19:if(wt(mt),r=e.memoizedState,r===null)return Ke(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Po(r,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wc(t),s!==null){for(e.flags|=128,Po(r,!1),t=s.updateQueue,e.updateQueue=t,Xu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)q1(n,t),n=n.sibling;return Ge(mt,mt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Qn()>nh&&(e.flags|=128,i=!0,Po(r,!1),e.lanes=4194304)}else{if(!i)if(t=Wc(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Xu(e,t),Po(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Se)return Ke(e),null}else 2*Qn()-r.renderingStartTime>nh&&n!==536870912&&(e.flags|=128,i=!0,Po(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qn(),e.sibling=null,t=mt.current,Ge(mt,i?t&1|2:t&1),e):(Ke(e),null);case 22:case 23:return Ei(e),Ap(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),n=e.updateQueue,n!==null&&Xu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&wt(us),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Si(ft),Ke(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function US(t,e){switch(Tp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Si(ft),Ca(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Uc(e),null;case 13:if(Ei(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(mt),null;case 4:return Ca(),null;case 10:return Si(e.type),null;case 22:case 23:return Ei(e),Ap(),t!==null&&wt(us),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Si(ft),null;case 25:return null;default:return null}}function qb(t,e){switch(Tp(e),e.tag){case 3:Si(ft),Ca();break;case 26:case 27:case 5:Uc(e);break;case 4:Ca();break;case 13:Ei(e);break;case 19:wt(mt);break;case 10:Si(e.type);break;case 22:case 23:Ei(e),Ap(),t!==null&&wt(us);break;case 24:Si(ft)}}function Zl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Ve(e,e.return,l)}}function Pr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,h=l;try{h()}catch(f){Ve(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){Ve(e,e.return,f)}}function Hb(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{X1(e,n)}catch(i){Ve(t,t.return,i)}}}function Gb(t,e,n){n.props=ys(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ve(t,e,i)}}function sl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){Ve(t,e,r)}}function Gn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Ve(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function $b(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ve(t,t.return,r)}}function sf(t,e,n){try{var i=t.stateNode;aA(i,t.type,n,e),i[Xt]=e}catch(r){Ve(t,t.return,r)}}function Qb(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jh));else if(i!==4&&(i===27&&$r(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}function th(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&$r(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}function Yb(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Nt(e,i,n),e[Pt]=t,e[Xt]=n}catch(s){Ve(t,t.return,s)}}var gi=!1,it=!1,of=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,bt=null;function zS(t,e){if(t=t.containerInfo,gm=hh,t=j1(t),yp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++h===r&&(l=a),g===s&&++f===i&&(u=a),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ym={focusedElem:t,selectionRange:n},hh=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){switch(e=bt,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=ys(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){Ve(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)_m(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function Kb(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ir(t,n),i&4&&Zl(5,n);break;case 1:if(ir(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ve(n,n.return,a)}else{var r=ys(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ve(n,n.return,a)}}i&64&&Hb(n),i&512&&sl(n,n.return);break;case 3:if(ir(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{X1(t,e)}catch(a){Ve(n,n.return,a)}}break;case 27:e===null&&i&4&&Yb(n);case 26:case 5:ir(t,n),e===null&&i&4&&$b(n),i&512&&sl(n,n.return);break;case 12:ir(t,n);break;case 13:ir(t,n),i&4&&Zb(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=KS.bind(null,n),fA(t,n))));break;case 22:if(i=n.memoizedState!==null||gi,!i){e=e!==null&&e.memoizedState!==null||it,r=gi;var s=it;gi=i,(it=e)&&!s?sr(t,n,(n.subtreeFlags&8772)!==0):ir(t,n),gi=r,it=s}break;case 30:break;default:ir(t,n)}}function Xb(t){var e=t.alternate;e!==null&&(t.alternate=null,Xb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&hp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qe=null,Qt=!1;function pi(t,e,n){for(n=n.child;n!==null;)Wb(t,e,n),n=n.sibling}function Wb(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Bl,n)}catch{}switch(n.tag){case 26:it||Gn(n,e),pi(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||Gn(n,e);var i=qe,r=Qt;$r(n.type)&&(qe=n.stateNode,Qt=!1),pi(t,e,n),ul(n.stateNode),qe=i,Qt=r;break;case 5:it||Gn(n,e);case 6:if(i=qe,r=Qt,qe=null,pi(t,e,n),qe=i,Qt=r,qe!==null)if(Qt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(s){Ve(n,e,s)}else try{qe.removeChild(n.stateNode)}catch(s){Ve(n,e,s)}break;case 18:qe!==null&&(Qt?(t=qe,Gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Nl(t)):Gv(qe,n.stateNode));break;case 4:i=qe,r=Qt,qe=n.stateNode.containerInfo,Qt=!0,pi(t,e,n),qe=i,Qt=r;break;case 0:case 11:case 14:case 15:it||Pr(2,n,e),it||Pr(4,n,e),pi(t,e,n);break;case 1:it||(Gn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Gb(n,e,i)),pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:it=(i=it)||n.memoizedState!==null,pi(t,e,n),it=i;break;default:pi(t,e,n)}}function Zb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(n){Ve(e,e.return,n)}}function BS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Mv),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Mv),e;default:throw Error(F(435,t.tag))}}function lf(t,e){var n=BS(t);e.forEach(function(i){var r=XS.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function en(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if($r(l.type)){qe=l.stateNode,Qt=!1;break e}break;case 5:qe=l.stateNode,Qt=!1;break e;case 3:case 4:qe=l.stateNode.containerInfo,Qt=!0;break e}l=l.return}if(qe===null)throw Error(F(160));Wb(s,a,r),qe=null,Qt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Jb(e,t),e=e.sibling}var Dn=null;function Jb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(e,t),tn(t),i&4&&(Pr(3,t,t.return),Zl(3,t),Pr(5,t,t.return));break;case 1:en(e,t),tn(t),i&512&&(it||n===null||Gn(n,n.return)),i&64&&gi&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Dn;if(en(e,t),tn(t),i&512&&(it||n===null||Gn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Hl]||s[Pt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Nt(s,i,n),s[Pt]=t,Et(s),i=s;break e;case"link":var a=Xv("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),Nt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Xv("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),Nt(s,i,n),r.head.appendChild(s);break;default:throw Error(F(468,i))}s[Pt]=t,Et(s),i=s}t.stateNode=i}else Wv(r,t.type,t.stateNode);else t.stateNode=Kv(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Wv(r,t.type,t.stateNode):Kv(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&sf(t,t.memoizedProps,n.memoizedProps)}break;case 27:en(e,t),tn(t),i&512&&(it||n===null||Gn(n,n.return)),n!==null&&i&4&&sf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(en(e,t),tn(t),i&512&&(it||n===null||Gn(n,n.return)),t.flags&32){r=t.stateNode;try{Na(r,"")}catch(y){Ve(t,t.return,y)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,sf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(of=!0);break;case 6:if(en(e,t),tn(t),i&4){if(t.stateNode===null)throw Error(F(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(y){Ve(t,t.return,y)}}break;case 3:if(Tc=null,r=Dn,Dn=lh(e.containerInfo),en(e,t),Dn=r,tn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(e.containerInfo)}catch(y){Ve(t,t.return,y)}of&&(of=!1,eE(t));break;case 4:i=Dn,Dn=lh(t.stateNode.containerInfo),en(e,t),tn(t),Dn=i;break;case 12:en(e,t),tn(t);break;case 13:en(e,t),tn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hp=Qn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,lf(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=gi,f=it;if(gi=h||r,it=f||u,en(e,t),it=f,gi=h,tn(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||gi||it||ts(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(y){Ve(u,u.return,y)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(y){Ve(u,u.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,lf(t,n))));break;case 19:en(e,t),tn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,lf(t,i)));break;case 30:break;case 21:break;default:en(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Qb(i)){n=i;break}i=i.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var r=n.stateNode,s=af(t);th(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Na(a,""),n.flags&=-33);var l=af(t);th(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=af(t);lm(t,h,u);break;default:throw Error(F(161))}}catch(f){Ve(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eE(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;eE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ir(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Kb(t,e.alternate,e),e=e.sibling}function ts(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Pr(4,e,e.return),ts(e);break;case 1:Gn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Gb(e,e.return,n),ts(e);break;case 27:ul(e.stateNode);case 26:case 5:Gn(e,e.return),ts(e);break;case 22:e.memoizedState===null&&ts(e);break;case 30:ts(e);break;default:ts(e)}t=t.sibling}}function sr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:sr(r,s,n),Zl(4,s);break;case 1:if(sr(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Ve(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)K1(u[r],l)}catch(h){Ve(i,i.return,h)}}n&&a&64&&Hb(s),sl(s,s.return);break;case 27:Yb(s);case 26:case 5:sr(r,s,n),n&&i===null&&a&4&&$b(s),sl(s,s.return);break;case 12:sr(r,s,n);break;case 13:sr(r,s,n),n&&a&4&&Zb(r,s);break;case 22:s.memoizedState===null&&sr(r,s,n),sl(s,s.return);break;case 30:break;default:sr(r,s,n)}e=e.sibling}}function zp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Yl(n))}function Bp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yl(t))}function Bn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tE(t,e,n,i),e=e.sibling}function tE(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Bn(t,e,n,i),r&2048&&Zl(9,e);break;case 1:Bn(t,e,n,i);break;case 3:Bn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yl(t)));break;case 12:if(r&2048){Bn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ve(e,e.return,u)}}else Bn(t,e,n,i);break;case 13:Bn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Bn(t,e,n,i):al(t,e):s._visibility&2?Bn(t,e,n,i):(s._visibility|=2,Ys(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&zp(a,e);break;case 24:Bn(t,e,n,i),r&2048&&Bp(e.alternate,e);break;default:Bn(t,e,n,i)}}function Ys(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Ys(s,a,l,u,r),Zl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Ys(s,a,l,u,r):al(s,a):(f._visibility|=2,Ys(s,a,l,u,r)),r&&h&2048&&zp(a.alternate,a);break;case 24:Ys(s,a,l,u,r),r&&h&2048&&Bp(a.alternate,a);break;default:Ys(s,a,l,u,r)}e=e.sibling}}function al(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:al(n,i),r&2048&&zp(i.alternate,i);break;case 24:al(n,i),r&2048&&Bp(i.alternate,i);break;default:al(n,i)}e=e.sibling}}var qo=8192;function qs(t){if(t.subtreeFlags&qo)for(t=t.child;t!==null;)nE(t),t=t.sibling}function nE(t){switch(t.tag){case 26:qs(t),t.flags&qo&&t.memoizedState!==null&&AA(Dn,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var e=Dn;Dn=lh(t.stateNode.containerInfo),qs(t),Dn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=qo,qo=16777216,qs(t),qo=e):qs(t));break;default:qs(t)}}function iE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Vo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];bt=i,sE(i,t)}iE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rE(t),t=t.sibling}function rE(t){switch(t.tag){case 0:case 11:case 15:Vo(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Vo(t);break;case 12:Vo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,bc(t)):Vo(t);break;default:Vo(t)}}function bc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];bt=i,sE(i,t)}iE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Pr(8,e,e.return),bc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,bc(e));break;default:bc(e)}t=t.sibling}}function sE(t,e){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:Pr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,bt=i;else e:for(n=t;bt!==null;){i=bt;var r=i.sibling,s=i.return;if(Xb(i),i===n){bt=null;break e}if(r!==null){r.return=s,bt=r;break e}bt=s}}}var FS={getCacheForType:function(t){var e=Vt(ft),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},qS=typeof WeakMap=="function"?WeakMap:Map,De=0,Ue=null,ye=null,Te=0,Ie=0,nn=null,_r=!1,Ka=!1,Fp=!1,Di=0,tt=0,Vr=0,cs=0,qp=0,Tn=0,Oa=0,ol=null,Yt=null,um=!1,Hp=0,nh=1/0,ih=null,Sr=null,Ct=0,Ar=null,ja=null,ba=0,cm=0,hm=null,aE=null,ll=0,dm=null;function on(){if(De&2&&Te!==0)return Te&-Te;if(ae.T!==null){var t=Ia;return t!==0?t:$p()}return y1()}function oE(){Tn===0&&(Tn=!(Te&536870912)||Se?f1():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Tn}function ln(t,e,n){(t===Ue&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),br(t,Te,Tn,!1)),ql(t,n),(!(De&2)||t!==Ue)&&(t===Ue&&(!(De&2)&&(cs|=n),tt===4&&br(t,Te,Tn,!1)),ri(t))}function lE(t,e,n){if(De&6)throw Error(F(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Fl(t,e),r=i?$S(t,e):uf(t,e,!0),s=i;do{if(r===0){Ka&&!i&&br(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!HS(n)){r=uf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=ol;var u=l.current.memoizedState.isDehydrated;if(u&&(Pa(l,a).flags|=256),a=uf(l,a,!1),a!==2){if(Fp&&!u){l.errorRecoveryDisabledLanes|=s,cs|=s,r=4;break e}s=Yt,Yt=r,s!==null&&(Yt===null?Yt=s:Yt.push.apply(Yt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Pa(t,0),br(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:br(i,e,Tn,!_r);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(r=Hp+300-Qn(),10<r)){if(br(i,e,Tn,!_r),zh(i,0,!0)!==0)break e;i.timeoutHandle=CE(Ov.bind(null,i,n,Yt,ih,um,e,Tn,cs,Oa,_r,s,2,-0,0),r);break e}Ov(i,n,Yt,ih,um,e,Tn,cs,Oa,_r,s,0,-0,0)}}break}while(!0);ri(t)}function Ov(t,e,n,i,r,s,a,l,u,h,f,m,g,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:SA},nE(e),m=CA(),m!==null)){t.cancelPendingCommit=m(Pv.bind(null,t,e,s,n,i,r,a,l,u,f,1,g,y)),br(t,s,a,!h);return}Pv(t,e,s,n,i,r,a,l,u)}function HS(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!un(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e,n,i){e&=~qp,e&=~cs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-an(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&p1(t,n,e)}function Xh(){return De&6?!0:(Jl(0),!1)}function Gp(){if(ye!==null){if(Ie===0)var t=ye.return;else t=ye,bi=Cs=null,kp(t),_a=null,Tl=0,t=ye;for(;t!==null;)qb(t.alternate,t),t=t.return;ye=null}}function Pa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,lA(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Gp(),Ue=t,ye=n=xi(t.current,null),Te=e,Ie=0,nn=null,_r=!1,Ka=Fl(t,e),Fp=!1,Oa=Tn=qp=cs=Vr=tt=0,Yt=ol=null,um=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-an(i),s=1<<r;e|=t[r],i&=~s}return Di=e,Hh(),n}function uE(t,e){pe=null,ae.H=Xc,e===Kl||e===$h?(e=dv(),Ie=3):e===Q1?(e=dv(),Ie=4):Ie=e===Vb?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nn=e,ye===null&&(tt=1,Jc(t,vn(e,t.current)))}function cE(){var t=ae.H;return ae.H=Xc,t===null?Xc:t}function hE(){var t=ae.A;return ae.A=FS,t}function fm(){tt=4,_r||(Te&4194048)!==Te&&wn.current!==null||(Ka=!0),!(Vr&134217727)&&!(cs&134217727)||Ue===null||br(Ue,Te,Tn,!1)}function uf(t,e,n){var i=De;De|=2;var r=cE(),s=hE();(Ue!==t||Te!==e)&&(ih=null,Pa(t,e)),e=!1;var a=tt;e:do try{if(Ie!==0&&ye!==null){var l=ye,u=nn;switch(Ie){case 8:Gp(),a=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(e=!0);var h=Ie;if(Ie=0,nn=null,ha(t,l,u,h),n&&Ka){a=0;break e}break;default:h=Ie,Ie=0,nn=null,ha(t,l,u,h)}}GS(),a=tt;break}catch(f){uE(t,f)}while(!0);return e&&t.shellSuspendCounter++,bi=Cs=null,De=i,ae.H=r,ae.A=s,ye===null&&(Ue=null,Te=0,Hh()),a}function GS(){for(;ye!==null;)dE(ye)}function $S(t,e){var n=De;De|=2;var i=cE(),r=hE();Ue!==t||Te!==e?(ih=null,nh=Qn()+500,Pa(t,e)):Ka=Fl(t,e);e:do try{if(Ie!==0&&ye!==null){e=ye;var s=nn;t:switch(Ie){case 1:Ie=0,nn=null,ha(t,e,s,1);break;case 2:case 9:if(hv(s)){Ie=0,nn=null,jv(e);break}e=function(){Ie!==2&&Ie!==9||Ue!==t||(Ie=7),ri(t)},s.then(e,e);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:hv(s)?(Ie=0,nn=null,jv(e)):(Ie=0,nn=null,ha(t,e,s,7));break;case 5:var a=null;switch(ye.tag){case 26:a=ye.memoizedState;case 5:case 27:var l=ye;if(!a||kE(a)){Ie=0,nn=null;var u=l.sibling;if(u!==null)ye=u;else{var h=l.return;h!==null?(ye=h,Wh(h)):ye=null}break t}}Ie=0,nn=null,ha(t,e,s,5);break;case 6:Ie=0,nn=null,ha(t,e,s,6);break;case 8:Gp(),tt=6;break e;default:throw Error(F(462))}}QS();break}catch(f){uE(t,f)}while(!0);return bi=Cs=null,ae.H=i,ae.A=r,De=n,ye!==null?0:(Ue=null,Te=0,Hh(),tt)}function QS(){for(;ye!==null&&!px();)dE(ye)}function dE(t){var e=Fb(t.alternate,t,Di);t.memoizedProps=t.pendingProps,e===null?Wh(t):ye=e}function jv(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Rv(n,e,e.pendingProps,e.type,void 0,Te);break;case 11:e=Rv(n,e,e.pendingProps,e.type.render,e.ref,Te);break;case 5:kp(e);default:qb(n,e),e=ye=q1(e,Di),e=Fb(n,e,Di)}t.memoizedProps=t.pendingProps,e===null?Wh(t):ye=e}function ha(t,e,n,i){bi=Cs=null,kp(e),_a=null,Tl=0;var r=e.return;try{if(PS(t,r,e,n,Te)){tt=1,Jc(t,vn(n,t.current)),ye=null;return}}catch(s){if(r!==null)throw ye=r,s;tt=1,Jc(t,vn(n,t.current)),ye=null;return}e.flags&32768?(Se||i===1?t=!0:Ka||Te&536870912?t=!1:(_r=t=!0,(i===2||i===9||i===3||i===6)&&(i=wn.current,i!==null&&i.tag===13&&(i.flags|=16384))),fE(e,t)):Wh(e)}function Wh(t){var e=t;do{if(e.flags&32768){fE(e,_r);return}t=e.return;var n=LS(e.alternate,e,Di);if(n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);tt===0&&(tt=5)}function fE(t,e){do{var n=US(t.alternate,t);if(n!==null){n.flags&=32767,ye=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ye=t;return}ye=t=n}while(t!==null);tt=6,ye=null}function Pv(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Zh();while(Ct!==0);if(De&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(s=e.lanes|e.childLanes,s|=vp,Sx(t,n,s,a,l,u),t===Ue&&(ye=Ue=null,Te=0),ja=e,Ar=t,ba=n,cm=s,hm=r,aE=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,WS(zc,function(){return vE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=ae.T,ae.T=null,r=Ae.p,Ae.p=2,a=De,De|=4;try{zS(t,e,n)}finally{De=a,Ae.p=r,ae.T=i}}Ct=1,mE(),pE(),gE()}}function mE(){if(Ct===1){Ct=0;var t=Ar,e=ja,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ae.T,ae.T=null;var i=Ae.p;Ae.p=2;var r=De;De|=4;try{Jb(e,t);var s=ym,a=j1(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&O1(l.ownerDocument.documentElement,l)){if(u!==null&&yp(l)){var h=u.start,f=u.end;if(f===void 0&&(f=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var y=g.getSelection(),N=l.textContent.length,D=Math.min(u.start,N),M=u.end===void 0?D:Math.min(u.end,N);!y.extend&&D>M&&(a=M,M=D,D=a);var x=iv(l,D),b=iv(l,M);if(x&&b&&(y.rangeCount!==1||y.anchorNode!==x.node||y.anchorOffset!==x.offset||y.focusNode!==b.node||y.focusOffset!==b.offset)){var w=m.createRange();w.setStart(x.node,x.offset),y.removeAllRanges(),D>M?(y.addRange(w),y.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),y.addRange(w))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var I=m[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}hh=!!gm,ym=gm=null}finally{De=r,Ae.p=i,ae.T=n}}t.current=e,Ct=2}}function pE(){if(Ct===2){Ct=0;var t=Ar,e=ja,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ae.T,ae.T=null;var i=Ae.p;Ae.p=2;var r=De;De|=4;try{Kb(t,e.alternate,e)}finally{De=r,Ae.p=i,ae.T=n}}Ct=3}}function gE(){if(Ct===4||Ct===3){Ct=0,gx();var t=Ar,e=ja,n=ba,i=aE;e.subtreeFlags&10256||e.flags&10256?Ct=5:(Ct=0,ja=Ar=null,yE(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Sr=null),cp(n),e=e.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Bl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=ae.T,r=Ae.p,Ae.p=2,ae.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{ae.T=e,Ae.p=r}}ba&3&&Zh(),ri(t),r=t.pendingLanes,n&4194090&&r&42?t===dm?ll++:(ll=0,dm=t):ll=0,Jl(0)}}function yE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Yl(e)))}function Zh(t){return mE(),pE(),gE(),vE()}function vE(){if(Ct!==5)return!1;var t=Ar,e=cm;cm=0;var n=cp(ba),i=ae.T,r=Ae.p;try{Ae.p=32>n?32:n,ae.T=null,n=hm,hm=null;var s=Ar,a=ba;if(Ct=0,ja=Ar=null,ba=0,De&6)throw Error(F(331));var l=De;if(De|=4,rE(s.current),tE(s,s.current,a,n),De=l,Jl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Bl,s)}catch{}return!0}finally{Ae.p=r,ae.T=i,yE(t,e)}}function Vv(t,e,n){e=vn(n,e),e=sm(t.stateNode,e,2),t=xr(t,e,2),t!==null&&(ql(t,2),ri(t))}function Ve(t,e,n){if(t.tag===3)Vv(t,t,n);else for(;e!==null;){if(e.tag===3){Vv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){t=vn(n,t),n=jb(2),i=xr(e,n,2),i!==null&&(Pb(n,i,e,t),ql(i,2),ri(i));break}}e=e.return}}function cf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new qS;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Fp=!0,r.add(n),t=YS.bind(null,t,e,n),e.then(t,t))}function YS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ue===t&&(Te&n)===n&&(tt===4||tt===3&&(Te&62914560)===Te&&300>Qn()-Hp?!(De&2)&&Pa(t,0):qp|=n,Oa===Te&&(Oa=0)),ri(t)}function _E(t,e){e===0&&(e=m1()),t=Ya(t,e),t!==null&&(ql(t,e),ri(t))}function KS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_E(t,n)}function XS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(F(314))}i!==null&&i.delete(e),_E(t,n)}function WS(t,e){return lp(t,e)}var rh=null,Ks=null,mm=!1,sh=!1,hf=!1,hs=0;function ri(t){t!==Ks&&t.next===null&&(Ks===null?rh=Ks=t:Ks=Ks.next=t),sh=!0,mm||(mm=!0,JS())}function Jl(t,e){if(!hf&&sh){hf=!0;do for(var n=!1,i=rh;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-an(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Lv(i,s))}else s=Te,s=zh(i,i===Ue?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Fl(i,s)||(n=!0,Lv(i,s));i=i.next}while(n);hf=!1}}function ZS(){bE()}function bE(){sh=mm=!1;var t=0;hs!==0&&(oA()&&(t=hs),hs=0);for(var e=Qn(),n=null,i=rh;i!==null;){var r=i.next,s=EE(i,e);s===0?(i.next=null,n===null?rh=r:n.next=r,r===null&&(Ks=n)):(n=i,(t!==0||s&3)&&(sh=!0)),i=r}Jl(t)}function EE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-an(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=xx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=Ue,n=Te,n=zh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Pd(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Fl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Pd(i),cp(n)){case 2:case 8:n=h1;break;case 32:n=zc;break;case 268435456:n=d1;break;default:n=zc}return i=TE.bind(null,t),n=lp(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Pd(i),t.callbackPriority=2,t.callbackNode=null,2}function TE(t,e){if(Ct!==0&&Ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Zh()&&t.callbackNode!==n)return null;var i=Te;return i=zh(t,t===Ue?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(lE(t,i,e),EE(t,Qn()),t.callbackNode!=null&&t.callbackNode===n?TE.bind(null,t):null)}function Lv(t,e){if(Zh())return null;lE(t,e,!0)}function JS(){uA(function(){De&6?lp(c1,ZS):bE()})}function $p(){return hs===0&&(hs=f1()),hs}function Uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:dc(""+t)}function zv(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function eA(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Uv((r[Xt]||null).action),a=i.submitter;a&&(e=(e=a[Xt]||null)?Uv(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Bh("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(hs!==0){var u=a?zv(r,a):new FormData(r);im(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?zv(r,a):new FormData(r),im(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var df=0;df<Gf.length;df++){var ff=Gf[df],tA=ff.toLowerCase(),nA=ff[0].toUpperCase()+ff.slice(1);Ln(tA,"on"+nA)}Ln(V1,"onAnimationEnd");Ln(L1,"onAnimationIteration");Ln(U1,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(_S,"onTransitionRun");Ln(bS,"onTransitionStart");Ln(ES,"onTransitionCancel");Ln(z1,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function wE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(f){Zc(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(f){Zc(f)}r.currentTarget=null,s=u}}}}function ge(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var i=t+"__bubble";n.has(i)||(xE(e,t,2,!1),n.add(i))}function mf(t,e,n){var i=0;e&&(i|=4),xE(n,t,i,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Qp(t){if(!t[Wu]){t[Wu]=!0,v1.forEach(function(n){n!=="selectionchange"&&(iA.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,mf("selectionchange",!1,e))}}function xE(t,e,n,i){switch(PE(e)){case 2:var r=IA;break;case 8:r=kA;break;default:r=Wp}n=r.bind(null,e,n,t),r=void 0,!Ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function pf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=na(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}A1(function(){var h=s,f=fp(n),m=[];e:{var g=B1.get(t);if(g!==void 0){var y=Bh,N=t;switch(t){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":y=Wx;break;case"focusin":N="focus",y=Hd;break;case"focusout":N="blur",y=Hd;break;case"beforeblur":case"afterblur":y=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=eS;break;case V1:case L1:case U1:y=Fx;break;case z1:y=nS;break;case"scroll":case"scrollend":y=Vx;break;case"wheel":y=rS;break;case"copy":case"cut":case"paste":y=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ky;break;case"toggle":case"beforetoggle":y=aS}var D=(e&4)!==0,M=!D&&(t==="scroll"||t==="scrollend"),x=D?g!==null?g+"Capture":null:g;D=[];for(var b=h,w;b!==null;){var I=b;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||x===null||(I=yl(b,x),I!=null&&D.push(xl(b,I,w))),M)break;b=b.return}0<D.length&&(g=new y(g,N,null,n,f),m.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Bf&&(N=n.relatedTarget||n.fromElement)&&(na(N)||N[$a]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=h,N=N?na(N):null,N!==null&&(M=zl(N),D=N.tag,N!==M||D!==5&&D!==27&&D!==6)&&(N=null)):(y=null,N=h),y!==N)){if(D=Qy,I="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(D=Ky,I="onPointerLeave",x="onPointerEnter",b="pointer"),M=y==null?g:Fo(y),w=N==null?g:Fo(N),g=new D(I,b+"leave",y,n,f),g.target=M,g.relatedTarget=w,I=null,na(f)===h&&(D=new D(x,b+"enter",N,n,f),D.target=w,D.relatedTarget=M,I=D),M=I,y&&N)t:{for(D=y,x=N,b=0,w=D;w;w=Hs(w))b++;for(w=0,I=x;I;I=Hs(I))w++;for(;0<b-w;)D=Hs(D),b--;for(;0<w-b;)x=Hs(x),w--;for(;b--;){if(D===x||x!==null&&D===x.alternate)break t;D=Hs(D),x=Hs(x)}D=null}else D=null;y!==null&&Bv(m,g,y,D,!1),N!==null&&M!==null&&Bv(m,M,N,D,!0)}}e:{if(g=h?Fo(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var L=Jy;else if(Zy(g))if(D1)L=gS;else{L=mS;var H=fS}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&dp(h.elementType)&&(L=Jy):L=pS;if(L&&(L=L(t,h))){k1(m,L,n,f);break e}H&&H(t,g,h),t==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&zf(g,"number",g.value)}switch(H=h?Fo(h):window,t){case"focusin":(Zy(H)||H.contentEditable==="true")&&(sa=H,qf=h,Zo=null);break;case"focusout":Zo=qf=sa=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,rv(m,n,f);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":rv(m,n,f)}var _;if(gp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ra?N1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(R1&&n.locale!=="ko"&&(ra||E!=="onCompositionStart"?E==="onCompositionEnd"&&ra&&(_=C1()):(vr=f,mp="value"in vr?vr.value:vr.textContent,ra=!0)),H=ah(h,E),0<H.length&&(E=new Yy(E,t,null,n,f),m.push({event:E,listeners:H}),_?E.data=_:(_=I1(n),_!==null&&(E.data=_)))),(_=lS?uS(t,n):cS(t,n))&&(E=ah(h,"onBeforeInput"),0<E.length&&(H=new Yy("onBeforeInput","beforeinput",null,n,f),m.push({event:H,listeners:E}),H.data=_)),eA(m,t,h,n,f)}wE(m,e)})}function xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ah(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=yl(t,n),r!=null&&i.unshift(xl(t,r,s)),r=yl(t,e),r!=null&&i.push(xl(t,r,s))),t.tag===3)return i;t=t.return}return[]}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bv(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=yl(n,s),h!=null&&a.unshift(xl(n,h,u))):r||(h=yl(n,s),h!=null&&a.push(xl(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(sA,"")}function SE(t,e){return e=Fv(e),Fv(t)===e}function Jh(){}function Me(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Na(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Na(t,""+i);break;case"className":Hu(t,"class",i);break;case"tabIndex":Hu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Hu(t,n,i);break;case"style":S1(t,i,s);break;case"data":if(e!=="object"){Hu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=dc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Me(t,e,"name",r.name,r,null),Me(t,e,"formEncType",r.formEncType,r,null),Me(t,e,"formMethod",r.formMethod,r,null),Me(t,e,"formTarget",r.formTarget,r,null)):(Me(t,e,"encType",r.encType,r,null),Me(t,e,"method",r.method,r,null),Me(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=dc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Jh);break;case"onScroll":i!=null&&ge("scroll",t);break;case"onScrollEnd":i!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(F(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=dc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ge("beforetoggle",t),ge("toggle",t),hc(t,"popover",i);break;case"xlinkActuate":fi(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":fi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":fi(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":fi(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":fi(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":fi(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":fi(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":fi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":fi(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=jx.get(n)||n,hc(t,n,i))}}function pm(t,e,n,i,r,s){switch(n){case"style":S1(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(F(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Na(t,i):(typeof i=="number"||typeof i=="bigint")&&Na(t,""+i);break;case"onScroll":i!=null&&ge("scroll",t);break;case"onScrollEnd":i!=null&&ge("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Xt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):hc(t,n,i)}}}function Nt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Me(t,e,s,a,n,null)}}r&&Me(t,e,"srcSet",n.srcSet,n,null),i&&Me(t,e,"src",n.src,n,null);return;case"input":ge("invalid",t);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(F(137,e));break;default:Me(t,e,i,f,n,null)}}T1(t,s,l,u,h,a,r,!1),Bc(t);return;case"select":ge("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Me(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?ma(t,!!i,e,!1):n!=null&&ma(t,!!i,n,!0);return;case"textarea":ge("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(F(91));break;default:Me(t,e,a,l,n,null)}x1(t,i,r,s),Bc(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Me(t,e,u,i,n,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(i=0;i<wl.length;i++)ge(wl[i],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Me(t,e,h,i,n,null)}return;default:if(dp(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&pm(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Me(t,e,l,i,n,null))}function aA(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(y)||Me(t,e,y,null,i,m)}}for(var g in i){var y=i[g];if(m=n[g],i.hasOwnProperty(g)&&(y!=null||m!=null))switch(g){case"type":s=y;break;case"name":r=y;break;case"checked":h=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(F(137,e));break;default:y!==m&&Me(t,e,g,y,i,m)}}Uf(t,a,l,u,h,f,s,r);return;case"select":y=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||Me(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Me(t,e,r,s,i,u)}e=l,n=a,i=y,g!=null?ma(t,!!n,g,!1):!!i!=!!n&&(e!=null?ma(t,!!n,e,!0):ma(t,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Me(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(F(91));break;default:r!==s&&Me(t,e,a,r,i,s)}w1(t,g,y);return;case"option":for(var N in n)if(g=n[N],n.hasOwnProperty(N)&&g!=null&&!i.hasOwnProperty(N))switch(N){case"selected":t.selected=!1;break;default:Me(t,e,N,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Me(t,e,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!=null&&!i.hasOwnProperty(D)&&Me(t,e,D,null,i,g);for(h in i)if(g=i[h],y=n[h],i.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(F(137,e));break;default:Me(t,e,h,g,i,y)}return;default:if(dp(e)){for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!==void 0&&!i.hasOwnProperty(M)&&pm(t,e,M,void 0,i,g);for(f in i)g=i[f],y=n[f],!i.hasOwnProperty(f)||g===y||g===void 0&&y===void 0||pm(t,e,f,g,i,y);return}}for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&Me(t,e,x,null,i,g);for(m in i)g=i[m],y=n[m],!i.hasOwnProperty(m)||g===y||g==null&&y==null||Me(t,e,m,g,i,y)}var gm=null,ym=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gf=null;function oA(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var CE=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(cA)}:CE;function cA(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function Gv(t,e){var n=e,i=0,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&ul(a.documentElement),n&2&&ul(a.body),n&4)for(n=a.head,ul(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Hl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){t.removeChild(s),Nl(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Nl(e)}function _m(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_m(n),hp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function hA(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Hl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function dA(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fA(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Em=null;function $v(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function RE(t,e,n){switch(e=oh(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function ul(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);hp(t)}var xn=new Map,Qv=new Set;function lh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=Ae.d;Ae.d={f:mA,r:pA,D:gA,C:yA,L:vA,m:_A,X:EA,S:bA,M:TA};function mA(){var t=Bi.f(),e=Xh();return t||e}function pA(t){var e=Qa(t);e!==null&&e.tag===5&&e.type==="form"?Eb(e):Bi.r(t)}var Xa=typeof document>"u"?null:document;function NE(t,e,n){var i=Xa;if(i&&typeof e=="string"&&e){var r=yn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Qv.has(r)||(Qv.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Nt(e,"link",t),Et(e),i.head.appendChild(e)))}}function gA(t){Bi.D(t),NE("dns-prefetch",t,null)}function yA(t,e){Bi.C(t,e),NE("preconnect",t,e)}function vA(t,e,n){Bi.L(t,e,n);var i=Xa;if(i&&t&&e){var r='link[rel="preload"][as="'+yn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+yn(n.imageSizes)+'"]')):r+='[href="'+yn(t)+'"]';var s=r;switch(e){case"style":s=Va(t);break;case"script":s=Wa(t)}xn.has(s)||(t=Fe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),xn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(eu(s))||e==="script"&&i.querySelector(tu(s))||(e=i.createElement("link"),Nt(e,"link",t),Et(e),i.head.appendChild(e)))}}function _A(t,e){Bi.m(t,e);var n=Xa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+yn(i)+'"][href="'+yn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wa(t)}if(!xn.has(s)&&(t=Fe({rel:"modulepreload",href:t},e),xn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tu(s)))return}i=n.createElement("link"),Nt(i,"link",t),Et(i),n.head.appendChild(i)}}}function bA(t,e,n){Bi.S(t,e,n);var i=Xa;if(i&&t){var r=fa(i).hoistableStyles,s=Va(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(eu(s)))l.loading=5;else{t=Fe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=xn.get(s))&&Yp(t,n);var u=a=i.createElement("link");Et(u),Nt(u,"link",t),u._p=new Promise(function(h,f){u.onload=h,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ec(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function EA(t,e){Bi.X(t,e);var n=Xa;if(n&&t){var i=fa(n).hoistableScripts,r=Wa(t),s=i.get(r);s||(s=n.querySelector(tu(r)),s||(t=Fe({src:t,async:!0},e),(e=xn.get(r))&&Kp(t,e),s=n.createElement("script"),Et(s),Nt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function TA(t,e){Bi.M(t,e);var n=Xa;if(n&&t){var i=fa(n).hoistableScripts,r=Wa(t),s=i.get(r);s||(s=n.querySelector(tu(r)),s||(t=Fe({src:t,async:!0,type:"module"},e),(e=xn.get(r))&&Kp(t,e),s=n.createElement("script"),Et(s),Nt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Yv(t,e,n,i){var r=(r=Tr.current)?lh(r):null;if(!r)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Va(n.href),n=fa(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Va(n.href);var s=fa(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(eu(t)))&&!s._p&&(a.instance=s,a.state.loading=5),xn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xn.set(t,n),s||wA(r,t,n,a.state))),e&&i===null)throw Error(F(528,""));return a}if(e&&i!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Wa(n),n=fa(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function Va(t){return'href="'+yn(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function IE(t){return Fe({},t,{"data-precedence":t.precedence,precedence:null})}function wA(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Nt(e,"link",n),Et(e),t.head.appendChild(e))}function Wa(t){return'[src="'+yn(t)+'"]'}function tu(t){return"script[async]"+t}function Kv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+yn(n.href)+'"]');if(i)return e.instance=i,Et(i),i;var r=Fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Et(i),Nt(i,"style",r),Ec(i,n.precedence,t),e.instance=i;case"stylesheet":r=Va(n.href);var s=t.querySelector(eu(r));if(s)return e.state.loading|=4,e.instance=s,Et(s),s;i=IE(n),(r=xn.get(r))&&Yp(i,r),s=(t.ownerDocument||t).createElement("link"),Et(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Nt(s,"link",i),e.state.loading|=4,Ec(s,n.precedence,t),e.instance=s;case"script":return s=Wa(n.src),(r=t.querySelector(tu(s)))?(e.instance=r,Et(r),r):(i=n,(r=xn.get(s))&&(i=Fe({},n),Kp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),Et(r),Nt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ec(i,n.precedence,t));return e.instance}function Ec(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Yp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Kp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tc=null;function Xv(t,e,n){if(Tc===null){var i=new Map,r=Tc=new Map;r.set(n,i)}else r=Tc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[Hl]||s[Pt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Wv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function xA(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Sl=null;function SA(){}function AA(t,e,n){if(Sl===null)throw Error(F(475));var i=Sl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=Va(n.href),s=t.querySelector(eu(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=uh.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,Et(s);return}s=t.ownerDocument||t,n=IE(n),(r=xn.get(r))&&Yp(n,r),s=s.createElement("link"),Et(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Nt(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=uh.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function CA(){if(Sl===null)throw Error(F(475));var t=Sl;return t.stylesheets&&t.count===0&&Tm(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Tm(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function Tm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,e.forEach(RA,t),ch=null,uh.call(t))}function RA(t,e){if(!(e.state.loading&4)){var n=ch.get(t);if(n)var i=n.get(null);else{n=new Map,ch.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=uh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Al={$$typeof:yi,Provider:null,Consumer:null,_currentValue:ss,_currentValue2:ss,_threadCount:0};function NA(t,e,n,i,r,s,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.hiddenUpdates=Vd(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function DE(t,e,n,i,r,s,a,l,u,h,f,m){return t=new NA(t,e,n,a,l,u,h,m),e=1,s===!0&&(e|=24),s=rn(3,null,null,e),t.current=s,s.stateNode=t,e=wp(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Sp(s),t}function ME(t){return t?(t=la,t):la}function OE(t,e,n,i,r,s){r=ME(r),i.context===null?i.context=r:i.pendingContext=r,i=wr(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=xr(t,i,e),n!==null&&(ln(n,t,e),tl(n,t,e))}function Zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xp(t,e){Zv(t,e),(t=t.alternate)&&Zv(t,e)}function jE(t){if(t.tag===13){var e=Ya(t,67108864);e!==null&&ln(e,t,67108864),Xp(t,67108864)}}var hh=!0;function IA(t,e,n,i){var r=ae.T;ae.T=null;var s=Ae.p;try{Ae.p=2,Wp(t,e,n,i)}finally{Ae.p=s,ae.T=r}}function kA(t,e,n,i){var r=ae.T;ae.T=null;var s=Ae.p;try{Ae.p=8,Wp(t,e,n,i)}finally{Ae.p=s,ae.T=r}}function Wp(t,e,n,i){if(hh){var r=wm(i);if(r===null)pf(t,e,i,dh,n),Jv(t,i);else if(MA(r,t,e,n,i))i.stopPropagation();else if(Jv(t,i),e&4&&-1<DA.indexOf(t)){for(;r!==null;){var s=Qa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Jr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-an(a);l.entanglements[1]|=u,a&=~u}ri(s),!(De&6)&&(nh=Qn()+500,Jl(0))}}break;case 13:l=Ya(s,2),l!==null&&ln(l,s,2),Xh(),Xp(s,2)}if(s=wm(i),s===null&&pf(t,e,i,dh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else pf(t,e,i,null,n)}}function wm(t){return t=fp(t),Zp(t)}var dh=null;function Zp(t){if(dh=null,t=na(t),t!==null){var e=zl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=a1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return dh=t,null}function PE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yx()){case c1:return 2;case h1:return 8;case zc:case vx:return 32;case d1:return 268435456;default:return 32}default:return 32}}var xm=!1,Cr=null,Rr=null,Nr=null,Cl=new Map,Rl=new Map,dr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Lo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Qa(e),e!==null&&jE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function MA(t,e,n,i,r){switch(e){case"focusin":return Cr=Lo(Cr,t,e,n,i,r),!0;case"dragenter":return Rr=Lo(Rr,t,e,n,i,r),!0;case"mouseover":return Nr=Lo(Nr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Cl.set(s,Lo(Cl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Rl.set(s,Lo(Rl.get(s)||null,t,e,n,i,r)),!0}return!1}function VE(t){var e=na(t.target);if(e!==null){var n=zl(e);if(n!==null){if(e=n.tag,e===13){if(e=a1(n),e!==null){t.blockedOn=e,Ax(t.priority,function(){if(n.tag===13){var i=on();i=up(i);var r=Ya(n,i);r!==null&&ln(r,n,i),Xp(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wm(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Bf=i,n.target.dispatchEvent(i),Bf=null}else return e=Qa(n),e!==null&&jE(e),t.blockedOn=n,!1;e.shift()}return!0}function e0(t,e,n){wc(t)&&n.delete(e)}function OA(){xm=!1,Cr!==null&&wc(Cr)&&(Cr=null),Rr!==null&&wc(Rr)&&(Rr=null),Nr!==null&&wc(Nr)&&(Nr=null),Cl.forEach(e0),Rl.forEach(e0)}function Zu(t,e){t.blockedOn===e&&(t.blockedOn=null,xm||(xm=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,OA)))}var Ju=null;function t0(t){Ju!==t&&(Ju=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){Ju===t&&(Ju=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Zp(i||n)===null)continue;break}var s=Qa(n);s!==null&&(t.splice(e,3),e-=3,im(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Nl(t){function e(u){return Zu(u,t)}Cr!==null&&Zu(Cr,t),Rr!==null&&Zu(Rr,t),Nr!==null&&Zu(Nr,t),Cl.forEach(e),Rl.forEach(e);for(var n=0;n<dr.length;n++){var i=dr[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)VE(n),n.blockedOn===null&&dr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Xt]||null;if(typeof s=="function")a||t0(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Xt]||null)l=a.formAction;else if(Zp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),t0(n)}}}function Jp(t){this._internalRoot=t}ed.prototype.render=Jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,i=on();OE(n,i,t,e,null,null)};ed.prototype.unmount=Jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;OE(t.current,2,null,t,null,null),Xh(),e[$a]=null}};function ed(t){this._internalRoot=t}ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dr.length&&e!==0&&e<dr[n].priority;n++);dr.splice(n,0,t),n===0&&VE(t)}};var n0=r1.version;if(n0!=="19.1.0")throw Error(F(527,n0,"19.1.0"));Ae.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=cx(e),t=t!==null?o1(t):null,t=t===null?null:t.stateNode,t};var jA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Bl=ec.inject(jA),sn=ec}catch{}}Lh.createRoot=function(t,e){if(!s1(t))throw Error(F(299));var n=!1,i="",r=Db,s=Mb,a=Ob,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=DE(t,1,!1,null,null,n,i,r,s,a,l,null),t[$a]=e.current,Qp(t),new Jp(e)};Lh.hydrateRoot=function(t,e,n){if(!s1(t))throw Error(F(299));var i=!1,r="",s=Db,a=Mb,l=Ob,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=DE(t,1,!0,e,n??null,i,r,s,a,l,u,h),e.context=ME(null),n=e.current,i=on(),i=up(i),r=wr(i),r.callback=null,xr(n,r,i),n=i,e.current.lanes=n,ql(e,n),ri(e),t[$a]=e.current,Qp(t),new ed(e)};Lh.version="19.1.0";function LE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LE)}catch(t){console.error(t)}}LE(),Z_.exports=Lh;var PA=Z_.exports;const VA=F_(PA);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function LA(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Sm("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Il(r)}return zA(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UA(){return Math.random().toString(36).substring(2,10)}function r0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Za(e):e,state:n,key:e&&e.key||i||UA()}}function Il({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function zA(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let M=f(),x=M==null?null:M-h;h=M,u&&u({action:l,location:D.location,delta:x})}function g(M,x){l="PUSH";let b=Sm(D.location,M,x);h=f()+1;let w=r0(b,h),I=D.createHref(b);try{a.pushState(w,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(I)}s&&u&&u({action:l,location:D.location,delta:1})}function y(M,x){l="REPLACE";let b=Sm(D.location,M,x);h=f();let w=r0(b,h),I=D.createHref(b);a.replaceState(w,"",I),s&&u&&u({action:l,location:D.location,delta:0})}function N(M){return BA(M)}let D={get action(){return l},get location(){return t(r,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(i0,m),u=M,()=>{r.removeEventListener(i0,m),u=null}},createHref(M){return e(r,M)},createURL:N,encodeLocation(M){let x=N(M);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:y,go(M){return a.go(M)}};return D}function BA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Il(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function UE(t,e,n="/"){return FA(t,e,n,!1)}function FA(t,e,n,i){let r=typeof e=="string"?Za(e):e,s=Mi(r.pathname||"/",n);if(s==null)return null;let a=zE(t);qA(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=eC(s);l=ZA(a[u],h,i)}return l}function zE(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;$e(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Ai([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&($e(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zE(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:XA(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let h of BE(a.path))s(a,l,!0,h)}),e}function BE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=BE(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function qA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var HA=/^:[\w-]+$/,GA=3,$A=2,QA=1,YA=10,KA=-2,s0=t=>t==="*";function XA(t,e){let n=t.split("/"),i=n.length;return n.some(s0)&&(i+=KA),e&&(i+=$A),n.filter(r=>!s0(r)).reduce((r,s)=>r+(HA.test(s)?GA:s===""?QA:YA),i)}function WA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function ZA(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],h=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=fh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!i[i.length-1].route.index&&(m=fh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:Ai([s,m.pathname]),pathnameBase:sC(Ai([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Ai([s,m.pathnameBase]))}return a}function fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=JA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let N=l[g]||"";a=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[g];return m&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function JA(t,e=!1,n=!0){Sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function eC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nC=t=>tC.test(t);function iC(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Za(t):t,s;if(n)if(nC(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=a0(n.substring(1),"/"):s=a0(n,e)}else s=e;return{pathname:s,search:aC(i),hash:oC(r)}}function a0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function yf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eg(t){let e=rC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function tg(t,e,n,i=!1){let r;typeof t=="string"?r=Za(t):(r={...t},$e(!r.pathname||!r.pathname.includes("?"),yf("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),yf("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),yf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=iC(r,l),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),sC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var cC=["GET",...FE];new Set(cC);var Ja=C.createContext(null);Ja.displayName="DataRouter";var td=C.createContext(null);td.displayName="DataRouterState";C.createContext(!1);var qE=C.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var hC=C.createContext(new Map);hC.displayName="Fetchers";var dC=C.createContext(null);dC.displayName="Await";var An=C.createContext(null);An.displayName="Navigation";var nu=C.createContext(null);nu.displayName="Location";var si=C.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var ng=C.createContext(null);ng.displayName="RouteError";function fC(t,{relative:e}={}){$e(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(An),{hash:r,pathname:s,search:a}=iu(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Ai([n,s])),i.createHref({pathname:l,search:a,hash:r})}function eo(){return C.useContext(nu)!=null}function Fi(){return $e(eo(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(nu).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(t){C.useContext(An).static||C.useLayoutEffect(t)}function ig(){let{isDataRoute:t}=C.useContext(si);return t?AC():mC()}function mC(){$e(eo(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Ja),{basename:e,navigator:n}=C.useContext(An),{matches:i}=C.useContext(si),{pathname:r}=Fi(),s=JSON.stringify(eg(i)),a=C.useRef(!1);return GE(()=>{a.current=!0}),C.useCallback((u,h={})=>{if(Sn(a.current,HE),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=tg(u,JSON.parse(s),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ai([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,r,t])}C.createContext(null);function iu(t,{relative:e}={}){let{matches:n}=C.useContext(si),{pathname:i}=Fi(),r=JSON.stringify(eg(n));return C.useMemo(()=>tg(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function pC(t,e){return $E(t,e)}function $E(t,e,n,i,r){var b;$e(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(An),{matches:a}=C.useContext(si),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";QE(h,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=Fi(),y;if(e){let w=typeof e=="string"?Za(e):e;$e(f==="/"||((b=w.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=g;let N=y.pathname||"/",D=N;if(f!=="/"){let w=f.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(w.length).join("/")}let M=UE(t,{pathname:D});Sn(m||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Sn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=bC(M&&M.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Ai([f,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:Ai([f,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,i,r);return e&&x?C.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},x):x}function gC(){let t=SC(),e=lC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:r},n):null,a)}var yC=C.createElement(gC,null),vC=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(si.Provider,{value:this.props.routeContext},C.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _C({routeContext:t,match:e,children:n}){let i=C.useContext(Ja);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(si.Provider,{value:t},n)}function bC(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);$e(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:y}=n,N=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||N){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=n&&i?(f,m)=>{var g,y;i(f,{location:n.location,params:((y=(g=n.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:uC(n.matches),errorInfo:m})}:void 0;return s.reduceRight((f,m,g)=>{let y,N=!1,D=null,M=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,D=m.route.errorElement||yC,l&&(u<0&&g===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):u===g&&(N=!0,M=m.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),b=()=>{let w;return y?w=D:N?w=M:m.route.Component?w=C.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=f,C.createElement(_C,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(vC,{location:n.location,revalidation:n.revalidation,component:D,error:y,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):b()},null)}function rg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(t){let e=C.useContext(Ja);return $e(e,rg(t)),e}function TC(t){let e=C.useContext(td);return $e(e,rg(t)),e}function wC(t){let e=C.useContext(si);return $e(e,rg(t)),e}function sg(t){let e=wC(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xC(){return sg("useRouteId")}function SC(){var i;let t=C.useContext(ng),e=TC("useRouteError"),n=sg("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function AC(){let{router:t}=EC("useNavigate"),e=sg("useNavigate"),n=C.useRef(!1);return GE(()=>{n.current=!0}),C.useCallback(async(r,s={})=>{Sn(n.current,HE),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var o0={};function QE(t,e,n){!e&&!o0[t]&&(o0[t]=!0,Sn(!1,n))}C.memo(CC);function CC({routes:t,future:e,state:n,unstable_onError:i}){return $E(t,void 0,n,i,e)}function RC({to:t,replace:e,state:n,relative:i}){$e(eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(An);Sn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(si),{pathname:a}=Fi(),l=ig(),u=tg(t,eg(s),a,i==="path"),h=JSON.stringify(u);return C.useEffect(()=>{l(JSON.parse(h),{replace:e,state:n,relative:i})},[l,h,i,e,n]),null}function ar(t){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){$e(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=Za(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,N=C.useMemo(()=>{let D=Mi(h,l);return D==null?null:{location:{pathname:D,search:f,hash:m,state:g,key:y},navigationType:i}},[l,h,f,m,g,y,i]);return Sn(N!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:C.createElement(An.Provider,{value:u},C.createElement(nu.Provider,{children:e,value:N}))}function IC({children:t,location:e}){return pC(Am(t),e)}function Am(t,e=[]){let n=[];return C.Children.forEach(t,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){n.push.apply(n,Am(i.props.children,s));return}$e(i.type===ar,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Am(i.props.children,s)),n.push(a)}),n}var xc="get",Sc="application/x-www-form-urlencoded";function nd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kC(t){return nd(t)&&t.tagName.toLowerCase()==="button"}function DC(t){return nd(t)&&t.tagName.toLowerCase()==="form"}function MC(t){return nd(t)&&t.tagName.toLowerCase()==="input"}function OC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jC(t,e){return t.button===0&&(!e||e==="_self")&&!OC(t)}var tc=null;function PC(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var VC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vf(t){return t!=null&&!VC.has(t)?(Sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):t}function LC(t,e){let n,i,r,s,a;if(DC(t)){let l=t.getAttribute("action");i=l?Mi(l,e):null,n=t.getAttribute("method")||xc,r=vf(t.getAttribute("enctype"))||Sc,s=new FormData(t)}else if(kC(t)||MC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Mi(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||xc,r=vf(t.getAttribute("formenctype"))||vf(l.getAttribute("enctype"))||Sc,s=new FormData(l,t),!PC()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,m)}}else{if(nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xc,i=null,r=Sc,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function zC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FC(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await zC(s,n);return a.links?a.links():[]}return[]}));return $C(i.flat(1).filter(BC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function l0(t,e,n,i,r,s){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,l=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,h)=>a(u,h)||l(u,h)):s==="data"?e.filter((u,h)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qC(t,e,{includeHydrateFallback:n}={}){return HC(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function HC(t){return[...new Set(t)]}function GC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function $C(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(GC(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function YE(){let t=C.useContext(Ja);return ag(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QC(){let t=C.useContext(td);return ag(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var og=C.createContext(void 0);og.displayName="FrameworkContext";function KE(){let t=C.useContext(og);return ag(t,"You must render this element inside a <HydratedRouter> element"),t}function YC(t,e){let n=C.useContext(og),[i,r]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=x=>{x.forEach(b=>{a(b.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return g.current&&M.observe(g.current),()=>{M.disconnect()}}},[t]),C.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let y=()=>{r(!0)},N=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Uo(l,y),onBlur:Uo(u,N),onMouseEnter:Uo(h,y),onMouseLeave:Uo(f,N),onTouchStart:Uo(m,y)}]:[!1,g,{}]}function Uo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KC({page:t,...e}){let{router:n}=YE(),i=C.useMemo(()=>UE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(WC,{page:t,matches:i,...e}):null}function XC(t){let{manifest:e,routeModules:n}=KE(),[i,r]=C.useState([]);return C.useEffect(()=>{let s=!1;return FC(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function WC({page:t,matches:e,...n}){let i=Fi(),{manifest:r,routeModules:s}=KE(),{basename:a}=YE(),{loaderData:l,matches:u}=QC(),h=C.useMemo(()=>l0(t,e,u,r,i,"data"),[t,e,u,r,i]),f=C.useMemo(()=>l0(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let N=new Set,D=!1;if(e.forEach(x=>{var w;let b=r.routes[x.route.id];!b||!b.hasLoader||(!h.some(I=>I.route.id===x.route.id)&&x.route.id in l&&((w=s[x.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?D=!0:N.add(x.route.id))}),N.size===0)return[];let M=UC(t,a,"data");return D&&N.size>0&&M.searchParams.set("_routes",e.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[a,l,i,r,h,e,t,s]),g=C.useMemo(()=>qC(f,r),[f,r]),y=XC(f);return C.createElement(C.Fragment,null,m.map(N=>C.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),g.map(N=>C.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),y.map(({key:N,link:D})=>C.createElement("link",{key:N,nonce:n.nonce,...D})))}function ZC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.10.1")}catch{}function JC({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=C.useRef();r.current==null&&(r.current=LA({window:i,v5Compat:!0}));let s=r.current,[a,l]=C.useState({action:s.action,location:s.location}),u=C.useCallback(h=>{n===!1?l(h):C.startTransition(()=>l(h))},[n]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(NC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n===!0})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:h,preventScrollReset:f,viewTransition:m,...g},y){let{basename:N,unstable_useTransitions:D}=C.useContext(An),M=typeof h=="string"&&WE.test(h),x,b=!1;if(typeof h=="string"&&M&&(x=h,XE))try{let v=new URL(window.location.href),R=h.startsWith("//")?new URL(v.protocol+h):new URL(h),k=Mi(R.pathname,N);R.origin===v.origin&&k!=null?h=k+R.search+R.hash:b=!0}catch{Sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=fC(h,{relative:r}),[I,L,H]=YC(i,g),_=iR(h,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_useTransitions:D});function E(v){e&&e(v),v.defaultPrevented||_(v)}let A=C.createElement("a",{...g,...H,href:x||w,onClick:b||s?e:E,ref:ZC(y,L),target:u,"data-discover":!M&&n==="render"?"true":void 0});return I&&!M?C.createElement(C.Fragment,null,A,C.createElement(KC,{page:w})):A});ZE.displayName="Link";var eR=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...h},f){let m=iu(a,{relative:h.relative}),g=Fi(),y=C.useContext(td),{navigator:N,basename:D}=C.useContext(An),M=y!=null&&lR(m)&&l===!0,x=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,b=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&D&&(w=Mi(w,D)||w);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let L=b===x||!r&&b.startsWith(x)&&b.charAt(I)==="/",H=w!=null&&(w===x||!r&&w.startsWith(x)&&w.charAt(x.length)==="/"),_={isActive:L,isPending:H,isTransitioning:M},E=L?e:void 0,A;typeof i=="function"?A=i(_):A=[i,L?"active":null,H?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let v=typeof s=="function"?s(_):s;return C.createElement(ZE,{...h,"aria-current":E,className:A,ref:f,style:v,to:a,viewTransition:l},typeof u=="function"?u(_):u)});eR.displayName="NavLink";var tR=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=xc,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...g},y)=>{let{unstable_useTransitions:N}=C.useContext(An),D=aR(),M=oR(l,{relative:h}),x=a.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&WE.test(l),w=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let L=I.nativeEvent.submitter,H=(L==null?void 0:L.getAttribute("formmethod"))||a,_=()=>D(L||I.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:m});N&&n!==!1?C.startTransition(()=>_()):_()};return C.createElement("form",{ref:y,method:x,action:M,onSubmit:i?u:w,...g,"data-discover":!b&&t==="render"?"true":void 0})});tR.displayName="Form";function nR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let e=C.useContext(Ja);return $e(e,nR(t)),e}function iR(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:l}={}){let u=ig(),h=Fi(),f=iu(t,{relative:s});return C.useCallback(m=>{if(jC(m,e)){m.preventDefault();let g=n!==void 0?n:Il(h)===Il(f),y=()=>u(t,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});l?C.startTransition(()=>y()):y()}},[h,u,f,n,i,e,t,r,s,a,l])}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:t}=JE("useSubmit"),{basename:e}=C.useContext(An),n=xC(),i=t.fetch,r=t.navigate;return C.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:f,body:m}=LC(s,e);if(a.navigate===!1){let g=a.fetcherKey||sR();await i(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await r(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function oR(t,{relative:e}={}){let{basename:n}=C.useContext(An),i=C.useContext(si);$e(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...iu(t||".",{relative:e})},a=Fi();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ai([n,s.pathname])),Il(s)}function lR(t,{relative:e}={}){let n=C.useContext(qE);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=JE("useViewTransitionState"),r=iu(t,{relative:e});if(!n.isTransitioning)return!1;let s=Mi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Mi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return fh(r.pathname,a)!=null||fh(r.pathname,s)!=null}const uR=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},cR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,a||(g=64)),i.push(n[f],n[m],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||m==null)throw new hR;const g=s<<2|l>>4;if(i.push(g),h!==64){const y=l<<4&240|h>>2;if(i.push(y),m!==64){const N=h<<6&192|m;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(t){const e=eT(t);return tT.encodeByteArray(e,!0)},mh=function(t){return dR(t).replace(/\./g,"")},nT=function(t){try{return tT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>fR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof u0>"u")return;const t=u0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nT(t[1]);return e&&JSON.parse(e)},id=()=>{try{return uR()||mR()||pR()||gR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iT=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yR=t=>{const e=iT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},rT=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},sT=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(a)),""].join(".")}const cl={};function bR(){const t={prod:[],emulator:[]};for(const e of Object.keys(cl))cl[e]?t.emulator.push(e):t.prod.push(e);return t}function ER(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c0=!1;function oT(t,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||cl[t]===e||cl[t]||c0)return;cl[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=bR().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{c0=!0,a()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=ER(i),y=n("text"),N=document.getElementById(y)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;l(w),f(M,D);const I=h();u(b,x),w.append(b,N,M,I),document.body.appendChild(w)}s?(N.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function wR(){var t;const e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class qi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kR,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?DR(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new qi(r,l,i)}}function DR(t,e){return t.replace(MR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const MR=/\{\$([^}]+)}/g;function OR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(h0(s)&&h0(a)){if(!vs(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function h0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jR(t,e){const n=new PR(t,e);return n.subscribe.bind(n)}class PR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");VR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=_f),r.error===void 0&&(r.error=_f),r.complete===void 0&&(r.complete=_f);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _f(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zR(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(t){return t===ns?void 0:t}function zR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const FR={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},qR=_e.INFO,HR={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},GR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=HR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=qR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const $R=(t,e)=>e.some(n=>t instanceof n);let d0,f0;function QR(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YR(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Cm=new WeakMap,uT=new WeakMap,bf=new WeakMap,ug=new WeakMap;function KR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ir(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,t)}).catch(()=>{}),ug.set(e,t),e}function XR(t){if(Cm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Cm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){Rm=t(Rm)}function ZR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ef(this),e,...n);return uT.set(i,e.sort?e.sort():[e]),Ir(i)}:YR().includes(t)?function(...e){return t.apply(Ef(this),e),Ir(lT.get(this))}:function(...e){return Ir(t.apply(Ef(this),e))}}function JR(t){return typeof t=="function"?ZR(t):(t instanceof IDBTransaction&&XR(t),$R(t,QR())?new Proxy(t,Rm):t)}function Ir(t){if(t instanceof IDBRequest)return KR(t);if(bf.has(t))return bf.get(t);const e=JR(t);return e!==t&&(bf.set(t,e),ug.set(e,t)),e}const Ef=t=>ug.get(t);function eN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Ir(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ir(a.result),u.oldVersion,u.newVersion,Ir(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],Tf=new Map;function m0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=nN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tN.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Tf.set(e,s),s}WR(t=>({...t,get:(e,n,i)=>m0(e,n)||t.get(e,n,i),has:(e,n)=>!!m0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",p0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new lg("@firebase/app"),sN="@firebase/app-compat",aN="@firebase/analytics-compat",oN="@firebase/analytics",lN="@firebase/app-check-compat",uN="@firebase/app-check",cN="@firebase/auth",hN="@firebase/auth-compat",dN="@firebase/database",fN="@firebase/data-connect",mN="@firebase/database-compat",pN="@firebase/functions",gN="@firebase/functions-compat",yN="@firebase/installations",vN="@firebase/installations-compat",_N="@firebase/messaging",bN="@firebase/messaging-compat",EN="@firebase/performance",TN="@firebase/performance-compat",wN="@firebase/remote-config",xN="@firebase/remote-config-compat",SN="@firebase/storage",AN="@firebase/storage-compat",CN="@firebase/firestore",RN="@firebase/ai",NN="@firebase/firestore-compat",IN="firebase",kN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",DN={[Nm]:"fire-core",[sN]:"fire-core-compat",[oN]:"fire-analytics",[aN]:"fire-analytics-compat",[uN]:"fire-app-check",[lN]:"fire-app-check-compat",[cN]:"fire-auth",[hN]:"fire-auth-compat",[dN]:"fire-rtdb",[fN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[pN]:"fire-fn",[gN]:"fire-fn-compat",[yN]:"fire-iid",[vN]:"fire-iid-compat",[_N]:"fire-fcm",[bN]:"fire-fcm-compat",[EN]:"fire-perf",[TN]:"fire-perf-compat",[wN]:"fire-rc",[xN]:"fire-rc-compat",[SN]:"fire-gcs",[AN]:"fire-gcs-compat",[CN]:"fire-fst",[NN]:"fire-fst-compat",[RN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,MN=new Map,km=new Map;function g0(t,e){try{t.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if(km.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,t);for(const n of ph.values())g0(n,t);for(const n of MN.values())g0(n,t);return!0}function cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new ru("app","Firebase",ON);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=kN;function cT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Im,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw kr.create("bad-app-name",{appName:String(r)});if(n||(n=rT()),!n)throw kr.create("no-options");const s=ph.get(r);if(s){if(vs(n,s.options)&&vs(i,s.config))return s;throw kr.create("duplicate-app",{appName:r})}const a=new BR(r);for(const u of km.values())a.addComponent(u);const l=new jN(n,i,a);return ph.set(r,l),l}function hT(t=Im){const e=ph.get(t);if(!e&&t===Im&&rT())return cT();if(!e)throw kr.create("no-app",{appName:t});return e}function Dr(t,e,n){var i;let r=(i=DN[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(l.join(" "));return}La(new _s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",VN=1,kl="firebase-heartbeat-store";let wf=null;function dT(){return wf||(wf=eN(PN,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),wf}async function LN(t){try{const n=(await dT()).transaction(kl),i=await n.objectStore(kl).get(fT(t));return await n.done,i}catch(e){if(e instanceof qi)Oi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(n.message)}}}async function y0(t,e){try{const i=(await dT()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,fT(t)),await i.done}catch(n){if(n instanceof qi)Oi.warn(n.message);else{const i=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Oi.warn(i.message)}}}function fT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,zN=30;class BN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>zN){const a=HN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v0(),{heartbeatsToSend:i,unsentEntries:r}=FN(this._heartbeatsCache.heartbeats),s=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Oi.warn(n),""}}}function v0(){return new Date().toISOString().substring(0,10)}function FN(t,e=UN){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),_0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _0(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function HN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){La(new _s("platform-logger",e=>new iN(e),"PRIVATE")),La(new _s("heartbeat",e=>new BN(e),"PRIVATE")),Dr(Nm,p0,t),Dr(Nm,p0,"esm2017"),Dr("fire-js","")}GN("");var $N="firebase",QN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr($N,QN,"app");function hg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YN=mT,pT=new ru("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new lg("@firebase/auth");function KN(t,...e){gh.logLevel<=_e.WARN&&gh.warn(`Auth (${no}): ${t}`,...e)}function Ac(t,...e){gh.logLevel<=_e.ERROR&&gh.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw dg(t,...e)}function Kn(t,...e){return dg(t,...e)}function gT(t,e,n){const i=Object.assign(Object.assign({},YN()),{[e]:n});return new ru("auth","Firebase",i).create(e,{appName:t.name})}function Ci(t){return gT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pT.create(t,...e)}function oe(t,e,...n){if(!t)throw dg(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Pi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XN(){return b0()==="http:"||b0()==="https:"}function b0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||SR()||"connection"in navigator)?navigator.onLine:!0}function ZN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=TR()||AR()}get(){return WN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tI=new au(3e4,6e4);function ou(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function io(t,e,n,i,r={}){return vT(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=su(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return xR()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&to(t.emulatorConfig.host)&&(h.credentials="include"),yT.fetch()(await _T(t,t.config.apiHost,n,l),h)})}async function vT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},JN),e);try{const r=new nI(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw nc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw nc(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw gT(t,f,h);ji(t,f)}}catch(r){if(r instanceof qi)throw r;ji(t,"network-request-failed",{message:String(r)})}}async function mg(t,e,n,i,r={}){const s=await io(t,e,n,i,r);return"mfaPendingCredential"in s&&ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function _T(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?fg(t.config,r):`${t.config.apiScheme}://${r}`;return eI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),tI.get())})}}function nc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Kn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(t,e=!1){const n=Bt(t),i=await n.getIdToken(e),r=pg(i);oe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:hl(xf(r.auth_time)),issuedAtTime:hl(xf(r.iat)),expirationTime:hl(xf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function pg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const r=nT(n);return r?JSON.parse(r):(Ac("Failed to decode base64 JWT payload"),null)}catch(r){return Ac("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function E0(t){const e=pg(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof qi&&sI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function sI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Dl(t,yh(n,{idToken:i}));oe(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bT(s.providerUserInfo):[],l=lI(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Mm(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function oI(t){const e=Bt(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function bT(t){return t.map(e=>{var{providerId:n}=e,i=hg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e){const n=await vT(t,{},async()=>{const i=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await _T(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&to(t.emulatorConfig.host)&&(u.credentials="include"),yT.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cI(t,e){return io(t,"POST","/v2/accounts:revokeToken",ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=E0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await uI(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ea;return i&&(oe(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(oe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rI(this,e)}reload(){return oI(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Dl(this,iI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,l,u,h,f;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(a=n.photoURL)!==null&&a!==void 0?a:void 0,D=(l=n.tenantId)!==null&&l!==void 0?l:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(h=n.createdAt)!==null&&h!==void 0?h:void 0,b=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:I,isAnonymous:L,providerData:H,stsTokenManager:_}=n;oe(w&&_,e,"internal-error");const E=Ea.fromJSON(this.name,_);oe(typeof w=="string",e,"internal-error"),rr(m,e.name),rr(g,e.name),oe(typeof I=="boolean",e,"internal-error"),oe(typeof L=="boolean",e,"internal-error"),rr(y,e.name),rr(N,e.name),rr(D,e.name),rr(M,e.name),rr(x,e.name),rr(b,e.name);const A=new Mn({uid:w,auth:e,email:g,emailVerified:I,displayName:m,isAnonymous:L,photoURL:N,phoneNumber:y,tenantId:D,stsTokenManager:E,createdAt:x,lastLoginAt:b});return H&&Array.isArray(H)&&(A.providerData=H.map(v=>Object.assign({},v))),M&&(A._redirectEventId=M),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ea;r.updateFromServerResponse(n);const s=new Mn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await vh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];oe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?bT(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ea;l.updateFromIdToken(i);const u=new Mn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Mm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;function wi(t){Pi(t instanceof Function,"Expected a class definition");let e=T0.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ET.type="NONE";const w0=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Mn._fromGetAccountInfoResponse(this.auth,n,e):null}return Mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ta(wi(w0),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||wi(w0);const a=Cc(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(a);if(f){let m;if(typeof f=="string"){const g=await yh(e,{idToken:f}).catch(()=>{});if(!g)break;m=await Mn._fromGetAccountInfoResponse(e,g,f)}else m=Mn._fromJSON(e,f);h!==s&&(l=m),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ta(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ta(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ST(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(RT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TT(t=Lt()){return/firefox\//i.test(t)}function wT(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(t=Lt()){return/crios\//i.test(t)}function ST(t=Lt()){return/iemobile/i.test(t)}function AT(t=Lt()){return/android/i.test(t)}function CT(t=Lt()){return/blackberry/i.test(t)}function RT(t=Lt()){return/webos/i.test(t)}function gg(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hI(t=Lt()){var e;return gg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dI(){return CR()&&document.documentMode===10}function NT(t=Lt()){return gg(t)||AT(t)||RT(t)||CT(t)||/windows phone/i.test(t)||ST(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e=[]){let n;switch(t){case"Browser":n=x0(Lt());break;case"Worker":n=`${x0(Lt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(t,e={}){return io(t,"GET","/v2/passwordPolicy",ou(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class gI{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),i=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Ci(this));const n=e?Bt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mI(this),n=new gI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await cI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lu(t){return Bt(t)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vI(t){yg=t}function _I(t){return yg.loadJS(t)}function bI(){return yg.gapiScript}function EI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){const n=cg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(vs(s,e??{}))return r;ji(r,"already-initialized")}return n.initialize({options:e})}function wI(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function xI(t,e,n){const i=lu(t);oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=kT(e),{host:a,port:l}=SI(e),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),oe(vs(h,i.config.emulator)&&vs(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,to(a)?(aT(`${s}//${a}${u}`),oT("Auth",!0)):AI()}function kT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SI(t){const e=kT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:A0(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:A0(a)}}}function A0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e){return mg(t,"POST","/v1/accounts:signInWithIdp",ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class bs extends DT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=hg(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new bs(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return wa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,wa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wa(e,n)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends uu{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return mr.credential(n,i)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends uu{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends uu{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return gr.credential(n,i)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,e){return mg(t,"POST","/v1/accounts:signUp",ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Mn._fromIdTokenResponse(e,i,r),a=C0(i);return new Vi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=C0(i);return new Vi({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function C0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t){var e;if(_n(t.app))return Promise.reject(Ci(t));const n=lu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Vi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await RI(n,{returnSecureToken:!0}),r=await Vi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends qi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new _h(e,n,i,r)}}function OT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,s,e,i):s})}async function II(t,e,n=!1){const i=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e,n=!1){const{auth:i}=t;if(_n(i.app))return Promise.reject(Ci(i));const r="reauthenticate";try{const s=await Dl(t,OT(i,r,e,t),n);oe(s.idToken,i,"internal-error");const a=pg(s.idToken);oe(a,i,"internal-error");const{sub:l}=a;return oe(t.uid===l,i,"user-mismatch"),Vi._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ji(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e,n=!1){if(_n(t.app))return Promise.reject(Ci(t));const i="signIn",r=await OT(t,i,e),s=await Vi._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e){return mg(t,"POST","/v1/accounts:signInWithCustomToken",ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e){if(_n(t.app))return Promise.reject(Ci(t));const n=lu(t),i=await MI(n,{token:e,returnSecureToken:!0}),r=await Vi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function jI(t,e,n,i){return Bt(t).onIdTokenChanged(e,n,i)}function PI(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function VI(t,e,n,i){return Bt(t).onAuthStateChanged(e,n,i)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,UI=10;class PT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);dI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,UI):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const zI=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VT.type="SESSION";const LT=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new rd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await BI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=vg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function qI(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function HI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $I(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",QI=1,Eh="firebaseLocalStorage",BT="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function YI(){const t=indexedDB.deleteDatabase(zT);return new cu(t).toPromise()}function Om(){const t=indexedDB.open(zT,QI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Eh,{keyPath:BT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Eh)?e(i):(i.close(),await YI(),e(await Om()))})})}async function R0(t,e,n){const i=sd(t,!0).put({[BT]:e,value:n});return new cu(i).toPromise()}async function KI(t,e){const n=sd(t,!1).get(e),i=await new cu(n).toPromise();return i===void 0?null:i.value}function N0(t,e){const n=sd(t,!0).delete(e);return new cu(n).toPromise()}const XI=800,WI=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>WI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance($I()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await R0(e,bh,"1"),await N0(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>R0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>KI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=sd(r,!1).getAll();return new cu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const ZI=FT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){return e?wi(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends DT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e4(t){return DI(t.auth,new _g(t),t.bypassAuthState)}function t4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),kI(n,new _g(t),t.bypassAuthState)}async function n4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),II(n,new _g(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e4;case"linkViaPopup":case"linkViaRedirect":return n4;case"reauthViaPopup":case"reauthViaRedirect":return t4;default:ji(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new au(2e3,1e4);class da extends qT{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i4.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="pendingRedirect",Rc=new Map;class s4 extends qT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const i=await a4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a4(t,e){const n=u4(e),i=l4(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function o4(t,e){Rc.set(t._key(),e)}function l4(t){return wi(t._redirectPersistence)}function u4(t){return Cc(r4,t.config.apiKey,t.name)}async function c4(t,e,n=!1){if(_n(t.app))return Promise.reject(Ci(t));const i=lu(t),r=JI(i,e),a=await new s4(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=10*60*1e3;class d4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!HT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h4&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g4=/^https?/;async function y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m4(t);for(const n of e)try{if(v4(n))return}catch{}ji(t,"unauthorized-domain")}function v4(t){const e=Dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!g4.test(n))return!1;if(p4.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new au(3e4,6e4);function k0(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b4(t){return new Promise((e,n)=>{var i,r,s;function a(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Kn(t,"network-request-failed"))},timeout:_4.get()})}if(!((r=(i=Xn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)a();else{const l=EI("iframefcb");return Xn()[l]=()=>{gapi.load?a():n(Kn(t,"network-request-failed"))},_I(`${bI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function E4(t){return Nc=Nc||b4(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new au(5e3,15e3),w4="__/auth/iframe",x4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fg(e,x4):`https://${t.config.authDomain}/${w4}`,i={apiKey:e.apiKey,appName:t.name,v:no},r=A4.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${su(i).slice(1)}`}async function R4(t){const e=await E4(t),n=Xn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:C4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Kn(t,"network-request-failed"),l=Xn().setTimeout(()=>{s(a)},T4.get());function u(){Xn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I4=500,k4=600,D4="_blank",M4="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O4(t,e,n,i=I4,r=k4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},N4),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Lt().toLowerCase();n&&(l=xT(h)?D4:n),TT(h)&&(e=e||M4,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,N])=>`${g}${y}=${N},`,"");if(hI(h)&&l!=="_self")return j4(e||"",l),new D0(null);const m=window.open(e||"",l,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new D0(m)}function j4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="__/auth/handler",V4="emulator/auth/handler",L4=encodeURIComponent("fac");async function M0(t,e,n,i,r,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:no,eventId:r};if(e instanceof MT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",OR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof uu){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${L4}=${encodeURIComponent(u)}`:"";return`${U4(t)}?${su(l).slice(1)}${h}`}function U4({config:t}){return t.emulator?fg(t,V4):`https://${t.authDomain}/${P4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="webStorageSupport";class z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=c4,this._overrideRedirectResult=o4}async _openPopup(e,n,i,r){var s;Pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await M0(e,n,i,Dm(),r);return O4(e,a,vg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await M0(e,n,i,Dm(),r);return qI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Pi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await R4(e),i=new d4(e);return n.register("authEvent",r=>(oe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sf,{type:Sf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Sf];a!==void 0&&n(!!a),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||wT()||gg()}}const B4=z4;var O0="@firebase/auth",j0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H4(t){La(new _s("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;oe(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(t)},h=new yI(i,r,s,u);return wI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),La(new _s("auth-internal",e=>{const n=lu(e.getProvider("auth").getImmediate());return(i=>new F4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(O0,j0,q4(t)),Dr(O0,j0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=5*60,$4=sT("authIdTokenMaxAge")||G4;let P0=null;const Q4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$4)return;const r=n==null?void 0:n.token;P0!==r&&(P0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Y4(t=hT()){const e=cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TI(t,{popupRedirectResolver:B4,persistence:[ZI,zI,LT]}),i=sT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Q4(s.toString());PI(n,a,()=>a(n.currentUser)),jI(n,l=>a(l))}}const r=iT("auth");return r&&xI(n,`http://${r}`),n}function K4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",K4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H4("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,GT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,E){function A(){}A.prototype=E.prototype,_.D=E.prototype,_.prototype=new A,_.prototype.constructor=_,_.C=function(v,R,k){for(var S=Array(arguments.length-2),we=2;we<arguments.length;we++)S[we-2]=arguments[we];return E.prototype[R].apply(v,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(_,E,A){A||(A=0);var v=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)v[R]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(R=0;16>R;++R)v[R]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=_.g[0],A=_.g[1],R=_.g[2];var k=_.g[3],S=E+(k^A&(R^k))+v[0]+3614090360&4294967295;E=A+(S<<7&4294967295|S>>>25),S=k+(R^E&(A^R))+v[1]+3905402710&4294967295,k=E+(S<<12&4294967295|S>>>20),S=R+(A^k&(E^A))+v[2]+606105819&4294967295,R=k+(S<<17&4294967295|S>>>15),S=A+(E^R&(k^E))+v[3]+3250441966&4294967295,A=R+(S<<22&4294967295|S>>>10),S=E+(k^A&(R^k))+v[4]+4118548399&4294967295,E=A+(S<<7&4294967295|S>>>25),S=k+(R^E&(A^R))+v[5]+1200080426&4294967295,k=E+(S<<12&4294967295|S>>>20),S=R+(A^k&(E^A))+v[6]+2821735955&4294967295,R=k+(S<<17&4294967295|S>>>15),S=A+(E^R&(k^E))+v[7]+4249261313&4294967295,A=R+(S<<22&4294967295|S>>>10),S=E+(k^A&(R^k))+v[8]+1770035416&4294967295,E=A+(S<<7&4294967295|S>>>25),S=k+(R^E&(A^R))+v[9]+2336552879&4294967295,k=E+(S<<12&4294967295|S>>>20),S=R+(A^k&(E^A))+v[10]+4294925233&4294967295,R=k+(S<<17&4294967295|S>>>15),S=A+(E^R&(k^E))+v[11]+2304563134&4294967295,A=R+(S<<22&4294967295|S>>>10),S=E+(k^A&(R^k))+v[12]+1804603682&4294967295,E=A+(S<<7&4294967295|S>>>25),S=k+(R^E&(A^R))+v[13]+4254626195&4294967295,k=E+(S<<12&4294967295|S>>>20),S=R+(A^k&(E^A))+v[14]+2792965006&4294967295,R=k+(S<<17&4294967295|S>>>15),S=A+(E^R&(k^E))+v[15]+1236535329&4294967295,A=R+(S<<22&4294967295|S>>>10),S=E+(R^k&(A^R))+v[1]+4129170786&4294967295,E=A+(S<<5&4294967295|S>>>27),S=k+(A^R&(E^A))+v[6]+3225465664&4294967295,k=E+(S<<9&4294967295|S>>>23),S=R+(E^A&(k^E))+v[11]+643717713&4294967295,R=k+(S<<14&4294967295|S>>>18),S=A+(k^E&(R^k))+v[0]+3921069994&4294967295,A=R+(S<<20&4294967295|S>>>12),S=E+(R^k&(A^R))+v[5]+3593408605&4294967295,E=A+(S<<5&4294967295|S>>>27),S=k+(A^R&(E^A))+v[10]+38016083&4294967295,k=E+(S<<9&4294967295|S>>>23),S=R+(E^A&(k^E))+v[15]+3634488961&4294967295,R=k+(S<<14&4294967295|S>>>18),S=A+(k^E&(R^k))+v[4]+3889429448&4294967295,A=R+(S<<20&4294967295|S>>>12),S=E+(R^k&(A^R))+v[9]+568446438&4294967295,E=A+(S<<5&4294967295|S>>>27),S=k+(A^R&(E^A))+v[14]+3275163606&4294967295,k=E+(S<<9&4294967295|S>>>23),S=R+(E^A&(k^E))+v[3]+4107603335&4294967295,R=k+(S<<14&4294967295|S>>>18),S=A+(k^E&(R^k))+v[8]+1163531501&4294967295,A=R+(S<<20&4294967295|S>>>12),S=E+(R^k&(A^R))+v[13]+2850285829&4294967295,E=A+(S<<5&4294967295|S>>>27),S=k+(A^R&(E^A))+v[2]+4243563512&4294967295,k=E+(S<<9&4294967295|S>>>23),S=R+(E^A&(k^E))+v[7]+1735328473&4294967295,R=k+(S<<14&4294967295|S>>>18),S=A+(k^E&(R^k))+v[12]+2368359562&4294967295,A=R+(S<<20&4294967295|S>>>12),S=E+(A^R^k)+v[5]+4294588738&4294967295,E=A+(S<<4&4294967295|S>>>28),S=k+(E^A^R)+v[8]+2272392833&4294967295,k=E+(S<<11&4294967295|S>>>21),S=R+(k^E^A)+v[11]+1839030562&4294967295,R=k+(S<<16&4294967295|S>>>16),S=A+(R^k^E)+v[14]+4259657740&4294967295,A=R+(S<<23&4294967295|S>>>9),S=E+(A^R^k)+v[1]+2763975236&4294967295,E=A+(S<<4&4294967295|S>>>28),S=k+(E^A^R)+v[4]+1272893353&4294967295,k=E+(S<<11&4294967295|S>>>21),S=R+(k^E^A)+v[7]+4139469664&4294967295,R=k+(S<<16&4294967295|S>>>16),S=A+(R^k^E)+v[10]+3200236656&4294967295,A=R+(S<<23&4294967295|S>>>9),S=E+(A^R^k)+v[13]+681279174&4294967295,E=A+(S<<4&4294967295|S>>>28),S=k+(E^A^R)+v[0]+3936430074&4294967295,k=E+(S<<11&4294967295|S>>>21),S=R+(k^E^A)+v[3]+3572445317&4294967295,R=k+(S<<16&4294967295|S>>>16),S=A+(R^k^E)+v[6]+76029189&4294967295,A=R+(S<<23&4294967295|S>>>9),S=E+(A^R^k)+v[9]+3654602809&4294967295,E=A+(S<<4&4294967295|S>>>28),S=k+(E^A^R)+v[12]+3873151461&4294967295,k=E+(S<<11&4294967295|S>>>21),S=R+(k^E^A)+v[15]+530742520&4294967295,R=k+(S<<16&4294967295|S>>>16),S=A+(R^k^E)+v[2]+3299628645&4294967295,A=R+(S<<23&4294967295|S>>>9),S=E+(R^(A|~k))+v[0]+4096336452&4294967295,E=A+(S<<6&4294967295|S>>>26),S=k+(A^(E|~R))+v[7]+1126891415&4294967295,k=E+(S<<10&4294967295|S>>>22),S=R+(E^(k|~A))+v[14]+2878612391&4294967295,R=k+(S<<15&4294967295|S>>>17),S=A+(k^(R|~E))+v[5]+4237533241&4294967295,A=R+(S<<21&4294967295|S>>>11),S=E+(R^(A|~k))+v[12]+1700485571&4294967295,E=A+(S<<6&4294967295|S>>>26),S=k+(A^(E|~R))+v[3]+2399980690&4294967295,k=E+(S<<10&4294967295|S>>>22),S=R+(E^(k|~A))+v[10]+4293915773&4294967295,R=k+(S<<15&4294967295|S>>>17),S=A+(k^(R|~E))+v[1]+2240044497&4294967295,A=R+(S<<21&4294967295|S>>>11),S=E+(R^(A|~k))+v[8]+1873313359&4294967295,E=A+(S<<6&4294967295|S>>>26),S=k+(A^(E|~R))+v[15]+4264355552&4294967295,k=E+(S<<10&4294967295|S>>>22),S=R+(E^(k|~A))+v[6]+2734768916&4294967295,R=k+(S<<15&4294967295|S>>>17),S=A+(k^(R|~E))+v[13]+1309151649&4294967295,A=R+(S<<21&4294967295|S>>>11),S=E+(R^(A|~k))+v[4]+4149444226&4294967295,E=A+(S<<6&4294967295|S>>>26),S=k+(A^(E|~R))+v[11]+3174756917&4294967295,k=E+(S<<10&4294967295|S>>>22),S=R+(E^(k|~A))+v[2]+718787259&4294967295,R=k+(S<<15&4294967295|S>>>17),S=A+(k^(R|~E))+v[9]+3951481745&4294967295,_.g[0]=_.g[0]+E&4294967295,_.g[1]=_.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+k&4294967295}i.prototype.u=function(_,E){E===void 0&&(E=_.length);for(var A=E-this.blockSize,v=this.B,R=this.h,k=0;k<E;){if(R==0)for(;k<=A;)r(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<E;)if(v[R++]=_.charCodeAt(k++),R==this.blockSize){r(this,v),R=0;break}}else for(;k<E;)if(v[R++]=_[k++],R==this.blockSize){r(this,v),R=0;break}}this.h=R,this.o+=E},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var E=1;E<_.length-8;++E)_[E]=0;var A=8*this.o;for(E=_.length-8;E<_.length;++E)_[E]=A&255,A/=256;for(this.u(_),_=Array(16),E=A=0;4>E;++E)for(var v=0;32>v;v+=8)_[A++]=this.g[E]>>>v&255;return _};function s(_,E){var A=l;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=E(_)}function a(_,E){this.h=E;for(var A=[],v=!0,R=_.length-1;0<=R;R--){var k=_[R]|0;v&&k==E||(A[R]=k,v=!1)}this.g=A}var l={};function u(_){return-128<=_&&128>_?s(_,function(E){return new a([E|0],0>E?-1:0)}):new a([_|0],0>_?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return m;if(0>_)return M(h(-_));for(var E=[],A=1,v=0;_>=A;v++)E[v]=_/A|0,A*=4294967296;return new a(E,0)}function f(_,E){if(_.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_.charAt(0)=="-")return M(f(_.substring(1),E));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(E,8)),v=m,R=0;R<_.length;R+=8){var k=Math.min(8,_.length-R),S=parseInt(_.substring(R,R+k),E);8>k?(k=h(Math.pow(E,k)),v=v.j(k).add(h(S))):(v=v.j(A),v=v.add(h(S)))}return v}var m=u(0),g=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-M(this).m();for(var _=0,E=1,A=0;A<this.g.length;A++){var v=this.i(A);_+=(0<=v?v:4294967296+v)*E,E*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(N(this))return"0";if(D(this))return"-"+M(this).toString(_);for(var E=h(Math.pow(_,6)),A=this,v="";;){var R=I(A,E).g;A=x(A,R.j(E));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(_);if(A=R,N(A))return k+v;for(;6>k.length;)k="0"+k;v=k+v}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function N(_){if(_.h!=0)return!1;for(var E=0;E<_.g.length;E++)if(_.g[E]!=0)return!1;return!0}function D(_){return _.h==-1}t.l=function(_){return _=x(this,_),D(_)?-1:N(_)?0:1};function M(_){for(var E=_.g.length,A=[],v=0;v<E;v++)A[v]=~_.g[v];return new a(A,~_.h).add(g)}t.abs=function(){return D(this)?M(this):this},t.add=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],v=0,R=0;R<=E;R++){var k=v+(this.i(R)&65535)+(_.i(R)&65535),S=(k>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);v=S>>>16,k&=65535,S&=65535,A[R]=S<<16|k}return new a(A,A[A.length-1]&-2147483648?-1:0)};function x(_,E){return _.add(M(E))}t.j=function(_){if(N(this)||N(_))return m;if(D(this))return D(_)?M(this).j(M(_)):M(M(this).j(_));if(D(_))return M(this.j(M(_)));if(0>this.l(y)&&0>_.l(y))return h(this.m()*_.m());for(var E=this.g.length+_.g.length,A=[],v=0;v<2*E;v++)A[v]=0;for(v=0;v<this.g.length;v++)for(var R=0;R<_.g.length;R++){var k=this.i(v)>>>16,S=this.i(v)&65535,we=_.i(R)>>>16,ne=_.i(R)&65535;A[2*v+2*R]+=S*ne,b(A,2*v+2*R),A[2*v+2*R+1]+=k*ne,b(A,2*v+2*R+1),A[2*v+2*R+1]+=S*we,b(A,2*v+2*R+1),A[2*v+2*R+2]+=k*we,b(A,2*v+2*R+2)}for(v=0;v<E;v++)A[v]=A[2*v+1]<<16|A[2*v];for(v=E;v<2*E;v++)A[v]=0;return new a(A,0)};function b(_,E){for(;(_[E]&65535)!=_[E];)_[E+1]+=_[E]>>>16,_[E]&=65535,E++}function w(_,E){this.g=_,this.h=E}function I(_,E){if(N(E))throw Error("division by zero");if(N(_))return new w(m,m);if(D(_))return E=I(M(_),E),new w(M(E.g),M(E.h));if(D(E))return E=I(_,M(E)),new w(M(E.g),E.h);if(30<_.g.length){if(D(_)||D(E))throw Error("slowDivide_ only works with positive integers.");for(var A=g,v=E;0>=v.l(_);)A=L(A),v=L(v);var R=H(A,1),k=H(v,1);for(v=H(v,2),A=H(A,2);!N(v);){var S=k.add(v);0>=S.l(_)&&(R=R.add(A),k=S),v=H(v,1),A=H(A,1)}return E=x(_,R.j(E)),new w(R,E)}for(R=m;0<=_.l(E);){for(A=Math.max(1,Math.floor(_.m()/E.m())),v=Math.ceil(Math.log(A)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),k=h(A),S=k.j(E);D(S)||0<S.l(_);)A-=v,k=h(A),S=k.j(E);N(k)&&(k=g),R=R.add(k),_=x(_,S)}return new w(R,_)}t.A=function(_){return I(this,_).h},t.and=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],v=0;v<E;v++)A[v]=this.i(v)&_.i(v);return new a(A,this.h&_.h)},t.or=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],v=0;v<E;v++)A[v]=this.i(v)|_.i(v);return new a(A,this.h|_.h)},t.xor=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],v=0;v<E;v++)A[v]=this.i(v)^_.i(v);return new a(A,this.h^_.h)};function L(_){for(var E=_.g.length+1,A=[],v=0;v<E;v++)A[v]=_.i(v)<<1|_.i(v-1)>>>31;return new a(A,_.h)}function H(_,E){var A=E>>5;E%=32;for(var v=_.g.length-A,R=[],k=0;k<v;k++)R[k]=0<E?_.i(k+A)>>>E|_.i(k+A+1)<<32-E:_.i(k+A);return new a(R,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,GT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Mr=a}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,Ho,QT,Ic,jm,YT,KT,XT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,p){return o==Array.prototype||o==Object.prototype||(o[d]=p.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var d=0;d<o.length;++d){var p=o[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(o,d){if(d)e:{var p=i;o=o.split(".");for(var T=0;T<o.length-1;T++){var O=o[T];if(!(O in p))break e;p=p[O]}o=o[o.length-1],T=p[o],d=d(T),d!=T&&d!=null&&e(p,o,{configurable:!0,writable:!0,value:d})}}function s(o,d){o instanceof String&&(o+="");var p=0,T=!1,O={next:function(){if(!T&&p<o.length){var j=p++;return{value:d(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(o){return o||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function h(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function f(o,d,p){return o.call.apply(o.bind,arguments)}function m(o,d,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,T),o.apply(d,O)}}return function(){return o.apply(d,arguments)}}function g(o,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function y(o,d){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function N(o,d){function p(){}p.prototype=d.prototype,o.aa=d.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,O,j){for(var Y=Array(arguments.length-2),je=2;je<arguments.length;je++)Y[je-2]=arguments[je];return d.prototype[O].apply(T,Y)}}function D(o){const d=o.length;if(0<d){const p=Array(d);for(let T=0;T<d;T++)p[T]=o[T];return p}return[]}function M(o,d){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(u(T)){const O=o.length||0,j=T.length||0;o.length=O+j;for(let Y=0;Y<j;Y++)o[O+Y]=T[Y]}else o.push(T)}}class x{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function b(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function I(o){return I[" "](o),o}I[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function H(o,d,p){for(const T in o)d.call(p,o[T],T,o)}function _(o,d){for(const p in o)d.call(void 0,o[p],p,o)}function E(o){const d={};for(const p in o)d[p]=o[p];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,d){let p,T;for(let O=1;O<arguments.length;O++){T=arguments[O];for(p in T)o[p]=T[p];for(let j=0;j<A.length;j++)p=A[j],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function R(o){var d=1;o=o.split(":");const p=[];for(;0<d&&o.length;)p.push(o.shift()),d--;return o.length&&p.push(o.join(":")),p}function k(o){l.setTimeout(()=>{throw o},0)}function S(){var o=ee;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class we{constructor(){this.h=this.g=null}add(d,p){const T=ne.get();T.set(d,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new x(()=>new z,o=>o.reset());class z{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let X,J=!1,ee=new we,B=()=>{const o=l.Promise.resolve(void 0);X=()=>{o.then(q)}};var q=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(p){k(p)}var d=ne;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}J=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return o}();function de(o,d){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(L){e:{try{I(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else p=="mouseover"?d=o.fromElement:p=="mouseout"&&(d=o.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:We[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&de.aa.h.call(this)}}N(de,$);var We={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function Ce(o,d,p,T,O){this.listener=o,this.proxy=null,this.src=d,this.type=p,this.capture=!!T,this.ha=O,this.key=++Cn,this.da=this.fa=!1}function Rn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function qt(o){this.src=o,this.g={},this.h=0}qt.prototype.add=function(o,d,p,T,O){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var Y=cn(o,d,T,O);return-1<Y?(d=o[Y],p||(d.fa=!1)):(d=new Ce(d,this.src,j,!!T,O),d.fa=p,o.push(d)),d};function lo(o,d){var p=d.type;if(p in o.g){var T=o.g[p],O=Array.prototype.indexOf.call(T,d,void 0),j;(j=0<=O)&&Array.prototype.splice.call(T,O,1),j&&(Rn(d),o.g[p].length==0&&(delete o.g[p],o.h--))}}function cn(o,d,p,T){for(var O=0;O<o.length;++O){var j=o[O];if(!j.da&&j.listener==d&&j.capture==!!p&&j.ha==T)return O}return-1}var Hi="closure_lm_"+(1e6*Math.random()|0),Nn={};function Ms(o,d,p,T,O){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Ms(o,d[j],p,T,O);return null}return p=zn(p),o&&o[Zt]?o.K(d,p,h(T)?!!T.capture:!1,O):Sd(o,d,p,!1,T,O)}function Sd(o,d,p,T,O,j){if(!d)throw Error("Invalid event type");var Y=h(O)?!!O.capture:!!O,je=uo(o);if(je||(o[Hi]=je=new qt(o)),p=je.add(d,p,T,Y,j),p.proxy)return p;if(T=yu(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)te||(O=Y),O===void 0&&(O=!1),o.addEventListener(d.toString(),T,O);else if(o.attachEvent)o.attachEvent(vu(d.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yu(){function o(p){return d.call(o.src,o.listener,p)}const d=Ad;return o}function Un(o,d,p,T,O){if(Array.isArray(d))for(var j=0;j<d.length;j++)Un(o,d[j],p,T,O);else T=h(T)?!!T.capture:!!T,p=zn(p),o&&o[Zt]?(o=o.i,d=String(d).toString(),d in o.g&&(j=o.g[d],p=cn(j,p,T,O),-1<p&&(Rn(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete o.g[d],o.h--)))):o&&(o=uo(o))&&(d=o.g[d.toString()],o=-1,d&&(o=cn(d,p,T,O)),(p=-1<o?d[o]:null)&&Os(p))}function Os(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[Zt])lo(d.i,o);else{var p=o.type,T=o.proxy;d.removeEventListener?d.removeEventListener(p,T,o.capture):d.detachEvent?d.detachEvent(vu(p),T):d.addListener&&d.removeListener&&d.removeListener(T),(p=uo(d))?(lo(p,o),p.h==0&&(p.src=null,d[Hi]=null)):Rn(o)}}}function vu(o){return o in Nn?Nn[o]:Nn[o]="on"+o}function Ad(o,d){if(o.da)o=!0;else{d=new de(d,this);var p=o.listener,T=o.ha||o.src;o.fa&&Os(o),o=p.call(T,d)}return o}function uo(o){return o=o[Hi],o instanceof qt?o:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(o){return typeof o=="function"?o:(o[co]||(o[co]=function(d){return o.handleEvent(d)}),o[co])}function dt(){re.call(this),this.i=new qt(this),this.M=this,this.F=null}N(dt,re),dt.prototype[Zt]=!0,dt.prototype.removeEventListener=function(o,d,p,T){Un(this,o,d,p,T)};function Ze(o,d){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=d.type||d,typeof d=="string")d=new $(d,o);else if(d instanceof $)d.target=d.target||o;else{var O=d;d=new $(T,o),v(d,O)}if(O=!0,p)for(var j=p.length-1;0<=j;j--){var Y=d.g=p[j];O=Qr(Y,T,!0,d)&&O}if(Y=d.g=o,O=Qr(Y,T,!0,d)&&O,O=Qr(Y,T,!1,d)&&O,p)for(j=0;j<p.length;j++)Y=d.g=p[j],O=Qr(Y,T,!1,d)&&O}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var p=o.g[d],T=0;T<p.length;T++)Rn(p[T]);delete o.g[d],o.h--}}this.F=null},dt.prototype.K=function(o,d,p,T){return this.i.add(String(o),d,!1,p,T)},dt.prototype.L=function(o,d,p,T){return this.i.add(String(o),d,!0,p,T)};function Qr(o,d,p,T){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,j=0;j<d.length;++j){var Y=d[j];if(Y&&!Y.da&&Y.capture==p){var je=Y.listener,xt=Y.ha||Y.src;Y.fa&&lo(o.i,Y),O=je.call(xt,T)!==!1&&O}}return O&&!T.defaultPrevented}function _u(o,d,p){if(typeof o=="function")p&&(o=g(o,p));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(o,d||0)}function ho(o){o.g=_u(()=>{o.g=null,o.i&&(o.i=!1,ho(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class fo extends re{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(o){re.call(this),this.h=o,this.g={}}N(Ht,re);var at=[];function bu(o){H(o.g,function(d,p){this.g.hasOwnProperty(p)&&Os(d)},o),o.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),bu(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=l.JSON.stringify,Cd=l.JSON.parse,mo=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function js(){}js.prototype.h=null;function po(o){return o.h||(o.h=o.i())}function go(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eu(){$.call(this,"d")}N(Eu,$);function $i(){$.call(this,"c")}N($i,$);var In={},yo=null;function Ps(){return yo=yo||new dt}In.La="serverreachability";function Tu(o){$.call(this,In.La,o)}N(Tu,$);function Qi(o){const d=Ps();Ze(d,new Tu(d))}In.STAT_EVENT="statevent";function Vs(o,d){$.call(this,In.STAT_EVENT,o),this.stat=d}N(Vs,$);function yt(o){const d=Ps();Ze(d,new Vs(d,o))}In.Ma="timingevent";function wu(o,d){$.call(this,In.Ma,o),this.size=d}N(wu,$);function Ne(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},d)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function le(o,d,p,T,O,j){o.info(function(){if(o.g)if(j)for(var Y="",je=j.split("&"),xt=0;xt<je.length;xt++){var xe=je[xt].split("=");if(1<xe.length){var kt=xe[0];xe=xe[1];var Dt=kt.split("_");Y=2<=Dt.length&&Dt[1]=="type"?Y+(kt+"="+xe+"&"):Y+(kt+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+T+") [attempt "+O+"]: "+d+`
`+p+`
`+Y})}function Rd(o,d,p,T,O,j,Y){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+O+"]: "+d+`
`+p+`
`+j+" "+Y})}function li(o,d,p,T){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+xu(o,p)+(T?" "+T:"")})}function vo(o,d){o.info(function(){return"TIMEOUT: "+d})}oi.prototype.info=function(){};function xu(o,d){if(!o.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var O=T[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<O.length;Y++)O[Y]=""}}}}return Gi(p)}catch{return d}}var Kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_o={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Xr(){}N(Xr,js),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Yi=new Xr;function hn(o,d,p,T){this.j=o,this.i=d,this.l=p,this.R=T||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}var Ki={},bo={};function Eo(o,d,p){o.L=1,o.v=ku(Gt(d)),o.m=p,o.P=!0,Au(o,null)}function Au(o,d){o.F=Date.now(),Us(o),o.A=Gt(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),cy(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Su,o.g=Ry(o.j,p?d:null,!o.m),0<o.O&&(o.M=new fo(g(o.Y,o,o.g),o.O)),d=o.U,p=o.g,T=o.ca;var O="readystatechange";Array.isArray(O)||(O&&(at[0]=O.toString()),O=at);for(var j=0;j<O.length;j++){var Y=Ms(p,O[j],T||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=o.H?E(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Qi(),le(o.i,o.u,o.A,o.l,o.R,o.m)}hn.prototype.ca=function(o){o=o.target;const d=this.M;d&&di(o)==3?d.j():this.Y(o)},hn.prototype.Y=function(o){try{if(o==this.g)e:{const Dt=di(this.g);var d=this.g.Ba();const Fs=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||yy(this.g)))){this.J||Dt!=4||d==7||(d==8||0>=Fs?Qi(3):Qi(2)),ui(this);var p=this.g.Z();this.X=p;t:if(Ls(this)){var T=yy(this.g);o="";var O=T.length,j=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Xi(this);var Y="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,o+=this.h.i.decode(T[d],{stream:!(j&&d==O-1)});T.length=0,this.h.g+=o,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,Rd(this.i,this.u,this.A,this.l,this.R,Dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(je)){var xe=je;break t}}xe=null}if(p=xe)li(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hi(this,p);else{this.o=!1,this.s=3,yt(12),ci(this),Xi(this);break e}}if(this.P){p=!0;let kn;for(;!this.J&&this.C<Y.length;)if(kn=Cu(this,Y),kn==bo){Dt==4&&(this.s=4,yt(14),p=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Ki){this.s=4,yt(15),li(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else li(this.i,this.l,kn,null),hi(this,kn);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Y.length!=0||this.h.h||(this.s=1,yt(16),p=!1),this.o=this.o&&p,!p)li(this.i,this.l,Y,"[Invalid Chunked Response]"),ci(this),Xi(this);else if(0<Y.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Md(kt),kt.M=!0,yt(11))}}else li(this.i,this.l,Y,null),hi(this,Y);Dt==4&&ci(this),this.o&&!this.J&&(Dt==4?xy(this.j,this):(this.o=!1,Us(this)))}else Uw(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ci(this),Xi(this)}}}catch{}finally{}};function Ls(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Cu(o,d){var p=o.C,T=d.indexOf(`
`,p);return T==-1?bo:(p=Number(d.substring(p,T)),isNaN(p)?Ki:(T+=1,T+p>d.length?bo:(d=d.slice(T,T+p),o.C=T+p,d)))}hn.prototype.cancel=function(){this.J=!0,ci(this)};function Us(o){o.S=Date.now()+o.I,To(o,o.I)}function To(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ne(g(o.ba,o),d)}function ui(o){o.B&&(l.clearTimeout(o.B),o.B=null)}hn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(vo(this.i,this.A),this.L!=2&&(Qi(),yt(17)),ci(this),this.s=2,Xi(this)):To(this,this.S-o)};function Xi(o){o.j.G==0||o.J||xy(o.j,o)}function ci(o){ui(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,bu(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function hi(o,d){try{var p=o.j;if(p.G!=0&&(p.g==o||wo(p.h,o))){if(!o.K&&wo(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var O=T;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Vu(p),ju(p);else break e;Dd(p),yt(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ne(g(p.Za,p),6e3));if(1>=Iu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Wr(p,11)}else if((o.K||p.g==o)&&Vu(p),!b(d))for(O=p.Da.g.parse(d),d=0;d<O.length;d++){let xe=O[d];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];const kt=xe[3];kt!=null&&(p.la=kt,p.j.info("VER="+p.la));const Dt=xe[4];Dt!=null&&(p.Aa=Dt,p.j.info("SVER="+p.Aa));const Fs=xe[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(T=1.5*Fs,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=o.g;if(kn){const Uu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var j=T.h;j.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(P(j,j.h),j.h=null))}if(T.D){const Od=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Od&&(T.ya=Od,ze(T.I,T.D,Od))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var Y=o;if(T.qa=Cy(T,T.J?T.ia:null,T.W),Y.K){G(T.h,Y);var je=Y,xt=T.L;xt&&(je.I=xt),je.B&&(ui(je),Us(je)),T.g=Y}else Ty(T);0<p.i.length&&Pu(p)}else xe[0]!="stop"&&xe[0]!="close"||Wr(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Wr(p,7):kd(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}Qi(4)}catch{}}var Nd=class{constructor(o,d){this.g=o,this.map=d}};function Ru(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nu(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Iu(o){return o.h?1:o.g?o.g.size:0}function wo(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function P(o,d){o.g?o.g.add(d):o.h=d}function G(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Ru.prototype.cancel=function(){if(this.i=Q(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Q(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const p of o.g.values())d=d.concat(p.D);return d}return D(o.i)}function W(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var d=[],p=o.length,T=0;T<p;T++)d.push(o[T]);return d}d=[],p=0;for(T in o)d[p++]=o[T];return d}function ue(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var d=[];o=o.length;for(var p=0;p<o;p++)d.push(p);return d}d=[],p=0;for(const T in o)d[p++]=T;return d}}}function ve(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var p=ue(o),T=W(o),O=T.length,j=0;j<O;j++)d.call(void 0,T[j],p&&p[j],o)}var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ye(o,d){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),O=null;if(0<=T){var j=o[p].substring(0,T);O=o[p].substring(T+1)}else j=o[p];d(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function vt(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof vt){this.h=o.h,Wi(this,o.j),this.o=o.o,this.g=o.g,Zi(this,o.s),this.l=o.l;var d=o.i,p=new Ao;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Ji(this,p),this.m=o.m}else o&&(d=String(o).match(Qe))?(this.h=!1,Wi(this,d[1]||"",!0),this.o=xo(d[2]||""),this.g=xo(d[3]||"",!0),Zi(this,d[4]),this.l=xo(d[5]||"",!0),Ji(this,d[6]||"",!0),this.m=xo(d[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}vt.prototype.toString=function(){var o=[],d=this.j;d&&o.push(So(d,oy,!0),":");var p=this.g;return(p||d=="file")&&(o.push("//"),(d=this.o)&&o.push(So(d,oy,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(So(p,p.charAt(0)=="/"?Nw:Rw,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",So(p,kw)),o.join("")};function Gt(o){return new vt(o)}function Wi(o,d,p){o.j=p?xo(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function Zi(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Ji(o,d,p){d instanceof Ao?(o.i=d,Dw(o.i,o.h)):(p||(d=So(d,Iw)),o.i=new Ao(d,o.h))}function ze(o,d,p){o.i.set(d,p)}function ku(o){return ze(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function xo(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function So(o,d,p){return typeof o=="string"?(o=encodeURI(o).replace(d,Cw),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Cw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var oy=/[#\/\?@]/g,Rw=/[#\?:]/g,Nw=/[#\?]/g,Iw=/[#\?@]/g,kw=/#/g;function Ao(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function er(o){o.g||(o.g=new Map,o.h=0,o.i&&Ye(o.i,function(d,p){o.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Ao.prototype,t.add=function(o,d){er(this),this.i=null,o=zs(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(d),this.h+=1,this};function ly(o,d){er(o),d=zs(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function uy(o,d){return er(o),d=zs(o,d),o.g.has(d)}t.forEach=function(o,d){er(this),this.g.forEach(function(p,T){p.forEach(function(O){o.call(d,O,T,this)},this)},this)},t.na=function(){er(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let T=0;T<d.length;T++){const O=o[T];for(let j=0;j<O.length;j++)p.push(d[T])}return p},t.V=function(o){er(this);let d=[];if(typeof o=="string")uy(this,o)&&(d=d.concat(this.g.get(zs(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)d=d.concat(o[p])}return d},t.set=function(o,d){return er(this),this.i=null,o=zs(this,o),uy(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function cy(o,d,p){ly(o,d),0<p.length&&(o.i=null,o.g.set(zs(o,d),D(p)),o.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var T=d[p];const j=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var O=j;Y[T]!==""&&(O+="="+encodeURIComponent(String(Y[T]))),o.push(O)}}return this.i=o.join("&")};function zs(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function Dw(o,d){d&&!o.j&&(er(o),o.i=null,o.g.forEach(function(p,T){var O=T.toLowerCase();T!=O&&(ly(this,T),cy(this,O,p))},o)),o.j=d}function Mw(o,d){const p=new oi;if(l.Image){const T=new Image;T.onload=y(tr,p,"TestLoadImage: loaded",!0,d,T),T.onerror=y(tr,p,"TestLoadImage: error",!1,d,T),T.onabort=y(tr,p,"TestLoadImage: abort",!1,d,T),T.ontimeout=y(tr,p,"TestLoadImage: timeout",!1,d,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else d(!1)}function Ow(o,d){const p=new oi,T=new AbortController,O=setTimeout(()=>{T.abort(),tr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(O),j.ok?tr(p,"TestPingServer: ok",!0,d):tr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),tr(p,"TestPingServer: error",!1,d)})}function tr(o,d,p,T,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),T(p)}catch{}}function jw(){this.g=new mo}function Pw(o,d,p){const T=p||"";try{ve(o,function(O,j){let Y=O;h(O)&&(Y=Gi(O)),d.push(T+j+"="+encodeURIComponent(Y))})}catch(O){throw d.push(T+"type="+encodeURIComponent("_badmap")),O}}function Du(o){this.l=o.Ub||null,this.j=o.eb||!1}N(Du,js),Du.prototype.g=function(){return new Mu(this.l,this.j)},Du.prototype.i=function(o){return function(){return o}}({});function Mu(o,d){dt.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Mu,dt),t=Mu.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,Ro(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hy(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function hy(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Co(this):Ro(this),this.readyState==3&&hy(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Co(this))},t.Qa=function(o){this.g&&(this.response=o,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ro(o)}t.setRequestHeader=function(o,d){this.u.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=d.next();return o.join(`\r
`)};function Ro(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function dy(o){let d="";return H(o,function(p,T){d+=T,d+=":",d+=p,d+=`\r
`}),d}function Id(o,d,p){e:{for(T in p){var T=!1;break e}T=!0}T||(p=dy(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):ze(o,d,p))}function Je(o){dt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Je,dt);var Vw=/^https?$/i,Lw=["POST","PUT"];t=Je.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,d,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?po(this.o):po(Yi),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(j){fy(this,j);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var O in T)p.set(O,T[O]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),O=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Lw,d,void 0))||T||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of p)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gy(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){fy(this,j)}};function fy(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,my(o),Ou(o)}function my(o){o.A||(o.A=!0,Ze(o,"complete"),Ze(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ze(this,"complete"),Ze(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?py(this):this.bb())},t.bb=function(){py(this)};function py(o){if(o.h&&typeof a<"u"&&(!o.v[1]||di(o)!=4||o.Z()!=2)){if(o.u&&di(o)==4)_u(o.Ea,0,o);else if(Ze(o,"readystatechange"),di(o)==4){o.h=!1;try{const Y=o.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var T;if(T=Y===0){var O=String(o.D).match(Qe)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),T=!Vw.test(O?O.toLowerCase():"")}p=T}if(p)Ze(o,"complete"),Ze(o,"success");else{o.m=6;try{var j=2<di(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",my(o)}}finally{Ou(o)}}}}function Ou(o,d){if(o.g){gy(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||Ze(o,"ready");try{p.onreadystatechange=T}catch{}}}function gy(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function di(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),Cd(d)}};function yy(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uw(o){const d={};o=(o.g&&2<=di(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(b(o[T]))continue;var p=R(o[T]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=d[O]||[];d[O]=j,j.push(p)}_(d,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(o,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||d}function vy(o){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,o),this.cb=No("retryDelaySeedMs",1e4,o),this.Wa=No("forwardChannelMaxRetries",2,o),this.wa=No("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ru(o&&o.concurrentRequestLimit),this.Da=new jw,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vy.prototype,t.la=8,t.G=1,t.connect=function(o,d,p,T){yt(0),this.W=o,this.H=d||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Cy(this,null,this.W),Pu(this)};function kd(o){if(_y(o),o.G==3){var d=o.U++,p=Gt(o.I);if(ze(p,"SID",o.K),ze(p,"RID",d),ze(p,"TYPE","terminate"),Io(o,p),d=new hn(o,o.j,d),d.L=2,d.v=ku(Gt(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=Ry(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Us(d)}Ay(o)}function ju(o){o.g&&(Md(o),o.g.cancel(),o.g=null)}function _y(o){ju(o),o.u&&(l.clearTimeout(o.u),o.u=null),Vu(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Pu(o){if(!Nu(o.h)&&!o.s){o.s=!0;var d=o.Ga;X||B(),J||(X(),J=!0),ee.add(d,o),o.B=0}}function zw(o,d){return Iu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ne(g(o.Ga,o,d),Sy(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const O=new hn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=E(j),v(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Ey(this,O,d),p=Gt(this.I),ze(p,"RID",o),ze(p,"CVER",22),this.D&&ze(p,"X-HTTP-Session-Id",this.D),Io(this,p),j&&(this.O?d="headers="+encodeURIComponent(String(dy(j)))+"&"+d:this.m&&Id(p,this.m,j)),P(this.h,O),this.Ua&&ze(p,"TYPE","init"),this.P?(ze(p,"$req",d),ze(p,"SID","null"),O.T=!0,Eo(O,p,null)):Eo(O,p,d),this.G=2}}else this.G==3&&(o?by(this,o):this.i.length==0||Nu(this.h)||by(this))};function by(o,d){var p;d?p=d.l:p=o.U++;const T=Gt(o.I);ze(T,"SID",o.K),ze(T,"RID",p),ze(T,"AID",o.T),Io(o,T),o.m&&o.o&&Id(T,o.m,o.o),p=new hn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),d&&(o.i=d.D.concat(o.i)),d=Ey(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),P(o.h,p),Eo(p,T,d)}function Io(o,d){o.H&&H(o.H,function(p,T){ze(d,T,p)}),o.l&&ve({},function(p,T){ze(d,T,p)})}function Ey(o,d,p){p=Math.min(o.i.length,p);var T=o.l?g(o.l.Na,o.l,o):null;e:{var O=o.i;let j=-1;for(;;){const Y=["count="+p];j==-1?0<p?(j=O[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let je=!0;for(let xt=0;xt<p;xt++){let xe=O[xt].g;const kt=O[xt].map;if(xe-=j,0>xe)j=Math.max(0,O[xt].g-100),je=!1;else try{Pw(kt,Y,"req"+xe+"_")}catch{T&&T(kt)}}if(je){T=Y.join("&");break e}}}return o=o.i.splice(0,p),d.D=o,T}function Ty(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;X||B(),J||(X(),J=!0),ee.add(d,o),o.v=0}}function Dd(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ne(g(o.Fa,o),Sy(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,wy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ne(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ju(this),wy(this))};function Md(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function wy(o){o.g=new hn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=Gt(o.qa);ze(d,"RID","rpc"),ze(d,"SID",o.K),ze(d,"AID",o.T),ze(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&ze(d,"TO",o.ja),ze(d,"TYPE","xmlhttp"),Io(o,d),o.m&&o.o&&Id(d,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=ku(Gt(d)),p.m=null,p.P=!0,Au(p,o)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),Dd(this),yt(19))};function Vu(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function xy(o,d){var p=null;if(o.g==d){Vu(o),Md(o),o.g=null;var T=2}else if(wo(o.h,d))p=d.D,G(o.h,d),T=1;else return;if(o.G!=0){if(d.o)if(T==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var O=o.B;T=Ps(),Ze(T,new wu(T,p)),Pu(o)}else Ty(o);else if(O=d.s,O==3||O==0&&0<d.X||!(T==1&&zw(o,d)||T==2&&Dd(o)))switch(p&&0<p.length&&(d=o.h,d.i=d.i.concat(p)),O){case 1:Wr(o,5);break;case 4:Wr(o,10);break;case 3:Wr(o,6);break;default:Wr(o,2)}}}function Sy(o,d){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*d}function Wr(o,d){if(o.j.info("Error code "+d),d==2){var p=g(o.fb,o),T=o.Xa;const O=!T;T=new vt(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Wi(T,"https"),ku(T),O?Mw(T.toString(),p):Ow(T.toString(),p)}else yt(2);o.G=0,o.l&&o.l.sa(d),Ay(o),_y(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Ay(o){if(o.G=0,o.ka=[],o.l){const d=Q(o.h);(d.length!=0||o.i.length!=0)&&(M(o.ka,d),M(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function Cy(o,d,p){var T=p instanceof vt?Gt(p):new vt(p);if(T.g!="")d&&(T.g=d+"."+T.g),Zi(T,T.s);else{var O=l.location;T=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var j=new vt(null);T&&Wi(j,T),d&&(j.g=d),O&&Zi(j,O),p&&(j.l=p),T=j}return p=o.D,d=o.ya,p&&d&&ze(T,p,d),ze(T,"VER",o.la),Io(o,T),T}function Ry(o,d,p){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Je(new Du({eb:p})):new Je(o.pa),d.Ha(o.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ny(){}t=Ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lu(){}Lu.prototype.g=function(o,d){return new Jt(o,d)};function Jt(o,d){dt.call(this),this.g=new vy(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!b(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!b(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new Bs(this)}N(Jt,dt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){kd(this.g)},Jt.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Gi(o),o=p);d.i.push(new Nd(d.Ya++,o)),d.G==3&&Pu(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,Jt.aa.N.call(this)};function Iy(o){Eu.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const p in d){o=p;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}N(Iy,Eu);function ky(){$i.call(this),this.status=1}N(ky,$i);function Bs(o){this.g=o}N(Bs,Ny),Bs.prototype.ua=function(){Ze(this.g,"a")},Bs.prototype.ta=function(o){Ze(this.g,new Iy(o))},Bs.prototype.sa=function(o){Ze(this.g,new ky)},Bs.prototype.ra=function(){Ze(this.g,"b")},Lu.prototype.createWebChannel=Lu.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,XT=function(){return new Lu},KT=function(){return Ps()},YT=In,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Ic=Kr,_o.COMPLETE="complete",QT=_o,go.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ho=go,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,$T=Je}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",U0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new lg("@firebase/firestore");function Xs(){return Es.logLevel}function Z(t,...e){if(Es.logLevel<=_e.DEBUG){const n=e.map(bg);Es.debug(`Firestore (${ro}): ${t}`,...n)}}function Li(t,...e){if(Es.logLevel<=_e.ERROR){const n=e.map(bg);Es.error(`Firestore (${ro}): ${t}`,...n)}}function Lr(t,...e){if(Es.logLevel<=_e.WARN){const n=e.map(bg);Es.warn(`Firestore (${ro}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,WT(t,i,n)}function WT(t,e,n){let i=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Li(i),new Error(i)}function Re(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||WT(e,r,i)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class W4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z4{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re(typeof i.accessToken=="string",31837,{l:i}),new ZT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class J4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ek{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new J4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const i=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=nk(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function me(t,e){return t<e?-1:t>e?1:0}function Pm(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return me(i,r);{const s=JT(),a=ik(s.encode(B0(t,n)),s.encode(B0(e,n)));return a!==0?a:me(i,r)}}n+=i>65535?2:1}return me(t.length,e.length)}function B0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ik(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function Ua(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class qn{constructor(e,n,i){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=qn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return me(e.length,n.length)}static compareSegments(e,n){const i=qn.isNumericId(e),r=qn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?qn.extractNumericId(e).compare(qn.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class Pe extends qn{construct(e,n,i){return new Pe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends qn{construct(e,n,i){return new Rt(e,n,i)}static isValidIdentifier(e){return rk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new Rt([F0])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new K(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new K(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Pe.fromString(e))}static fromName(e){return new ie(Pe.fromString(e).popFirst(5))}static empty(){return new ie(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new K(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sk(t,e,n,i){if(e===!0&&i===!0)throw new K(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q0(t){if(!ie.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H0(t){if(ie.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ad(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(t);throw new K(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ak(t,e){if(e<=0)throw new K(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function hu(t,e){if(!t2(t))throw new K(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new K(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,$0=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*$0);return new Be(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:ct("string",Be._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Be(0,0))}static max(){return new ce(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function ok(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ce.fromTimestamp(i===1e9?new Be(n+1,0):new Be(n,i));return new Ur(r,ie.empty(),e)}function lk(t){return new Ur(t.readTime,t.key,Ml)}class Ur{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ur(ce.min(),ie.empty(),Ml)}static max(){return new Ur(ce.max(),ie.empty(),Ml)}}function uk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==ck)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function dk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}od.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function ld(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function fk(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="";function mk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q0(e)),e=pk(t.get(n),e);return Q0(e)}function pk(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case n2:n+="";break;default:n+=s}}return n}function Q0(t){return t+n2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??At.RED,this.left=r??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new At(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return At.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new On([])}unionWith(e){let n=new pt(Rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r2("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=gk.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="server_timestamp",a2="__type__",o2="__previous_value__",l2="__local_write_time__";function ud(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[a2])===null||n===void 0?void 0:n.stringValue)===s2}function cd(t){const e=t.mapValue.fields[o2];return ud(e)?cd(e):e}function Ol(t){const e=zr(t.mapValue.fields[l2].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,i,r,s,a,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const wh="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="__type__",vk="__max__",sc={mapValue:{}},c2="__vector__",xh="value";function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ud(t)?4:bk(t)?9007199254740991:_k(t)?10:11:se(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=Fr(t);if(n!==Fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=zr(r.timestampValue),l=zr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Br(r.bytesValue).isEqual(Br(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return rt(r.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return rt(r.integerValue)===rt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=rt(r.doubleValue),l=rt(s.doubleValue);return a===l?Th(a)===Th(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Y0(a)!==Y0(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!ni(a[u],l[u])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Pl(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function za(t,e){if(t===e)return 0;const n=Fr(t),i=Fr(e);if(n!==i)return me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=rt(s.integerValue||s.doubleValue),u=rt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return X0(t.timestampValue,e.timestampValue);case 4:return X0(Ol(t),Ol(e));case 5:return Pm(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Br(s),u=Br(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=me(l[h],u[h]);if(f!==0)return f}return me(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=me(rt(s.latitude),rt(a.latitude));return l!==0?l:me(rt(s.longitude),rt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W0(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,h,f;const m=s.fields||{},g=a.fields||{},y=(l=m[xh])===null||l===void 0?void 0:l.arrayValue,N=(u=g[xh])===null||u===void 0?void 0:u.arrayValue,D=me(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((f=N==null?void 0:N.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:W0(y,N)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===sc.mapValue&&a===sc.mapValue)return 0;if(s===sc.mapValue)return 1;if(a===sc.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Pm(u[m],f[m]);if(g!==0)return g;const y=za(l[u[m]],h[f[m]]);if(y!==0)return y}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se(23264,{le:n})}}function X0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=zr(t),i=zr(e),r=me(n.seconds,i.seconds);return r!==0?r:me(n.nanos,i.nanos)}function W0(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=za(n[r],i[r]);if(s)return s}return me(n.length,i.length)}function Ba(t){return Vm(t)}function Vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=zr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Vm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Vm(n.fields[a])}`;return r+"}"}(t.mapValue):se(61005,{value:t})}function kc(t){switch(Fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(t);return e?16+kc(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+kc(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Rs(i.fields,(s,a)=>{r+=s.length+kc(a)}),r}(t.mapValue);default:throw se(13486,{value:t})}}function Sh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lm(t){return!!t&&"integerValue"in t}function wg(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function J0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dc(t){return!!t&&"mapValue"in t}function _k(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[u2])===null||n===void 0?void 0:n.stringValue)===c2}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=dl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=Rt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=dl(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Dc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Rs(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new bn(dl(this.value))}}function h2(t){const e=[];return Rs(t.fields,(n,i)=>{const r=new Rt([n]);if(Dc(i)){const s=h2(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new jt(e,0,ce.min(),ce.min(),ce.min(),bn.empty(),0)}static newFoundDocument(e,n,i,r){return new jt(e,1,n,ce.min(),i,r,0)}static newNoDocument(e,n){return new jt(e,2,n,ce.min(),ce.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ce.min(),ce.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function e_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=ie.comparator(ie.fromName(a.referenceValue),n.key):i=za(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ek(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class ut extends d2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new wk(e,n,i):n==="array-contains"?new Ak(e,i):n==="in"?new Ck(e,i):n==="not-in"?new Rk(e,i):n==="array-contains-any"?new Nk(e,i):new ut(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new xk(e,i):new Sk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(za(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends d2{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Vn(e,n)}matches(e){return f2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function f2(t){return t.op==="and"}function m2(t){return Tk(t)&&f2(t)}function Tk(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Um(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(m2(t))return t.filters.map(e=>Um(e)).join(",");{const e=t.filters.map(n=>Um(n)).join(",");return`${t.op}(${e})`}}function p2(t,e){return t instanceof ut?function(i,r){return r instanceof ut&&i.op===r.op&&i.field.isEqual(r.field)&&ni(i.value,r.value)}(t,e):t instanceof Vn?function(i,r){return r instanceof Vn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&p2(a,r.filters[l]),!0):!1}(t,e):void se(19439)}function g2(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(g2).join(" ,")+"}"}(t):"Filter"}class wk extends ut{constructor(e,n,i){super(e,n,i),this.key=ie.fromName(i.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class xk extends ut{constructor(e,n){super(e,"in",n),this.keys=y2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sk extends ut{constructor(e,n){super(e,"not-in",n),this.keys=y2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function y2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ie.fromName(i.referenceValue))}class Ak extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wg(n)&&Pl(n.arrayValue,this.value)}}class Ck extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class Rk extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class Nk extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Pe=null}}function n_(t,e=null,n=[],i=[],r=null,s=null,a=null){return new Ik(t,e,n,i,r,s,a)}function xg(t){const e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Um(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ba(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ba(i)).join(",")),e.Pe=n}return e.Pe}function Sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ek(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}function zm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kk(t,e,n,i,r,s,a,l){return new Ns(t,e,n,i,r,s,a,l)}function hd(t){return new Ns(t)}function i_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ag(t){return t.collectionGroup!==null}function xa(t){const e=he(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pt(Rt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Vl(s,i))}),n.has(Rt.keyField().canonicalString())||e.Te.push(new Vl(Rt.keyField(),i))}return e.Te}function Wn(t){const e=he(t);return e.Ie||(e.Ie=Dk(e,xa(t))),e.Ie}function Dk(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Vl(r.field,s)});const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Bm(t,e){const n=t.filters.concat([e]);return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Sg(Wn(t),Wn(e))&&t.limitType===e.limitType}function v2(t){return`${xg(Wn(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>g2(r)).join(", ")}]`),ld(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ba(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ba(r)).join(",")),`Target(${i})`}(Wn(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ie.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of xa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=e_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,xa(i),r)||i.endAt&&!function(a,l,u){const h=e_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,xa(i),r))}(t,e)}function Mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _2(t){return(e,n)=>{let i=!1;for(const r of xa(t)){const s=Ok(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Ok(t,e,n){const i=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?za(u,h):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return i2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Xe(ie.comparator);function Ui(){return jk}const b2=new Xe(ie.comparator);function Go(...t){let e=b2;for(const n of t)e=e.insert(n.key,n);return e}function E2(t){let e=b2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function is(){return fl()}function T2(){return fl()}function fl(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pk=new Xe(ie.comparator),Vk=new pt(ie.comparator);function be(...t){let e=Vk;for(const n of t)e=e.add(n);return e}const Lk=new pt(me);function Uk(){return Lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function w2(t){return{integerValue:""+t}}function zk(t,e){return fk(e)?w2(e):Cg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function Bk(t,e,n){return t instanceof Ch?function(r,s){const a={fields:{[a2]:{stringValue:s2},[l2]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ud(s)&&(s=cd(s)),s&&(a.fields[o2]=s),{mapValue:a}}(n,e):t instanceof Ll?S2(t,e):t instanceof Ul?A2(t,e):function(r,s){const a=x2(r,s),l=r_(a)+r_(r.Ee);return Lm(a)&&Lm(r.Ee)?w2(l):Cg(r.serializer,l)}(t,e)}function Fk(t,e,n){return t instanceof Ll?S2(t,e):t instanceof Ul?A2(t,e):n}function x2(t,e){return t instanceof Rh?function(i){return Lm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Ch extends md{}class Ll extends md{constructor(e){super(),this.elements=e}}function S2(t,e){const n=C2(e);for(const i of t.elements)n.some(r=>ni(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ul extends md{constructor(e){super(),this.elements=e}}function A2(t,e){let n=C2(e);for(const i of t.elements)n=n.filter(r=>!ni(r,i));return{arrayValue:{values:n}}}class Rh extends md{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function r_(t){return rt(t.integerValue||t.doubleValue)}function C2(t){return wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qk(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ll&&r instanceof Ll||i instanceof Ul&&r instanceof Ul?Ua(i.elements,r.elements,ni):i instanceof Rh&&r instanceof Rh?ni(i.Ee,r.Ee):i instanceof Ch&&r instanceof Ch}(t.transform,e.transform)}class Hk{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function R2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rg(t.key,Zn.none()):new du(t.key,t.data,Zn.none());{const n=t.data,i=bn.empty();let r=new pt(Rt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new ks(t.key,i,new On(r.toArray()),Zn.none())}}function Gk(t,e,n){t instanceof du?function(r,s,a){const l=r.value.clone(),u=a_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(r,s,a){if(!Mc(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=a_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(N2(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,i){return t instanceof du?function(s,a,l,u){if(!Mc(s.precondition,a))return l;const h=s.value.clone(),f=o_(s.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ks?function(s,a,l,u){if(!Mc(s.precondition,a))return l;const h=o_(s.fieldTransforms,u,a),f=a.data;return f.setAll(N2(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,a,l){return Mc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function $k(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=x2(i.transform,r||null);s!=null&&(n===null&&(n=bn.empty()),n.set(i.field,s))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ua(i,r,(s,a)=>qk(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends pd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ks extends pd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function a_(t,e,n){const i=new Map;Re(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,Fk(a,l,n[r]))}return i}function o_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,Bk(s,a,e))}return i}class Rg extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qk extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Gk(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=T2();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=R2(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,i)=>s_(n,i))&&Ua(this.baseMutations,e.baseMutations,(n,i)=>s_(n,i))}}class Ng{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Re(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return Pk}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Ng(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ee;function Wk(t){switch(t){case V.OK:return se(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function I2(t){if(t===void 0)return Li("GRPC error has no .code"),V.UNKNOWN;switch(t){case ot.OK:return V.OK;case ot.CANCELLED:return V.CANCELLED;case ot.UNKNOWN:return V.UNKNOWN;case ot.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ot.INTERNAL:return V.INTERNAL;case ot.UNAVAILABLE:return V.UNAVAILABLE;case ot.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ot.NOT_FOUND:return V.NOT_FOUND;case ot.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ot.ABORTED:return V.ABORTED;case ot.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ot.DATA_LOSS:return V.DATA_LOSS;default:return se(39323,{code:t})}}(Ee=ot||(ot={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Mr([4294967295,4294967295],0);function l_(t){const e=JT().encode(t),n=new GT;return n.update(e),new Uint8Array(n.digest())}function u_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,i],0),new Mr([r,s],0)]}class Ig{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(i<0)throw new $o(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Mr.fromNumber(this.fe)}pe(e,n,i){let r=e.add(n.multiply(Mr.fromNumber(i)));return r.compare(Zk)===1&&(r=new Mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=l_(e),[i,r]=u_(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Ig(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=l_(e),[i,r]=u_(n);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new gd(ce.min(),r,new Xe(me),Ui(),be())}}class fu{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new fu(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=r}}class k2{constructor(e,n){this.targetId=e,this.De=n}}class D2{constructor(e,n,i=It.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class c_{constructor(){this.ve=0,this.Ce=h_(),this.Fe=It.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=be(),n=be(),i=be();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:se(38017,{changeType:s})}}),new fu(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=h_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Jk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=ac(),this.Je=ac(),this.He=new Xe(me)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(e){const n=e.targetId,i=e.De.count,r=this.st(n);if(r){const s=r.target;if(zm(s))if(i===0){const a=new ie(s.path);this.Xe(n,a,jt.newNoDocument(a,ce.min()))}else Re(i===1,20013,{expectedCount:i});else{const a=this.ot(n);if(a!==i){const l=this._t(e),u=l?this.ut(l,e,a):1;if(u!==0){this.rt(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Br(i).toUint8Array()}catch(u){if(u instanceof r2)return Lr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Ig(a,r,s)}catch(u){return Lr(u instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,s,null),r++)}),r}Pt(e){const n=new Map;this.Ge.forEach((s,a)=>{const l=this.st(a);if(l){if(s.current&&zm(l.target)){const u=new ie(l.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,jt.newNoDocument(u,e))}s.Ne&&(n.set(a,s.Le()),s.ke())}});let i=be();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.st(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const r=new gd(e,n,this.He,this.ze,i);return this.ze=Ui(),this.je=ac(),this.Je=ac(),this.He=new Xe(me),r}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new c_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new pt(me),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new pt(me),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new c_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ac(){return new Xe(ie.comparator)}function h_(){return new Xe(ie.comparator)}const e3={asc:"ASCENDING",desc:"DESCENDING"},t3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n3={and:"AND",or:"OR"};class i3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r3(t,e){return Nh(t,e.toTimestamp())}function Jn(t){return Re(!!t,49232),ce.fromTimestamp(function(n){const i=zr(n);return new Be(i.seconds,i.nanos)}(t))}function kg(t,e){return qm(t,e).canonicalString()}function qm(t,e){const n=function(r){return new Pe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O2(t){const e=Pe.fromString(t);return Re(U2(e),10190,{key:e.toString()}),e}function Hm(t,e){return kg(t.databaseId,e.path)}function Af(t,e){const n=O2(e);if(n.get(1)!==t.databaseId.projectId)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(P2(n))}function j2(t,e){return kg(t.databaseId,e)}function s3(t){const e=O2(t);return e.length===4?Pe.emptyPath():P2(e)}function Gm(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P2(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function d_(t,e,n){return{name:Hm(t,e),fields:n.value.mapValue.fields}}function a3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:se(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Re(f===void 0||typeof f=="string",58123),It.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),It.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?V.UNKNOWN:I2(h.code);return new K(f,h.message||"")}(a);n=new D2(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Af(t,i.document.name),s=Jn(i.document.updateTime),a=i.document.createTime?Jn(i.document.createTime):ce.min(),l=new bn({mapValue:{fields:i.document.fields}}),u=jt.newFoundDocument(r,s,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];n=new Oc(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Af(t,i.document),s=i.readTime?Jn(i.readTime):ce.min(),a=jt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Oc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Af(t,i.document),s=i.removedTargetIds||[];n=new Oc([],s,r,null)}else{if(!("filter"in e))return se(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new Xk(r,s),l=i.targetId;n=new k2(l,a)}}return n}function o3(t,e){let n;if(e instanceof du)n={update:d_(t,e.key,e.value)};else if(e instanceof Rg)n={delete:Hm(t,e.key)};else if(e instanceof ks)n={update:d_(t,e.key,e.data),updateMask:g3(e.fieldMask)};else{if(!(e instanceof Qk))return se(16599,{Rt:e.type});n={verify:Hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ll)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ul)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rh)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw se(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:r3(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function l3(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Jn(r.updateTime):Jn(s);return a.isEqual(ce.min())&&(a=Jn(s)),new Hk(a,r.transformResults||[])}(n,e))):[]}function u3(t,e){return{documents:[j2(t,e.path)]}}function c3(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=j2(t,r);const s=function(h){if(h.length!==0)return L2(Vn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Zs(g.field),direction:f3(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:r}}function h3(t){let e=s3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Re(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=V2(m);return g instanceof Vn&&m2(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(N){return new Vl(Js(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ld(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new Fa(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,y=m.values||[];return new Fa(y,g)}(n.endAt)),kk(e,r,a,s,l,"F",u,h)}function d3(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Js(n.unaryFilter.field);return ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Js(n.unaryFilter.field);return ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Js(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Js(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Js(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(i=>V2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function f3(t){return e3[t]}function m3(t){return t3[t]}function p3(t){return n3[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Rt.fromServerFormat(t.fieldPath)}function L2(t){return t instanceof ut?function(n){if(n.op==="=="){if(J0(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J0(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:m3(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const i=n.getFilters().map(r=>L2(r));return i.length===1?i[0]:{compositeFilter:{op:p3(n.op),filters:i}}}(t):se(54877,{filter:t})}function g3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,i,r,s=ce.min(),a=ce.min(),l=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.gt=e}}function v3(t){const e=h3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Dn=new b3}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ur.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class b3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new pt(Pe.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z2=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(z2,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qa(0)}static ur(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",E3=1048576;function p_([t,e],[n,i]){const r=me(t,n);return r===0?me(e,i):r}class T3{constructor(e){this.Tr=e,this.buffer=new pt(p_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();p_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Z(m_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?Z(m_,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Rr(3e5)})}}class x3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(od.ue);const i=new T3(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,r,s,a,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(h=Date.now(),Xs()<=_e.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function S3(t,e){return new x3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ml(i.mutation,r,On.empty(),Be.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,n,i=be()){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=Go();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,be()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=Ui();const a=fl(),l=function(){return fl()}();return n.forEach((u,h)=>{const f=i.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof ks)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),ml(f.mutation,h,f.mutation.getFieldMask(),Be.now())):a.set(h.key,On.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>{var m;return l.set(h,new C3(f,(m=a.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const i=fl();let r=new Xe((a,l)=>a-l),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=i.get(u)||On.empty();f=l.applyToLocalView(h,f),i.set(u,f);const m=(r.get(l.batchId)||be()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,m=T2();f.forEach(g=>{if(!s.has(g)){const y=R2(n.get(g),i.get(g));y!==null&&m.set(g,y),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ag(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(is());let l=Ml,u=s;return a.next(h=>U.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,be())).next(f=>({batchId:l,changes:E2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(i=>{let r=Go();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=Go();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,u=>{const h=function(m,g){return new Ns(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(f=>{f.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,jt.newInvalidDocument(f)))});let l=Go();return a.forEach((u,h)=>{const f=s.get(u);f!==void 0&&ml(f.mutation,h,On.empty(),Be.now()),fd(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Jn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:v3(r.bundledQuery),readTime:Jn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.overlays=new Xe(ie.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=is();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.wt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=is(),s=n.length+1,a=new ie(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Xe((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let f=s.get(h.largestBatchId);f===null&&(f=is(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=is(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=r)););return U.resolve(l)}wt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Kk(n,i));let s=this.kr.get(n);s===void 0&&(s=be(),this.kr.set(n,s)),this.kr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.qr=new pt(_t.Qr),this.$r=new pt(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new _t(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new ie(new Pe([])),i=new _t(n,e),r=new _t(n,e+1),s=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ie(new Pe([])),i=new _t(n,e),r=new _t(n,e+1);let s=be();return this.$r.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new _t(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ie.comparator(e.key,n.key)||me(e.Hr,n.Hr)}static Ur(e,n){return me(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new pt(_t.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yk(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Yr=this.Yr.add(new _t(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Tg:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new _t(n,0),r=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new pt(me);return n.forEach(r=>{const s=new _t(r,0),a=new _t(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),U.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ie.isDocumentKey(s)||(s=s.child(""));const a=new _t(new ie(s),0);let l=new pt(me);return this.Yr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Hr)),!0)},a),U.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Re(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return U.forEach(n.mutations,r=>{const s=new _t(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new _t(n,0),r=this.Yr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.ni=e,this.docs=function(){return new Xe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let i=Ui();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():jt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ui();const a=n.path,l=new ie(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||uk(lk(f),i)<=0||(r.has(f.key)||fd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){se(9500)}ri(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new O3(this)}getSize(e){return U.resolve(this.size)}}class O3 extends A3{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.persistence=e,this.ii=new Is(n=>xg(n),Sg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Dg,this.targetCount=0,this._i=qa.ar()}forEachTarget(e,n){return this.ii.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.ai={},this.overlays={},this.ui=new od(0),this.ci=!1,this.ci=!0,this.li=new k3,this.referenceDelegate=e(this),this.hi=new j3(this),this.indexManager=new _3,this.remoteDocumentCache=function(r){return new M3(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new y3(n),this.Ti=new N3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new D3(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){Z("MemoryPersistence","Starting transaction:",e);const r=new P3(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return U.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class P3 extends hk{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ai=new Dg,this.Ri=null}static Vi(e){return new Mg(e)}get mi(){if(this.Ri)return this.Ri;throw se(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.mi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,i=>{const r=ie.fromPath(i);return this.fi(e,r).next(s=>{s||n.removeEntry(r,ce.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.gi=new Is(i=>mk(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=S3(this,n)}static Vi(e,n){return new Ih(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(s=>s?U.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,ce.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}Sr(e,n,i){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=r}static Es(e,n){let i=be(),r=be();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Og(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return RR()?8:dk(Lt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ps(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new V3;return this.ws(e,n,a).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>s.result)}Ss(e,n,i,r){return i.documentReadCount<this.Vs?(Xs()<=_e.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Xs()<=_e.DEBUG&&Z("QueryEngine","Query:",Ws(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Xs()<=_e.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):U.resolve())}ps(e,n){if(i_(n))return U.resolve(null);let i=Wn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ah(n,null,"F"),i=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=be(...s);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.bs(n,l);return this.Ds(n,h,a,u.readTime)?this.ps(e,Ah(n,null,"F")):this.vs(e,h,n,u)}))})))}ys(e,n,i,r){return i_(n)||r.isEqual(ce.min())?U.resolve(null):this.gs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ds(n,a,i,r)?U.resolve(null):(Xs()<=_e.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ws(n)),this.vs(e,a,n,ok(r,Ml)).next(l=>l))})}bs(e,n){let i=new pt(_2(e));return n.forEach((r,s)=>{fd(e,s)&&(i=i.add(s))}),i}Ds(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,n,i){return Xs()<=_e.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.gs.getDocumentsMatchingQuery(e,n,Ur.min(),i)}vs(e,n,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",U3=3e8;class z3{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new Xe(me),this.Ms=new Is(s=>xg(s),Sg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function B3(t,e,n,i){return new z3(t,e,n,i)}async function F2(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=be();for(const h of r){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Bs:h,removedBatchIds:a,addedBatchIds:l}))})})}function F3(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const m=h.batch,g=m.keys();let y=U.resolve();return g.forEach(N=>{y=y.next(()=>f.getEntry(u,N)).next(D=>{const M=h.docVersions.get(N);Re(M!==null,48541),D.version.compareTo(M)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=be();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function q2(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function q3(t,e){const n=he(t),i=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const l=[];e.targetChanges.forEach((f,m)=>{const g=r.get(m);if(!g)return;l.push(n.hi.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.hi.addMatchingKeys(s,f.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(m,y),function(D,M,x){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=U3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,y,f)&&l.push(n.hi.updateTargetData(s,y))});let u=Ui(),h=be();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(H3(s,a,e.documentUpdates).next(f=>{u=f.Ls,h=f.ks})),!i.isEqual(ce.min())){const f=n.hi.getLastRemoteSnapshotVersion(s).next(m=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Fs=r,s))}function H3(t,e,n){let i=be(),r=be();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Ui();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Z(jg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ls:a,ks:r}})}function G3(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $3(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.hi.allocateTargetId(i).next(a=>(r=new Er(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function $m(t,e,n){const i=he(t),r=i.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ao(a))throw a;Z(jg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function g_(t,e,n){const i=he(t);let r=ce.min(),s=be();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const m=he(u),g=m.Ms.get(f);return g!==void 0?U.resolve(m.Fs.get(g)):m.hi.getTargetData(h,f)}(i,a,Wn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:ce.min(),n?s:be())).next(l=>(Q3(i,Mk(e),l),{documents:l,qs:s})))}function Q3(t,e,n){let i=t.xs.get(e)||ce.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.xs.set(e,i)}class y_{constructor(){this.activeTargetIds=Uk()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y3{constructor(){this.Fo=new y_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new y_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class __{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Z(v_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Z(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function Qm(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RestConnection",X3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===wh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=Qm(),l=this.Go(e,n.toUriEncodedString());Z(Cf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,s);const{host:h}=new URL(l),f=to(h);return this.jo(e,l,u,i,f).then(m=>(Z(Cf,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Lr(Cf,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}Jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Go(e,n){const i=X3[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class J3 extends W3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,r,s){const a=Qm();return new Promise((l,u)=>{const h=new $T;h.setWithCredentials(!0),h.listenOnce(QT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ic.NO_ERROR:const m=h.getResponseJson();Z(Mt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Ic.TIMEOUT:Z(Mt,`RPC '${e}' ${a} timed out`),u(new K(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const g=h.getStatus();if(Z(Mt,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const D=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(b)>=0?b:V.UNKNOWN}(N.status);u(new K(D,N.message))}else u(new K(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(V.UNAVAILABLE,"Connection failed."));break;default:se(9055,{c_:e,streamId:a,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{Z(Mt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);Z(Mt,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",f,i,15)})}P_(e,n,i){const r=Qm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=XT(),l=KT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");Z(Mt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=a.createWebChannel(f,u);this.T_(m);let g=!1,y=!1;const N=new Z3({Ho:M=>{y?Z(Mt,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(g||(Z(Mt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),Z(Mt,`RPC '${e}' stream ${r} sending:`,M),m.send(M))},Yo:()=>m.close()}),D=(M,x,b)=>{M.listen(x,w=>{try{b(w)}catch(I){setTimeout(()=>{throw I},0)}})};return D(m,Ho.EventType.OPEN,()=>{y||(Z(Mt,`RPC '${e}' stream ${r} transport opened.`),N.s_())}),D(m,Ho.EventType.CLOSE,()=>{y||(y=!0,Z(Mt,`RPC '${e}' stream ${r} transport closed`),N.__(),this.I_(m))}),D(m,Ho.EventType.ERROR,M=>{y||(y=!0,Lr(Mt,`RPC '${e}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),N.__(new K(V.UNAVAILABLE,"The operation could not be completed")))}),D(m,Ho.EventType.MESSAGE,M=>{var x;if(!y){const b=M.data[0];Re(!!b,16349);const w=b,I=(w==null?void 0:w.error)||((x=w[0])===null||x===void 0?void 0:x.error);if(I){Z(Mt,`RPC '${e}' stream ${r} received error:`,I);const L=I.status;let H=function(A){const v=ot[A];if(v!==void 0)return I2(v)}(L),_=I.message;H===void 0&&(H=V.INTERNAL,_="Unknown error status: "+L+" with message "+I.message),y=!0,N.__(new K(H,_)),m.close()}else Z(Mt,`RPC '${e}' stream ${r} received:`,b),N.a_(b)}}),D(l,YT.STAT_EVENT,M=>{M.stat===jm.PROXY?Z(Mt,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===jm.NOPROXY&&Z(Mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return new i3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&Z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class G2{constructor(e,n,i,r,s,a,l,u){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new H2(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{e(()=>{const r=new K(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Z(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Z(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eD extends G2{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=a3(this.serializer,e),i=function(s){if(!("targetChange"in s))return ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?Jn(a.readTime):ce.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=Gm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=zm(u)?{documents:u3(s,u)}:{query:c3(s,u).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=M2(s,a.resumeToken);const h=Fm(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ce.min())>0){l.readTime=Nh(s,a.snapshotVersion.toTimestamp());const h=Fm(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=d3(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.k_(n)}}class tD extends G2{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=l3(e.writeResults,e.commitTime),i=Jn(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=Gm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>o3(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class iD extends nD{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,qm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(V.UNKNOWN,s.toString())})}Jo(e,n,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,qm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(V.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class rD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(n),this._a=!1):Z("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class sD{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{i.enqueueAndForget(async()=>{Ds(this)&&(Z(Ts,"Restarting streams for network reachability change."),await async function(u){const h=he(u);h.Ia.add(4),await mu(h),h.Aa.set("Unknown"),h.Ia.delete(4),await vd(h)}(this))})}),this.Aa=new rD(i,r)}}async function vd(t){if(Ds(t))for(const e of t.da)await e(!0)}async function mu(t){for(const e of t.da)await e(!1)}function $2(t,e){const n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ug(n)?Lg(n):oo(n).x_()&&Vg(n,e))}function Pg(t,e){const n=he(t),i=oo(n);n.Ta.delete(e),i.x_()&&Q2(n,e),n.Ta.size===0&&(i.x_()?i.B_():Ds(n)&&n.Aa.set("Unknown"))}function Vg(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(t).H_(e)}function Q2(t,e){t.Ra.$e(e),oo(t).Y_(e)}function Lg(t){t.Ra=new Jk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),oo(t).start(),t.Aa.aa()}function Ug(t){return Ds(t)&&!oo(t).M_()&&t.Ta.size>0}function Ds(t){return he(t).Ia.size===0}function Y2(t){t.Ra=void 0}async function aD(t){t.Aa.set("Online")}async function oD(t){t.Ta.forEach((e,n)=>{Vg(t,e)})}async function lD(t,e){Y2(t),Ug(t)?(t.Aa.la(e),Lg(t)):t.Aa.set("Unknown")}async function uD(t,e,n){if(t.Aa.set("Online"),e instanceof D2&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ta.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ta.delete(l),r.Ra.removeTarget(l))}(t,e)}catch(i){Z(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kh(t,i)}else if(e instanceof Oc?t.Ra.Ye(e):e instanceof k2?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ce.min()))try{const i=await q2(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Ra.Pt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ta.get(h);f&&s.Ta.set(h,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const f=s.Ta.get(u);if(!f)return;s.Ta.set(u,f.withResumeToken(It.EMPTY_BYTE_STRING,f.snapshotVersion)),Q2(s,u);const m=new Er(f.target,u,h,f.sequenceNumber);Vg(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Z(Ts,"Failed to raise snapshot:",i),await kh(t,i)}}async function kh(t,e,n){if(!ao(e))throw e;t.Ia.add(1),await mu(t),t.Aa.set("Offline"),n||(n=()=>q2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Ts,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await vd(t)})}function K2(t,e){return e().catch(n=>kh(t,n,e))}async function _d(t){const e=he(t),n=qr(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Tg;for(;cD(e);)try{const r=await G3(e.localStore,i);if(r===null){e.Pa.length===0&&n.B_();break}i=r.batchId,hD(e,r)}catch(r){await kh(e,r)}X2(e)&&W2(e)}function cD(t){return Ds(t)&&t.Pa.length<10}function hD(t,e){t.Pa.push(e);const n=qr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function X2(t){return Ds(t)&&!qr(t).M_()&&t.Pa.length>0}function W2(t){qr(t).start()}async function dD(t){qr(t).na()}async function fD(t){const e=qr(t);for(const n of t.Pa)e.X_(n.mutations)}async function mD(t,e,n){const i=t.Pa.shift(),r=Ng.from(i,e,n);await K2(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await _d(t)}async function pD(t,e){e&&qr(t).Z_&&await async function(i,r){if(function(a){return Wk(a)&&a!==V.ABORTED}(r.code)){const s=i.Pa.shift();qr(i).N_(),await K2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await _d(i)}}(t,e),X2(t)&&W2(t)}async function E_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Z(Ts,"RemoteStore received new credentials");const i=Ds(n);n.Ia.add(3),await mu(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await vd(n)}async function gD(t,e){const n=he(t);e?(n.Ia.delete(2),await vd(n)):e||(n.Ia.add(2),await mu(n),n.Aa.set("Unknown"))}function oo(t){return t.Va||(t.Va=function(n,i,r){const s=he(n);return s.ia(),new eD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:aD.bind(null,t),e_:oD.bind(null,t),n_:lD.bind(null,t),J_:uD.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Ug(t)?Lg(t):t.Aa.set("Unknown")):(await t.Va.stop(),Y2(t))})),t.Va}function qr(t){return t.ma||(t.ma=function(n,i,r){const s=he(n);return s.ia(),new tD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:dD.bind(null,t),n_:pD.bind(null,t),ea:fD.bind(null,t),ta:mD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await _d(t)):(await t.ma.stop(),t.Pa.length>0&&(Z(Ts,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new zg(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(t,e){if(Li("AsyncQueue",`${e}: ${t}`),ao(t))return new K(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ie.comparator(n.key,i.key):(n,i)=>ie.comparator(n.key,i.key),this.keyedMap=Go(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.fa=new Xe(ie.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):se(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ha{constructor(e,n,i,r,s,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ha(e,n,Sa.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class vD{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const r=he(n),s=r.queries;r.queries=w_(),s.forEach((a,l)=>{for(const u of l.wa)u.onError(i)})})(this,new K(V.ABORTED,"Firestore shutting down"))}}function w_(){return new Is(t=>v2(t),dd)}async function Fg(t,e){const n=he(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new yD,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await n.onListen(r,!0);break;case 1:s.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Bg(a,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Hg(n)}async function qg(t,e){const n=he(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _D(t,e){const n=he(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.wa)l.Ca(r)&&(i=!0);a.ya=r}}i&&Hg(n)}function bD(t,e,n){const i=he(t),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(n);i.queries.delete(e)}function Hg(t){t.Da.forEach(e=>{e.next()})}var Ym,x_;(x_=Ym||(Ym={})).Fa="default",x_.Cache="cache";class Gg{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ha(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.key=e}}class J2{constructor(e){this.key=e}}class ED{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=be(),this.mutatedKeys=be(),this.Xa=_2(e),this.eu=new Sa(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new T_,r=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const g=r.get(f),y=fd(this.query,m)?m:null,N=!!g&&this.mutatedKeys.has(g.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;g&&y?g.data.isEqual(y.data)?N!==D&&(i.track({type:3,doc:y}),M=!0):this.iu(g,y)||(i.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||h&&this.Xa(y,h)<0)&&(l=!0)):!g&&y?(i.track({type:0,doc:y}),M=!0):g&&!y&&(i.track({type:1,doc:g}),M=!0,(u||h)&&(l=!0)),M&&(y?(a=a.add(y),s=D?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{eu:a,ru:i,Ds:l,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((f,m)=>function(y,N){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{At:M})}};return D(y)-D(N)}(f.type,m.type)||this.Xa(f.doc,m.doc)),this.su(i),r=r!=null&&r;const l=n&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,h=u!==this.Ya;return this.Ya=u,a.length!==0||h?{snapshot:new Ha(this.query,e.eu,s,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new T_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=be(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new J2(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new Z2(i))}),n}uu(e){this.Ha=e.qs,this.Za=be();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ha.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $g="SyncEngine";class TD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class wD{constructor(e){this.key=e,this.lu=!1}}class xD{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Is(l=>v2(l),dd),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(ie.comparator),this.Eu=new Map,this.Au=new Dg,this.Ru={},this.Vu=new Map,this.mu=qa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function SD(t,e,n=!0){const i=sw(t);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await ew(i,e,n,!0),r}async function AD(t,e){const n=sw(t);await ew(n,e,!0,!1)}async function ew(t,e,n,i){const r=await $3(t.localStore,Wn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await CD(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&$2(t.remoteStore,r),l}async function CD(t,e,n,i,r){t.gu=(m,g,y)=>async function(D,M,x,b){let w=M.view.nu(x);w.Ds&&(w=await g_(D.localStore,M.query,!1).then(({documents:_})=>M.view.nu(_,w)));const I=b&&b.targetChanges.get(M.targetId),L=b&&b.targetMismatches.get(M.targetId)!=null,H=M.view.applyChanges(w,D.isPrimaryClient,I,L);return A_(D,M.targetId,H._u),H.snapshot}(t,m,g,y);const s=await g_(t.localStore,e,!0),a=new ED(e,s.qs),l=a.nu(s.documents),u=fu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,u);A_(t,n,h._u);const f=new TD(e,n,a);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function RD(t,e,n){const i=he(t),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter(a=>!dd(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await $m(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Pg(i.remoteStore,r.targetId),Km(i,r.targetId)}).catch(so)):(Km(i,r.targetId),await $m(i.localStore,r.targetId,!0))}async function ND(t,e){const n=he(t),i=n.Pu.get(e),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Pg(n.remoteStore,i.targetId))}async function ID(t,e,n){const i=VD(t);try{const r=await function(a,l){const u=he(a),h=Be.now(),f=l.reduce((y,N)=>y.add(N.key),be());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=Ui(),D=be();return u.Os.getEntries(y,f).next(M=>{N=M,N.forEach((x,b)=>{b.isValidDocument()||(D=D.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,N)).next(M=>{m=M;const x=[];for(const b of l){const w=$k(b,m.get(b.key).overlayedDocument);w!=null&&x.push(new ks(b.key,w,h2(w.value.mapValue),Zn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,x,l)}).next(M=>{g=M;const x=M.applyToLocalDocumentSet(m,D);return u.documentOverlayCache.saveOverlays(y,M.batchId,x)})}).then(()=>({batchId:g.batchId,changes:E2(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Ru[a.currentUser.toKey()];h||(h=new Xe(me)),h=h.insert(l,u),a.Ru[a.currentUser.toKey()]=h}(i,r.batchId,n),await pu(i,r.changes),await _d(i.remoteStore)}catch(r){const s=Bg(r,"Failed to persist write");n.reject(s)}}async function tw(t,e){const n=he(t);try{const i=await q3(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(Re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?Re(a.lu,14607):r.removedDocuments.size>0&&(Re(a.lu,42227),a.lu=!1))}),await pu(n,i,e)}catch(i){await so(i)}}function S_(t,e,n){const i=he(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Pu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=he(a);u.onlineState=l;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.wa)g.va(l)&&(h=!0)}),h&&Hg(u)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kD(t,e,n){const i=he(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new Xe(ie.comparator);a=a.insert(s,jt.newNoDocument(s,ce.min()));const l=be().add(s),u=new gd(ce.min(),new Map,new Xe(me),a,l);await tw(i,u),i.du=i.du.remove(s),i.Eu.delete(e),Qg(i)}else await $m(i.localStore,e,!1).then(()=>Km(i,e,n)).catch(so)}async function DD(t,e){const n=he(t),i=e.batch.batchId;try{const r=await F3(n.localStore,e);iw(n,i,null),nw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await pu(n,r)}catch(r){await so(r)}}async function MD(t,e,n){const i=he(t);try{const r=await function(a,l){const u=he(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(Re(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,e);iw(i,e,n),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await pu(i,r)}catch(r){await so(r)}}function nw(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function iw(t,e,n){const i=he(t);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function Km(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||rw(t,i)})}function rw(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Pg(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Qg(t))}function A_(t,e,n){for(const i of n)i instanceof Z2?(t.Au.addReference(i.key,e),OD(t,i)):i instanceof J2?(Z($g,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||rw(t,i.key)):se(19791,{yu:i})}function OD(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(Z($g,"New document in limbo: "+n),t.Iu.add(i),Qg(t))}function Qg(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ie(Pe.fromString(e)),i=t.mu.next();t.Eu.set(i,new wD(n)),t.du=t.du.insert(n,i),$2(t.remoteStore,new Er(Wn(hd(n.path)),i,"TargetPurposeLimboResolution",od.ue))}}async function pu(t,e,n){const i=he(t),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((l,u)=>{a.push(i.gu(u,e,n).then(h=>{var f;if((h||n)&&i.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){r.push(h);const m=Og.Es(u.targetId,h);s.push(m)}}))}),await Promise.all(a),i.hu.J_(r),await async function(u,h){const f=he(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(h,g=>U.forEach(g.Is,y=>f.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>U.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!ao(m))throw m;Z(jg,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const y=f.Fs.get(g),N=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(N);f.Fs=f.Fs.insert(g,D)}}}(i.localStore,s))}async function jD(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Z($g,"User change. New user:",e.toKey());const i=await F2(n.localStore,e);n.currentUser=e,function(s,a){s.Vu.forEach(l=>{l.forEach(u=>{u.reject(new K(V.CANCELLED,a))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pu(n,i.Bs)}}function PD(t,e){const n=he(t),i=n.Eu.get(e);if(i&&i.lu)return be().add(i.key);{let r=be();const s=n.Tu.get(e);if(!s)return r;for(const a of s){const l=n.Pu.get(a);r=r.unionWith(l.view.tu)}return r}}function sw(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kD.bind(null,e),e.hu.J_=_D.bind(null,e.eventManager),e.hu.pu=bD.bind(null,e.eventManager),e}function VD(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return B3(this.persistence,new L3,e.initialUser,this.serializer)}Du(e){return new B2(Mg.Vi,this.serializer)}bu(e){return new Y3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class LD extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Re(this.persistence.referenceDelegate instanceof Ih,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new w3(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new B2(i=>Ih.Vi(i,n),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>S_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vD}()}createDatastore(e){const n=yd(e.databaseInfo.databaseId),i=function(s){return new J3(s)}(e.databaseInfo);return function(s,a,l,u){return new iD(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new sD(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>S_(this.syncEngine,n,0),function(){return __.C()?new __:new K3}())}createSyncEngine(e,n){return function(r,s,a,l,u,h,f){const m=new xD(r,s,a,l,u,h);return f&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=he(r);Z(Ts,"RemoteStore shutting down."),s.Ia.add(5),await mu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class UD{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ot.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Z(Hr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Z(Hr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Bg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Hr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await F2(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>{Lr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Lr("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e}async function C_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zD(t);Z(Hr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>E_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>E_(e.remoteStore,r)),t._onlineComponents=e}async function zD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Hr,"Using user provided OfflineComponentProvider");try{await Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===V.FAILED_PRECONDITION||r.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Lr("Error using user provided cache. Falling back to memory cache: "+n),await Nf(t,new Dh)}}else Z(Hr,"Using default OfflineComponentProvider"),await Nf(t,new LD(void 0));return t._offlineComponents}async function aw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Hr,"Using user provided OnlineComponentProvider"),await C_(t,t._uninitializedComponentsProvider._online)):(Z(Hr,"Using default OnlineComponentProvider"),await C_(t,new Xm))),t._onlineComponents}function BD(t){return aw(t).then(e=>e.syncEngine)}async function Mh(t){const e=await aw(t),n=e.eventManager;return n.onListen=SD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ND.bind(null,e.syncEngine),n}function FD(t,e,n={}){const i=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const f=new Yg({next:g=>{f.Ou(),a.enqueueAndForget(()=>qg(s,m));const y=g.docs.has(l);!y&&g.fromCache?h.reject(new K(V.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?h.reject(new K(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Gg(hd(l.path),f,{includeMetadataChanges:!0,ka:!0});return Fg(s,m)}(await Mh(t),t.asyncQueue,e,n,i)),i.promise}function qD(t,e,n={}){const i=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const f=new Yg({next:g=>{f.Ou(),a.enqueueAndForget(()=>qg(s,m)),g.fromCache&&u.source==="server"?h.reject(new K(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Gg(l,f,{includeMetadataChanges:!0,ka:!0});return Fg(s,m)}(await Mh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firestore.googleapis.com",N_=!0;class I_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=N_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E3)throw new K(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new X4;switch(i.type){case"firstParty":return new ek(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=R_.get(n);i&&(Z("ComponentProvider","Removing Datastore"),R_.delete(n),i.terminate())}(this),Promise.resolve()}}function HD(t,e,n,i={}){var r;t=Pn(t,bd);const s=to(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(aT(`https://${u}`),oT("Firestore",!0)),a.host!==lw&&a.host!==u&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!vs(h,l)&&(t._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Ot.MOCK_USER;else{f=_R(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new K(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ot(g)}t._authCredentials=new W4(new ZT(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class st{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(hu(n,st._jsonSchema))return new st(e,i||null,new ie(Pe.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:ct("string",st._jsonSchemaVersion),referencePath:ct("string")};class Or extends ai{constructor(e,n,i){super(e,n,hd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new ie(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function Qo(t,e,...n){if(t=Bt(t),e2("collection","path",e),t instanceof bd){const i=Pe.fromString(e,...n);return H0(i),new Or(t,null,i)}{if(!(t instanceof st||t instanceof Or))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pe.fromString(e,...n));return H0(i),new Or(t.firestore,null,i)}}function dn(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=Eg.newId()),e2("doc","path",e),t instanceof bd){const i=Pe.fromString(e,...n);return q0(i),new st(t,null,new ie(i))}{if(!(t instanceof st||t instanceof Or))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Pe.fromString(e,...n));return q0(i),new st(t.firestore,t instanceof Or?t.converter:null,new ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class D_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new H2(this,"async_queue_retry"),this.oc=()=>{const i=Rf();i&&Z(k_,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ri;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ao(e))throw e;Z(k_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",M_(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=zg.createAndSchedule(this,e,n,i,s=>this.lc(s));return this.ec.push(r),r}ac(){this.tc&&se(47125,{hc:M_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function M_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ws extends bd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new D_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function GD(t,e){const n=typeof t=="object"?t:hT(),i=typeof t=="string"?t:wh,r=cg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=yR("firestore");s&&HD(r,...s)}return r}function Ed(t){if(t._terminated)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$D(t),t._firestoreClient}function $D(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,h,f){return new yk(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ow(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new UD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(It.fromBase64String(e))}catch(n){throw new K(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:ct("string",En._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(hu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:ct("string",ei._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ti(e.vectorValues);throw new K(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:ct("string",ti._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^__.*__$/;class YD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function cw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ec:t})}}class Xg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Oh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(cw(this.Ec)&&QD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class KD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||yd(e)}Dc(e,n,i,r=!1){return new Xg({Ec:e,methodName:n,bc:i,path:Rt.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(t){const e=t._freezeSettings(),n=yd(t._databaseId);return new KD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XD(t,e,n,i,r,s={}){const a=t.Dc(s.merge||s.mergeFields?2:0,e,n,r);mw("Data must be an object, but it was:",a,i);const l=dw(i,a);let u,h;if(s.merge)u=new On(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=WD(e,m,n);if(!a.contains(g))throw new K(V.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);JD(f,g)||f.push(g)}u=new On(f),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new YD(new bn(l),u,h)}function hw(t,e,n,i=!1){return Zg(n,t.Dc(i?4:3,e))}function Zg(t,e){if(fw(t=Bt(t)))return mw("Unsupported field value:",e,t),dw(t,e);if(t instanceof uw)return function(i,r){if(!cw(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Zg(l,r.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Be.fromDate(i);return{timestampValue:Nh(r.serializer,s)}}if(i instanceof Be){const s=new Be(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nh(r.serializer,s)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof En)return{bytesValue:M2(r.serializer,i._byteString)};if(i instanceof st){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ti)return function(a,l){return{mapValue:{fields:{[u2]:{stringValue:c2},[xh]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.wc("VectorValues must only contain numeric values.");return Cg(l.serializer,h)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${ad(i)}`)}(t,e)}function dw(t,e){const n={};return i2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(i,r)=>{const s=Zg(r,e.Vc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function fw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof ei||t instanceof En||t instanceof st||t instanceof uw||t instanceof ti)}function mw(t,e,n){if(!fw(n)||!t2(n)){const i=ad(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function WD(t,e,n){if((e=Bt(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return pw(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function pw(t,e,n){if(e.search(ZD)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kg(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new K(V.INVALID_ARGUMENT,l+t+u)}function JD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e6 extends Jg{data(){return super.data()}}function Td(t,e){return typeof e=="string"?pw(t,e):e instanceof Kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class wd extends ey{}function Wm(t,e,...n){let i=[];e instanceof ey&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof ty).length,l=s.filter(u=>u instanceof xd).length;if(a>1||a>0&&l>0)throw new K(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class xd extends wd{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new xd(e,n,i)}_apply(e){const n=this._parse(e);return _w(e._query,n),new ai(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Wg(e.firestore);return function(s,a,l,u,h,f,m){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new K(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){P_(m,f);const N=[];for(const D of m)N.push(j_(u,s,D));g={arrayValue:{values:N}}}else g=j_(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||P_(m,f),g=hw(l,a,m,f==="in"||f==="not-in");return ut.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lc(t,e,n){const i=e,r=Td("where",t);return xd._create(r,i,n)}class ty extends ey{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ty(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)_w(a,u),a=Bm(a,u)}(e._query,n),new ai(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ny extends wd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ny(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(s,a)}(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new Ns(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function jc(t,e="asc"){const n=e,i=Td("orderBy",t);return ny._create(i,n)}class iy extends wd{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new iy(e,n,i)}_apply(e){return new ai(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function yw(t){return ak("limit",t),iy._create("limit",t,"F")}class ry extends wd{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new ry(e,n,i)}_apply(e){const n=t6(e,this.type,this._docOrFields,this._inclusive);return new ai(e.firestore,e.converter,function(r,s){return new Ns(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function vw(...t){return ry._create("startAfter",t,!1)}function t6(t,e,n,i){if(n[0]=Bt(n[0]),n[0]instanceof Jg)return function(s,a,l,u,h){if(!u)throw new K(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const m of xa(s))if(m.field.isKeyField())f.push(Sh(a,u.key));else{const g=u.data.field(m.field);if(ud(g))throw new K(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const y=m.field.canonicalString();throw new K(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(g)}return new Fa(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Wg(t.firestore);return function(a,l,u,h,f,m){const g=a.explicitOrderBy;if(f.length>g.length)throw new K(V.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let N=0;N<f.length;N++){const D=f[N];if(g[N].field.isKeyField()){if(typeof D!="string")throw new K(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof D}`);if(!Ag(a)&&D.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${D}' contains a slash.`);const M=a.path.child(Pe.fromString(D));if(!ie.isDocumentKey(M))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const x=new ie(M);y.push(Sh(l,x))}else{const M=hw(u,h,D);y.push(M)}}return new Fa(y,m)}(t._query,t.firestore._databaseId,r,e,n,i)}}function j_(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new K(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ag(e)&&n.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Pe.fromString(n));if(!ie.isDocumentKey(i))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sh(t,new ie(i))}if(n instanceof st)return Sh(t,n._key);throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function P_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n6{convertValue(e,n="none"){switch(Fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Rs(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>rt(a.doubleValue));return new ti(s)}convertGeoPoint(e){return new ei(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=zr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Pe.fromString(e);Re(U2(i),9688,{name:e});const r=new jl(i.get(1),i.get(3)),s=new ie(i.popFirst(5));return r.isEqual(n)||Li(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends Jg{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:ct("string",ds._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Pc extends ds{data(e={}){return super.data(e)}}class fs{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Yo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Pc(this._firestore,this._userDataWriter,i.key,i,new Yo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Pc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Yo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Pc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Yo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:r6(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){t=Pn(t,st);const e=Pn(t.firestore,ws);return FD(Ed(e),t._key).then(n=>Ew(e,t,n))}fs._jsonSchemaVersion="firestore/querySnapshot/1.0",fs._jsonSchema={type:ct("string",fs._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class sy extends n6{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Zm(t){t=Pn(t,ai);const e=Pn(t.firestore,ws),n=Ed(e),i=new sy(e);return gw(t._query),qD(n,t._query).then(r=>new fs(e,i,t,r))}function uc(t,e,n){t=Pn(t,st);const i=Pn(t.firestore,ws),r=i6(t.converter,e,n);return bw(i,[XD(Wg(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Zn.none())])}function s6(t){return bw(Pn(t.firestore,ws),[new Rg(t._key,Zn.none())])}function V_(t,...e){var n,i,r;t=Bt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||O_(e[a])||(s=e[a++]);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(O_(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[a+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let u,h,f;if(t instanceof st)h=Pn(t.firestore,ws),f=hd(t._key.path),u={next:m=>{e[a]&&e[a](Ew(h,t,m))},error:e[a+1],complete:e[a+2]};else{const m=Pn(t,ai);h=Pn(m.firestore,ws),f=m._query;const g=new sy(h);u={next:y=>{e[a]&&e[a](new fs(h,g,m,y))},error:e[a+1],complete:e[a+2]},gw(t._query)}return function(g,y,N,D){const M=new Yg(D),x=new Gg(y,M,N);return g.asyncQueue.enqueueAndForget(async()=>Fg(await Mh(g),x)),()=>{M.Ou(),g.asyncQueue.enqueueAndForget(async()=>qg(await Mh(g),x))}}(Ed(h),f,l,u)}function bw(t,e){return function(i,r){const s=new Ri;return i.asyncQueue.enqueueAndForget(async()=>ID(await BD(i),r,s)),s.promise}(Ed(t),e)}function Ew(t,e,n){const i=n.docs.get(e._key),r=new sy(t);return new ds(t,r,e._key,i,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){ro=r})(no),La(new _s("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ws(new Z4(i.getProvider("auth-internal")),new tk(a,i.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(h.options.projectId,f)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Dr(L0,U0,e),Dr(L0,U0,"esm2017")})();const a6="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",o6="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",l6="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",u6="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",c6="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",h6="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",d6="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",f6="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",m6="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",p6="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",g6="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",y6="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",v6="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",_6="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",b6="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",E6="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",T6="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",w6="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",Le="https://art.pixilart.com/sr2a947c8f967b8.png",x6={dark:{primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",text:"#FFFFFF",textMuted:"#9CA3AF"},light:{primary:"#6353b3",background:"#E8EAF0",card:"#FFFFFF",cardLight:"#F3F4F6",text:"#111827",textMuted:"#4B5563"}},ke={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},Aa={normal:a6,fire:o6,water:l6,electric:u6,grass:c6,ice:h6,fighting:d6,poison:f6,ground:m6,flying:p6,psychic:g6,bug:y6,rock:v6,ghost:_6,dragon:b6,dark:E6,steel:T6,fairy:w6},cc={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},S6=({color:t})=>c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:c.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),A6=({color:t})=>c.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:c.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),C6=({className:t="w-6 h-6",color:e})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-stars",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M17.8 19.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"}),c.jsx("path",{d:"M6.2 19.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"}),c.jsx("path",{d:"M12 9.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"})]}),zi=({className:t="w-6 h-6",isFavorite:e,color:n})=>c.jsxs("svg",{className:t,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:e?"#FBBF24":n},children:[" ",c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),Jm=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),R6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),Tw=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),N6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),I6=()=>c.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),gu=()=>c.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),ww=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),c.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),c.jsx("path",{d:"M3 12h6"}),c.jsx("path",{d:"M15 12h6"})]}),k6=()=>c.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),D6=()=>c.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),M6=()=>c.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),O6=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),j6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),c.jsx("path",{d:"M9 12l2 2l4 -4"})]}),P6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),c.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),V6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),c.jsx("path",{d:"M12 8v4"}),c.jsx("path",{d:"M12 16h.01"})]}),L6=({color:t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sun",style:{color:t},children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),c.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),U6=({color:t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-moon",style:{color:t},children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})]}),xw=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-swords",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z"}),c.jsx("path",{d:"M5 13l6 6"}),c.jsx("path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365"}),c.jsx("path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5"})]}),z6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),c.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),B6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sparkles",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z"})]}),F6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-upload",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),c.jsx("path",{d:"M7 9l5 -5l5 5"}),c.jsx("path",{d:"M12 4l0 12"})]}),Sw=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-dice shrink-0",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),c.jsx("circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor"}),c.jsx("circle",{cx:"15.5",cy:"8.5",r:".5",fill:"currentColor"}),c.jsx("circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor"}),c.jsx("circle",{cx:"8.5",cy:"15.5",r:".5",fill:"currentColor"})]}),q6=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-laurel-wreath",children:[c.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.jsx("path",{d:"M16.956 2.057c.355 .124 .829 .375 1.303 .796a3.77 3.77 0 0 1 1.246 2.204c.173 .989 -.047 1.894 -.519 2.683l-.123 .194q -.097 .147 -.196 .272q .066 .234 .117 .471q .26 -.178 .545 -.307c.851 -.389 1.727 -.442 2.527 -.306q .226 .04 .346 .076a1 1 0 0 1 .689 .712l.029 .13q .015 .08 .03 .18a4.45 4.45 0 0 1 -.324 2.496a3.94 3.94 0 0 1 -1.71 1.85l-.242 .12a4.23 4.23 0 0 1 -2.234 .349a9 9 0 0 1 -.443 1.023c.37 .016 .748 .093 1.128 .24c.732 .28 1.299 .758 1.711 1.367a3.95 3.95 0 0 1 .654 1.613a1 1 0 0 1 -.356 .917a3.8 3.8 0 0 1 -.716 .443c-.933 .455 -1.978 .588 -3.043 .179l-.032 -.015l-.205 -.086a3.6 3.6 0 0 1 -1.33 -1.069l-.143 -.197a4 4 0 0 1 -.26 -.433a6 6 0 0 1 -.927 .511q .18 .262 .337 .56a7.4 7.4 0 0 1 .66 1.747a1 1 0 0 1 -1.95 .444l-.028 -.11a6 6 0 0 0 -.449 -1.143c-.342 -.645 -.71 -.968 -1.048 -.968s-.706 .323 -1.048 .969a5.6 5.6 0 0 0 -.367 .874l-.082 .269l-.028 .11a1 1 0 0 1 -1.95 -.444a7.3 7.3 0 0 1 .66 -1.747q .158 -.298 .337 -.561a6.4 6.4 0 0 1 -.93 -.508a4 4 0 0 1 -.256 .43c-.366 .541 -.855 .98 -1.473 1.267l-.238 .1c-.994 .382 -1.97 .292 -2.855 -.091l-.188 -.087a3.8 3.8 0 0 1 -.716 -.443a1 1 0 0 1 -.356 -.917a3.95 3.95 0 0 1 .654 -1.613a3.6 3.6 0 0 1 1.71 -1.368c.38 -.146 .758 -.223 1.13 -.24a9 9 0 0 1 -.445 -1.023a4.23 4.23 0 0 1 -2.233 -.348a4 4 0 0 1 -.916 -.587l-.207 -.191a4 4 0 0 1 -.724 -.977l-.105 -.216a4.45 4.45 0 0 1 -.265 -2.806a1 1 0 0 1 .69 -.712q .119 -.036 .345 -.076c.801 -.135 1.678 -.082 2.53 .308q .283 .129 .545 .304q .048 -.235 .112 -.47a5 5 0 0 1 -.194 -.272c-.556 -.832 -.83 -1.806 -.642 -2.877l.05 -.242a3.75 3.75 0 0 1 1.027 -1.803l.169 -.159a4 4 0 0 1 1.303 -.796a1 1 0 0 1 .975 .178c.2 .168 .462 .446 .719 .83c.556 .833 .83 1.807 .642 2.878a3.77 3.77 0 0 1 -1.246 2.204c-.303 .27 -.607 .47 -.879 .61a7.5 7.5 0 0 0 -.255 1.971c0 3.502 2.285 6.272 5 6.272s5 -2.77 5 -6.276a7.6 7.6 0 0 0 -.253 -1.967a4.3 4.3 0 0 1 -.881 -.61a3.77 3.77 0 0 1 -1.246 -2.204c-.188 -1.07 .086 -2.045 .642 -2.877c.257 -.385 .52 -.663 .72 -.831a1 1 0 0 1 .974 -.178"})]}),ep="1.3.0",H6=({onClose:t,colors:e})=>c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:c.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-lg max-h-[85vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:e.card,"--scrollbar-track-color":e.card,"--scrollbar-thumb-color":e.primary,"--scrollbar-thumb-border-color":e.card},onClick:n=>n.stopPropagation(),children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:c.jsx(gu,{})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full",style:{backgroundColor:e.primary+"20"},children:c.jsx(q6,{})}),c.jsx("h2",{className:"text-2xl font-bold",style:{color:e.text,fontFamily:"'Press Start 2P'"},children:"What's New!"})]}),c.jsxs("p",{className:"text-sm mt-2",style:{color:e.textMuted},children:["Version ",ep,"  December 2025"]})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:e.cardLight},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("h3",{className:"font-bold",style:{color:e.primary},children:"Redesigned Home Page"})]}),c.jsx("p",{className:"text-sm mb-2",style:{color:e.text},children:"Experience a completely revamped home page with:"}),c.jsxs("ul",{className:"text-sm space-y-1 ml-4",style:{color:e.text},children:[c.jsx("li",{children:" Personalized greetings based on time of day"}),c.jsx("li",{children:" Customizable partner Pokmon"}),c.jsx("li",{children:" Daily Pokmon showcase"}),c.jsx("li",{children:" Trainer stats and achievements"}),c.jsx("li",{children:" Quick access to your last team"})]})]}),c.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:e.cardLight},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("h3",{className:"font-bold",style:{color:e.primary},children:"Favorites System"})]}),c.jsx("p",{className:"text-sm",style:{color:e.text},children:"Mark your favorite Pokmon with a star! Access them quickly from the new Favorites page and see them featured on your home page."})]}),c.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:e.cardLight},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("h3",{className:"font-bold",style:{color:e.primary},children:"Random Pokmon Generator"})]}),c.jsx("p",{className:"text-sm",style:{color:e.text},children:"Generate random Pokmon with advanced filters by generation, type, legendary status, and more!"})]})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsx("button",{onClick:t,className:"px-8 py-3 rounded-lg font-bold text-white transition-colors hover:opacity-90",style:{backgroundColor:e.primary},children:"Got it, let's go!"}),c.jsx("p",{className:"text-xs mt-3",style:{color:e.textMuted},children:"Made with  by Enzo Esmeraldo"})]})]})}),G6=({onClose:t,onSelect:e,allPokemons:n,currentPokemonId:i,colors:r,db:s})=>{const[a,l]=C.useState(""),[u,h]=C.useState(null),[f,m]=C.useState(!1),[g,y]=C.useState(n||[]),[N,D]=C.useState(null),[M,x]=C.useState(!0),b=C.useCallback(async()=>{if(!(!s||f||!M)){m(!0);try{const I=[jc("id"),yw(200)];N&&I.push(vw(N));const L=Wm(Qo(s,"artifacts/pokemonTeamBuilder/pokemons"),...I),H=await Zm(L);(H.empty||H.docs.length<200)&&x(!1);const _=H.docs.map(A=>A.data()),E=H.docs[H.docs.length-1];y(A=>[...A,..._].filter((k,S,we)=>S===we.findIndex(ne=>ne.id===k.id))),D(E)}catch(I){console.error("Error loading more Pokemon:",I),x(!1)}finally{m(!1)}}},[s,N,f,M]);C.useEffect(()=>{g.length<100&&M&&b()},[]);const w=C.useMemo(()=>g.filter(I=>{var _;const L=I.name.toLowerCase().includes(a.toLowerCase()),H=!u||((_=I.types)==null?void 0:_.includes(u));return L&&H}),[g,a,u]);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:c.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-7xl max-h-[85vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:r.card,"--scrollbar-track-color":r.card,"--scrollbar-thumb-color":r.primary,"--scrollbar-thumb-border-color":r.card},onClick:I=>I.stopPropagation(),children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:c.jsx(gu,{})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:r.text},children:"Choose Your Partner Pokmon"}),c.jsx("p",{className:"text-sm",style:{color:r.textMuted},children:"Select a Pokmon to display on your greeting card"})]}),c.jsxs("div",{className:"mb-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:a,onChange:I=>l(I.target.value),className:"w-full px-4 py-2 rounded-lg border-2 transition-all focus:outline-none",style:{backgroundColor:r.cardLight,color:r.text,borderColor:r.cardLight}}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>h(null),className:"px-3 py-1 rounded-full text-xs font-semibold transition-all",style:{backgroundColor:u?r.cardLight:r.primary,color:u?r.text:"white"},children:"All Types"}),Object.keys(ke).slice(0,8).map(I=>c.jsx("button",{onClick:()=>h(I),className:"px-3 py-1 rounded-full text-xs font-semibold text-white transition-all",style:{backgroundColor:u===I?ke[I]:r.cardLight,opacity:u===I?1:.7},children:I},I))]})]}),i&&c.jsxs("button",{onClick:()=>e(null),className:"w-full mb-4 p-3 rounded-lg border-2 border-dashed transition-all hover:scale-[1.02]",style:{borderColor:r.textMuted,color:r.textMuted},children:[c.jsx("span",{className:"text-2xl mb-1 block",children:""}),"Remove custom Pokmon (use default)"]}),c.jsx("div",{className:"grid grid-cols-4 md:grid-cols-5 lg:grid-cols-8 gap-3",children:w.map(I=>c.jsxs("button",{onClick:()=>e(I.id),className:"p-3 rounded-xl text-center transition-all hover:scale-105 hover:shadow-lg relative",style:{backgroundColor:i===I.id?r.primary+"20":r.cardLight,border:i===I.id?`2px solid ${r.primary}`:"none"},children:[i===I.id&&c.jsx("div",{className:"absolute top-1 right-1 w-5 h-5 rounded-full flex items-center justify-center",style:{backgroundColor:r.primary},children:c.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),c.jsx("img",{src:I.sprite||Le,alt:I.name,className:"w-16 h-16 mx-auto",onError:L=>{L.currentTarget.src=Le}}),c.jsx("p",{className:"text-xs capitalize truncate mt-1",style:{color:r.text},children:I.name})]},I.id))}),M&&!a&&!u&&c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:b,disabled:f,className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:r.primary,color:"white"},children:f?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading more..."]}):`Load More Pokmon (${g.length}/1025+)`})}),w.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{style:{color:r.textMuted},children:a||u?"No Pokmon found matching your filters":"No Pokmon available"})})]})})},Ph=({type:t,colors:e})=>c.jsxs("span",{className:"text-xs text-white font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full shadow-sm",style:{backgroundColor:ke[t]||"#777"},children:[" ",t.toUpperCase()," "]}),$6={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.firebasestorage.app",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Fn="pokemonTeamBuilder",rs="https://pokeapi.co/api/v2",L_=(t,e)=>{const[n,i]=C.useState(t);return C.useEffect(()=>{const r=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(r)}},[t,e]),n},Q6=({colors:t})=>c.jsxs("div",{className:"rounded-lg p-3 text-center h-[172px] overflow-hidden relative",style:{backgroundColor:t.cardLight},children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent"}),c.jsx("div",{className:"mx-auto h-24 w-24 rounded-md animate-pulse",style:{backgroundColor:t.card}}),c.jsx("div",{className:"mt-2 h-5 w-20 mx-auto rounded animate-pulse",style:{backgroundColor:t.card}}),c.jsxs("div",{className:"flex justify-center items-center mt-2 gap-2",children:[c.jsx("div",{className:"h-5 w-5 rounded-full animate-pulse",style:{backgroundColor:t.card}}),c.jsx("div",{className:"h-5 w-5 rounded-full animate-pulse",style:{backgroundColor:t.card}})]})]}),Y6=({isOpen:t,onClose:e,onConfirm:n,title:i,message:r,confirmText:s="Delete",colors:a})=>t?c.jsx("div",{className:"fixed inset-0 bg-black/10 backdrop-blur-sm flex items-center justify-center z-[60] p-4",onClick:e,children:c.jsxs("div",{className:"rounded-2xl shadow-2xl w-full max-w-md p-6 relative transform transition-all animate-scale-in",style:{backgroundColor:a.card,border:`1px solid ${a.cardLight}`},onClick:l=>l.stopPropagation(),children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-red-500/20 flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-7 h-7 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:a.text},children:i}),c.jsx("p",{className:"text-sm mb-6",style:{color:a.textMuted},children:r})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:a.cardLight,color:a.text},children:"No! Keep them"}),c.jsx("button",{onClick:()=>{n(),e()},className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-red-600 hover:bg-red-700 text-white transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",children:s})]})]})}):null,ay=pl.memo(({onCardClick:t,details:e,lastRef:n,isSuggested:i,colors:r,isFavorite:s,onToggleFavorite:a})=>{const l=h=>{h.stopPropagation(),t(e)},u=h=>{h.stopPropagation(),a&&a(e.id)};return e?c.jsxs("div",{ref:n,onClick:l,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-200 hover:scale-[1.03] hover:shadow-xl active:scale-[0.98] ${i?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:r.cardLight},children:[i&&c.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10 animate-bounce",children:"Suggested"}),a&&c.jsx("button",{onClick:u,className:`absolute top-1 left-1 z-10 p-1 rounded-full transition-all duration-200 hover:scale-110 active:scale-95 ${s?"opacity-100":"opacity-0 group-hover:opacity-100"}`,style:{backgroundColor:s?"rgba(251, 191, 36, 0.2)":"rgba(0,0,0,0.3)"},title:s?"Remove from favorites":"Add to favorites",children:c.jsx(zi,{className:"w-4 h-4",isFavorite:s,color:r.textMuted})}),c.jsx("img",{src:e.sprite||Le,onError:h=>{h.currentTarget.src=Le},alt:e.name,className:"mx-auto w-full h-auto max-w-[120px] group-hover:scale-110 transition-transform duration-300"}),c.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",style:{color:r.text},children:e.name}),c.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:e.types.map(h=>c.jsx("img",{src:Aa[h],alt:h,className:"w-5 h-5 transition-transform group-hover:scale-110"},h))})]}):c.jsx(Q6,{colors:r})}),Aw=({stat:t,value:e,colors:n})=>{const i={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},r=e/255*100;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",style:{color:n.text},children:t.replace("-"," ")}),c.jsx("div",{className:"w-2/3 rounded-full h-4",style:{backgroundColor:n.cardLight},children:c.jsx("div",{className:`${i[t]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${r}%`},children:e})})]})},K6=({ability:t})=>{const[e,n]=C.useState(""),[i,r]=C.useState(!1),[s,a]=C.useState(!1),l=C.useRef(null),u=C.useCallback(async()=>{if(!(e||s)){a(!0);try{const D=(await(await fetch(t.url)).json()).effect_entries.find(M=>M.language.name==="en");n((D==null?void 0:D.short_effect)||"No description available.")}catch{n("Could not load description.")}finally{a(!1)}}},[t.url,e,s]),h=()=>{u(),r(!0)},f=()=>{r(!1)},m=()=>{u(),l.current=setTimeout(()=>{r(!0)},300)},g=()=>{clearTimeout(l.current),setTimeout(()=>{r(!1)},2e3)};return c.jsxs("span",{className:"relative capitalize text-white inline-block bg-gray-700 px-3 py-1 rounded-full text-sm cursor-pointer",onMouseEnter:h,onMouseLeave:f,onTouchStart:m,onTouchEnd:g,children:[t.name.replace("-"," "),i&&c.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-gray-700 text-white text-xs rounded-md shadow-lg z-20",children:s?"Loading...":e})]})},X6=({pokemon:t,onClose:e,onAdd:n,currentTeam:i,colors:r,showPokemonDetails:s,db:a,isFavorite:l,onToggleFavorite:u})=>{var M,x;const[h,f]=C.useState(!1),[m,g]=C.useState([]);C.useEffect(()=>{if(!t||!t.evolution_chain_url||!a)return;(async()=>{try{const I=await(await fetch(t.evolution_chain_url)).json(),L=[];let H=I.chain;do L.push({name:H.species.name,url:H.species.url}),H=H.evolves_to[0];while(H&&H.hasOwnProperty("evolves_to"));const _=L.map(async A=>{const v=A.url.split("/").filter(Boolean).pop(),R=dn(a,"artifacts/pokemonTeamBuilder/pokemons",v),k=await jh(R);return k.exists()?k.data():{name:A.name,sprite:Le}}),E=await Promise.all(_);g(E)}catch(w){console.error("Failed to fetch evolution chain",w)}})()},[t,a]);const y=b=>{e(),s(b)};if(!t)return null;const N=i.some(b=>b.id===t.id),D=h?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite;return c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm h-[100vh] flex items-center justify-center z-50 p-5 ",onClick:e,children:c.jsxs("div",{className:"rounded-2xl shadow-2xl w-full max-w-lg p-4 relative animate-scale-in",style:{backgroundColor:r.card,border:`1px solid ${r.cardLight}`},onClick:b=>b.stopPropagation(),children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white hover:rotate-90 transition-all duration-200",children:c.jsx(gu,{})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("img",{src:D||Le,alt:t.name,className:"mx-auto h-30 w-32 image-pixelated hover:scale-110 transition-transform duration-300"}),c.jsx("button",{onClick:()=>f(!h),className:`absolute bottom-0 right-0 p-1 rounded-full transition-all duration-200 hover:scale-110 active:scale-95 ${h?"bg-yellow-500":"bg-gray-700"}`,style:{color:"white"},title:"Toggle Shiny",children:c.jsx(B6,{})}),u&&c.jsx("button",{onClick:()=>u(t.id),className:"absolute bottom-0 left-0 p-1 rounded-full transition-all duration-200 hover:scale-110 active:scale-95",style:{backgroundColor:l?"rgba(251, 191, 36, 0.3)":"rgba(107, 114, 128, 0.7)",color:"white"},title:l?"Remove from favorites":"Add to favorites",children:c.jsx(zi,{className:"w-5 h-5",isFavorite:l,color:"white"})})]}),c.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:r.text},children:[t.name," ",c.jsxs("span",{style:{color:r.textMuted},children:["#",t.id]})]}),c.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(b=>c.jsx(Ph,{type:b,colors:r},b))})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:r.text},children:"Base Stats"}),c.jsx("div",{className:"space-y-2",children:(M=t.stats)==null?void 0:M.map(b=>c.jsx(Aw,{stat:b.name,value:b.base_stat,colors:r},b.name))})]}),m.length>1&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:r.text},children:"Evolution Line"}),c.jsx("div",{className:"flex justify-center items-center gap-2",children:m.map((b,w)=>c.jsxs(pl.Fragment,{children:[c.jsxs("div",{onClick:()=>y(b),className:"text-center cursor-pointer p-2 rounded-lg hover:bg-purple-500/30",children:[c.jsx("img",{src:b.sprite||Le,alt:b.name,className:"h-20 w-20 mx-auto"}),c.jsx("p",{className:"text-sm capitalize",style:{color:r.text},children:b.name})]}),w<m.length-1&&c.jsx("span",{className:"text-2xl",style:{color:r.textMuted},children:""})]},b.name))})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),c.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(x=t.abilities)==null?void 0:x.map((b,w)=>c.jsx(K6,{ability:b},w))})]}),c.jsx("div",{className:"mt-4 flex justify-center",children:!N&&n&&c.jsxs("button",{onClick:()=>{n(t),e()},className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95",children:[c.jsx(N6,{})," Add to Team"]})})]})})},W6=({pokemon:t,onClose:e,onSave:n,colors:i,items:r,natures:s,moveDetailsCache:a,setMoveDetailsCache:l})=>{var H;const[u,h]=C.useState(t.customization),[f,m]=C.useState(510),[g,y]=C.useState(""),N=["hp","attack","defense","special-attack","special-defense","speed"],D=C.useCallback(async(_,E)=>{if(a[E])return a[E];try{const v=await(await fetch(_)).json(),R={name:v.name,type:v.type.name,power:v.power,accuracy:v.accuracy,pp:v.pp,damage_class:v.damage_class.name};return l(k=>({...k,[E]:R})),R}catch(A){return console.error(`Failed to fetch details for move: ${E}`,A),null}},[a,l]);C.useEffect(()=>{const _=Object.values(u.evs).reduce((E,A)=>E+A,0);m(510-_)},[u.evs]);const M=(_,E)=>{const A=Number(E),R={...u.evs}[_],k=A-R;A>252||f-k<0||h(S=>({...S,evs:{...S.evs,[_]:A}}))},x=(_,E)=>{h(A=>({...A,[_]:E}))},b=_=>{h(E=>{const A=E.moves,v=A.includes(_)?A.filter(R=>R!==_):[...A,_];return v.length>4?E:{...E,moves:v}})},w=()=>{n(t.instanceId,u),e()},I=(_,E,A)=>A==="hp"?Math.floor(_*2+31+Math.floor(E/4))+110:Math.floor(Math.floor(_*2+31+Math.floor(E/4))+5),L=C.useMemo(()=>g?t.moves.filter(_=>_.name.toLowerCase().includes(g.toLowerCase())):t.moves,[g,t.moves]);return C.useEffect(()=>{L.slice(0,20).forEach(_=>{a[_.name]||D(_.url,_.name)})},[L,a,D]),t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:c.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:i.card,"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},onClick:_=>_.stopPropagation(),children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:c.jsx(gu,{})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("img",{src:u.isShiny?t.animatedShinySprite||t.shinySprite:t.animatedSprite||t.sprite,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),c.jsx("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:i.text},children:t.name}),c.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(_=>c.jsx(Ph,{type:_,colors:i},_))}),c.jsxs("div",{className:"w-full mt-4 grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Item"}),c.jsxs("select",{value:u.item,onChange:_=>x("item",_.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:[c.jsx("option",{value:"",children:"None"}),r.map(_=>c.jsx("option",{value:_.name,className:"capitalize",children:_.name.replace(/-/g," ")},_.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Nature"}),c.jsx("select",{value:u.nature,onChange:_=>x("nature",_.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:s.map(_=>c.jsx("option",{value:_.name,className:"capitalize",children:_.name.replace(/-/g," ")},_.name))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",style:{color:i.text},children:"Tera Type"}),c.jsx("select",{value:u.teraType,onChange:_=>x("teraType",_.target.value),className:"w-full p-2 rounded-lg border-2 capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:Object.keys(ke).map(_=>c.jsx("option",{value:_,className:"capitalize",children:_},_))})]}),c.jsx("div",{className:"flex items-center justify-start pt-5",children:c.jsxs("label",{htmlFor:"shiny-toggle",className:"flex items-center cursor-pointer",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"checkbox",id:"shiny-toggle",className:"sr-only",checked:u.isShiny,onChange:_=>x("isShiny",_.target.checked)}),c.jsx("div",{className:"block w-10 h-6 bg-gray-600 rounded-full"}),c.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"})]}),c.jsx("div",{className:"ml-3 text-sm font-bold",style:{color:i.text},children:"Shiny"})]})})]}),c.jsxs("div",{className:"w-full mt-4",children:[c.jsx("label",{className:"block text-lg font-bold mb-2",style:{color:i.text},children:"Ability"}),c.jsx("select",{value:u.ability,onChange:_=>x("ability",_.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:t.abilities.map(_=>c.jsx("option",{value:_.name,className:"capitalize",children:_.name.replace(/-/g," ")},_.name))})]}),c.jsxs("div",{className:"w-full mt-4",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Base Stats"}),c.jsx("div",{className:"space-y-1.5",children:(H=t.stats)==null?void 0:H.map(_=>c.jsx(Aw,{stat:_.name,value:_.base_stat,colors:i},_.name))})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold",style:{color:i.text},children:"Stats & EVs"}),c.jsxs("p",{className:"text-sm mb-2",style:{color:i.textMuted},children:["Remaining EVs: ",c.jsx("span",{className:"font-bold text-lg",style:{color:i.primary},children:f})]}),c.jsx("div",{className:"space-y-3",children:N.map((_,E)=>{const A=t.stats[E].base_stat,v=u.evs[_],R=I(A,v,_);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center capitalize text-sm",children:[c.jsx("span",{style:{color:i.text},children:_.replace(/-/g," ")}),c.jsxs("span",{style:{color:i.textMuted},children:[v," / ",R]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"range",min:"0",max:"252",value:v,step:"4",onChange:k=>M(_,k.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{backgroundColor:i.cardLight}})})]},_)})}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Move Selection"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 min-h-[80px] mb-4 p-2 rounded-lg",style:{backgroundColor:i.background},children:[u.moves.map(_=>{var A;const E=(A=a[_])==null?void 0:A.type;return c.jsx("div",{className:"p-2 rounded-lg text-center text-sm capitalize text-white",style:{backgroundColor:E?ke[E]:i.cardLight},children:_.replace(/-/g," ")},_)}),Array.from({length:4-u.moves.length}).map((_,E)=>c.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i.cardLight,opacity:.5},children:c.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:i.background}})},E))]}),c.jsx("input",{type:"text",placeholder:"Search moves...",value:g,onChange:_=>y(_.target.value),className:"w-full p-2 rounded-lg mb-2",style:{backgroundColor:i.cardLight,color:i.text}}),c.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",style:{"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},children:L.map(_=>{var R;const E=(R=a[_.name])==null?void 0:R.type,A=u.moves.includes(_.name),v=A?{backgroundColor:E?ke[E]:i.primary,color:"white"}:{backgroundColor:i.cardLight,color:i.text};return c.jsx("button",{onClick:()=>b(_.name),className:`p-2 rounded-lg text-sm capitalize transition-colors ${!A&&"hover:opacity-80"}`,style:v,children:_.name.replace(/-/g," ")},_.name)})})]})]})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("button",{onClick:w,className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[c.jsx(Tw,{})," Confirm Changes"]})})]})}):null},Z6=({currentTeam:t,teamName:e,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,onNavigateToTeams:u,handleToggleFavorite:h,handleEditTeam:f,handleShareTeam:m,requestDeleteTeam:g,handleExportToShowdown:y,teamAnalysis:N,searchInput:D,setSearchInput:M,selectedGeneration:x,setSelectedGeneration:b,generations:w,isInitialLoading:I,availablePokemons:L,handleAddPokemonToTeam:H,lastPokemonElementRef:_,isFetchingMore:E,selectedTypes:A,handleTypeSelection:v,showDetails:R,suggestedPokemonIds:k,colors:S,onEditTeamPokemon:we,favoritePokemons:ne,onToggleFavoritePokemon:z,showOnlyFavorites:X,setShowOnlyFavorites:J})=>{const ee=X?L.filter(B=>ne.has(B.id)):L;return c.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:S.card},children:[c.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:S.primary,color:S.text},children:"Current Team"}),c.jsx("input",{type:"text",value:e,onChange:B=>n(B.target.value),placeholder:"Team Name",className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:S.cardLight,borderColor:"transparent",color:S.text}}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:S.background},children:[t.map(B=>c.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:()=>we(B),children:[c.jsx("img",{src:B.animatedSprite||B.sprite||Le,onError:q=>{q.currentTarget.src=B.sprite||Le},alt:B.name,className:"mx-auto h-20 w-20"}),c.jsx("p",{className:"text-xs capitalize truncate",style:{color:S.text},children:B.name}),c.jsx("button",{onClick:q=>{q.stopPropagation(),we(B)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-6 w-6 flex items-center justify-center transition-opacity text-sm opacity-100 visible lg:opacity-0 lg:invisible lg:group-hover:opacity-100 lg:group-hover:visible",children:c.jsx(z6,{})}),c.jsx("button",{onClick:q=>{q.stopPropagation(),i(B.instanceId)},className:`\r
                                absolute top-1 right-1 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-sm\r
                                opacity-100 visible\r
                                lg:opacity-0 lg:invisible\r
                                lg:group-hover:opacity-100 lg:group-hover:visible\r
                                transition-opacity duration-200 \r
                            `,children:c.jsx(Jm,{})})]},B.instanceId)),Array.from({length:6-t.length}).map((B,q)=>c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("img",{src:Le,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},q))]}),c.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[c.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]",style:{backgroundColor:S.primary,color:S.background},children:[" ",c.jsx(Tw,{})," ",s?"Update":"Save"," "]}),c.jsx("button",{onClick:y,className:"p-2 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",style:{backgroundColor:S.cardLight,color:S.text},title:"Export to Showdown",children:c.jsx(F6,{})}),c.jsx("button",{onClick:m,className:"p-2 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",style:{backgroundColor:S.cardLight,color:S.text},title:"Share Team",children:c.jsx(O6,{})}),c.jsx("button",{onClick:a,className:"p-2 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",style:{backgroundColor:S.cardLight,color:S.text},title:"Clear Team",children:c.jsx(R6,{})})]})]}),c.jsxs("section",{className:"p-6 rounded-xl shadow-lg backdrop-blur-sm",style:{backgroundColor:S.card,borderTop:`1px solid ${S.cardLight}`},children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'",color:S.text},children:"Recent Teams"}),c.jsx("button",{onClick:u,className:"text-sm hover:underline transition-all duration-200 hover:scale-105",style:{color:S.primary},children:"View All"})]}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",style:{"--scrollbar-track-color":S.card,"--scrollbar-thumb-color":S.primary,"--scrollbar-thumb-border-color":S.card},children:l.length>0?l.map(B=>c.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-all duration-200 hover:shadow-md",style:{backgroundColor:S.cardLight},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-bold text-lg truncate",style:{color:S.text},children:B.name}),c.jsx("div",{className:"flex mt-1",children:B.pokemons.map(q=>c.jsx("img",{src:q.sprite||Le,onError:re=>{re.currentTarget.src=Le},alt:q.name,className:"h-8 w-8 -ml-2 border-2 rounded-full transition-transform duration-200 hover:scale-110 hover:z-10",style:{borderColor:S.cardLight,backgroundColor:S.card}},q.id))})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[c.jsx("button",{onClick:()=>h(B),title:"Favorite",children:c.jsx(zi,{isFavorite:B.isFavorite,color:S.textMuted})}),c.jsx("button",{onClick:()=>f(B),className:"text-xs font-bold py-1 px-3 rounded-full transition-all duration-200 hover:scale-105 active:scale-95",style:{backgroundColor:S.primary,color:S.background},children:"Edit"}),c.jsx("button",{onClick:()=>g(B.id,B.name),className:"bg-red-600 p-1 hover:bg-red-700 text-white rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",children:c.jsx(Jm,{})})]})]},B.id)):c.jsx("p",{className:"text-center py-4",style:{color:S.textMuted},children:"No recent teams yet."})})]})]}),c.jsx("div",{className:"lg:col-span-6",children:c.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:S.card},children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:S.text},children:"Choose your Pokmon!"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:D,onChange:B=>M(B.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:S.cardLight,borderColor:"transparent",color:S.text}}),c.jsxs("select",{value:x,onChange:B=>b(B.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:S.cardLight,borderColor:"transparent",color:S.text},children:[c.jsx("option",{value:"all",style:{color:S.text},children:"All Generations"}),w.map(B=>c.jsx("option",{value:B,className:"capitalize",style:{color:S.text},children:B.replace("-"," ")},B))]}),c.jsxs("button",{onClick:()=>J(!X),className:`w-full p-3 rounded-lg border-2 focus:outline-none flex items-center justify-center gap-2 font-semibold transition-all duration-200 ${X?"ring-2 ring-yellow-400":""}`,style:{backgroundColor:X?"rgba(251, 191, 36, 0.2)":S.cardLight,borderColor:"transparent",color:S.text},children:[c.jsx(zi,{className:"w-5 h-5",isFavorite:X,color:S.textMuted}),"Favorites"]})]})]}),c.jsx("div",{className:"relative flex-grow h-[60vh]",children:I?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:S.primary}})}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":S.card,"--scrollbar-thumb-color":S.primary,"--scrollbar-thumb-border-color":S.card},children:[c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2 py-4",children:ee.map((B,q)=>c.jsx(ay,{details:B,onCardClick:H,lastRef:q===ee.length-1?_:null,isSuggested:k.has(B.id),colors:S,isFavorite:ne.has(B.id),onToggleFavorite:z},B.id))}),E&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:S.primary}})}),ee.length===0&&!I&&c.jsx("p",{className:"text-center py-8",style:{color:S.textMuted},children:X?"No favorite Pokmon found. Add some favorites!":"No Pokmon found with these filters. :("})]})})})]})}),c.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:S.card},children:[c.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:S.text},children:"Filter by Type"}),c.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ke).map(B=>c.jsx("button",{onClick:()=>v(B),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${A.has(B)?"ring-2 ring-purple":""}`,style:{backgroundColor:S.cardLight},title:B,children:c.jsx("img",{src:Aa[B],alt:B,className:"w-full h-full object-contain"})},B))})]}),t.length>0&&c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:S.card},children:[c.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",style:{color:S.text},children:"Team Analysis"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:N.strengths.size>0?Array.from(N.strengths).sort().map(B=>c.jsx(Ph,{type:B,colors:S},B)):c.jsx("p",{className:"text-sm",style:{color:S.textMuted},children:"No type advantages found."})})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(N.weaknesses).length>0?Object.entries(N.weaknesses).sort(([,B],[,q])=>q-B).map(([B,q])=>c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ph,{type:B,colors:S}),c.jsxs("span",{className:"text-xs text-red-300",children:["(",q,"x)"]})]},B)):c.jsx("p",{className:"text-sm",style:{color:S.textMuted},children:"Your team is rock solid!"})})]})]})]})]})},J6=({teams:t,onEdit:e,requestDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s,colors:a})=>c.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:a.card},children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",style:{color:a.text},children:"All Saved Teams"}),c.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:l=>s(l.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:a.cardLight,borderColor:"transparent",color:a.text}}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length>0?t.map(l=>c.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between transition-all duration-200 hover:shadow-xl hover:scale-[1.02]",style:{backgroundColor:a.cardLight},children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"font-bold text-xl truncate mb-2",style:{color:a.text},children:l.name}),c.jsx("button",{onClick:()=>i(l),title:"Favorite",className:"transition-transform duration-200 hover:scale-110 active:scale-95",children:c.jsx(zi,{isFavorite:l.isFavorite,color:a.textMuted})})]}),c.jsx("div",{className:"flex my-2",children:l.pokemons.map(u=>c.jsx("img",{src:u.sprite||Le,onError:h=>{h.currentTarget.src=Le},alt:u.name,className:"h-12 w-12 -ml-3 border-2 rounded-full transition-transform duration-200 hover:scale-110 hover:z-10",style:{borderColor:a.cardLight,backgroundColor:a.card}},u.id))}),c.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[c.jsx("button",{onClick:()=>e(l),className:"w-full bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:scale-[1.03] active:scale-[0.98]",children:"Edit"}),c.jsx("button",{onClick:()=>n(l.id,l.name),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",children:c.jsx(Jm,{})})]})]},l.id)):c.jsx("p",{className:"col-span-full text-center py-8",style:{color:a.textMuted},children:"No teams found."})})]}),e5=({pokemons:t,lastPokemonElementRef:e,isFetchingMore:n,searchInput:i,setSearchInput:r,selectedTypes:s,handleTypeSelection:a,selectedGeneration:l,setSelectedGeneration:u,generations:h,isInitialLoading:f,colors:m,showDetails:g,favoritePokemons:y,onToggleFavoritePokemon:N,showOnlyFavorites:D,setShowOnlyFavorites:M})=>{const x=D?t.filter(b=>y.has(b.id)):t;return c.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsx("div",{className:"lg:col-span-9",children:c.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:m.card},children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:m.text},children:"Pokdex"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:i,onChange:b=>r(b.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:m.cardLight,borderColor:"transparent",color:m.text}}),c.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:m.cardLight,borderColor:"transparent",color:m.text},children:[c.jsx("option",{value:"all",style:{color:m.text},children:"All Generations"}),h.map(b=>c.jsx("option",{value:b,className:"capitalize",style:{color:m.text},children:b.replace("-"," ")},b))]}),c.jsxs("button",{onClick:()=>M(!D),className:`w-full p-3 rounded-lg border-2 focus:outline-none flex items-center justify-center gap-2 font-semibold transition-all duration-200 ${D?"ring-2 ring-yellow-400":""}`,style:{backgroundColor:D?"rgba(251, 191, 36, 0.2)":m.cardLight,borderColor:"transparent",color:m.text},children:[c.jsx(zi,{className:"w-5 h-5",isFavorite:D,color:m.textMuted}),D?"Showing Favorites":"Show Favorites"]})]})]}),c.jsx("div",{className:"relative flex-grow h-[75vh]",children:f?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:m.primary}})}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":m.card,"--scrollbar-thumb-color":m.primary,"--scrollbar-thumb-border-color":m.card},children:[c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-2",children:x.map((b,w)=>c.jsx(ay,{details:b,onCardClick:g,lastRef:w===x.length-1?e:null,colors:m,isFavorite:y.has(b.id),onToggleFavorite:N},b.id))}),n&&c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:m.primary}})}),x.length===0&&!f&&c.jsx("p",{className:"text-center py-8",style:{color:m.textMuted},children:D?"No favorite Pokmon found. Add some favorites!":"No Pokmon found."})]})})})]})}),c.jsx("div",{className:"lg:col-span-3 space-y-8",children:c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:m.card},children:[c.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:m.text},children:"Filter by Type"}),c.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(ke).map(b=>c.jsx("button",{onClick:()=>a(b),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${s.has(b)?"ring-2 ring-purple":""}`,style:{backgroundColor:m.cardLight},title:b,children:c.jsx("img",{src:Aa[b],alt:b,className:"w-full h-full object-contain"})},b))})]})})]})},t5=({allPokemons:t,favoritePokemons:e,onToggleFavoritePokemon:n,showDetails:i,colors:r,onAddToTeam:s,isLoading:a})=>{const[l,u]=C.useState(""),[h,f]=C.useState("all"),m=C.useMemo(()=>t.filter(y=>e.has(y.id)),[t,e]),g=C.useMemo(()=>{let y=m;return l&&(y=y.filter(N=>N.name.toLowerCase().includes(l.toLowerCase()))),h!=="all"&&(y=y.filter(N=>N.types.includes(h))),y},[m,l,h]);return c.jsx("main",{className:"space-y-6",children:c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:r.card},children:[c.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg md:text-xl font-bold",style:{fontFamily:"'Press Start 2P'",color:r.text},children:"Favorite Pokmon"}),c.jsxs("p",{className:"text-sm mt-1",style:{color:r.textMuted},children:[e.size," Pokmon saved as favorites"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[c.jsx("input",{type:"text",placeholder:"Search favorites...",value:l,onChange:y=>u(y.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:r.cardLight,borderColor:"transparent",color:r.text}}),c.jsxs("select",{value:h,onChange:y=>f(y.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:r.cardLight,borderColor:"transparent",color:r.text},children:[c.jsx("option",{value:"all",children:"All Types"}),Object.keys(ke).map(y=>c.jsx("option",{value:y,className:"capitalize",children:y},y))]})]}),a?c.jsx("div",{className:"flex items-center justify-center py-16",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:r.primary}})}):g.length>0?c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:g.map(y=>c.jsx(ay,{details:y,onCardClick:i,colors:r,isFavorite:!0,onToggleFavorite:n},y.id))}):c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"mb-4",children:c.jsx(zi,{className:"w-16 h-16 mx-auto",isFavorite:!1,color:r.textMuted})}),c.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:r.text},children:e.size===0?"No favorites yet!":"No matches found"}),c.jsx("p",{style:{color:r.textMuted},children:e.size===0?"Start adding Pokmon to your favorites by clicking the star icon on any Pokmon card.":"Try adjusting your search or filter criteria."})]})]})})},U_=["Did you know Pikachu was inspired by a squirrel, not a mouse? The name comes from 'pika' (sparkle) + 'chu' (squeak sound in Japan)!","Ditto can transform into any Pokmon, but its eyes remain the same - a detail that helps identify it!","Magikarp can leap over mountains with its Splash, but the move still deals no damage... ironic, right?","Slowpoke takes 5 seconds to feel pain. If its tail is bitten, it won't notice until much later!","Cubone wears the skull of its deceased mother as a helmet. No one has ever seen its true face.","Gengar might be Clefable's shadow - they have almost identical silhouettes!","Vaporeon is composed of molecules so similar to water that it can become invisible when submerged.","Alakazam has an IQ of 5000, making it smarter than any supercomputer!","Shedinja has only 1 HP, but its Wonder Guard ability makes it immune to non-super effective moves.","Wobbuffet hides its true body - the black tail with eyes is the real Pokmon!","Arcanine was originally planned to be a legendary Pokmon, which is why it's called the 'Legendary Pokmon' in the Pokdex.","Rhydon was the first Pokmon ever created, not Bulbasaur!","Espeon and Umbreon represent the sun and the moon, evolving according to the time of day.","Mewtwo was cloned from Mew, but ended up becoming much more powerful than the original.","Tyranitar can bring down whole mountains and change the landscape when it's furious!","Eevee has the most possible evolutions of any Pokmon, currently totaling eight different forms!","Porygon is the first artificial Pokmon, created entirely out of programming code.","Dragonite can circle the globe in just 16 hours, flying at roughly 1,500 mph.","Lapras is known for its high intelligence and can understand human speech.","Snorlax's stomach is so strong it can digest rotten food without getting sick.","Farfetch'd carries a leek stalk as a weapon, but it will also eat it if it gets hungry enough!","Psyduck suffers from constant headaches. When the pain becomes too intense, it unleashes powerful psychic energy.","Meowth is the only Pokmon in the anime that taught itself to speak human language to impress a female Meowth.","Machamp can throw 500 punches in a single second with its four arms!","Gyarados is known as the Atrocious Pokmon because of its violent temper, often destroying entire cities in a rage.","Jigglypuff's song is so soothing that no one can stay awake to hear the whole thing.","Haunter can lick you with its gaseous tongue to steal your life force. Spooky!","Kangaskhan is never seen without its baby in its pouch until the baby is fully grown.","Mr. Mime creates invisible walls by vibrating its fingertips at high speeds.","Scyther moves so fast that it looks like there are several of them at once, creating a ninja-like illusion.","Electabuzz loves to feed on electricity and can often be found near power plants causing blackouts.","Magmar's body temperature is nearly 2,200 degrees Fahrenheit, making it a walking fireball.","Tauros whips itself with its three tails to get pumped up for battle.","Ditto cannot copy a Pokmon's HP stat, which is why it often transforms into high-HP Pokmon in competitive play.","Eevee's genetic code is unstable, which is why it can evolve into so many different types.","Kabutops was an ancient predator that swam in the oceans 300 million years ago.","Aerodactyl was resurrected from DNA found in amber, much like the dinosaurs in Jurassic Park!","Articuno's wings are said to be made of ice, and it can create blizzards just by flapping them.","Zapdos is capable of controlling thunderstorms and gains power when struck by lightning.","Moltres heals its wounds by dipping itself into the magma of an active volcano.","Dratini was once considered a myth until a fishing colony found one underwater.","Mew contains the DNA of every single Pokmon, making it the ancestor of all Pokmon.","Chikorita uses the leaf on its head to check the temperature and humidity of the air.","Cyndaquil flares the flames on its back when it is angry or startled.","Totodile has a habit of biting anything it sees, including its trainer!","Sentret stands on its tail to scout for danger from a distance.","Hoothoot has an internal organ that senses the earth's rotation, keeping perfect time.","Ledyba communicates with others using scents that change depending on its feelings.","Spinarak spins a web that is strong enough to trap small prey, and it waits patiently for days.","Pichu is not yet skilled at storing electricity and may accidentally discharge it when startled.","Cleffa is often seen dancing in a ring on nights with a full moon.","Igglybuff has a very soft and elastic body, allowing it to bounce like a ball.","Togepi stores happiness inside its shell and shares it with those who treat it well.","Natu cannot fly yet, so it hops around to get from place to place.","Mareep's wool grows continuously and stores static electricity. Touching it can give you a shock!","Bellossom is the only Pokmon that evolves from a dual-type (Gloom) into a single-type.","Marill's tail functions like a float, keeping it above water even in strong currents.","Sudowoodo pretends to be a tree to avoid being attacked, but it hates water!"],n5=()=>c.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i5=({colors:t,navigate:e,savedTeams:n,favoritePokemons:i,allPokemons:r,recentTeams:s,showDetails:a,onToggleFavoritePokemon:l,handleEditTeam:u,greetingPokemonId:h,onOpenPokemonSelector:f,db:m,theme:g,onNavigateWithTypeFilter:y})=>{var ne,z,X,J,ee,B;const[N,D]=C.useState(null),x=(()=>{const q=new Date().getHours();return q>=5&&q<12?{text:"Good morning",emoji:"",pokemon:"espeon",period:"morning"}:q>=12&&q<18?{text:"Good afternoon",emoji:"",pokemon:"pikachu",period:"afternoon"}:{text:"Good evening",emoji:"",pokemon:"umbreon",period:"night"}})();C.useEffect(()=>{(async()=>{if(!m||!h){const re={morning:"espeon",afternoon:"pikachu",night:"umbreon"},$=r.find(te=>te.name===re[x.period]);D($||null);return}try{const re=dn(m,"artifacts/pokemonTeamBuilder/pokemons",String(h)),$=await jh(re);if($.exists())D($.data());else{const te=r.find(de=>de.id===h);D(te||null)}}catch(re){console.error("Error fetching greeting Pokemon:",re);const $=r.find(te=>te.id===h);D($||null)}})()},[m,h,r,x.period]);const w=(()=>{const q=new Date,$=Math.floor((q-new Date(q.getFullYear(),0,0))/(1e3*60*60*24))%1025+1;return r.find(te=>te.id===$)||r[0]})(),L=(()=>{const q=new Date,re=Math.floor((q-new Date(q.getFullYear(),0,0))/(1e3*60*60*24));return U_[re%U_.length]})(),_=(()=>{const q=n.flatMap(te=>te.pokemons),re={};q.forEach(te=>{const de=r.find(We=>We.id===te.id);de!=null&&de.types&&de.types.forEach(We=>{re[We]=(re[We]||0)+1})});const $=Object.entries(re).sort((te,de)=>de[1]-te[1])[0];return{totalTeams:n.length,favoriteTeams:n.filter(te=>te.isFavorite).length,totalFavoritePokemons:i.size,favoriteType:$?$[0]:null}})(),E=C.useMemo(()=>r.filter(q=>i.has(q.id)).slice(0,6),[r,i]),A=s[0],v=(ne=w==null?void 0:w.types)!=null&&ne[0]?ke[w.types[0]]:t.primary;(z=w==null?void 0:w.types)!=null&&z[1]&&ke[w.types[1]];const R=(X=N==null?void 0:N.types)!=null&&X[0]?ke[N.types[0]]:t.primary,k=(J=N==null?void 0:N.types)!=null&&J[1]?ke[N.types[1]]:R,S=["Ready to be the very best!","Your journey awaits, Trainer!","Let's catch 'em all today!","Adventure is out there!","Time to build your dream team!","Every Pokmon is unique!","Gotta catch 'em all!","Explore new possibilities!"],we=C.useMemo(()=>{const q=new Date,re=q.getDate()+q.getMonth();return S[re%S.length]},[]);return c.jsxs("main",{className:"space-y-6 pb-8",children:[c.jsxs("section",{className:"relative overflow-hidden rounded-2xl p-6 md:p-8 group",style:{background:`linear-gradient(135deg, ${R}25 0%, ${k}10 50%, ${t.card} 100%)`,border:`2px solid ${R}40`,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[N&&c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-50 pointer-events-none",children:c.jsx("img",{src:N.animatedSprite||N.sprite||Le,alt:N.name,className:"w-48 h-48 md:w-64 md:h-64 object-contain",onError:q=>{q.currentTarget.src=Le}})}),c.jsx("div",{className:"relative z-10",children:c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("span",{className:"text-4xl md:text-5xl",children:x.emoji}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl md:text-4xl font-bold",style:{color:t.text},children:[x.text,", Trainer!"]}),c.jsx("p",{className:"text-sm md:text-base mt-1",style:{color:t.textMuted},children:we})]})]}),N&&c.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full backdrop-blur-sm",style:{backgroundColor:R+"20"},children:[c.jsx("img",{src:N.sprite||Le,alt:N.name,className:"w-8 h-8",onError:q=>{q.currentTarget.src=Le}}),c.jsxs("span",{className:"text-sm font-semibold capitalize",style:{color:t.text},children:["Partner: ",N.name]}),N.types&&c.jsx("div",{className:"flex gap-1",children:N.types.map(q=>c.jsx("img",{src:Aa[q],alt:q,className:"w-4 h-4",title:q},q))})]})]}),c.jsx("button",{onClick:f,className:"p-3 rounded-xl transition-all hover:scale-110 active:scale-95 opacity-70 hover:opacity-100",style:{backgroundColor:t.cardLight},title:"Change partner Pokmon",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:t.text},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),c.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 rounded-full blur-3xl opacity-20 pointer-events-none",style:{backgroundColor:R}}),c.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-15 pointer-events-none",style:{backgroundColor:k}})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&c.jsx("section",{className:"rounded-2xl w-full p-6 relative overflow-hidden cursor-pointer transition-all duration-300 hover:scale-[1.01] hover:shadow-xl",style:{backgroundColor:t.card,borderLeft:`4px solid ${ke[(ee=w.types)==null?void 0:ee[0]]||t.primary}`,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},onClick:()=>a(w),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full",style:{backgroundColor:t.primary,color:"white"},children:" DAILY POKMON"})}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold capitalize mb-1",style:{color:t.text},children:w.name}),c.jsxs("p",{className:"text-sm mb-3",style:{color:t.textMuted},children:["#",String(w.id).padStart(3,"0")]}),c.jsx("div",{className:"flex gap-2",children:(B=w.types)==null?void 0:B.map(q=>c.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold text-white capitalize",style:{backgroundColor:ke[q]},children:q},q))})]}),c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:w.animatedSprite||Le,alt:w.name,className:"w-24 h-24 md:w-32 md:h-32 object-contain hover:scale-110 transition-transform",onError:q=>{q.currentTarget.src=Le}}),c.jsx("button",{onClick:q=>{q.stopPropagation(),l(w.id)},className:"absolute top-0 right-0 p-2 rounded-full transition-all hover:scale-110",style:{backgroundColor:i.has(w.id)?"rgba(251, 191, 36, 0.3)":t.cardLight},children:c.jsx(zi,{className:"w-5 h-5",isFavorite:i.has(w.id),color:t.textMuted})})]})]})}),c.jsxs("section",{className:"rounded-2xl w-full p-7",style:{backgroundColor:t.card,borderLeft:`4px solid ${t.primary}`,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[c.jsx("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",style:{color:t.text},children:" Did you know?"}),c.jsx("p",{className:"text-normal leading-relaxed",style:{color:t.textMuted},children:L})]})]}),c.jsx("section",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:c.jsx(xw,{}),label:"Criar Time",path:"/builder",color:"#7d65e1"},{icon:c.jsx(ww,{}),label:"Pokdex",path:"/pokedex",color:"#EE8130"},{icon:c.jsx(Sw,{}),label:"Aleatrio",path:"/generator",color:"#6390F0"},{icon:c.jsx(zi,{className:"w-6 h-6",isFavorite:!0,color:"#FBBF24"}),label:"Favoritos",path:"/favorites",color:"#FBBF24"}].map((q,re)=>c.jsxs("button",{onClick:()=>e(q.path),className:"p-4 rounded-xl flex flex-col items-center gap-2 transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95",style:{backgroundColor:t.card,border:`2px solid ${q.color}20`,boxShadow:g==="light"?"0 2px 4px -1px rgba(0, 0, 0, 0.08)":"none"},children:[c.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${q.color}20`,color:q.color},children:q.icon}),c.jsx("span",{className:"text-sm font-semibold",style:{color:t.text},children:q.label})]},re))}),c.jsxs("section",{className:"rounded-2xl p-6",style:{backgroundColor:t.card,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold flex items-center gap-2",style:{color:t.text},children:" Your favorites"}),E.length>0&&c.jsx("button",{onClick:()=>e("/favorites"),className:"text-sm hover:underline p-2 rounded-lg font-semibold transition-all hover:scale-105",style:{color:t.primary,backgroundColor:t.primary+"30"},children:"Check all "})]}),E.length>0?c.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:E.map(q=>c.jsxs("div",{onClick:()=>a(q),className:"p-3 rounded-xl text-center cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg",style:{backgroundColor:t.cardLight},children:[c.jsx("img",{src:q.sprite||Le,alt:q.name,className:"w-16 h-16 mx-auto",onError:re=>{re.currentTarget.src=Le}}),c.jsx("p",{className:"text-xs capitalize truncate mt-1",style:{color:t.text},children:q.name})]},q.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-3 opacity-30",children:""}),c.jsx("p",{className:"text-sm mb-2",style:{color:t.textMuted},children:"No favorite Pokmon yet!"}),c.jsx("p",{className:"text-xs mb-4",style:{color:t.textMuted},children:"Click the star icon on any Pokmon to add them here"}),c.jsx("button",{onClick:()=>e("/pokedex"),className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105",style:{backgroundColor:t.primary,color:"white"},children:"Browse Pokdex"})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("section",{className:"rounded-2xl p-6",style:{backgroundColor:t.card,background:`linear-gradient(135deg, ${t.card} 0%, ${t.primary}15 100%)`,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[c.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:t.text},children:" Trainer Stats"}),_.totalTeams>0?c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"p-3 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-2xl font-bold",style:{color:t.primary},children:_.totalTeams}),c.jsx("p",{className:"text-xs",style:{color:t.textMuted},children:"Teams created"})]}),c.jsxs("div",{className:"p-3 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-2xl font-bold",style:{color:"#FBBF24"},children:_.favoriteTeams}),c.jsx("p",{className:"text-xs",style:{color:t.textMuted},children:"Favorite Teams"})]}),_.favoriteType&&c.jsxs("div",{className:"p-3 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("div",{className:"w-8 h-8 mx-auto rounded-full flex items-center justify-center mb-1",style:{backgroundColor:ke[_.favoriteType]},children:c.jsx("img",{src:Aa[_.favoriteType],alt:_.favoriteType,className:"w-5 h-5"})}),c.jsx("p",{className:"text-xs capitalize",style:{color:t.textMuted},children:"Favorite type"})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-5xl mb-3 opacity-30",children:""}),c.jsx("p",{className:"text-sm mb-2",style:{color:t.textMuted},children:"No teams yet!"}),c.jsx("p",{className:"text-xs",style:{color:t.textMuted},children:"Create your first team to start tracking stats"})]})]}),c.jsxs("section",{className:"rounded-2xl p-6",style:{backgroundColor:t.card,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[c.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",style:{color:t.text},children:" Your last team"}),A?c.jsxs("div",{className:"p-4 rounded-xl cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg",style:{backgroundColor:t.cardLight},onClick:()=>u(A),children:[c.jsx("p",{className:"font-bold truncate mb-2",style:{color:t.text},children:A.name}),c.jsx("div",{className:"flex -space-x-2",children:A.pokemons.slice(0,6).map((q,re)=>c.jsx("img",{src:q.sprite||Le,alt:q.name,className:"w-10 h-10 rounded-full border-2",style:{borderColor:t.cardLight,backgroundColor:t.card},onError:$=>{$.currentTarget.src=Le}},re))})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-5xl mb-3 opacity-30",children:""}),c.jsx("p",{className:"text-sm mb-2",style:{color:t.textMuted},children:"No teams created yet!"}),c.jsx("p",{className:"text-xs mb-4",style:{color:t.textMuted},children:"Build your first dream team"}),c.jsx("button",{onClick:()=>e("/builder"),className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105",style:{backgroundColor:t.primary,color:"white"},children:"Create Team"})]})]}),c.jsxs("section",{className:"rounded-2xl p-4",style:{backgroundColor:t.card,boxShadow:g==="light"?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"none"},children:[c.jsx("h3",{className:"text-sm font-bold mb-3 flex items-center gap-2",style:{color:t.text},children:" Explore by types!"}),c.jsx("div",{className:"grid grid-cols-9 gap-1.5",children:Object.entries(ke).map(([q,re])=>c.jsx("button",{onClick:()=>y(q),className:"p-1.5 rounded-md transition-all duration-200 hover:scale-110 hover:shadow-md",title:q,children:c.jsx("img",{src:Aa[q],alt:q,className:"w-full h-auto"})},q))})]})]})]})]})},Gs={all:{start:1,end:1025},"generation-i":{start:1,end:151},"generation-ii":{start:152,end:251},"generation-iii":{start:252,end:386},"generation-iv":{start:387,end:493},"generation-v":{start:494,end:649},"generation-vi":{start:650,end:721},"generation-vii":{start:722,end:809},"generation-viii":{start:810,end:905},"generation-ix":{start:906,end:1025}},z_=new Set([144,145,146,150,151,243,244,245,249,250,251,377,378,379,380,381,382,383,384,385,386,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,638,639,640,641,642,643,644,645,646,647,648,649,716,717,718,719,720,721,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,888,889,890,891,892,893,894,895,896,897,898,905,1001,1002,1003,1004,1007,1008,1009,1010,1014,1015,1016,1017,1024,1025]),B_=[{name:"Hardy",plus:null,minus:null},{name:"Lonely",plus:"Attack",minus:"Defense"},{name:"Brave",plus:"Attack",minus:"Speed"},{name:"Adamant",plus:"Attack",minus:"Sp. Atk"},{name:"Naughty",plus:"Attack",minus:"Sp. Def"},{name:"Bold",plus:"Defense",minus:"Attack"},{name:"Docile",plus:null,minus:null},{name:"Relaxed",plus:"Defense",minus:"Speed"},{name:"Impish",plus:"Defense",minus:"Sp. Atk"},{name:"Lax",plus:"Defense",minus:"Sp. Def"},{name:"Timid",plus:"Speed",minus:"Attack"},{name:"Hasty",plus:"Speed",minus:"Defense"},{name:"Serious",plus:null,minus:null},{name:"Jolly",plus:"Speed",minus:"Sp. Atk"},{name:"Naive",plus:"Speed",minus:"Sp. Def"},{name:"Modest",plus:"Sp. Atk",minus:"Attack"},{name:"Mild",plus:"Sp. Atk",minus:"Defense"},{name:"Quiet",plus:"Sp. Atk",minus:"Speed"},{name:"Bashful",plus:null,minus:null},{name:"Rash",plus:"Sp. Atk",minus:"Sp. Def"},{name:"Calm",plus:"Sp. Def",minus:"Attack"},{name:"Gentle",plus:"Sp. Def",minus:"Defense"},{name:"Sassy",plus:"Sp. Def",minus:"Speed"},{name:"Careful",plus:"Sp. Def",minus:"Sp. Atk"},{name:"Quirky",plus:null,minus:null}],r5=({colors:t,generations:e})=>{const[n,i]=C.useState([]),[r,s]=C.useState(!1),[a,l]=C.useState(3),[u,h]=C.useState("all"),[f,m]=C.useState("all"),[g,y]=C.useState("all"),[N,D]=C.useState("all"),[M,x]=C.useState("all"),[b,w]=C.useState({}),I=v=>{for(const[R,k]of Object.entries(Gs))if(R!=="all"&&v>=k.start&&v<=k.end)return R.replace("generation-","Gen ").toUpperCase();return"Unknown"},L=C.useCallback(async(v,R=null)=>{try{const k=R?`${v}_${R}`:v;if(b[k])return b[k];const we=await(await fetch(v)).json(),ne=[133,134,135,136,196,197,470,471,700],z=[];if(R&&ne.includes(parseInt(R))){const J=(B,q,re=[])=>{const $=B.species.url.split("/").filter(Boolean).pop(),te=[...re,{name:B.species.name,id:$,chain:B}];if(parseInt($)===parseInt(q))return te;if(B.evolves_to&&B.evolves_to.length>0)for(const de of B.evolves_to){const We=J(de,q,te);if(We)return We}return null},ee=J(we.chain,R);ee&&ee.forEach((B,q)=>{var te;const re=parseInt(B.id);let $="Unknown";for(const[de,We]of Object.entries(Gs))if(de!=="all"&&re>=We.start&&re<=We.end){$=de.replace("generation-","Gen ").toUpperCase();break}z.push({name:B.name,id:B.id,stage:q+1,genIntroduced:$,evolutionDetails:((te=B.chain.evolution_details)==null?void 0:te[0])||null})})}else{const J=(ee,B=1)=>{var te;const q=ee.species.url.split("/").filter(Boolean).pop();let re="Unknown";const $=parseInt(q);for(const[de,We]of Object.entries(Gs))if(de!=="all"&&$>=We.start&&$<=We.end){re=de.replace("generation-","Gen ").toUpperCase();break}z.push({name:ee.species.name,id:q,stage:B,genIntroduced:re,evolutionDetails:((te=ee.evolution_details)==null?void 0:te[0])||null}),ee.evolves_to&&ee.evolves_to.length>0&&ee.evolves_to.forEach(de=>J(de,B+1))};J(we.chain)}return w(J=>({...J,[k]:z})),z}catch(k){return console.error("Error fetching evolution chain:",k),[]}},[b]),H=C.useCallback(async(v,R)=>{try{const S=await(await fetch(R)).json();return(await Promise.all(S.varieties.filter(ne=>!ne.is_default).slice(0,5).map(async ne=>{var z,X;try{const ee=await(await fetch(ne.pokemon.url)).json();return{name:ne.pokemon.name,sprite:ee.sprites.front_default||((X=(z=ee.sprites.other)==null?void 0:z["official-artwork"])==null?void 0:X.front_default)}}catch{return null}}))).filter(Boolean)}catch(k){return console.error("Error fetching forms:",k),[]}},[]),_=C.useCallback(async v=>{var R,k,S,we,ne,z;try{const[X,J]=await Promise.all([fetch(`${rs}/pokemon/${v}`),fetch(`${rs}/pokemon-species/${v}`)]),ee=await X.json(),B=await J.json(),q=await L(B.evolution_chain.url,v),re=await H(v,`${rs}/pokemon-species/${v}`),$=q.find(Ce=>parseInt(Ce.id)===v),te=($==null?void 0:$.stage)||1,de=!q.some(Ce=>Ce.stage>te),We=B_[Math.floor(Math.random()*B_.length)],Zt=B.gender_rate;let Cn="Genderless";return Zt===-1?Cn="Genderless":Zt===0?Cn="Male":Zt===8?Cn="Female":Cn=Math.random()<Zt/8?"Female":"Male",{id:ee.id,name:ee.name,types:ee.types.map(Ce=>Ce.type.name),sprite:((k=(R=ee.sprites.other)==null?void 0:R["official-artwork"])==null?void 0:k.front_default)||ee.sprites.front_default,shinySprite:((we=(S=ee.sprites.other)==null?void 0:S["official-artwork"])==null?void 0:we.front_shiny)||ee.sprites.front_shiny,height:ee.height/10,weight:ee.weight/10,generation:I(ee.id),stats:ee.stats.map(Ce=>({name:Ce.stat.name,base_stat:Ce.base_stat})),abilities:ee.abilities.map(Ce=>Ce.ability.name),evolutions:q,evolutionStage:te,isFullyEvolved:de,forms:re,isLegendary:B.is_legendary,isMythical:B.is_mythical,habitat:((ne=B.habitat)==null?void 0:ne.name)||"Unknown",nature:We,gender:Cn,baseHappiness:B.base_happiness,captureRate:B.capture_rate,growthRate:((z=B.growth_rate)==null?void 0:z.name)||"Unknown"}}catch(X){return console.error(`Error fetching Pokemon ${v}:`,X),null}},[L,H]),E=C.useCallback(async()=>{s(!0),i([]);try{let v=[];const R=Gs[u]||Gs.all;for(let z=R.start;z<=R.end;z++)v.push(z);g==="legendary"?v=v.filter(z=>z_.has(z)):g==="non-legendary"&&(v=v.filter(z=>!z_.has(z)));const k=v.sort(()=>Math.random()-.5),we=k.slice(0,Math.min(a,v.length)).map(z=>_(z));let ne=await Promise.all(we);if(ne=ne.filter(Boolean),f!=="all"&&(ne=ne.filter(z=>z.types.includes(f)),ne.length<a)){const z=a-ne.length,X=k.slice(a,a+z*3),ee=(await Promise.all(X.map(B=>_(B)))).filter(B=>B&&B.types.includes(f));ne=[...ne,...ee].slice(0,a)}N==="fully-evolved"?ne=ne.filter(z=>z.isFullyEvolved):N==="not-fully-evolved"&&(ne=ne.filter(z=>!z.isFullyEvolved)),i(ne)}catch(v){console.error("Error generating Pokemon:",v)}finally{s(!1)}},[a,u,f,g,N,_]);C.useEffect(()=>{E()},[]);const A=({pokemon:v})=>{var B,q,re;const[R,k]=C.useState({}),[S,we]=C.useState(!0);C.useEffect(()=>{(async()=>{if(!v.evolutions||v.evolutions.length===0){we(!1);return}we(!0);const te={};try{await Promise.all(v.evolutions.map(async de=>{try{const Zt=await(await fetch(`${rs}/pokemon/${de.id}`)).json();te[de.id]=Zt.sprites.front_default}catch{te[de.id]=null}}))}catch(de){console.error("Error fetching evo sprites:",de)}k(te),we(!1)})()},[v.evolutions]);const ne=v.types[0],z=((B=v.evolutions)==null?void 0:B.findIndex($=>parseInt($.id)===v.id))??-1,X=z>0?v.evolutions.slice(0,z):[],J=z>=0&&z<((q=v.evolutions)==null?void 0:q.length)-1?v.evolutions.slice(z+1):[],ee=({evo:$,isCurrent:te=!1})=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`rounded-xl p-1 ${te?"":"opacity-70"}`,style:{backgroundColor:te?ke[ne]+"20":"transparent",border:te?`3px solid ${ke[ne]}`:"2px solid transparent"},children:S?c.jsx("div",{className:`${te?"w-24 h-24":"w-16 h-16"} rounded-full animate-pulse`,style:{backgroundColor:t.cardLight}}):(te?v.sprite:R[$.id])?c.jsx("img",{src:te?v.sprite:R[$.id],alt:$.name,className:`${te?"w-24 h-24":"w-16 h-16"} object-contain`}):c.jsx("div",{className:`${te?"w-24 h-24":"w-16 h-16"} rounded-full flex items-center justify-center text-lg`,style:{backgroundColor:t.cardLight},children:"?"})}),c.jsx("p",{className:`capitalize font-semibold mt-1 text-center truncate ${te?"text-sm max-w-[96px]":"text-[11px] max-w-[64px]"}`,style:{color:te?ke[ne]:t.textMuted},children:$.name.replace(/-/g," ")}),!te&&c.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded-full font-medium mt-0.5",style:{backgroundColor:t.cardLight,color:t.textMuted},children:$.genIntroduced})]});return c.jsxs("div",{className:"group rounded-2xl overflow-hidden",style:{backgroundColor:t.card,border:`3px solid ${ke[ne]}`},children:[c.jsxs("div",{className:"relative p-4",style:{backgroundColor:ke[ne]+"10"},children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded",style:{backgroundColor:t.card,color:t.textMuted},children:["#",String(v.id).padStart(3,"0")]}),c.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded",style:{backgroundColor:ke[ne]+"30",color:ke[ne]},children:v.generation})]}),c.jsx("div",{className:"flex gap-1.5",children:v.types.map($=>c.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold text-white uppercase",style:{backgroundColor:ke[$]},children:$},$))})]}),c.jsx("h3",{className:"text-lg font-bold capitalize text-center mb-3",style:{color:t.text},children:v.name.replace(/-/g," ")}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[X.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center gap-1",children:X.map(($,te)=>c.jsxs(pl.Fragment,{children:[c.jsx(ee,{evo:$,isCurrent:!1}),te<X.length-1&&c.jsx("span",{className:"text-sm",style:{color:t.textMuted},children:""})]},$.id))}),c.jsx("span",{className:"text-lg mx-1",style:{color:t.textMuted},children:""})]}),v.evolutions&&v.evolutions.length>0?c.jsx(ee,{evo:v.evolutions.find($=>parseInt($.id)===v.id)||{id:v.id,name:v.name},isCurrent:!0}):c.jsx("div",{className:"rounded-xl p-1",style:{backgroundColor:ke[ne]+"20",border:`3px solid ${ke[ne]}`},children:c.jsx("img",{src:v.sprite||Le,alt:v.name,className:"w-24 h-24 object-contain",onError:$=>{$.currentTarget.src=Le}})}),J.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-lg mx-1",style:{color:t.textMuted},children:""}),c.jsx("div",{className:"flex items-center gap-1",children:J.map(($,te)=>c.jsxs(pl.Fragment,{children:[c.jsx(ee,{evo:$,isCurrent:!1}),te<J.length-1&&c.jsx("span",{className:"text-sm",style:{color:t.textMuted},children:""})]},$.id))})]})]})]}),c.jsxs("div",{className:"px-4 pb-4 pt-3 space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Height"}),c.jsxs("p",{className:"text-base font-bold",style:{color:t.text},children:[v.height,c.jsx("span",{className:"text-xs font-normal opacity-60",children:"m"})]})]}),c.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Weight"}),c.jsxs("p",{className:"text-base font-bold",style:{color:t.text},children:[v.weight,c.jsx("span",{className:"text-xs font-normal opacity-60",children:"kg"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Habitat"}),c.jsx("p",{className:"text-sm font-bold capitalize",style:{color:t.text},children:((re=v.habitat)==null?void 0:re.replace(/-/g," "))||"Unknown"})]}),c.jsxs("div",{className:"flex-1 p-2.5 rounded-xl text-center",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-[9px] uppercase tracking-wider font-medium",style:{color:t.textMuted},children:"Status"}),c.jsx("p",{className:"text-sm font-bold",style:{color:v.isLegendary?"#FFD700":v.isMythical?"#DA70D6":t.text},children:v.isLegendary?" Legendary":v.isMythical?" Mythical":"Regular"})]})]}),v.forms&&v.forms.length>0&&(M==="all"||M==="with-forms")&&c.jsxs("div",{className:"p-3 rounded-xl",style:{backgroundColor:t.cardLight},children:[c.jsxs("p",{className:"text-[9px] uppercase tracking-wider text-center mb-2 font-medium",style:{color:t.textMuted},children:["Forms (",v.forms.length,")"]}),c.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:v.forms.slice(0,4).map($=>c.jsxs("div",{className:"text-center",children:[$.sprite&&c.jsx("img",{src:$.sprite,alt:$.name,className:"w-10 h-10 mx-auto"}),c.jsx("p",{className:"text-[9px] capitalize mt-0.5 max-w-[50px] truncate",style:{color:t.text},children:$.name.replace(v.name+"-","").replace(/-/g," ")})]},$.name))})]}),c.jsxs("div",{className:"p-3 rounded-xl",style:{backgroundColor:t.cardLight},children:[c.jsx("p",{className:"text-[9px] uppercase tracking-wider text-center mb-2 font-medium",style:{color:t.textMuted},children:"Abilities"}),c.jsx("div",{className:"flex flex-wrap justify-center gap-1.5",children:v.abilities.map(($,te)=>c.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full capitalize font-medium",style:{backgroundColor:te===0?ke[ne]:t.card,color:te===0?"white":t.text},children:$.replace(/-/g," ")},$))})]})]})]})};return c.jsxs("main",{className:"space-y-6",children:[c.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:t.card},children:[c.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:t.text},children:"Random Pokmon Generator"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm whitespace-nowrap",style:{color:t.text},children:"Generate"}),c.jsx("select",{value:a,onChange:v=>l(parseInt(v.target.value)),className:"w-16 p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[1,2,3,4,5,6,7,8,9,10,12].map(v=>c.jsx("option",{value:v,children:v},v))}),c.jsx("span",{className:"text-sm",style:{color:t.text},children:"Pokmon"})]}),c.jsxs("select",{value:u,onChange:v=>h(v.target.value),className:"p-2 rounded-lg capitalize",style:{backgroundColor:t.cardLight,color:t.text},children:[c.jsx("option",{value:"all",children:"All Regions"}),Object.keys(Gs).filter(v=>v!=="all").map(v=>c.jsx("option",{value:v,className:"capitalize",children:v.replace("generation-","Gen ").replace("-"," ")},v))]}),c.jsxs("select",{value:f,onChange:v=>m(v.target.value),className:"p-2 rounded-lg capitalize",style:{backgroundColor:t.cardLight,color:t.text},children:[c.jsx("option",{value:"all",children:"All Types"}),Object.keys(ke).map(v=>c.jsx("option",{value:v,className:"capitalize",children:v},v))]}),c.jsxs("select",{value:g,onChange:v=>y(v.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[c.jsx("option",{value:"all",children:"All Legendaries"}),c.jsx("option",{value:"legendary",children:"Legendaries Only"}),c.jsx("option",{value:"non-legendary",children:"No Legendaries"})]}),c.jsxs("select",{value:N,onChange:v=>D(v.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[c.jsx("option",{value:"all",children:"Fully Evolved or Not"}),c.jsx("option",{value:"fully-evolved",children:"Fully Evolved Only"}),c.jsx("option",{value:"not-fully-evolved",children:"Not Fully Evolved"})]}),c.jsxs("select",{value:M,onChange:v=>x(v.target.value),className:"p-2 rounded-lg",style:{backgroundColor:t.cardLight,color:t.text},children:[c.jsx("option",{value:"all",children:"All Forms"}),c.jsx("option",{value:"with-forms",children:"Show Forms"}),c.jsx("option",{value:"no-forms",children:"Hide Forms"})]}),c.jsx("button",{onClick:E,disabled:r,className:"px-6 py-2 rounded-lg font-bold text-white transition-colors hover:opacity-90 disabled:opacity-50",style:{backgroundColor:t.primary},children:r?"Generating...":"Generate"})]})]}),c.jsx("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:t.card},children:r?c.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:a}).map((v,R)=>c.jsxs("div",{className:"rounded-2xl overflow-hidden animate-pulse",style:{backgroundColor:t.cardLight},children:[c.jsx("div",{className:"h-40 relative",style:{backgroundColor:t.card},children:c.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/5 to-transparent"})}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsx("div",{className:"h-4 rounded w-2/3 mx-auto",style:{backgroundColor:t.card}}),c.jsxs("div",{className:"flex gap-2 justify-center",children:[c.jsx("div",{className:"h-6 w-16 rounded-full",style:{backgroundColor:t.card}}),c.jsx("div",{className:"h-6 w-16 rounded-full",style:{backgroundColor:t.card}})]}),c.jsx("div",{className:"h-20 rounded",style:{backgroundColor:t.card}})]})]},R))}):n.length>0?c.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.map(v=>c.jsx(A,{pokemon:v},v.id))}):c.jsx("p",{className:"text-center py-8",style:{color:t.textMuted},children:"No Pokmon found with the selected filters. Try adjusting your criteria."})})]})};function s5(){const t=ig(),e=Fi(),[n,i]=C.useState("light"),r=x6[n],[s,a]=C.useState(null),[l,u]=C.useState(!1),[h,f]=C.useState(null),[m,g]=C.useState(null),[y,N]=C.useState(!1),[D,M]=C.useState([]),[x,b]=C.useState(null),[w,I]=C.useState(!0),[L,H]=C.useState({}),[_,E]=C.useState({}),[A,v]=C.useState([]),[R,k]=C.useState([]),[S,we]=C.useState([]),[ne,z]=C.useState("all"),[X,J]=C.useState(new Set),[ee,B]=C.useState(""),q=L_(ee,300),[re,$]=C.useState("all"),[te,de]=C.useState(new Set),[We,Zt]=C.useState(""),Cn=L_(We,300),[Ce,Rn]=C.useState([]),[qt,lo]=C.useState([]),[cn,Hi]=C.useState(""),[Nn,Ms]=C.useState(null),[Sd,yu]=C.useState({strengths:new Set,weaknesses:{}}),[Un,Os]=C.useState(new Set),[vu,Ad]=C.useState(!1),[uo,co]=C.useState(!1),[zn,dt]=C.useState(!0),[Ze,Qr]=C.useState(!1),[_u,ho]=C.useState([]),[fo,Ht]=C.useState(!1),[at,bu]=C.useState(!1),[Gi,Cd]=C.useState(""),[mo,js]=C.useState(null),[po,go]=C.useState(null),[Yr,Eu]=C.useState(3),[$i,In]=C.useState(new Set),[yo,Ps]=C.useState(!1),[Tu,Qi]=C.useState(!1),[Vs,yt]=C.useState({isOpen:!1,teamId:null,teamName:""});C.useEffect(()=>{localStorage.getItem("patchNotesVersion")!==ep&&Qi(!0)},[]);const wu=C.useCallback(()=>{localStorage.setItem("patchNotesVersion",ep),Qi(!1)},[]),Ne=C.useMemo(()=>{const P=e.pathname;return P.includes("/pokedex")?"pokedex":P.includes("/teams")?"allTeams":P.includes("/generator")?"randomGenerator":P.includes("/favorites")?"favorites":P.includes("/builder")?"builder":"home"},[e.pathname]),oi=C.useMemo(()=>{const P={home:{title:"Home",icon:"",subtitle:"Welcome back, Trainer!"},builder:{title:"Pokmon Team Builder",icon:"",subtitle:"Build your perfect team"},pokedex:{title:"Pokdex",icon:"",subtitle:"Explore all Pokmon"},allTeams:{title:"Saved Teams",icon:"",subtitle:"Your team collection"},randomGenerator:{title:"Random Generator",icon:"",subtitle:"Discover new Pokmon"},favorites:{title:"Favorite Pokmon",icon:"",subtitle:"Your favorite collection"}};return P[Ne]||P.home},[Ne]),le=C.useCallback((P,G="info")=>{const Q=Date.now();ho(W=>[...W,{id:Q,message:P,type:G}]),setTimeout(()=>ho(W=>W.filter(ue=>ue.id!==Q)),3e3)},[]);C.useEffect(()=>{if(!m||!h)return;const P=Qo(m,`artifacts/${Fn}/users/${h}/teams`),G=Wm(P,jc("updatedAt","desc")),Q=V_(G,W=>{const ue=W.docs.map(ve=>({id:ve.id,...ve.data()}));lo(ue)},W=>{console.error("Error listening to saved teams:",W),le("Could not fetch saved teams.","error")});return()=>Q()},[m,h,le]),C.useEffect(()=>{if(!m||!h)return;const P=dn(m,`artifacts/${Fn}/users/${h}/favorites`,"pokemons"),G=V_(P,Q=>{if(Q.exists()){const W=Q.data();Os(new Set(W.ids||[]))}else Os(new Set)},Q=>{console.error("Error listening to favorite pokemons:",Q)});return()=>G()},[m,h]),C.useEffect(()=>{(async()=>{try{const Q=await(await fetch(`${rs}/generation`)).json();we(Q.results.map(Ye=>Ye.name));const ue=await(await fetch(`${rs}/item?limit=2000`)).json();v(ue.results);const Qe=await(await fetch(`${rs}/nature`)).json();k(Qe.results)}catch{le("Failed to load filter data.","error")}})()},[]),C.useEffect(()=>{const P=Ce;if(P.length===0){yu({strengths:new Set,weaknesses:{}}),In(new Set);return}const G={},Q=new Set;P.flatMap(ue=>ue.types).forEach(ue=>{var ve;Object.entries(((ve=cc[ue])==null?void 0:ve.damageDealt)||{}).forEach(([Qe,Ye])=>{Ye>1&&Q.add(Qe.toLowerCase())})}),Object.keys(cc).forEach(ue=>{const ve=ue.charAt(0).toUpperCase()+ue.slice(1);let Qe=0,Ye=0;P.forEach(vt=>{const Gt=vt.types.reduce((Wi,Zi)=>{var Ji;return Wi*(((Ji=cc[Zi])==null?void 0:Ji.damageTaken[ve])??1)},1);Gt>1?Qe++:Gt<1&&Ye++}),Qe>0&&Qe>=P.length/2&&Qe>Ye&&(G[ue]=Qe)}),yu({strengths:Q,weaknesses:G});const W=Object.keys(G);if(W.length>0&&D.length>0){const ue=D.filter(ve=>{const Qe=ve;return Qe.types?W.some(Ye=>{const vt=Ye.charAt(0).toUpperCase()+Ye.slice(1);return Qe.types.reduce((Wi,Zi)=>{var Ji;return Wi*(((Ji=cc[Zi])==null?void 0:Ji.damageTaken[vt])??1)},1)<1}):!1});In(new Set(ue.map(ve=>ve.id).slice(0,10)))}else In(new Set)},[Ce,D]);const Rd=C.useMemo(()=>{const P=new Set(Ce.map(Q=>Q.id));return D.filter(Q=>!P.has(Q.id)).sort((Q,W)=>{const ue=$i.has(Q.id),ve=$i.has(W.id);return ue&&!ve?-1:!ue&&ve?1:Q.id-W.id})},[D,Ce,$i]),li=C.useMemo(()=>qt.sort((P,G)=>new Date(G.updatedAt||G.createdAt)-new Date(P.updatedAt||P.createdAt)).slice(0,3),[qt]);C.useMemo(()=>{let P=[...qt].sort((G,Q)=>Q.isFavorite-G.isFavorite||new Date(Q.updatedAt||G.createdAt)-new Date(G.updatedAt||G.createdAt));return Gi&&(P=P.filter(G=>G.name.toLowerCase().includes(Gi.toLowerCase()))),P},[qt,Gi]);const vo=C.useCallback(async P=>{if(L[P])return L[P];if(!m)return null;try{const G=dn(m,"artifacts/pokemonTeamBuilder/pokemons",String(P)),Q=await jh(G);if(Q.exists()){const W=Q.data();return H(ue=>({...ue,[P]:W})),W}return null}catch(G){return console.error("Failed to fetch Pokmon details:",G),le(`Could not load details for Pokmon ID: ${P}`,"error"),null}},[m,L,le]),xu=C.useCallback(async P=>{if(!m||yo)return;Ps(!0),le("Loading shared team...","info");const G=dn(m,`artifacts/${Fn}/public/data/teams`,P);try{const Q=await jh(G);if(Q.exists()){const W=Q.data(),ue=W.pokemons.map(Ye=>vo(Ye.id)),Qe=(await Promise.all(ue)).map((Ye,vt)=>({...Ye,instanceId:W.pokemons[vt].instanceId,customization:W.pokemons[vt].customization}));Rn(Qe.filter(Boolean)),Hi(W.name),Ms(null),le(`Loaded team: ${W.name}`,"success")}else le("Shared team not found.","error")}catch{le("Failed to load shared team.","error")}},[m,le,yo]);C.useEffect(()=>{if(!m||zn||!y)return;const G=new URLSearchParams(window.location.search).get("team");G&&xu(G)},[m,zn,y,xu]),C.useEffect(()=>{try{const P=cT($6),G=Y4(P);g(GD(P));const Q=VI(G,async W=>{if(W)f(W.uid),N(!0);else try{const ue=typeof window.__initial_auth_token<"u"?window.__initial_auth_token:null;ue?await OI(G,ue):await NI(G),f(G.currentUser.uid)}catch{le("Authentication failed. Please refresh.","error")}finally{N(!0)}});return()=>Q()}catch{le("Failed to connect to services.","error")}},[le]);const Kr=(P=!1)=>{const G=Ne==="pokedex"?re:ne,Q=(Ne==="pokedex"?Cn:q).toLowerCase(),W=Array.from(Ne==="pokedex"?te:X);let ue=Qo(m,"artifacts/pokemonTeamBuilder/pokemons");const ve=[];return G!=="all"&&ve.push(lc("generation","==",G)),W.length>0&&ve.push(lc("types","array-contains-any",W)),Q?(ve.push(jc("name")),ve.push(lc("name",">=",Q)),ve.push(lc("name","<=",Q+""))):ve.push(jc("id")),P&&x&&ve.push(vw(x)),ve.push(yw(50)),Wm(ue,...ve)};C.useEffect(()=>{if(!m||!y)return;(async()=>{dt(!0),I(!0);const G=Kr(!1);try{const Q=await Zm(G),W=Q.docs.map(ve=>ve.data()),ue=Q.docs[Q.docs.length-1];M(W),b(ue),Q.docs.length<50&&I(!1)}catch(Q){console.error("Error fetching pokemons:",Q),le("Error loading Pokmon list. You may need to create a composite index in Firestore.","error")}finally{dt(!1)}})()},[m,y,Ne,q,ne,JSON.stringify(Array.from(X)),Cn,re,JSON.stringify(Array.from(te))]);const _o=C.useCallback(async()=>{if(Ze||!w||!m||!x)return;Qr(!0);const P=Kr(!0);try{const G=await Zm(P),Q=G.docs.map(ue=>ue.data()),W=G.docs[G.docs.length-1];M(ue=>[...ue,...Q]),b(W),G.docs.length<50&&I(!1)}catch(G){console.error("Error fetching more pokemons:",G),le("Failed to load more Pokmon.","error")}finally{Qr(!1)}},[Ze,w,m,x,Ne,ne,q,JSON.stringify(Array.from(X)),re,Cn,JSON.stringify(Array.from(te))]),Yi=C.useRef(),Xr=C.useCallback(P=>{Ze||zn||(Yi.current&&Yi.current.disconnect(),Yi.current=new IntersectionObserver(G=>{G[0].isIntersecting&&w&&_o()}),P&&Yi.current.observe(P))},[Ze,zn,w,_o]),hn=C.useCallback(P=>{if(Ce.length>=6)return le("Your team is full (6 Pokmon)!","warning");const G={...P,instanceId:`${P.id}-${Date.now()}`,customization:{item:"",nature:"serious",teraType:P.types[0],isShiny:!1,ability:P.abilities[0].name,moves:P.moves.slice(0,4).map(Q=>Q.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}}};Rn(Q=>[...Q,G])},[Ce,le]),Su=C.useCallback(P=>{Rn(G=>G.filter(Q=>Q.instanceId!==P))},[]),Ki=C.useCallback(()=>{Rn([]),Hi(""),Ms(null)},[]),bo=C.useCallback(async()=>{if(!m||!h)return le("Database connection not ready.","error");if(Ce.length===0)return le("Your team is empty!","warning");if(!cn.trim())return le("Please name your team.","warning");if(qt.some(W=>W.name===cn&&W.id!==Nn))return le("A team with this name already exists.","warning");const P=Nn||dn(Qo(m,`artifacts/${Fn}/users/${h}/teams`)).id,G=qt.find(W=>W.id===Nn),Q={name:cn,pokemons:Ce.map(W=>({id:W.id,name:W.name,sprite:W.sprite,instanceId:W.instanceId,customization:W.customization})),isFavorite:(G==null?void 0:G.isFavorite)||!1,createdAt:(G==null?void 0:G.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await uc(dn(m,`artifacts/${Fn}/users/${h}/teams`,P),Q),le(`Team "${cn}" saved!`,"success"),Ki()}catch{le("Error saving team.","error")}},[m,h,Ce,cn,Nn,qt,le,Ki]),Eo=C.useCallback(async()=>{if(!m||!y)return le("Database not ready.","error");if(Ce.length===0)return le("Cannot share an empty team!","warning");const P=dn(Qo(m,`artifacts/${Fn}/public/data/teams`)).id,G={name:cn||"Unnamed Team",pokemons:Ce.map(Q=>({id:Q.id,name:Q.name,sprite:Q.sprite||""}))};try{await uc(dn(m,`artifacts/${Fn}/public/data/teams`,P),G);const Q=`${window.location.origin}${window.location.pathname}?team=${P}`;await navigator.clipboard.writeText(Q),le("Share link copied to clipboard!","success")}catch{le("Could not generate share link.","error")}},[m,Ce,cn,le,y]),Au=C.useCallback(async()=>{if(Ce.length===0)return le("Your team is empty!","warning");const P=Q=>Q.split("-").map(W=>W.charAt(0).toUpperCase()+W.slice(1)).join(" "),G=Ce.map(Q=>{const{customization:W,name:ue}=Q,ve=Object.entries(W.evs).filter(([,Ye])=>Ye>0).map(([Ye,vt])=>`${vt} ${{hp:"HP",attack:"Atk",defense:"Def","special-attack":"SpA","special-defense":"SpD",speed:"Spe"}[Ye]}`).join(" / "),Qe=W.ivs.attack===0?"IVs: 0 Atk":"";return[`${P(ue)} @ ${P(W.item||"Nothing")}`,`Ability: ${P(W.ability)}`,"Level: 50",W.isShiny?"Shiny: Yes":null,`Tera Type: ${P(W.teraType)}`,ve?`EVs: ${ve}`:null,`${P(W.nature)} Nature`,Qe||null,...W.moves.map(Ye=>`- ${P(Ye)}`)].filter(Boolean).join(`
`)}).join(`

`);try{await navigator.clipboard.writeText(G),le("Team copied for Pokmon Showdown!","success")}catch{le("Failed to copy team.","error")}},[Ce,le]),Ls=C.useCallback(async P=>{le(`Loading team: ${P.name}...`,"info");const G=P.pokemons.map(ue=>vo(ue.id)),W=(await Promise.all(G)).map((ue,ve)=>{if(!ue)return null;const Qe=P.pokemons[ve],Ye={item:"",nature:"serious",teraType:ue.types[0],isShiny:!1,ability:ue.abilities[0].name,moves:ue.moves.slice(0,4).map(vt=>vt.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0},ivs:{hp:31,attack:31,defense:31,"special-attack":31,"special-defense":31,speed:31}};return{...ue,instanceId:Qe.instanceId,customization:{...Ye,...Qe.customization}}}).filter(Boolean);Rn(W),Hi(P.name),Ms(P.id),t("/builder"),Ht(!1),window.scrollTo({top:0,behavior:"smooth"})},[vo,le,t]),Cu=C.useCallback((P,G)=>{yt({isOpen:!0,teamId:P,teamName:G})},[]),Us=C.useCallback(async P=>{if(!(!m||!h))try{await s6(dn(m,`artifacts/${Fn}/users/${h}/teams`,P)),Nn===P&&Ki(),le("Team deleted.","info")}catch{le("Error deleting team.","error")}},[m,h,Nn,Ki,le]),To=C.useCallback(async P=>{if(!(!m||!h))try{await uc(dn(m,`artifacts/${Fn}/users/${h}/teams`,P.id),{...P,isFavorite:!P.isFavorite},{merge:!0})}catch{le("Could not update favorite status.","error")}},[m,h,le]),ui=C.useCallback(async P=>{if(!m||!h)return;const G=dn(m,`artifacts/${Fn}/users/${h}/favorites`,"pokemons");try{const Q=new Set(Un);Q.has(P)?(Q.delete(P),le("Removed from favorites!","info")):(Q.add(P),le("Added to favorites!","success")),await uc(G,{ids:Array.from(Q),updatedAt:new Date().toISOString()})}catch(Q){console.error("Error toggling favorite pokemon:",Q),le("Could not update favorite status.","error")}},[m,h,Un,le]),Xi=C.useCallback(P=>{(Ne==="pokedex"?de:J)(Q=>{const W=new Set(Q);return W.has(P)?W.delete(P):W.add(P),W})},[Ne]),ci=C.useCallback(P=>{de(new Set([P])),t("/pokedex")},[t]),hi=C.useCallback(P=>{js(P)},[]),Nd=C.useCallback(P=>{go(P)},[]),Ru=C.useCallback((P,G)=>{Rn(Q=>Q.map(W=>W.instanceId===P?{...W,customization:G}:W))},[]),Nu=C.useCallback(()=>{i(P=>{const G=P==="dark"?"light":"dark";return localStorage.setItem("theme",G),G})},[]),Iu=C.useCallback(P=>{a(P),P?localStorage.setItem("greetingPokemon",P.toString()):localStorage.removeItem("greetingPokemon"),u(!1)},[]);C.useEffect(()=>{const P=localStorage.getItem("theme");P&&i(P);const G=localStorage.getItem("greetingPokemon");G&&a(parseInt(G,10))},[]);const wo=()=>c.jsxs(IC,{children:[c.jsx(ar,{path:"/teams",element:c.jsx(J6,{teams:qt,onEdit:Ls,requestDelete:Cu,onToggleFavorite:To,searchTerm:Gi,setSearchTerm:Cd,colors:r})}),c.jsx(ar,{path:"/pokedex",element:c.jsx(e5,{pokemons:D,lastPokemonElementRef:Xr,isFetchingMore:Ze,searchInput:We,setSearchInput:Zt,selectedTypes:te,handleTypeSelection:Xi,selectedGeneration:re,setSelectedGeneration:$,generations:S,isInitialLoading:zn,colors:r,showDetails:hi,favoritePokemons:Un,onToggleFavoritePokemon:ui,showOnlyFavorites:uo,setShowOnlyFavorites:co})}),c.jsx(ar,{path:"/favorites",element:c.jsx(t5,{allPokemons:D,favoritePokemons:Un,onToggleFavoritePokemon:ui,showDetails:hi,colors:r,onAddToTeam:hn,isLoading:zn})}),c.jsx(ar,{path:"/generator",element:c.jsx(r5,{colors:r,generations:S})}),c.jsx(ar,{path:"/builder",element:c.jsx(Z6,{currentTeam:Ce,teamName:cn,setTeamName:Hi,handleRemoveFromTeam:Su,handleSaveTeam:bo,editingTeamId:Nn,handleClearTeam:Ki,recentTeams:li,onNavigateToTeams:()=>t("/teams"),handleToggleFavorite:To,handleEditTeam:Ls,requestDeleteTeam:Cu,handleShareTeam:Eo,handleExportToShowdown:Au,teamAnalysis:Sd,searchInput:ee,setSearchInput:B,selectedGeneration:ne,setSelectedGeneration:z,generations:S,isInitialLoading:zn,availablePokemons:Rd,handleAddPokemonToTeam:hn,lastPokemonElementRef:Xr,isFetchingMore:Ze,selectedTypes:X,handleTypeSelection:Xi,showDetails:hi,suggestedPokemonIds:$i,colors:r,onEditTeamPokemon:Nd,favoritePokemons:Un,onToggleFavoritePokemon:ui,showOnlyFavorites:vu,setShowOnlyFavorites:Ad})}),c.jsx(ar,{path:"/",element:c.jsx(i5,{colors:r,navigate:t,savedTeams:qt,favoritePokemons:Un,allPokemons:D,recentTeams:li,showDetails:hi,onToggleFavoritePokemon:ui,handleEditTeam:Ls,greetingPokemonId:s,onOpenPokemonSelector:()=>u(!0),db:m,theme:n,onNavigateWithTypeFilter:ci})}),c.jsx(ar,{path:"*",element:c.jsx(RC,{to:"/",replace:!0})})]});return c.jsxs("div",{className:"min-h-screen font-sans",style:{backgroundColor:r.background,color:r.text},children:[mo&&c.jsx(X6,{pokemon:mo,onClose:()=>js(null),onAdd:Ne==="builder"?hn:null,currentTeam:Ce,colors:r,showPokemonDetails:hi,pokemonDetailsCache:L,db:m,isFavorite:Un.has(mo.id),onToggleFavorite:ui}),po&&c.jsx(W6,{pokemon:po,onClose:()=>go(null),onSave:Ru,colors:r,items:A,natures:R,moveDetailsCache:_}),Tu&&c.jsx(H6,{onClose:wu,colors:r}),l&&c.jsx(G6,{onClose:()=>u(!1),onSelect:Iu,allPokemons:D,currentPokemonId:s,colors:r,db:m}),c.jsx(Y6,{isOpen:Vs.isOpen,onClose:()=>yt({isOpen:!1,teamId:null,teamName:""}),onConfirm:()=>Us(Vs.teamId),title:"Erase the Team? ",message:`Are you sure you want to delete "${Vs.teamName}"? They could be so great...`,confirmText:"Yeah don't care",colors:r}),c.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:_u.slice(0,Yr).map(P=>c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${P.type==="success"?"bg-green-600":P.type==="warning"?"bg-yellow-600":P.type==="info"?"bg-blue-600":"bg-red-600"}`,children:[P.type==="success"&&c.jsx(j6,{}),P.type==="error"&&c.jsx(P6,{}),P.type==="warning"&&c.jsx(V6,{}),P.message]},P.id))}),c.jsxs("div",{className:"flex min-h-screen",children:[c.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${at?"lg:w-20":"w-64"} ${fo?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:r.card,borderRight:n==="light"?"1px solid #E5E7EB":"none"},children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:`flex items-center h-16 p-4 ${at?"justify-center":"justify-between"}`,children:[c.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${at?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:r.primary},children:"Menu"}),c.jsx("button",{onClick:()=>bu(!at),className:"p-1 rounded-lg hidden lg:block transition-colors hover:opacity-80",style:{color:r.textMuted},children:at?c.jsx(M6,{}):c.jsx(D6,{})})]}),c.jsx("nav",{className:"px-4 flex-grow",children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsxs("button",{onClick:()=>{t("/"),Ht(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="home"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="home"?"white":r.text},children:[c.jsx(n5,{}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Home"})]})}),c.jsx("li",{className:"mt-2",children:c.jsxs("button",{onClick:()=>{t("/builder"),Ht(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="builder"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="builder"?"white":r.text},children:[c.jsx(xw,{}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),c.jsx("li",{className:"mt-2",children:c.jsxs("button",{onClick:()=>{t("/pokedex"),Ht(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="pokedex"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="pokedex"?"white":r.text},children:[c.jsx(ww,{}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Pokdex"})]})}),c.jsx("li",{className:"mt-2",children:c.jsxs("button",{onClick:()=>{t("/generator"),Ht(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="randomGenerator"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="randomGenerator"?"white":r.text},children:[c.jsx(Sw,{}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Random Generator"})]})}),c.jsx("li",{className:"mt-2",children:c.jsxs("button",{onClick:()=>{t("/favorites"),Ht(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="favorites"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="favorites"?"white":r.text},children:[c.jsx(C6,{className:"w-6 h-6 shrink-0",isFavorite:!0,color:Ne==="favorites"?"white":r.text}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Favorites"})]})}),c.jsx("li",{className:"mt-2",children:c.jsxs("button",{onClick:()=>{t("/teams"),Ht(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ne==="allTeams"?"bg-primary":""} ${at?"justify-center":""}`,style:{color:Ne==="allTeams"?"white":r.text},children:[c.jsx(k6,{}),c.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${at?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Saved Teams"})]})})]})})]})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",style:{borderBottom:n==="light"?"1px solid #E5E7EB":"none"},children:[c.jsx("button",{onClick:()=>Ht(!fo),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:r.cardLight,color:r.text},children:fo?c.jsx(gu,{}):c.jsx(I6,{})}),c.jsxs("div",{className:"flex-1 text-center px-2 marginLeft",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-xl sm:text-2xl lg:text-3xl",children:oi.icon}),c.jsx("h1",{className:"text-xs sm:text-base lg:text-2xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:r.primary},children:oi.title})]}),c.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm mt-1 truncate opacity-70",style:{color:r.textMuted},children:oi.subtitle})]}),c.jsx("div",{className:"flex items-center gap-2 lg:mr-4 sm:mr-0",children:c.jsx("button",{onClick:Nu,className:"p-2 rounded-md",style:{backgroundColor:r.cardLight,color:r.text},children:n==="dark"?c.jsx(L6,{color:r.text}):c.jsx(U6,{color:r.text})})})]}),c.jsx("div",{className:"p-4 sm:p-6 lg:p-8 lg:py-4",children:wo()}),c.jsxs("footer",{className:"text-center mt-8 py-6 border-t",style:{borderColor:r.cardLight},children:[c.jsxs("p",{className:"text-sm",style:{color:r.textMuted},children:["Developed and built by ",c.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:r.text},children:"Enzo Esmeraldo"})]}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[c.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:r.textMuted},children:c.jsx(S6,{color:r.textMuted})}),c.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:r.textMuted},children:c.jsx(A6,{color:r.textMuted})})]}),c.jsxs("p",{className:"text-xs mt-2",style:{color:r.textMuted},children:["Using the ",c.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:r.text},children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]})]})]})]}),c.jsx("style",{children:` 
            @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); 
            
            .custom-scrollbar::-webkit-scrollbar { width: 12px; } 
            .custom-scrollbar::-webkit-scrollbar-track { background: var(--scrollbar-track-color); } 
            .custom-scrollbar::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 20px; border: 3px solid var(--scrollbar-thumb-border-color); } 
            
            @keyframes fade-in { 
                from { opacity: 0; transform: scale(0.95); } 
                to { opacity: 1; transform: scale(1); } 
            } 
            
            @keyframes scale-in { 
                from { opacity: 0; transform: scale(0.9); } 
                to { opacity: 1; transform: scale(1); } 
            }
            
            @keyframes slide-up { 
                from { opacity: 0; transform: translateY(20px); } 
                to { opacity: 1; transform: translateY(0); } 
            }
            
            @keyframes shimmer {
                100% { transform: translateX(100%); }
            }
            
            .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } 
            .animate-scale-in { animation: scale-in 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
            .animate-slide-up { animation: slide-up 0.3s ease-out forwards; }
            
            .image-pixelated { image-rendering: pixelated; } 
            .bg-primary { background-color: ${r.primary}; } 
            
            input[type="checkbox"]:checked + div + div { transform: translateX(100%); background-color: ${r.primary}; }
            
            /* Glassmorphism card effect */
            .glass-card {
                background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.1);
            }
            
            /* Button hover effects */
            .btn-interactive {
                transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            }
            .btn-interactive:hover {
                transform: scale(1.03);
            }
            .btn-interactive:active {
                transform: scale(0.97);
            }
        `})]})}VA.createRoot(document.getElementById("root")).render(c.jsx(pl.StrictMode,{children:c.jsx(JC,{basename:"/pokemonTeamBuilder",children:c.jsx(s5,{})})}));
