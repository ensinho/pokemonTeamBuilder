(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function pv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yv={exports:{}},Dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=Symbol.for("react.transitional.element"),mb=Symbol.for("react.fragment");function _v(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:db,type:e,key:i,ref:t!==void 0?t:null,props:n}}Dc.Fragment=mb;Dc.jsx=_v;Dc.jsxs=_v;yv.exports=Dc;var A=yv.exports,vv={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.transitional.element"),gb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),yb=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),vb=Symbol.for("react.consumer"),Tb=Symbol.for("react.context"),Eb=Symbol.for("react.forward_ref"),Ab=Symbol.for("react.suspense"),bb=Symbol.for("react.memo"),Tv=Symbol.for("react.lazy"),gp=Symbol.iterator;function Sb(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var Ev={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Av=Object.assign,bv={};function oa(e,t,n){this.props=e,this.context=t,this.refs=bv,this.updater=n||Ev}oa.prototype.isReactComponent={};oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sv(){}Sv.prototype=oa.prototype;function qd(e,t,n){this.props=e,this.context=t,this.refs=bv,this.updater=n||Ev}var Hd=qd.prototype=new Sv;Hd.constructor=qd;Av(Hd,oa.prototype);Hd.isPureReactComponent=!0;var pp=Array.isArray,qt={H:null,A:null,T:null,S:null,V:null},wv=Object.prototype.hasOwnProperty;function Fd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Bd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function wb(e,t){return Fd(e.type,t,void 0,void 0,void 0,e.props)}function Gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd}function Rb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yp=/\/+/g;function wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rb(""+e.key):t.toString(36)}function _p(){}function Ib(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_p,_p):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ls(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bd:case gb:a=!0;break;case Tv:return a=e._init,ls(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+wh(e,0):i,pp(r)?(n="",a!=null&&(n=a.replace(yp,"$&/")+"/"),ls(r,t,n,"",function(h){return h})):r!=null&&(Gd(r)&&(r=wb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(yp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(pp(e))for(var u=0;u<e.length;u++)i=e[u],s=l+wh(i,u),a+=ls(i,t,n,s,r);else if(u=Sb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+wh(i,u++),a+=ls(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return ls(Ib(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function ql(e,t,n){if(e==null)return e;var i=[],r=0;return ls(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Cb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Db(){}ot.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!Gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=oa;ot.Fragment=pb;ot.Profiler=_b;ot.PureComponent=qd;ot.StrictMode=yb;ot.Suspense=Ab;ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qt;ot.__COMPILER_RUNTIME={__proto__:null,c:function(e){return qt.H.useMemoCache(e)}};ot.cache=function(e){return function(){return e.apply(null,arguments)}};ot.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Av({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!wv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Fd(e.type,r,void 0,void 0,s,i)};ot.createContext=function(e){return e={$$typeof:Tb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:vb,_context:e},e};ot.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)wv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Fd(e,s,void 0,void 0,null,r)};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:Eb,render:e}};ot.isValidElement=Gd;ot.lazy=function(e){return{$$typeof:Tv,_payload:{_status:-1,_result:e},_init:Cb}};ot.memo=function(e,t){return{$$typeof:bb,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=qt.T,n={};qt.T=n;try{var i=e(),r=qt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Db,vp)}catch(s){vp(s)}finally{qt.T=t}};ot.unstable_useCacheRefresh=function(){return qt.H.useCacheRefresh()};ot.use=function(e){return qt.H.use(e)};ot.useActionState=function(e,t,n){return qt.H.useActionState(e,t,n)};ot.useCallback=function(e,t){return qt.H.useCallback(e,t)};ot.useContext=function(e){return qt.H.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e,t){return qt.H.useDeferredValue(e,t)};ot.useEffect=function(e,t,n){var i=qt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};ot.useId=function(){return qt.H.useId()};ot.useImperativeHandle=function(e,t,n){return qt.H.useImperativeHandle(e,t,n)};ot.useInsertionEffect=function(e,t){return qt.H.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return qt.H.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return qt.H.useMemo(e,t)};ot.useOptimistic=function(e,t){return qt.H.useOptimistic(e,t)};ot.useReducer=function(e,t,n){return qt.H.useReducer(e,t,n)};ot.useRef=function(e){return qt.H.useRef(e)};ot.useState=function(e){return qt.H.useState(e)};ot.useSyncExternalStore=function(e,t,n){return qt.H.useSyncExternalStore(e,t,n)};ot.useTransition=function(){return qt.H.useTransition()};ot.version="19.1.0";vv.exports=ot;var Y=vv.exports;const Rv=pv(Y);var Iv={exports:{}},Nc={},Cv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,Z){var tt=j.length;j.push(Z);t:for(;0<tt;){var St=tt-1>>>1,Ut=j[St];if(0<r(Ut,Z))j[St]=Z,j[tt]=Ut,tt=St;else break t}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Z=j[0],tt=j.pop();if(tt!==Z){j[0]=tt;t:for(var St=0,Ut=j.length,Ti=Ut>>>1;St<Ti;){var be=2*(St+1)-1,jt=j[be],Pe=be+1,Le=j[Pe];if(0>r(jt,tt))Pe<Ut&&0>r(Le,jt)?(j[St]=Le,j[Pe]=tt,St=Pe):(j[St]=jt,j[be]=tt,St=be);else if(Pe<Ut&&0>r(Le,tt))j[St]=Le,j[Pe]=tt,St=Pe;else break t}}return Z}function r(j,Z){var tt=j.sortIndex-Z.sortIndex;return tt!==0?tt:j.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,x=!1,M=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=j)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function U(j){if(M=!1,N(j),!x)if(n(u)!==null)x=!0,q||(q=!0,C());else{var Z=n(h);Z!==null&&Q(U,Z.startTime-j)}}var q=!1,T=-1,y=5,E=-1;function b(){return k?!0:!(e.unstable_now()-E<y)}function I(){if(k=!1,q){var j=e.unstable_now();E=j;var Z=!0;try{t:{x=!1,M&&(M=!1,v(T),T=-1),_=!0;var tt=m;try{e:{for(N(j),g=n(u);g!==null&&!(g.expirationTime>j&&b());){var St=g.callback;if(typeof St=="function"){g.callback=null,m=g.priorityLevel;var Ut=St(g.expirationTime<=j);if(j=e.unstable_now(),typeof Ut=="function"){g.callback=Ut,N(j),Z=!0;break e}g===n(u)&&i(u),N(j)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var Ti=n(h);Ti!==null&&Q(U,Ti.startTime-j),Z=!1}}break t}finally{g=null,m=tt,_=!1}Z=void 0}}finally{Z?C():q=!1}}}var C;if(typeof R=="function")C=function(){R(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ae=w.port2;w.port1.onmessage=I,C=function(){Ae.postMessage(null)}}else C=function(){S(I,0)};function Q(j,Z){T=S(function(){j(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var tt=m;m=Z;try{return j()}finally{m=tt}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var tt=m;m=j;try{return Z()}finally{m=tt}},e.unstable_scheduleCallback=function(j,Z,tt){var St=e.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?St+tt:St):tt=St,j){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=tt+Ut,j={id:d++,callback:Z,priorityLevel:j,startTime:tt,expirationTime:Ut,sortIndex:-1},tt>St?(j.sortIndex=tt,t(h,j),n(u)===null&&j===n(h)&&(M?(v(T),T=-1):M=!0,Q(U,tt-St))):(j.sortIndex=Ut,t(u,j),x||_||(x=!0,q||(q=!0,C()))),j},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(j){var Z=m;return function(){var tt=m;m=Z;try{return j.apply(this,arguments)}finally{m=tt}}}})(Dv);Cv.exports=Dv;var Nb=Cv.exports,Nv={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=Y;function xv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ri(){}var Me={d:{f:Ri,r:function(){throw Error(xv(522))},D:Ri,C:Ri,L:Ri,m:Ri,X:Ri,S:Ri,M:Ri},p:0,findDOMNode:null},Ob=Symbol.for("react.portal");function Mb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ob,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var eo=xb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(xv(299));return Mb(e,t,null,n)};Ve.flushSync=function(e){var t=eo.T,n=Me.p;try{if(eo.T=null,Me.p=2,e)return e()}finally{eo.T=t,Me.p=n,Me.d.f()}};Ve.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Me.d.C(e,t))};Ve.prefetchDNS=function(e){typeof e=="string"&&Me.d.D(e)};Ve.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=xc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Me.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Me.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ve.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xc(t.as,t.crossOrigin);Me.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Me.d.M(e)};Ve.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=xc(n,t.crossOrigin);Me.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ve.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xc(t.as,t.crossOrigin);Me.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Me.d.m(e)};Ve.requestFormReset=function(e){Me.d.r(e)};Ve.unstable_batchedUpdates=function(e,t){return e(t)};Ve.useFormState=function(e,t,n){return eo.H.useFormState(e,t,n)};Ve.useFormStatus=function(){return eo.H.useHostTransitionStatus()};Ve.version="19.1.0";function Ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ov)}catch(e){console.error(e)}}Ov(),Nv.exports=Ve;var kb=Nv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe=Nb,Mv=Y,Vb=kb;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tp(e){if(Go(e)!==e)throw Error(P(188))}function Pb(e){var t=e.alternate;if(!t){if(t=Go(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Tp(r),e;if(s===i)return Tp(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Pv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Pv(e),t!==null)return t;e=e.sibling}return null}var Lt=Object.assign,Lb=Symbol.for("react.element"),Hl=Symbol.for("react.transitional.element"),Ya=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Uv=Symbol.for("react.consumer"),Zn=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),Af=Symbol.for("react.activity"),jb=Symbol.for("react.memo_cache_sentinel"),Ep=Symbol.iterator;function Ua(e){return e===null||typeof e!="object"?null:(e=Ep&&e[Ep]||e["@@iterator"],typeof e=="function"?e:null)}var zb=Symbol.for("react.client.reference");function bf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case vf:return"Profiler";case Lv:return"StrictMode";case Tf:return"Suspense";case Ef:return"SuspenseList";case Af:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ya:return"Portal";case Zn:return(e.displayName||"Context")+".Provider";case Uv:return(e._context.displayName||"Context")+".Consumer";case Qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yd:return t=e.displayName||null,t!==null?t:bf(e.type)||"Memo";case Ni:t=e._payload,e=e._init;try{return bf(e(t))}catch{}}return null}var Ka=Array.isArray,J=Mv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At=Vb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ir={pending:!1,data:null,method:null,action:null},Sf=[],ys=-1;function zn(e){return{current:e}}function me(e){0>ys||(e.current=Sf[ys],Sf[ys]=null,ys--)}function Ht(e,t){ys++,Sf[ys]=e.current,e.current=t}var xn=zn(null),bo=zn(null),Gi=zn(null),Mu=zn(null);function ku(e,t){switch(Ht(Gi,t),Ht(bo,e),Ht(xn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ry(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ry(t),e=eE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}me(xn),Ht(xn,e)}function Bs(){me(xn),me(bo),me(Gi)}function wf(e){e.memoizedState!==null&&Ht(Mu,e);var t=xn.current,n=eE(t,e.type);t!==n&&(Ht(bo,e),Ht(xn,n))}function Vu(e){bo.current===e&&(me(xn),me(bo)),Mu.current===e&&(me(Mu),Mo._currentValue=Ir)}var Rf=Object.prototype.hasOwnProperty,Kd=oe.unstable_scheduleCallback,Rh=oe.unstable_cancelCallback,Bb=oe.unstable_shouldYield,qb=oe.unstable_requestPaint,On=oe.unstable_now,Hb=oe.unstable_getCurrentPriorityLevel,jv=oe.unstable_ImmediatePriority,zv=oe.unstable_UserBlockingPriority,Pu=oe.unstable_NormalPriority,Fb=oe.unstable_LowPriority,Bv=oe.unstable_IdlePriority,Gb=oe.log,Qb=oe.unstable_setDisableYieldValue,Qo=null,We=null;function zi(e){if(typeof Gb=="function"&&Qb(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Qo,e)}catch{}}var Je=Math.clz32?Math.clz32:Xb,Yb=Math.log,Kb=Math.LN2;function Xb(e){return e>>>=0,e===0?32:31-(Yb(e)/Kb|0)|0}var Fl=256,Gl=4194304;function Ar(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Ar(i):(a&=l,a!==0?r=Ar(a):n||(n=l&~e,n!==0&&(r=Ar(n))))):(l=i&~s,l!==0?r=Ar(l):a!==0?r=Ar(a):n||(n=i&~e,n!==0&&(r=Ar(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Yo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $b(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qv(){var e=Fl;return Fl<<=1,!(Fl&4194048)&&(Fl=256),e}function Hv(){var e=Gl;return Gl<<=1,!(Gl&62914560)&&(Gl=4194304),e}function Ih(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ko(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Je(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Fv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Fv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Je(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Gv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Je(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Xd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $d(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Qv(){var e=At.p;return e!==0?e:(e=window.event,e===void 0?32:hE(e.type))}function Wb(e,t){var n=At.p;try{return At.p=e,t()}finally{At.p=n}}var mr=Math.random().toString(36).slice(2),De="__reactFiber$"+mr,He="__reactProps$"+mr,la="__reactContainer$"+mr,If="__reactEvents$"+mr,Jb="__reactListeners$"+mr,tS="__reactHandles$"+mr,Ap="__reactResources$"+mr,Xo="__reactMarker$"+mr;function Zd(e){delete e[De],delete e[He],delete e[If],delete e[Jb],delete e[tS]}function _s(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[la]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dy(e);e!==null;){if(n=e[De])return n;e=Dy(e)}return t}e=n,n=e.parentNode}return null}function ua(e){if(e=e[De]||e[la]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Xa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Ds(e){var t=e[Ap];return t||(t=e[Ap]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function fe(e){e[Xo]=!0}var Yv=new Set,Kv={};function Hr(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(Kv[e]=t,e=0;e<t.length;e++)Yv.add(t[e])}var eS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bp={},Sp={};function nS(e){return Rf.call(Sp,e)?!0:Rf.call(bp,e)?!1:eS.test(e)?Sp[e]=!0:(bp[e]=!0,!1)}function cu(e,t,n){if(nS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ql(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Gn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Ch,wp;function us(e){if(Ch===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ch=t&&t[1]||"",wp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ch+e+wp}var Dh=!1;function Nh(e,t){if(!e||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?us(n):""}function iS(e){switch(e.tag){case 26:case 27:case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return Nh(e.type,!1);case 11:return Nh(e.type.render,!1);case 1:return Nh(e.type,!0);case 31:return us("Activity");default:return""}}function Rp(e){try{var t="";do t+=iS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rS(e){var t=Xv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lu(e){e._valueTracker||(e._valueTracker=rS(e))}function $v(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Xv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sS=/[\n"\\]/g;function ln(e){return e.replace(sS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Df(e,a,sn(t)):n!=null?Df(e,a,sn(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+sn(l):e.removeAttribute("name")}function Zv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Df(e,t,n){t==="number"&&Uu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ns(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Wv(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function Jv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ka(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||aS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function t0(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Ip(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Ip(e,s,t[s])}function Wd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(e){return lS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nf=null;function Jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,xs=null;function Cp(e){var t=ua(e);if(t&&(e=t.stateNode)){var n=e[He]||null;t:switch(e=t.stateNode,t.type){case"input":if(Cf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ln(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[He]||null;if(!r)throw Error(P(90));Cf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&$v(i)}break t;case"textarea":Wv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ns(e,!!n.multiple,t,!1)}}}var xh=!1;function e0(e,t,n){if(xh)return e(t,n);xh=!0;try{var i=e(t);return i}finally{if(xh=!1,(vs!==null||xs!==null)&&(qc(),vs&&(t=vs,e=xs,xs=vs=null,Cp(t),e)))for(t=0;t<e.length;t++)Cp(e[t])}}function So(e,t){var n=e.stateNode;if(n===null)return null;var i=n[He]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=!1;if(li)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){xf=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{xf=!1}var Bi=null,tm=null,fu=null;function n0(){if(fu)return fu;var e,t=tm,n=t.length,i,r="value"in Bi?Bi.value:Bi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return fu=r.slice(e,1<i?1-i:void 0)}function du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Dp(){return!1}function Ge(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yl:Dp,this.isPropagationStopped=Dp,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Ge(Fr),$o=Lt({},Fr,{view:0,detail:0}),uS=Ge($o),Oh,Mh,za,kc=Lt({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==za&&(za&&e.type==="mousemove"?(Oh=e.screenX-za.screenX,Mh=e.screenY-za.screenY):Mh=Oh=0,za=e),Oh)},movementY:function(e){return"movementY"in e?e.movementY:Mh}}),Np=Ge(kc),cS=Lt({},kc,{dataTransfer:0}),hS=Ge(cS),fS=Lt({},$o,{relatedTarget:0}),kh=Ge(fS),dS=Lt({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=Ge(dS),gS=Lt({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pS=Ge(gS),yS=Lt({},Fr,{data:0}),xp=Ge(yS),_S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ES(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TS[e])?!!t[e]:!1}function em(){return ES}var AS=Lt({},$o,{key:function(e){if(e.key){var t=_S[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(e){return e.type==="keypress"?du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bS=Ge(AS),SS=Lt({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Ge(SS),wS=Lt({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),RS=Ge(wS),IS=Lt({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=Ge(IS),DS=Lt({},kc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NS=Ge(DS),xS=Lt({},Fr,{newState:0,oldState:0}),OS=Ge(xS),MS=[9,13,27,32],nm=li&&"CompositionEvent"in window,no=null;li&&"documentMode"in document&&(no=document.documentMode);var kS=li&&"TextEvent"in window&&!no,i0=li&&(!nm||no&&8<no&&11>=no),Mp=" ",kp=!1;function r0(e,t){switch(e){case"keyup":return MS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function VS(e,t){switch(e){case"compositionend":return s0(t);case"keypress":return t.which!==32?null:(kp=!0,Mp);case"textInput":return e=t.data,e===Mp&&kp?null:e;default:return null}}function PS(e,t){if(Ts)return e==="compositionend"||!nm&&r0(e,t)?(e=n0(),fu=tm=Bi=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i0&&t.locale!=="ko"?null:t.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LS[e.type]:t==="textarea"}function a0(e,t,n,i){vs?xs?xs.push(i):xs=[i]:vs=i,t=nc(t,"onChange"),0<t.length&&(n=new Mc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var io=null,wo=null;function US(e){WT(e,0)}function Vc(e){var t=Xa(e);if($v(t))return e}function Pp(e,t){if(e==="change")return t}var o0=!1;if(li){var Vh;if(li){var Ph="oninput"in document;if(!Ph){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Ph=typeof Lp.oninput=="function"}Vh=Ph}else Vh=!1;o0=Vh&&(!document.documentMode||9<document.documentMode)}function Up(){io&&(io.detachEvent("onpropertychange",l0),wo=io=null)}function l0(e){if(e.propertyName==="value"&&Vc(wo)){var t=[];a0(t,wo,e,Jd(e)),e0(US,t)}}function jS(e,t,n){e==="focusin"?(Up(),io=t,wo=n,io.attachEvent("onpropertychange",l0)):e==="focusout"&&Up()}function zS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vc(wo)}function BS(e,t){if(e==="click")return Vc(t)}function qS(e,t){if(e==="input"||e==="change")return Vc(t)}function HS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:HS;function Ro(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Rf.call(t,r)||!nn(e[r],t[r]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,t){var n=jp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=jp(n)}}function u0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Uu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uu(e.document)}return t}function im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var FS=li&&"documentMode"in document&&11>=document.documentMode,Es=null,Of=null,ro=null,Mf=!1;function Bp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mf||Es==null||Es!==Uu(i)||(i=Es,"selectionStart"in i&&im(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ro&&Ro(ro,i)||(ro=i,i=nc(Of,"onSelect"),0<i.length&&(t=new Mc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Es)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},h0={};li&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Gr(e){if(Lh[e])return Lh[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h0)return Lh[e]=t[n];return e}var f0=Gr("animationend"),d0=Gr("animationiteration"),m0=Gr("animationstart"),GS=Gr("transitionrun"),QS=Gr("transitionstart"),YS=Gr("transitioncancel"),g0=Gr("transitionend"),p0=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function An(e,t){p0.set(e,t),Hr(t,[e])}var qp=new WeakMap;function un(e,t){if(typeof e=="object"&&e!==null){var n=qp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Rp(t)},qp.set(e,t),t)}return{value:e,source:t,stack:Rp(t)}}var rn=[],bs=0,rm=0;function Pc(){for(var e=bs,t=rm=bs=0;t<e;){var n=rn[t];rn[t++]=null;var i=rn[t];rn[t++]=null;var r=rn[t];rn[t++]=null;var s=rn[t];if(rn[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&y0(n,r,s)}}function Lc(e,t,n,i){rn[bs++]=e,rn[bs++]=t,rn[bs++]=n,rn[bs++]=i,rm|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function sm(e,t,n,i){return Lc(e,t,n,i),ju(e)}function ca(e,t){return Lc(e,null,null,t),ju(e)}function y0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Je(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function ju(e){if(50<go)throw go=0,ed=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ss={};function KS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,i){return new KS(e,t,n,i)}function am(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ri(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")am(e)&&(a=1);else if(typeof e=="string")a=$w(e,n,xn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Af:return e=Ze(31,n,t,r),e.elementType=Af,e.lanes=s,e;case ps:return Cr(n.children,r,s,t);case Lv:a=8,r|=24;break;case vf:return e=Ze(12,n,t,r|2),e.elementType=vf,e.lanes=s,e;case Tf:return e=Ze(13,n,t,r),e.elementType=Tf,e.lanes=s,e;case Ef:return e=Ze(19,n,t,r),e.elementType=Ef,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ub:case Zn:a=10;break t;case Uv:a=9;break t;case Qd:a=11;break t;case Yd:a=14;break t;case Ni:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ze(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Cr(e,t,n,i){return e=Ze(7,e,i,t),e.lanes=n,e}function Uh(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function jh(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ws=[],Rs=0,zu=null,Bu=0,an=[],on=0,Dr=null,Wn=1,Jn="";function br(e,t){ws[Rs++]=Bu,ws[Rs++]=zu,zu=e,Bu=t}function v0(e,t,n){an[on++]=Wn,an[on++]=Jn,an[on++]=Dr,Dr=e;var i=Wn;e=Jn;var r=32-Je(i)-1;i&=~(1<<r),n+=1;var s=32-Je(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Wn=1<<32-Je(t)+r|n<<r|i,Jn=s+e}else Wn=1<<s|n<<r|i,Jn=e}function om(e){e.return!==null&&(br(e,1),v0(e,1,0))}function lm(e){for(;e===zu;)zu=ws[--Rs],ws[Rs]=null,Bu=ws[--Rs],ws[Rs]=null;for(;e===Dr;)Dr=an[--on],an[on]=null,Jn=an[--on],an[on]=null,Wn=an[--on],an[on]=null}var Oe=null,Yt=null,Et=!1,Nr=null,Dn=!1,Vf=Error(P(519));function kr(e){var t=Error(P(418,""));throw Io(un(t,e)),Vf}function Hp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[De]=e,t[He]=i,n){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(n=0;n<No.length;n++)ht(No[n],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),Zv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Lu(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),Jv(t,i.value,i.defaultValue,i.children),Lu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||tE(t.textContent,n)?(i.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),i.onScroll!=null&&ht("scroll",t),i.onScrollEnd!=null&&ht("scrollend",t),i.onClick!=null&&(t.onclick=Gc),t=!0):t=!1,t||kr(e)}function Fp(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Oe=Oe.return}}function Ba(e){if(e!==Oe)return!1;if(!Et)return Fp(e),Et=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||od(e.type,e.memoizedProps)),n=!n),n&&Yt&&kr(e),Fp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Yt=Tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Yt=null}}else t===27?(t=Yt,gr(e.type)?(e=cd,cd=null,Yt=e):Yt=t):Yt=Oe?Tn(e.stateNode.nextSibling):null;return!0}function Zo(){Yt=Oe=null,Et=!1}function Gp(){var e=Nr;return e!==null&&(Be===null?Be=e:Be.push.apply(Be,e),Nr=null),e}function Io(e){Nr===null?Nr=[e]:Nr.push(e)}var Pf=zn(null),Qr=null,ti=null;function Oi(e,t,n){Ht(Pf,t._currentValue),t._currentValue=n}function si(e){e._currentValue=Pf.current,me(Pf)}function Lf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Uf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Lf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Wo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;nn(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Mu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Mo):e=[Mo])}r=r.return}e!==null&&Uf(t,e,n,i),t.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Qr=e,ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ne(e){return T0(Qr,e)}function Kl(e,t){return Qr===null&&Vr(e),T0(e,t)}function T0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ti===null){if(e===null)throw Error(P(308));ti=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ti=ti.next=t;return n}var XS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},$S=oe.unstable_scheduleCallback,ZS=oe.unstable_NormalPriority,ie={$$typeof:Zn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new XS,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&$S(ZS,function(){e.controller.abort()})}var so=null,jf=0,Fs=0,Os=null;function WS(e,t){if(so===null){var n=so=[];jf=0,Fs=Om(),Os={status:"pending",value:void 0,then:function(i){n.push(i)}}}return jf++,t.then(Qp,Qp),t}function Qp(){if(--jf===0&&so!==null){Os!==null&&(Os.status="fulfilled");var e=so;so=null,Fs=0,Os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function JS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Yp=J.S;J.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&WS(e,t),Yp!==null&&Yp(e,t)};var xr=zn(null);function cm(){var e=xr.current;return e!==null?e:kt.pooledCache}function gu(e,t){t===null?Ht(xr,xr.current):Ht(xr,t.pool)}function E0(){var e=cm();return e===null?null:{parent:ie._currentValue,pool:e}}var tl=Error(P(460)),A0=Error(P(474)),Uc=Error(P(542)),zf={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xl(){}function b0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Xl,Xl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$p(e),e;default:if(typeof t.status=="string")t.then(Xl,Xl);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$p(e),e}throw ao=t,tl}}var ao=null;function Xp(){if(ao===null)throw Error(P(459));var e=ao;return ao=null,e}function $p(e){if(e===tl||e===Uc)throw Error(P(483))}var xi=!1;function hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ju(e),y0(e,null,n),t}return Lc(e,i,t,n),ju(e)}function oo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Gv(e,n)}}function zh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var qf=!1;function lo(){if(qf){var e=Os;if(e!==null)throw e}}function uo(e,t,n,i){qf=!1;var r=e.updateQueue;xi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(pt&m)===m:(i&m)===m){m!==0&&m===Fs&&(qf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var x=e,M=l;m=t;var k=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){g=x.call(k,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,m=typeof x=="function"?x.call(k,g,m):x,m==null)break t;g=Lt({},g,m);break t;case 2:xi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),or|=a,e.lanes=a,e.memoizedState=g}}function S0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function w0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)S0(n[e],t)}var Gs=zn(null),Hu=zn(0);function Zp(e,t){e=hi,Ht(Hu,e),Ht(Gs,t),hi=e|t.baseLanes}function Hf(){Ht(Hu,hi),Ht(Gs,Gs.current)}function fm(){hi=Hu.current,me(Gs),me(Hu)}var sr=0,ut=null,Nt=null,te=null,Fu=!1,Ms=!1,Pr=!1,Gu=0,Co=0,ks=null,tw=0;function Xt(){throw Error(P(321))}function dm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function mm(e,t,n,i,r,s){return sr=s,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?nT:iT,Pr=!1,s=n(i,r),Pr=!1,Ms&&(s=I0(t,n,i,r)),R0(e),s}function R0(e){J.H=Qu;var t=Nt!==null&&Nt.next!==null;if(sr=0,te=Nt=ut=null,Fu=!1,Co=0,ks=null,t)throw Error(P(300));e===null||de||(e=e.dependencies,e!==null&&qu(e)&&(de=!0))}function I0(e,t,n,i){ut=e;var r=0;do{if(Ms&&(ks=null),Co=0,Ms=!1,25<=r)throw Error(P(301));if(r+=1,te=Nt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}J.H=ow,s=t(n,i)}while(Ms);return s}function ew(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?el(t):t,e=e.useState()[0],(Nt!==null?Nt.memoizedState:null)!==e&&(ut.flags|=1024),t}function gm(){var e=Gu!==0;return Gu=0,e}function pm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ym(e){if(Fu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fu=!1}sr=0,te=Nt=ut=null,Ms=!1,Co=Gu=0,ks=null}function je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?ut.memoizedState=te=e:te=te.next=e,te}function ne(){if(Nt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=te===null?ut.memoizedState:te.next;if(t!==null)te=t,Nt=e;else{if(e===null)throw ut.alternate===null?Error(P(467)):Error(P(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},te===null?ut.memoizedState=te=e:te=te.next=e}return te}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var t=Co;return Co+=1,ks===null&&(ks=[]),e=b0(ks,e,t),t=ut,(te===null?t.memoizedState:te.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?nT:iT),e}function jc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===Zn)return Ne(e)}throw Error(P(438,String(e)))}function vm(e){var t=null,n=ut.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ut.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_m(),ut.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=jb;return t.index++,n}function ui(e,t){return typeof t=="function"?t(e):t}function pu(e){var t=ne();return Tm(t,Nt,e)}function Tm(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(pt&g)===g:(sr&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Fs&&(d=!0);else if((sr&m)===m){h=h.next,m===Fs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ut.lanes|=m,or|=m;g=h.action,Pr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ut.lanes|=g,or|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!nn(s,e.memoizedState)&&(de=!0,d&&(n=Os,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Bh(e){var t=ne(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);nn(s,t.memoizedState)||(de=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function C0(e,t,n){var i=ut,r=ne(),s=Et;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!nn((Nt||r).memoizedState,n);a&&(r.memoizedState=n,de=!0),r=r.queue;var l=x0.bind(null,i,r,e);if(nl(2048,8,l,[e]),r.getSnapshot!==t||a||te!==null&&te.memoizedState.tag&1){if(i.flags|=2048,Qs(9,zc(),N0.bind(null,i,r,n,t),null),kt===null)throw Error(P(349));s||sr&124||D0(i,t,n)}return n}function D0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t=_m(),ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N0(e,t,n,i){t.value=n,t.getSnapshot=i,O0(t)&&M0(e)}function x0(e,t,n){return n(function(){O0(t)&&M0(e)})}function O0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function M0(e){var t=ca(e,2);t!==null&&en(t,e,2)}function Ff(e){var t=je();if(typeof e=="function"){var n=e;if(e=n(),Pr){zi(!0);try{n()}finally{zi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t}function k0(e,t,n,i){return e.baseState=n,Tm(e,Nt,typeof i=="function"?i:ui)}function nw(e,t,n,i,r){if(Bc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};J.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,V0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function V0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=J.T,a={};J.T=a;try{var l=n(r,i),u=J.S;u!==null&&u(a,l),Wp(e,t,l)}catch(h){Gf(e,t,h)}finally{J.T=s}}else try{s=n(r,i),Wp(e,t,s)}catch(h){Gf(e,t,h)}}function Wp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Jp(e,t,i)},function(i){return Gf(e,t,i)}):Jp(e,t,n)}function Jp(e,t,n){t.status="fulfilled",t.value=n,P0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,V0(e,n)))}function Gf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,P0(t),t=t.next;while(t!==i)}e.action=null}function P0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function L0(e,t){return t}function ty(e,t){if(Et){var n=kt.formState;if(n!==null){t:{var i=ut;if(Et){if(Yt){e:{for(var r=Yt,s=Dn;r.nodeType!==8;){if(!s){r=null;break e}if(r=Tn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Yt=Tn(r.nextSibling),i=r.data==="F!";break t}}kr(i)}i=!1}i&&(t=n[0])}}return n=je(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L0,lastRenderedState:t},n.queue=i,n=J0.bind(null,ut,i),i.dispatch=n,i=Ff(!1),s=Sm.bind(null,ut,!1,i.queue),i=je(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=nw.bind(null,ut,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function ey(e){var t=ne();return U0(t,Nt,e)}function U0(e,t,n){if(t=Tm(e,t,L0)[0],e=pu(ui)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=el(t)}catch(a){throw a===tl?Uc:a}else i=t;t=ne();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(ut.flags|=2048,Qs(9,zc(),iw.bind(null,r,n),null)),[i,s,e]}function iw(e,t){e.action=t}function ny(e){var t=ne(),n=Nt;if(n!==null)return U0(t,n,e);ne(),t=t.memoizedState,n=ne();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Qs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ut.updateQueue,t===null&&(t=_m(),ut.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zc(){return{destroy:void 0,resource:void 0}}function j0(){return ne().memoizedState}function yu(e,t,n,i){var r=je();i=i===void 0?null:i,ut.flags|=e,r.memoizedState=Qs(1|t,zc(),n,i)}function nl(e,t,n,i){var r=ne();i=i===void 0?null:i;var s=r.memoizedState.inst;Nt!==null&&i!==null&&dm(i,Nt.memoizedState.deps)?r.memoizedState=Qs(t,s,n,i):(ut.flags|=e,r.memoizedState=Qs(1|t,s,n,i))}function iy(e,t){yu(8390656,8,e,t)}function z0(e,t){nl(2048,8,e,t)}function B0(e,t){return nl(4,2,e,t)}function q0(e,t){return nl(4,4,e,t)}function H0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F0(e,t,n){n=n!=null?n.concat([e]):null,nl(4,4,H0.bind(null,t,e),n)}function Em(){}function G0(e,t){var n=ne();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&dm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Q0(e,t){var n=ne();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&dm(t,i[1]))return i[0];if(i=e(),Pr){zi(!0);try{e()}finally{zi(!1)}}return n.memoizedState=[i,t],i}function Am(e,t,n){return n===void 0||sr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=PT(),ut.lanes|=e,or|=e,n)}function Y0(e,t,n,i){return nn(n,t)?n:Gs.current!==null?(e=Am(e,n,i),nn(e,t)||(de=!0),e):sr&42?(e=PT(),ut.lanes|=e,or|=e,t):(de=!0,e.memoizedState=n)}function K0(e,t,n,i,r){var s=At.p;At.p=s!==0&&8>s?s:8;var a=J.T,l={};J.T=l,Sm(e,!1,t,n);try{var u=r(),h=J.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=JS(u,i);co(e,t,d,tn(e))}else co(e,t,i,tn(e))}catch(g){co(e,t,{then:function(){},status:"rejected",reason:g},tn())}finally{At.p=s,J.T=a}}function rw(){}function Qf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=X0(e).queue;K0(e,r,t,Ir,n===null?rw:function(){return $0(e),n(i)})}function X0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ir,baseState:Ir,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Ir},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $0(e){var t=X0(e).next.queue;co(e,t,{},tn())}function bm(){return Ne(Mo)}function Z0(){return ne().memoizedState}function W0(){return ne().memoizedState}function sw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=tn();e=Qi(n);var i=Yi(t,e,n);i!==null&&(en(i,t,n),oo(i,t,n)),t={cache:um()},e.payload=t;return}t=t.return}}function aw(e,t,n){var i=tn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bc(e)?tT(t,n):(n=sm(e,t,n,i),n!==null&&(en(n,e,i),eT(n,t,i)))}function J0(e,t,n){var i=tn();co(e,t,n,i)}function co(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))tT(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,nn(l,a))return Lc(e,t,r,0),kt===null&&Pc(),!1}catch{}finally{}if(n=sm(e,t,r,i),n!==null)return en(n,e,i),eT(n,t,i),!0}return!1}function Sm(e,t,n,i){if(i={lane:2,revertLane:Om(),action:i,hasEagerState:!1,eagerState:null,next:null},Bc(e)){if(t)throw Error(P(479))}else t=sm(e,n,i,2),t!==null&&en(t,e,2)}function Bc(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function tT(e,t){Ms=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eT(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Gv(e,n)}}var Qu={readContext:Ne,use:jc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},nT={readContext:Ne,use:jc,useCallback:function(e,t){return je().memoizedState=[e,t===void 0?null:t],e},useContext:Ne,useEffect:iy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,yu(4194308,4,H0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yu(4194308,4,e,t)},useInsertionEffect:function(e,t){yu(4,2,e,t)},useMemo:function(e,t){var n=je();t=t===void 0?null:t;var i=e();if(Pr){zi(!0);try{e()}finally{zi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=je();if(n!==void 0){var r=n(t);if(Pr){zi(!0);try{n(t)}finally{zi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=aw.bind(null,ut,e),[i.memoizedState,e]},useRef:function(e){var t=je();return e={current:e},t.memoizedState=e},useState:function(e){e=Ff(e);var t=e.queue,n=J0.bind(null,ut,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Em,useDeferredValue:function(e,t){var n=je();return Am(n,e,t)},useTransition:function(){var e=Ff(!1);return e=K0.bind(null,ut,e.queue,!0,!1),je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ut,r=je();if(Et){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),kt===null)throw Error(P(349));pt&124||D0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,iy(x0.bind(null,i,s,e),[e]),i.flags|=2048,Qs(9,zc(),N0.bind(null,i,s,n,t),null),n},useId:function(){var e=je(),t=kt.identifierPrefix;if(Et){var n=Jn,i=Wn;n=(i&~(1<<32-Je(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Gu++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=tw++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:bm,useFormState:ty,useActionState:ty,useOptimistic:function(e){var t=je();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Sm.bind(null,ut,!0,n),n.dispatch=t,[e,t]},useMemoCache:vm,useCacheRefresh:function(){return je().memoizedState=sw.bind(null,ut)}},iT={readContext:Ne,use:jc,useCallback:G0,useContext:Ne,useEffect:z0,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:q0,useMemo:Q0,useReducer:pu,useRef:j0,useState:function(){return pu(ui)},useDebugValue:Em,useDeferredValue:function(e,t){var n=ne();return Y0(n,Nt.memoizedState,e,t)},useTransition:function(){var e=pu(ui)[0],t=ne().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:C0,useId:Z0,useHostTransitionStatus:bm,useFormState:ey,useActionState:ey,useOptimistic:function(e,t){var n=ne();return k0(n,Nt,e,t)},useMemoCache:vm,useCacheRefresh:W0},ow={readContext:Ne,use:jc,useCallback:G0,useContext:Ne,useEffect:z0,useImperativeHandle:F0,useInsertionEffect:B0,useLayoutEffect:q0,useMemo:Q0,useReducer:Bh,useRef:j0,useState:function(){return Bh(ui)},useDebugValue:Em,useDeferredValue:function(e,t){var n=ne();return Nt===null?Am(n,e,t):Y0(n,Nt.memoizedState,e,t)},useTransition:function(){var e=Bh(ui)[0],t=ne().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:C0,useId:Z0,useHostTransitionStatus:bm,useFormState:ny,useActionState:ny,useOptimistic:function(e,t){var n=ne();return Nt!==null?k0(n,Nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vm,useCacheRefresh:W0},Vs=null,Do=0;function $l(e){var t=Do;return Do+=1,Vs===null&&(Vs=[]),b0(Vs,e,t)}function qa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zl(e,t){throw t.$$typeof===Lb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ry(e){var t=e._init;return t(e._payload)}function rT(e){function t(S,v){if(e){var R=S.deletions;R===null?(S.deletions=[v],S.flags|=16):R.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(S,v){return S=ri(S,v),S.index=0,S.sibling=null,S}function s(S,v,R){return S.index=R,e?(R=S.alternate,R!==null?(R=R.index,R<v?(S.flags|=67108866,v):R):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function l(S,v,R,N){return v===null||v.tag!==6?(v=Uh(R,S.mode,N),v.return=S,v):(v=r(v,R),v.return=S,v)}function u(S,v,R,N){var U=R.type;return U===ps?d(S,v,R.props.children,N,R.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ni&&ry(U)===v.type)?(v=r(v,R.props),qa(v,R),v.return=S,v):(v=mu(R.type,R.key,R.props,null,S.mode,N),qa(v,R),v.return=S,v)}function h(S,v,R,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==R.containerInfo||v.stateNode.implementation!==R.implementation?(v=jh(R,S.mode,N),v.return=S,v):(v=r(v,R.children||[]),v.return=S,v)}function d(S,v,R,N,U){return v===null||v.tag!==7?(v=Cr(R,S.mode,N,U),v.return=S,v):(v=r(v,R),v.return=S,v)}function g(S,v,R){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Uh(""+v,S.mode,R),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hl:return R=mu(v.type,v.key,v.props,null,S.mode,R),qa(R,v),R.return=S,R;case Ya:return v=jh(v,S.mode,R),v.return=S,v;case Ni:var N=v._init;return v=N(v._payload),g(S,v,R)}if(Ka(v)||Ua(v))return v=Cr(v,S.mode,R,null),v.return=S,v;if(typeof v.then=="function")return g(S,$l(v),R);if(v.$$typeof===Zn)return g(S,Kl(S,v),R);Zl(S,v)}return null}function m(S,v,R,N){var U=v!==null?v.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return U!==null?null:l(S,v,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Hl:return R.key===U?u(S,v,R,N):null;case Ya:return R.key===U?h(S,v,R,N):null;case Ni:return U=R._init,R=U(R._payload),m(S,v,R,N)}if(Ka(R)||Ua(R))return U!==null?null:d(S,v,R,N,null);if(typeof R.then=="function")return m(S,v,$l(R),N);if(R.$$typeof===Zn)return m(S,v,Kl(S,R),N);Zl(S,R)}return null}function _(S,v,R,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return S=S.get(R)||null,l(v,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hl:return S=S.get(N.key===null?R:N.key)||null,u(v,S,N,U);case Ya:return S=S.get(N.key===null?R:N.key)||null,h(v,S,N,U);case Ni:var q=N._init;return N=q(N._payload),_(S,v,R,N,U)}if(Ka(N)||Ua(N))return S=S.get(R)||null,d(v,S,N,U,null);if(typeof N.then=="function")return _(S,v,R,$l(N),U);if(N.$$typeof===Zn)return _(S,v,R,Kl(v,N),U);Zl(v,N)}return null}function x(S,v,R,N){for(var U=null,q=null,T=v,y=v=0,E=null;T!==null&&y<R.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var b=m(S,T,R[y],N);if(b===null){T===null&&(T=E);break}e&&T&&b.alternate===null&&t(S,T),v=s(b,v,y),q===null?U=b:q.sibling=b,q=b,T=E}if(y===R.length)return n(S,T),Et&&br(S,y),U;if(T===null){for(;y<R.length;y++)T=g(S,R[y],N),T!==null&&(v=s(T,v,y),q===null?U=T:q.sibling=T,q=T);return Et&&br(S,y),U}for(T=i(T);y<R.length;y++)E=_(T,S,y,R[y],N),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),q===null?U=E:q.sibling=E,q=E);return e&&T.forEach(function(I){return t(S,I)}),Et&&br(S,y),U}function M(S,v,R,N){if(R==null)throw Error(P(151));for(var U=null,q=null,T=v,y=v=0,E=null,b=R.next();T!==null&&!b.done;y++,b=R.next()){T.index>y?(E=T,T=null):E=T.sibling;var I=m(S,T,b.value,N);if(I===null){T===null&&(T=E);break}e&&T&&I.alternate===null&&t(S,T),v=s(I,v,y),q===null?U=I:q.sibling=I,q=I,T=E}if(b.done)return n(S,T),Et&&br(S,y),U;if(T===null){for(;!b.done;y++,b=R.next())b=g(S,b.value,N),b!==null&&(v=s(b,v,y),q===null?U=b:q.sibling=b,q=b);return Et&&br(S,y),U}for(T=i(T);!b.done;y++,b=R.next())b=_(T,S,y,b.value,N),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?y:b.key),v=s(b,v,y),q===null?U=b:q.sibling=b,q=b);return e&&T.forEach(function(C){return t(S,C)}),Et&&br(S,y),U}function k(S,v,R,N){if(typeof R=="object"&&R!==null&&R.type===ps&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Hl:t:{for(var U=R.key;v!==null;){if(v.key===U){if(U=R.type,U===ps){if(v.tag===7){n(S,v.sibling),N=r(v,R.props.children),N.return=S,S=N;break t}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ni&&ry(U)===v.type){n(S,v.sibling),N=r(v,R.props),qa(N,R),N.return=S,S=N;break t}n(S,v);break}else t(S,v);v=v.sibling}R.type===ps?(N=Cr(R.props.children,S.mode,N,R.key),N.return=S,S=N):(N=mu(R.type,R.key,R.props,null,S.mode,N),qa(N,R),N.return=S,S=N)}return a(S);case Ya:t:{for(U=R.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===R.containerInfo&&v.stateNode.implementation===R.implementation){n(S,v.sibling),N=r(v,R.children||[]),N.return=S,S=N;break t}else{n(S,v);break}else t(S,v);v=v.sibling}N=jh(R,S.mode,N),N.return=S,S=N}return a(S);case Ni:return U=R._init,R=U(R._payload),k(S,v,R,N)}if(Ka(R))return x(S,v,R,N);if(Ua(R)){if(U=Ua(R),typeof U!="function")throw Error(P(150));return R=U.call(R),M(S,v,R,N)}if(typeof R.then=="function")return k(S,v,$l(R),N);if(R.$$typeof===Zn)return k(S,v,Kl(S,R),N);Zl(S,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,v!==null&&v.tag===6?(n(S,v.sibling),N=r(v,R),N.return=S,S=N):(n(S,v),N=Uh(R,S.mode,N),N.return=S,S=N),a(S)):n(S,v)}return function(S,v,R,N){try{Do=0;var U=k(S,v,R,N);return Vs=null,U}catch(T){if(T===tl||T===Uc)throw T;var q=Ze(29,T,null,S.mode);return q.lanes=N,q.return=S,q}finally{}}}var Ys=rT(!0),sT=rT(!1),dn=zn(null),Mn=null;function Mi(e){var t=e.alternate;Ht(re,re.current&1),Ht(dn,e),Mn===null&&(t===null||Gs.current!==null||t.memoizedState!==null)&&(Mn=e)}function aT(e){if(e.tag===22){if(Ht(re,re.current),Ht(dn,e),Mn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mn=e)}}else ki()}function ki(){Ht(re,re.current),Ht(dn,dn.current)}function ei(e){me(dn),Mn===e&&(Mn=null),me(re)}var re=zn(0);function Yu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ud(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tn(),r=Qi(i);r.payload=t,n!=null&&(r.callback=n),t=Yi(e,r,i),t!==null&&(en(t,e,i),oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tn(),r=Qi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Yi(e,r,i),t!==null&&(en(t,e,i),oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),i=Qi(n);i.tag=2,t!=null&&(i.callback=t),t=Yi(e,i,n),t!==null&&(en(t,e,n),oo(t,e,n))}};function sy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ro(n,i)||!Ro(r,s):!0}function ay(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Yf.enqueueReplaceState(t,t.state,null)}function Lr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Lt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oT(e){Ku(e)}function lT(e){console.error(e)}function uT(e){Ku(e)}function Xu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function oy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Kf(e,t,n){return n=Qi(n),n.tag=3,n.payload={element:null},n.callback=function(){Xu(e,t)},n}function cT(e){return e=Qi(e),e.tag=3,e}function hT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){oy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){oy(t,n,i),typeof r!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function lw(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Wo(t,n,r,!0),n=dn.current,n!==null){switch(n.tag){case 13:return Mn===null?nd():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===zf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Jh(e,i,r)),!1;case 22:return n.flags|=65536,i===zf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Jh(e,i,r)),!1}throw Error(P(435,n.tag))}return Jh(e,i,r),nd(),!1}if(Et)return t=dn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Vf&&(e=Error(P(422),{cause:i}),Io(un(e,n)))):(i!==Vf&&(t=Error(P(423),{cause:i}),Io(un(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=un(i,n),r=Kf(e.stateNode,i,r),zh(e,r),Kt!==4&&(Kt=2)),!1;var s=Error(P(520),{cause:i});if(s=un(s,n),mo===null?mo=[s]:mo.push(s),Kt!==4&&(Kt=2),t===null)return!0;i=un(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Kf(n.stateNode,i,e),zh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ki===null||!Ki.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=cT(r),hT(r,e,n,i),zh(n,r),!1}n=n.return}while(n!==null);return!1}var fT=Error(P(461)),de=!1;function pe(e,t,n,i){t.child=e===null?sT(t,null,n,i):Ys(t,e.child,n,i)}function ly(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Vr(t),i=mm(e,t,n,a,s,r),l=gm(),e!==null&&!de?(pm(e,t,r),ci(e,t,r)):(Et&&l&&om(t),t.flags|=1,pe(e,t,i,r),t.child)}function uy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!am(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,dT(e,t,s,i,r)):(e=mu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!wm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ro,n(a,i)&&e.ref===t.ref)return ci(e,t,r)}return t.flags|=1,e=ri(s,i),e.ref=t.ref,e.return=t,t.child=e}function dT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ro(s,i)&&e.ref===t.ref)if(de=!1,t.pendingProps=i=s,wm(e,r))e.flags&131072&&(de=!0);else return t.lanes=e.lanes,ci(e,t,r)}return Xf(e,t,n,i,r)}function mT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return cy(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,s!==null?s.cachePool:null),s!==null?Zp(t,s):Hf(),aT(t);else return t.lanes=t.childLanes=536870912,cy(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(gu(t,s.cachePool),Zp(t,s),ki(),t.memoizedState=null):(e!==null&&gu(t,null),Hf(),ki());return pe(e,t,r,n),t.child}function cy(e,t,n,i){var r=cm();return r=r===null?null:{parent:ie._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&gu(t,null),Hf(),aT(t),e!==null&&Wo(e,t,i,!0),null}function _u(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Xf(e,t,n,i,r){return Vr(t),n=mm(e,t,n,i,void 0,r),i=gm(),e!==null&&!de?(pm(e,t,r),ci(e,t,r)):(Et&&i&&om(t),t.flags|=1,pe(e,t,n,r),t.child)}function hy(e,t,n,i,r,s){return Vr(t),t.updateQueue=null,n=I0(t,i,n,r),R0(e),i=gm(),e!==null&&!de?(pm(e,t,s),ci(e,t,s)):(Et&&i&&om(t),t.flags|=1,pe(e,t,n,s),t.child)}function fy(e,t,n,i,r){if(Vr(t),t.stateNode===null){var s=Ss,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ne(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},hm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ne(a):Ss,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(qh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Yf.enqueueReplaceState(s,s.state,null),uo(t,i,s,r),lo(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Lr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Ss,typeof d=="object"&&d!==null&&(a=Ne(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&ay(t,s,i,a),xi=!1;var m=t.memoizedState;s.state=m,uo(t,i,s,r),lo(),h=t.memoizedState,l||m!==h||xi?(typeof g=="function"&&(qh(t,n,g,i),h=t.memoizedState),(u=xi||sy(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Bf(e,t),a=t.memoizedProps,d=Lr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=Ss,typeof h=="object"&&h!==null&&(u=Ne(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ay(t,s,i,u),xi=!1,m=t.memoizedState,s.state=m,uo(t,i,s,r),lo();var _=t.memoizedState;a!==g||m!==_||xi||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof l=="function"&&(qh(t,n,l,i),_=t.memoizedState),(d=xi||sy(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,_u(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ys(t,e.child,null,r),t.child=Ys(t,null,n,r)):pe(e,t,n,r),t.memoizedState=s.state,e=t.child):e=ci(e,t,r),e}function dy(e,t,n,i){return Zo(),t.flags|=256,pe(e,t,n,i),t.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(e){return{baseLanes:e,cachePool:E0()}}function Gh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fn),e}function gT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(re.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Et){if(r?Mi(t):ki(),Et){var l=Yt,u;if(u=l){t:{for(u=l,l=Dn;u.nodeType!==8;){if(!l){l=null;break t}if(u=Tn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Dr!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},u=Ze(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Oe=t,Yt=null,u=!0):u=!1}u||kr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return ud(l)?t.lanes=32:t.lanes=536870912,null;ei(t)}return l=i.children,i=i.fallback,r?(ki(),r=t.mode,l=$u({mode:"hidden",children:l},r),i=Cr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=Fh(n),r.childLanes=Gh(e,a,n),t.memoizedState=Hh,i):(Mi(t),$f(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Mi(t),t.flags&=-257,t=Qh(e,t,n)):t.memoizedState!==null?(ki(),t.child=e.child,t.flags|=128,t=null):(ki(),r=i.fallback,l=t.mode,i=$u({mode:"visible",children:i.children},l),r=Cr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ys(t,e.child,null,n),i=t.child,i.memoizedState=Fh(n),i.childLanes=Gh(e,a,n),t.memoizedState=Hh,t=r);else if(Mi(t),ud(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Io({value:i,source:null,stack:null}),t=Qh(e,t,n)}else if(de||Wo(e,t,n,!1),a=(n&e.childLanes)!==0,de||a){if(a=kt,a!==null&&(i=n&-n,i=i&42?1:Xd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,ca(e,i),en(a,e,i),fT;l.data==="$?"||nd(),t=Qh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Yt=Tn(l.nextSibling),Oe=t,Et=!0,Nr=null,Dn=!1,e!==null&&(an[on++]=Wn,an[on++]=Jn,an[on++]=Dr,Wn=e.id,Jn=e.overflow,Dr=t),t=$f(t,i.children),t.flags|=4096);return t}return r?(ki(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=ri(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=ri(h,r):(r=Cr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=Fh(n):(u=l.cachePool,u!==null?(h=ie._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=E0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Gh(e,a,n),t.memoizedState=Hh,i):(Mi(t),n=e.child,e=n.sibling,n=ri(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function $f(e,t){return t=$u({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $u(e,t){return e=Ze(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qh(e,t,n){return Ys(t,e.child,null,n),e=$f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function my(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Lf(e.return,t,n)}function Yh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function pT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(pe(e,t,i.children,n),i=re.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,n,t);else if(e.tag===19)my(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Ht(re,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Yu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Yh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Yu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Yh(t,!0,n,null,s);break;case"together":Yh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))if(e!==null){if(Wo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function uw(e,t,n){switch(t.tag){case 3:ku(t,t.stateNode.containerInfo),Oi(t,ie,e.memoizedState.cache),Zo();break;case 27:case 5:wf(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:Oi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Mi(t),t.flags|=128,null):n&t.child.childLanes?gT(e,t,n):(Mi(t),e=ci(e,t,n),e!==null?e.sibling:null);Mi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Wo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return pT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ht(re,re.current),i)break;return null;case 22:case 23:return t.lanes=0,mT(e,t,n);case 24:Oi(t,ie,e.memoizedState.cache)}return ci(e,t,n)}function yT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)de=!0;else{if(!wm(e,n)&&!(t.flags&128))return de=!1,uw(e,t,n);de=!!(e.flags&131072)}else de=!1,Et&&t.flags&1048576&&v0(t,Bu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")am(i)?(e=Lr(i,e),t.tag=1,t=fy(null,t,i,e,n)):(t.tag=0,t=Xf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Qd){t.tag=11,t=ly(null,t,i,e,n);break t}else if(r===Yd){t.tag=14,t=uy(null,t,i,e,n);break t}}throw t=bf(i)||i,Error(P(306,t,""))}}return t;case 0:return Xf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Lr(i,t.pendingProps),fy(e,t,i,r,n);case 3:t:{if(ku(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Bf(e,t),uo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Oi(t,ie,i),i!==s.cache&&Uf(t,[ie],n,!0),lo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=dy(e,t,i,n);break t}else if(i!==r){r=un(Error(P(424)),t),Io(r),t=dy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Yt=Tn(e.firstChild),Oe=t,Et=!0,Nr=null,Dn=!0,n=sT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zo(),i===r){t=ci(e,t,n);break t}pe(e,t,i,n)}t=t.child}return t;case 26:return _u(e,t),e===null?(n=xy(t.type,null,t.pendingProps,null))?t.memoizedState=n:Et||(n=t.type,e=t.pendingProps,i=ic(Gi.current).createElement(n),i[De]=t,i[He]=e,Te(i,n,e),fe(i),t.stateNode=i):t.memoizedState=xy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wf(t),e===null&&Et&&(i=t.stateNode=iE(t.type,t.pendingProps,Gi.current),Oe=t,Dn=!0,r=Yt,gr(t.type)?(cd=r,Yt=Tn(i.firstChild)):Yt=r),pe(e,t,t.pendingProps.children,n),_u(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Et&&((r=i=Yt)&&(i=Lw(i,t.type,t.pendingProps,Dn),i!==null?(t.stateNode=i,Oe=t,Yt=Tn(i.firstChild),Dn=!1,r=!0):r=!1),r||kr(t)),wf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,od(r,s)?i=null:a!==null&&od(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=mm(e,t,ew,null,null,n),Mo._currentValue=r),_u(e,t),pe(e,t,i,n),t.child;case 6:return e===null&&Et&&((e=n=Yt)&&(n=Uw(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Oe=t,Yt=null,e=!0):e=!1),e||kr(t)),null;case 13:return gT(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ys(t,null,i,n):pe(e,t,i,n),t.child;case 11:return ly(e,t,t.type,t.pendingProps,n);case 7:return pe(e,t,t.pendingProps,n),t.child;case 8:return pe(e,t,t.pendingProps.children,n),t.child;case 12:return pe(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Oi(t,t.type,i.value),pe(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Vr(t),r=Ne(r),i=i(r),t.flags|=1,pe(e,t,i,n),t.child;case 14:return uy(e,t,t.type,t.pendingProps,n);case 15:return dT(e,t,t.type,t.pendingProps,n);case 19:return pT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=$u(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ri(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return mT(e,t,n);case 24:return Vr(t),i=Ne(ie),e===null?(r=cm(),r===null&&(r=kt,s=um(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},hm(t),Oi(t,ie,r)):(e.lanes&n&&(Bf(e,t),uo(t,null,null,n),lo()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Oi(t,ie,i)):(i=s.cache,Oi(t,ie,i),i!==r.cache&&Uf(t,[ie],n,!0))),pe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Qn(e){e.flags|=4}function gy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!aE(t)){if(t=dn.current,t!==null&&((pt&4194048)===pt?Mn!==null:(pt&62914560)!==pt&&!(pt&536870912)||t!==Mn))throw ao=zf,A0;e.flags|=8192}}function Wl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hv():536870912,e.lanes|=t,Ks|=t)}function Ha(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function cw(e,t,n){var i=t.pendingProps;switch(lm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return Ft(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),si(ie),Bs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?Qn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gp())),Ft(t),null;case 26:return n=t.memoizedState,e===null?(Qn(t),n!==null?(Ft(t),gy(t,n)):(Ft(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qn(t),Ft(t),gy(t,n)):(Ft(t),t.flags&=-16777217):(e.memoizedProps!==i&&Qn(t),Ft(t),t.flags&=-16777217),null;case 27:Vu(t),n=Gi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Qn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Ft(t),null}e=xn.current,Ba(t)?Hp(t):(e=iE(r,i,n),t.stateNode=e,Qn(t))}return Ft(t),null;case 5:if(Vu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Qn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Ft(t),null}if(e=xn.current,Ba(t))Hp(t);else{switch(r=ic(Gi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[De]=t,e[He]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(Te(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Qn(t)}}return Ft(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Qn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=Gi.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Oe,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||tE(e.nodeValue,n)),e||kr(t)}else e=ic(e).createTextNode(i),e[De]=t,t.stateNode=e}return Ft(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ba(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[De]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),r=!1}else r=Gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ei(t),t):(ei(t),null)}if(ei(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Ft(t),null;case 4:return Bs(),e===null&&Mm(t.stateNode.containerInfo),Ft(t),null;case 10:return si(t.type),Ft(t),null;case 19:if(me(re),r=t.memoizedState,r===null)return Ft(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Ha(r,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yu(e),s!==null){for(t.flags|=128,Ha(r,!1),e=s.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)_0(n,e),n=n.sibling;return Ht(re,re.current&1|2),t.child}e=e.sibling}r.tail!==null&&On()>Wu&&(t.flags|=128,i=!0,Ha(r,!1),t.lanes=4194304)}else{if(!i)if(e=Yu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Ha(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Et)return Ft(t),null}else 2*On()-r.renderingStartTime>Wu&&n!==536870912&&(t.flags|=128,i=!0,Ha(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=On(),t.sibling=null,e=re.current,Ht(re,i?e&1|2:e&1),t):(Ft(t),null);case 22:case 23:return ei(t),fm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),n=t.updateQueue,n!==null&&Wl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&me(xr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),si(ie),Ft(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function hw(e,t){switch(lm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(ie),Bs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vu(t),null;case 13:if(ei(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(re),null;case 4:return Bs(),null;case 10:return si(t.type),null;case 22:case 23:return ei(t),fm(),e!==null&&me(xr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return si(ie),null;case 25:return null;default:return null}}function _T(e,t){switch(lm(t),t.tag){case 3:si(ie),Bs();break;case 26:case 27:case 5:Vu(t);break;case 4:Bs();break;case 13:ei(t);break;case 19:me(re);break;case 10:si(t.type);break;case 22:case 23:ei(t),fm(),e!==null&&me(xr);break;case 24:si(ie)}}function il(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Ot(t,t.return,l)}}function ar(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Ot(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Ot(t,t.return,d)}}function vT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{w0(t,n)}catch(i){Ot(e,e.return,i)}}}function TT(e,t,n){n.props=Lr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ot(e,t,i)}}function ho(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Ot(e,t,r)}}function Nn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Ot(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ot(e,t,r)}else n.current=null}function ET(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ot(e,e.return,r)}}function Kh(e,t,n){try{var i=e.stateNode;Ow(i,e.type,n,t),i[He]=t}catch(r){Ot(e,e.return,r)}}function AT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function Xh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||AT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gc));else if(i!==4&&(i===27&&gr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zf(e,t,n),e=e.sibling;e!==null;)Zf(e,t,n),e=e.sibling}function Zu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&gr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zu(e,t,n),e=e.sibling;e!==null;)Zu(e,t,n),e=e.sibling}function bT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Te(t,i,n),t[De]=e,t[He]=n}catch(s){Ot(e,e.return,s)}}var Xn=!1,$t=!1,$h=!1,py=typeof WeakSet=="function"?WeakSet:Set,he=null;function fw(e,t){if(e=e.containerInfo,sd=oc,e=c0(e),im(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},oc=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){switch(t=he,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=Lr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Ot(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ld(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}}function ST(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(e,n),i&4&&il(5,n);break;case 1:if(Ii(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Ot(n,n.return,a)}else{var r=Lr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Ot(n,n.return,a)}}i&64&&vT(n),i&512&&ho(n,n.return);break;case 3:if(Ii(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{w0(e,t)}catch(a){Ot(n,n.return,a)}}break;case 27:t===null&&i&4&&bT(n);case 26:case 5:Ii(e,n),t===null&&i&4&&ET(n),i&512&&ho(n,n.return);break;case 12:Ii(e,n);break;case 13:Ii(e,n),i&4&&IT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ew.bind(null,n),jw(e,n))));break;case 22:if(i=n.memoizedState!==null||Xn,!i){t=t!==null&&t.memoizedState!==null||$t,r=Xn;var s=$t;Xn=i,($t=t)&&!s?Di(e,n,(n.subtreeFlags&8772)!==0):Ii(e,n),Xn=r,$t=s}break;case 30:break;default:Ii(e,n)}}function wT(e){var t=e.alternate;t!==null&&(e.alternate=null,wT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bt=null,ze=!1;function Yn(e,t,n){for(n=n.child;n!==null;)RT(e,t,n),n=n.sibling}function RT(e,t,n){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Qo,n)}catch{}switch(n.tag){case 26:$t||Nn(n,t),Yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:$t||Nn(n,t);var i=Bt,r=ze;gr(n.type)&&(Bt=n.stateNode,ze=!1),Yn(e,t,n),po(n.stateNode),Bt=i,ze=r;break;case 5:$t||Nn(n,t);case 6:if(i=Bt,r=ze,Bt=null,Yn(e,t,n),Bt=i,ze=r,Bt!==null)if(ze)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(n.stateNode)}catch(s){Ot(n,t,s)}else try{Bt.removeChild(n.stateNode)}catch(s){Ot(n,t,s)}break;case 18:Bt!==null&&(ze?(e=Bt,Cy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Po(e)):Cy(Bt,n.stateNode));break;case 4:i=Bt,r=ze,Bt=n.stateNode.containerInfo,ze=!0,Yn(e,t,n),Bt=i,ze=r;break;case 0:case 11:case 14:case 15:$t||ar(2,n,t),$t||ar(4,n,t),Yn(e,t,n);break;case 1:$t||(Nn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&TT(n,t,i)),Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:$t=(i=$t)||n.memoizedState!==null,Yn(e,t,n),$t=i;break;default:Yn(e,t,n)}}function IT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Po(e)}catch(n){Ot(t,t.return,n)}}function dw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new py),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new py),t;default:throw Error(P(435,e.tag))}}function Zh(e,t){var n=dw(e);t.forEach(function(i){var r=Aw.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ke(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(gr(l.type)){Bt=l.stateNode,ze=!1;break t}break;case 5:Bt=l.stateNode,ze=!1;break t;case 3:case 4:Bt=l.stateNode.containerInfo,ze=!0;break t}l=l.return}if(Bt===null)throw Error(P(160));RT(s,a,r),Bt=null,ze=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)CT(t,e),t=t.sibling}var yn=null;function CT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(t,e),Xe(e),i&4&&(ar(3,e,e.return),il(3,e),ar(5,e,e.return));break;case 1:Ke(t,e),Xe(e),i&512&&($t||n===null||Nn(n,n.return)),i&64&&Xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=yn;if(Ke(t,e),Xe(e),i&512&&($t||n===null||Nn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Xo]||s[De]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Te(s,i,n),s[De]=e,fe(s),i=s;break t;case"link":var a=My("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),Te(s,i,n),r.head.appendChild(s);break;case"meta":if(a=My("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),Te(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[De]=e,fe(s),i=s}e.stateNode=i}else ky(r,e.type,e.stateNode);else e.stateNode=Oy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?ky(r,e.type,e.stateNode):Oy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Kh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ke(t,e),Xe(e),i&512&&($t||n===null||Nn(n,n.return)),n!==null&&i&4&&Kh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ke(t,e),Xe(e),i&512&&($t||n===null||Nn(n,n.return)),e.flags&32){r=e.stateNode;try{Hs(r,"")}catch(_){Ot(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Kh(e,r,n!==null?n.memoizedProps:r)),i&1024&&($h=!0);break;case 6:if(Ke(t,e),Xe(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){Ot(e,e.return,_)}}break;case 3:if(Eu=null,r=yn,yn=rc(t.containerInfo),Ke(t,e),yn=r,Xe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(_){Ot(e,e.return,_)}$h&&($h=!1,DT(e));break;case 4:i=yn,yn=rc(e.stateNode.containerInfo),Ke(t,e),Xe(e),yn=i;break;case 12:Ke(t,e),Xe(e);break;case 13:Ke(t,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Nm=On()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Xn,d=$t;if(Xn=h||r,$t=d||u,Ke(t,e),$t=d,Xn=h,Xe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Xn||$t||Sr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Ot(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){Ot(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Zh(e,n))));break;case 19:Ke(t,e),Xe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zh(e,i)));break;case 30:break;case 21:break;default:Ke(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(AT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Xh(e);Zu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Hs(a,""),n.flags&=-33);var l=Xh(e);Zu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Xh(e);Zf(e,h,u);break;default:throw Error(P(161))}}catch(d){Ot(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;DT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ii(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ST(e,t.alternate,t),t=t.sibling}function Sr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ar(4,t,t.return),Sr(t);break;case 1:Nn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&TT(t,t.return,n),Sr(t);break;case 27:po(t.stateNode);case 26:case 5:Nn(t,t.return),Sr(t);break;case 22:t.memoizedState===null&&Sr(t);break;case 30:Sr(t);break;default:Sr(t)}e=e.sibling}}function Di(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Di(r,s,n),il(4,s);break;case 1:if(Di(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Ot(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)S0(u[r],l)}catch(h){Ot(i,i.return,h)}}n&&a&64&&vT(s),ho(s,s.return);break;case 27:bT(s);case 26:case 5:Di(r,s,n),n&&i===null&&a&4&&ET(s),ho(s,s.return);break;case 12:Di(r,s,n);break;case 13:Di(r,s,n),n&&a&4&&IT(r,s);break;case 22:s.memoizedState===null&&Di(r,s,n),ho(s,s.return);break;case 30:break;default:Di(r,s,n)}t=t.sibling}}function Rm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Jo(n))}function Im(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jo(e))}function Rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)NT(e,t,n,i),t=t.sibling}function NT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,n,i),r&2048&&il(9,t);break;case 1:Rn(e,t,n,i);break;case 3:Rn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jo(e)));break;case 12:if(r&2048){Rn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Ot(t,t.return,u)}}else Rn(e,t,n,i);break;case 13:Rn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Rn(e,t,n,i):fo(e,t):s._visibility&2?Rn(e,t,n,i):(s._visibility|=2,cs(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Rm(a,t);break;case 24:Rn(e,t,n,i),r&2048&&Im(t.alternate,t);break;default:Rn(e,t,n,i)}}function cs(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:cs(s,a,l,u,r),il(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?cs(s,a,l,u,r):fo(s,a):(d._visibility|=2,cs(s,a,l,u,r)),r&&h&2048&&Rm(a.alternate,a);break;case 24:cs(s,a,l,u,r),r&&h&2048&&Im(a.alternate,a);break;default:cs(s,a,l,u,r)}t=t.sibling}}function fo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:fo(n,i),r&2048&&Rm(i.alternate,i);break;case 24:fo(n,i),r&2048&&Im(i.alternate,i);break;default:fo(n,i)}t=t.sibling}}var $a=8192;function as(e){if(e.subtreeFlags&$a)for(e=e.child;e!==null;)xT(e),e=e.sibling}function xT(e){switch(e.tag){case 26:as(e),e.flags&$a&&e.memoizedState!==null&&Ww(yn,e.memoizedState,e.memoizedProps);break;case 5:as(e);break;case 3:case 4:var t=yn;yn=rc(e.stateNode.containerInfo),as(e),yn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$a,$a=16777216,as(e),$a=t):as(e));break;default:as(e)}}function OT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];he=i,kT(i,e)}OT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)MT(e),e=e.sibling}function MT(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vu(e)):Fa(e);break;default:Fa(e)}}function vu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];he=i,kT(i,e)}OT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ar(8,t,t.return),vu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vu(t));break;default:vu(t)}e=e.sibling}}function kT(e,t){for(;he!==null;){var n=he;switch(n.tag){case 0:case 11:case 15:ar(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Jo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,he=i;else t:for(n=e;he!==null;){i=he;var r=i.sibling,s=i.return;if(wT(i),i===n){he=null;break t}if(r!==null){r.return=s,he=r;break t}he=s}}}var mw={getCacheForType:function(e){var t=Ne(ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},gw=typeof WeakMap=="function"?WeakMap:Map,Rt=0,kt=null,ft=null,pt=0,wt=0,$e=null,qi=!1,ha=!1,Cm=!1,hi=0,Kt=0,or=0,Or=0,Dm=0,fn=0,Ks=0,mo=null,Be=null,Wf=!1,Nm=0,Wu=1/0,Ju=null,Ki=null,_e=0,Xi=null,Xs=null,Ps=0,Jf=0,td=null,VT=null,go=0,ed=null;function tn(){if(Rt&2&&pt!==0)return pt&-pt;if(J.T!==null){var e=Fs;return e!==0?e:Om()}return Qv()}function PT(){fn===0&&(fn=!(pt&536870912)||Et?qv():536870912);var e=dn.current;return e!==null&&(e.flags|=32),fn}function en(e,t,n){(e===kt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&($s(e,0),Hi(e,pt,fn,!1)),Ko(e,n),(!(Rt&2)||e!==kt)&&(e===kt&&(!(Rt&2)&&(Or|=n),Kt===4&&Hi(e,pt,fn,!1)),Bn(e))}function LT(e,t,n){if(Rt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Yo(e,t),r=i?_w(e,t):Wh(e,t,!0),s=i;do{if(r===0){ha&&!i&&Hi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!pw(n)){r=Wh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=mo;var u=l.current.memoizedState.isDehydrated;if(u&&($s(l,a).flags|=256),a=Wh(l,a,!1),a!==2){if(Cm&&!u){l.errorRecoveryDisabledLanes|=s,Or|=s,r=4;break t}s=Be,Be=r,s!==null&&(Be===null?Be=s:Be.push.apply(Be,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){$s(e,0),Hi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:Hi(i,t,fn,!qi);break t;case 2:Be=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Nm+300-On(),10<r)){if(Hi(i,t,fn,!qi),Oc(i,0,!0)!==0)break t;i.timeoutHandle=nE(yy.bind(null,i,n,Be,Ju,Wf,t,fn,Or,Ks,qi,s,2,-0,0),r);break t}yy(i,n,Be,Ju,Wf,t,fn,Or,Ks,qi,s,0,-0,0)}}break}while(!0);Bn(e)}function yy(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Oo={stylesheets:null,count:0,unsuspend:Zw},xT(t),g=Jw(),g!==null)){e.cancelPendingCommit=g(vy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),Hi(e,s,a,!h);return}vy(e,t,s,n,i,r,a,l,u)}function pw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!nn(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hi(e,t,n,i){t&=~Dm,t&=~Or,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Je(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Fv(e,n,t)}function qc(){return Rt&6?!0:(rl(0),!1)}function xm(){if(ft!==null){if(wt===0)var e=ft.return;else e=ft,ti=Qr=null,ym(e),Vs=null,Do=0,e=ft;for(;e!==null;)_T(e.alternate,e),e=e.return;ft=null}}function $s(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,kw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xm(),kt=e,ft=n=ri(e.current,null),pt=t,wt=0,$e=null,qi=!1,ha=Yo(e,t),Cm=!1,Ks=fn=Dm=Or=or=Kt=0,Be=mo=null,Wf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Je(i),s=1<<r;t|=e[r],i&=~s}return hi=t,Pc(),n}function UT(e,t){ut=null,J.H=Qu,t===tl||t===Uc?(t=Xp(),wt=3):t===A0?(t=Xp(),wt=4):wt=t===fT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$e=t,ft===null&&(Kt=1,Xu(e,un(t,e.current)))}function jT(){var e=J.H;return J.H=Qu,e===null?Qu:e}function zT(){var e=J.A;return J.A=mw,e}function nd(){Kt=4,qi||(pt&4194048)!==pt&&dn.current!==null||(ha=!0),!(or&134217727)&&!(Or&134217727)||kt===null||Hi(kt,pt,fn,!1)}function Wh(e,t,n){var i=Rt;Rt|=2;var r=jT(),s=zT();(kt!==e||pt!==t)&&(Ju=null,$s(e,t)),t=!1;var a=Kt;t:do try{if(wt!==0&&ft!==null){var l=ft,u=$e;switch(wt){case 8:xm(),a=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(t=!0);var h=wt;if(wt=0,$e=null,Is(e,l,u,h),n&&ha){a=0;break t}break;default:h=wt,wt=0,$e=null,Is(e,l,u,h)}}yw(),a=Kt;break}catch(d){UT(e,d)}while(!0);return t&&e.shellSuspendCounter++,ti=Qr=null,Rt=i,J.H=r,J.A=s,ft===null&&(kt=null,pt=0,Pc()),a}function yw(){for(;ft!==null;)BT(ft)}function _w(e,t){var n=Rt;Rt|=2;var i=jT(),r=zT();kt!==e||pt!==t?(Ju=null,Wu=On()+500,$s(e,t)):ha=Yo(e,t);t:do try{if(wt!==0&&ft!==null){t=ft;var s=$e;e:switch(wt){case 1:wt=0,$e=null,Is(e,t,s,1);break;case 2:case 9:if(Kp(s)){wt=0,$e=null,_y(t);break}t=function(){wt!==2&&wt!==9||kt!==e||(wt=7),Bn(e)},s.then(t,t);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:Kp(s)?(wt=0,$e=null,_y(t)):(wt=0,$e=null,Is(e,t,s,7));break;case 5:var a=null;switch(ft.tag){case 26:a=ft.memoizedState;case 5:case 27:var l=ft;if(!a||aE(a)){wt=0,$e=null;var u=l.sibling;if(u!==null)ft=u;else{var h=l.return;h!==null?(ft=h,Hc(h)):ft=null}break e}}wt=0,$e=null,Is(e,t,s,5);break;case 6:wt=0,$e=null,Is(e,t,s,6);break;case 8:xm(),Kt=6;break t;default:throw Error(P(462))}}vw();break}catch(d){UT(e,d)}while(!0);return ti=Qr=null,J.H=i,J.A=r,Rt=n,ft!==null?0:(kt=null,pt=0,Pc(),Kt)}function vw(){for(;ft!==null&&!Bb();)BT(ft)}function BT(e){var t=yT(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?Hc(e):ft=t}function _y(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hy(n,t,t.pendingProps,t.type,void 0,pt);break;case 11:t=hy(n,t,t.pendingProps,t.type.render,t.ref,pt);break;case 5:ym(t);default:_T(n,t),t=ft=_0(t,hi),t=yT(n,t,hi)}e.memoizedProps=e.pendingProps,t===null?Hc(e):ft=t}function Is(e,t,n,i){ti=Qr=null,ym(t),Vs=null,Do=0;var r=t.return;try{if(lw(e,r,t,n,pt)){Kt=1,Xu(e,un(n,e.current)),ft=null;return}}catch(s){if(r!==null)throw ft=r,s;Kt=1,Xu(e,un(n,e.current)),ft=null;return}t.flags&32768?(Et||i===1?e=!0:ha||pt&536870912?e=!1:(qi=e=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),qT(t,e)):Hc(t)}function Hc(e){var t=e;do{if(t.flags&32768){qT(t,qi);return}e=t.return;var n=cw(t.alternate,t,hi);if(n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Kt===0&&(Kt=5)}function qT(e,t){do{var n=hw(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Kt=6,ft=null}function vy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Fc();while(_e!==0);if(Rt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=rm,Zb(e,n,s,a,l,u),e===kt&&(ft=kt=null,pt=0),Xs=t,Xi=e,Ps=n,Jf=s,td=r,VT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,bw(Pu,function(){return YT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=J.T,J.T=null,r=At.p,At.p=2,a=Rt,Rt|=4;try{fw(e,t,n)}finally{Rt=a,At.p=r,J.T=i}}_e=1,HT(),FT(),GT()}}function HT(){if(_e===1){_e=0;var e=Xi,t=Xs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var i=At.p;At.p=2;var r=Rt;Rt|=4;try{CT(t,e);var s=ad,a=c0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&u0(l.ownerDocument.documentElement,l)){if(u!==null&&im(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),x=l.textContent.length,M=Math.min(u.start,x),k=u.end===void 0?M:Math.min(u.end,x);!_.extend&&M>k&&(a=k,k=M,M=a);var S=zp(l,M),v=zp(l,k);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var R=g.createRange();R.setStart(S.node,S.offset),_.removeAllRanges(),M>k?(_.addRange(R),_.extend(v.node,v.offset)):(R.setEnd(v.node,v.offset),_.addRange(R))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}oc=!!sd,ad=sd=null}finally{Rt=r,At.p=i,J.T=n}}e.current=t,_e=2}}function FT(){if(_e===2){_e=0;var e=Xi,t=Xs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var i=At.p;At.p=2;var r=Rt;Rt|=4;try{ST(e,t.alternate,t)}finally{Rt=r,At.p=i,J.T=n}}_e=3}}function GT(){if(_e===4||_e===3){_e=0,qb();var e=Xi,t=Xs,n=Ps,i=VT;t.subtreeFlags&10256||t.flags&10256?_e=5:(_e=0,Xs=Xi=null,QT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ki=null),$d(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Qo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=J.T,r=At.p,At.p=2,J.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{J.T=t,At.p=r}}Ps&3&&Fc(),Bn(e),r=e.pendingLanes,n&4194090&&r&42?e===ed?go++:(go=0,ed=e):go=0,rl(0)}}function QT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jo(t)))}function Fc(e){return HT(),FT(),GT(),YT()}function YT(){if(_e!==5)return!1;var e=Xi,t=Jf;Jf=0;var n=$d(Ps),i=J.T,r=At.p;try{At.p=32>n?32:n,J.T=null,n=td,td=null;var s=Xi,a=Ps;if(_e=0,Xs=Xi=null,Ps=0,Rt&6)throw Error(P(331));var l=Rt;if(Rt|=4,MT(s.current),NT(s,s.current,a,n),Rt=l,rl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Qo,s)}catch{}return!0}finally{At.p=r,J.T=i,QT(e,t)}}function Ty(e,t,n){t=un(n,t),t=Kf(e.stateNode,t,2),e=Yi(e,t,2),e!==null&&(Ko(e,2),Bn(e))}function Ot(e,t,n){if(e.tag===3)Ty(e,e,n);else for(;t!==null;){if(t.tag===3){Ty(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ki===null||!Ki.has(i))){e=un(n,e),n=cT(2),i=Yi(t,n,2),i!==null&&(hT(n,i,t,e),Ko(i,2),Bn(i));break}}t=t.return}}function Jh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new gw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Cm=!0,r.add(n),e=Tw.bind(null,e,t,n),t.then(e,e))}function Tw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,kt===e&&(pt&n)===n&&(Kt===4||Kt===3&&(pt&62914560)===pt&&300>On()-Nm?!(Rt&2)&&$s(e,0):Dm|=n,Ks===pt&&(Ks=0)),Bn(e)}function KT(e,t){t===0&&(t=Hv()),e=ca(e,t),e!==null&&(Ko(e,t),Bn(e))}function Ew(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KT(e,n)}function Aw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),KT(e,n)}function bw(e,t){return Kd(e,t)}var tc=null,hs=null,id=!1,ec=!1,tf=!1,Mr=0;function Bn(e){e!==hs&&e.next===null&&(hs===null?tc=hs=e:hs=hs.next=e),ec=!0,id||(id=!0,ww())}function rl(e,t){if(!tf&&ec){tf=!0;do for(var n=!1,i=tc;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Je(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Ey(i,s))}else s=pt,s=Oc(i,i===kt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Yo(i,s)||(n=!0,Ey(i,s));i=i.next}while(n);tf=!1}}function Sw(){XT()}function XT(){ec=id=!1;var e=0;Mr!==0&&(Mw()&&(e=Mr),Mr=0);for(var t=On(),n=null,i=tc;i!==null;){var r=i.next,s=$T(i,t);s===0?(i.next=null,n===null?tc=r:n.next=r,r===null&&(hs=n)):(n=i,(e!==0||s&3)&&(ec=!0)),i=r}rl(e)}function $T(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Je(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=$b(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=kt,n=pt,n=Oc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Rh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Yo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Rh(i),$d(n)){case 2:case 8:n=zv;break;case 32:n=Pu;break;case 268435456:n=Bv;break;default:n=Pu}return i=ZT.bind(null,e),n=Kd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Rh(i),e.callbackPriority=2,e.callbackNode=null,2}function ZT(e,t){if(_e!==0&&_e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Fc()&&e.callbackNode!==n)return null;var i=pt;return i=Oc(e,e===kt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(LT(e,i,t),$T(e,On()),e.callbackNode!=null&&e.callbackNode===n?ZT.bind(null,e):null)}function Ey(e,t){if(Fc())return null;LT(e,t,!0)}function ww(){Vw(function(){Rt&6?Kd(jv,Sw):XT()})}function Om(){return Mr===0&&(Mr=qv()),Mr}function Ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hu(""+e)}function by(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Rw(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Ay((r[He]||null).action),a=i.submitter;a&&(t=(t=a[He]||null)?Ay(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Mc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Mr!==0){var u=a?by(r,a):new FormData(r);Qf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?by(r,a):new FormData(r),Qf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var ef=0;ef<kf.length;ef++){var nf=kf[ef],Iw=nf.toLowerCase(),Cw=nf[0].toUpperCase()+nf.slice(1);An(Iw,"on"+Cw)}An(f0,"onAnimationEnd");An(d0,"onAnimationIteration");An(m0,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(GS,"onTransitionRun");An(QS,"onTransitionStart");An(YS,"onTransitionCancel");An(g0,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function WT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Ku(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Ku(d)}r.currentTarget=null,s=u}}}}function ht(e,t){var n=t[If];n===void 0&&(n=t[If]=new Set);var i=e+"__bubble";n.has(i)||(JT(t,e,2,!1),n.add(i))}function rf(e,t,n){var i=0;t&&(i|=4),JT(n,e,i,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Mm(e){if(!e[Jl]){e[Jl]=!0,Yv.forEach(function(n){n!=="selectionchange"&&(Dw.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,rf("selectionchange",!1,t))}}function JT(e,t,n,i){switch(hE(t)){case 2:var r=n2;break;case 8:r=i2;break;default:r=Lm}n=r.bind(null,t,n,e),r=void 0,!xf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function sf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=_s(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}e0(function(){var h=s,d=Jd(n),g=[];t:{var m=p0.get(e);if(m!==void 0){var _=Mc,x=e;switch(e){case"keypress":if(du(n)===0)break t;case"keydown":case"keyup":_=bS;break;case"focusin":x="focus",_=kh;break;case"focusout":x="blur",_=kh;break;case"beforeblur":case"afterblur":_=kh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=RS;break;case f0:case d0:case m0:_=mS;break;case g0:_=CS;break;case"scroll":case"scrollend":_=uS;break;case"wheel":_=NS;break;case"copy":case"cut":case"paste":_=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Op;break;case"toggle":case"beforetoggle":_=OS}var M=(t&4)!==0,k=!M&&(e==="scroll"||e==="scrollend"),S=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,R;v!==null;){var N=v;if(R=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||R===null||S===null||(N=So(v,S),N!=null&&M.push(xo(v,N,R))),k)break;v=v.return}0<M.length&&(m=new _(m,x,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Nf&&(x=n.relatedTarget||n.fromElement)&&(_s(x)||x[la]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?_s(x):null,x!==null&&(k=Go(x),M=x.tag,x!==k||M!==5&&M!==27&&M!==6)&&(x=null)):(_=null,x=h),_!==x)){if(M=Np,N="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=Op,N="onPointerLeave",S="onPointerEnter",v="pointer"),k=_==null?m:Xa(_),R=x==null?m:Xa(x),m=new M(N,v+"leave",_,n,d),m.target=k,m.relatedTarget=R,N=null,_s(d)===h&&(M=new M(S,v+"enter",x,n,d),M.target=R,M.relatedTarget=k,N=M),k=N,_&&x)e:{for(M=_,S=x,v=0,R=M;R;R=os(R))v++;for(R=0,N=S;N;N=os(N))R++;for(;0<v-R;)M=os(M),v--;for(;0<R-v;)S=os(S),R--;for(;v--;){if(M===S||S!==null&&M===S.alternate)break e;M=os(M),S=os(S)}M=null}else M=null;_!==null&&Sy(g,m,_,M,!1),x!==null&&k!==null&&Sy(g,k,x,M,!0)}}t:{if(m=h?Xa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=Pp;else if(Vp(m))if(o0)U=qS;else{U=zS;var q=jS}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Wd(h.elementType)&&(U=Pp):U=BS;if(U&&(U=U(e,h))){a0(g,U,n,d);break t}q&&q(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Df(m,"number",m.value)}switch(q=h?Xa(h):window,e){case"focusin":(Vp(q)||q.contentEditable==="true")&&(Es=q,Of=h,ro=null);break;case"focusout":ro=Of=Es=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Bp(g,n,d);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Bp(g,n,d)}var T;if(nm)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Ts?r0(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(i0&&n.locale!=="ko"&&(Ts||y!=="onCompositionStart"?y==="onCompositionEnd"&&Ts&&(T=n0()):(Bi=d,tm="value"in Bi?Bi.value:Bi.textContent,Ts=!0)),q=nc(h,y),0<q.length&&(y=new xp(y,e,null,n,d),g.push({event:y,listeners:q}),T?y.data=T:(T=s0(n),T!==null&&(y.data=T)))),(T=kS?VS(e,n):PS(e,n))&&(y=nc(h,"onBeforeInput"),0<y.length&&(q=new xp("onBeforeInput","beforeinput",null,n,d),g.push({event:q,listeners:y}),q.data=T)),Rw(g,e,h,n,d)}WT(g,t)})}function xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=So(e,n),r!=null&&i.unshift(xo(e,r,s)),r=So(e,t),r!=null&&i.push(xo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sy(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=So(n,s),h!=null&&a.unshift(xo(n,h,u))):r||(h=So(n,s),h!=null&&a.push(xo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Nw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function wy(e){return(typeof e=="string"?e:""+e).replace(Nw,`
`).replace(xw,"")}function tE(e,t){return t=wy(t),wy(e)===t}function Gc(){}function Dt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Hs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Hs(e,""+i);break;case"className":Ql(e,"class",i);break;case"tabIndex":Ql(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(e,n,i);break;case"style":t0(e,i,s);break;case"data":if(t!=="object"){Ql(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Dt(e,t,"name",r.name,r,null),Dt(e,t,"formEncType",r.formEncType,r,null),Dt(e,t,"formMethod",r.formMethod,r,null),Dt(e,t,"formTarget",r.formTarget,r,null)):(Dt(e,t,"encType",r.encType,r,null),Dt(e,t,"method",r.method,r,null),Dt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=hu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Gc);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=hu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ht("beforetoggle",e),ht("toggle",e),cu(e,"popover",i);break;case"xlinkActuate":Gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":cu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oS.get(n)||n,cu(e,n,i))}}function rd(e,t,n,i,r,s){switch(n){case"style":t0(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Hs(e,i):(typeof i=="number"||typeof i=="bigint")&&Hs(e,""+i);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[He]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):cu(e,n,i)}}}function Te(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Dt(e,t,s,a,n,null)}}r&&Dt(e,t,"srcSet",n.srcSet,n,null),i&&Dt(e,t,"src",n.src,n,null);return;case"input":ht("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:Dt(e,t,i,d,n,null)}}Zv(e,s,l,u,h,a,r,!1),Lu(e);return;case"select":ht("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Dt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Ns(e,!!i,t,!1):n!=null&&Ns(e,!!i,n,!0);return;case"textarea":ht("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Dt(e,t,a,l,n,null)}Jv(e,i,r,s),Lu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Dt(e,t,u,i,n,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(i=0;i<No.length;i++)ht(No[i],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Dt(e,t,h,i,n,null)}return;default:if(Wd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&rd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Dt(e,t,l,i,n,null))}function Ow(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Dt(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==g&&Dt(e,t,m,_,i,g)}}Cf(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Dt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Dt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?Ns(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ns(e,!!n,t,!0):Ns(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Dt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&Dt(e,t,a,r,i,s)}Wv(e,m,_);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Dt(e,t,x,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Dt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Dt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:Dt(e,t,h,m,i,_)}return;default:if(Wd(t)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&rd(e,t,k,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||rd(e,t,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&Dt(e,t,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Dt(e,t,g,m,i,_)}var sd=null,ad=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=null;function Mw(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var nE=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(Pw)}:nE;function Pw(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function Cy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&po(a.documentElement),n&2&&po(a.body),n&4)for(n=a.head,po(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Xo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),Po(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Po(t)}function ld(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ld(n),Zd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Xo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function Uw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function jw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var cd=null;function Dy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function iE(e,t,n){switch(t=ic(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function po(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zd(e)}var mn=new Map,Ny=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _i=At.d;At.d={f:zw,r:Bw,D:qw,C:Hw,L:Fw,m:Gw,X:Yw,S:Qw,M:Kw};function zw(){var e=_i.f(),t=qc();return e||t}function Bw(e){var t=ua(e);t!==null&&t.tag===5&&t.type==="form"?$0(t):_i.r(e)}var fa=typeof document>"u"?null:document;function rE(e,t,n){var i=fa;if(i&&typeof t=="string"&&t){var r=ln(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ny.has(r)||(Ny.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Te(t,"link",e),fe(t),i.head.appendChild(t)))}}function qw(e){_i.D(e),rE("dns-prefetch",e,null)}function Hw(e,t){_i.C(e,t),rE("preconnect",e,t)}function Fw(e,t,n){_i.L(e,t,n);var i=fa;if(i&&e&&t){var r='link[rel="preload"][as="'+ln(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ln(n.imageSizes)+'"]')):r+='[href="'+ln(e)+'"]';var s=r;switch(t){case"style":s=Zs(e);break;case"script":s=da(e)}mn.has(s)||(e=Lt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),mn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(sl(s))||t==="script"&&i.querySelector(al(s))||(t=i.createElement("link"),Te(t,"link",e),fe(t),i.head.appendChild(t)))}}function Gw(e,t){_i.m(e,t);var n=fa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ln(i)+'"][href="'+ln(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=da(e)}if(!mn.has(s)&&(e=Lt({rel:"modulepreload",href:e},t),mn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(al(s)))return}i=n.createElement("link"),Te(i,"link",e),fe(i),n.head.appendChild(i)}}}function Qw(e,t,n){_i.S(e,t,n);var i=fa;if(i&&e){var r=Ds(i).hoistableStyles,s=Zs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(sl(s)))l.loading=5;else{e=Lt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=mn.get(s))&&km(e,n);var u=a=i.createElement("link");fe(u),Te(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function Yw(e,t){_i.X(e,t);var n=fa;if(n&&e){var i=Ds(n).hoistableScripts,r=da(e),s=i.get(r);s||(s=n.querySelector(al(r)),s||(e=Lt({src:e,async:!0},t),(t=mn.get(r))&&Vm(e,t),s=n.createElement("script"),fe(s),Te(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Kw(e,t){_i.M(e,t);var n=fa;if(n&&e){var i=Ds(n).hoistableScripts,r=da(e),s=i.get(r);s||(s=n.querySelector(al(r)),s||(e=Lt({src:e,async:!0,type:"module"},t),(t=mn.get(r))&&Vm(e,t),s=n.createElement("script"),fe(s),Te(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function xy(e,t,n,i){var r=(r=Gi.current)?rc(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zs(n.href),n=Ds(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zs(n.href);var s=Ds(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(sl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(e,n),s||Xw(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=da(n),n=Ds(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function Zs(e){return'href="'+ln(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function sE(e){return Lt({},e,{"data-precedence":e.precedence,precedence:null})}function Xw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Te(t,"link",n),fe(t),e.head.appendChild(t))}function da(e){return'[src="'+ln(e)+'"]'}function al(e){return"script[async]"+e}function Oy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ln(n.href)+'"]');if(i)return t.instance=i,fe(i),i;var r=Lt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),fe(i),Te(i,"style",r),Tu(i,n.precedence,e),t.instance=i;case"stylesheet":r=Zs(n.href);var s=e.querySelector(sl(r));if(s)return t.state.loading|=4,t.instance=s,fe(s),s;i=sE(n),(r=mn.get(r))&&km(i,r),s=(e.ownerDocument||e).createElement("link"),fe(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Te(s,"link",i),t.state.loading|=4,Tu(s,n.precedence,e),t.instance=s;case"script":return s=da(n.src),(r=e.querySelector(al(s)))?(t.instance=r,fe(r),r):(i=n,(r=mn.get(s))&&(i=Lt({},n),Vm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),fe(r),Te(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Tu(i,n.precedence,e));return t.instance}function Tu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function km(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eu=null;function My(e,t,n){if(Eu===null){var i=new Map,r=Eu=new Map;r.set(n,i)}else r=Eu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Xo]||s[De]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function ky(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $w(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function aE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Oo=null;function Zw(){}function Ww(e,t,n){if(Oo===null)throw Error(P(475));var i=Oo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Zs(n.href),s=e.querySelector(sl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=sc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,fe(s);return}s=e.ownerDocument||e,n=sE(n),(r=mn.get(r))&&km(n,r),s=s.createElement("link"),fe(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Te(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=sc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Jw(){if(Oo===null)throw Error(P(475));var e=Oo;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function sc(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function hd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,t.forEach(t2,e),ac=null,sc.call(e))}function t2(e,t){if(!(t.state.loading&4)){var n=ac.get(e);if(n)var i=n.get(null);else{n=new Map,ac.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=sc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Mo={$$typeof:Zn,Provider:null,Consumer:null,_currentValue:Ir,_currentValue2:Ir,_threadCount:0};function e2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ih(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.hiddenUpdates=Ih(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function oE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new e2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=Ze(3,null,null,t),e.current=s,s.stateNode=e,t=um(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},hm(s),e}function lE(e){return e?(e=Ss,e):Ss}function uE(e,t,n,i,r,s){r=lE(r),i.context===null?i.context=r:i.pendingContext=r,i=Qi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Yi(e,i,t),n!==null&&(en(n,e,t),oo(n,e,t))}function Vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pm(e,t){Vy(e,t),(e=e.alternate)&&Vy(e,t)}function cE(e){if(e.tag===13){var t=ca(e,67108864);t!==null&&en(t,e,67108864),Pm(e,67108864)}}var oc=!0;function n2(e,t,n,i){var r=J.T;J.T=null;var s=At.p;try{At.p=2,Lm(e,t,n,i)}finally{At.p=s,J.T=r}}function i2(e,t,n,i){var r=J.T;J.T=null;var s=At.p;try{At.p=8,Lm(e,t,n,i)}finally{At.p=s,J.T=r}}function Lm(e,t,n,i){if(oc){var r=fd(i);if(r===null)sf(e,t,i,lc,n),Py(e,i);else if(s2(r,e,t,n,i))i.stopPropagation();else if(Py(e,i),t&4&&-1<r2.indexOf(e)){for(;r!==null;){var s=ua(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ar(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Je(a);l.entanglements[1]|=u,a&=~u}Bn(s),!(Rt&6)&&(Wu=On()+500,rl(0))}}break;case 13:l=ca(s,2),l!==null&&en(l,s,2),qc(),Pm(s,2)}if(s=fd(i),s===null&&sf(e,t,i,lc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else sf(e,t,i,null,n)}}function fd(e){return e=Jd(e),Um(e)}var lc=null;function Um(e){if(lc=null,e=_s(e),e!==null){var t=Go(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Vv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lc=e,null}function hE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hb()){case jv:return 2;case zv:return 8;case Pu:case Fb:return 32;case Bv:return 268435456;default:return 32}default:return 32}}var dd=!1,$i=null,Zi=null,Wi=null,ko=new Map,Vo=new Map,Vi=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(e,t){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(t.pointerId)}}function Ga(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ua(t),t!==null&&cE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function s2(e,t,n,i,r){switch(t){case"focusin":return $i=Ga($i,e,t,n,i,r),!0;case"dragenter":return Zi=Ga(Zi,e,t,n,i,r),!0;case"mouseover":return Wi=Ga(Wi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return ko.set(s,Ga(ko.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Vo.set(s,Ga(Vo.get(s)||null,e,t,n,i,r)),!0}return!1}function fE(e){var t=_s(e.target);if(t!==null){var n=Go(t);if(n!==null){if(t=n.tag,t===13){if(t=Vv(n),t!==null){e.blockedOn=t,Wb(e.priority,function(){if(n.tag===13){var i=tn();i=Xd(i);var r=ca(n,i);r!==null&&en(r,n,i),Pm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Nf=i,n.target.dispatchEvent(i),Nf=null}else return t=ua(n),t!==null&&cE(t),e.blockedOn=n,!1;t.shift()}return!0}function Ly(e,t,n){Au(e)&&n.delete(t)}function a2(){dd=!1,$i!==null&&Au($i)&&($i=null),Zi!==null&&Au(Zi)&&(Zi=null),Wi!==null&&Au(Wi)&&(Wi=null),ko.forEach(Ly),Vo.forEach(Ly)}function tu(e,t){e.blockedOn===t&&(e.blockedOn=null,dd||(dd=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,a2)))}var eu=null;function Uy(e){eu!==e&&(eu=e,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,function(){eu===e&&(eu=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Um(i||n)===null)continue;break}var s=ua(n);s!==null&&(e.splice(t,3),t-=3,Qf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Po(e){function t(u){return tu(u,e)}$i!==null&&tu($i,e),Zi!==null&&tu(Zi,e),Wi!==null&&tu(Wi,e),ko.forEach(t),Vo.forEach(t);for(var n=0;n<Vi.length;n++){var i=Vi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)fE(n),n.blockedOn===null&&Vi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[He]||null;if(typeof s=="function")a||Uy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[He]||null)l=a.formAction;else if(Um(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Uy(n)}}}function jm(e){this._internalRoot=e}Qc.prototype.render=jm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=tn();uE(n,i,e,t,null,null)};Qc.prototype.unmount=jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uE(e.current,2,null,e,null,null),qc(),t[la]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vi.length&&t!==0&&t<Vi[n].priority;n++);Vi.splice(n,0,e),n===0&&fE(e)}};var jy=Mv.version;if(jy!=="19.1.0")throw Error(P(527,jy,"19.1.0"));At.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Pb(t),e=e!==null?Pv(e):null,e=e===null?null:e.stateNode,e};var o2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Qo=nu.inject(o2),We=nu}catch{}}Nc.createRoot=function(e,t){if(!kv(e))throw Error(P(299));var n=!1,i="",r=oT,s=lT,a=uT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=oE(e,1,!1,null,null,n,i,r,s,a,l,null),e[la]=t.current,Mm(e),new jm(t)};Nc.hydrateRoot=function(e,t,n){if(!kv(e))throw Error(P(299));var i=!1,r="",s=oT,a=lT,l=uT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=oE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=lE(null),n=t.current,i=tn(),i=Xd(i),r=Qi(i),r.callback=null,Yi(n,r,i),n=i,t.current.lanes=n,Ko(t,n),Bn(t),e[la]=t.current,Mm(e),new Qc(t)};Nc.version="19.1.0";function dE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dE)}catch(e){console.error(e)}}dE(),Iv.exports=Nc;var l2=Iv.exports;const u2=pv(l2),c2=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},h2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):h2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new f2;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d2=function(e){const t=mE(e);return gE.encodeByteArray(t,!0)},uc=function(e){return d2(e).replace(/\./g,"")},pE=function(e){try{return gE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=()=>m2().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof zy>"u")return;const e=zy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},y2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pE(e[1]);return t&&JSON.parse(t)},Yc=()=>{try{return c2()||g2()||p2()||y2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},yE=e=>{var t,n;return(n=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},_2=e=>{const t=yE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},_E=()=>{var e;return(e=Yc())===null||e===void 0?void 0:e.config},vE=e=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e){return e.endsWith(".cloudworkstations.dev")}async function TE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[uc(JSON.stringify(n)),uc(JSON.stringify(a)),""].join(".")}const yo={};function E2(){const e={prod:[],emulator:[]};for(const t of Object.keys(yo))yo[t]?e.emulator.push(t):e.prod.push(t);return e}function A2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let By=!1;function EE(e,t){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||yo[e]===t||yo[e]||By)return;yo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=E2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{By=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=A2(i),_=n("text"),x=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;l(R),d(k,M);const N=h();u(v,S),R.append(v,x,k,N),document.body.appendChild(R)}s?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function S2(){var e;const t=(e=Yc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){const e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="FirebaseError";class vi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=O2,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?M2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new vi(r,l,i)}}function M2(e,t){return e.replace(k2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const k2=/\{\$([^}]+)}/g;function V2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ur(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(qy(s)&&qy(a)){if(!Ur(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function qy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function P2(e,t){const n=new L2(e,t);return n.subscribe.bind(n)}class L2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");U2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=of),r.error===void 0&&(r.error=of),r.complete===void 0&&(r.complete=of);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e){return e&&e._delegate?e._delegate:e}class jr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new v2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B2(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z2(e){return e===wr?void 0:e}function B2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const H2={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},F2=dt.INFO,G2={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},Q2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=G2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=F2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const Y2=(e,t)=>t.some(n=>e instanceof n);let Hy,Fy;function K2(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,md=new WeakMap,bE=new WeakMap,lf=new WeakMap,Bm=new WeakMap;function $2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ji(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&AE.set(n,e)}).catch(()=>{}),Bm.set(t,e),t}function Z2(e){if(md.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});md.set(e,t)}let gd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return md.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function W2(e){gd=e(gd)}function J2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(uf(this),t,...n);return bE.set(i,t.sort?t.sort():[t]),Ji(i)}:X2().includes(e)?function(...t){return e.apply(uf(this),t),Ji(AE.get(this))}:function(...t){return Ji(e.apply(uf(this),t))}}function tR(e){return typeof e=="function"?J2(e):(e instanceof IDBTransaction&&Z2(e),Y2(e,K2())?new Proxy(e,gd):e)}function Ji(e){if(e instanceof IDBRequest)return $2(e);if(lf.has(e))return lf.get(e);const t=tR(e);return t!==e&&(lf.set(e,t),Bm.set(t,e)),t}const uf=e=>Bm.get(e);function eR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ji(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ji(a.result),u.oldVersion,u.newVersion,Ji(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],cf=new Map;function Gy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cf.get(t))return cf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=iR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return cf.set(t,s),s}W2(e=>({...e,get:(t,n,i)=>Gy(t,n)||e.get(t,n,i),has:(t,n)=>!!Gy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pd="@firebase/app",Qy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new zm("@firebase/app"),aR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",dR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",pR="@firebase/functions",yR="@firebase/functions-compat",_R="@firebase/installations",vR="@firebase/installations-compat",TR="@firebase/messaging",ER="@firebase/messaging-compat",AR="@firebase/performance",bR="@firebase/performance-compat",SR="@firebase/remote-config",wR="@firebase/remote-config-compat",RR="@firebase/storage",IR="@firebase/storage-compat",CR="@firebase/firestore",DR="@firebase/ai",NR="@firebase/firestore-compat",xR="firebase",OR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",MR={[pd]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[dR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[pR]:"fire-fn",[yR]:"fire-fn-compat",[_R]:"fire-iid",[vR]:"fire-iid-compat",[TR]:"fire-fcm",[ER]:"fire-fcm-compat",[AR]:"fire-perf",[bR]:"fire-perf-compat",[SR]:"fire-rc",[wR]:"fire-rc-compat",[RR]:"fire-gcs",[IR]:"fire-gcs-compat",[CR]:"fire-fst",[NR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[xR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,kR=new Map,_d=new Map;function Yy(e,t){try{e.container.addComponent(t)}catch(n){fi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ws(e){const t=e.name;if(_d.has(t))return fi.debug(`There were multiple attempts to register component ${t}.`),!1;_d.set(t,e);for(const n of cc.values())Yy(n,e);for(const n of kR.values())Yy(n,e);return!0}function qm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new ol("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=OR;function SE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:yd,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw tr.create("bad-app-name",{appName:String(r)});if(n||(n=_E()),!n)throw tr.create("no-options");const s=cc.get(r);if(s){if(Ur(n,s.options)&&Ur(i,s.config))return s;throw tr.create("duplicate-app",{appName:r})}const a=new q2(r);for(const u of _d.values())a.addComponent(u);const l=new PR(n,i,a);return cc.set(r,l),l}function wE(e=yd){const t=cc.get(e);if(!t&&e===yd&&_E())return SE();if(!t)throw tr.create("no-app",{appName:e});return t}function er(e,t,n){var i;let r=(i=MR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fi.warn(l.join(" "));return}Ws(new jr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",UR=1,Lo="firebase-heartbeat-store";let hf=null;function RE(){return hf||(hf=eR(LR,UR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(e=>{throw tr.create("idb-open",{originalErrorMessage:e.message})})),hf}async function jR(e){try{const n=(await RE()).transaction(Lo),i=await n.objectStore(Lo).get(IE(e));return await n.done,i}catch(t){if(t instanceof vi)fi.warn(t.message);else{const n=tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fi.warn(n.message)}}}async function Ky(e,t){try{const i=(await RE()).transaction(Lo,"readwrite");await i.objectStore(Lo).put(t,IE(e)),await i.done}catch(n){if(n instanceof vi)fi.warn(n.message);else{const i=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(i.message)}}}function IE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,BR=30;class qR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>BR){const a=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xy(),{heartbeatsToSend:i,unsentEntries:r}=HR(this._heartbeatsCache.heartbeats),s=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fi.warn(n),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function HR(e,t=zR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),$y(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$y(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?x2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $y(e){return uc(JSON.stringify({version:2,heartbeats:e})).length}function GR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e){Ws(new jr("platform-logger",t=>new rR(t),"PRIVATE")),Ws(new jr("heartbeat",t=>new qR(t),"PRIVATE")),er(pd,Qy,e),er(pd,Qy,"esm2017"),er("fire-js","")}QR("");var YR="firebase",KR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(YR,KR,"app");function Hm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function CE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XR=CE,DE=new ol("auth","Firebase",CE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new zm("@firebase/auth");function $R(e,...t){hc.logLevel<=dt.WARN&&hc.warn(`Auth (${ga}): ${e}`,...t)}function bu(e,...t){hc.logLevel<=dt.ERROR&&hc.error(`Auth (${ga}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e,...t){throw Fm(e,...t)}function kn(e,...t){return Fm(e,...t)}function NE(e,t,n){const i=Object.assign(Object.assign({},XR()),{[t]:n});return new ol("auth","Firebase",i).create(t,{appName:e.name})}function ai(e){return NE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return DE.create(e,...t)}function nt(e,t,...n){if(!e)throw Fm(t,...n)}function ni(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bu(t),new Error(t)}function mi(e,t){e||ni(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ZR(){return Zy()==="http:"||Zy()==="https:"}function Zy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||R2()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n){this.shortDelay=t,this.longDelay=n,mi(n>t,"Short delay should be less than long delay!"),this.isMobile=b2()||I2()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e,t){mi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new ul(3e4,6e4);function cl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function pa(e,t,n,i,r={}){return OE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=ll(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return w2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&ma(e.emulatorConfig.host)&&(h.credentials="include"),xE.fetch()(await ME(e,e.config.apiHost,n,l),h)})}async function OE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},tI),t);try{const r=new iI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw iu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw iu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw iu(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw NE(e,d,h);di(e,d)}}catch(r){if(r instanceof vi)throw r;di(e,"network-request-failed",{message:String(r)})}}async function Qm(e,t,n,i,r={}){const s=await pa(e,t,n,i,r);return"mfaPendingCredential"in s&&di(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ME(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Gm(e.config,r):`${e.config.apiScheme}://${r}`;return eI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class iI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(kn(this.auth,"network-request-failed")),nI.get())})}}function iu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=kn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(e,t){return pa(e,"POST","/v1/accounts:delete",t)}async function fc(e,t){return pa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sI(e,t=!1){const n=Fe(e),i=await n.getIdToken(t),r=Ym(i);nt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:_o(ff(r.auth_time)),issuedAtTime:_o(ff(r.iat)),expirationTime:_o(ff(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(e){return Number(e)*1e3}function Ym(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return bu("JWT malformed, contained fewer than 3 sections"),null;try{const r=pE(n);return r?JSON.parse(r):(bu("Failed to decode base64 JWT payload"),null)}catch(r){return bu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Wy(e){const t=Ym(e);return nt(t,"internal-error"),nt(typeof t.exp<"u","internal-error"),nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof vi&&aI(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function aI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Uo(e,fc(n,{idToken:i}));nt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?kE(s.providerUserInfo):[],l=uI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Td(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function lI(e){const t=Fe(e);await dc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function kE(e){return e.map(t=>{var{providerId:n}=t,i=Hm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(e,t){const n=await OE(e,{},async()=>{const i=ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await ME(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&ma(e.emulatorConfig.host)&&(u.credentials="include"),xE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hI(e,t){return pa(e,"POST","/v2/accounts:revokeToken",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nt(t.idToken,"internal-error"),nt(typeof t.idToken<"u","internal-error"),nt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){nt(t.length!==0,"internal-error");const n=Wy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await cI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ls;return i&&(nt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(nt(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(nt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ls,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(e,t){nt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _n{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Hm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Td(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,t));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sI(this,t)}reload(){return lI(this)}_assign(t){this!==t&&(nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(ai(this.auth));const t=await this.getIdToken();return await Uo(this,rI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:N,isAnonymous:U,providerData:q,stsTokenManager:T}=n;nt(R&&T,t,"internal-error");const y=Ls.fromJSON(this.name,T);nt(typeof R=="string",t,"internal-error"),Ci(g,t.name),Ci(m,t.name),nt(typeof N=="boolean",t,"internal-error"),nt(typeof U=="boolean",t,"internal-error"),Ci(_,t.name),Ci(x,t.name),Ci(M,t.name),Ci(k,t.name),Ci(S,t.name),Ci(v,t.name);const E=new _n({uid:R,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:S,lastLoginAt:v});return q&&Array.isArray(q)&&(E.providerData=q.map(b=>Object.assign({},b))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ls;r.updateFromServerResponse(n);const s=new _n({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await dc(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];nt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?kE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ls;l.updateFromIdToken(i);const u=new _n({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Td(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;function ii(e){mi(e instanceof Function,"Expected a class definition");let t=Jy.get(e);return t?(mi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}VE.type="NONE";const t_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e,t,n){return`firebase:${e}:${t}:${n}`}class Us{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Su(this.userKey,r.apiKey,s),this.fullPersistenceKey=Su("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fc(this.auth,{idToken:t}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,t):null}return _n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Us(ii(t_),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||ii(t_);const a=Su(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await fc(t,{idToken:d}).catch(()=>{});if(!m)break;g=await _n._fromGetAccountInfoResponse(t,m,d)}else g=_n._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Us(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Us(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BE(t))return"Blackberry";if(qE(t))return"Webos";if(LE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(zE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PE(e=xe()){return/firefox\//i.test(e)}function LE(e=xe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(e=xe()){return/crios\//i.test(e)}function jE(e=xe()){return/iemobile/i.test(e)}function zE(e=xe()){return/android/i.test(e)}function BE(e=xe()){return/blackberry/i.test(e)}function qE(e=xe()){return/webos/i.test(e)}function Km(e=xe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fI(e=xe()){var t;return Km(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function dI(){return C2()&&document.documentMode===10}function HE(e=xe()){return Km(e)||zE(e)||qE(e)||BE(e)||/windows phone/i.test(e)||jE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e,t=[]){let n;switch(e){case"Browser":n=e_(xe());break;case"Worker":n=`${e_(xe())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(e,t={}){return pa(e,"GET","/v2/passwordPolicy",cl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class yI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Us.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fc(this,{idToken:t}),i=await _n._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(ai(this));const n=t?Fe(t):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gI(this),n=new yI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ol("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ii(t)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await Us.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&$R(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hl(e){return Fe(e)}class n_{constructor(t){this.auth=t,this.observer=null,this.addObserver=P2(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vI(e){Xm=e}function TI(e){return Xm.loadJS(e)}function EI(){return Xm.gapiScript}function AI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e,t){const n=qm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ur(s,t??{}))return r;di(r,"already-initialized")}return n.initialize({options:t})}function SI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ii);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function wI(e,t,n){const i=hl(e);nt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=GE(t),{host:a,port:l}=RI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){nt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),nt(Ur(h,i.config.emulator)&&Ur(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,ma(a)?(TE(`${s}//${a}${u}`),EE("Auth",!0)):II()}function GE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RI(e){const t=GE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:i_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:i_(a)}}}function i_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function II(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(t){return ni("not implemented")}_linkToIdToken(t,n){return ni("not implemented")}_getReauthenticationResolver(t){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(e,t){return Qm(e,"POST","/v1/accounts:signInWithIdp",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class zr extends QE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Hm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new zr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return js(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,js(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,js(t,n)}buildRequest(){const t={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ll(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends fl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zr._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Li.credential(n,i)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends fl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ui.credential(t.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends fl{constructor(){super("twitter.com")}static credential(t,n){return zr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ji.credential(n,i)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e,t){return Qm(e,"POST","/v1/accounts:signUp",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await _n._fromIdTokenResponse(t,i,r),a=r_(i);return new gi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=r_(i);return new gi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function r_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(e){var t;if(cn(e.app))return Promise.reject(ai(e));const n=hl(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new gi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await DI(n,{returnSecureToken:!0}),r=await gi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends vi{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new mc(t,n,i,r)}}function KE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(e,s,t,i):s})}async function xI(e,t,n=!1){const i=await Uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(ai(i));const r="reauthenticate";try{const s=await Uo(e,KE(i,r,t,e),n);nt(s.idToken,i,"internal-error");const a=Ym(s.idToken);nt(a,i,"internal-error");const{sub:l}=a;return nt(e.uid===l,i,"user-mismatch"),gi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t,n=!1){if(cn(e.app))return Promise.reject(ai(e));const i="signIn",r=await KE(e,i,t),s=await gi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(e,t){return Qm(e,"POST","/v1/accounts:signInWithCustomToken",cl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(e,t){if(cn(e.app))return Promise.reject(ai(e));const n=hl(e),i=await kI(n,{token:t,returnSecureToken:!0}),r=await gi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function PI(e,t,n,i){return Fe(e).onIdTokenChanged(t,n,i)}function LI(e,t,n){return Fe(e).beforeAuthStateChanged(t,n)}function UI(e,t,n,i){return Fe(e).onAuthStateChanged(t,n,i)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,zI=10;class $E extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);dI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,zI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$E.type="LOCAL";const BI=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ZE.type="SESSION";const WE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Kc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await qI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=$m("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function FI(e){Vn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function YI(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",KI=1,pc="firebaseLocalStorage",e1="fbase_key";class dl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(e,t){return e.transaction([pc],t?"readwrite":"readonly").objectStore(pc)}function XI(){const e=indexedDB.deleteDatabase(t1);return new dl(e).toPromise()}function Ed(){const e=indexedDB.open(t1,KI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(pc,{keyPath:e1})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(pc)?t(i):(i.close(),await XI(),t(await Ed()))})})}async function s_(e,t,n){const i=Xc(e,!0).put({[e1]:t,value:n});return new dl(i).toPromise()}async function $I(e,t){const n=Xc(e,!1).get(t),i=await new dl(n).toPromise();return i===void 0?null:i.value}function a_(e,t){const n=Xc(e,!0).delete(t);return new dl(n).toPromise()}const ZI=800,WI=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ed(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>WI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(YI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ed();return await s_(t,gc,"1"),await a_(t,gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>s_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>$I(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>a_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Xc(r,!1).getAll();return new dl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const JI=n1;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e,t){return t?ii(t):(nt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends QE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return js(t,this._buildIdpRequest())}_linkToIdToken(t,n){return js(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return js(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eC(e){return MI(e.auth,new Zm(e),e.bypassAuthState)}function nC(e){const{auth:t,user:n}=e;return nt(n,t,"internal-error"),OI(n,new Zm(e),e.bypassAuthState)}async function iC(e){const{auth:t,user:n}=e;return nt(n,t,"internal-error"),xI(n,new Zm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return nC;default:di(this.auth,"internal-error")}}resolve(t){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new ul(2e3,1e4);class Cs extends i1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nt(t,this.auth,"internal-error"),t}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rC.get())};t()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="pendingRedirect",wu=new Map;class aC extends i1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=wu.get(this.auth._key());if(!t){try{const i=await oC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}wu.set(this.auth._key(),t)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(e,t){const n=cC(t),i=uC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function lC(e,t){wu.set(e._key(),t)}function uC(e){return ii(e._redirectPersistence)}function cC(e){return Su(sC,e.config.apiKey,e.name)}async function hC(e,t,n=!1){if(cn(e.app))return Promise.reject(ai(e));const i=hl(e),r=tC(i,t),a=await new aC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=10*60*1e3;class dC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!r1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(t))}saveEventToCache(t){this.cachedEventUids.add(o_(t)),this.lastProcessedEventTime=Date.now()}}function o_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function r1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(e,t={}){return pa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function _C(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gC(e);for(const n of t)try{if(vC(n))return}catch{}di(e,"unauthorized-domain")}function vC(e){const t=vd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!yC.test(n))return!1;if(pC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new ul(3e4,6e4);function l_(){const e=Vn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function EC(e){return new Promise((t,n)=>{var i,r,s;function a(){l_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{l_(),n(kn(e,"network-request-failed"))},timeout:TC.get()})}if(!((r=(i=Vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)a();else{const l=AI("iframefcb");return Vn()[l]=()=>{gapi.load?a():n(kn(e,"network-request-failed"))},TI(`${EI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Ru=null,t})}let Ru=null;function AC(e){return Ru=Ru||EC(e),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new ul(5e3,15e3),SC="__/auth/iframe",wC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(e){const t=e.config;nt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gm(t,wC):`https://${e.config.authDomain}/${SC}`,i={apiKey:t.apiKey,appName:e.name,v:ga},r=IC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ll(i).slice(1)}`}async function DC(e){const t=await AC(e),n=Vn().gapi;return nt(n,e,"internal-error"),t.open({where:document.body,url:CC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=kn(e,"network-request-failed"),l=Vn().setTimeout(()=>{s(a)},bC.get());function u(){Vn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,OC=600,MC="_blank",kC="http://localhost";class u_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(e,t,n,i=xC,r=OC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},NC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=xe().toLowerCase();n&&(l=UE(h)?MC:n),PE(h)&&(t=t||kC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,x])=>`${m}${_}=${x},`,"");if(fI(h)&&l!=="_self")return PC(t||"",l),new u_(null);const g=window.open(t||"",l,d);nt(g,e,"popup-blocked");try{g.focus()}catch{}return new u_(g)}function PC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",UC="emulator/auth/handler",jC=encodeURIComponent("fac");async function c_(e,t,n,i,r,s){nt(e.config.authDomain,e,"auth-domain-config-required"),nt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ga,eventId:r};if(t instanceof YE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",V2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof fl){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${jC}=${encodeURIComponent(u)}`:"";return`${zC(e)}?${ll(l).slice(1)}${h}`}function zC({config:e}){return e.emulator?Gm(e,UC):`https://${e.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=hC,this._overrideRedirectResult=lC}async _openPopup(t,n,i,r){var s;mi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await c_(t,n,i,vd(),r);return VC(t,a,$m())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await c_(t,n,i,vd(),r);return FI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(mi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await DC(t),i=new dC(t);return n.register("authEvent",r=>(nt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(df,{type:df},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[df];a!==void 0&&n(!!a),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return HE()||LE()||Km()}}const qC=BC;var h_="@firebase/auth",f_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(e){Ws(new jr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;nt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FE(e)},h=new _I(i,r,s,u);return SI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ws(new jr("auth-internal",t=>{const n=hl(t.getProvider("auth").getImmediate());return(i=>new HC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(h_,f_,FC(e)),er(h_,f_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=5*60,YC=vE("authIdTokenMaxAge")||QC;let d_=null;const KC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YC)return;const r=n==null?void 0:n.token;d_!==r&&(d_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function XC(e=wE()){const t=qm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=bI(e,{popupRedirectResolver:qC,persistence:[JI,BI,WE]}),i=vE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=KC(s.toString());LI(n,a,()=>a(n.currentUser)),PI(n,l=>a(l))}}const r=yE("auth");return r&&wI(n,`http://${r}`),n}function $C(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}vI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",$C().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,s1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(b,I,C){for(var w=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)w[Ae-2]=arguments[Ae];return y.prototype[I].apply(b,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var b=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)b[I]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(I=0;16>I;++I)b[I]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],I=T.g[2];var C=T.g[3],w=y+(C^E&(I^C))+b[0]+3614090360&4294967295;y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[1]+3905402710&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[3]+3250441966&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[4]+4118548399&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[5]+1200080426&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[7]+4249261313&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[8]+1770035416&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[9]+2336552879&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[11]+2304563134&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+b[12]+1804603682&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+b[13]+4254626195&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+b[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+b[15]+1236535329&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(I^C&(E^I))+b[1]+4129170786&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[6]+3225465664&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[0]+3921069994&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[5]+3593408605&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[10]+38016083&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[4]+3889429448&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[9]+568446438&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[14]+3275163606&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[8]+1163531501&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+b[13]+2850285829&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+b[2]+4243563512&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+b[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+b[12]+2368359562&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(E^I^C)+b[5]+4294588738&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[8]+2272392833&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[14]+4259657740&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[1]+2763975236&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[4]+1272893353&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[10]+3200236656&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[13]+681279174&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[0]+3936430074&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[6]+76029189&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+b[9]+3654602809&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+b[12]+3873151461&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+b[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+b[2]+3299628645&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(I^(E|~C))+b[0]+4096336452&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[7]+1126891415&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[5]+4237533241&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[12]+1700485571&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[3]+2399980690&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[1]+2240044497&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[8]+1873313359&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[15]+4264355552&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[13]+1309151649&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+b[4]+4149444226&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+b[11]+3174756917&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+b[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,b=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=E;)r(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(b[I++]=T.charCodeAt(C++),I==this.blockSize){r(this,b),I=0;break}}else for(;C<y;)if(b[I++]=T[C++],I==this.blockSize){r(this,b),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var b=0;32>b;b+=8)T[E++]=this.g[y]>>>b&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],b=!0,I=T.length-1;0<=I;I--){var C=T[I]|0;b&&C==y||(E[I]=C,b=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(h(-T));for(var y=[],E=1,b=0;T>=E;b++)y[b]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return k(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),b=g,I=0;I<T.length;I+=8){var C=Math.min(8,T.length-I),w=parseInt(T.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),b=b.j(C).add(h(w))):(b=b.j(E),b=b.add(h(w)))}return b}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-k(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var b=this.i(E);T+=(0<=b?b:4294967296+b)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(M(this))return"-"+k(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,b="";;){var I=N(E,y).g;E=S(E,I.j(y));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=I,x(E))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=S(this,T),M(T)?-1:x(T)?0:1};function k(T){for(var y=T.g.length,E=[],b=0;b<y;b++)E[b]=~T.g[b];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?k(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0,I=0;I<=y;I++){var C=b+(this.i(I)&65535)+(T.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);b=w>>>16,C&=65535,w&=65535,E[I]=w<<16|C}return new a(E,E[E.length-1]&-2147483648?-1:0)};function S(T,y){return T.add(k(y))}e.j=function(T){if(x(this)||x(T))return g;if(M(this))return M(T)?k(this).j(k(T)):k(k(this).j(T));if(M(T))return k(this.j(k(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],b=0;b<2*y;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<T.g.length;I++){var C=this.i(b)>>>16,w=this.i(b)&65535,Ae=T.i(I)>>>16,Q=T.i(I)&65535;E[2*b+2*I]+=w*Q,v(E,2*b+2*I),E[2*b+2*I+1]+=C*Q,v(E,2*b+2*I+1),E[2*b+2*I+1]+=w*Ae,v(E,2*b+2*I+1),E[2*b+2*I+2]+=C*Ae,v(E,2*b+2*I+2)}for(b=0;b<y;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=y;b<2*y;b++)E[b]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function R(T,y){this.g=T,this.h=y}function N(T,y){if(x(y))throw Error("division by zero");if(x(T))return new R(g,g);if(M(T))return y=N(k(T),y),new R(k(y.g),k(y.h));if(M(y))return y=N(T,k(y)),new R(k(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,b=y;0>=b.l(T);)E=U(E),b=U(b);var I=q(E,1),C=q(b,1);for(b=q(b,2),E=q(E,2);!x(b);){var w=C.add(b);0>=w.l(T)&&(I=I.add(E),C=w),b=q(b,1),E=q(E,1)}return y=S(T,I.j(y)),new R(I,y)}for(I=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=h(E),w=C.j(y);M(w)||0<w.l(T);)E-=b,C=h(E),w=C.j(y);x(C)&&(C=m),I=I.add(C),T=S(T,w)}return new R(I,T)}e.A=function(T){return N(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)&T.i(b);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)|T.i(b);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],b=0;b<y;b++)E[b]=this.i(b)^T.i(b);return new a(E,this.h^T.h)};function U(T){for(var y=T.g.length+1,E=[],b=0;b<y;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new a(E,T.h)}function q(T,y){var E=y>>5;y%=32;for(var b=T.g.length-E,I=[],C=0;C<b;C++)I[C]=0<y?T.i(C+E)>>>y|T.i(C+E+1)<<32-y:T.i(C+E);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,s1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,nr=a}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,Za,o1,Iu,Ad,l1,u1,c1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var D=o[p];if(!(D in f))break t;f=f[D]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,D={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),o.apply(c,D)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,D,O){for(var B=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)B[xt-2]=arguments[xt];return c.prototype[D].apply(p,B)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const D=o.length||0,O=p.length||0;o.length=D+O;for(let B=0;B<O;B++)o[D+B]=p[B]}else o.push(p)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function q(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let f,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(f in p)o[f]=p[f];for(let O=0;O<E.length;O++)f=E[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function w(){var o=St;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Ae{constructor(){this.h=this.g=null}add(c,f){const p=Q.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Q=new S(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,tt=!1,St=new Ae,Ut=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(Ti)}};var Ti=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(f){C(f)}var c=Q;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}tt=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function jt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Le(o,c){if(jt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){t:{try{N(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Zr[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Le.aa.h.call(this)}}x(Le,jt);var Zr={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ch=0;function Wr(o,c,f,p,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=D,this.key=++ch,this.da=this.fa=!1}function Jr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function bn(o){this.src=o,this.g={},this.h=0}bn.prototype.add=function(o,c,f,p,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var B=Aa(o,c,p,D);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new Wr(c,this.src,O,!!p,D),c.fa=f,o.push(c)),c};function ts(o,c){var f=c.type;if(f in o.g){var p=o.g[f],D=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(p,D,1),O&&(Jr(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Aa(o,c,f,p){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return D}return-1}var es="closure_lm_"+(1e6*Math.random()|0),ba={};function Sa(o,c,f,p,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Sa(o,c[O],f,p,D);return null}return f=El(f),o&&o[Ue]?o.K(c,f,h(p)?!!p.capture:!1,D):hh(o,c,f,!1,p,D)}function hh(o,c,f,p,D,O){if(!c)throw Error("Invalid event type");var B=h(D)?!!D.capture:!!D,xt=ct(o);if(xt||(o[es]=xt=new bn(o)),f=xt.add(c,f,p,B,O),f.proxy)return f;if(p=wa(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Pe||(D=B),D===void 0&&(D=!1),o.addEventListener(c.toString(),p,D);else if(o.attachEvent)o.attachEvent(pr(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function wa(){function o(f){return c.call(o.src,o.listener,f)}const c=Tl;return o}function vl(o,c,f,p,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)vl(o,c[O],f,p,D);else p=h(p)?!!p.capture:!!p,f=El(f),o&&o[Ue]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Aa(O,f,p,D),-1<f&&(Jr(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=ct(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Aa(c,f,p,D)),(f=-1<o?c[o]:null)&&Ra(f))}function Ra(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Ue])ts(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(pr(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=ct(c))?(ts(f,o),f.h==0&&(f.src=null,c[es]=null)):Jr(o)}}}function pr(o){return o in ba?ba[o]:ba[o]="on"+o}function Tl(o,c){if(o.da)o=!0;else{c=new Le(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&Ra(o),o=f.call(p,c)}return o}function ct(o){return o=o[es],o instanceof bn?o:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function El(o){return typeof o=="function"?o:(o[Sn]||(o[Sn]=function(c){return o.handleEvent(c)}),o[Sn])}function le(){be.call(this),this.i=new bn(this),this.M=this,this.F=null}x(le,be),le.prototype[Ue]=!0,le.prototype.removeEventListener=function(o,c,f,p){vl(this,o,c,f,p)};function ue(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new jt(c,o);else if(c instanceof jt)c.target=c.target||o;else{var D=c;c=new jt(p,o),b(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var B=c.g=f[O];D=qn(B,p,!0,c)&&D}if(B=c.g=o,D=qn(B,p,!0,c)&&D,D=qn(B,p,!1,c)&&D,f)for(O=0;O<f.length;O++)B=c.g=f[O],D=qn(B,p,!1,c)&&D}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)Jr(f[p]);delete o.g[c],o.h--}}this.F=null},le.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},le.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function qn(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var B=c[O];if(B&&!B.da&&B.capture==f){var xt=B.listener,ge=B.ha||B.src;B.fa&&ts(o.i,B),D=xt.call(ge,p)!==!1&&D}}return D&&!p.defaultPrevented}function Al(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Ia(o){o.g=Al(()=>{o.g=null,o.i&&(o.i=!1,Ia(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class fh extends be{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(o){be.call(this),this.h=o,this.g={}}x(gn,be);var bl=[];function Sl(o){q(o.g,function(c,f){this.g.hasOwnProperty(f)&&Ra(c)},o),o.g={}}gn.prototype.N=function(){gn.aa.N.call(this),Sl(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ca=l.JSON.stringify,wl=l.JSON.parse,Rl=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ns(){}ns.prototype.h=null;function Il(o){return o.h||(o.h=o.i())}function Cl(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function z(){jt.call(this,"d")}x(z,jt);function F(){jt.call(this,"c")}x(F,jt);var K={},at=null;function $(){return at=at||new le}K.La="serverreachability";function yt(o){jt.call(this,K.La,o)}x(yt,jt);function Tt(o){const c=$();ue(c,new yt(c))}K.STAT_EVENT="statevent";function Mt(o,c){jt.call(this,K.STAT_EVENT,o),this.stat=c}x(Mt,jt);function et(o){const c=$();ue(c,new Mt(c,o))}K.Ma="timingevent";function It(o,c){jt.call(this,K.Ma,o),this.size=c}x(It,jt);function Ct(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function _t(){this.g=!0}_t.prototype.xa=function(){this.g=!1};function zt(o,c,f,p,D,O){o.info(function(){if(o.g)if(O)for(var B="",xt=O.split("&"),ge=0;ge<xt.length;ge++){var vt=xt[ge].split("=");if(1<vt.length){var Se=vt[0];vt=vt[1];var we=Se.split("_");B=2<=we.length&&we[1]=="type"?B+(Se+"="+vt+"&"):B+(Se+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+c+`
`+f+`
`+B})}function Qe(o,c,f,p,D,O,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+B})}function Wt(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ei(o,f)+(p?" "+p:"")})}function wn(o,c){o.info(function(){return"TIMEOUT: "+c})}_t.prototype.info=function(){};function Ei(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return Ca(f)}catch{return c}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dh;function Dl(){}x(Dl,ns),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},dh=new Dl;function bi(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xg}function xg(){this.i=null,this.g="",this.h=!1}var Og={},mh={};function gh(o,c,f){o.L=1,o.v=Ml(Hn(c)),o.m=f,o.P=!0,Mg(o,null)}function Mg(o,c){o.F=Date.now(),Nl(o),o.A=Hn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Yg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new xg,o.g=hp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new fh(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(bl[0]=D.toString()),D=bl);for(var O=0;O<D.length;O++){var B=Sa(f,D[O],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Tt(),zt(o.i,o.u,o.A,o.l,o.R,o.m)}bi.prototype.ca=function(o){o=o.target;const c=this.M;c&&Fn(o)==3?c.j():this.Y(o)},bi.prototype.Y=function(o){try{if(o==this.g)t:{const we=Fn(this.g);var c=this.g.Ba();const ss=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||tp(this.g)))){this.J||we!=4||c==7||(c==8||0>=ss?Tt(3):Tt(2)),ph(this);var f=this.g.Z();this.X=f;e:if(kg(this)){var p=tp(this.g);o="";var D=p.length,O=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),Na(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==D-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,Qe(this.i,this.u,this.A,this.l,this.R,we,f),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,ge=this.g;if((xt=ge.g?ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(xt)){var vt=xt;break e}}vt=null}if(f=vt)Wt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yh(this,f);else{this.o=!1,this.s=3,et(12),_r(this),Na(this);break t}}if(this.P){f=!0;let pn;for(;!this.J&&this.C<B.length;)if(pn=KA(this,B),pn==mh){we==4&&(this.s=4,et(14),f=!1),Wt(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Og){this.s=4,et(15),Wt(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Wt(this.i,this.l,pn,null),yh(this,pn);if(kg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||B.length!=0||this.h.h||(this.s=1,et(16),f=!1),this.o=this.o&&f,!f)Wt(this.i,this.l,B,"[Invalid Chunked Response]"),_r(this),Na(this);else if(0<B.length&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.ba&&!Se.M&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),bh(Se),Se.M=!0,et(11))}}else Wt(this.i,this.l,B,null),yh(this,B);we==4&&_r(this),this.o&&!this.J&&(we==4?op(this.j,this):(this.o=!1,Nl(this)))}else hb(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),_r(this),Na(this)}}}catch{}finally{}};function kg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function KA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?mh:(f=Number(c.substring(f,p)),isNaN(f)?Og:(p+=1,p+f>c.length?mh:(c=c.slice(p,p+f),o.C=p+f,c)))}bi.prototype.cancel=function(){this.J=!0,_r(this)};function Nl(o){o.S=Date.now()+o.I,Vg(o,o.I)}function Vg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ct(m(o.ba,o),c)}function ph(o){o.B&&(l.clearTimeout(o.B),o.B=null)}bi.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(wn(this.i,this.A),this.L!=2&&(Tt(),et(17)),_r(this),this.s=2,Na(this)):Vg(this,this.S-o)};function Na(o){o.j.G==0||o.J||op(o.j,o)}function _r(o){ph(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Sl(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function yh(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||_h(f.h,o))){if(!o.K&&_h(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)jl(f),Ll(f);else break t;Ah(f),et(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ct(m(f.Za,f),6e3));if(1>=Ug(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Tr(f,11)}else if((o.K||f.g==o)&&jl(f),!v(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let vt=D[c];if(f.T=vt[0],vt=vt[1],f.G==2)if(vt[0]=="c"){f.K=vt[1],f.ia=vt[2];const Se=vt[3];Se!=null&&(f.la=Se,f.j.info("VER="+f.la));const we=vt[4];we!=null&&(f.Aa=we,f.j.info("SVER="+f.Aa));const ss=vt[5];ss!=null&&typeof ss=="number"&&0<ss&&(p=1.5*ss,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const pn=o.g;if(pn){const Bl=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var O=p.h;O.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(vh(O,O.h),O.h=null))}if(p.D){const Sh=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(p.ya=Sh,Vt(p.I,p.D,Sh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=cp(p,p.J?p.ia:null,p.W),B.K){jg(p.h,B);var xt=B,ge=p.L;ge&&(xt.I=ge),xt.B&&(ph(xt),Nl(xt)),p.g=B}else sp(p);0<f.i.length&&Ul(f)}else vt[0]!="stop"&&vt[0]!="close"||Tr(f,7);else f.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Tr(f,7):Eh(f):vt[0]!="noop"&&f.l&&f.l.ta(vt),f.v=0)}}Tt(4)}catch{}}var XA=class{constructor(o,c){this.g=o,this.map=c}};function Pg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ug(o){return o.h?1:o.g?o.g.size:0}function _h(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function vh(o,c){o.g?o.g.add(c):o.h=c}function jg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Pg.prototype.cancel=function(){if(this.i=zg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function zg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function $A(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function ZA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Bg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=ZA(o),p=$A(o),D=p.length,O=0;O<D;O++)c.call(void 0,p[O],f&&f[O],o)}var qg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),D=null;if(0<=p){var O=o[f].substring(0,p);D=o[f].substring(p+1)}else O=o[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function vr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof vr){this.h=o.h,xl(this,o.j),this.o=o.o,this.g=o.g,Ol(this,o.s),this.l=o.l;var c=o.i,f=new Ma;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Hg(this,f),this.m=o.m}else o&&(c=String(o).match(qg))?(this.h=!1,xl(this,c[1]||"",!0),this.o=xa(c[2]||""),this.g=xa(c[3]||"",!0),Ol(this,c[4]),this.l=xa(c[5]||"",!0),Hg(this,c[6]||"",!0),this.m=xa(c[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}vr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Oa(c,Fg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Oa(c,Fg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Oa(f,f.charAt(0)=="/"?eb:tb,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Oa(f,ib)),o.join("")};function Hn(o){return new vr(o)}function xl(o,c,f){o.j=f?xa(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ol(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Hg(o,c,f){c instanceof Ma?(o.i=c,rb(o.i,o.h)):(f||(c=Oa(c,nb)),o.i=new Ma(c,o.h))}function Vt(o,c,f){o.i.set(c,f)}function Ml(o){return Vt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function xa(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Oa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,JA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function JA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fg=/[#\/\?@]/g,tb=/[#\?:]/g,eb=/[#\?]/g,nb=/[#\?@]/g,ib=/#/g;function Ma(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Si(o){o.g||(o.g=new Map,o.h=0,o.i&&WA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Ma.prototype,e.add=function(o,c){Si(this),this.i=null,o=is(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Gg(o,c){Si(o),c=is(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Qg(o,c){return Si(o),c=is(o,c),o.g.has(c)}e.forEach=function(o,c){Si(this),this.g.forEach(function(f,p){f.forEach(function(D){o.call(c,D,p,this)},this)},this)},e.na=function(){Si(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const D=o[p];for(let O=0;O<D.length;O++)f.push(c[p])}return f},e.V=function(o){Si(this);let c=[];if(typeof o=="string")Qg(this,o)&&(c=c.concat(this.g.get(is(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Si(this),this.i=null,o=is(this,o),Qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Yg(o,c,f){Gg(o,c),0<f.length&&(o.i=null,o.g.set(is(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var D=O;B[p]!==""&&(D+="="+encodeURIComponent(String(B[p]))),o.push(D)}}return this.i=o.join("&")};function is(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function rb(o,c){c&&!o.j&&(Si(o),o.i=null,o.g.forEach(function(f,p){var D=p.toLowerCase();p!=D&&(Gg(this,p),Yg(this,D,f))},o)),o.j=c}function sb(o,c){const f=new _t;if(l.Image){const p=new Image;p.onload=_(wi,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(wi,f,"TestLoadImage: error",!1,c,p),p.onabort=_(wi,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(wi,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function ab(o,c){const f=new _t,p=new AbortController,D=setTimeout(()=>{p.abort(),wi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(D),O.ok?wi(f,"TestPingServer: ok",!0,c):wi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),wi(f,"TestPingServer: error",!1,c)})}function wi(o,c,f,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(f)}catch{}}function ob(){this.g=new Rl}function lb(o,c,f){const p=f||"";try{Bg(o,function(D,O){let B=D;h(D)&&(B=Ca(D)),c.push(p+O+"="+encodeURIComponent(B))})}catch(D){throw c.push(p+"type="+encodeURIComponent("_badmap")),D}}function kl(o){this.l=o.Ub||null,this.j=o.eb||!1}x(kl,ns),kl.prototype.g=function(){return new Vl(this.l,this.j)},kl.prototype.i=function(o){return function(){return o}}({});function Vl(o,c){le.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Vl,le),e=Vl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Va(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ka(this):Va(this),this.readyState==3&&Kg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ka(this))},e.Qa=function(o){this.g&&(this.response=o,ka(this))},e.ga=function(){this.g&&ka(this)};function ka(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Va(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Va(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Xg(o){let c="";return q(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Th(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Xg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Vt(o,c,f))}function Qt(o){le.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Qt,le);var ub=/^https?$/i,cb=["POST","PUT"];e=Qt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dh.g(),this.v=this.o?Il(this.o):Il(dh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){$g(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)f.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(cb,c,void 0))||p||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of f)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){$g(this,O)}};function $g(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Zg(o),Pl(o)}function Zg(o){o.A||(o.A=!0,ue(o,"complete"),ue(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ue(this,"complete"),ue(this,"abort"),Pl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pl(this,!0)),Qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Wg(this):this.bb())},e.bb=function(){Wg(this)};function Wg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Fn(o)!=4||o.Z()!=2)){if(o.u&&Fn(o)==4)Al(o.Ea,0,o);else if(ue(o,"readystatechange"),Fn(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var D=String(o.D).match(qg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),p=!ub.test(D?D.toLowerCase():"")}f=p}if(f)ue(o,"complete"),ue(o,"success");else{o.m=6;try{var O=2<Fn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Zg(o)}}finally{Pl(o)}}}}function Pl(o,c){if(o.g){Jg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ue(o,"ready");try{f.onreadystatechange=p}catch{}}}function Jg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Fn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),wl(c)}};function tp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function hb(o){const c={};o=(o.g&&2<=Fn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=I(o[p]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function ep(o){this.Aa=0,this.i=[],this.j=new _t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,o),this.cb=Pa("retryDelaySeedMs",1e4,o),this.Wa=Pa("forwardChannelMaxRetries",2,o),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Pg(o&&o.concurrentRequestLimit),this.Da=new ob,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ep.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){et(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=cp(this,null,this.W),Ul(this)};function Eh(o){if(np(o),o.G==3){var c=o.U++,f=Hn(o.I);if(Vt(f,"SID",o.K),Vt(f,"RID",c),Vt(f,"TYPE","terminate"),La(o,f),c=new bi(o,o.j,c),c.L=2,c.v=Ml(Hn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=hp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Nl(c)}up(o)}function Ll(o){o.g&&(bh(o),o.g.cancel(),o.g=null)}function np(o){Ll(o),o.u&&(l.clearTimeout(o.u),o.u=null),jl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Ul(o){if(!Lg(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||Ut(),tt||(Z(),tt=!0),St.add(c,o),o.B=0}}function fb(o,c){return Ug(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ct(m(o.Ga,o,c),lp(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new bi(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),b(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=rp(this,D,c),f=Hn(this.I),Vt(f,"RID",o),Vt(f,"CVER",22),this.D&&Vt(f,"X-HTTP-Session-Id",this.D),La(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Xg(O)))+"&"+c:this.m&&Th(f,this.m,O)),vh(this.h,D),this.Ua&&Vt(f,"TYPE","init"),this.P?(Vt(f,"$req",c),Vt(f,"SID","null"),D.T=!0,gh(D,f,null)):gh(D,f,c),this.G=2}}else this.G==3&&(o?ip(this,o):this.i.length==0||Lg(this.h)||ip(this))};function ip(o,c){var f;c?f=c.l:f=o.U++;const p=Hn(o.I);Vt(p,"SID",o.K),Vt(p,"RID",f),Vt(p,"AID",o.T),La(o,p),o.m&&o.o&&Th(p,o.m,o.o),f=new bi(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=rp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),vh(o.h,f),gh(f,p,c)}function La(o,c){o.H&&q(o.H,function(f,p){Vt(c,p,f)}),o.l&&Bg({},function(f,p){Vt(c,p,f)})}function rp(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const B=["count="+f];O==-1?0<f?(O=D[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let xt=!0;for(let ge=0;ge<f;ge++){let vt=D[ge].g;const Se=D[ge].map;if(vt-=O,0>vt)O=Math.max(0,D[ge].g-100),xt=!1;else try{lb(Se,B,"req"+vt+"_")}catch{p&&p(Se)}}if(xt){p=B.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function sp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||Ut(),tt||(Z(),tt=!0),St.add(c,o),o.v=0}}function Ah(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ct(m(o.Fa,o),lp(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ct(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Ll(this),ap(this))};function bh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function ap(o){o.g=new bi(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Hn(o.qa);Vt(c,"RID","rpc"),Vt(c,"SID",o.K),Vt(c,"AID",o.T),Vt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Vt(c,"TO",o.ja),Vt(c,"TYPE","xmlhttp"),La(o,c),o.m&&o.o&&Th(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Ml(Hn(c)),f.m=null,f.P=!0,Mg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Ll(this),Ah(this),et(19))};function jl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function op(o,c){var f=null;if(o.g==c){jl(o),bh(o),o.g=null;var p=2}else if(_h(o.h,c))f=c.D,jg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=o.B;p=$(),ue(p,new It(p,f)),Ul(o)}else sp(o);else if(D=c.s,D==3||D==0&&0<c.X||!(p==1&&fb(o,c)||p==2&&Ah(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),D){case 1:Tr(o,5);break;case 4:Tr(o,10);break;case 3:Tr(o,6);break;default:Tr(o,2)}}}function lp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Tr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const D=!p;p=new vr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xl(p,"https"),Ml(p),D?sb(p.toString(),f):ab(p.toString(),f)}else et(2);o.G=0,o.l&&o.l.sa(c),up(o),np(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function up(o){if(o.G=0,o.ka=[],o.l){const c=zg(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function cp(o,c,f){var p=f instanceof vr?Hn(f):new vr(f);if(p.g!="")c&&(p.g=c+"."+p.g),Ol(p,p.s);else{var D=l.location;p=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new vr(null);p&&xl(O,p),c&&(O.g=c),D&&Ol(O,D),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&Vt(p,f,c),Vt(p,"VER",o.la),La(o,p),p}function hp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Qt(new kl({eb:f})):new Qt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function fp(){}e=fp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function zl(){}zl.prototype.g=function(o,c){return new Ye(o,c)};function Ye(o,c){le.call(this),this.g=new ep(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new rs(this)}x(Ye,le),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Eh(this.g)},Ye.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Ca(o),o=f);c.i.push(new XA(c.Ya++,o)),c.G==3&&Ul(c)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,Ye.aa.N.call(this)};function dp(o){z.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(dp,z);function mp(){F.call(this),this.status=1}x(mp,F);function rs(o){this.g=o}x(rs,fp),rs.prototype.ua=function(){ue(this.g,"a")},rs.prototype.ta=function(o){ue(this.g,new dp(o))},rs.prototype.sa=function(o){ue(this.g,new mp)},rs.prototype.ra=function(){ue(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,c1=function(){return new zl},u1=function(){return $()},l1=K,Ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Iu=Ai,Da.COMPLETE="complete",o1=Da,Cl.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",le.prototype.listen=le.prototype.K,Za=Cl,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,a1=Qt}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",p_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ie.UNAUTHENTICATED=new Ie(null),Ie.GOOGLE_CREDENTIALS=new Ie("google-credentials-uid"),Ie.FIRST_PARTY=new Ie("first-party-uid"),Ie.MOCK_USER=new Ie("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new zm("@firebase/firestore");function fs(){return Br.logLevel}function H(e,...t){if(Br.logLevel<=dt.DEBUG){const n=t.map(Wm);Br.debug(`Firestore (${ya}): ${e}`,...n)}}function pi(e,...t){if(Br.logLevel<=dt.ERROR){const n=t.map(Wm);Br.error(`Firestore (${ya}): ${e}`,...n)}}function Js(e,...t){if(Br.logLevel<=dt.WARN){const n=t.map(Wm);Br.warn(`Firestore (${ya}): ${e}`,...n)}}function Wm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,h1(e,i,n)}function h1(e,t,n){let i=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pi(i),new Error(i)}function bt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||h1(t,r,i)}function st(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends vi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ie.UNAUTHENTICATED))}shutdown(){}}class WC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(t){this.t=t,this.currentUser=Ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){bt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ir,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ir)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string",31837,{l:i}),new f1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bt(t===null||typeof t=="string",2055,{h:t}),new Ie(t)}}class tD{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ie.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eD{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new tD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ie.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){bt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=iD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function lt(e,t){return e<t?-1:e>t?1:0}function bd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return lt(i,r);{const s=d1(),a=rD(s.encode(__(e,n)),s.encode(__(t,n)));return a!==0?a:lt(i,r)}}n+=i>65535?2:1}return lt(e.length,t.length)}function __(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function rD(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return lt(e[n],t[n]);return lt(e.length,t.length)}function ta(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,T_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*T_);return new se(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<v_)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-v_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(t){return new rt(t)}static min(){return new rt(new se(0,0))}static max(){return new rt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="__name__";class Cn{constructor(t,n,i){n===void 0?n=0:n>t.length&&W(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&W(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Cn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Cn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=Cn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return lt(t.length,n.length)}static compareSegments(t,n){const i=Cn.isNumericId(t),r=Cn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Cn.extractNumericId(t).compare(Cn.extractNumericId(n)):bd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Pt extends Cn{construct(t,n,i){return new Pt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ve extends Cn{construct(t,n,i){return new ve(t,n,i)}static isValidIdentifier(t){return sD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ve.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new ve([E_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new G(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ve(n)}static emptyPath(){return new ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(Pt.fromString(t))}static fromName(t){return new X(Pt.fromString(t).popFirst(5))}static empty(){return new X(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Pt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new Pt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=-1;function aD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=rt.fromTimestamp(i===1e9?new se(n+1,0):new se(n,i));return new lr(r,X.empty(),t)}function oD(e){return new lr(e.readTime,e.key,jo)}class lr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new lr(rt.min(),X.empty(),jo)}static max(){return new lr(rt.max(),X.empty(),jo)}}function lD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==uD)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new V((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):V.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):V.reject(n)}static resolve(t){return new V((n,i)=>{n(t)})}static reject(t){return new V((n,i)=>{i(t)})}static waitFor(t){return new V((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=V.resolve(!1);for(const i of t)n=n.next(r=>r?V.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new V((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new V((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function hD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function Zc(e){return e==null}function yc(e){return e===0&&1/e==-1/0}function fD(e){return typeof e=="number"&&Number.isInteger(e)&&!yc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function dD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=A_(t)),t=mD(e.get(n),t);return A_(t)}function mD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case g1:n+="";break;default:n+=s}}return n}function A_(e){return e+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function p1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.comparator=t,this.root=n||ye.EMPTY}insert(t,n){return new Gt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(t){return new Gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new su(this.root,t,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new su(this.root,t,this.comparator,!0)}}class su{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ye{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ye.RED,this.left=r??ye.EMPTY,this.right=s??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ye(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ye.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw W(27949);return t+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.comparator=t,this.data=new Gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(t){return new S_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ae)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ae(this.comparator);return n.data=t,n}}class S_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(ve.comparator)}static empty(){return new vn([])}unionWith(t){let n=new ae(ve.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ta(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y1("Invalid base64 string: "+s):s}}(t);return new Ee(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new Ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ee.EMPTY_BYTE_STRING=new Ee("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(e){if(bt(!!e,39018),typeof e=="string"){let t=0;const n=gD.exec(e);if(bt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zt(e.seconds),nanos:Zt(e.nanos)}}function Zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cr(e){return typeof e=="string"?Ee.fromBase64String(e):Ee.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",v1="__type__",T1="__previous_value__",E1="__local_write_time__";function tg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[v1])===null||n===void 0?void 0:n.stringValue)===_1}function Wc(e){const t=e.mapValue.fields[T1];return tg(t)?Wc(t):t}function zo(e){const t=ur(e.mapValue.fields[E1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const _c="(default)";class Bo{constructor(t,n){this.projectId=t,this.database=n||_c}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===_c}isEqual(t){return t instanceof Bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__type__",yD="__max__",au={mapValue:{}},b1="__vector__",vc="value";function hr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tg(e)?4:vD(e)?9007199254740991:_D(e)?10:11:W(28295,{value:e})}function jn(e,t){if(e===t)return!0;const n=hr(e);if(n!==hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zo(e).isEqual(zo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=ur(r.timestampValue),l=ur(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return cr(r.bytesValue).isEqual(cr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Zt(r.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(r.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Zt(r.integerValue)===Zt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Zt(r.doubleValue),l=Zt(s.doubleValue);return a===l?yc(a)===yc(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ta(e.arrayValue.values||[],t.arrayValue.values||[],jn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(b_(a)!==b_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!jn(a[u],l[u])))return!1;return!0}(e,t);default:return W(52216,{left:e})}}function qo(e,t){return(e.values||[]).find(n=>jn(n,t))!==void 0}function ea(e,t){if(e===t)return 0;const n=hr(e),i=hr(t);if(n!==i)return lt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Zt(s.integerValue||s.doubleValue),u=Zt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return w_(e.timestampValue,t.timestampValue);case 4:return w_(zo(e),zo(t));case 5:return bd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=cr(s),u=cr(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=lt(l[h],u[h]);if(d!==0)return d}return lt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=lt(Zt(s.latitude),Zt(a.latitude));return l!==0?l:lt(Zt(s.longitude),Zt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return R_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[vc])===null||l===void 0?void 0:l.arrayValue,x=(u=m[vc])===null||u===void 0?void 0:u.arrayValue,M=lt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:R_(_,x)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===au.mapValue&&a===au.mapValue)return 0;if(s===au.mapValue)return 1;if(a===au.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=bd(u[g],d[g]);if(m!==0)return m;const _=ea(l[u[g]],h[d[g]]);if(_!==0)return _}return lt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw W(23264,{Pe:n})}}function w_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return lt(e,t);const n=ur(e),i=ur(t),r=lt(n.seconds,i.seconds);return r!==0?r:lt(n.nanos,i.nanos)}function R_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ea(n[r],i[r]);if(s)return s}return lt(n.length,i.length)}function na(e){return Sd(e)}function Sd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ur(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return cr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Sd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Sd(n.fields[a])}`;return r+"}"}(e.mapValue):W(61005,{value:e})}function Cu(e){switch(hr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(e);return t?16+Cu(t):16;case 5:return 2*e.stringValue.length;case 6:return cr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Cu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Yr(i.fields,(s,a)=>{r+=s.length+Cu(a)}),r}(e.mapValue);default:throw W(13486,{value:e})}}function I_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wd(e){return!!e&&"integerValue"in e}function eg(e){return!!e&&"arrayValue"in e}function C_(e){return!!e&&"nullValue"in e}function D_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Du(e){return!!e&&"mapValue"in e}function _D(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[A1])===null||n===void 0?void 0:n.stringValue)===b1}function vo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=vo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Du(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vo(n)}setAll(t){let n=ve.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=vo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Yr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new hn(vo(this.value))}}function S1(e){const t=[];return Yr(e.fields,(n,i)=>{const r=new ve([n]);if(Du(i)){const s=S1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ce(t,0,rt.min(),rt.min(),rt.min(),hn.empty(),0)}static newFoundDocument(t,n,i,r){return new Ce(t,1,n,rt.min(),i,r,0)}static newNoDocument(t,n){return new Ce(t,2,n,rt.min(),rt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Ce(t,3,n,rt.min(),rt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n){this.position=t,this.inclusive=n}}function N_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=X.comparator(X.fromName(a.referenceValue),n.key):i=ea(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function x_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function TD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{}class ee extends w1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new AD(t,n,i):n==="array-contains"?new wD(t,i):n==="in"?new RD(t,i):n==="not-in"?new ID(t,i):n==="array-contains-any"?new CD(t,i):new ee(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new bD(t,i):new SD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ea(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends w1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new En(t,n)}matches(t){return R1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function R1(e){return e.op==="and"}function I1(e){return ED(e)&&R1(e)}function ED(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function Rd(e){if(e instanceof ee)return e.field.canonicalString()+e.op.toString()+na(e.value);if(I1(e))return e.filters.map(t=>Rd(t)).join(",");{const t=e.filters.map(n=>Rd(n)).join(",");return`${e.op}(${t})`}}function C1(e,t){return e instanceof ee?function(i,r){return r instanceof ee&&i.op===r.op&&i.field.isEqual(r.field)&&jn(i.value,r.value)}(e,t):e instanceof En?function(i,r){return r instanceof En&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&C1(a,r.filters[l]),!0):!1}(e,t):void W(19439)}function D1(e){return e instanceof ee?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(e):e instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"}(e):"Filter"}class AD extends ee{constructor(t,n,i){super(t,n,i),this.key=X.fromName(i.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class bD extends ee{constructor(t,n){super(t,"in",n),this.keys=N1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SD extends ee{constructor(t,n){super(t,"not-in",n),this.keys=N1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function N1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>X.fromName(i.referenceValue))}class wD extends ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&qo(n.arrayValue,this.value)}}class RD extends ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&qo(this.value.arrayValue,n)}}class ID extends ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qo(this.value.arrayValue,n)}}class CD extends ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>qo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function O_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new DD(e,t,n,i,r,s,a)}function ng(e){const t=st(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Rd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>na(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>na(i)).join(",")),t.Ie=n}return t.Ie}function ig(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!TD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!C1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!x_(e.startAt,t.startAt)&&x_(e.endAt,t.endAt)}function Id(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ND(e,t,n,i,r,s,a,l){return new ml(e,t,n,i,r,s,a,l)}function Jc(e){return new ml(e)}function M_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function x1(e){return e.collectionGroup!==null}function To(e){const t=st(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ae(ve.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Ec(s,i))}),n.has(ve.keyField().canonicalString())||t.Ee.push(new Ec(ve.keyField(),i))}return t.Ee}function Pn(e){const t=st(e);return t.de||(t.de=xD(t,To(e))),t.de}function xD(e,t){if(e.limitType==="F")return O_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ec(r.field,s)});const n=e.endAt?new Tc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Tc(e.startAt.position,e.startAt.inclusive):null;return O_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Cd(e,t){const n=e.filters.concat([t]);return new ml(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dd(e,t,n){return new ml(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function th(e,t){return ig(Pn(e),Pn(t))&&e.limitType===t.limitType}function O1(e){return`${ng(Pn(e))}|lt:${e.limitType}`}function ds(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>D1(r)).join(", ")}]`),Zc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>na(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>na(r)).join(",")),`Target(${i})`}(Pn(e))}; limitType=${e.limitType})`}function eh(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):X.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of To(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=N_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,To(i),r)||i.endAt&&!function(a,l,u){const h=N_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,To(i),r))}(e,t)}function OD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function M1(e){return(t,n)=>{let i=!1;for(const r of To(e)){const s=MD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function MD(e,t,n){const i=e.field.isKeyField()?X.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?ea(u,h):W(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return W(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Gt(X.comparator);function yi(){return kD}const k1=new Gt(X.comparator);function Wa(...e){let t=k1;for(const n of e)t=t.insert(n.key,n);return t}function V1(e){let t=k1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Rr(){return Eo()}function P1(){return Eo()}function Eo(){return new Kr(e=>e.toString(),(e,t)=>e.isEqual(t))}const VD=new Gt(X.comparator),PD=new ae(X.comparator);function mt(...e){let t=PD;for(const n of e)t=t.add(n);return t}const LD=new ae(lt);function UD(){return LD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function L1(e){return{integerValue:""+e}}function jD(e,t){return fD(t)?L1(t):rg(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function zD(e,t,n){return e instanceof Ac?function(r,s){const a={fields:{[v1]:{stringValue:_1},[E1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&tg(s)&&(s=Wc(s)),s&&(a.fields[T1]=s),{mapValue:a}}(n,t):e instanceof Ho?j1(e,t):e instanceof Fo?z1(e,t):function(r,s){const a=U1(r,s),l=k_(a)+k_(r.Re);return wd(a)&&wd(r.Re)?L1(l):rg(r.serializer,l)}(e,t)}function BD(e,t,n){return e instanceof Ho?j1(e,t):e instanceof Fo?z1(e,t):n}function U1(e,t){return e instanceof bc?function(i){return wd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Ac extends nh{}class Ho extends nh{constructor(t){super(),this.elements=t}}function j1(e,t){const n=B1(t);for(const i of e.elements)n.some(r=>jn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Fo extends nh{constructor(t){super(),this.elements=t}}function z1(e,t){let n=B1(t);for(const i of e.elements)n=n.filter(r=>!jn(r,i));return{arrayValue:{values:n}}}class bc extends nh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function k_(e){return Zt(e.integerValue||e.doubleValue)}function B1(e){return eg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function qD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ho&&r instanceof Ho||i instanceof Fo&&r instanceof Fo?ta(i.elements,r.elements,jn):i instanceof bc&&r instanceof bc?jn(i.Re,r.Re):i instanceof Ac&&r instanceof Ac}(e.transform,t.transform)}class HD{constructor(t,n){this.version=t,this.transformResults=n}}class Ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ih{}function q1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sg(e.key,Ln.none()):new gl(e.key,e.data,Ln.none());{const n=e.data,i=hn.empty();let r=new ae(ve.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Xr(e.key,i,new vn(r.toArray()),Ln.none())}}function FD(e,t,n){e instanceof gl?function(r,s,a){const l=r.value.clone(),u=P_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Xr?function(r,s,a){if(!Nu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=P_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(H1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ao(e,t,n,i){return e instanceof gl?function(s,a,l,u){if(!Nu(s.precondition,a))return l;const h=s.value.clone(),d=L_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Xr?function(s,a,l,u){if(!Nu(s.precondition,a))return l;const h=L_(s.fieldTransforms,u,a),d=a.data;return d.setAll(H1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return Nu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function GD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=U1(i.transform,r||null);s!=null&&(n===null&&(n=hn.empty()),n.set(i.field,s))}return n||null}function V_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ta(i,r,(s,a)=>qD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gl extends ih{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xr extends ih{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function H1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function P_(e,t,n){const i=new Map;bt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,BD(a,l,n[r]))}return i}function L_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,zD(s,a,t))}return i}class sg extends ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&FD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ao(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ao(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=P1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=q1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(rt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&ta(this.mutations,t.mutations,(n,i)=>V_(n,i))&&ta(this.baseMutations,t.baseMutations,(n,i)=>V_(n,i))}}class ag{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){bt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return VD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new ag(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,gt;function $D(e){switch(e){case L.OK:return W(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return W(15467,{code:e})}}function F1(e){if(e===void 0)return pi("GRPC error has no .code"),L.UNKNOWN;switch(e){case Jt.OK:return L.OK;case Jt.CANCELLED:return L.CANCELLED;case Jt.UNKNOWN:return L.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return L.INTERNAL;case Jt.UNAVAILABLE:return L.UNAVAILABLE;case Jt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Jt.NOT_FOUND:return L.NOT_FOUND;case Jt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Jt.ABORTED:return L.ABORTED;case Jt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Jt.DATA_LOSS:return L.DATA_LOSS;default:return W(39323,{code:e})}}(gt=Jt||(Jt={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new nr([4294967295,4294967295],0);function U_(e){const t=d1().encode(e),n=new s1;return n.update(t),new Uint8Array(n.digest())}function j_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new nr([n,i],0),new nr([r,s],0)]}class og{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(i<0)throw new Ja(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=nr.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(nr.fromNumber(i)));return r.compare(ZD)===1&&(r=new nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=U_(t),[i,r]=j_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new og(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=U_(t),[i,r]=j_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,pl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new rh(rt.min(),r,new Gt(lt),yi(),mt())}}class pl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new pl(i,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class G1{constructor(t,n){this.targetId=t,this.Ce=n}}class Q1{constructor(t,n,i=Ee.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class z_{constructor(){this.Fe=0,this.Me=B_(),this.xe=Ee.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=mt(),n=mt(),i=mt();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W(38017,{changeType:s})}}),new pl(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=B_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class WD{constructor(t){this.ze=t,this.je=new Map,this.He=yi(),this.Je=ou(),this.Ye=ou(),this.Ze=new Gt(lt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:W(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(Id(s))if(i===0){const a=new X(s.path);this.tt(n,a,Ce.newNoDocument(a,rt.min()))}else bt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=cr(i).toUint8Array()}catch(u){if(u instanceof y1)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new og(a,r,s)}catch(u){return Js(u instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Id(l.target)){const u=new X(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Ce.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=mt();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new rh(t,n,this.Ze,this.He,i);return this.He=yi(),this.Je=ou(),this.Ye=ou(),this.Ze=new Gt(lt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new z_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ae(lt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ae(lt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new z_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function ou(){return new Gt(X.comparator)}function B_(){return new Gt(X.comparator)}const JD={asc:"ASCENDING",desc:"DESCENDING"},t4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4={and:"AND",or:"OR"};class n4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Nd(e,t){return e.useProto3Json||Zc(t)?t:{value:t}}function Sc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function i4(e,t){return Sc(e,t.toTimestamp())}function Un(e){return bt(!!e,49232),rt.fromTimestamp(function(n){const i=ur(n);return new se(i.seconds,i.nanos)}(e))}function lg(e,t){return xd(e,t).canonicalString()}function xd(e,t){const n=function(r){return new Pt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function K1(e){const t=Pt.fromString(e);return bt(J1(t),10190,{key:t.toString()}),t}function Od(e,t){return lg(e.databaseId,t.path)}function mf(e,t){const n=K1(t);if(n.get(1)!==e.databaseId.projectId)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X($1(n))}function X1(e,t){return lg(e.databaseId,t)}function r4(e){const t=K1(e);return t.length===4?Pt.emptyPath():$1(t)}function Md(e){return new Pt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $1(e){return bt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function q_(e,t,n){return{name:Od(e,t),fields:n.value.mapValue.fields}}function s4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(bt(d===void 0||typeof d=="string",58123),Ee.fromBase64String(d||"")):(bt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ee.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:F1(h.code);return new G(d,h.message||"")}(a);n=new Q1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=mf(e,i.document.name),s=Un(i.document.updateTime),a=i.document.createTime?Un(i.document.createTime):rt.min(),l=new hn({mapValue:{fields:i.document.fields}}),u=Ce.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new xu(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=mf(e,i.document),s=i.readTime?Un(i.readTime):rt.min(),a=Ce.newNoDocument(r,s),l=i.removedTargetIds||[];n=new xu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=mf(e,i.document),s=i.removedTargetIds||[];n=new xu([],s,r,null)}else{if(!("filter"in t))return W(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new XD(r,s),l=i.targetId;n=new G1(l,a)}}return n}function a4(e,t){let n;if(t instanceof gl)n={update:q_(e,t.key,t.value)};else if(t instanceof sg)n={delete:Od(e,t.key)};else if(t instanceof Xr)n={update:q_(e,t.key,t.data),updateMask:g4(t.fieldMask)};else{if(!(t instanceof QD))return W(16599,{ft:t.type});n={verify:Od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Ac)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ho)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw W(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:i4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W(27497)}(e,t.precondition)),n}function o4(e,t){return e&&e.length>0?(bt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Un(r.updateTime):Un(s);return a.isEqual(rt.min())&&(a=Un(s)),new HD(a,r.transformResults||[])}(n,t))):[]}function l4(e,t){return{documents:[X1(e,t.path)]}}function u4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=X1(e,r);const s=function(h){if(h.length!==0)return W1(En.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:ms(m.field),direction:f4(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Nd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function c4(e){let t=r4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){bt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=Z1(g);return m instanceof En&&I1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(x){return new Ec(gs(x.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Zc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Tc(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new Tc(_,m)}(n.endAt)),ND(t,r,a,s,l,"F",u,h)}function h4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=gs(n.unaryFilter.field);return ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=gs(n.unaryFilter.field);return ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gs(n.unaryFilter.field);return ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gs(n.unaryFilter.field);return ee.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(e):e.fieldFilter!==void 0?function(n){return ee.create(gs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(i=>Z1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(e):W(30097,{filter:e})}function f4(e){return JD[e]}function d4(e){return t4[e]}function m4(e){return e4[e]}function ms(e){return{fieldPath:e.canonicalString()}}function gs(e){return ve.fromServerFormat(e.fieldPath)}function W1(e){return e instanceof ee?function(n){if(n.op==="=="){if(D_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(C_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(C_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:d4(n.op),value:n.value}}}(e):e instanceof En?function(n){const i=n.getFilters().map(r=>W1(r));return i.length===1?i[0]:{compositeFilter:{op:m4(n.op),filters:i}}}(e):W(54877,{filter:e})}function g4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function J1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n,i,r,s=rt.min(),a=rt.min(),l=Ee.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.wt=t}}function y4(e){const t=c4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Cn=new v4}addToCollectionParentIndex(t,n){return this.Cn.add(n),V.resolve()}getCollectionParents(t,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return V.resolve()}deleteFieldIndex(t,n){return V.resolve()}deleteAllFieldIndexes(t){return V.resolve()}createTargetIndexes(t,n){return V.resolve()}getDocumentsMatchingTarget(t,n){return V.resolve(null)}getIndexType(t,n){return V.resolve(0)}getFieldIndexes(t,n){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,n){return V.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return V.resolve(lr.min())}updateCollectionGroup(t,n,i){return V.resolve()}updateIndexEntries(t,n){return V.resolve()}}class v4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ae(Pt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ae(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040;class qe{static withCacheSize(t){return new qe(t,qe.DEFAULT_COLLECTION_PERCENTILE,qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qe.DEFAULT_COLLECTION_PERCENTILE=10,qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qe.DEFAULT=new qe(tA,qe.DEFAULT_COLLECTION_PERCENTILE,qe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qe.DISABLED=new qe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ia(0)}static lr(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LruGarbageCollector",T4=1048576;function G_([e,t],[n,i]){const r=lt(e,n);return r===0?lt(t,i):r}class E4{constructor(t){this.Er=t,this.buffer=new ae(G_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();G_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(F_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?H(F_,"Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.mr(3e5)})}}class b4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return V.resolve($c.le);const i=new E4(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(H_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),fs()<=dt.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function S4(e,t){return new b4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.changes=new Kr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ce.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ao(i.mutation,r,vn.empty(),se.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=mt()){const r=Rr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Wa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Rr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,mt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=yi();const a=Eo(),l=function(){return Eo()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Xr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ao(d.mutation,h,d.mutation.getFieldMask(),se.now())):a.set(h.key,vn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new R4(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=Eo();let r=new Gt((a,l)=>a-l),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||vn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||mt()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=P1();d.forEach(m=>{if(!s.has(m)){const _=q1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return V.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):x1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):V.resolve(Rr());let l=jo,u=s;return a.next(h=>V.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,mt())).next(d=>({batchId:l,changes:V1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(i=>{let r=Wa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Wa();return this.indexManager.getCollectionParents(t,s).next(l=>V.forEach(l,u=>{const h=function(g,m){return new ml(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Ce.newInvalidDocument(d)))});let l=Wa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Ao(d.mutation,h,vn.empty(),se.now()),eh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return V.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}}(n)),V.resolve()}getNamedQuery(t,n){return V.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:y4(r.bundledQuery),readTime:Un(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.overlays=new Gt(X.comparator),this.Qr=new Map}getOverlay(t,n){return V.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Rr();return V.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),V.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),V.resolve()}getOverlaysForCollection(t,n,i){const r=Rr(),s=n.length+1,a=new X(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return V.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Gt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Rr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Rr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return V.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new KD(n,i));let s=this.Qr.get(n);s===void 0&&(s=mt(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.sessionToken=Ee.EMPTY_BYTE_STRING}getSessionToken(t){return V.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.$r=new ae(ce.Ur),this.Kr=new ae(ce.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ce(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ce(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new X(new Pt([])),i=new ce(n,t),r=new ce(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new X(new Pt([])),i=new ce(n,t),r=new ce(n,t+1);let s=mt();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ce(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ce{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return X.comparator(t.key,n.key)||lt(t.Zr,n.Zr)}static Wr(t,n){return lt(t.Zr,n.Zr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ae(ce.Ur)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new ce(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return V.resolve(a)}lookupMutationBatch(t,n){return V.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Jm:this.nr-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ce(n,0),r=new ce(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ae(lt);return n.forEach(r=>{const s=new ce(r,0),a=new ce(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),V.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;X.isDocumentKey(s)||(s=s.child(""));const a=new ce(new X(s),0);let l=new ae(lt);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),V.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){bt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return V.forEach(n.mutations,r=>{const s=new ce(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ce(n,0),r=this.Xr.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.ii=t,this.docs=function(){return new Gt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():Ce.newInvalidDocument(n))}getEntries(t,n){let i=yi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ce.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=yi();const a=n.path,l=new X(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||lD(oD(d),i)<=0||(r.has(d.key)||eh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(t,n,i,r){W(9500)}si(t,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new M4(this)}getSize(t){return V.resolve(this.size)}}class M4 extends w4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),V.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t){this.persistence=t,this.oi=new Kr(n=>ng(n),ig),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this._i=0,this.ai=new ug,this.targetCount=0,this.ui=ia.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),V.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ia(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,V.resolve()}updateTargetData(t,n){return this.Tr(n),V.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return V.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),V.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),V.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),V.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return V.resolve(i)}containsKey(t,n){return V.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,n){this.ci={},this.overlays={},this.li=new $c(0),this.hi=!1,this.hi=!0,this.Pi=new N4,this.referenceDelegate=t(this),this.Ti=new k4(this),this.indexManager=new _4,this.remoteDocumentCache=function(r){return new O4(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new p4(n),this.Ei=new C4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new D4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new x4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new V4(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return V.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class V4 extends cD{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Vi=new ug,this.mi=null}static fi(t){return new cg(t)}get gi(){if(this.mi)return this.mi;throw W(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),V.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),V.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),V.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,i=>{const r=X.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,rt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return V.or([()=>V.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class wc{constructor(t,n){this.persistence=t,this.yi=new Kr(i=>dD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=S4(this,n)}static fi(t,n){return new wc(t,n)}di(){}Ai(t){return V.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return V.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?V.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,rt.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),V.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),V.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),V.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),V.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Cu(t.data.value)),n}Dr(t,n,i){return V.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return V.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=mt(),r=mt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new hg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return D2()?8:hD(xe())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new P4;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(fs()<=dt.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(fs()<=dt.DEBUG&&H("QueryEngine","Query:",ds(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(fs()<=dt.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pn(n))):V.resolve())}ws(t,n){if(M_(n))return V.resolve(null);let i=Pn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Dd(n,null,"F"),i=Pn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=mt(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,Dd(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return M_(n)||r.isEqual(rt.min())?V.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?V.resolve(null):(fs()<=dt.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ds(n)),this.Fs(t,a,n,aD(r,jo)).next(l=>l))})}vs(t,n){let i=new ae(M1(t));return n.forEach((r,s)=>{eh(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return fs()<=dt.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ds(n)),this.ys.getDocumentsMatchingQuery(t,n,lr.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",U4=3e8;class j4{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Gt(lt),this.Os=new Kr(s=>ng(s),ig),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function z4(e,t,n,i){return new j4(e,t,n,i)}async function nA(e,t){const n=st(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=mt();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function B4(e,t){const n=st(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=V.resolve();return m.forEach(x=>{_=_.next(()=>d.getEntry(u,x)).next(M=>{const k=h.docVersions.get(x);bt(k!==null,48541),M.version.compareTo(k)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function iA(e){const t=st(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function q4(e,t){const n=st(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(Ee.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,k,S){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=U4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=yi(),h=mt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(H4(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(rt.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return V.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function H4(e,t,n){let i=mt(),r=mt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=yi();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(rt.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(fg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function F4(e,t){const n=st(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function G4(e,t){const n=st(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,V.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Fi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function kd(e,t,n){const i=st(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!va(a))throw a;H(fg,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function Q_(e,t,n){const i=st(e);let r=rt.min(),s=mt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=st(u),m=g.Os.get(d);return m!==void 0?V.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,Pn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:rt.min(),n?s:mt())).next(l=>(Q4(i,OD(t),l),{documents:l,$s:s})))}function Q4(e,t,n){let i=e.Ns.get(t)||rt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class Y_{constructor(){this.activeTargetIds=UD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y4{constructor(){this.xo=new Y_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Y_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class X_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(K_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(K_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function Vd(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",X4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $4{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===_c?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Vd(),l=this.jo(t,n.toUriEncodedString());H(gf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=ma(h);return this.Jo(t,l,u,i,d).then(g=>(H(gf,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Js(gf,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=X4[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re="WebChannelConnection";class W4 extends $4{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Vd();return new Promise((l,u)=>{const h=new a1;h.setWithCredentials(!0),h.listenOnce(o1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Iu.NO_ERROR:const g=h.getResponseJson();H(Re,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case Iu.TIMEOUT:H(Re,`RPC '${t}' ${a} timed out`),u(new G(L.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const m=h.getStatus();if(H(Re,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const M=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(x.status);u(new G(M,x.message))}else u(new G(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(L.UNAVAILABLE,"Connection failed."));break;default:W(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(Re,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(Re,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Vd(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=c1(),l=u1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(Re,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const x=new Z4({Zo:k=>{_?H(Re,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(m||(H(Re,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(Re,`RPC '${t}' stream ${r} sending:`,k),g.send(k))},Xo:()=>g.close()}),M=(k,S,v)=>{k.listen(S,R=>{try{v(R)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,Za.EventType.OPEN,()=>{_||(H(Re,`RPC '${t}' stream ${r} transport opened.`),x.__())}),M(g,Za.EventType.CLOSE,()=>{_||(_=!0,H(Re,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(g))}),M(g,Za.EventType.ERROR,k=>{_||(_=!0,Js(Re,`RPC '${t}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),x.u_(new G(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,Za.EventType.MESSAGE,k=>{var S;if(!_){const v=k.data[0];bt(!!v,16349);const R=v,N=(R==null?void 0:R.error)||((S=R[0])===null||S===void 0?void 0:S.error);if(N){H(Re,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let q=function(E){const b=Jt[E];if(b!==void 0)return F1(b)}(U),T=N.message;q===void 0&&(q=L.INTERNAL,T="Unknown error status: "+U+" with message "+N.message),_=!0,x.u_(new G(q,T)),g.close()}else H(Re,`RPC '${t}' stream ${r} received:`,v),x.c_(v)}}),M(l,l1.STAT_EVENT,k=>{k.stat===Ad.PROXY?H(Re,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===Ad.NOPROXY&&H(Re,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(e){return new n4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class sA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new G(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H($_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J4 extends sA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=s4(this.serializer,t),i=function(s){if(!("targetChange"in s))return rt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?rt.min():a.readTime?Un(a.readTime):rt.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Md(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Id(u)?{documents:l4(s,u)}:{query:u4(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Y1(s,a.resumeToken);const h=Nd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(rt.min())>0){l.readTime=Sc(s,a.snapshotVersion.toTimestamp());const h=Nd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=h4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Md(this.serializer),n.removeTarget=t,this.Q_(n)}}class tN extends sA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=o4(t.writeResults,t.commitTime),i=Un(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Md(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>a4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{}class nN extends eN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,xd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,xd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class iN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(pi(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="RemoteStore";class rN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{$r(this)&&(H(qr,"Restarting streams for network reachability change."),await async function(u){const h=st(u);h.da.add(4),await yl(h),h.Va.set("Unknown"),h.da.delete(4),await ah(h)}(this))})}),this.Va=new iN(i,r)}}async function ah(e){if($r(e))for(const t of e.Aa)await t(!0)}async function yl(e){for(const t of e.Aa)await t(!1)}function aA(e,t){const n=st(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),pg(n)?gg(n):Ta(n).N_()&&mg(n,t))}function dg(e,t){const n=st(e),i=Ta(n);n.Ea.delete(t),i.N_()&&oA(n,t),n.Ea.size===0&&(i.N_()?i.k_():$r(n)&&n.Va.set("Unknown"))}function mg(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ta(e).Z_(t)}function oA(e,t){e.ma.Ke(t),Ta(e).X_(t)}function gg(e){e.ma=new WD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ta(e).start(),e.Va.ca()}function pg(e){return $r(e)&&!Ta(e).O_()&&e.Ea.size>0}function $r(e){return st(e).da.size===0}function lA(e){e.ma=void 0}async function sN(e){e.Va.set("Online")}async function aN(e){e.Ea.forEach((t,n)=>{mg(e,t)})}async function oN(e,t){lA(e),pg(e)?(e.Va.Pa(t),gg(e)):e.Va.set("Unknown")}async function lN(e,t,n){if(e.Va.set("Online"),t instanceof Q1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Rc(e,i)}else if(t instanceof xu?e.ma.Xe(t):t instanceof G1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(rt.min()))try{const i=await iA(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(Ee.EMPTY_BYTE_STRING,d.snapshotVersion)),oA(s,u);const g=new Fi(d.target,u,h,d.sequenceNumber);mg(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(qr,"Failed to raise snapshot:",i),await Rc(e,i)}}async function Rc(e,t,n){if(!va(t))throw t;e.da.add(1),await yl(e),e.Va.set("Offline"),n||(n=()=>iA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(qr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await ah(e)})}function uA(e,t){return t().catch(n=>Rc(e,n,t))}async function oh(e){const t=st(e),n=fr(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Jm;for(;uN(t);)try{const r=await F4(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,cN(t,r)}catch(r){await Rc(t,r)}cA(t)&&hA(t)}function uN(e){return $r(e)&&e.Ia.length<10}function cN(e,t){e.Ia.push(t);const n=fr(e);n.N_()&&n.ea&&n.ta(t.mutations)}function cA(e){return $r(e)&&!fr(e).O_()&&e.Ia.length>0}function hA(e){fr(e).start()}async function hN(e){fr(e).ia()}async function fN(e){const t=fr(e);for(const n of e.Ia)t.ta(n.mutations)}async function dN(e,t,n){const i=e.Ia.shift(),r=ag.from(i,t,n);await uA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await oh(e)}async function mN(e,t){t&&fr(e).ea&&await async function(i,r){if(function(a){return $D(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();fr(i).L_(),await uA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await oh(i)}}(e,t),cA(e)&&hA(e)}async function Z_(e,t){const n=st(e);n.asyncQueue.verifyOperationInProgress(),H(qr,"RemoteStore received new credentials");const i=$r(n);n.da.add(3),await yl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ah(n)}async function gN(e,t){const n=st(e);t?(n.da.delete(2),await ah(n)):t||(n.da.add(2),await yl(n),n.Va.set("Unknown"))}function Ta(e){return e.fa||(e.fa=function(n,i,r){const s=st(n);return s.oa(),new J4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:sN.bind(null,e),n_:aN.bind(null,e),i_:oN.bind(null,e),Y_:lN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),pg(e)?gg(e):e.Va.set("Unknown")):(await e.fa.stop(),lA(e))})),e.fa}function fr(e){return e.ga||(e.ga=function(n,i,r){const s=st(n);return s.oa(),new tN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:hN.bind(null,e),i_:mN.bind(null,e),na:fN.bind(null,e),ra:dN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await oh(e)):(await e.ga.stop(),e.Ia.length>0&&(H(qr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new yg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(e,t){if(pi("AsyncQueue",`${t}: ${e}`),va(e))return new G(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(t){return new zs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||X.comparator(n.key,i.key):(n,i)=>X.comparator(n.key,i.key),this.keyedMap=Wa(),this.sortedSet=new Gt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new zs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.pa=new Gt(X.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):W(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class ra{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ra(t,n,zs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class yN{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=st(n),s=r.queries;r.queries=J_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(L.ABORTED,"Firestore shutting down"))}}function J_(){return new Kr(e=>O1(e),th)}async function fA(e,t){const n=st(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new pN,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=_g(a,`Initialization of query '${ds(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&vg(n)}async function dA(e,t){const n=st(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _N(e,t){const n=st(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&vg(n)}function vN(e,t,n){const i=st(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function vg(e){e.Ca.forEach(t=>{t.next()})}var Pd,tv;(tv=Pd||(Pd={})).xa="default",tv.Cache="cache";class mA{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ra(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ra.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t){this.key=t}}class pA{constructor(t){this.key=t}}class TN{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.Za=M1(t),this.Xa=new zs(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new W_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=eh(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?x!==M&&(i.track({type:3,doc:_}),k=!0):this.ru(m,_)||(i.track({type:2,doc:_}),k=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),k=!0):m&&!_&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,x){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:k})}};return M(_)-M(x)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new ra(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=mt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new pA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new gA(i))}),n}au(t){this.Ha=t.$s,this.Ya=mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ra.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tg="SyncEngine";class EN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class AN{constructor(t){this.key=t,this.cu=!1}}class bN{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Kr(l=>O1(l),th),this.Pu=new Map,this.Tu=new Set,this.Iu=new Gt(X.comparator),this.Eu=new Map,this.du=new ug,this.Au={},this.Ru=new Map,this.Vu=ia.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function SN(e,t,n=!0){const i=AA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await yA(i,t,n,!0),r}async function wN(e,t){const n=AA(e);await yA(n,t,!0,!1)}async function yA(e,t,n,i){const r=await G4(e.localStore,Pn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await RN(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&aA(e.remoteStore,r),l}async function RN(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,k,S,v){let R=k.view.tu(S);R.Cs&&(R=await Q_(M.localStore,k.query,!1).then(({documents:T})=>k.view.tu(T,R)));const N=v&&v.targetChanges.get(k.targetId),U=v&&v.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(R,M.isPrimaryClient,N,U);return nv(M,k.targetId,q.ou),q.snapshot}(e,g,m,_);const s=await Q_(e.localStore,t,!0),a=new TN(t,s.$s),l=a.tu(s.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);nv(e,n,h.ou);const d=new EN(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function IN(e,t,n){const i=st(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!th(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await kd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&dg(i.remoteStore,r.targetId),Ld(i,r.targetId)}).catch(_a)):(Ld(i,r.targetId),await kd(i.localStore,r.targetId,!0))}async function CN(e,t){const n=st(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dg(n.remoteStore,i.targetId))}async function DN(e,t,n){const i=PN(e);try{const r=await function(a,l){const u=st(a),h=se.now(),d=l.reduce((_,x)=>_.add(x.key),mt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=yi(),M=mt();return u.Bs.getEntries(_,d).next(k=>{x=k,x.forEach((S,v)=>{v.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(k=>{g=k;const S=[];for(const v of l){const R=GD(v,g.get(v.key).overlayedDocument);R!=null&&S.push(new Xr(v.key,R,S1(R.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(k=>{m=k;const S=k.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,k.batchId,S)})}).then(()=>({batchId:m.batchId,changes:V1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Gt(lt)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await _l(i,r.changes),await oh(i.remoteStore)}catch(r){const s=_g(r,"Failed to persist write");n.reject(s)}}async function _A(e,t){const n=st(e);try{const i=await q4(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?bt(a.cu,14607):r.removedDocuments.size>0&&(bt(a.cu,42227),a.cu=!1))}),await _l(n,i,t)}catch(i){await _a(i)}}function ev(e,t,n){const i=st(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=st(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&vg(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function NN(e,t,n){const i=st(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Gt(X.comparator);a=a.insert(s,Ce.newNoDocument(s,rt.min()));const l=mt().add(s),u=new rh(rt.min(),new Map,new Gt(lt),a,l);await _A(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),Eg(i)}else await kd(i.localStore,t,!1).then(()=>Ld(i,t,n)).catch(_a)}async function xN(e,t){const n=st(e),i=t.batch.batchId;try{const r=await B4(n.localStore,t);TA(n,i,null),vA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _l(n,r)}catch(r){await _a(r)}}async function ON(e,t,n){const i=st(e);try{const r=await function(a,l){const u=st(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(bt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);TA(i,t,n),vA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _l(i,r)}catch(r){await _a(r)}}function vA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function TA(e,t,n){const i=st(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Ld(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||EA(e,i)})}function EA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(dg(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Eg(e))}function nv(e,t,n){for(const i of n)i instanceof gA?(e.du.addReference(i.key,t),MN(e,i)):i instanceof pA?(H(Tg,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||EA(e,i.key)):W(19791,{pu:i})}function MN(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Tg,"New document in limbo: "+n),e.Tu.add(i),Eg(e))}function Eg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new X(Pt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new AN(n)),e.Iu=e.Iu.insert(n,i),aA(e.remoteStore,new Fi(Pn(Jc(n.path)),i,"TargetPurposeLimboResolution",$c.le))}}async function _l(e,t,n){const i=st(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=hg.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=st(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(h,m=>V.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>V.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!va(g))throw g;H(fg,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),x=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function kN(e,t){const n=st(e);if(!n.currentUser.isEqual(t)){H(Tg,"User change. New user:",t.toKey());const i=await nA(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new G(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _l(n,i.ks)}}function VN(e,t){const n=st(e),i=n.Eu.get(t);if(i&&i.cu)return mt().add(i.key);{let r=mt();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function AA(e){const t=st(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NN.bind(null,t),t.lu.Y_=_N.bind(null,t.eventManager),t.lu.gu=vN.bind(null,t.eventManager),t}function PN(e){const t=st(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,t),t}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return z4(this.persistence,new L4,t.initialUser,this.serializer)}Su(t){return new eA(cg.fi,this.serializer)}bu(t){return new Y4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class LN extends Ic{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){bt(this.persistence.referenceDelegate instanceof wc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new A4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?qe.withCacheSize(this.cacheSizeBytes):qe.DEFAULT;return new eA(i=>wc.fi(i,n),this.serializer)}}class Ud{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await gN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yN}()}createDatastore(t){const n=sh(t.databaseInfo.databaseId),i=function(s){return new W4(s)}(t.databaseInfo);return function(s,a,l,u){return new nN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new rN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>ev(this.syncEngine,n,0),function(){return X_.C()?new X_:new K4}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new bN(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=st(r);H(qr,"RemoteStore shutting down."),s.da.add(5),await yl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ud.provider={build:()=>new Ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):pi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class UN{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ie.UNAUTHENTICATED,this.clientId=m1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(dr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(dr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=_g(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function yf(e,t){e.asyncQueue.verifyOperationInProgress(),H(dr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await nA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function iv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jN(e);H(dr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Z_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Z_(t.remoteStore,r)),e._onlineComponents=t}async function jN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(dr,"Using user provided OfflineComponentProvider");try{await yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await yf(e,new Ic)}}else H(dr,"Using default OfflineComponentProvider"),await yf(e,new LN(void 0));return e._offlineComponents}async function SA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(dr,"Using user provided OnlineComponentProvider"),await iv(e,e._uninitializedComponentsProvider._online)):(H(dr,"Using default OnlineComponentProvider"),await iv(e,new Ud))),e._onlineComponents}function zN(e){return SA(e).then(t=>t.syncEngine)}async function jd(e){const t=await SA(e),n=t.eventManager;return n.onListen=SN.bind(null,t.syncEngine),n.onUnlisten=IN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CN.bind(null,t.syncEngine),n}function BN(e,t,n={}){const i=new ir;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new bA({next:m=>{d.xu(),a.enqueueAndForget(()=>dA(s,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new G(L.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new G(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new mA(Jc(l.path),d,{includeMetadataChanges:!0,Qa:!0});return fA(s,g)}(await jd(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e,t,n){if(!n)throw new G(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qN(e,t,n,i){if(t===!0&&i===!0)throw new G(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sv(e){if(!X.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function av(e){if(X.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W(12329,{type:typeof e})}function oi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(e);throw new G(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firestore.googleapis.com",ov=!0;class lv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IA,this.ssl=ov}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<T4)throw new G(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZC;switch(i.type){case"firstParty":return new eD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=rv.get(n);i&&(H("ComponentProvider","Removing Datastore"),rv.delete(n),i.terminate())}(this),Promise.resolve()}}function HN(e,t,n,i={}){var r;e=oi(e,uh);const s=ma(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(TE(`https://${u}`),EE("Firestore",!0)),a.host!==IA&&a.host!==u&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Ur(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Ie.MOCK_USER;else{d=T2(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ie(m)}e._authCredentials=new WC(new f1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ea(this.firestore,t,this._query)}}class ke{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}}class rr extends Ea{constructor(t,n,i){super(t,n,Jc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new X(t))}withConverter(t){return new rr(this.firestore,t,this._path)}}function _f(e,t,...n){if(e=Fe(e),RA("collection","path",t),e instanceof uh){const i=Pt.fromString(t,...n);return av(i),new rr(e,null,i)}{if(!(e instanceof ke||e instanceof rr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pt.fromString(t,...n));return av(i),new rr(e.firestore,null,i)}}function Kn(e,t,...n){if(e=Fe(e),arguments.length===1&&(t=m1.newId()),RA("doc","path",t),e instanceof uh){const i=Pt.fromString(t,...n);return sv(i),new ke(e,null,new X(i))}{if(!(e instanceof ke||e instanceof rr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pt.fromString(t,...n));return sv(i),new ke(e.firestore,e instanceof rr?e.converter:null,new X(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="AsyncQueue";class cv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rA(this,"async_queue_retry"),this.rc=()=>{const i=pf();i&&H(uv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ir;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!va(t))throw t;H(uv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,pi("INTERNAL UNHANDLED ERROR: ",hv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=yg.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&W(47125,{cc:hv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function hv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class sa extends uh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new cv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cv(t),this._firestoreClient=void 0,await t}}}function FN(e,t){const n=typeof e=="object"?e:wE(),i=typeof e=="string"?e:_c,r=qm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=_2("firestore");s&&HN(r,...s)}return r}function Ag(e){if(e._terminated)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GN(e),e._firestoreClient}function GN(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new pD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new UN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new aa(Ee.fromBase64String(t))}catch(n){throw new G(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new aa(Ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class YN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,n,this.fieldTransforms):new gl(t,this.data,n,this.fieldTransforms)}}function DA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ic:e})}}class Rg{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Rg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Cc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(DA(this.Ic)&&QN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class KN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||sh(t)}bc(t,n,i,r=!1){return new Rg({Ic:t,methodName:n,wc:i,path:ve.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NA(e){const t=e._freezeSettings(),n=sh(e._databaseId);return new KN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function XN(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);MA("Data must be an object, but it was:",a,i);const l=xA(i,a);let u,h;if(s.merge)u=new vn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=ZN(t,g,n);if(!a.contains(m))throw new G(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JN(d,m)||d.push(m)}u=new vn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new YN(new hn(l),u,h)}function $N(e,t,n,i=!1){return Ig(n,e.bc(i?4:3,t))}function Ig(e,t){if(OA(e=Fe(e)))return MA("Unsupported field value:",t,e),xA(e,t);if(e instanceof CA)return function(i,r){if(!DA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Ig(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=se.fromDate(i);return{timestampValue:Sc(r.serializer,s)}}if(i instanceof se){const s=new se(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sc(r.serializer,s)}}if(i instanceof Sg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:Y1(r.serializer,i._byteString)};if(i instanceof ke){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof wg)return function(a,l){return{mapValue:{fields:{[A1]:{stringValue:b1},[vc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return rg(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${lh(i)}`)}(e,t)}function xA(e,t){const n={};return p1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(e,(i,r)=>{const s=Ig(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function OA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Sg||e instanceof aa||e instanceof ke||e instanceof CA||e instanceof wg)}function MA(e,t,n){if(!OA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=lh(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function ZN(e,t,n){if((t=Fe(t))instanceof bg)return t._internalPath;if(typeof t=="string")return kA(e,t);throw Cc("Field path arguments must be of type string or ",e,!1,void 0,n)}const WN=new RegExp("[~\\*/\\[\\]]");function kA(e,t,n){if(t.search(WN)>=0)throw Cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new bg(...t.split("."))._internalPath}catch{throw Cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(L.INVALID_ARGUMENT,l+e+u)}function JN(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(PA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tx extends VA{data(){return super.data()}}function PA(e,t){return typeof t=="string"?kA(e,t):t instanceof bg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class nx extends Cg{}function ix(e,t,...n){let i=[];t instanceof Cg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof Ng).length,l=s.filter(u=>u instanceof Dg).length;if(a>1||a>0&&l>0)throw new G(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Dg extends nx{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Dg(t,n,i)}_apply(t){const n=this._parse(t);return LA(t._query,n),new Ea(t.firestore,t.converter,Cd(t._query,n))}_parse(t){const n=NA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){mv(g,d);const x=[];for(const M of g)x.push(dv(u,s,M));m={arrayValue:{values:x}}}else m=dv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||mv(g,d),m=$N(l,a,g,d==="in"||d==="not-in");return ee.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ng extends Cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ng(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)LA(a,u),a=Cd(a,u)}(t._query,n),new Ea(t.firestore,t.converter,Cd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dv(e,t,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new G(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x1(t)&&n.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Pt.fromString(n));if(!X.isDocumentKey(i))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return I_(e,new X(i))}if(n instanceof ke)return I_(e,n._key);throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function mv(e,t){if(!Array.isArray(e)||e.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rx{convertValue(t,n="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw W(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Yr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[vc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Zt(a.doubleValue));return new wg(s)}convertGeoPoint(t){return new Sg(Zt(t.latitude),Zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Wc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zo(t));default:return null}}convertTimestamp(t){const n=ur(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Pt.fromString(t);bt(J1(i),9688,{name:t});const r=new Bo(i.get(1),i.get(3)),s=new X(i.popFirst(5));return r.isEqual(n)||pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UA extends VA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(PA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ou extends UA{data(t={}){return super.data(t)}}class ax{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new to(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ou(this._firestore,this._userDataWriter,i.key,i,new to(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:ox(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ox(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(e){e=oi(e,ke);const t=oi(e.firestore,sa);return BN(Ag(t),e._key).then(n=>BA(t,e,n))}class jA extends rx{constructor(t){super(),this.firestore=t}convertBytes(t){return new aa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function Qa(e,t,n){e=oi(e,ke);const i=oi(e.firestore,sa),r=sx(e.converter,t,n);return zA(i,[XN(NA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Ln.none())])}function ux(e){return zA(oi(e.firestore,sa),[new sg(e._key,Ln.none())])}function gv(e,...t){var n,i,r;e=Fe(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof ke)h=oi(e.firestore,sa),d=Jc(e._key.path),u={next:g=>{t[a]&&t[a](BA(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=oi(e,Ea);h=oi(g.firestore,sa),d=g._query;const m=new jA(h);u={next:_=>{t[a]&&t[a](new ax(h,m,g,_))},error:t[a+1],complete:t[a+2]},ex(e._query)}return function(m,_,x,M){const k=new bA(M),S=new mA(_,k,x);return m.asyncQueue.enqueueAndForget(async()=>fA(await jd(m),S)),()=>{k.xu(),m.asyncQueue.enqueueAndForget(async()=>dA(await jd(m),S))}}(Ag(h),d,l,u)}function zA(e,t){return function(i,r){const s=new ir;return i.asyncQueue.enqueueAndForget(async()=>DN(await zN(i),r,s)),s.promise}(Ag(e),t)}function BA(e,t,n){const i=n.docs.get(t._key),r=new jA(e);return new UA(e,r,t._key,i,new to(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){ya=r})(ga),Ws(new jr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new sa(new JC(i.getProvider("auth-internal")),new nD(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),er(g_,p_,t),er(g_,p_,"esm2017")})();const cx="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",hx="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",fx="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",dx="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",mx="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",gx="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",px="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",yx="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",_x="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",vx="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",Tx="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",Ex="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",Ax="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",bx="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",Sx="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",wx="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",Rx="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",Ix="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",$n="https://art.pixilart.com/sr2a947c8f967b8.png",it={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},qA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},HA={normal:cx,fire:hx,water:fx,electric:dx,grass:mx,ice:gx,fighting:px,poison:yx,ground:_x,flying:vx,psychic:Tx,bug:Ex,rock:Ax,ghost:bx,dragon:Sx,dark:wx,steel:Rx,fairy:Ix},uu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},Cx=()=>A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),Dx=()=>A.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),FA=({className:e="w-6 h-6",isFavorite:t})=>A.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":it.textMuted},children:[" ",A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),GA=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),Nx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),xx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),Ox=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",A.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),Mx=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),QA=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),YA=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),kx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),A.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),A.jsx("path",{d:"M3 12h6"}),A.jsx("path",{d:"M15 12h6"})]}),Vx=()=>A.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),Px=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),Lx=()=>A.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),Ux=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),A.jsx("path",{d:"M9 12l2 2l4 -4"})]}),jx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),A.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),zx=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),A.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),A.jsx("path",{d:"M12 8v4"}),A.jsx("path",{d:"M12 16h.01"})]}),zd=({type:e})=>A.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:qA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),Bx={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},In="pokemonTeamBuilder",qx=(e,t)=>{const[n,i]=Y.useState(e);return Y.useEffect(()=>{const r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),n},Hx=Rv.memo(({onAdd:e,onShowDetails:t,details:n,lastRef:i,isSuggested:r})=>{const s=l=>{l.stopPropagation(),e(n)},a=l=>{l.stopPropagation(),t(n)};return n?A.jsxs("div",{ref:i,onClick:s,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${r?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:it.cardLight},children:[r&&A.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),A.jsx("img",{src:n.sprite||$n,onError:l=>{l.currentTarget.src=$n},alt:n.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),A.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:n.name}),A.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:n.types.map(l=>A.jsx("img",{src:HA[l],alt:l,className:"w-5 h-5"},l))}),A.jsx("button",{onClick:a,className:`
            absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
            opacity-100     
            lg:opacity-0    
            lg:group-hover:opacity-100 
            lg:transition-opacity
            `,children:A.jsx(YA,{})})]}):A.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:it.cardLight},children:[A.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),A.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),A.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:A.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),Fx=({stat:e,value:t})=>{const n={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},i=t/255*100;return A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",children:e.replace("-"," ")}),A.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-4",children:A.jsx("div",{className:`${n[e]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${i}%`},children:t})})]})},Gx=({pokemon:e,onClose:t,onAdd:n,currentTeam:i})=>{var s,a;if(!e)return null;const r=i.some(l=>l.id===e.id);return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:A.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",onClick:l=>l.stopPropagation(),children:[A.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:A.jsx(QA,{})}),A.jsxs("div",{className:"text-center",children:[A.jsx("img",{src:e.animatedSprite||e.sprite,alt:e.name,className:"mx-auto h-32 w-32 image-pixelated"}),A.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",children:[e.name," ",A.jsxs("span",{className:"text-gray-400",children:["#",e.id]})]}),A.jsx("div",{className:"flex justify-center gap-2 mt-2",children:e.types.map(l=>A.jsx(zd,{type:l},l))})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Base Stats"}),A.jsx("div",{className:"space-y-2",children:(s=e.stats)==null?void 0:s.map(l=>A.jsx(Fx,{stat:l.stat.name,value:l.base_stat},l.stat.name))})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),A.jsx("div",{className:"text-center space-x-2",children:(a=e.abilities)==null?void 0:a.map(l=>A.jsx("span",{className:"capitalize inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:l.ability.name.replace("-"," ")},l.ability.name))})]}),A.jsx("div",{className:"mt-8 flex justify-center",children:!r&&A.jsxs("button",{onClick:()=>{n(e),t()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[A.jsx(Ox,{})," Add to Team"]})})]})})},Qx=({currentTeam:e,teamName:t,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,teamAnalysis:m,handleDeleteTeam:_,searchInput:x,setSearchInput:M,selectedGeneration:k,setSelectedGeneration:S,generations:v,isInitialLoading:R,isFiltering:N,availablePokemons:U,pokemonDetailsCache:q,handleAddPokemonToTeam:T,lastPokemonElementRef:y,isFetchingMore:E,visibleCount:b,selectedTypes:I,handleTypeSelection:C,showDetails:w,suggestedPokemonIds:Ae})=>A.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[A.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:it.card},children:[A.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:it.primary},children:"Current Team"}),A.jsx("input",{type:"text",value:t,onChange:Q=>n(Q.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:it.cardLight,borderColor:"transparent"}}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[e.map(Q=>A.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:j=>{j.stopPropagation(),i(Q.id)},children:[A.jsx("img",{src:Q.animatedSprite||Q.sprite||$n,onError:j=>{j.currentTarget.src=Q.sprite||$n},alt:Q.name,className:"mx-auto h-20 w-20"}),A.jsx("p",{className:"text-xs capitalize truncate",children:Q.name}),A.jsx("button",{onClick:j=>{j.stopPropagation(),w(Q)},className:`
                        absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
                        opacity-100     
                        lg:opacity-0    
                        lg:group-hover:opacity-100 
                        lg:transition-opacity
                        `,children:A.jsx(YA,{})}),A.jsx("button",{onClick:j=>{j.stopPropagation(),i(Q.id)},className:`\r
                            absolute top-1 right-1 bg-red-600 text-white rounded-full h-5 w-5 flex items-center justify-center text-sm\r
                            opacity-100 visible\r
                            lg:opacity-0 lg:invisible\r
                            lg:group-hover:opacity-100 lg:group-hover:visible\r
                            transition-opacity duration-200\r
                        `,children:"X"})]},Q.id)),Array.from({length:6-e.length}).map((Q,j)=>A.jsx("div",{className:"flex items-center justify-center",children:A.jsx("img",{src:$n,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},j))]}),A.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[A.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:it.primary,color:it.background},children:[" ",A.jsx(xx,{})," ",s?"Update":"Save"," "]}),A.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Clear Team",children:A.jsx(Nx,{})})]})]}),A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:it.card},children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Recent Teams"}),A.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),A.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:l.length>0?l.map(Q=>A.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:it.cardLight},children:[A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"font-bold text-lg truncate",children:Q.name}),A.jsx("div",{className:"flex mt-1",children:Q.pokemons.map(j=>A.jsx("img",{src:j.sprite||$n,onError:Z=>{Z.currentTarget.src=$n},alt:j.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:it.cardLight,backgroundColor:it.card}},j.id))})]}),A.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[A.jsx("button",{onClick:()=>h(Q),title:"Favorite",children:A.jsx(FA,{isFavorite:Q.isFavorite})}),A.jsx("button",{onClick:()=>d(Q),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"}),A.jsx("button",{onClick:()=>_(Q.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:A.jsx(GA,{})})]})]},Q.id)):A.jsx("p",{className:"text-center py-4",style:{color:it.textMuted},children:"No recent teams yet."})})]})]}),A.jsx("div",{className:"lg:col-span-6",children:A.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:it.card},children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokémon!"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:x,onChange:Q=>M(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:it.cardLight,borderColor:"transparent"}}),A.jsxs("select",{value:k,onChange:Q=>S(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:it.cardLight,borderColor:"transparent"},children:[A.jsx("option",{value:"all",children:"All Generations"}),v.map(Q=>A.jsx("option",{value:Q.name,className:"capitalize",children:Q.name.replace("-"," ")},Q.name))]})]})]}),A.jsx("div",{className:"relative flex-grow h-[60vh]",children:R?A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:it.primary}})}):A.jsxs(A.Fragment,{children:[N&&A.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:it.primary}})}),A.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:U.slice(0,b).map((Q,j)=>A.jsx(Hx,{details:q[Q.id],onAdd:T,onShowDetails:w,lastRef:j===b-1?y:null,isSuggested:Ae.has(Q.id)},Q.id))}),E&&A.jsx("div",{className:"flex justify-center py-4",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:it.primary}})}),U.length===0&&!N&&A.jsx("p",{className:"text-center py-8",style:{color:it.textMuted},children:"No Pokémon found with these filters. :("})]})]})})]})}),A.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:it.card},children:[A.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),A.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(qA).map(Q=>A.jsx("button",{onClick:()=>C(Q),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${I.has(Q)?"ring-2 ring-white":""}`,title:Q,children:A.jsx("img",{src:HA[Q],alt:Q,className:"w-full h-full object-contain"})},Q))})]}),e.length>0&&A.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:it.card},children:[A.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),A.jsx("div",{className:"flex flex-wrap gap-1",children:m.strengths.size>0?Array.from(m.strengths).sort().map(Q=>A.jsx(zd,{type:Q},Q)):A.jsx("p",{className:"text-sm",style:{color:it.textMuted},children:"No type advantages found."})})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),A.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(m.weaknesses).length>0?Object.entries(m.weaknesses).sort(([,Q],[,j])=>j-Q).map(([Q,j])=>A.jsxs("div",{className:"flex items-center",children:[A.jsx(zd,{type:Q}),A.jsxs("span",{className:"text-xs text-red-300",children:["(",j,"x)"]})]},Q)):A.jsx("p",{className:"text-sm",style:{color:it.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),Yx=({teams:e,onEdit:t,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s})=>A.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:it.card},children:[A.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),A.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:a=>s(a.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:it.cardLight,borderColor:"transparent"}}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0?e.map(a=>A.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:it.cardLight},children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("p",{className:"font-bold text-xl truncate mb-2",children:a.name}),A.jsx("button",{onClick:()=>i(a),title:"Favorite",children:A.jsx(FA,{isFavorite:a.isFavorite})})]}),A.jsx("div",{className:"flex my-2",children:a.pokemons.map(l=>A.jsx("img",{src:l.sprite||$n,onError:u=>{u.currentTarget.src=$n},alt:l.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:it.cardLight,backgroundColor:it.card}},l.id))}),A.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[A.jsx("button",{onClick:()=>t(a),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),A.jsx("button",{onClick:()=>n(a.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:A.jsx(GA,{})})]})]},a.id)):A.jsx("p",{className:"col-span-full text-center py-8",style:{color:it.textMuted},children:"No teams found."})})]});function Kx(){const[e,t]=Y.useState(null),[n,i]=Y.useState(null),[r,s]=Y.useState([]),[a,l]=Y.useState([]),[u,h]=Y.useState({}),[d,g]=Y.useState({}),[m,_]=Y.useState([]),[x,M]=Y.useState("all"),[k,S]=Y.useState(new Set),[v,R]=Y.useState(""),N=qx(v,300),[U,q]=Y.useState([]),[T,y]=Y.useState([]),[E,b]=Y.useState(""),[I,C]=Y.useState(null),[w,Ae]=Y.useState({strengths:new Set,weaknesses:{}}),[Q,j]=Y.useState(!0),[Z,tt]=Y.useState(!1),[St,Ut]=Y.useState(!1),[Ti,be]=Y.useState([]),[jt,Pe]=Y.useState("builder"),[Le,Zr]=Y.useState(!1),[Ue,ch]=Y.useState(!1),[Wr,Jr]=Y.useState(""),[bn,ts]=Y.useState(50),[Aa,es]=Y.useState(null),[ba,Sa]=Y.useState(3),[hh,wa]=Y.useState(new Set),[vl,Ra]=Y.useState(0),[pr,Tl]=Y.useState(!1);Y.useEffect(()=>{const z=()=>{window.innerWidth<768?Sa(2):Sa(3)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const ct=Y.useCallback((z,F="info")=>{const K=Date.now();be(at=>[...at,{id:K,message:z,type:F}]),setTimeout(()=>be(at=>at.filter($=>$.id!==K)),3e3)},[]),Sn=Y.useMemo(()=>{const z=new Set(U.map(F=>F.id));return a.filter(F=>!z.has(F.id))},[a,U]),El=Y.useMemo(()=>T.sort((z,F)=>new Date(F.updatedAt||F.createdAt)-new Date(z.updatedAt||z.createdAt)).slice(0,3),[T]),le=Y.useMemo(()=>{let z=[...T].sort((F,K)=>K.isFavorite-F.isFavorite||new Date(K.updatedAt||F.createdAt)-new Date(F.updatedAt||F.createdAt));return Wr&&(z=z.filter(F=>F.name.toLowerCase().includes(Wr.toLowerCase()))),z},[T,Wr]),ue=Y.useCallback(async z=>{if(!n)return;ct("Loading shared team...","info");const F=Kn(n,`artifacts/${In}/public/data/teams`,z);try{const K=await lx(F);if(K.exists()){const at=K.data(),$=at.pokemons.map(async Tt=>{var It,Ct,_t,zt,Qe,Wt;if(u[Tt.id])return u[Tt.id];const et=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${Tt.id}`)).json();return{id:et.id,name:et.name,sprite:(It=et.sprites)==null?void 0:It.front_default,types:et.types.map(wn=>wn.type.name),animatedSprite:(Wt=(Qe=(zt=(_t=(Ct=et.sprites)==null?void 0:Ct.versions)==null?void 0:_t["generation-v"])==null?void 0:zt["black-white"])==null?void 0:Qe.animated)==null?void 0:Wt.front_default,stats:et.stats,abilities:et.abilities}}),yt=await Promise.all($);h(Tt=>({...Tt,...yt.reduce((Mt,et)=>({...Mt,[et.id]:et}),{})})),q(yt.filter(Boolean)),b(at.name),C(null),ct(`Loaded team: ${at.name}`,"success")}else ct("Shared team not found.","error")}catch{ct("Failed to load shared team.","error")}},[n,u,ct]);Y.useEffect(()=>{try{const z=SE(Bx),F=XC(z);i(FN(z));const K=UI(F,$=>{$&&t($.uid)});return(async()=>{if(!F.currentUser)try{const $=typeof __initial_auth_token<"u"?__initial_auth_token:null;$?await VI(F,$):await NI(F)}catch{ct("Authentication failed. Please refresh.","error")}})(),()=>K()}catch{ct("Failed to connect to services.","error")}},[]),Y.useEffect(()=>{(async()=>{try{const at=(await(await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=1025")).json()).results.map(Ct=>fetch(Ct.url).then(_t=>_t.json())),yt=(await Promise.all(at)).flatMap(Ct=>Ct.varieties.map(_t=>({name:_t.pokemon.name,url:_t.pokemon.url}))),Mt=Array.from(new Map(yt.map(Ct=>[Ct.url,Ct])).values()).map(Ct=>({id:parseInt(Ct.url.split("/")[6]),name:Ct.name,url:Ct.url}));s(Mt),l(Mt);const It=await(await fetch("https://pokeapi.co/api/v2/generation")).json();_(It.results)}catch{ct("Failed to load Pokémon data.","error")}finally{j(!1)}})()},[]),Y.useEffect(()=>{if(!n||Q)return;const F=new URLSearchParams(window.location.search).get("team");F&&ue(F)},[n,Q,ue]),Y.useEffect(()=>{(async()=>{if(Q)return;tt(!0);let F=[...r];const K={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(x!=="all"&&K[x]){const[at,$]=K[x];F=F.filter(yt=>yt.id>=at&&yt.id<=$)}if(N&&(F=F.filter(at=>at.name.toLowerCase().includes(N.toLowerCase()))),k.size>0)try{const at=Array.from(k).map(Tt=>fetch(`https://pokeapi.co/api/v2/type/${Tt.toLowerCase()}`).then(Mt=>Mt.json()).then(Mt=>new Set(Mt.pokemon.map(et=>et.pokemon.name)))),yt=(await Promise.all(at)).reduce((Tt,Mt)=>new Set([...Tt].filter(et=>Mt.has(et))));F=F.filter(Tt=>yt.has(Tt.name))}catch{ct("Failed to apply type filter.","error")}l(F),ts(50),tt(!1)})()},[x,k,N,r,Q]),Y.useEffect(()=>{let z=!0;const F=async()=>{const at=Sn.slice(0,bn).filter($=>!u[$.id]||!u[$.id].evolution_chain_url);if(at.length!==0){Ut(!0);try{const $=await Promise.all(at.map(et=>fetch(et.url).then(It=>It.json()))),yt=$.map(et=>fetch(et.species.url).then(It=>It.json())),Tt=await Promise.all(yt);if(!z)return;const Mt=$.reduce((et,It,Ct)=>{var _t,zt,Qe,Wt,wn,Ei;return et[It.id]={id:It.id,name:It.name,sprite:(_t=It.sprites)==null?void 0:_t.front_default,animatedSprite:(Ei=(wn=(Wt=(Qe=(zt=It.sprites)==null?void 0:zt.versions)==null?void 0:Qe["generation-v"])==null?void 0:Wt["black-white"])==null?void 0:wn.animated)==null?void 0:Ei.front_default,types:It.types.map(Ai=>Ai.type.name),stats:It.stats,abilities:It.abilities,evolution_chain_url:Tt[Ct].evolution_chain.url},et},{});h(et=>({...et,...Mt}))}catch{}finally{z&&Ut(!1)}}};return Sn.length>0&&F(),()=>{z=!1}},[Sn,bn,u]),Y.useEffect(()=>{if(!e||!n)return;const z=ix(_f(n,`artifacts/${In}/users/${e}/teams`));return gv(z,K=>{y(K.docs.map(at=>({id:at.id,...at.data()})))},()=>ct("Could not load saved teams.","error"))},[e,n]),Y.useEffect(()=>{const z=U.map($=>u[$.id]).filter(Boolean);if(z.length<U.length||z.length===0){Ae({strengths:new Set,weaknesses:{}}),wa(new Set);return}const F={},K=new Set;z.flatMap($=>$.types).forEach($=>{var yt;Object.entries(((yt=uu[$])==null?void 0:yt.damageDealt)||{}).forEach(([Tt,Mt])=>{Mt>1&&K.add(Tt.toLowerCase())})}),Object.keys(uu).forEach($=>{const yt=$.charAt(0).toUpperCase()+$.slice(1);let Tt=0,Mt=0;z.forEach(et=>{const It=et.types.reduce((Ct,_t)=>{var zt;return Ct*(((zt=uu[_t])==null?void 0:zt.damageTaken[yt])??1)},1);It>1?Tt++:It<1&&Mt++}),Tt>0&&Tt>Mt&&(F[$]=Tt)}),Ae({strengths:K,weaknesses:F}),(async()=>{const $=Object.keys(F);if($.length===0||r.length===0){wa(new Set);return}const yt=async _t=>{if(d[_t])return d[_t];try{let Wt=(await(await fetch(_t)).json()).chain;for(;Wt&&Wt.evolves_to.length>0;)Wt=Wt.evolves_to[0];const wn=Wt.species.name;return g(Ei=>({...Ei,[_t]:wn})),wn}catch{return null}},Mt=r.filter(_t=>{const zt=u[_t.id];return zt?$.some(Qe=>{const Wt=Qe.charAt(0).toUpperCase()+Qe.slice(1);return zt.types.reduce((Ei,Ai)=>{var Da;return Ei*(((Da=uu[Ai])==null?void 0:Da.damageTaken[Wt])??1)},1)<1}):!1}).map(async _t=>{const zt=u[_t.id];return zt!=null&&zt.evolution_chain_url?await yt(zt.evolution_chain_url):null}),et=await Promise.all(Mt),It=[...new Set(et.filter(Boolean))],Ct=new Set(It.map(_t=>{var zt;return(zt=r.find(Qe=>Qe.name===_t))==null?void 0:zt.id}).filter(Boolean));wa(Ct)})()},[U,u,r,d]),Y.useEffect(()=>{if(!n)return;const z=Kn(n,`artifacts/${In}/public/data`,"likes"),F=gv(z,K=>{K.exists()?Ra(K.data().count):Qa(z,{count:0})});return sessionStorage.getItem("hasLikedPokemonBuilder")&&Tl(!0),()=>F()},[n]);const qn=Y.useRef(),Al=Y.useCallback(z=>{St||Z||(qn.current&&qn.current.disconnect(),qn.current=new IntersectionObserver(F=>{F[0].isIntersecting&&Sn.length>bn&&ts(K=>K+50)}),z&&qn.current.observe(z))},[St,Z,Sn,bn]),Ia=Y.useCallback(z=>{if(U.length>=6)return ct("Your team is full (6 Pokémon)!","warning");if(U.find(F=>F.id===z.id))return ct("This Pokémon is already on your team.","warning");q(F=>[...F,z])},[U,ct]),fh=Y.useCallback(z=>{q(F=>F.filter(K=>K.id!==z))},[]),gn=Y.useCallback(()=>{q([]),b(""),C(null)},[]),bl=Y.useCallback(async()=>{var K,at;if(!n||!e)return ct("Database connection not ready.","error");if(U.length===0)return ct("Your team is empty!","warning");if(!E.trim())return ct("Please name your team.","warning");const z=I||Kn(_f(n,`artifacts/${In}/users/${e}/teams`)).id,F={name:E,pokemons:U.map($=>({id:$.id,name:$.name,sprite:$.sprite})),isFavorite:((K=T.find($=>$.id===I))==null?void 0:K.isFavorite)||!1,createdAt:((at=T.find($=>$.id===I))==null?void 0:at.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await Qa(Kn(n,`artifacts/${In}/users/${e}/teams`,z),F),ct(`Team "${E}" saved!`,"success"),gn()}catch{ct("Error saving team.","error")}},[n,e,U,E,I,T,ct,gn]),Sl=Y.useCallback(async()=>{if(!n||pr)return;const z=Kn(n,`artifacts/${In}/public/data`,"likes");try{await Qa(z,{count:increment(1)},{merge:!0}),sessionStorage.setItem("hasLikedPokemonBuilder","true"),Tl(!0),ct("Thanks for the like!","success")}catch{ct("Could not register like.","error")}},[n,pr,ct]),Ca=Y.useCallback(async()=>{if(!n)return ct("Database not ready.","error");if(U.length===0)return ct("Cannot share an empty team!","warning");const z=Kn(_f(n,`artifacts/${In}/public/data/teams`)).id,F={name:E||"Unnamed Team",pokemons:U.map(K=>({id:K.id,name:K.name,sprite:K.sprite}))};try{await Qa(Kn(n,`artifacts/${In}/public/data/teams`,z),F);const K=`${window.location.origin}${window.location.pathname}?team=${z}`,at=document.createElement("textarea");at.value=K,document.body.appendChild(at),at.focus(),at.select();try{document.execCommand("copy")?ct("Share link copied to clipboard!","success"):ct("Failed to copy link.","error")}catch{ct("Failed to copy link.","error")}document.body.removeChild(at)}catch{ct("Could not generate share link.","error")}},[n,U,E,ct]),wl=Y.useCallback(async z=>{const F=z.pokemons.map(async at=>{var Tt,Mt,et,It,Ct,_t;if(u[at.id])return u[at.id];const yt=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${at.id}`)).json();return{id:yt.id,name:yt.name,sprite:(Tt=yt.sprites)==null?void 0:Tt.front_default,types:yt.types.map(zt=>zt.type.name),animatedSprite:(_t=(Ct=(It=(et=(Mt=yt.sprites)==null?void 0:Mt.versions)==null?void 0:et["generation-v"])==null?void 0:It["black-white"])==null?void 0:Ct.animated)==null?void 0:_t.front_default,stats:yt.stats,abilities:yt.abilities}}),K=await Promise.all(F);h(at=>({...at,...K.reduce(($,yt)=>({...$,[yt.id]:yt}),{})})),q(K.filter(Boolean)),b(z.name),C(z.id),Pe("builder"),Zr(!1),window.scrollTo({top:0,behavior:"smooth"})},[u]),Rl=Y.useCallback(async z=>{if(!(!n||!e))try{await ux(Kn(n,`artifacts/${In}/users/${e}/teams`,z)),I===z&&gn(),ct("Team deleted.","info")}catch{ct("Error deleting team.","error")}},[n,e,I,gn,ct]),ns=Y.useCallback(async z=>{if(!(!n||!e))try{await Qa(Kn(n,`artifacts/${In}/users/${e}/teams`,z.id),{...z,isFavorite:!z.isFavorite})}catch{ct("Could not update favorite status.","error")}},[n,e,ct]),Il=Y.useCallback(z=>{S(F=>{const K=new Set(F);return K.has(z)?K.delete(z):K.add(z),K})},[]),Cl=Y.useCallback(z=>{es(z)},[]),yr=()=>{switch(jt){case"allTeams":return A.jsx(Yx,{teams:le,onEdit:wl,onDelete:Rl,onToggleFavorite:ns,searchTerm:Wr,setSearchTerm:Jr});default:return A.jsx(Qx,{currentTeam:U,teamName:E,setTeamName:b,handleRemoveFromTeam:fh,handleSaveTeam:bl,editingTeamId:I,handleClearTeam:gn,recentTeams:El,setCurrentPage:Pe,handleToggleFavorite:ns,handleEditTeam:wl,handleDeleteTeam:Rl,handleShareTeam:Ca,teamAnalysis:w,searchInput:v,setSearchInput:R,selectedGeneration:x,setSelectedGeneration:M,generations:m,isInitialLoading:Q,isFiltering:Z,availablePokemons:Sn,pokemonDetailsCache:u,handleAddPokemonToTeam:Ia,lastPokemonElementRef:Al,isFetchingMore:St,visibleCount:bn,selectedTypes:k,handleTypeSelection:Il,showDetails:Cl,suggestedPokemonIds:hh})}};return A.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:it.background},children:[A.jsx(Gx,{pokemon:Aa,onClose:()=>es(null),onAdd:Ia,currentTeam:U}),A.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Ti.slice(0,ba).map(z=>A.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${z.type==="success"?"bg-green-600":z.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[z.type==="success"&&A.jsx(Ux,{}),z.type==="error"&&A.jsx(jx,{}),z.type==="warning"&&A.jsx(zx,{}),z.message]},z.id))}),A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Ue?"lg:w-20":"w-52"} ${Le?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:it.card},children:A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:`flex items-center h-16 p-4 ${Ue?"justify-center":"justify-between"}`,children:[A.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${Ue?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:it.primary},children:"Menu"}),A.jsx("button",{onClick:()=>ch(!Ue),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:it.textMuted},children:Ue?A.jsx(Lx,{}):A.jsx(Px,{})})]}),A.jsx("nav",{className:"px-4 flex-grow",children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsxs("button",{onClick:()=>{Pe("builder"),Zr(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${jt==="builder"?"bg-purple-500/30":""} ${Ue?"justify-center":""}`,children:[A.jsx(kx,{})," ",A.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Ue?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),A.jsx("li",{children:A.jsxs("button",{onClick:()=>{Pe("allTeams"),Zr(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${jt==="allTeams"?"bg-purple-500/30":""} ${Ue?"justify-center":""}`,children:[A.jsx(Vx,{})," ",A.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Ue?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"All Teams"})]})})]})})]})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[A.jsx("button",{onClick:()=>Zr(!Le),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:it.cardLight},children:Le?A.jsx(QA,{}):A.jsx(Mx,{})}),A.jsxs("div",{className:"flex-1 text-center px-2 overflow-hidden",children:[A.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate sm:ml-16",style:{fontFamily:"'Press Start 2P'",color:it.primary},children:"Pokémon Team Builder"}),A.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:it.primary},children:"By: Enzo Esmeraldo"})]}),A.jsx("div",{className:"w-10 lg:hidden"})]}),A.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:yr()}),A.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:it.cardLight},children:[A.jsxs("p",{className:"text-sm",style:{color:it.textMuted},children:["Developed and built by ",A.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"Enzo Esmeraldo"})," "]}),A.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[A.jsxs("button",{onClick:Sl,disabled:pr,className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors ${pr?"bg-pink-500/50 text-white cursor-not-allowed":"bg-gray-700 hover:bg-pink-500"}`,children:[A.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:A.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),A.jsx("span",{children:vl})]}),A.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:it.textMuted},children:A.jsx(Cx,{})}),A.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:it.textMuted},children:A.jsx(Dx,{})})]}),A.jsxs("p",{className:"text-xs mt-2",style:{color:it.textMuted},children:["Using the ",A.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokéAPI"}),". Pokémon and their names are trademarks of Nintendo."]})]})]})]}),A.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: ${it.card}; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${it.primary}; border-radius: 20px; border: 3px solid ${it.card}; } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } `})]})}u2.createRoot(document.getElementById("root")).render(A.jsx(Rv.StrictMode,{children:A.jsx(Kx,{})}));
