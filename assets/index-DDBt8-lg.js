(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function lv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uv={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=Symbol.for("react.transitional.element"),rb=Symbol.for("react.fragment");function cv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:ib,type:e,key:i,ref:t!==void 0?t:null,props:n}}nc.Fragment=rb;nc.jsx=cv;nc.jsxs=cv;uv.exports=nc;var N=uv.exports,hv={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.transitional.element"),sb=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),ub=Symbol.for("react.consumer"),cb=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),ep=Symbol.iterator;function mb(e){return e===null||typeof e!="object"?null:(e=ep&&e[ep]||e["@@iterator"],typeof e=="function"?e:null)}var dv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mv=Object.assign,gv={};function qs(e,t,n){this.props=e,this.context=t,this.refs=gv,this.updater=n||dv}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pv(){}pv.prototype=qs.prototype;function vd(e,t,n){this.props=e,this.context=t,this.refs=gv,this.updater=n||dv}var Td=vd.prototype=new pv;Td.constructor=vd;mv(Td,qs.prototype);Td.isPureReactComponent=!0;var np=Array.isArray,Mt={H:null,A:null,T:null,S:null,V:null},yv=Object.prototype.hasOwnProperty;function Ed(e,t,n,i,r,s){return n=s.ref,{$$typeof:_d,type:e,key:t,ref:n!==void 0?n:null,props:s}}function gb(e,t){return Ed(e.type,t,void 0,void 0,void 0,e.props)}function Ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===_d}function pb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ip=/\/+/g;function rh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pb(""+e.key):t.toString(36)}function rp(){}function yb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rp,rp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Fr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _d:case sb:a=!0;break;case fv:return a=e._init,Fr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+rh(e,0):i,np(r)?(n="",a!=null&&(n=a.replace(ip,"$&/")+"/"),Fr(r,t,n,"",function(h){return h})):r!=null&&(Ad(r)&&(r=gb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ip,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(np(e))for(var u=0;u<e.length;u++)i=e[u],s=l+rh(i,u),a+=Fr(i,t,n,s,r);else if(u=mb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+rh(i,u++),a+=Fr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Fr(yb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function gl(e,t,n){if(e==null)return e;var i=[],r=0;return Fr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function _b(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vb(){}et.Children={map:gl,forEach:function(e,t,n){gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gl(e,function(){t++}),t},toArray:function(e){return gl(e,function(t){return t})||[]},only:function(e){if(!Ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=qs;et.Fragment=ab;et.Profiler=lb;et.PureComponent=vd;et.StrictMode=ob;et.Suspense=fb;et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mt;et.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Mt.H.useMemoCache(e)}};et.cache=function(e){return function(){return e.apply(null,arguments)}};et.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=mv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!yv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Ed(e.type,r,void 0,void 0,s,i)};et.createContext=function(e){return e={$$typeof:cb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ub,_context:e},e};et.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)yv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Ed(e,s,void 0,void 0,null,r)};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:hb,render:e}};et.isValidElement=Ad;et.lazy=function(e){return{$$typeof:fv,_payload:{_status:-1,_result:e},_init:_b}};et.memo=function(e,t){return{$$typeof:db,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Mt.T,n={};Mt.T=n;try{var i=e(),r=Mt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(vb,sp)}catch(s){sp(s)}finally{Mt.T=t}};et.unstable_useCacheRefresh=function(){return Mt.H.useCacheRefresh()};et.use=function(e){return Mt.H.use(e)};et.useActionState=function(e,t,n){return Mt.H.useActionState(e,t,n)};et.useCallback=function(e,t){return Mt.H.useCallback(e,t)};et.useContext=function(e){return Mt.H.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e,t){return Mt.H.useDeferredValue(e,t)};et.useEffect=function(e,t,n){var i=Mt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};et.useId=function(){return Mt.H.useId()};et.useImperativeHandle=function(e,t,n){return Mt.H.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return Mt.H.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return Mt.H.useLayoutEffect(e,t)};et.useMemo=function(e,t){return Mt.H.useMemo(e,t)};et.useOptimistic=function(e,t){return Mt.H.useOptimistic(e,t)};et.useReducer=function(e,t,n){return Mt.H.useReducer(e,t,n)};et.useRef=function(e){return Mt.H.useRef(e)};et.useState=function(e){return Mt.H.useState(e)};et.useSyncExternalStore=function(e,t,n){return Mt.H.useSyncExternalStore(e,t,n)};et.useTransition=function(){return Mt.H.useTransition()};et.version="19.1.0";hv.exports=et;var ft=hv.exports;const Tb=lv(ft);var _v={exports:{}},ic={},vv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,Z){var K=q.length;q.push(Z);t:for(;0<K;){var gt=K-1>>>1,Rt=q[gt];if(0<r(Rt,Z))q[gt]=Z,q[K]=Rt,K=gt;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Z=q[0],K=q.pop();if(K!==Z){q[0]=K;t:for(var gt=0,Rt=q.length,an=Rt>>>1;gt<an;){var te=2*(gt+1)-1,Ut=q[te],Nt=te+1,Ue=q[Nt];if(0>r(Ut,K))Nt<Rt&&0>r(Ue,Ut)?(q[gt]=Ue,q[Nt]=K,gt=Nt):(q[gt]=Ut,q[te]=K,gt=te);else if(Nt<Rt&&0>r(Ue,K))q[gt]=Ue,q[Nt]=K,gt=Nt;else break t}}return Z}function r(q,Z){var K=q.sortIndex-Z.sortIndex;return K!==0?K:q.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,O=!1,M=!1,V=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=q)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function z(q){if(M=!1,D(q),!O)if(n(u)!==null)O=!0,j||(j=!0,I());else{var Z=n(h);Z!==null&&Ke(z,Z.startTime-q)}}var j=!1,T=-1,y=5,E=-1;function A(){return V?!0:!(e.unstable_now()-E<y)}function R(){if(V=!1,j){var q=e.unstable_now();E=q;var Z=!0;try{t:{O=!1,M&&(M=!1,v(T),T=-1),_=!0;var K=m;try{e:{for(D(q),g=n(u);g!==null&&!(g.expirationTime>q&&A());){var gt=g.callback;if(typeof gt=="function"){g.callback=null,m=g.priorityLevel;var Rt=gt(g.expirationTime<=q);if(q=e.unstable_now(),typeof Rt=="function"){g.callback=Rt,D(q),Z=!0;break e}g===n(u)&&i(u),D(q)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var an=n(h);an!==null&&Ke(z,an.startTime-q),Z=!1}}break t}finally{g=null,m=K,_=!1}Z=void 0}}finally{Z?I():j=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,be=S.port2;S.port1.onmessage=R,I=function(){be.postMessage(null)}}else I=function(){b(R,0)};function Ke(q,Z){T=b(function(){q(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var K=m;m=Z;try{return q()}finally{m=K}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=m;m=q;try{return Z()}finally{m=K}},e.unstable_scheduleCallback=function(q,Z,K){var gt=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?gt+K:gt):K=gt,q){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=K+Rt,q={id:d++,callback:Z,priorityLevel:q,startTime:K,expirationTime:Rt,sortIndex:-1},K>gt?(q.sortIndex=K,t(h,q),n(u)===null&&q===n(h)&&(M?(v(T),T=-1):M=!0,Ke(z,K-gt))):(q.sortIndex=Rt,t(u,q),O||_||(O=!0,j||(j=!0,I()))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var Z=m;return function(){var K=m;m=Z;try{return q.apply(this,arguments)}finally{m=K}}}})(Tv);vv.exports=Tv;var Eb=vv.exports,Ev={exports:{}},Ie={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=ft;function Av(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ai(){}var Re={d:{f:ai,r:function(){throw Error(Av(522))},D:ai,C:ai,L:ai,m:ai,X:ai,S:ai,M:ai},p:0,findDOMNode:null},bb=Symbol.for("react.portal");function Sb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ka=Ab.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;Ie.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Av(299));return Sb(e,t,null,n)};Ie.flushSync=function(e){var t=ka.T,n=Re.p;try{if(ka.T=null,Re.p=2,e)return e()}finally{ka.T=t,Re.p=n,Re.d.f()}};Ie.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Re.d.C(e,t))};Ie.prefetchDNS=function(e){typeof e=="string"&&Re.d.D(e)};Ie.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=rc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Re.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Re.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ie.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=rc(t.as,t.crossOrigin);Re.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Re.d.M(e)};Ie.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=rc(n,t.crossOrigin);Re.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ie.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=rc(t.as,t.crossOrigin);Re.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Re.d.m(e)};Ie.requestFormReset=function(e){Re.d.r(e)};Ie.unstable_batchedUpdates=function(e,t){return e(t)};Ie.useFormState=function(e,t,n){return ka.H.useFormState(e,t,n)};Ie.useFormStatus=function(){return ka.H.useHostTransitionStatus()};Ie.version="19.1.0";function bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bv)}catch(e){console.error(e)}}bv(),Ev.exports=Ie;var wb=Ev.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=Eb,Sv=ft,Rb=wb;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(Ro(e)!==e)throw Error(P(188))}function Ib(e){var t=e.alternate;if(!t){if(t=Ro(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ap(r),e;if(s===i)return ap(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Iv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Iv(e),t!==null)return t;e=e.sibling}return null}var Dt=Object.assign,Cb=Symbol.for("react.element"),pl=Symbol.for("react.transitional.element"),Ia=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Dv=Symbol.for("react.consumer"),Pn=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),tf=Symbol.for("react.activity"),Nb=Symbol.for("react.memo_cache_sentinel"),op=Symbol.iterator;function _a(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var Ob=Symbol.for("react.client.reference");function ef(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ob?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Zh:return"Profiler";case Cv:return"StrictMode";case Wh:return"Suspense";case Jh:return"SuspenseList";case tf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ia:return"Portal";case Pn:return(e.displayName||"Context")+".Provider";case Dv:return(e._context.displayName||"Context")+".Consumer";case bd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sd:return t=e.displayName||null,t!==null?t:ef(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return ef(e(t))}catch{}}return null}var Ca=Array.isArray,X=Sv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=Rb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lr={pending:!1,data:null,method:null,action:null},nf=[],Jr=-1;function Cn(e){return{current:e}}function se(e){0>Jr||(e.current=nf[Jr],nf[Jr]=null,Jr--)}function Vt(e,t){Jr++,nf[Jr]=e.current,e.current=t}var vn=Cn(null),no=Cn(null),wi=Cn(null),au=Cn(null);function ou(e,t){switch(Vt(wi,t),Vt(no,e),Vt(vn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fy(t),e=QT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(vn),Vt(vn,e)}function bs(){se(vn),se(no),se(wi)}function rf(e){e.memoizedState!==null&&Vt(au,e);var t=vn.current,n=QT(t,e.type);t!==n&&(Vt(no,e),Vt(vn,n))}function lu(e){no.current===e&&(se(vn),se(no)),au.current===e&&(se(au),fo._currentValue=lr)}var sf=Object.prototype.hasOwnProperty,wd=Jt.unstable_scheduleCallback,sh=Jt.unstable_cancelCallback,xb=Jt.unstable_shouldYield,Mb=Jt.unstable_requestPaint,Tn=Jt.unstable_now,Vb=Jt.unstable_getCurrentPriorityLevel,Nv=Jt.unstable_ImmediatePriority,Ov=Jt.unstable_UserBlockingPriority,uu=Jt.unstable_NormalPriority,kb=Jt.unstable_LowPriority,xv=Jt.unstable_IdlePriority,Pb=Jt.log,Ub=Jt.unstable_setDisableYieldValue,Io=null,He=null;function Ti(e){if(typeof Pb=="function"&&Ub(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Io,e)}catch{}}var Fe=Math.clz32?Math.clz32:Bb,Lb=Math.log,zb=Math.LN2;function Bb(e){return e>>>=0,e===0?32:31-(Lb(e)/zb|0)|0}var yl=256,_l=4194304;function ir(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=ir(i):(a&=l,a!==0?r=ir(a):n||(n=l&~e,n!==0&&(r=ir(n))))):(l=i&~s,l!==0?r=ir(l):a!==0?r=ir(a):n||(n=i&~e,n!==0&&(r=ir(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Co(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(){var e=yl;return yl<<=1,!(yl&4194048)&&(yl=256),e}function Vv(){var e=_l;return _l<<=1,!(_l&62914560)&&(_l=4194304),e}function ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Fe(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&kv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function kv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Fe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Pv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Fe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Rd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Id(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Uv(){var e=mt.p;return e!==0?e:(e=window.event,e===void 0?32:nE(e.type))}function Hb(e,t){var n=mt.p;try{return mt.p=e,t()}finally{mt.p=n}}var Xi=Math.random().toString(36).slice(2),Te="__reactFiber$"+Xi,Ve="__reactProps$"+Xi,Hs="__reactContainer$"+Xi,af="__reactEvents$"+Xi,Fb="__reactListeners$"+Xi,Gb="__reactHandles$"+Xi,lp="__reactResources$"+Xi,No="__reactMarker$"+Xi;function Cd(e){delete e[Te],delete e[Ve],delete e[af],delete e[Fb],delete e[Gb]}function ts(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hs]||n[Te]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gy(e);e!==null;){if(n=e[Te])return n;e=gy(e)}return t}e=n,n=e.parentNode}return null}function Fs(e){if(e=e[Te]||e[Hs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function hs(e){var t=e[lp];return t||(t=e[lp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ie(e){e[No]=!0}var Lv=new Set,zv={};function Rr(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(zv[e]=t,e=0;e<t.length;e++)Lv.add(t[e])}var Qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),up={},cp={};function Yb(e){return sf.call(cp,e)?!0:sf.call(up,e)?!1:Qb.test(e)?cp[e]=!0:(up[e]=!0,!1)}function Ul(e,t,n){if(Yb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function vl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function xn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var oh,hp;function Gr(e){if(oh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oh=t&&t[1]||"",hp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oh+e+hp}var lh=!1;function uh(e,t){if(!e||lh)return"";lh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{lh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Gr(n):""}function Kb(e){switch(e.tag){case 26:case 27:case 5:return Gr(e.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return uh(e.type,!1);case 11:return uh(e.type.render,!1);case 1:return uh(e.type,!0);case 31:return Gr("Activity");default:return""}}function fp(e){try{var t="";do t+=Kb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xb(e){var t=Bv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){e._valueTracker||(e._valueTracker=Xb(e))}function jv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Bv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $b=/[\n"\\]/g;function Je(e){return e.replace($b,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function of(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$e(t)):e.value!==""+$e(t)&&(e.value=""+$e(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?lf(e,a,$e(t)):n!=null?lf(e,a,$e(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+$e(l):e.removeAttribute("name")}function qv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+$e(n):"",t=t!=null?""+$e(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function lf(e,t,n){t==="number"&&hu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function fs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+$e(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Hv(e,t,n){if(t!=null&&(t=""+$e(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$e(n):""}function Fv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ca(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=$e(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Zb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&dp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&dp(e,s,t[s])}function Dd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var uf=null;function Nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,ds=null;function mp(e){var t=Fs(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;t:switch(e=t.stateNode,t.type){case"input":if(of(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Je(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ve]||null;if(!r)throw Error(P(90));of(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&jv(i)}break t;case"textarea":Hv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&fs(e,!!n.multiple,t,!1)}}}var ch=!1;function Qv(e,t,n){if(ch)return e(t,n);ch=!0;try{var i=e(t);return i}finally{if(ch=!1,(es!==null||ds!==null)&&(gc(),es&&(t=es,e=ds,ds=es=null,mp(t),e)))for(t=0;t<e.length;t++)mp(e[t])}}function io(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ve]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Gn)try{var va={};Object.defineProperty(va,"passive",{get:function(){cf=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{cf=!1}var Ei=null,Od=null,zl=null;function Yv(){if(zl)return zl;var e,t=Od,n=t.length,i,r="value"in Ei?Ei.value:Ei.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return zl=r.slice(e,1<i?1-i:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function gp(){return!1}function Pe(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:gp,this.isPropagationStopped=gp,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Pe(Ir),Oo=Dt({},Ir,{view:0,detail:0}),tS=Pe(Oo),hh,fh,Ta,oc=Dt({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ta&&(Ta&&e.type==="mousemove"?(hh=e.screenX-Ta.screenX,fh=e.screenY-Ta.screenY):fh=hh=0,Ta=e),hh)},movementY:function(e){return"movementY"in e?e.movementY:fh}}),pp=Pe(oc),eS=Dt({},oc,{dataTransfer:0}),nS=Pe(eS),iS=Dt({},Oo,{relatedTarget:0}),dh=Pe(iS),rS=Dt({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=Pe(rS),aS=Dt({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oS=Pe(aS),lS=Dt({},Ir,{data:0}),yp=Pe(lS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hS[e])?!!t[e]:!1}function xd(){return fS}var dS=Dt({},Oo,{key:function(e){if(e.key){var t=uS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=Pe(dS),gS=Dt({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=Pe(gS),pS=Dt({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),yS=Pe(pS),_S=Dt({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=Pe(_S),TS=Dt({},oc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=Pe(TS),AS=Dt({},Ir,{newState:0,oldState:0}),bS=Pe(AS),SS=[9,13,27,32],Md=Gn&&"CompositionEvent"in window,Pa=null;Gn&&"documentMode"in document&&(Pa=document.documentMode);var wS=Gn&&"TextEvent"in window&&!Pa,Kv=Gn&&(!Md||Pa&&8<Pa&&11>=Pa),vp=" ",Tp=!1;function Xv(e,t){switch(e){case"keyup":return SS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function RS(e,t){switch(e){case"compositionend":return $v(t);case"keypress":return t.which!==32?null:(Tp=!0,vp);case"textInput":return e=t.data,e===vp&&Tp?null:e;default:return null}}function IS(e,t){if(ns)return e==="compositionend"||!Md&&Xv(e,t)?(e=Yv(),zl=Od=Ei=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kv&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function Zv(e,t,n,i){es?ds?ds.push(i):ds=[i]:es=i,t=Du(t,"onChange"),0<t.length&&(n=new ac("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ua=null,ro=null;function DS(e){HT(e,0)}function lc(e){var t=Da(e);if(jv(t))return e}function Ap(e,t){if(e==="change")return t}var Wv=!1;if(Gn){var mh;if(Gn){var gh="oninput"in document;if(!gh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),gh=typeof bp.oninput=="function"}mh=gh}else mh=!1;Wv=mh&&(!document.documentMode||9<document.documentMode)}function Sp(){Ua&&(Ua.detachEvent("onpropertychange",Jv),ro=Ua=null)}function Jv(e){if(e.propertyName==="value"&&lc(ro)){var t=[];Zv(t,ro,e,Nd(e)),Qv(DS,t)}}function NS(e,t,n){e==="focusin"?(Sp(),Ua=t,ro=n,Ua.attachEvent("onpropertychange",Jv)):e==="focusout"&&Sp()}function OS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(ro)}function xS(e,t){if(e==="click")return lc(t)}function MS(e,t){if(e==="input"||e==="change")return lc(t)}function VS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:VS;function so(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sf.call(t,r)||!Ye(e[r],t[r]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,t){var n=wp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=wp(n)}}function t0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hu(e.document)}return t}function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kS=Gn&&"documentMode"in document&&11>=document.documentMode,is=null,hf=null,La=null,ff=!1;function Ip(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||is==null||is!==hu(i)||(i=is,"selectionStart"in i&&Vd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),La&&so(La,i)||(La=i,i=Du(hf,"onSelect"),0<i.length&&(t=new ac("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=is)))}function nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},ph={},n0={};Gn&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Cr(e){if(ph[e])return ph[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in n0)return ph[e]=t[n];return e}var i0=Cr("animationend"),r0=Cr("animationiteration"),s0=Cr("animationstart"),PS=Cr("transitionrun"),US=Cr("transitionstart"),LS=Cr("transitioncancel"),a0=Cr("transitionend"),o0=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function mn(e,t){o0.set(e,t),Rr(t,[e])}var Cp=new WeakMap;function tn(e,t){if(typeof e=="object"&&e!==null){var n=Cp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:fp(t)},Cp.set(e,t),t)}return{value:e,source:t,stack:fp(t)}}var Xe=[],ss=0,kd=0;function uc(){for(var e=ss,t=kd=ss=0;t<e;){var n=Xe[t];Xe[t++]=null;var i=Xe[t];Xe[t++]=null;var r=Xe[t];Xe[t++]=null;var s=Xe[t];if(Xe[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&l0(n,r,s)}}function cc(e,t,n,i){Xe[ss++]=e,Xe[ss++]=t,Xe[ss++]=n,Xe[ss++]=i,kd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Pd(e,t,n,i){return cc(e,t,n,i),fu(e)}function Gs(e,t){return cc(e,null,null,t),fu(e)}function l0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Fe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function fu(e){if(50<Ka)throw Ka=0,Vf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var as={};function zS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,i){return new zS(e,t,n,i)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hn(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function u0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Ud(e)&&(a=1);else if(typeof e=="string")a=j2(e,n,vn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case tf:return e=qe(31,n,t,r),e.elementType=tf,e.lanes=s,e;case Wr:return ur(n.children,r,s,t);case Cv:a=8,r|=24;break;case Zh:return e=qe(12,n,t,r|2),e.elementType=Zh,e.lanes=s,e;case Wh:return e=qe(13,n,t,r),e.elementType=Wh,e.lanes=s,e;case Jh:return e=qe(19,n,t,r),e.elementType=Jh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Db:case Pn:a=10;break t;case Dv:a=9;break t;case bd:a=11;break t;case Sd:a=14;break t;case ci:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=qe(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function ur(e,t,n,i){return e=qe(7,e,i,t),e.lanes=n,e}function yh(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function _h(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var os=[],ls=0,du=null,mu=0,Ze=[],We=0,cr=null,Un=1,Ln="";function rr(e,t){os[ls++]=mu,os[ls++]=du,du=e,mu=t}function c0(e,t,n){Ze[We++]=Un,Ze[We++]=Ln,Ze[We++]=cr,cr=e;var i=Un;e=Ln;var r=32-Fe(i)-1;i&=~(1<<r),n+=1;var s=32-Fe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Un=1<<32-Fe(t)+r|n<<r|i,Ln=s+e}else Un=1<<s|n<<r|i,Ln=e}function Ld(e){e.return!==null&&(rr(e,1),c0(e,1,0))}function zd(e){for(;e===du;)du=os[--ls],os[ls]=null,mu=os[--ls],os[ls]=null;for(;e===cr;)cr=Ze[--We],Ze[We]=null,Ln=Ze[--We],Ze[We]=null,Un=Ze[--We],Ze[We]=null}var we=null,Bt=null,dt=!1,hr=null,yn=!1,mf=Error(P(519));function yr(e){var t=Error(P(418,""));throw ao(tn(t,e)),mf}function Dp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Te]=e,t[Ve]=i,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<uo.length;n++)rt(uo[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),qv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),cu(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),Fv(t,i.value,i.defaultValue,i.children),cu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||GT(t.textContent,n)?(i.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),i.onScroll!=null&&rt("scroll",t),i.onScrollEnd!=null&&rt("scrollend",t),i.onClick!=null&&(t.onclick=_c),t=!0):t=!1,t||yr(e)}function Np(e){for(we=e.return;we;)switch(we.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:we=we.return}}function Ea(e){if(e!==we)return!1;if(!dt)return Np(e),dt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bf(e.type,e.memoizedProps)),n=!n),n&&Bt&&yr(e),Np(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Bt=fn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Bt=null}}else t===27?(t=Bt,$i(e.type)?(e=Hf,Hf=null,Bt=e):Bt=t):Bt=we?fn(e.stateNode.nextSibling):null;return!0}function xo(){Bt=we=null,dt=!1}function Op(){var e=hr;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),hr=null),e}function ao(e){hr===null?hr=[e]:hr.push(e)}var gf=Cn(null),Dr=null,zn=null;function fi(e,t,n){Vt(gf,t._currentValue),t._currentValue=n}function Fn(e){e._currentValue=gf.current,se(gf)}function pf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function yf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),pf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Mo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ye(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===au.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}r=r.return}e!==null&&yf(t,e,n,i),t.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!Ye(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){Dr=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ee(e){return h0(Dr,e)}function El(e,t){return Dr===null&&_r(e),h0(e,t)}function h0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},zn===null){if(e===null)throw Error(P(308));zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zn=zn.next=t;return n}var BS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jS=Jt.unstable_scheduleCallback,qS=Jt.unstable_NormalPriority,Xt={$$typeof:Pn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new BS,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&jS(qS,function(){e.controller.abort()})}var za=null,_f=0,Rs=0,ms=null;function HS(e,t){if(za===null){var n=za=[];_f=0,Rs=um(),ms={status:"pending",value:void 0,then:function(i){n.push(i)}}}return _f++,t.then(xp,xp),t}function xp(){if(--_f===0&&za!==null){ms!==null&&(ms.status="fulfilled");var e=za;za=null,Rs=0,ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function FS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Mp=X.S;X.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&HS(e,t),Mp!==null&&Mp(e,t)};var fr=Cn(null);function jd(){var e=fr.current;return e!==null?e:wt.pooledCache}function ql(e,t){t===null?Vt(fr,fr.current):Vt(fr,t.pool)}function f0(){var e=jd();return e===null?null:{parent:Xt._currentValue,pool:e}}var ko=Error(P(460)),d0=Error(P(474)),hc=Error(P(542)),vf={then:function(){}};function Vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Al(){}function m0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Al,Al),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pp(e),e;default:if(typeof t.status=="string")t.then(Al,Al);else{if(e=wt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pp(e),e}throw Ba=t,ko}}var Ba=null;function kp(){if(Ba===null)throw Error(P(459));var e=Ba;return Ba=null,e}function Pp(e){if(e===ko||e===hc)throw Error(P(483))}var hi=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_t&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=fu(e),l0(e,null,n),t}return cc(e,i,t,n),fu(e)}function ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pv(e,n)}}function vh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ef=!1;function qa(){if(Ef){var e=ms;if(e!==null)throw e}}function Ha(e,t,n,i){Ef=!1;var r=e.updateQueue;hi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(ut&m)===m:(i&m)===m){m!==0&&m===Rs&&(Ef=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var O=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(O=M.payload,typeof O=="function"){g=O.call(V,g,m);break t}g=O;break t;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,m=typeof O=="function"?O.call(V,g,m):O,m==null)break t;g=Dt({},g,m);break t;case 2:hi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),ji|=a,e.lanes=a,e.memoizedState=g}}function g0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function p0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)g0(n[e],t)}var Is=Cn(null),pu=Cn(0);function Up(e,t){e=Kn,Vt(pu,e),Vt(Is,t),Kn=e|t.baseLanes}function Af(){Vt(pu,Kn),Vt(Is,Is.current)}function Hd(){Kn=pu.current,se(Is),se(pu)}var zi=0,it=null,Tt=null,Qt=null,yu=!1,gs=!1,vr=!1,_u=0,oo=0,ps=null,GS=0;function qt(){throw Error(P(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function Gd(e,t,n,i,r,s){return zi=s,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?Y0:K0,vr=!1,s=n(i,r),vr=!1,gs&&(s=_0(t,n,i,r)),y0(e),s}function y0(e){X.H=vu;var t=Tt!==null&&Tt.next!==null;if(zi=0,Qt=Tt=it=null,yu=!1,oo=0,ps=null,t)throw Error(P(300));e===null||re||(e=e.dependencies,e!==null&&gu(e)&&(re=!0))}function _0(e,t,n,i){it=e;var r=0;do{if(gs&&(ps=null),oo=0,gs=!1,25<=r)throw Error(P(301));if(r+=1,Qt=Tt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}X.H=WS,s=t(n,i)}while(gs);return s}function QS(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?Po(t):t,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(it.flags|=1024),t}function Qd(){var e=_u!==0;return _u=0,e}function Yd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Kd(e){if(yu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yu=!1}zi=0,Qt=Tt=it=null,gs=!1,oo=_u=0,ps=null}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?it.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Kt(){if(Tt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Qt===null?it.memoizedState:Qt.next;if(t!==null)Qt=t,Tt=e;else{if(e===null)throw it.alternate===null?Error(P(467)):Error(P(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Qt===null?it.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var t=oo;return oo+=1,ps===null&&(ps=[]),e=m0(ps,e,t),t=it,(Qt===null?t.memoizedState:Qt.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?Y0:K0),e}function fc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===Pn)return Ee(e)}throw Error(P(438,String(e)))}function $d(e){var t=null,n=it.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=it.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Xd(),it.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Nb;return t.index++,n}function Qn(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=Kt();return Zd(t,Tt,e)}function Zd(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(ut&g)===g:(zi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Rs&&(d=!0);else if((zi&m)===m){h=h.next,m===Rs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,it.lanes|=m,ji|=m;g=h.action,vr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,it.lanes|=g,ji|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Ye(s,e.memoizedState)&&(re=!0,d&&(n=ms,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Th(e){var t=Kt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Ye(s,t.memoizedState)||(re=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function v0(e,t,n){var i=it,r=Kt(),s=dt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!Ye((Tt||r).memoizedState,n);a&&(r.memoizedState=n,re=!0),r=r.queue;var l=A0.bind(null,i,r,e);if(Uo(2048,8,l,[e]),r.getSnapshot!==t||a||Qt!==null&&Qt.memoizedState.tag&1){if(i.flags|=2048,Cs(9,dc(),E0.bind(null,i,r,n,t),null),wt===null)throw Error(P(349));s||zi&124||T0(i,t,n)}return n}function T0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t=Xd(),it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E0(e,t,n,i){t.value=n,t.getSnapshot=i,b0(t)&&S0(e)}function A0(e,t,n){return n(function(){b0(t)&&S0(e)})}function b0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function S0(e){var t=Gs(e,2);t!==null&&Qe(t,e,2)}function bf(e){var t=De();if(typeof e=="function"){var n=e;if(e=n(),vr){Ti(!0);try{n()}finally{Ti(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t}function w0(e,t,n,i){return e.baseState=n,Zd(e,Tt,typeof i=="function"?i:Qn)}function YS(e,t,n,i,r){if(mc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};X.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,R0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function R0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=X.T,a={};X.T=a;try{var l=n(r,i),u=X.S;u!==null&&u(a,l),Lp(e,t,l)}catch(h){Sf(e,t,h)}finally{X.T=s}}else try{s=n(r,i),Lp(e,t,s)}catch(h){Sf(e,t,h)}}function Lp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){zp(e,t,i)},function(i){return Sf(e,t,i)}):zp(e,t,n)}function zp(e,t,n){t.status="fulfilled",t.value=n,I0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,R0(e,n)))}function Sf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,I0(t),t=t.next;while(t!==i)}e.action=null}function I0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function C0(e,t){return t}function Bp(e,t){if(dt){var n=wt.formState;if(n!==null){t:{var i=it;if(dt){if(Bt){e:{for(var r=Bt,s=yn;r.nodeType!==8;){if(!s){r=null;break e}if(r=fn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Bt=fn(r.nextSibling),i=r.data==="F!";break t}}yr(i)}i=!1}i&&(t=n[0])}}return n=De(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:t},n.queue=i,n=F0.bind(null,it,i),i.dispatch=n,i=bf(!1),s=em.bind(null,it,!1,i.queue),i=De(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=YS.bind(null,it,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function jp(e){var t=Kt();return D0(t,Tt,e)}function D0(e,t,n){if(t=Zd(e,t,C0)[0],e=Hl(Qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Po(t)}catch(a){throw a===ko?hc:a}else i=t;t=Kt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(it.flags|=2048,Cs(9,dc(),KS.bind(null,r,n),null)),[i,s,e]}function KS(e,t){e.action=t}function qp(e){var t=Kt(),n=Tt;if(n!==null)return D0(t,n,e);Kt(),t=t.memoizedState,n=Kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Cs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=it.updateQueue,t===null&&(t=Xd(),it.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function dc(){return{destroy:void 0,resource:void 0}}function N0(){return Kt().memoizedState}function Fl(e,t,n,i){var r=De();i=i===void 0?null:i,it.flags|=e,r.memoizedState=Cs(1|t,dc(),n,i)}function Uo(e,t,n,i){var r=Kt();i=i===void 0?null:i;var s=r.memoizedState.inst;Tt!==null&&i!==null&&Fd(i,Tt.memoizedState.deps)?r.memoizedState=Cs(t,s,n,i):(it.flags|=e,r.memoizedState=Cs(1|t,s,n,i))}function Hp(e,t){Fl(8390656,8,e,t)}function O0(e,t){Uo(2048,8,e,t)}function x0(e,t){return Uo(4,2,e,t)}function M0(e,t){return Uo(4,4,e,t)}function V0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function k0(e,t,n){n=n!=null?n.concat([e]):null,Uo(4,4,V0.bind(null,t,e),n)}function Wd(){}function P0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Fd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function U0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Fd(t,i[1]))return i[0];if(i=e(),vr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i}function Jd(e,t,n){return n===void 0||zi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=IT(),it.lanes|=e,ji|=e,n)}function L0(e,t,n,i){return Ye(n,t)?n:Is.current!==null?(e=Jd(e,n,i),Ye(e,t)||(re=!0),e):zi&42?(e=IT(),it.lanes|=e,ji|=e,t):(re=!0,e.memoizedState=n)}function z0(e,t,n,i,r){var s=mt.p;mt.p=s!==0&&8>s?s:8;var a=X.T,l={};X.T=l,em(e,!1,t,n);try{var u=r(),h=X.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=FS(u,i);Fa(e,t,d,Ge(e))}else Fa(e,t,i,Ge(e))}catch(g){Fa(e,t,{then:function(){},status:"rejected",reason:g},Ge())}finally{mt.p=s,X.T=a}}function XS(){}function wf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=B0(e).queue;z0(e,r,t,lr,n===null?XS:function(){return j0(e),n(i)})}function B0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:lr,baseState:lr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:lr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function j0(e){var t=B0(e).next.queue;Fa(e,t,{},Ge())}function tm(){return Ee(fo)}function q0(){return Kt().memoizedState}function H0(){return Kt().memoizedState}function $S(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ge();e=Ri(n);var i=Ii(t,e,n);i!==null&&(Qe(i,t,n),ja(i,t,n)),t={cache:Bd()},e.payload=t;return}t=t.return}}function ZS(e,t,n){var i=Ge();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},mc(e)?G0(t,n):(n=Pd(e,t,n,i),n!==null&&(Qe(n,e,i),Q0(n,t,i)))}function F0(e,t,n){var i=Ge();Fa(e,t,n,i)}function Fa(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(mc(e))G0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ye(l,a))return cc(e,t,r,0),wt===null&&uc(),!1}catch{}finally{}if(n=Pd(e,t,r,i),n!==null)return Qe(n,e,i),Q0(n,t,i),!0}return!1}function em(e,t,n,i){if(i={lane:2,revertLane:um(),action:i,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(t)throw Error(P(479))}else t=Pd(e,n,i,2),t!==null&&Qe(t,e,2)}function mc(e){var t=e.alternate;return e===it||t!==null&&t===it}function G0(e,t){gs=yu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pv(e,n)}}var vu={readContext:Ee,use:fc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Y0={readContext:Ee,use:fc,useCallback:function(e,t){return De().memoizedState=[e,t===void 0?null:t],e},useContext:Ee,useEffect:Hp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fl(4194308,4,V0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var n=De();t=t===void 0?null:t;var i=e();if(vr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=De();if(n!==void 0){var r=n(t);if(vr){Ti(!0);try{n(t)}finally{Ti(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=ZS.bind(null,it,e),[i.memoizedState,e]},useRef:function(e){var t=De();return e={current:e},t.memoizedState=e},useState:function(e){e=bf(e);var t=e.queue,n=F0.bind(null,it,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wd,useDeferredValue:function(e,t){var n=De();return Jd(n,e,t)},useTransition:function(){var e=bf(!1);return e=z0.bind(null,it,e.queue,!0,!1),De().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=it,r=De();if(dt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),wt===null)throw Error(P(349));ut&124||T0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Hp(A0.bind(null,i,s,e),[e]),i.flags|=2048,Cs(9,dc(),E0.bind(null,i,s,n,t),null),n},useId:function(){var e=De(),t=wt.identifierPrefix;if(dt){var n=Ln,i=Un;n=(i&~(1<<32-Fe(i)-1)).toString(32)+n,t=""+t+"R"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=GS++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:tm,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var t=De();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=em.bind(null,it,!0,n),n.dispatch=t,[e,t]},useMemoCache:$d,useCacheRefresh:function(){return De().memoizedState=$S.bind(null,it)}},K0={readContext:Ee,use:fc,useCallback:P0,useContext:Ee,useEffect:O0,useImperativeHandle:k0,useInsertionEffect:x0,useLayoutEffect:M0,useMemo:U0,useReducer:Hl,useRef:N0,useState:function(){return Hl(Qn)},useDebugValue:Wd,useDeferredValue:function(e,t){var n=Kt();return L0(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Hl(Qn)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:Po(e),t]},useSyncExternalStore:v0,useId:q0,useHostTransitionStatus:tm,useFormState:jp,useActionState:jp,useOptimistic:function(e,t){var n=Kt();return w0(n,Tt,e,t)},useMemoCache:$d,useCacheRefresh:H0},WS={readContext:Ee,use:fc,useCallback:P0,useContext:Ee,useEffect:O0,useImperativeHandle:k0,useInsertionEffect:x0,useLayoutEffect:M0,useMemo:U0,useReducer:Th,useRef:N0,useState:function(){return Th(Qn)},useDebugValue:Wd,useDeferredValue:function(e,t){var n=Kt();return Tt===null?Jd(n,e,t):L0(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Th(Qn)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:Po(e),t]},useSyncExternalStore:v0,useId:q0,useHostTransitionStatus:tm,useFormState:qp,useActionState:qp,useOptimistic:function(e,t){var n=Kt();return Tt!==null?w0(n,Tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$d,useCacheRefresh:H0},ys=null,lo=0;function bl(e){var t=lo;return lo+=1,ys===null&&(ys=[]),m0(ys,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sl(e,t){throw t.$$typeof===Cb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fp(e){var t=e._init;return t(e._payload)}function X0(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Hn(b,v),b.index=0,b.sibling=null,b}function s(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,D){return v===null||v.tag!==6?(v=yh(w,b.mode,D),v.return=b,v):(v=r(v,w),v.return=b,v)}function u(b,v,w,D){var z=w.type;return z===Wr?d(b,v,w.props.children,D,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Fp(z)===v.type)?(v=r(v,w.props),Aa(v,w),v.return=b,v):(v=jl(w.type,w.key,w.props,null,b.mode,D),Aa(v,w),v.return=b,v)}function h(b,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=_h(w,b.mode,D),v.return=b,v):(v=r(v,w.children||[]),v.return=b,v)}function d(b,v,w,D,z){return v===null||v.tag!==7?(v=ur(w,b.mode,D,z),v.return=b,v):(v=r(v,w),v.return=b,v)}function g(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=yh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return w=jl(v.type,v.key,v.props,null,b.mode,w),Aa(w,v),w.return=b,w;case Ia:return v=_h(v,b.mode,w),v.return=b,v;case ci:var D=v._init;return v=D(v._payload),g(b,v,w)}if(Ca(v)||_a(v))return v=ur(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return g(b,bl(v),w);if(v.$$typeof===Pn)return g(b,El(b,v),w);Sl(b,v)}return null}function m(b,v,w,D){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:l(b,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return w.key===z?u(b,v,w,D):null;case Ia:return w.key===z?h(b,v,w,D):null;case ci:return z=w._init,w=z(w._payload),m(b,v,w,D)}if(Ca(w)||_a(w))return z!==null?null:d(b,v,w,D,null);if(typeof w.then=="function")return m(b,v,bl(w),D);if(w.$$typeof===Pn)return m(b,v,El(b,w),D);Sl(b,w)}return null}function _(b,v,w,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return b=b.get(w)||null,l(v,b,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case pl:return b=b.get(D.key===null?w:D.key)||null,u(v,b,D,z);case Ia:return b=b.get(D.key===null?w:D.key)||null,h(v,b,D,z);case ci:var j=D._init;return D=j(D._payload),_(b,v,w,D,z)}if(Ca(D)||_a(D))return b=b.get(w)||null,d(v,b,D,z,null);if(typeof D.then=="function")return _(b,v,w,bl(D),z);if(D.$$typeof===Pn)return _(b,v,w,El(v,D),z);Sl(v,D)}return null}function O(b,v,w,D){for(var z=null,j=null,T=v,y=v=0,E=null;T!==null&&y<w.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var A=m(b,T,w[y],D);if(A===null){T===null&&(T=E);break}e&&T&&A.alternate===null&&t(b,T),v=s(A,v,y),j===null?z=A:j.sibling=A,j=A,T=E}if(y===w.length)return n(b,T),dt&&rr(b,y),z;if(T===null){for(;y<w.length;y++)T=g(b,w[y],D),T!==null&&(v=s(T,v,y),j===null?z=T:j.sibling=T,j=T);return dt&&rr(b,y),z}for(T=i(T);y<w.length;y++)E=_(T,b,y,w[y],D),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),j===null?z=E:j.sibling=E,j=E);return e&&T.forEach(function(R){return t(b,R)}),dt&&rr(b,y),z}function M(b,v,w,D){if(w==null)throw Error(P(151));for(var z=null,j=null,T=v,y=v=0,E=null,A=w.next();T!==null&&!A.done;y++,A=w.next()){T.index>y?(E=T,T=null):E=T.sibling;var R=m(b,T,A.value,D);if(R===null){T===null&&(T=E);break}e&&T&&R.alternate===null&&t(b,T),v=s(R,v,y),j===null?z=R:j.sibling=R,j=R,T=E}if(A.done)return n(b,T),dt&&rr(b,y),z;if(T===null){for(;!A.done;y++,A=w.next())A=g(b,A.value,D),A!==null&&(v=s(A,v,y),j===null?z=A:j.sibling=A,j=A);return dt&&rr(b,y),z}for(T=i(T);!A.done;y++,A=w.next())A=_(T,b,y,A.value,D),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?y:A.key),v=s(A,v,y),j===null?z=A:j.sibling=A,j=A);return e&&T.forEach(function(I){return t(b,I)}),dt&&rr(b,y),z}function V(b,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Wr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:t:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===Wr){if(v.tag===7){n(b,v.sibling),D=r(v,w.props.children),D.return=b,b=D;break t}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Fp(z)===v.type){n(b,v.sibling),D=r(v,w.props),Aa(D,w),D.return=b,b=D;break t}n(b,v);break}else t(b,v);v=v.sibling}w.type===Wr?(D=ur(w.props.children,b.mode,D,w.key),D.return=b,b=D):(D=jl(w.type,w.key,w.props,null,b.mode,D),Aa(D,w),D.return=b,b=D)}return a(b);case Ia:t:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),D=r(v,w.children||[]),D.return=b,b=D;break t}else{n(b,v);break}else t(b,v);v=v.sibling}D=_h(w,b.mode,D),D.return=b,b=D}return a(b);case ci:return z=w._init,w=z(w._payload),V(b,v,w,D)}if(Ca(w))return O(b,v,w,D);if(_a(w)){if(z=_a(w),typeof z!="function")throw Error(P(150));return w=z.call(w),M(b,v,w,D)}if(typeof w.then=="function")return V(b,v,bl(w),D);if(w.$$typeof===Pn)return V(b,v,El(b,w),D);Sl(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),D=r(v,w),D.return=b,b=D):(n(b,v),D=yh(w,b.mode,D),D.return=b,b=D),a(b)):n(b,v)}return function(b,v,w,D){try{lo=0;var z=V(b,v,w,D);return ys=null,z}catch(T){if(T===ko||T===hc)throw T;var j=qe(29,T,null,b.mode);return j.lanes=D,j.return=b,j}finally{}}}var Ds=X0(!0),$0=X0(!1),rn=Cn(null),En=null;function di(e){var t=e.alternate;Vt($t,$t.current&1),Vt(rn,e),En===null&&(t===null||Is.current!==null||t.memoizedState!==null)&&(En=e)}function Z0(e){if(e.tag===22){if(Vt($t,$t.current),Vt(rn,e),En===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(En=e)}}else mi()}function mi(){Vt($t,$t.current),Vt(rn,rn.current)}function Bn(e){se(rn),En===e&&(En=null),se($t)}var $t=Cn(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||qf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Eh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ge(),r=Ri(i);r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Qe(t,e,i),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ge(),r=Ri(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Qe(t,e,i),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),i=Ri(n);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,n),t!==null&&(Qe(t,e,n),ja(t,e,n))}};function Gp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!so(n,i)||!so(r,s):!0}function Qp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Rf.enqueueReplaceState(t,t.state,null)}function Tr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Dt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function W0(e){Eu(e)}function J0(e){console.error(e)}function tT(e){Eu(e)}function Au(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Yp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function If(e,t,n){return n=Ri(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(e,t)},n}function eT(e){return e=Ri(e),e.tag=3,e}function nT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Yp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Yp(t,n,i),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function JS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Mo(t,n,r,!0),n=rn.current,n!==null){switch(n.tag){case 13:return En===null?kf():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),xh(e,i,r)),!1;case 22:return n.flags|=65536,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),xh(e,i,r)),!1}throw Error(P(435,n.tag))}return xh(e,i,r),kf(),!1}if(dt)return t=rn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==mf&&(e=Error(P(422),{cause:i}),ao(tn(e,n)))):(i!==mf&&(t=Error(P(423),{cause:i}),ao(tn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=tn(i,n),r=If(e.stateNode,i,r),vh(e,r),jt!==4&&(jt=2)),!1;var s=Error(P(520),{cause:i});if(s=tn(s,n),Ya===null?Ya=[s]:Ya.push(s),jt!==4&&(jt=2),t===null)return!0;i=tn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=If(n.stateNode,i,e),vh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=eT(r),nT(r,e,n,i),vh(n,r),!1}n=n.return}while(n!==null);return!1}var iT=Error(P(461)),re=!1;function ue(e,t,n,i){t.child=e===null?$0(t,null,n,i):Ds(t,e.child,n,i)}function Kp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return _r(t),i=Gd(e,t,n,a,s,r),l=Qd(),e!==null&&!re?(Yd(e,t,r),Yn(e,t,r)):(dt&&l&&Ld(t),t.flags|=1,ue(e,t,i,r),t.child)}function Xp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Ud(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,rT(e,t,s,i,r)):(e=jl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:so,n(a,i)&&e.ref===t.ref)return Yn(e,t,r)}return t.flags|=1,e=Hn(s,i),e.ref=t.ref,e.return=t,t.child=e}function rT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(so(s,i)&&e.ref===t.ref)if(re=!1,t.pendingProps=i=s,nm(e,r))e.flags&131072&&(re=!0);else return t.lanes=e.lanes,Yn(e,t,r)}return Cf(e,t,n,i,r)}function sT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return $p(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(t,s!==null?s.cachePool:null),s!==null?Up(t,s):Af(),Z0(t);else return t.lanes=t.childLanes=536870912,$p(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ql(t,s.cachePool),Up(t,s),mi(),t.memoizedState=null):(e!==null&&ql(t,null),Af(),mi());return ue(e,t,r,n),t.child}function $p(e,t,n,i){var r=jd();return r=r===null?null:{parent:Xt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ql(t,null),Af(),Z0(t),e!==null&&Mo(e,t,i,!0),null}function Gl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cf(e,t,n,i,r){return _r(t),n=Gd(e,t,n,i,void 0,r),i=Qd(),e!==null&&!re?(Yd(e,t,r),Yn(e,t,r)):(dt&&i&&Ld(t),t.flags|=1,ue(e,t,n,r),t.child)}function Zp(e,t,n,i,r,s){return _r(t),t.updateQueue=null,n=_0(t,i,n,r),y0(e),i=Qd(),e!==null&&!re?(Yd(e,t,s),Yn(e,t,s)):(dt&&i&&Ld(t),t.flags|=1,ue(e,t,n,s),t.child)}function Wp(e,t,n,i,r){if(_r(t),t.stateNode===null){var s=as,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ee(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},qd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ee(a):as,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Eh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Rf.enqueueReplaceState(s,s.state,null),Ha(t,i,s,r),qa(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Tr(n,l);s.props=u;var h=s.context,d=n.contextType;a=as,typeof d=="object"&&d!==null&&(a=Ee(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Qp(t,s,i,a),hi=!1;var m=t.memoizedState;s.state=m,Ha(t,i,s,r),qa(),h=t.memoizedState,l||m!==h||hi?(typeof g=="function"&&(Eh(t,n,g,i),h=t.memoizedState),(u=hi||Gp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Tf(e,t),a=t.memoizedProps,d=Tr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=as,typeof h=="object"&&h!==null&&(u=Ee(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Qp(t,s,i,u),hi=!1,m=t.memoizedState,s.state=m,Ha(t,i,s,r),qa();var _=t.memoizedState;a!==g||m!==_||hi||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof l=="function"&&(Eh(t,n,l,i),_=t.memoizedState),(d=hi||Gp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Gl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ds(t,e.child,null,r),t.child=Ds(t,null,n,r)):ue(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Yn(e,t,r),e}function Jp(e,t,n,i){return xo(),t.flags|=256,ue(e,t,n,i),t.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bh(e){return{baseLanes:e,cachePool:f0()}}function Sh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=nn),e}function aT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:($t.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(r?di(t):mi(),dt){var l=Bt,u;if(u=l){t:{for(u=l,l=yn;u.nodeType!==8;){if(!l){l=null;break t}if(u=fn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:cr!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},u=qe(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,we=t,Bt=null,u=!0):u=!1}u||yr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return qf(l)?t.lanes=32:t.lanes=536870912,null;Bn(t)}return l=i.children,i=i.fallback,r?(mi(),r=t.mode,l=bu({mode:"hidden",children:l},r),i=ur(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=bh(n),r.childLanes=Sh(e,a,n),t.memoizedState=Ah,i):(di(t),Df(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(di(t),t.flags&=-257,t=wh(e,t,n)):t.memoizedState!==null?(mi(),t.child=e.child,t.flags|=128,t=null):(mi(),r=i.fallback,l=t.mode,i=bu({mode:"visible",children:i.children},l),r=ur(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ds(t,e.child,null,n),i=t.child,i.memoizedState=bh(n),i.childLanes=Sh(e,a,n),t.memoizedState=Ah,t=r);else if(di(t),qf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,ao({value:i,source:null,stack:null}),t=wh(e,t,n)}else if(re||Mo(e,t,n,!1),a=(n&e.childLanes)!==0,re||a){if(a=wt,a!==null&&(i=n&-n,i=i&42?1:Rd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Gs(e,i),Qe(a,e,i),iT;l.data==="$?"||kf(),t=wh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Bt=fn(l.nextSibling),we=t,dt=!0,hr=null,yn=!1,e!==null&&(Ze[We++]=Un,Ze[We++]=Ln,Ze[We++]=cr,Un=e.id,Ln=e.overflow,cr=t),t=Df(t,i.children),t.flags|=4096);return t}return r?(mi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Hn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Hn(h,r):(r=ur(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=bh(n):(u=l.cachePool,u!==null?(h=Xt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=f0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Sh(e,a,n),t.memoizedState=Ah,i):(di(t),n=e.child,e=n.sibling,n=Hn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Df(e,t){return t=bu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bu(e,t){return e=qe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wh(e,t,n){return Ds(t,e.child,null,n),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ty(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pf(e.return,t,n)}function Rh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function oT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ue(e,t,i.children,n),i=$t.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,n,t);else if(e.tag===19)ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Vt($t,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Tu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Rh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Tu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Rh(t,!0,n,null,s);break;case"together":Rh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))if(e!==null){if(Mo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function t2(e,t,n){switch(t.tag){case 3:ou(t,t.stateNode.containerInfo),fi(t,Xt,e.memoizedState.cache),xo();break;case 27:case 5:rf(t);break;case 4:ou(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?aT(e,t,n):(di(t),e=Yn(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Mo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return oT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Vt($t,$t.current),i)break;return null;case 22:case 23:return t.lanes=0,sT(e,t,n);case 24:fi(t,Xt,e.memoizedState.cache)}return Yn(e,t,n)}function lT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)re=!0;else{if(!nm(e,n)&&!(t.flags&128))return re=!1,t2(e,t,n);re=!!(e.flags&131072)}else re=!1,dt&&t.flags&1048576&&c0(t,mu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Ud(i)?(e=Tr(i,e),t.tag=1,t=Wp(null,t,i,e,n)):(t.tag=0,t=Cf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===bd){t.tag=11,t=Kp(null,t,i,e,n);break t}else if(r===Sd){t.tag=14,t=Xp(null,t,i,e,n);break t}}throw t=ef(i)||i,Error(P(306,t,""))}}return t;case 0:return Cf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Tr(i,t.pendingProps),Wp(e,t,i,r,n);case 3:t:{if(ou(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Tf(e,t),Ha(t,i,null,n);var a=t.memoizedState;if(i=a.cache,fi(t,Xt,i),i!==s.cache&&yf(t,[Xt],n,!0),qa(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Jp(e,t,i,n);break t}else if(i!==r){r=tn(Error(P(424)),t),ao(r),t=Jp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Bt=fn(e.firstChild),we=t,dt=!0,hr=null,yn=!0,n=$0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xo(),i===r){t=Yn(e,t,n);break t}ue(e,t,i,n)}t=t.child}return t;case 26:return Gl(e,t),e===null?(n=yy(t.type,null,t.pendingProps,null))?t.memoizedState=n:dt||(n=t.type,e=t.pendingProps,i=Nu(wi.current).createElement(n),i[Te]=t,i[Ve]=e,de(i,n,e),ie(i),t.stateNode=i):t.memoizedState=yy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rf(t),e===null&&dt&&(i=t.stateNode=KT(t.type,t.pendingProps,wi.current),we=t,yn=!0,r=Bt,$i(t.type)?(Hf=r,Bt=fn(i.firstChild)):Bt=r),ue(e,t,t.pendingProps.children,n),Gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((r=i=Bt)&&(i=C2(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,we=t,Bt=fn(i.firstChild),yn=!1,r=!0):r=!1),r||yr(t)),rf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Bf(r,s)?i=null:a!==null&&Bf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Gd(e,t,QS,null,null,n),fo._currentValue=r),Gl(e,t),ue(e,t,i,n),t.child;case 6:return e===null&&dt&&((e=n=Bt)&&(n=D2(n,t.pendingProps,yn),n!==null?(t.stateNode=n,we=t,Bt=null,e=!0):e=!1),e||yr(t)),null;case 13:return aT(e,t,n);case 4:return ou(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ds(t,null,i,n):ue(e,t,i,n),t.child;case 11:return Kp(e,t,t.type,t.pendingProps,n);case 7:return ue(e,t,t.pendingProps,n),t.child;case 8:return ue(e,t,t.pendingProps.children,n),t.child;case 12:return ue(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,fi(t,t.type,i.value),ue(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,_r(t),r=Ee(r),i=i(r),t.flags|=1,ue(e,t,i,n),t.child;case 14:return Xp(e,t,t.type,t.pendingProps,n);case 15:return rT(e,t,t.type,t.pendingProps,n);case 19:return oT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=bu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Hn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return sT(e,t,n);case 24:return _r(t),i=Ee(Xt),e===null?(r=jd(),r===null&&(r=wt,s=Bd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},qd(t),fi(t,Xt,r)):(e.lanes&n&&(Tf(e,t),Ha(t,null,null,n),qa()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),fi(t,Xt,i)):(i=s.cache,fi(t,Xt,i),i!==r.cache&&yf(t,[Xt],n,!0))),ue(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Mn(e){e.flags|=4}function ey(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ZT(t)){if(t=rn.current,t!==null&&((ut&4194048)===ut?En!==null:(ut&62914560)!==ut&&!(ut&536870912)||t!==En))throw Ba=vf,d0;e.flags|=8192}}function wl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vv():536870912,e.lanes|=t,Ns|=t)}function ba(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function e2(e,t,n){var i=t.pendingProps;switch(zd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return kt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Fn(Xt),bs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?Mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Op())),kt(t),null;case 26:return n=t.memoizedState,e===null?(Mn(t),n!==null?(kt(t),ey(t,n)):(kt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Mn(t),kt(t),ey(t,n)):(kt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Mn(t),kt(t),t.flags&=-16777217),null;case 27:lu(t),n=wi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return kt(t),null}e=vn.current,Ea(t)?Dp(t):(e=KT(r,i,n),t.stateNode=e,Mn(t))}return kt(t),null;case 5:if(lu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return kt(t),null}if(e=vn.current,Ea(t))Dp(t);else{switch(r=Nu(wi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Te]=t,e[Ve]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(de(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mn(t)}}return kt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=wi.current,Ea(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=we,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Te]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||GT(e.nodeValue,n)),e||yr(t)}else e=Nu(e).createTextNode(i),e[Te]=t,t.stateNode=e}return kt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ea(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[Te]=t}else xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),r=!1}else r=Op(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Bn(t),t):(Bn(t),null)}if(Bn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),wl(t,t.updateQueue),kt(t),null;case 4:return bs(),e===null&&cm(t.stateNode.containerInfo),kt(t),null;case 10:return Fn(t.type),kt(t),null;case 19:if(se($t),r=t.memoizedState,r===null)return kt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)ba(r,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Tu(e),s!==null){for(t.flags|=128,ba(r,!1),e=s.updateQueue,t.updateQueue=e,wl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)u0(n,e),n=n.sibling;return Vt($t,$t.current&1|2),t.child}e=e.sibling}r.tail!==null&&Tn()>wu&&(t.flags|=128,i=!0,ba(r,!1),t.lanes=4194304)}else{if(!i)if(e=Tu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,wl(t,e),ba(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!dt)return kt(t),null}else 2*Tn()-r.renderingStartTime>wu&&n!==536870912&&(t.flags|=128,i=!0,ba(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Tn(),t.sibling=null,e=$t.current,Vt($t,i?e&1|2:e&1),t):(kt(t),null);case 22:case 23:return Bn(t),Hd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),n=t.updateQueue,n!==null&&wl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&se(fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fn(Xt),kt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function n2(e,t){switch(zd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(Xt),bs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return lu(t),null;case 13:if(Bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se($t),null;case 4:return bs(),null;case 10:return Fn(t.type),null;case 22:case 23:return Bn(t),Hd(),e!==null&&se(fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fn(Xt),null;case 25:return null;default:return null}}function uT(e,t){switch(zd(t),t.tag){case 3:Fn(Xt),bs();break;case 26:case 27:case 5:lu(t);break;case 4:bs();break;case 13:Bn(t);break;case 19:se($t);break;case 10:Fn(t.type);break;case 22:case 23:Bn(t),Hd(),e!==null&&se(fr);break;case 24:Fn(Xt)}}function Lo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){bt(t,t.return,l)}}function Bi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){bt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){bt(t,t.return,d)}}function cT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{p0(t,n)}catch(i){bt(e,e.return,i)}}}function hT(e,t,n){n.props=Tr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){bt(e,t,i)}}function Ga(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){bt(e,t,r)}}function _n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){bt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function fT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){bt(e,e.return,r)}}function Ih(e,t,n){try{var i=e.stateNode;b2(i,e.type,n,t),i[Ve]=t}catch(r){bt(e,e.return,r)}}function dT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Ch(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_c));else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Nf(e,t,n),e=e.sibling;e!==null;)Nf(e,t,n),e=e.sibling}function Su(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function mT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);de(t,i,n),t[Te]=e,t[Ve]=n}catch(s){bt(e,e.return,s)}}var kn=!1,Ht=!1,Dh=!1,ny=typeof WeakSet=="function"?WeakSet:Set,ne=null;function i2(e,t){if(e=e.containerInfo,Lf=Vu,e=e0(e),Vd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:e,selectionRange:n},Vu=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){switch(t=ne,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var O=Tr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(O,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){bt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)jf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}}function gT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n),i&4&&Lo(5,n);break;case 1:if(oi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){bt(n,n.return,a)}else{var r=Tr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){bt(n,n.return,a)}}i&64&&cT(n),i&512&&Ga(n,n.return);break;case 3:if(oi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{p0(e,t)}catch(a){bt(n,n.return,a)}}break;case 27:t===null&&i&4&&mT(n);case 26:case 5:oi(e,n),t===null&&i&4&&fT(n),i&512&&Ga(n,n.return);break;case 12:oi(e,n);break;case 13:oi(e,n),i&4&&_T(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=f2.bind(null,n),N2(e,n))));break;case 22:if(i=n.memoizedState!==null||kn,!i){t=t!==null&&t.memoizedState!==null||Ht,r=kn;var s=Ht;kn=i,(Ht=t)&&!s?ui(e,n,(n.subtreeFlags&8772)!==0):oi(e,n),kn=r,Ht=s}break;case 30:break;default:oi(e,n)}}function pT(e){var t=e.alternate;t!==null&&(e.alternate=null,pT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,Ne=!1;function Vn(e,t,n){for(n=n.child;n!==null;)yT(e,t,n),n=n.sibling}function yT(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Io,n)}catch{}switch(n.tag){case 26:Ht||_n(n,t),Vn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||_n(n,t);var i=xt,r=Ne;$i(n.type)&&(xt=n.stateNode,Ne=!1),Vn(e,t,n),Xa(n.stateNode),xt=i,Ne=r;break;case 5:Ht||_n(n,t);case 6:if(i=xt,r=Ne,xt=null,Vn(e,t,n),xt=i,Ne=r,xt!==null)if(Ne)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(s){bt(n,t,s)}else try{xt.removeChild(n.stateNode)}catch(s){bt(n,t,s)}break;case 18:xt!==null&&(Ne?(e=xt,my(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),po(e)):my(xt,n.stateNode));break;case 4:i=xt,r=Ne,xt=n.stateNode.containerInfo,Ne=!0,Vn(e,t,n),xt=i,Ne=r;break;case 0:case 11:case 14:case 15:Ht||Bi(2,n,t),Ht||Bi(4,n,t),Vn(e,t,n);break;case 1:Ht||(_n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&hT(n,t,i)),Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,Vn(e,t,n),Ht=i;break;default:Vn(e,t,n)}}function _T(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{po(e)}catch(n){bt(t,t.return,n)}}function r2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ny),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ny),t;default:throw Error(P(435,e.tag))}}function Nh(e,t){var n=r2(e);t.forEach(function(i){var r=d2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function ze(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if($i(l.type)){xt=l.stateNode,Ne=!1;break t}break;case 5:xt=l.stateNode,Ne=!1;break t;case 3:case 4:xt=l.stateNode.containerInfo,Ne=!0;break t}l=l.return}if(xt===null)throw Error(P(160));yT(s,a,r),xt=null,Ne=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)vT(t,e),t=t.sibling}var ln=null;function vT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ze(t,e),Be(e),i&4&&(Bi(3,e,e.return),Lo(3,e),Bi(5,e,e.return));break;case 1:ze(t,e),Be(e),i&512&&(Ht||n===null||_n(n,n.return)),i&64&&kn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=ln;if(ze(t,e),Be(e),i&512&&(Ht||n===null||_n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[No]||s[Te]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),de(s,i,n),s[Te]=e,ie(s),i=s;break t;case"link":var a=vy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),de(s,i,n),r.head.appendChild(s);break;case"meta":if(a=vy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),de(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[Te]=e,ie(s),i=s}e.stateNode=i}else Ty(r,e.type,e.stateNode);else e.stateNode=_y(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ty(r,e.type,e.stateNode):_y(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ih(e,e.memoizedProps,n.memoizedProps)}break;case 27:ze(t,e),Be(e),i&512&&(Ht||n===null||_n(n,n.return)),n!==null&&i&4&&Ih(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ze(t,e),Be(e),i&512&&(Ht||n===null||_n(n,n.return)),e.flags&32){r=e.stateNode;try{ws(r,"")}catch(_){bt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Ih(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Dh=!0);break;case 6:if(ze(t,e),Be(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){bt(e,e.return,_)}}break;case 3:if(Kl=null,r=ln,ln=Ou(t.containerInfo),ze(t,e),ln=r,Be(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{po(t.containerInfo)}catch(_){bt(e,e.return,_)}Dh&&(Dh=!1,TT(e));break;case 4:i=ln,ln=Ou(e.stateNode.containerInfo),ze(t,e),Be(e),ln=i;break;case 12:ze(t,e),Be(e);break;case 13:ze(t,e),Be(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(om=Tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=kn,d=Ht;if(kn=h||r,Ht=d||u,ze(t,e),Ht=d,kn=h,Be(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||kn||Ht||sr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){bt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){bt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Nh(e,n))));break;case 19:ze(t,e),Be(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nh(e,i)));break;case 30:break;case 21:break;default:ze(t,e),Be(e)}}function Be(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(dT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Ch(e);Su(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ws(a,""),n.flags&=-33);var l=Ch(e);Su(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ch(e);Nf(e,h,u);break;default:throw Error(P(161))}}catch(d){bt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;TT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function oi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gT(e,t.alternate,t),t=t.sibling}function sr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),sr(t);break;case 1:_n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&hT(t,t.return,n),sr(t);break;case 27:Xa(t.stateNode);case 26:case 5:_n(t,t.return),sr(t);break;case 22:t.memoizedState===null&&sr(t);break;case 30:sr(t);break;default:sr(t)}e=e.sibling}}function ui(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ui(r,s,n),Lo(4,s);break;case 1:if(ui(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){bt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)g0(u[r],l)}catch(h){bt(i,i.return,h)}}n&&a&64&&cT(s),Ga(s,s.return);break;case 27:mT(s);case 26:case 5:ui(r,s,n),n&&i===null&&a&4&&fT(s),Ga(s,s.return);break;case 12:ui(r,s,n);break;case 13:ui(r,s,n),n&&a&4&&_T(r,s);break;case 22:s.memoizedState===null&&ui(r,s,n),Ga(s,s.return);break;case 30:break;default:ui(r,s,n)}t=t.sibling}}function im(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Vo(n))}function rm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vo(e))}function gn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ET(e,t,n,i),t=t.sibling}function ET(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:gn(e,t,n,i),r&2048&&Lo(9,t);break;case 1:gn(e,t,n,i);break;case 3:gn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vo(e)));break;case 12:if(r&2048){gn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){bt(t,t.return,u)}}else gn(e,t,n,i);break;case 13:gn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?gn(e,t,n,i):Qa(e,t):s._visibility&2?gn(e,t,n,i):(s._visibility|=2,Qr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&im(a,t);break;case 24:gn(e,t,n,i),r&2048&&rm(t.alternate,t);break;default:gn(e,t,n,i)}}function Qr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(s,a,l,u,r),Lo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Qr(s,a,l,u,r):Qa(s,a):(d._visibility|=2,Qr(s,a,l,u,r)),r&&h&2048&&im(a.alternate,a);break;case 24:Qr(s,a,l,u,r),r&&h&2048&&rm(a.alternate,a);break;default:Qr(s,a,l,u,r)}t=t.sibling}}function Qa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Qa(n,i),r&2048&&im(i.alternate,i);break;case 24:Qa(n,i),r&2048&&rm(i.alternate,i);break;default:Qa(n,i)}t=t.sibling}}var Na=8192;function qr(e){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)AT(e),e=e.sibling}function AT(e){switch(e.tag){case 26:qr(e),e.flags&Na&&e.memoizedState!==null&&H2(ln,e.memoizedState,e.memoizedProps);break;case 5:qr(e);break;case 3:case 4:var t=ln;ln=Ou(e.stateNode.containerInfo),qr(e),ln=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Na,Na=16777216,qr(e),Na=t):qr(e));break;default:qr(e)}}function bT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ne=i,wT(i,e)}bT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ST(e),e=e.sibling}function ST(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ql(e)):Sa(e);break;default:Sa(e)}}function Ql(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ne=i,wT(i,e)}bT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bi(8,t,t.return),Ql(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function wT(e,t){for(;ne!==null;){var n=ne;switch(n.tag){case 0:case 11:case 15:Bi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Vo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ne=i;else t:for(n=e;ne!==null;){i=ne;var r=i.sibling,s=i.return;if(pT(i),i===n){ne=null;break t}if(r!==null){r.return=s,ne=r;break t}ne=s}}}var s2={getCacheForType:function(e){var t=Ee(Xt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},a2=typeof WeakMap=="function"?WeakMap:Map,_t=0,wt=null,st=null,ut=0,yt=0,je=null,Ai=!1,Qs=!1,sm=!1,Kn=0,jt=0,ji=0,dr=0,am=0,nn=0,Ns=0,Ya=null,Oe=null,Of=!1,om=0,wu=1/0,Ru=null,Ci=null,he=0,Di=null,Os=null,_s=0,xf=0,Mf=null,RT=null,Ka=0,Vf=null;function Ge(){if(_t&2&&ut!==0)return ut&-ut;if(X.T!==null){var e=Rs;return e!==0?e:um()}return Uv()}function IT(){nn===0&&(nn=!(ut&536870912)||dt?Mv():536870912);var e=rn.current;return e!==null&&(e.flags|=32),nn}function Qe(e,t,n){(e===wt&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(xs(e,0),bi(e,ut,nn,!1)),Do(e,n),(!(_t&2)||e!==wt)&&(e===wt&&(!(_t&2)&&(dr|=n),jt===4&&bi(e,ut,nn,!1)),Dn(e))}function CT(e,t,n){if(_t&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Co(e,t),r=i?u2(e,t):Oh(e,t,!0),s=i;do{if(r===0){Qs&&!i&&bi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!o2(n)){r=Oh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Ya;var u=l.current.memoizedState.isDehydrated;if(u&&(xs(l,a).flags|=256),a=Oh(l,a,!1),a!==2){if(sm&&!u){l.errorRecoveryDisabledLanes|=s,dr|=s,r=4;break t}s=Oe,Oe=r,s!==null&&(Oe===null?Oe=s:Oe.push.apply(Oe,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){xs(e,0),bi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:bi(i,t,nn,!Ai);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=om+300-Tn(),10<r)){if(bi(i,t,nn,!Ai),sc(i,0,!0)!==0)break t;i.timeoutHandle=YT(iy.bind(null,i,n,Oe,Ru,Of,t,nn,dr,Ns,Ai,s,2,-0,0),r);break t}iy(i,n,Oe,Ru,Of,t,nn,dr,Ns,Ai,s,0,-0,0)}}break}while(!0);Dn(e)}function iy(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:q2},AT(t),g=F2(),g!==null)){e.cancelPendingCommit=g(sy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),bi(e,s,a,!h);return}sy(e,t,s,n,i,r,a,l,u)}function o2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ye(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t,n,i){t&=~am,t&=~dr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Fe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&kv(e,n,t)}function gc(){return _t&6?!0:(zo(0),!1)}function lm(){if(st!==null){if(yt===0)var e=st.return;else e=st,zn=Dr=null,Kd(e),ys=null,lo=0,e=st;for(;e!==null;)uT(e.alternate,e),e=e.return;st=null}}function xs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,w2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),lm(),wt=e,st=n=Hn(e.current,null),ut=t,yt=0,je=null,Ai=!1,Qs=Co(e,t),sm=!1,Ns=nn=am=dr=ji=jt=0,Oe=Ya=null,Of=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Fe(i),s=1<<r;t|=e[r],i&=~s}return Kn=t,uc(),n}function DT(e,t){it=null,X.H=vu,t===ko||t===hc?(t=kp(),yt=3):t===d0?(t=kp(),yt=4):yt=t===iT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,je=t,st===null&&(jt=1,Au(e,tn(t,e.current)))}function NT(){var e=X.H;return X.H=vu,e===null?vu:e}function OT(){var e=X.A;return X.A=s2,e}function kf(){jt=4,Ai||(ut&4194048)!==ut&&rn.current!==null||(Qs=!0),!(ji&134217727)&&!(dr&134217727)||wt===null||bi(wt,ut,nn,!1)}function Oh(e,t,n){var i=_t;_t|=2;var r=NT(),s=OT();(wt!==e||ut!==t)&&(Ru=null,xs(e,t)),t=!1;var a=jt;t:do try{if(yt!==0&&st!==null){var l=st,u=je;switch(yt){case 8:lm(),a=6;break t;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var h=yt;if(yt=0,je=null,us(e,l,u,h),n&&Qs){a=0;break t}break;default:h=yt,yt=0,je=null,us(e,l,u,h)}}l2(),a=jt;break}catch(d){DT(e,d)}while(!0);return t&&e.shellSuspendCounter++,zn=Dr=null,_t=i,X.H=r,X.A=s,st===null&&(wt=null,ut=0,uc()),a}function l2(){for(;st!==null;)xT(st)}function u2(e,t){var n=_t;_t|=2;var i=NT(),r=OT();wt!==e||ut!==t?(Ru=null,wu=Tn()+500,xs(e,t)):Qs=Co(e,t);t:do try{if(yt!==0&&st!==null){t=st;var s=je;e:switch(yt){case 1:yt=0,je=null,us(e,t,s,1);break;case 2:case 9:if(Vp(s)){yt=0,je=null,ry(t);break}t=function(){yt!==2&&yt!==9||wt!==e||(yt=7),Dn(e)},s.then(t,t);break t;case 3:yt=7;break t;case 4:yt=5;break t;case 7:Vp(s)?(yt=0,je=null,ry(t)):(yt=0,je=null,us(e,t,s,7));break;case 5:var a=null;switch(st.tag){case 26:a=st.memoizedState;case 5:case 27:var l=st;if(!a||ZT(a)){yt=0,je=null;var u=l.sibling;if(u!==null)st=u;else{var h=l.return;h!==null?(st=h,pc(h)):st=null}break e}}yt=0,je=null,us(e,t,s,5);break;case 6:yt=0,je=null,us(e,t,s,6);break;case 8:lm(),jt=6;break t;default:throw Error(P(462))}}c2();break}catch(d){DT(e,d)}while(!0);return zn=Dr=null,X.H=i,X.A=r,_t=n,st!==null?0:(wt=null,ut=0,uc(),jt)}function c2(){for(;st!==null&&!xb();)xT(st)}function xT(e){var t=lT(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?pc(e):st=t}function ry(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zp(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=Zp(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:Kd(t);default:uT(n,t),t=st=u0(t,Kn),t=lT(n,t,Kn)}e.memoizedProps=e.pendingProps,t===null?pc(e):st=t}function us(e,t,n,i){zn=Dr=null,Kd(t),ys=null,lo=0;var r=t.return;try{if(JS(e,r,t,n,ut)){jt=1,Au(e,tn(n,e.current)),st=null;return}}catch(s){if(r!==null)throw st=r,s;jt=1,Au(e,tn(n,e.current)),st=null;return}t.flags&32768?(dt||i===1?e=!0:Qs||ut&536870912?e=!1:(Ai=e=!0,(i===2||i===9||i===3||i===6)&&(i=rn.current,i!==null&&i.tag===13&&(i.flags|=16384))),MT(t,e)):pc(t)}function pc(e){var t=e;do{if(t.flags&32768){MT(t,Ai);return}e=t.return;var n=e2(t.alternate,t,Kn);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);jt===0&&(jt=5)}function MT(e,t){do{var n=n2(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);jt=6,st=null}function sy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do yc();while(he!==0);if(_t&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=kd,qb(e,n,s,a,l,u),e===wt&&(st=wt=null,ut=0),Os=t,Di=e,_s=n,xf=s,Mf=r,RT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,m2(uu,function(){return LT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,r=mt.p,mt.p=2,a=_t,_t|=4;try{i2(e,t,n)}finally{_t=a,mt.p=r,X.T=i}}he=1,VT(),kT(),PT()}}function VT(){if(he===1){he=0;var e=Di,t=Os,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=mt.p;mt.p=2;var r=_t;_t|=4;try{vT(t,e);var s=zf,a=e0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&t0(l.ownerDocument.documentElement,l)){if(u!==null&&Vd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),O=l.textContent.length,M=Math.min(u.start,O),V=u.end===void 0?M:Math.min(u.end,O);!_.extend&&M>V&&(a=V,V=M,M=a);var b=Rp(l,M),v=Rp(l,V);if(b&&v&&(_.rangeCount!==1||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=g.createRange();w.setStart(b.node,b.offset),_.removeAllRanges(),M>V?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var D=g[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Vu=!!Lf,zf=Lf=null}finally{_t=r,mt.p=i,X.T=n}}e.current=t,he=2}}function kT(){if(he===2){he=0;var e=Di,t=Os,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=mt.p;mt.p=2;var r=_t;_t|=4;try{gT(e,t.alternate,t)}finally{_t=r,mt.p=i,X.T=n}}he=3}}function PT(){if(he===4||he===3){he=0,Mb();var e=Di,t=Os,n=_s,i=RT;t.subtreeFlags&10256||t.flags&10256?he=5:(he=0,Os=Di=null,UT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Id(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Io,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,r=mt.p,mt.p=2,X.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{X.T=t,mt.p=r}}_s&3&&yc(),Dn(e),r=e.pendingLanes,n&4194090&&r&42?e===Vf?Ka++:(Ka=0,Vf=e):Ka=0,zo(0)}}function UT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vo(t)))}function yc(e){return VT(),kT(),PT(),LT()}function LT(){if(he!==5)return!1;var e=Di,t=xf;xf=0;var n=Id(_s),i=X.T,r=mt.p;try{mt.p=32>n?32:n,X.T=null,n=Mf,Mf=null;var s=Di,a=_s;if(he=0,Os=Di=null,_s=0,_t&6)throw Error(P(331));var l=_t;if(_t|=4,ST(s.current),ET(s,s.current,a,n),_t=l,zo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Io,s)}catch{}return!0}finally{mt.p=r,X.T=i,UT(e,t)}}function ay(e,t,n){t=tn(n,t),t=If(e.stateNode,t,2),e=Ii(e,t,2),e!==null&&(Do(e,2),Dn(e))}function bt(e,t,n){if(e.tag===3)ay(e,e,n);else for(;t!==null;){if(t.tag===3){ay(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ci===null||!Ci.has(i))){e=tn(n,e),n=eT(2),i=Ii(t,n,2),i!==null&&(nT(n,i,t,e),Do(i,2),Dn(i));break}}t=t.return}}function xh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new a2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(sm=!0,r.add(n),e=h2.bind(null,e,t,n),t.then(e,e))}function h2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,wt===e&&(ut&n)===n&&(jt===4||jt===3&&(ut&62914560)===ut&&300>Tn()-om?!(_t&2)&&xs(e,0):am|=n,Ns===ut&&(Ns=0)),Dn(e)}function zT(e,t){t===0&&(t=Vv()),e=Gs(e,t),e!==null&&(Do(e,t),Dn(e))}function f2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zT(e,n)}function d2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),zT(e,n)}function m2(e,t){return wd(e,t)}var Iu=null,Yr=null,Pf=!1,Cu=!1,Mh=!1,mr=0;function Dn(e){e!==Yr&&e.next===null&&(Yr===null?Iu=Yr=e:Yr=Yr.next=e),Cu=!0,Pf||(Pf=!0,p2())}function zo(e,t){if(!Mh&&Cu){Mh=!0;do for(var n=!1,i=Iu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Fe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,oy(i,s))}else s=ut,s=sc(i,i===wt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Co(i,s)||(n=!0,oy(i,s));i=i.next}while(n);Mh=!1}}function g2(){BT()}function BT(){Cu=Pf=!1;var e=0;mr!==0&&(S2()&&(e=mr),mr=0);for(var t=Tn(),n=null,i=Iu;i!==null;){var r=i.next,s=jT(i,t);s===0?(i.next=null,n===null?Iu=r:n.next=r,r===null&&(Yr=n)):(n=i,(e!==0||s&3)&&(Cu=!0)),i=r}zo(e)}function jT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Fe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=jb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=wt,n=ut,n=sc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&sh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Co(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&sh(i),Id(n)){case 2:case 8:n=Ov;break;case 32:n=uu;break;case 268435456:n=xv;break;default:n=uu}return i=qT.bind(null,e),n=wd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&sh(i),e.callbackPriority=2,e.callbackNode=null,2}function qT(e,t){if(he!==0&&he!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yc()&&e.callbackNode!==n)return null;var i=ut;return i=sc(e,e===wt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(CT(e,i,t),jT(e,Tn()),e.callbackNode!=null&&e.callbackNode===n?qT.bind(null,e):null)}function oy(e,t){if(yc())return null;CT(e,t,!0)}function p2(){R2(function(){_t&6?wd(Nv,g2):BT()})}function um(){return mr===0&&(mr=Mv()),mr}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function uy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function y2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=ly((r[Ve]||null).action),a=i.submitter;a&&(t=(t=a[Ve]||null)?ly(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new ac("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(mr!==0){var u=a?uy(r,a):new FormData(r);wf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?uy(r,a):new FormData(r),wf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Vh=0;Vh<df.length;Vh++){var kh=df[Vh],_2=kh.toLowerCase(),v2=kh[0].toUpperCase()+kh.slice(1);mn(_2,"on"+v2)}mn(i0,"onAnimationEnd");mn(r0,"onAnimationIteration");mn(s0,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(PS,"onTransitionRun");mn(US,"onTransitionStart");mn(LS,"onTransitionCancel");mn(a0,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function HT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Eu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Eu(d)}r.currentTarget=null,s=u}}}}function rt(e,t){var n=t[af];n===void 0&&(n=t[af]=new Set);var i=e+"__bubble";n.has(i)||(FT(t,e,2,!1),n.add(i))}function Ph(e,t,n){var i=0;t&&(i|=4),FT(n,e,i,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function cm(e){if(!e[Rl]){e[Rl]=!0,Lv.forEach(function(n){n!=="selectionchange"&&(T2.has(n)||Ph(n,!1,e),Ph(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Ph("selectionchange",!1,t))}}function FT(e,t,n,i){switch(nE(t)){case 2:var r=Y2;break;case 8:r=K2;break;default:r=mm}n=r.bind(null,t,n,e),r=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Uh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ts(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}Qv(function(){var h=s,d=Nd(n),g=[];t:{var m=o0.get(e);if(m!==void 0){var _=ac,O=e;switch(e){case"keypress":if(Bl(n)===0)break t;case"keydown":case"keyup":_=mS;break;case"focusin":O="focus",_=dh;break;case"focusout":O="blur",_=dh;break;case"beforeblur":case"afterblur":_=dh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=yS;break;case i0:case r0:case s0:_=sS;break;case a0:_=vS;break;case"scroll":case"scrollend":_=tS;break;case"wheel":_=ES;break;case"copy":case"cut":case"paste":_=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=_p;break;case"toggle":case"beforetoggle":_=bS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),b=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,w;v!==null;){var D=v;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||b===null||(D=io(v,b),D!=null&&M.push(co(v,D,w))),V)break;v=v.return}0<M.length&&(m=new _(m,O,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==uf&&(O=n.relatedTarget||n.fromElement)&&(ts(O)||O[Hs]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=h,O=O?ts(O):null,O!==null&&(V=Ro(O),M=O.tag,O!==V||M!==5&&M!==27&&M!==6)&&(O=null)):(_=null,O=h),_!==O)){if(M=pp,D="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=_p,D="onPointerLeave",b="onPointerEnter",v="pointer"),V=_==null?m:Da(_),w=O==null?m:Da(O),m=new M(D,v+"leave",_,n,d),m.target=V,m.relatedTarget=w,D=null,ts(d)===h&&(M=new M(b,v+"enter",O,n,d),M.target=w,M.relatedTarget=V,D=M),V=D,_&&O)e:{for(M=_,b=O,v=0,w=M;w;w=Hr(w))v++;for(w=0,D=b;D;D=Hr(D))w++;for(;0<v-w;)M=Hr(M),v--;for(;0<w-v;)b=Hr(b),w--;for(;v--;){if(M===b||b!==null&&M===b.alternate)break e;M=Hr(M),b=Hr(b)}M=null}else M=null;_!==null&&cy(g,m,_,M,!1),O!==null&&V!==null&&cy(g,V,O,M,!0)}}t:{if(m=h?Da(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=Ap;else if(Ep(m))if(Wv)z=MS;else{z=OS;var j=NS}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Dd(h.elementType)&&(z=Ap):z=xS;if(z&&(z=z(e,h))){Zv(g,z,n,d);break t}j&&j(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&lf(m,"number",m.value)}switch(j=h?Da(h):window,e){case"focusin":(Ep(j)||j.contentEditable==="true")&&(is=j,hf=h,La=null);break;case"focusout":La=hf=is=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Ip(g,n,d);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":Ip(g,n,d)}var T;if(Md)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else ns?Xv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Kv&&n.locale!=="ko"&&(ns||y!=="onCompositionStart"?y==="onCompositionEnd"&&ns&&(T=Yv()):(Ei=d,Od="value"in Ei?Ei.value:Ei.textContent,ns=!0)),j=Du(h,y),0<j.length&&(y=new yp(y,e,null,n,d),g.push({event:y,listeners:j}),T?y.data=T:(T=$v(n),T!==null&&(y.data=T)))),(T=wS?RS(e,n):IS(e,n))&&(y=Du(h,"onBeforeInput"),0<y.length&&(j=new yp("onBeforeInput","beforeinput",null,n,d),g.push({event:j,listeners:y}),j.data=T)),y2(g,e,h,n,d)}HT(g,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Du(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=io(e,n),r!=null&&i.unshift(co(e,r,s)),r=io(e,t),r!=null&&i.push(co(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cy(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=io(n,s),h!=null&&a.unshift(co(n,h,u))):r||(h=io(n,s),h!=null&&a.push(co(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var E2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(A2,"")}function GT(e,t){return t=hy(t),hy(e)===t}function _c(){}function vt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ws(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ws(e,""+i);break;case"className":vl(e,"class",i);break;case"tabIndex":vl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":vl(e,n,i);break;case"style":Gv(e,i,s);break;case"data":if(t!=="object"){vl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ll(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&vt(e,t,"name",r.name,r,null),vt(e,t,"formEncType",r.formEncType,r,null),vt(e,t,"formMethod",r.formMethod,r,null),vt(e,t,"formTarget",r.formTarget,r,null)):(vt(e,t,"encType",r.encType,r,null),vt(e,t,"method",r.method,r,null),vt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ll(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=_c);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ll(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Ul(e,"popover",i);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ul(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wb.get(n)||n,Ul(e,n,i))}}function Uf(e,t,n,i,r,s){switch(n){case"style":Gv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ws(e,i):(typeof i=="number"||typeof i=="bigint")&&ws(e,""+i);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ve]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ul(e,n,i)}}}function de(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:vt(e,t,s,a,n,null)}}r&&vt(e,t,"srcSet",n.srcSet,n,null),i&&vt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:vt(e,t,i,d,n,null)}}qv(e,s,l,u,h,a,r,!1),cu(e);return;case"select":rt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:vt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?fs(e,!!i,t,!1):n!=null&&fs(e,!!i,n,!0);return;case"textarea":rt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:vt(e,t,a,l,n,null)}Fv(e,i,r,s),cu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:vt(e,t,u,i,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(i=0;i<uo.length;i++)rt(uo[i],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:vt(e,t,h,i,n,null)}return;default:if(Dd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Uf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&vt(e,t,l,i,n,null))}function b2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||vt(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==g&&vt(e,t,m,_,i,g)}}of(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||vt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&vt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?fs(e,!!n,m,!1):!!i!=!!n&&(t!=null?fs(e,!!n,t,!0):fs(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:vt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&vt(e,t,a,r,i,s)}Hv(e,m,_);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:vt(e,t,O,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&vt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:vt(e,t,h,m,i,_)}return;default:if(Dd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Uf(e,t,V,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Uf(e,t,d,m,i,_);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&vt(e,t,b,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||vt(e,t,g,m,i,_)}var Lf=null,zf=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lh=null;function S2(){var e=window.event;return e&&e.type==="popstate"?e===Lh?!1:(Lh=e,!0):(Lh=null,!1)}var YT=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(e){return dy.resolve(null).then(e).catch(I2)}:YT;function I2(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function my(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Xa(a.documentElement),n&2&&Xa(a.body),n&4)for(n=a.head,Xa(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[No]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),po(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);po(t)}function jf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jf(n),Cd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function C2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[No])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function D2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function qf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function N2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Hf=null;function gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function KT(e,t,n){switch(t=Nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Xa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cd(e)}var sn=new Map,py=new Set;function Ou(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=mt.d;mt.d={f:O2,r:x2,D:M2,C:V2,L:k2,m:P2,X:L2,S:U2,M:z2};function O2(){var e=ti.f(),t=gc();return e||t}function x2(e){var t=Fs(e);t!==null&&t.tag===5&&t.type==="form"?j0(t):ti.r(e)}var Ys=typeof document>"u"?null:document;function XT(e,t,n){var i=Ys;if(i&&typeof t=="string"&&t){var r=Je(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),py.has(r)||(py.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),de(t,"link",e),ie(t),i.head.appendChild(t)))}}function M2(e){ti.D(e),XT("dns-prefetch",e,null)}function V2(e,t){ti.C(e,t),XT("preconnect",e,t)}function k2(e,t,n){ti.L(e,t,n);var i=Ys;if(i&&e&&t){var r='link[rel="preload"][as="'+Je(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Je(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Je(n.imageSizes)+'"]')):r+='[href="'+Je(e)+'"]';var s=r;switch(t){case"style":s=Ms(e);break;case"script":s=Ks(e)}sn.has(s)||(e=Dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Bo(s))||t==="script"&&i.querySelector(jo(s))||(t=i.createElement("link"),de(t,"link",e),ie(t),i.head.appendChild(t)))}}function P2(e,t){ti.m(e,t);var n=Ys;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Je(i)+'"][href="'+Je(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ks(e)}if(!sn.has(s)&&(e=Dt({rel:"modulepreload",href:e},t),sn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jo(s)))return}i=n.createElement("link"),de(i,"link",e),ie(i),n.head.appendChild(i)}}}function U2(e,t,n){ti.S(e,t,n);var i=Ys;if(i&&e){var r=hs(i).hoistableStyles,s=Ms(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Bo(s)))l.loading=5;else{e=Dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sn.get(s))&&hm(e,n);var u=a=i.createElement("link");ie(u),de(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Yl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function L2(e,t){ti.X(e,t);var n=Ys;if(n&&e){var i=hs(n).hoistableScripts,r=Ks(e),s=i.get(r);s||(s=n.querySelector(jo(r)),s||(e=Dt({src:e,async:!0},t),(t=sn.get(r))&&fm(e,t),s=n.createElement("script"),ie(s),de(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function z2(e,t){ti.M(e,t);var n=Ys;if(n&&e){var i=hs(n).hoistableScripts,r=Ks(e),s=i.get(r);s||(s=n.querySelector(jo(r)),s||(e=Dt({src:e,async:!0,type:"module"},t),(t=sn.get(r))&&fm(e,t),s=n.createElement("script"),ie(s),de(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function yy(e,t,n,i){var r=(r=wi.current)?Ou(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ms(n.href),n=hs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ms(n.href);var s=hs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Bo(e)))&&!s._p&&(a.instance=s,a.state.loading=5),sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(e,n),s||B2(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(n),n=hs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function Ms(e){return'href="'+Je(e)+'"'}function Bo(e){return'link[rel="stylesheet"]['+e+"]"}function $T(e){return Dt({},e,{"data-precedence":e.precedence,precedence:null})}function B2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),de(t,"link",n),ie(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Je(e)+'"]'}function jo(e){return"script[async]"+e}function _y(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Je(n.href)+'"]');if(i)return t.instance=i,ie(i),i;var r=Dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ie(i),de(i,"style",r),Yl(i,n.precedence,e),t.instance=i;case"stylesheet":r=Ms(n.href);var s=e.querySelector(Bo(r));if(s)return t.state.loading|=4,t.instance=s,ie(s),s;i=$T(n),(r=sn.get(r))&&hm(i,r),s=(e.ownerDocument||e).createElement("link"),ie(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),de(s,"link",i),t.state.loading|=4,Yl(s,n.precedence,e),t.instance=s;case"script":return s=Ks(n.src),(r=e.querySelector(jo(s)))?(t.instance=r,ie(r),r):(i=n,(r=sn.get(s))&&(i=Dt({},n),fm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ie(r),de(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Yl(i,n.precedence,e));return t.instance}function Yl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kl=null;function vy(e,t,n){if(Kl===null){var i=new Map,r=Kl=new Map;r.set(n,i)}else r=Kl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[No]||s[Te]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ty(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function j2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ZT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ho=null;function q2(){}function H2(e,t,n){if(ho===null)throw Error(P(475));var i=ho;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Ms(n.href),s=e.querySelector(Bo(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=xu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,ie(s);return}s=e.ownerDocument||e,n=$T(n),(r=sn.get(r))&&hm(n,r),s=s.createElement("link"),ie(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),de(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=xu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function F2(){if(ho===null)throw Error(P(475));var e=ho;return e.stylesheets&&e.count===0&&Ff(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ff(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Ff(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(G2,e),Mu=null,xu.call(e))}function G2(e,t){if(!(t.state.loading&4)){var n=Mu.get(e);if(n)var i=n.get(null);else{n=new Map,Mu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=xu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var fo={$$typeof:Pn,Provider:null,Consumer:null,_currentValue:lr,_currentValue2:lr,_threadCount:0};function Q2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.hiddenUpdates=ah(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function WT(e,t,n,i,r,s,a,l,u,h,d,g){return e=new Q2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=qe(3,null,null,t),e.current=s,s.stateNode=e,t=Bd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},qd(s),e}function JT(e){return e?(e=as,e):as}function tE(e,t,n,i,r,s){r=JT(r),i.context===null?i.context=r:i.pendingContext=r,i=Ri(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ii(e,i,t),n!==null&&(Qe(n,e,t),ja(n,e,t))}function Ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dm(e,t){Ey(e,t),(e=e.alternate)&&Ey(e,t)}function eE(e){if(e.tag===13){var t=Gs(e,67108864);t!==null&&Qe(t,e,67108864),dm(e,67108864)}}var Vu=!0;function Y2(e,t,n,i){var r=X.T;X.T=null;var s=mt.p;try{mt.p=2,mm(e,t,n,i)}finally{mt.p=s,X.T=r}}function K2(e,t,n,i){var r=X.T;X.T=null;var s=mt.p;try{mt.p=8,mm(e,t,n,i)}finally{mt.p=s,X.T=r}}function mm(e,t,n,i){if(Vu){var r=Gf(i);if(r===null)Uh(e,t,i,ku,n),Ay(e,i);else if($2(r,e,t,n,i))i.stopPropagation();else if(Ay(e,i),t&4&&-1<X2.indexOf(e)){for(;r!==null;){var s=Fs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ir(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Fe(a);l.entanglements[1]|=u,a&=~u}Dn(s),!(_t&6)&&(wu=Tn()+500,zo(0))}}break;case 13:l=Gs(s,2),l!==null&&Qe(l,s,2),gc(),dm(s,2)}if(s=Gf(i),s===null&&Uh(e,t,i,ku,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Uh(e,t,i,null,n)}}function Gf(e){return e=Nd(e),gm(e)}var ku=null;function gm(e){if(ku=null,e=ts(e),e!==null){var t=Ro(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ku=e,null}function nE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vb()){case Nv:return 2;case Ov:return 8;case uu:case kb:return 32;case xv:return 268435456;default:return 32}default:return 32}}var Qf=!1,Ni=null,Oi=null,xi=null,mo=new Map,go=new Map,gi=[],X2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function wa(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Fs(t),t!==null&&eE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $2(e,t,n,i,r){switch(t){case"focusin":return Ni=wa(Ni,e,t,n,i,r),!0;case"dragenter":return Oi=wa(Oi,e,t,n,i,r),!0;case"mouseover":return xi=wa(xi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return mo.set(s,wa(mo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,go.set(s,wa(go.get(s)||null,e,t,n,i,r)),!0}return!1}function iE(e){var t=ts(e.target);if(t!==null){var n=Ro(t);if(n!==null){if(t=n.tag,t===13){if(t=Rv(n),t!==null){e.blockedOn=t,Hb(e.priority,function(){if(n.tag===13){var i=Ge();i=Rd(i);var r=Gs(n,i);r!==null&&Qe(r,n,i),dm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);uf=i,n.target.dispatchEvent(i),uf=null}else return t=Fs(n),t!==null&&eE(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){Xl(e)&&n.delete(t)}function Z2(){Qf=!1,Ni!==null&&Xl(Ni)&&(Ni=null),Oi!==null&&Xl(Oi)&&(Oi=null),xi!==null&&Xl(xi)&&(xi=null),mo.forEach(by),go.forEach(by)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Z2)))}var Cl=null;function Sy(e){Cl!==e&&(Cl=e,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){Cl===e&&(Cl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(gm(i||n)===null)continue;break}var s=Fs(n);s!==null&&(e.splice(t,3),t-=3,wf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function po(e){function t(u){return Il(u,e)}Ni!==null&&Il(Ni,e),Oi!==null&&Il(Oi,e),xi!==null&&Il(xi,e),mo.forEach(t),go.forEach(t);for(var n=0;n<gi.length;n++){var i=gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)iE(n),n.blockedOn===null&&gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ve]||null;if(typeof s=="function")a||Sy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ve]||null)l=a.formAction;else if(gm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Sy(n)}}}function pm(e){this._internalRoot=e}vc.prototype.render=pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=Ge();tE(n,i,e,t,null,null)};vc.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tE(e.current,2,null,e,null,null),gc(),t[Hs]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&iE(e)}};var wy=Sv.version;if(wy!=="19.1.0")throw Error(P(527,wy,"19.1.0"));mt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Ib(t),e=e!==null?Iv(e):null,e=e===null?null:e.stateNode,e};var W2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Io=Dl.inject(W2),He=Dl}catch{}}ic.createRoot=function(e,t){if(!wv(e))throw Error(P(299));var n=!1,i="",r=W0,s=J0,a=tT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=WT(e,1,!1,null,null,n,i,r,s,a,l,null),e[Hs]=t.current,cm(e),new pm(t)};ic.hydrateRoot=function(e,t,n){if(!wv(e))throw Error(P(299));var i=!1,r="",s=W0,a=J0,l=tT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=WT(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=JT(null),n=t.current,i=Ge(),i=Rd(i),r=Ri(i),r.callback=null,Ii(n,r,i),n=i,t.current.lanes=n,Do(t,n),Dn(t),e[Hs]=t.current,cm(e),new vc(t)};ic.version="19.1.0";function rE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rE)}catch(e){console.error(e)}}rE(),_v.exports=ic;var J2=_v.exports;const tw=lv(J2),ew=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},nw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new iw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const O=h<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(e){const t=sE(e);return aE.encodeByteArray(t,!0)},Pu=function(e){return rw(e).replace(/\./g,"")},oE=function(e){try{return aE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=()=>sw().__FIREBASE_DEFAULTS__,ow=()=>{if(typeof process>"u"||typeof Ry>"u")return;const e=Ry.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&oE(e[1]);return t&&JSON.parse(t)},Tc=()=>{try{return ew()||aw()||ow()||lw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lE=e=>{var t,n;return(n=(t=Tc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uw=e=>{const t=lE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},uE=()=>{var e;return(e=Tc())===null||e===void 0?void 0:e.config},cE=e=>{var t;return(t=Tc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e){return e.endsWith(".cloudworkstations.dev")}async function hE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pu(JSON.stringify(n)),Pu(JSON.stringify(a)),""].join(".")}const $a={};function fw(){const e={prod:[],emulator:[]};for(const t of Object.keys($a))$a[t]?e.emulator.push(t):e.prod.push(t);return e}function dw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Iy=!1;function fE(e,t){if(typeof window>"u"||typeof document>"u"||!Xs(window.location.host)||$a[e]===t||$a[e]||Iy)return;$a[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=fw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Iy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=dw(i),_=n("text"),O=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(V,M);const D=h();u(v,b),w.append(v,O,V,D),document.body.appendChild(w)}s?(O.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function gw(){var e;const t=(e=Tc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vw(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Tw(){return!gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ew(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="FirebaseError";class ei extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=bw,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?Sw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ei(r,l,i)}}function Sw(e,t){return e.replace(ww,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ww=/\{\$([^}]+)}/g;function Rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Er(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Cy(s)&&Cy(a)){if(!Er(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Cy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Iw(e,t){const n=new Cw(e,t);return n.subscribe.bind(n)}class Cw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Dw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=zh),r.error===void 0&&(r.error=zh),r.complete===void 0&&(r.complete=zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e){return e&&e._delegate?e._delegate:e}class Ar{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new cw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xw(t))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ar){return this.instances.has(t)}getOptions(t=ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ar){return this.component?this.component.multipleInstances?t:ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(e){return e===ar?void 0:e}function xw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const Vw={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},kw=at.INFO,Pw={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Uw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Pw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=kw,this._logHandler=Uw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const Lw=(e,t)=>t.some(n=>e instanceof n);let Dy,Ny;function zw(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bw(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,Yf=new WeakMap,mE=new WeakMap,Bh=new WeakMap,_m=new WeakMap;function jw(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Mi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&dE.set(n,e)}).catch(()=>{}),_m.set(t,e),t}function qw(e){if(Yf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Yf.set(e,t)}let Kf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Hw(e){Kf=e(Kf)}function Fw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(jh(this),t,...n);return mE.set(i,t.sort?t.sort():[t]),Mi(i)}:Bw().includes(e)?function(...t){return e.apply(jh(this),t),Mi(dE.get(this))}:function(...t){return Mi(e.apply(jh(this),t))}}function Gw(e){return typeof e=="function"?Fw(e):(e instanceof IDBTransaction&&qw(e),Lw(e,zw())?new Proxy(e,Kf):e)}function Mi(e){if(e instanceof IDBRequest)return jw(e);if(Bh.has(e))return Bh.get(e);const t=Gw(e);return t!==e&&(Bh.set(e,t),_m.set(t,e)),t}const jh=e=>_m.get(e);function Qw(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Mi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Mi(a.result),u.oldVersion,u.newVersion,Mi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Yw=["get","getKey","getAll","getAllKeys","count"],Kw=["put","add","delete","clear"],qh=new Map;function Oy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qh.get(t))return qh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Kw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Yw.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return qh.set(t,s),s}Hw(e=>({...e,get:(t,n,i)=>Oy(t,n)||e.get(t,n,i),has:(t,n)=>!!Oy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($w(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $w(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xf="@firebase/app",xy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new ym("@firebase/app"),Zw="@firebase/app-compat",Ww="@firebase/analytics-compat",Jw="@firebase/analytics",tR="@firebase/app-check-compat",eR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",rR="@firebase/database",sR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",uR="@firebase/installations",cR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",mR="@firebase/performance-compat",gR="@firebase/remote-config",pR="@firebase/remote-config-compat",yR="@firebase/storage",_R="@firebase/storage-compat",vR="@firebase/firestore",TR="@firebase/ai",ER="@firebase/firestore-compat",AR="firebase",bR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",SR={[Xf]:"fire-core",[Zw]:"fire-core-compat",[Jw]:"fire-analytics",[Ww]:"fire-analytics-compat",[eR]:"fire-app-check",[tR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[rR]:"fire-rtdb",[sR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[uR]:"fire-iid",[cR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[mR]:"fire-perf-compat",[gR]:"fire-rc",[pR]:"fire-rc-compat",[yR]:"fire-gcs",[_R]:"fire-gcs-compat",[vR]:"fire-fst",[ER]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,wR=new Map,Zf=new Map;function My(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Vs(e){const t=e.name;if(Zf.has(t))return Xn.debug(`There were multiple attempts to register component ${t}.`),!1;Zf.set(t,e);for(const n of Uu.values())My(n,e);for(const n of wR.values())My(n,e);return!0}function vm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function un(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new qo("app","Firebase",RR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=bR;function gE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:$f,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Vi.create("bad-app-name",{appName:String(r)});if(n||(n=uE()),!n)throw Vi.create("no-options");const s=Uu.get(r);if(s){if(Er(n,s.options)&&Er(i,s.config))return s;throw Vi.create("duplicate-app",{appName:r})}const a=new Mw(r);for(const u of Zf.values())a.addComponent(u);const l=new IR(n,i,a);return Uu.set(r,l),l}function pE(e=$f){const t=Uu.get(e);if(!t&&e===$f&&uE())return gE();if(!t)throw Vi.create("no-app",{appName:e});return t}function ki(e,t,n){var i;let r=(i=SR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xn.warn(l.join(" "));return}Vs(new Ar(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-heartbeat-database",DR=1,yo="firebase-heartbeat-store";let Hh=null;function yE(){return Hh||(Hh=Qw(CR,DR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),Hh}async function NR(e){try{const n=(await yE()).transaction(yo),i=await n.objectStore(yo).get(_E(e));return await n.done,i}catch(t){if(t instanceof ei)Xn.warn(t.message);else{const n=Vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xn.warn(n.message)}}}async function Vy(e,t){try{const i=(await yE()).transaction(yo,"readwrite");await i.objectStore(yo).put(t,_E(e)),await i.done}catch(n){if(n instanceof ei)Xn.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(i.message)}}}function _E(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1024,xR=30;class MR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ky();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>xR){const a=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ky(),{heartbeatsToSend:i,unsentEntries:r}=VR(this._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xn.warn(n),""}}}function ky(){return new Date().toISOString().substring(0,10)}function VR(e,t=OR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Py(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Py(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class kR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ew()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Py(e){return Pu(JSON.stringify({version:2,heartbeats:e})).length}function PR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e){Vs(new Ar("platform-logger",t=>new Xw(t),"PRIVATE")),Vs(new Ar("heartbeat",t=>new MR(t),"PRIVATE")),ki(Xf,xy,e),ki(Xf,xy,"esm2017"),ki("fire-js","")}UR("");var LR="firebase",zR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(LR,zR,"app");function Tm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=vE,TE=new qo("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new ym("@firebase/auth");function jR(e,...t){Lu.logLevel<=at.WARN&&Lu.warn(`Auth (${$s}): ${e}`,...t)}function $l(e,...t){Lu.logLevel<=at.ERROR&&Lu.error(`Auth (${$s}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e,...t){throw Em(e,...t)}function An(e,...t){return Em(e,...t)}function EE(e,t,n){const i=Object.assign(Object.assign({},BR()),{[t]:n});return new qo("auth","Firebase",i).create(t,{appName:e.name})}function Pi(e){return EE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return TE.create(e,...t)}function $(e,t,...n){if(!e)throw Em(t,...n)}function jn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $l(t),new Error(t)}function Zn(e,t){e||jn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function qR(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||yw()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zn(n>t,"Short delay should be less than long delay!"),this.isMobile=mw()||_w()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t){Zn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Fo(3e4,6e4);function Ec(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zs(e,t,n,i,r={}){return bE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Ho(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return pw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Xs(e.emulatorConfig.host)&&(h.credentials="include"),AE.fetch()(await wE(e,e.config.apiHost,n,l),h)})}async function bE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},GR),t);try{const r=new KR(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Nl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Nl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Nl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw EE(e,d,h);$n(e,d)}}catch(r){if(r instanceof ei)throw r;$n(e,"network-request-failed",{message:String(r)})}}async function SE(e,t,n,i,r={}){const s=await Zs(e,t,n,i,r);return"mfaPendingCredential"in s&&$n(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function wE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Am(e.config,r):`${e.config.apiScheme}://${r}`;return QR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class KR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(An(this.auth,"network-request-failed")),YR.get())})}}function Nl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=An(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(e,t){return Zs(e,"POST","/v1/accounts:delete",t)}async function zu(e,t){return Zs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(e,t=!1){const n=ke(e),i=await n.getIdToken(t),r=bm(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Za(Fh(r.auth_time)),issuedAtTime:Za(Fh(r.iat)),expirationTime:Za(Fh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fh(e){return Number(e)*1e3}function bm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return $l("JWT malformed, contained fewer than 3 sections"),null;try{const r=oE(n);return r?JSON.parse(r):($l("Failed to decode base64 JWT payload"),null)}catch(r){return $l("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ly(e){const t=bm(e);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ei&&ZR(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ZR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await _o(e,zu(n,{idToken:i}));$(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?RE(s.providerUserInfo):[],l=tI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Jf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function JR(e){const t=ke(e);await Bu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function RE(e){return e.map(t=>{var{providerId:n}=t,i=Tm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(e,t){const n=await bE(e,{},async()=>{const i=Ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await wE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Xs(e.emulatorConfig.host)&&(u.credentials="include"),AE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nI(e,t){return Zs(e,"POST","/v2/accounts:revokeToken",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ly(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){$(t.length!==0,"internal-error");const n=Ly(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await eI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new vs;return i&&($(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){$(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class cn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Tm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await _o(this,this.stsTokenManager.getToken(this.auth,t));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $R(this,t)}reload(){return JR(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new cn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Pi(this.auth));const t=await this.getIdToken();return await _o(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:D,isAnonymous:z,providerData:j,stsTokenManager:T}=n;$(w&&T,t,"internal-error");const y=vs.fromJSON(this.name,T);$(typeof w=="string",t,"internal-error"),li(g,t.name),li(m,t.name),$(typeof D=="boolean",t,"internal-error"),$(typeof z=="boolean",t,"internal-error"),li(_,t.name),li(O,t.name),li(M,t.name),li(V,t.name),li(b,t.name),li(v,t.name);const E=new cn({uid:w,auth:t,email:m,emailVerified:D,displayName:g,isAnonymous:z,photoURL:O,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:b,lastLoginAt:v});return j&&Array.isArray(j)&&(E.providerData=j.map(A=>Object.assign({},A))),V&&(E._redirectEventId=V),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new vs;r.updateFromServerResponse(n);const s=new cn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Bu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?RE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new vs;l.updateFromIdToken(i);const u=new cn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Jf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function qn(e){Zn(e instanceof Function,"Expected a class definition");let t=zy.get(e);return t?(Zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IE.type="NONE";const By=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e,t,n){return`firebase:${e}:${t}:${n}`}class Ts{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Zl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zu(this.auth,{idToken:t}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,t):null}return cn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ts(qn(By),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||qn(By);const a=Zl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await zu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await cn._fromGetAccountInfoResponse(t,m,d)}else g=cn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ts(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ts(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ME(t))return"Blackberry";if(VE(t))return"Webos";if(DE(t))return"Safari";if((t.includes("chrome/")||NE(t))&&!t.includes("edge/"))return"Chrome";if(xE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function CE(e=Ae()){return/firefox\//i.test(e)}function DE(e=Ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NE(e=Ae()){return/crios\//i.test(e)}function OE(e=Ae()){return/iemobile/i.test(e)}function xE(e=Ae()){return/android/i.test(e)}function ME(e=Ae()){return/blackberry/i.test(e)}function VE(e=Ae()){return/webos/i.test(e)}function Sm(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iI(e=Ae()){var t;return Sm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rI(){return vw()&&document.documentMode===10}function kE(e=Ae()){return Sm(e)||xE(e)||VE(e)||ME(e)||/windows phone/i.test(e)||OE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t=[]){let n;switch(e){case"Browser":n=jy(Ae());break;case"Worker":n=`${jy(Ae())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(e,t={}){return Zs(e,"GET","/v2/passwordPolicy",Ec(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=6;class lI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:oI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new sI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ts.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zu(this,{idToken:t}),i=await cn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(un(this.app))return Promise.reject(Pi(this));const n=t?ke(t):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return un(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aI(this),n=new lI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qn(t)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await Ts.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&jR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ac(e){return ke(e)}class qy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Iw(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cI(e){wm=e}function hI(e){return wm.loadJS(e)}function fI(){return wm.gapiScript}function dI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e,t){const n=vm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Er(s,t??{}))return r;$n(r,"already-initialized")}return n.initialize({options:t})}function gI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function pI(e,t,n){const i=Ac(e);$(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=UE(t),{host:a,port:l}=yI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Er(h,i.config.emulator)&&Er(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Xs(a)?(hE(`${s}//${a}${u}`),fE("Auth",!0)):_I()}function UE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yI(e){const t=UE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Hy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Hy(a)}}}function Hy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _I(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,n){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(e,t){return SE(e,"POST","/v1/accounts:signInWithIdp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class br extends LE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Tm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new br(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Es(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Es(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Es(t,n)}buildRequest(){const t={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ho(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Go{constructor(){super("facebook.com")}static credential(t){return br._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return br._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Go{constructor(){super("github.com")}static credential(t){return br._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Go{constructor(){super("twitter.com")}static credential(t,n){return br._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(e,t){return SE(e,"POST","/v1/accounts:signUp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await cn._fromIdTokenResponse(t,i,r),a=Fy(i);return new qi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Fy(i);return new qi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Fy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e){var t;if(un(e.app))return Promise.reject(Pi(e));const n=Ac(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new qi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await TI(n,{returnSecureToken:!0}),r=await qi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends ei{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new ju(t,n,i,r)}}function BE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(e,s,t,i):s})}async function AI(e,t,n=!1){const i=await _o(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(e,t,n=!1){const{auth:i}=e;if(un(i.app))return Promise.reject(Pi(i));const r="reauthenticate";try{const s=await _o(e,BE(i,r,t,e),n);$(s.idToken,i,"internal-error");const a=bm(s.idToken);$(a,i,"internal-error");const{sub:l}=a;return $(e.uid===l,i,"user-mismatch"),qi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$n(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(e,t,n=!1){if(un(e.app))return Promise.reject(Pi(e));const i="signIn",r=await BE(e,i,t),s=await qi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function wI(e,t,n,i){return ke(e).onIdTokenChanged(t,n,i)}function RI(e,t,n){return ke(e).beforeAuthStateChanged(t,n)}function II(e,t,n,i){return ke(e).onAuthStateChanged(t,n,i)}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,DI=10;class qE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);rI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,DI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qE.type="LOCAL";const NI=qE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}HE.type="SESSION";const FE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new bc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await OI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Rm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function MI(e){bn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function VI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function PI(){return GE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebaseLocalStorageDb",UI=1,Hu="firebaseLocalStorage",YE="fbase_key";class Qo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sc(e,t){return e.transaction([Hu],t?"readwrite":"readonly").objectStore(Hu)}function LI(){const e=indexedDB.deleteDatabase(QE);return new Qo(e).toPromise()}function td(){const e=indexedDB.open(QE,UI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Hu,{keyPath:YE})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Hu)?t(i):(i.close(),await LI(),t(await td()))})})}async function Gy(e,t,n){const i=Sc(e,!0).put({[YE]:t,value:n});return new Qo(i).toPromise()}async function zI(e,t){const n=Sc(e,!1).get(t),i=await new Qo(n).toPromise();return i===void 0?null:i.value}function Qy(e,t){const n=Sc(e,!0).delete(t);return new Qo(n).toPromise()}const BI=800,jI=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await td(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>jI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bc._getInstance(PI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await td();return await Gy(t,qu,"1"),await Qy(t,qu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>zI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Sc(r,!1).getAll();return new Qo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const qI=KE;new Fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t){return t?qn(t):($(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends LE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Es(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Es(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Es(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FI(e){return SI(e.auth,new Im(e),e.bypassAuthState)}function GI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),bI(n,new Im(e),e.bypassAuthState)}async function QI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),AI(n,new Im(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:$n(this.auth,"internal-error")}}resolve(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Fo(2e3,1e4);class cs extends XE{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YI.get())};t()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="pendingRedirect",Wl=new Map;class XI extends XE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Wl.get(this.auth._key());if(!t){try{const i=await $I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Wl.set(this.auth._key(),t)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $I(e,t){const n=JI(t),i=WI(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ZI(e,t){Wl.set(e._key(),t)}function WI(e){return qn(e._redirectPersistence)}function JI(e){return Zl(KI,e.config.apiKey,e.name)}async function tC(e,t,n=!1){if(un(e.app))return Promise.reject(Pi(e));const i=Ac(e),r=HI(i,t),a=await new XI(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=10*60*1e3;class nC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!$E(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(An(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(t))}saveEventToCache(t){this.cachedEventUids.add(Yy(t)),this.lastProcessedEventTime=Date.now()}}function Yy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $E({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function iC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(e,t={}){return Zs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rC(e);for(const n of t)try{if(lC(n))return}catch{}$n(e,"unauthorized-domain")}function lC(e){const t=Wf(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!aC.test(n))return!1;if(sC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Fo(3e4,6e4);function Ky(){const e=bn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function cC(e){return new Promise((t,n)=>{var i,r,s;function a(){Ky(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ky(),n(An(e,"network-request-failed"))},timeout:uC.get()})}if(!((r=(i=bn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=bn().gapi)===null||s===void 0)&&s.load)a();else{const l=dI("iframefcb");return bn()[l]=()=>{gapi.load?a():n(An(e,"network-request-failed"))},hI(`${fI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Jl=null,t})}let Jl=null;function hC(e){return Jl=Jl||cC(e),Jl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Fo(5e3,15e3),dC="__/auth/iframe",mC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(e){const t=e.config;$(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Am(t,mC):`https://${e.config.authDomain}/${dC}`,i={apiKey:t.apiKey,appName:e.name,v:$s},r=pC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ho(i).slice(1)}`}async function _C(e){const t=await hC(e),n=bn().gapi;return $(n,e,"internal-error"),t.open({where:document.body,url:yC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=An(e,"network-request-failed"),l=bn().setTimeout(()=>{s(a)},fC.get());function u(){bn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,EC=600,AC="_blank",bC="http://localhost";class Xy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SC(e,t,n,i=TC,r=EC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},vC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Ae().toLowerCase();n&&(l=NE(h)?AC:n),CE(h)&&(t=t||bC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,O])=>`${m}${_}=${O},`,"");if(iI(h)&&l!=="_self")return wC(t||"",l),new Xy(null);const g=window.open(t||"",l,d);$(g,e,"popup-blocked");try{g.focus()}catch{}return new Xy(g)}function wC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__/auth/handler",IC="emulator/auth/handler",CC=encodeURIComponent("fac");async function $y(e,t,n,i,r,s){$(e.config.authDomain,e,"auth-domain-config-required"),$(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:$s,eventId:r};if(t instanceof zE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Rw(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Go){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${CC}=${encodeURIComponent(u)}`:"";return`${DC(e)}?${Ho(l).slice(1)}${h}`}function DC({config:e}){return e.emulator?Am(e,IC):`https://${e.authDomain}/${RC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=tC,this._overrideRedirectResult=ZI}async _openPopup(t,n,i,r){var s;Zn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await $y(t,n,i,Wf(),r);return SC(t,a,Rm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await $y(t,n,i,Wf(),r);return MI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Zn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await _C(t),i=new nC(t);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gh,{type:Gh},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Gh];a!==void 0&&n(!!a),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return kE()||DE()||Sm()}}const OC=NC;var Zy="@firebase/auth",Wy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(e){Vs(new Ar("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(e)},h=new uI(i,r,s,u);return gI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Vs(new Ar("auth-internal",t=>{const n=Ac(t.getProvider("auth").getImmediate());return(i=>new xC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(Zy,Wy,MC(e)),ki(Zy,Wy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=5*60,PC=cE("authIdTokenMaxAge")||kC;let Jy=null;const UC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PC)return;const r=n==null?void 0:n.token;Jy!==r&&(Jy=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function t_(e=pE()){const t=vm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=mI(e,{popupRedirectResolver:OC,persistence:[qI,NI,FE]}),i=cE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=UC(s.toString());RI(n,a,()=>a(n.currentUser)),wI(n,l=>a(l))}}const r=lE("auth");return r&&pI(n,`http://${r}`),n}function LC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}cI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=An("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",LC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,ZE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(A,R,I){for(var S=Array(arguments.length-2),be=2;be<arguments.length;be++)S[be-2]=arguments[be];return y.prototype[R].apply(A,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var A=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)A[R]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],R=T.g[2];var I=T.g[3],S=y+(I^E&(R^I))+A[0]+3614090360&4294967295;y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[1]+3905402710&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[2]+606105819&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[3]+3250441966&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[4]+4118548399&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[5]+1200080426&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[6]+2821735955&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[7]+4249261313&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[8]+1770035416&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[9]+2336552879&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[10]+4294925233&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[11]+2304563134&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[12]+1804603682&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[13]+4254626195&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[14]+2792965006&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[15]+1236535329&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(R^I&(E^R))+A[1]+4129170786&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[6]+3225465664&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[11]+643717713&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[0]+3921069994&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[5]+3593408605&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[10]+38016083&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[15]+3634488961&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[4]+3889429448&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[9]+568446438&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[14]+3275163606&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[3]+4107603335&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[8]+1163531501&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[13]+2850285829&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[2]+4243563512&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[7]+1735328473&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[12]+2368359562&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(E^R^I)+A[5]+4294588738&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[8]+2272392833&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[11]+1839030562&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[14]+4259657740&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[1]+2763975236&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[4]+1272893353&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[7]+4139469664&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[10]+3200236656&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[13]+681279174&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[0]+3936430074&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[3]+3572445317&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[6]+76029189&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[9]+3654602809&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[12]+3873151461&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[15]+530742520&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[2]+3299628645&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(R^(E|~I))+A[0]+4096336452&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[7]+1126891415&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[14]+2878612391&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[5]+4237533241&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[12]+1700485571&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[3]+2399980690&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[10]+4293915773&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[1]+2240044497&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[8]+1873313359&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[15]+4264355552&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[6]+2734768916&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[13]+1309151649&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[4]+4149444226&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[11]+3174756917&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[2]+718787259&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+I&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,A=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=E;)r(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<y;)if(A[R++]=T.charCodeAt(I++),R==this.blockSize){r(this,A),R=0;break}}else for(;I<y;)if(A[R++]=T[I++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var A=0;32>A;A+=8)T[E++]=this.g[y]>>>A&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],A=!0,R=T.length-1;0<=R;R--){var I=T[R]|0;A&&I==y||(E[R]=I,A=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return V(h(-T));for(var y=[],E=1,A=0;T>=E;A++)y[A]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return V(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),A=g,R=0;R<T.length;R+=8){var I=Math.min(8,T.length-R),S=parseInt(T.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),A=A.j(I).add(h(S))):(A=A.j(E),A=A.add(h(S)))}return A}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var A=this.i(E);T+=(0<=A?A:4294967296+A)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(M(this))return"-"+V(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,A="";;){var R=D(E,y).g;E=b(E,R.j(y));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=R,O(E))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=b(this,T),M(T)?-1:O(T)?0:1};function V(T){for(var y=T.g.length,E=[],A=0;A<y;A++)E[A]=~T.g[A];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0,R=0;R<=y;R++){var I=A+(this.i(R)&65535)+(T.i(R)&65535),S=(I>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);A=S>>>16,I&=65535,S&=65535,E[R]=S<<16|I}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(T,y){return T.add(V(y))}e.j=function(T){if(O(this)||O(T))return g;if(M(this))return M(T)?V(this).j(V(T)):V(V(this).j(T));if(M(T))return V(this.j(V(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],A=0;A<2*y;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<T.g.length;R++){var I=this.i(A)>>>16,S=this.i(A)&65535,be=T.i(R)>>>16,Ke=T.i(R)&65535;E[2*A+2*R]+=S*Ke,v(E,2*A+2*R),E[2*A+2*R+1]+=I*Ke,v(E,2*A+2*R+1),E[2*A+2*R+1]+=S*be,v(E,2*A+2*R+1),E[2*A+2*R+2]+=I*be,v(E,2*A+2*R+2)}for(A=0;A<y;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=y;A<2*y;A++)E[A]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function D(T,y){if(O(y))throw Error("division by zero");if(O(T))return new w(g,g);if(M(T))return y=D(V(T),y),new w(V(y.g),V(y.h));if(M(y))return y=D(T,V(y)),new w(V(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=y;0>=A.l(T);)E=z(E),A=z(A);var R=j(E,1),I=j(A,1);for(A=j(A,2),E=j(E,2);!O(A);){var S=I.add(A);0>=S.l(T)&&(R=R.add(E),I=S),A=j(A,1),E=j(E,1)}return y=b(T,R.j(y)),new w(R,y)}for(R=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=h(E),S=I.j(y);M(S)||0<S.l(T);)E-=A,I=h(E),S=I.j(y);O(I)&&(I=m),R=R.add(I),T=b(T,S)}return new w(R,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)&T.i(A);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)|T.i(A);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)^T.i(A);return new a(E,this.h^T.h)};function z(T){for(var y=T.g.length+1,E=[],A=0;A<y;A++)E[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(E,T.h)}function j(T,y){var E=y>>5;y%=32;for(var A=T.g.length-E,R=[],I=0;I<A;I++)R[I]=0<y?T.i(I+E)>>>y|T.i(I+E+1)<<32-y:T.i(I+E);return new a(R,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ZE=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Ui=a}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,Oa,JE,tu,ed,t1,e1,n1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ol=="object"&&Ol];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in f))break t;f=f[C]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,C={next:function(){if(!p&&f<o.length){var x=f++;return{value:c(x,o[x]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function O(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,C,x){for(var B=Array(arguments.length-2),At=2;At<arguments.length;At++)B[At-2]=arguments[At];return c.prototype[C].apply(p,B)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const C=o.length||0,x=p.length||0;o.length=C+x;for(let B=0;B<x;B++)o[C+B]=p[B]}else o.push(p)}}class b{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function j(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)o[f]=p[f];for(let x=0;x<E.length;x++)f=E[x],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function S(){var o=gt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class be{constructor(){this.h=this.g=null}add(c,f){const p=Ke.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Ke=new b(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,K=!1,gt=new be,Rt=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(an)}};var an=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(f){I(f)}var c=Ke;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}K=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ut(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Ue(o,c){if(Ut.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(z){t:{try{D(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Wo[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ue.aa.h.call(this)}}O(Ue,Ut);var Wo={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Vr="closure_listenable_"+(1e6*Math.random()|0),Lc=0;function zc(o,c,f,p,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=C,this.key=++Lc,this.da=this.fa=!1}function ni(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function kr(o){this.src=o,this.g={},this.h=0}kr.prototype.add=function(o,c,f,p,C){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var B=ia(o,c,p,C);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new zc(c,this.src,x,!!p,C),c.fa=f,o.push(c)),c};function Pr(o,c){var f=c.type;if(f in o.g){var p=o.g[f],C=Array.prototype.indexOf.call(p,c,void 0),x;(x=0<=C)&&Array.prototype.splice.call(p,C,1),x&&(ni(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function ia(o,c,f,p){for(var C=0;C<o.length;++C){var x=o[C];if(!x.da&&x.listener==c&&x.capture==!!f&&x.ha==p)return C}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),ra={};function Jo(o,c,f,p,C){if(Array.isArray(c)){for(var x=0;x<c.length;x++)Jo(o,c[x],f,p,C);return null}return f=oe(f),o&&o[Vr]?o.K(c,f,h(p)?!!p.capture:!1,C):Bc(o,c,f,!1,p,C)}function Bc(o,c,f,p,C,x){if(!c)throw Error("Invalid event type");var B=h(C)?!!C.capture:!!C,At=Lt(o);if(At||(o[Ur]=At=new kr(o)),f=At.add(c,f,p,B,x),f.proxy)return f;if(p=jc(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Nt||(C=B),C===void 0&&(C=!1),o.addEventListener(c.toString(),p,C);else if(o.attachEvent)o.attachEvent(ct(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jc(){function o(f){return c.call(o.src,o.listener,f)}const c=Ot;return o}function L(o,c,f,p,C){if(Array.isArray(c))for(var x=0;x<c.length;x++)L(o,c[x],f,p,C);else p=h(p)?!!p.capture:!!p,f=oe(f),o&&o[Vr]?(o=o.i,c=String(c).toString(),c in o.g&&(x=o.g[c],f=ia(x,f,p,C),-1<f&&(ni(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete o.g[c],o.h--)))):o&&(o=Lt(o))&&(c=o.g[c.toString()],o=-1,c&&(o=ia(c,f,p,C)),(f=-1<o?c[o]:null)&&G(f))}function G(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Vr])Pr(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(ct(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=Lt(c))?(Pr(f,o),f.h==0&&(f.src=null,c[Ur]=null)):ni(o)}}}function ct(o){return o in ra?ra[o]:ra[o]="on"+o}function Ot(o,c){if(o.da)o=!0;else{c=new Ue(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&G(o),o=f.call(p,c)}return o}function Lt(o){return o=o[Ur],o instanceof kr?o:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(o){return typeof o=="function"?o:(o[ae]||(o[ae]=function(c){return o.handleEvent(c)}),o[ae])}function Et(){te.call(this),this.i=new kr(this),this.M=this,this.F=null}O(Et,te),Et.prototype[Vr]=!0,Et.prototype.removeEventListener=function(o,c,f,p){L(this,o,c,f,p)};function St(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Ut(c,o);else if(c instanceof Ut)c.target=c.target||o;else{var C=c;c=new Ut(p,o),A(c,C)}if(C=!0,f)for(var x=f.length-1;0<=x;x--){var B=c.g=f[x];C=Ce(B,p,!0,c)&&C}if(B=c.g=o,C=Ce(B,p,!0,c)&&C,C=Ce(B,p,!1,c)&&C,f)for(x=0;x<f.length;x++)B=c.g=f[x],C=Ce(B,p,!1,c)&&C}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)ni(f[p]);delete o.g[c],o.h--}}this.F=null},Et.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},Et.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Ce(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,x=0;x<c.length;++x){var B=c[x];if(B&&!B.da&&B.capture==f){var At=B.listener,le=B.ha||B.src;B.fa&&Pr(o.i,B),C=At.call(le,p)!==!1&&C}}return C&&!p.defaultPrevented}function Zi(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function og(o){o.g=Zi(()=>{o.g=null,o.i&&(o.i=!1,og(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class OA extends te{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:og(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(o){te.call(this),this.h=o,this.g={}}O(sa,te);var lg=[];function ug(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&G(c)},o),o.g={}}sa.prototype.N=function(){sa.aa.N.call(this),ug(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qc=l.JSON.stringify,xA=l.JSON.parse,MA=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Hc(){}Hc.prototype.h=null;function cg(o){return o.h||(o.h=o.i())}function hg(){}var aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fc(){Ut.call(this,"d")}O(Fc,Ut);function Gc(){Ut.call(this,"c")}O(Gc,Ut);var Wi={},fg=null;function tl(){return fg=fg||new Et}Wi.La="serverreachability";function dg(o){Ut.call(this,Wi.La,o)}O(dg,Ut);function oa(o){const c=tl();St(c,new dg(c))}Wi.STAT_EVENT="statevent";function mg(o,c){Ut.call(this,Wi.STAT_EVENT,o),this.stat=c}O(mg,Ut);function Se(o){const c=tl();St(c,new mg(c,o))}Wi.Ma="timingevent";function gg(o,c){Ut.call(this,Wi.Ma,o),this.size=c}O(gg,Ut);function la(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function VA(o,c,f,p,C,x){o.info(function(){if(o.g)if(x)for(var B="",At=x.split("&"),le=0;le<At.length;le++){var ht=At[le].split("=");if(1<ht.length){var ge=ht[0];ht=ht[1];var pe=ge.split("_");B=2<=pe.length&&pe[1]=="type"?B+(ge+"="+ht+"&"):B+(ge+"=redacted&")}}else B=null;else B=x;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+f+`
`+B})}function kA(o,c,f,p,C,x,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+f+`
`+x+" "+B})}function Lr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+UA(o,f)+(p?" "+p:"")})}function PA(o,c){o.info(function(){return"TIMEOUT: "+c})}ua.prototype.info=function(){};function UA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var x=C[0];if(x!="noop"&&x!="stop"&&x!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return qc(f)}catch{return c}}var el={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qc;function nl(){}O(nl,Hc),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},Qc=new nl;function ii(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yg}function yg(){this.i=null,this.g="",this.h=!1}var _g={},Yc={};function Kc(o,c,f){o.L=1,o.v=al(Nn(c)),o.m=f,o.P=!0,vg(o,null)}function vg(o,c){o.F=Date.now(),il(o),o.A=Nn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Mg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new yg,o.g=Zg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new OA(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(lg[0]=C.toString()),C=lg);for(var x=0;x<C.length;x++){var B=Jo(f,C[x],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),oa(),VA(o.i,o.u,o.A,o.l,o.R,o.m)}ii.prototype.ca=function(o){o=o.target;const c=this.M;c&&On(o)==3?c.j():this.Y(o)},ii.prototype.Y=function(o){try{if(o==this.g)t:{const pe=On(this.g);var c=this.g.Ba();const jr=this.g.Z();if(!(3>pe)&&(pe!=3||this.g&&(this.h.h||this.g.oa()||Bg(this.g)))){this.J||pe!=4||c==7||(c==8||0>=jr?oa(3):oa(2)),Xc(this);var f=this.g.Z();this.X=f;e:if(Tg(this)){var p=Bg(this.g);o="";var C=p.length,x=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ca(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(x&&c==C-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,kA(this.i,this.u,this.A,this.l,this.R,pe,f),this.o){if(this.T&&!this.K){e:{if(this.g){var At,le=this.g;if((At=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(At)){var ht=At;break e}}ht=null}if(f=ht)Lr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$c(this,f);else{this.o=!1,this.s=3,Se(12),Ji(this),ca(this);break t}}if(this.P){f=!0;let on;for(;!this.J&&this.C<B.length;)if(on=LA(this,B),on==Yc){pe==4&&(this.s=4,Se(14),f=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(on==_g){this.s=4,Se(15),Lr(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Lr(this.i,this.l,on,null),$c(this,on);if(Tg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||B.length!=0||this.h.h||(this.s=1,Se(16),f=!1),this.o=this.o&&f,!f)Lr(this.i,this.l,B,"[Invalid Chunked Response]"),Ji(this),ca(this);else if(0<B.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),nh(ge),ge.M=!0,Se(11))}}else Lr(this.i,this.l,B,null),$c(this,B);pe==4&&Ji(this),this.o&&!this.J&&(pe==4?Yg(this.j,this):(this.o=!1,il(this)))}else eb(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ji(this),ca(this)}}}catch{}finally{}};function Tg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function LA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?Yc:(f=Number(c.substring(f,p)),isNaN(f)?_g:(p+=1,p+f>c.length?Yc:(c=c.slice(p,p+f),o.C=p+f,c)))}ii.prototype.cancel=function(){this.J=!0,Ji(this)};function il(o){o.S=Date.now()+o.I,Eg(o,o.I)}function Eg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=la(m(o.ba,o),c)}function Xc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ii.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(PA(this.i,this.A),this.L!=2&&(oa(),Se(17)),Ji(this),this.s=2,ca(this)):Eg(this,this.S-o)};function ca(o){o.j.G==0||o.J||Yg(o.j,o)}function Ji(o){Xc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,ug(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function $c(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Zc(f.h,o))){if(!o.K&&Zc(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)fl(f),cl(f);else break t;eh(f),Se(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=la(m(f.Za,f),6e3));if(1>=Sg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else er(f,11)}else if((o.K||f.g==o)&&fl(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let ht=C[c];if(f.T=ht[0],ht=ht[1],f.G==2)if(ht[0]=="c"){f.K=ht[1],f.ia=ht[2];const ge=ht[3];ge!=null&&(f.la=ge,f.j.info("VER="+f.la));const pe=ht[4];pe!=null&&(f.Aa=pe,f.j.info("SVER="+f.Aa));const jr=ht[5];jr!=null&&typeof jr=="number"&&0<jr&&(p=1.5*jr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const on=o.g;if(on){const ml=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var x=p.h;x.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Wc(x,x.h),x.h=null))}if(p.D){const ih=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(p.ya=ih,It(p.I,p.D,ih))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=$g(p,p.J?p.ia:null,p.W),B.K){wg(p.h,B);var At=B,le=p.L;le&&(At.I=le),At.B&&(Xc(At),il(At)),p.g=B}else Gg(p);0<f.i.length&&hl(f)}else ht[0]!="stop"&&ht[0]!="close"||er(f,7);else f.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?er(f,7):th(f):ht[0]!="noop"&&f.l&&f.l.ta(ht),f.v=0)}}oa(4)}catch{}}var zA=class{constructor(o,c){this.g=o,this.map=c}};function Ag(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Sg(o){return o.h?1:o.g?o.g.size:0}function Zc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Wc(o,c){o.g?o.g.add(c):o.h=c}function wg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Ag.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Rg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function BA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function jA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Ig(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=jA(o),p=BA(o),C=p.length,x=0;x<C;x++)c.call(void 0,p[x],f&&f[x],o)}var Cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),C=null;if(0<=p){var x=o[f].substring(0,p);C=o[f].substring(p+1)}else x=o[f];c(x,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function tr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof tr){this.h=o.h,rl(this,o.j),this.o=o.o,this.g=o.g,sl(this,o.s),this.l=o.l;var c=o.i,f=new da;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Dg(this,f),this.m=o.m}else o&&(c=String(o).match(Cg))?(this.h=!1,rl(this,c[1]||"",!0),this.o=ha(c[2]||""),this.g=ha(c[3]||"",!0),sl(this,c[4]),this.l=ha(c[5]||"",!0),Dg(this,c[6]||"",!0),this.m=ha(c[7]||"")):(this.h=!1,this.i=new da(null,this.h))}tr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(fa(c,Ng,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(fa(c,Ng,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(fa(f,f.charAt(0)=="/"?GA:FA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",fa(f,YA)),o.join("")};function Nn(o){return new tr(o)}function rl(o,c,f){o.j=f?ha(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function sl(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Dg(o,c,f){c instanceof da?(o.i=c,KA(o.i,o.h)):(f||(c=fa(c,QA)),o.i=new da(c,o.h))}function It(o,c,f){o.i.set(c,f)}function al(o){return It(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ha(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,HA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function HA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ng=/[#\/\?@]/g,FA=/[#\?:]/g,GA=/[#\?]/g,QA=/[#\?@]/g,YA=/#/g;function da(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function ri(o){o.g||(o.g=new Map,o.h=0,o.i&&qA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=da.prototype,e.add=function(o,c){ri(this),this.i=null,o=zr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Og(o,c){ri(o),c=zr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function xg(o,c){return ri(o),c=zr(o,c),o.g.has(c)}e.forEach=function(o,c){ri(this),this.g.forEach(function(f,p){f.forEach(function(C){o.call(c,C,p,this)},this)},this)},e.na=function(){ri(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const C=o[p];for(let x=0;x<C.length;x++)f.push(c[p])}return f},e.V=function(o){ri(this);let c=[];if(typeof o=="string")xg(this,o)&&(c=c.concat(this.g.get(zr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return ri(this),this.i=null,o=zr(this,o),xg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Mg(o,c,f){Og(o,c),0<f.length&&(o.i=null,o.g.set(zr(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const x=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var C=x;B[p]!==""&&(C+="="+encodeURIComponent(String(B[p]))),o.push(C)}}return this.i=o.join("&")};function zr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function KA(o,c){c&&!o.j&&(ri(o),o.i=null,o.g.forEach(function(f,p){var C=p.toLowerCase();p!=C&&(Og(this,p),Mg(this,C,f))},o)),o.j=c}function XA(o,c){const f=new ua;if(l.Image){const p=new Image;p.onload=_(si,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(si,f,"TestLoadImage: error",!1,c,p),p.onabort=_(si,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(si,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function $A(o,c){const f=new ua,p=new AbortController,C=setTimeout(()=>{p.abort(),si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(x=>{clearTimeout(C),x.ok?si(f,"TestPingServer: ok",!0,c):si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),si(f,"TestPingServer: error",!1,c)})}function si(o,c,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function ZA(){this.g=new MA}function WA(o,c,f){const p=f||"";try{Ig(o,function(C,x){let B=C;h(C)&&(B=qc(C)),c.push(p+x+"="+encodeURIComponent(B))})}catch(C){throw c.push(p+"type="+encodeURIComponent("_badmap")),C}}function ol(o){this.l=o.Ub||null,this.j=o.eb||!1}O(ol,Hc),ol.prototype.g=function(){return new ll(this.l,this.j)},ol.prototype.i=function(o){return function(){return o}}({});function ll(o,c){Et.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ll,Et),e=ll.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,ga(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ma(this):ga(this),this.readyState==3&&Vg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ma(this))},e.Qa=function(o){this.g&&(this.response=o,ma(this))},e.ga=function(){this.g&&ma(this)};function ma(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ga(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function ga(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function kg(o){let c="";return j(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Jc(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=kg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):It(o,c,f))}function zt(o){Et.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(zt,Et);var JA=/^https?$/i,tb=["POST","PUT"];e=zt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qc.g(),this.v=this.o?cg(this.o):cg(Qc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(x){Pg(this,x);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const x of p.keys())f.set(x,p.get(x));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(tb,c,void 0))||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,B]of f)this.g.setRequestHeader(x,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zg(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){Pg(this,x)}};function Pg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ug(o),ul(o)}function Ug(o){o.A||(o.A=!0,St(o,"complete"),St(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,St(this,"complete"),St(this,"abort"),ul(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Lg(this):this.bb())},e.bb=function(){Lg(this)};function Lg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||On(o)!=4||o.Z()!=2)){if(o.u&&On(o)==4)Zi(o.Ea,0,o);else if(St(o,"readystatechange"),On(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var C=String(o.D).match(Cg)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!JA.test(C?C.toLowerCase():"")}f=p}if(f)St(o,"complete"),St(o,"success");else{o.m=6;try{var x=2<On(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",Ug(o)}}finally{ul(o)}}}}function ul(o,c){if(o.g){zg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||St(o,"ready");try{f.onreadystatechange=p}catch{}}}function zg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function On(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),xA(c)}};function Bg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function eb(o){const c={};o=(o.g&&2<=On(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=R(o[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const x=c[C]||[];c[C]=x,x.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function jg(o){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,o),this.cb=pa("retryDelaySeedMs",1e4,o),this.Wa=pa("forwardChannelMaxRetries",2,o),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ag(o&&o.concurrentRequestLimit),this.Da=new ZA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=jg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){Se(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=$g(this,null,this.W),hl(this)};function th(o){if(qg(o),o.G==3){var c=o.U++,f=Nn(o.I);if(It(f,"SID",o.K),It(f,"RID",c),It(f,"TYPE","terminate"),ya(o,f),c=new ii(o,o.j,c),c.L=2,c.v=al(Nn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Zg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),il(c)}Xg(o)}function cl(o){o.g&&(nh(o),o.g.cancel(),o.g=null)}function qg(o){cl(o),o.u&&(l.clearTimeout(o.u),o.u=null),fl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function hl(o){if(!bg(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||Rt(),K||(Z(),K=!0),gt.add(c,o),o.B=0}}function nb(o,c){return Sg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=la(m(o.Ga,o,c),Kg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new ii(this,this.j,o);let x=this.o;if(this.S&&(x?(x=y(x),A(x,this.S)):x=this.S),this.m!==null||this.O||(C.H=x,x=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Fg(this,C,c),f=Nn(this.I),It(f,"RID",o),It(f,"CVER",22),this.D&&It(f,"X-HTTP-Session-Id",this.D),ya(this,f),x&&(this.O?c="headers="+encodeURIComponent(String(kg(x)))+"&"+c:this.m&&Jc(f,this.m,x)),Wc(this.h,C),this.Ua&&It(f,"TYPE","init"),this.P?(It(f,"$req",c),It(f,"SID","null"),C.T=!0,Kc(C,f,null)):Kc(C,f,c),this.G=2}}else this.G==3&&(o?Hg(this,o):this.i.length==0||bg(this.h)||Hg(this))};function Hg(o,c){var f;c?f=c.l:f=o.U++;const p=Nn(o.I);It(p,"SID",o.K),It(p,"RID",f),It(p,"AID",o.T),ya(o,p),o.m&&o.o&&Jc(p,o.m,o.o),f=new ii(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Fg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Wc(o.h,f),Kc(f,p,c)}function ya(o,c){o.H&&j(o.H,function(f,p){It(c,p,f)}),o.l&&Ig({},function(f,p){It(c,p,f)})}function Fg(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let x=-1;for(;;){const B=["count="+f];x==-1?0<f?(x=C[0].g,B.push("ofs="+x)):x=0:B.push("ofs="+x);let At=!0;for(let le=0;le<f;le++){let ht=C[le].g;const ge=C[le].map;if(ht-=x,0>ht)x=Math.max(0,C[le].g-100),At=!1;else try{WA(ge,B,"req"+ht+"_")}catch{p&&p(ge)}}if(At){p=B.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function Gg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||Rt(),K||(Z(),K=!0),gt.add(c,o),o.v=0}}function eh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=la(m(o.Fa,o),Kg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Qg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=la(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),cl(this),Qg(this))};function nh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Qg(o){o.g=new ii(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Nn(o.qa);It(c,"RID","rpc"),It(c,"SID",o.K),It(c,"AID",o.T),It(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&It(c,"TO",o.ja),It(c,"TYPE","xmlhttp"),ya(o,c),o.m&&o.o&&Jc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=al(Nn(c)),f.m=null,f.P=!0,vg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,cl(this),eh(this),Se(19))};function fl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Yg(o,c){var f=null;if(o.g==c){fl(o),nh(o),o.g=null;var p=2}else if(Zc(o.h,c))f=c.D,wg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;p=tl(),St(p,new gg(p,f)),hl(o)}else Gg(o);else if(C=c.s,C==3||C==0&&0<c.X||!(p==1&&nb(o,c)||p==2&&eh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:er(o,5);break;case 4:er(o,10);break;case 3:er(o,6);break;default:er(o,2)}}}function Kg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function er(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const C=!p;p=new tr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rl(p,"https"),al(p),C?XA(p.toString(),f):$A(p.toString(),f)}else Se(2);o.G=0,o.l&&o.l.sa(c),Xg(o),qg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Xg(o){if(o.G=0,o.ka=[],o.l){const c=Rg(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function $g(o,c,f){var p=f instanceof tr?Nn(f):new tr(f);if(p.g!="")c&&(p.g=c+"."+p.g),sl(p,p.s);else{var C=l.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var x=new tr(null);p&&rl(x,p),c&&(x.g=c),C&&sl(x,C),f&&(x.l=f),p=x}return f=o.D,c=o.ya,f&&c&&It(p,f,c),It(p,"VER",o.la),ya(o,p),p}function Zg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new zt(new ol({eb:f})):new zt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wg(){}e=Wg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function dl(){}dl.prototype.g=function(o,c){return new Le(o,c)};function Le(o,c){Et.call(this),this.g=new jg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Br(this)}O(Le,Et),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){th(this.g)},Le.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=qc(o),o=f);c.i.push(new zA(c.Ya++,o)),c.G==3&&hl(c)},Le.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,Le.aa.N.call(this)};function Jg(o){Fc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}O(Jg,Fc);function tp(){Gc.call(this),this.status=1}O(tp,Gc);function Br(o){this.g=o}O(Br,Wg),Br.prototype.ua=function(){St(this.g,"a")},Br.prototype.ta=function(o){St(this.g,new Jg(o))},Br.prototype.sa=function(o){St(this.g,new tp)},Br.prototype.ra=function(){St(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,n1=function(){return new dl},e1=function(){return tl()},t1=Wi,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},el.NO_ERROR=0,el.TIMEOUT=8,el.HTTP_ERROR=6,tu=el,pg.COMPLETE="complete",JE=pg,hg.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Oa=hg,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,WE=zt}).apply(typeof Ol<"u"?Ol:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_e.UNAUTHENTICATED=new _e(null),_e.GOOGLE_CREDENTIALS=new _e("google-credentials-uid"),_e.FIRST_PARTY=new _e("first-party-uid"),_e.MOCK_USER=new _e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new ym("@firebase/firestore");function Kr(){return Sr.logLevel}function H(e,...t){if(Sr.logLevel<=at.DEBUG){const n=t.map(Cm);Sr.debug(`Firestore (${Ws}): ${e}`,...n)}}function Wn(e,...t){if(Sr.logLevel<=at.ERROR){const n=t.map(Cm);Sr.error(`Firestore (${Ws}): ${e}`,...n)}}function ks(e,...t){if(Sr.logLevel<=at.WARN){const n=t.map(Cm);Sr.warn(`Firestore (${Ws}): ${e}`,...n)}}function Cm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,i1(e,i,n)}function i1(e,t,n){let i=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wn(i),new Error(i)}function pt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||i1(t,r,i)}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(_e.UNAUTHENTICATED))}shutdown(){}}class BC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jC{constructor(t){this.t=t,this.currentUser=_e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){pt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new r1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pt(t===null||typeof t=="string",2055,{h:t}),new _e(t)}}class qC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=_e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(_e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){pt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=GC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function nt(e,t){return e<t?-1:e>t?1:0}function nd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return nt(i,r);{const s=s1(),a=QC(s.encode(s_(e,n)),s.encode(s_(t,n)));return a!==0?a:nt(i,r)}}n+=i>65535?2:1}return nt(e.length,t.length)}function s_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function QC(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return nt(e[n],t[n]);return nt(e.length,t.length)}function Ps(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-62135596800,o_=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*o_);return new Zt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<a_)throw new F(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(t){return this.seconds===t.seconds?nt(this.nanoseconds,t.nanoseconds):nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-a_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(t){return new W(t)}static min(){return new W(new Zt(0,0))}static max(){return new W(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="__name__";class pn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return pn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=pn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return nt(t.length,n.length)}static compareSegments(t,n){const i=pn.isNumericId(t),r=pn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?pn.extractNumericId(t).compare(pn.extractNumericId(n)):nd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ui.fromString(t.substring(4,t.length-2))}}class Ct extends pn{construct(t,n,i){return new Ct(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const YC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends pn{construct(t,n,i){return new fe(t,n,i)}static isValidIdentifier(t){return YC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new fe([l_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fe(n)}static emptyPath(){return new fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(Ct.fromString(t))}static fromName(t){return new Q(Ct.fromString(t).popFirst(5))}static empty(){return new Q(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new Ct(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function KC(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=W.fromTimestamp(i===1e9?new Zt(n+1,0):new Zt(n,i));return new Hi(r,Q.empty(),t)}function XC(e){return new Hi(e.readTime,e.key,vo)}class Hi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Hi(W.min(),Q.empty(),vo)}static max(){return new Hi(W.max(),Q.empty(),vo)}}function $C(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==ZC)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function JC(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}wc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function Rc(e){return e==null}function Fu(e){return e===0&&1/e==-1/0}function tD(e){return typeof e=="number"&&Number.isInteger(e)&&!Fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function eD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=u_(t)),t=nD(e.get(n),t);return u_(t)}function nD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case o1:n+="";break;default:n+=s}}return n}function u_(e){return e+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function l1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t,n){this.comparator=t,this.root=n||ce.EMPTY}insert(t,n){return new Pt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ce.BLACK,null,null))}remove(t){return new Pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ce.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xl(this.root,t,this.comparator,!0)}}class xl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ce{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ce.RED,this.left=r??ce.EMPTY,this.right=s??ce.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ce(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ce.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ce.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}ce.EMPTY=null,ce.RED=!0,ce.BLACK=!1;ce.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ce(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.comparator=t,this.data=new Pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(t){return new h_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Wt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Wt(this.comparator);return n.data=t,n}}class h_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.fields=t,t.sort(fe.comparator)}static empty(){return new hn([])}unionWith(t){let n=new Wt(fe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new hn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ps(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u1("Invalid base64 string: "+s):s}}(t);return new me(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new me(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}me.EMPTY_BYTE_STRING=new me("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(e){if(pt(!!e,39018),typeof e=="string"){let t=0;const n=iD.exec(e);if(pt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Gi(e){return typeof e=="string"?me.fromBase64String(e):me.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",h1="__type__",f1="__previous_value__",d1="__local_write_time__";function Nm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[h1])===null||n===void 0?void 0:n.stringValue)===c1}function Ic(e){const t=e.mapValue.fields[f1];return Nm(t)?Ic(t):t}function To(e){const t=Fi(e.mapValue.fields[d1].timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Gu="(default)";class Eo{constructor(t,n){this.projectId=t,this.database=n||Gu}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(t){return t instanceof Eo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",sD="__max__",Ml={mapValue:{}},g1="__vector__",Qu="value";function Qi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nm(e)?4:oD(e)?9007199254740991:aD(e)?10:11:Y(28295,{value:e})}function In(e,t){if(e===t)return!0;const n=Qi(e);if(n!==Qi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Fi(r.timestampValue),l=Fi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Gi(r.bytesValue).isEqual(Gi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Ft(r.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ft(r.integerValue)===Ft(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ft(r.doubleValue),l=Ft(s.doubleValue);return a===l?Fu(a)===Fu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Ps(e.arrayValue.values||[],t.arrayValue.values||[],In);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(c_(a)!==c_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!In(a[u],l[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function Ao(e,t){return(e.values||[]).find(n=>In(n,t))!==void 0}function Us(e,t){if(e===t)return 0;const n=Qi(e),i=Qi(t);if(n!==i)return nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Ft(s.integerValue||s.doubleValue),u=Ft(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return f_(e.timestampValue,t.timestampValue);case 4:return f_(To(e),To(t));case 5:return nd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Gi(s),u=Gi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=nt(l[h],u[h]);if(d!==0)return d}return nt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=nt(Ft(s.latitude),Ft(a.latitude));return l!==0?l:nt(Ft(s.longitude),Ft(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return d_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[Qu])===null||l===void 0?void 0:l.arrayValue,O=(u=m[Qu])===null||u===void 0?void 0:u.arrayValue,M=nt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=O==null?void 0:O.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:d_(_,O)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Ml.mapValue&&a===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(a===Ml.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=nd(u[g],d[g]);if(m!==0)return m;const _=Us(l[u[g]],h[d[g]]);if(_!==0)return _}return nt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{Pe:n})}}function f_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return nt(e,t);const n=Fi(e),i=Fi(t),r=nt(n.seconds,i.seconds);return r!==0?r:nt(n.nanos,i.nanos)}function d_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Us(n[r],i[r]);if(s)return s}return nt(n.length,i.length)}function Ls(e){return id(e)}function id(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Fi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Gi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=id(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${id(n.fields[a])}`;return r+"}"}(e.mapValue):Y(61005,{value:e})}function eu(e){switch(Qi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ic(e);return t?16+eu(t):16;case 5:return 2*e.stringValue.length;case 6:return Gi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+eu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Nr(i.fields,(s,a)=>{r+=s.length+eu(a)}),r}(e.mapValue);default:throw Y(13486,{value:e})}}function m_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rd(e){return!!e&&"integerValue"in e}function Om(e){return!!e&&"arrayValue"in e}function g_(e){return!!e&&"nullValue"in e}function p_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nu(e){return!!e&&"mapValue"in e}function aD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[m1])===null||n===void 0?void 0:n.stringValue)===g1}function Wa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Wa(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!nu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wa(n)}setAll(t){let n=fe.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Wa(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return In(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];nu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Nr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new en(Wa(this.value))}}function p1(e){const t=[];return Nr(e.fields,(n,i)=>{const r=new fe([n]);if(nu(i)){const s=p1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ve(t,0,W.min(),W.min(),W.min(),en.empty(),0)}static newFoundDocument(t,n,i,r){return new ve(t,1,n,W.min(),i,r,0)}static newNoDocument(t,n){return new ve(t,2,n,W.min(),W.min(),en.empty(),0)}static newUnknownDocument(t,n){return new ve(t,3,n,W.min(),W.min(),en.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n){this.position=t,this.inclusive=n}}function y_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=Us(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function __(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!In(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n="asc"){this.field=t,this.dir=n}}function lD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class Yt extends y1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new cD(t,n,i):n==="array-contains"?new dD(t,i):n==="in"?new mD(t,i):n==="not-in"?new gD(t,i):n==="array-contains-any"?new pD(t,i):new Yt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new hD(t,i):new fD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Us(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends y1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new dn(t,n)}matches(t){return _1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function _1(e){return e.op==="and"}function v1(e){return uD(e)&&_1(e)}function uD(e){for(const t of e.filters)if(t instanceof dn)return!1;return!0}function sd(e){if(e instanceof Yt)return e.field.canonicalString()+e.op.toString()+Ls(e.value);if(v1(e))return e.filters.map(t=>sd(t)).join(",");{const t=e.filters.map(n=>sd(n)).join(",");return`${e.op}(${t})`}}function T1(e,t){return e instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.field.isEqual(r.field)&&In(i.value,r.value)}(e,t):e instanceof dn?function(i,r){return r instanceof dn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&T1(a,r.filters[l]),!0):!1}(e,t):void Y(19439)}function E1(e){return e instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(e):e instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(E1).join(" ,")+"}"}(e):"Filter"}class cD extends Yt{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class hD extends Yt{constructor(t,n){super(t,"in",n),this.keys=A1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class fD extends Yt{constructor(t,n){super(t,"not-in",n),this.keys=A1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function A1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class dD extends Yt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Ao(n.arrayValue,this.value)}}class mD extends Yt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ao(this.value.arrayValue,n)}}class gD extends Yt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ao(this.value.arrayValue,n)}}class pD extends Yt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ao(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function v_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new yD(e,t,n,i,r,s,a)}function xm(e){const t=J(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>sd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Rc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ls(i)).join(",")),t.Ie=n}return t.Ie}function Mm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!T1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!__(e.startAt,t.startAt)&&__(e.endAt,t.endAt)}function ad(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _D(e,t,n,i,r,s,a,l){return new Yo(e,t,n,i,r,s,a,l)}function Vm(e){return new Yo(e)}function T_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b1(e){return e.collectionGroup!==null}function Ja(e){const t=J(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wt(fe.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Ku(s,i))}),n.has(fe.keyField().canonicalString())||t.Ee.push(new Ku(fe.keyField(),i))}return t.Ee}function Sn(e){const t=J(e);return t.de||(t.de=vD(t,Ja(e))),t.de}function vD(e,t){if(e.limitType==="F")return v_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ku(r.field,s)});const n=e.endAt?new Yu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yu(e.startAt.position,e.startAt.inclusive):null;return v_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function od(e,t){const n=e.filters.concat([t]);return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ld(e,t,n){return new Yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Mm(Sn(e),Sn(t))&&e.limitType===t.limitType}function S1(e){return`${xm(Sn(e))}|lt:${e.limitType}`}function Xr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>E1(r)).join(", ")}]`),Rc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ls(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ls(r)).join(",")),`Target(${i})`}(Sn(e))}; limitType=${e.limitType})`}function Dc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Ja(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=y_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Ja(i),r)||i.endAt&&!function(a,l,u){const h=y_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Ja(i),r))}(e,t)}function TD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function w1(e){return(t,n)=>{let i=!1;for(const r of Ja(e)){const s=ED(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function ED(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Us(u,h):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Nr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Pt(Q.comparator);function Jn(){return AD}const R1=new Pt(Q.comparator);function xa(...e){let t=R1;for(const n of e)t=t.insert(n.key,n);return t}function I1(e){let t=R1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function or(){return to()}function C1(){return to()}function to(){return new Or(e=>e.toString(),(e,t)=>e.isEqual(t))}const bD=new Pt(Q.comparator),SD=new Wt(Q.comparator);function ot(...e){let t=SD;for(const n of e)t=t.add(n);return t}const wD=new Wt(nt);function RD(){return wD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(t)?"-0":t}}function D1(e){return{integerValue:""+e}}function ID(e,t){return tD(t)?D1(t):km(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function CD(e,t,n){return e instanceof Xu?function(r,s){const a={fields:{[h1]:{stringValue:c1},[d1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Nm(s)&&(s=Ic(s)),s&&(a.fields[f1]=s),{mapValue:a}}(n,t):e instanceof bo?O1(e,t):e instanceof So?x1(e,t):function(r,s){const a=N1(r,s),l=E_(a)+E_(r.Re);return rd(a)&&rd(r.Re)?D1(l):km(r.serializer,l)}(e,t)}function DD(e,t,n){return e instanceof bo?O1(e,t):e instanceof So?x1(e,t):n}function N1(e,t){return e instanceof $u?function(i){return rd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Xu extends Nc{}class bo extends Nc{constructor(t){super(),this.elements=t}}function O1(e,t){const n=M1(t);for(const i of e.elements)n.some(r=>In(r,i))||n.push(i);return{arrayValue:{values:n}}}class So extends Nc{constructor(t){super(),this.elements=t}}function x1(e,t){let n=M1(t);for(const i of e.elements)n=n.filter(r=>!In(r,i));return{arrayValue:{values:n}}}class $u extends Nc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function E_(e){return Ft(e.integerValue||e.doubleValue)}function M1(e){return Om(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ND(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof bo&&r instanceof bo||i instanceof So&&r instanceof So?Ps(i.elements,r.elements,In):i instanceof $u&&r instanceof $u?In(i.Re,r.Re):i instanceof Xu&&r instanceof Xu}(e.transform,t.transform)}class OD{constructor(t,n){this.version=t,this.transformResults=n}}class wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function iu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Oc{}function V1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Pm(e.key,wn.none()):new Ko(e.key,e.data,wn.none());{const n=e.data,i=en.empty();let r=new Wt(fe.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new xr(e.key,i,new hn(r.toArray()),wn.none())}}function xD(e,t,n){e instanceof Ko?function(r,s,a){const l=r.value.clone(),u=b_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof xr?function(r,s,a){if(!iu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=b_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(k1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function eo(e,t,n,i){return e instanceof Ko?function(s,a,l,u){if(!iu(s.precondition,a))return l;const h=s.value.clone(),d=S_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof xr?function(s,a,l,u){if(!iu(s.precondition,a))return l;const h=S_(s.fieldTransforms,u,a),d=a.data;return d.setAll(k1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return iu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function MD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=N1(i.transform,r||null);s!=null&&(n===null&&(n=en.empty()),n.set(i.field,s))}return n||null}function A_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ps(i,r,(s,a)=>ND(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ko extends Oc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xr extends Oc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function b_(e,t,n){const i=new Map;pt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,DD(a,l,n[r]))}return i}function S_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,CD(s,a,t))}return i}class Pm extends Oc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Oc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&xD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=eo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=eo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=C1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=V1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ot())}isEqual(t){return this.batchId===t.batchId&&Ps(this.mutations,t.mutations,(n,i)=>A_(n,i))&&Ps(this.baseMutations,t.baseMutations,(n,i)=>A_(n,i))}}class Um{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){pt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return bD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Um(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,lt;function LD(e){switch(e){case U.OK:return Y(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function P1(e){if(e===void 0)return Wn("GRPC error has no .code"),U.UNKNOWN;switch(e){case Gt.OK:return U.OK;case Gt.CANCELLED:return U.CANCELLED;case Gt.UNKNOWN:return U.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return U.INTERNAL;case Gt.UNAVAILABLE:return U.UNAVAILABLE;case Gt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Gt.NOT_FOUND:return U.NOT_FOUND;case Gt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Gt.ABORTED:return U.ABORTED;case Gt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Gt.DATA_LOSS:return U.DATA_LOSS;default:return Y(39323,{code:e})}}(lt=Gt||(Gt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Ui([4294967295,4294967295],0);function w_(e){const t=s1().encode(e),n=new ZE;return n.update(t),new Uint8Array(n.digest())}function R_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ui([n,i],0),new Ui([r,s],0)]}class Lm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ma(`Invalid padding: ${n}`);if(i<0)throw new Ma(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ma(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ma(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ui.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Ui.fromNumber(i)));return r.compare(zD)===1&&(r=new Ui([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=w_(t),[i,r]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Lm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=w_(t),[i,r]=R_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new xc(W.min(),r,new Pt(nt),Jn(),ot())}}class Xo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Xo(i,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class U1{constructor(t,n){this.targetId=t,this.Ce=n}}class L1{constructor(t,n,i=me.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class I_{constructor(){this.Fe=0,this.Me=C_(),this.xe=me.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ot(),n=ot(),i=ot();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new Xo(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=C_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BD{constructor(t){this.ze=t,this.je=new Map,this.He=Jn(),this.Je=Vl(),this.Ye=Vl(),this.Ze=new Pt(nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(ad(s))if(i===0){const a=new Q(s.path);this.tt(n,a,ve.newNoDocument(a,W.min()))}else pt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Gi(i).toUint8Array()}catch(u){if(u instanceof u1)return ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Lm(a,r,s)}catch(u){return ks(u instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&ad(l.target)){const u=new Q(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,ve.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ot();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new xc(t,n,this.Ze,this.He,i);return this.He=Jn(),this.Je=Vl(),this.Ye=Vl(),this.Ze=new Pt(nt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new I_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Wt(nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Wt(nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new I_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Vl(){return new Pt(Q.comparator)}function C_(){return new Pt(Q.comparator)}const jD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class FD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ud(e,t){return e.useProto3Json||Rc(t)?t:{value:t}}function Zu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function GD(e,t){return Zu(e,t.toTimestamp())}function Rn(e){return pt(!!e,49232),W.fromTimestamp(function(n){const i=Fi(n);return new Zt(i.seconds,i.nanos)}(e))}function zm(e,t){return cd(e,t).canonicalString()}function cd(e,t){const n=function(r){return new Ct(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function B1(e){const t=Ct.fromString(e);return pt(G1(t),10190,{key:t.toString()}),t}function hd(e,t){return zm(e.databaseId,t.path)}function Qh(e,t){const n=B1(t);if(n.get(1)!==e.databaseId.projectId)throw new F(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(q1(n))}function j1(e,t){return zm(e.databaseId,t)}function QD(e){const t=B1(e);return t.length===4?Ct.emptyPath():q1(t)}function fd(e){return new Ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function q1(e){return pt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function D_(e,t,n){return{name:hd(e,t),fields:n.value.mapValue.fields}}function YD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(pt(d===void 0||typeof d=="string",58123),me.fromBase64String(d||"")):(pt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),me.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?U.UNKNOWN:P1(h.code);return new F(d,h.message||"")}(a);n=new L1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Qh(e,i.document.name),s=Rn(i.document.updateTime),a=i.document.createTime?Rn(i.document.createTime):W.min(),l=new en({mapValue:{fields:i.document.fields}}),u=ve.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new ru(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Qh(e,i.document),s=i.readTime?Rn(i.readTime):W.min(),a=ve.newNoDocument(r,s),l=i.removedTargetIds||[];n=new ru([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Qh(e,i.document),s=i.removedTargetIds||[];n=new ru([],s,r,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new UD(r,s),l=i.targetId;n=new U1(l,a)}}return n}function KD(e,t){let n;if(t instanceof Ko)n={update:D_(e,t.key,t.value)};else if(t instanceof Pm)n={delete:hd(e,t.key)};else if(t instanceof xr)n={update:D_(e,t.key,t.data),updateMask:iN(t.fieldMask)};else{if(!(t instanceof VD))return Y(16599,{ft:t.type});n={verify:hd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Xu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof So)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $u)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Y(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:GD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(e,t.precondition)),n}function XD(e,t){return e&&e.length>0?(pt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Rn(r.updateTime):Rn(s);return a.isEqual(W.min())&&(a=Rn(s)),new OD(a,r.transformResults||[])}(n,t))):[]}function $D(e,t){return{documents:[j1(e,t.path)]}}function ZD(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=j1(e,r);const s=function(h){if(h.length!==0)return F1(dn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:$r(m.field),direction:tN(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ud(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function WD(e){let t=QD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){pt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=H1(g);return m instanceof dn&&v1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(O){return new Ku(Zr(O.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Rc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Yu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new Yu(_,m)}(n.endAt)),_D(t,r,a,s,l,"F",u,h)}function JD(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function H1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Zr(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zr(n.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zr(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zr(n.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Yt.create(Zr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(i=>H1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function tN(e){return jD[e]}function eN(e){return qD[e]}function nN(e){return HD[e]}function $r(e){return{fieldPath:e.canonicalString()}}function Zr(e){return fe.fromServerFormat(e.fieldPath)}function F1(e){return e instanceof Yt?function(n){if(n.op==="=="){if(p_(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p_(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$r(n.field),op:eN(n.op),value:n.value}}}(e):e instanceof dn?function(n){const i=n.getFilters().map(r=>F1(r));return i.length===1?i[0]:{compositeFilter:{op:nN(n.op),filters:i}}}(e):Y(54877,{filter:e})}function iN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function G1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,i,r,s=W.min(),a=W.min(),l=me.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.wt=t}}function sN(e){const t=WD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Cn=new oN}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Hi.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Hi.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class oN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Wt(Ct.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q1=41943040;class xe{static withCacheSize(t){return new xe(t,xe.DEFAULT_COLLECTION_PERCENTILE,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.DEFAULT_COLLECTION_PERCENTILE=10,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xe.DEFAULT=new xe(Q1,xe.DEFAULT_COLLECTION_PERCENTILE,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xe.DISABLED=new xe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new zs(0)}static lr(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",lN=1048576;function x_([e,t],[n,i]){const r=nt(e,n);return r===0?nt(t,i):r}class uN{constructor(t){this.Er=t,this.buffer=new Wt(x_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();x_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(O_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?H(O_,"Ignoring IndexedDB error during garbage collection: ",n):await Js(n)}await this.mr(3e5)})}}class hN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(wc.le);const i=new uN(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(N_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Kr()<=at.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function fN(e,t){return new hN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.changes=new Or(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&eo(i.mutation,r,hn.empty(),Zt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ot()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ot()){const r=or();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=xa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=or();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ot()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Jn();const a=to(),l=function(){return to()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof xr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),eo(d.mutation,h,d.mutation.getFieldMask(),Zt.now())):a.set(h.key,hn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new mN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=to();let r=new Pt((a,l)=>a-l),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||hn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ot()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=C1();d.forEach(m=>{if(!s.has(m)){const _=V1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(or());let l=vo,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ot())).next(d=>({batchId:l,changes:I1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=xa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=xa();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new Yo(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ve.newInvalidDocument(d)))});let l=xa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&eo(d.mutation,h,hn.empty(),Zt.now()),Dc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Rn(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:sN(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.overlays=new Pt(Q.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=or();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=or(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Pt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=or(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=or(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new PD(n,i));let s=this.Qr.get(n);s===void 0&&(s=ot(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=me.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.$r=new Wt(ee.Ur),this.Kr=new Wt(ee.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ee(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ee(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Q(new Ct([])),i=new ee(n,t),r=new ee(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Q(new Ct([])),i=new ee(n,t),r=new ee(n,t+1);let s=ot();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ee(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ee{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Q.comparator(t.key,n.key)||nt(t.Zr,n.Zr)}static Wr(t,n){return nt(t.Zr,n.Zr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(ee.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new kD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new ee(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Dm:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ee(n,0),r=new ee(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Wt(nt);return n.forEach(r=>{const s=new ee(r,0),a=new ee(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new ee(new Q(s),0);let l=new Wt(nt);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){pt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new ee(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ee(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.ii=t,this.docs=function(){return new Pt(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(t,n){let i=Jn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ve.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Jn();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||$C(XC(d),i)<=0||(r.has(d.key)||Dc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Y(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new EN(this)}getSize(t){return k.resolve(this.size)}}class EN extends dN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.persistence=t,this.oi=new Or(n=>xm(n),Mm),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this._i=0,this.ai=new Bm,this.targetCount=0,this.ui=zs.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new zs(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n){this.ci={},this.overlays={},this.li=new wc(0),this.hi=!1,this.hi=!0,this.Pi=new _N,this.referenceDelegate=t(this),this.Ti=new AN(this),this.indexManager=new aN,this.remoteDocumentCache=function(r){return new TN(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new rN(n),this.Ei=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new vN(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new bN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class bN extends WC{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Vi=new Bm,this.mi=null}static fi(t){return new jm(t)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=Q.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,W.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Wu{constructor(t,n){this.persistence=t,this.yi=new Or(i=>eD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=fN(this,n)}static fi(t,n){return new Wu(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,W.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=eu(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ot(),r=ot();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new qm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Tw()?8:JC(Ae())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new SN;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(Kr()<=at.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Xr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(Kr()<=at.DEBUG&&H("QueryEngine","Query:",Xr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Kr()<=at.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Xr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Sn(n))):k.resolve())}ws(t,n){if(T_(n))return k.resolve(null);let i=Sn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ld(n,null,"F"),i=Sn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ot(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,ld(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return T_(n)||r.isEqual(W.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(Kr()<=at.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xr(n)),this.Fs(t,a,n,KC(r,vo)).next(l=>l))})}vs(t,n){let i=new Wt(w1(t));return n.forEach((r,s)=>{Dc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Kr()<=at.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Xr(n)),this.ys.getDocumentsMatchingQuery(t,n,Hi.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",RN=3e8;class IN{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Pt(nt),this.Os=new Or(s=>xm(s),Mm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function CN(e,t,n,i){return new IN(e,t,n,i)}async function K1(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ot();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function DN(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=k.resolve();return m.forEach(O=>{_=_.next(()=>d.getEntry(u,O)).next(M=>{const V=h.docVersions.get(O);pt(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ot();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function X1(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function NN(e,t){const n=J(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(me.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,V,b){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=RN?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=Jn(),h=ot();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(ON(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(W.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function ON(e,t,n){let i=ot(),r=ot();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Jn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(W.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(Hm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function xN(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function MN(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Si(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function dd(e,t,n){const i=J(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ta(a))throw a;H(Hm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function M_(e,t,n){const i=J(e);let r=W.min(),s=ot();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=J(u),m=g.Os.get(d);return m!==void 0?k.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,Sn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:W.min(),n?s:ot())).next(l=>(VN(i,TD(t),l),{documents:l,$s:s})))}function VN(e,t,n){let i=e.Ns.get(t)||W.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class V_{constructor(){this.activeTargetIds=RD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kN{constructor(){this.xo=new V_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new V_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class P_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(k_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(k_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=null;function md(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="RestConnection",UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Gu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=md(),l=this.jo(t,n.toUriEncodedString());H(Yh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=Xs(h);return this.Jo(t,l,u,i,d).then(g=>(H(Yh,`Received RPC '${t}' ${a}: `,g),g),g=>{throw ks(Yh,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=UN[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye="WebChannelConnection";class BN extends LN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=md();return new Promise((l,u)=>{const h=new WE;h.setWithCredentials(!0),h.listenOnce(JE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case tu.NO_ERROR:const g=h.getResponseJson();H(ye,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case tu.TIMEOUT:H(ye,`RPC '${t}' ${a} timed out`),u(new F(U.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const m=h.getStatus();if(H(ye,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_==null?void 0:_.error;if(O&&O.status&&O.message){const M=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(O.status);u(new F(M,O.message))}else u(new F(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(U.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(ye,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(ye,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=md(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=n1(),l=e1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(ye,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const O=new zN({Zo:V=>{_?H(ye,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(ye,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(ye,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,b,v)=>{V.listen(b,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return M(g,Oa.EventType.OPEN,()=>{_||(H(ye,`RPC '${t}' stream ${r} transport opened.`),O.__())}),M(g,Oa.EventType.CLOSE,()=>{_||(_=!0,H(ye,`RPC '${t}' stream ${r} transport closed`),O.u_(),this.d_(g))}),M(g,Oa.EventType.ERROR,V=>{_||(_=!0,ks(ye,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),O.u_(new F(U.UNAVAILABLE,"The operation could not be completed")))}),M(g,Oa.EventType.MESSAGE,V=>{var b;if(!_){const v=V.data[0];pt(!!v,16349);const w=v,D=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(D){H(ye,`RPC '${t}' stream ${r} received error:`,D);const z=D.status;let j=function(E){const A=Gt[E];if(A!==void 0)return P1(A)}(z),T=D.message;j===void 0&&(j=U.INTERNAL,T="Unknown error status: "+z+" with message "+D.message),_=!0,O.u_(new F(j,T)),g.close()}else H(ye,`RPC '${t}' stream ${r} received:`,v),O.c_(v)}}),M(l,t1.STAT_EVENT,V=>{V.stat===ed.PROXY?H(ye,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===ed.NOPROXY&&H(ye,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e){return new FD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class Z1{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new F(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(U_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jN extends Z1{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=YD(this.serializer,t),i=function(s){if(!("targetChange"in s))return W.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?Rn(a.readTime):W.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=fd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=ad(u)?{documents:$D(s,u)}:{query:ZD(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=z1(s,a.resumeToken);const h=ud(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(W.min())>0){l.readTime=Zu(s,a.snapshotVersion.toTimestamp());const h=ud(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=JD(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=fd(this.serializer),n.removeTarget=t,this.Q_(n)}}class qN extends Z1{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return pt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){pt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=XD(t.writeResults,t.commitTime),i=Rn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=fd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>KD(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{}class FN extends HN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,cd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(U.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,cd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(U.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wn(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="RemoteStore";class QN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Mr(this)&&(H(wr,"Restarting streams for network reachability change."),await async function(u){const h=J(u);h.da.add(4),await $o(h),h.Va.set("Unknown"),h.da.delete(4),await Vc(h)}(this))})}),this.Va=new GN(i,r)}}async function Vc(e){if(Mr(e))for(const t of e.Aa)await t(!0)}async function $o(e){for(const t of e.Aa)await t(!1)}function W1(e,t){const n=J(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ym(n)?Qm(n):ea(n).N_()&&Gm(n,t))}function Fm(e,t){const n=J(e),i=ea(n);n.Ea.delete(t),i.N_()&&J1(n,t),n.Ea.size===0&&(i.N_()?i.k_():Mr(n)&&n.Va.set("Unknown"))}function Gm(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(W.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ea(e).Z_(t)}function J1(e,t){e.ma.Ke(t),ea(e).X_(t)}function Qm(e){e.ma=new BD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ea(e).start(),e.Va.ca()}function Ym(e){return Mr(e)&&!ea(e).O_()&&e.Ea.size>0}function Mr(e){return J(e).da.size===0}function tA(e){e.ma=void 0}async function YN(e){e.Va.set("Online")}async function KN(e){e.Ea.forEach((t,n)=>{Gm(e,t)})}async function XN(e,t){tA(e),Ym(e)?(e.Va.Pa(t),Qm(e)):e.Va.set("Unknown")}async function $N(e,t,n){if(e.Va.set("Online"),t instanceof L1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ju(e,i)}else if(t instanceof ru?e.ma.Xe(t):t instanceof U1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(W.min()))try{const i=await X1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(me.EMPTY_BYTE_STRING,d.snapshotVersion)),J1(s,u);const g=new Si(d.target,u,h,d.sequenceNumber);Gm(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(wr,"Failed to raise snapshot:",i),await Ju(e,i)}}async function Ju(e,t,n){if(!ta(t))throw t;e.da.add(1),await $o(e),e.Va.set("Offline"),n||(n=()=>X1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(wr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Vc(e)})}function eA(e,t){return t().catch(n=>Ju(e,n,t))}async function kc(e){const t=J(e),n=Yi(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Dm;for(;ZN(t);)try{const r=await xN(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,WN(t,r)}catch(r){await Ju(t,r)}nA(t)&&iA(t)}function ZN(e){return Mr(e)&&e.Ia.length<10}function WN(e,t){e.Ia.push(t);const n=Yi(e);n.N_()&&n.ea&&n.ta(t.mutations)}function nA(e){return Mr(e)&&!Yi(e).O_()&&e.Ia.length>0}function iA(e){Yi(e).start()}async function JN(e){Yi(e).ia()}async function t4(e){const t=Yi(e);for(const n of e.Ia)t.ta(n.mutations)}async function e4(e,t,n){const i=e.Ia.shift(),r=Um.from(i,t,n);await eA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await kc(e)}async function n4(e,t){t&&Yi(e).ea&&await async function(i,r){if(function(a){return LD(a)&&a!==U.ABORTED}(r.code)){const s=i.Ia.shift();Yi(i).L_(),await eA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await kc(i)}}(e,t),nA(e)&&iA(e)}async function L_(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),H(wr,"RemoteStore received new credentials");const i=Mr(n);n.da.add(3),await $o(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Vc(n)}async function i4(e,t){const n=J(e);t?(n.da.delete(2),await Vc(n)):t||(n.da.add(2),await $o(n),n.Va.set("Unknown"))}function ea(e){return e.fa||(e.fa=function(n,i,r){const s=J(n);return s.oa(),new jN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:YN.bind(null,e),n_:KN.bind(null,e),i_:XN.bind(null,e),Y_:$N.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Ym(e)?Qm(e):e.Va.set("Unknown")):(await e.fa.stop(),tA(e))})),e.fa}function Yi(e){return e.ga||(e.ga=function(n,i,r){const s=J(n);return s.oa(),new qN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:JN.bind(null,e),i_:n4.bind(null,e),na:t4.bind(null,e),ra:e4.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await kc(e)):(await e.ga.stop(),e.Ia.length>0&&(H(wr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Km(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(e,t){if(Wn("AsyncQueue",`${t}: ${e}`),ta(e))return new F(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(t){return new As(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=xa(),this.sortedSet=new Pt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof As)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new As;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.pa=new Pt(Q.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Bs{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Bs(t,n,As.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class s4{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=J(n),s=r.queries;r.queries=B_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(U.ABORTED,"Firestore shutting down"))}}function B_(){return new Or(e=>S1(e),Cc)}async function a4(e,t){const n=J(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new r4,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Xm(a,`Initialization of query '${Xr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&$m(n)}async function o4(e,t){const n=J(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function l4(e,t){const n=J(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&$m(n)}function u4(e,t,n){const i=J(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function $m(e){e.Ca.forEach(t=>{t.next()})}var gd,j_;(j_=gd||(gd={})).xa="default",j_.Cache="cache";class c4{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Bs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Bs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.key=t}}class sA{constructor(t){this.key=t}}class h4{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.Za=w1(t),this.Xa=new As(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new z_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=Dc(this.query,g)?g:null,O=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;m&&_?m.data.isEqual(_.data)?O!==M&&(i.track({type:3,doc:_}),V=!0):this.ru(m,_)||(i.track({type:2,doc:_}),V=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),V=!0):m&&!_&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,O){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:V})}};return M(_)-M(O)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Bs(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ot(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new sA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new rA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ot();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Bs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Zm="SyncEngine";class f4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class d4{constructor(t){this.key=t,this.cu=!1}}class m4{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Or(l=>S1(l),Cc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pt(Q.comparator),this.Eu=new Map,this.du=new Bm,this.Au={},this.Ru=new Map,this.Vu=zs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function g4(e,t,n=!0){const i=hA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await aA(i,t,n,!0),r}async function p4(e,t){const n=hA(e);await aA(n,t,!0,!1)}async function aA(e,t,n,i){const r=await MN(e.localStore,Sn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await y4(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&W1(e.remoteStore,r),l}async function y4(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,V,b,v){let w=V.view.tu(b);w.Cs&&(w=await M_(M.localStore,V.query,!1).then(({documents:T})=>V.view.tu(T,w)));const D=v&&v.targetChanges.get(V.targetId),z=v&&v.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(w,M.isPrimaryClient,D,z);return H_(M,V.targetId,j.ou),j.snapshot}(e,g,m,_);const s=await M_(e.localStore,t,!0),a=new h4(t,s.$s),l=a.tu(s.documents),u=Xo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);H_(e,n,h.ou);const d=new f4(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function _4(e,t,n){const i=J(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Cc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Fm(i.remoteStore,r.targetId),pd(i,r.targetId)}).catch(Js)):(pd(i,r.targetId),await dd(i.localStore,r.targetId,!0))}async function v4(e,t){const n=J(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Fm(n.remoteStore,i.targetId))}async function T4(e,t,n){const i=I4(e);try{const r=await function(a,l){const u=J(a),h=Zt.now(),d=l.reduce((_,O)=>_.add(O.key),ot());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let O=Jn(),M=ot();return u.Bs.getEntries(_,d).next(V=>{O=V,O.forEach((b,v)=>{v.isValidDocument()||(M=M.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,O)).next(V=>{g=V;const b=[];for(const v of l){const w=MD(v,g.get(v.key).overlayedDocument);w!=null&&b.push(new xr(v.key,w,p1(w.value.mapValue),wn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,b,l)}).next(V=>{m=V;const b=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,V.batchId,b)})}).then(()=>({batchId:m.batchId,changes:I1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Pt(nt)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await Zo(i,r.changes),await kc(i.remoteStore)}catch(r){const s=Xm(r,"Failed to persist write");n.reject(s)}}async function oA(e,t){const n=J(e);try{const i=await NN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?pt(a.cu,14607):r.removedDocuments.size>0&&(pt(a.cu,42227),a.cu=!1))}),await Zo(n,i,t)}catch(i){await Js(i)}}function q_(e,t,n){const i=J(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=J(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&$m(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function E4(e,t,n){const i=J(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Pt(Q.comparator);a=a.insert(s,ve.newNoDocument(s,W.min()));const l=ot().add(s),u=new xc(W.min(),new Map,new Pt(nt),a,l);await oA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),Wm(i)}else await dd(i.localStore,t,!1).then(()=>pd(i,t,n)).catch(Js)}async function A4(e,t){const n=J(e),i=t.batch.batchId;try{const r=await DN(n.localStore,t);uA(n,i,null),lA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zo(n,r)}catch(r){await Js(r)}}async function b4(e,t,n){const i=J(e);try{const r=await function(a,l){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(pt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);uA(i,t,n),lA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Zo(i,r)}catch(r){await Js(r)}}function lA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function uA(e,t,n){const i=J(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function pd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||cA(e,i)})}function cA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Fm(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Wm(e))}function H_(e,t,n){for(const i of n)i instanceof rA?(e.du.addReference(i.key,t),S4(e,i)):i instanceof sA?(H(Zm,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||cA(e,i.key)):Y(19791,{pu:i})}function S4(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Zm,"New document in limbo: "+n),e.Tu.add(i),Wm(e))}function Wm(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Q(Ct.fromString(t)),i=e.Vu.next();e.Eu.set(i,new d4(n)),e.Iu=e.Iu.insert(n,i),W1(e.remoteStore,new Si(Sn(Vm(n.path)),i,"TargetPurposeLimboResolution",wc.le))}}async function Zo(e,t,n){const i=J(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=qm.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>k.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ta(g))throw g;H(Hm,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),O=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(O);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function w4(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){H(Zm,"User change. New user:",t.toKey());const i=await K1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(U.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Zo(n,i.ks)}}function R4(e,t){const n=J(e),i=n.Eu.get(t);if(i&&i.cu)return ot().add(i.key);{let r=ot();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function hA(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E4.bind(null,t),t.lu.Y_=l4.bind(null,t.eventManager),t.lu.gu=u4.bind(null,t.eventManager),t}function I4(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return CN(this.persistence,new wN,t.initialUser,this.serializer)}Su(t){return new Y1(jm.fi,this.serializer)}bu(t){return new kN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class C4 extends tc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){pt(this.persistence.referenceDelegate instanceof Wu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new cN(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?xe.withCacheSize(this.cacheSizeBytes):xe.DEFAULT;return new Y1(i=>Wu.fi(i,n),this.serializer)}}class yd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new s4}()}createDatastore(t){const n=Mc(t.databaseInfo.databaseId),i=function(s){return new BN(s)}(t.databaseInfo);return function(s,a,l,u){return new FN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new QN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>q_(this.syncEngine,n,0),function(){return P_.C()?new P_:new PN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new m4(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=J(r);H(wr,"RemoteStore shutting down."),s.da.add(5),await $o(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Wn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class N4{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=_e.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(Ki,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Ki,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Xm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Xh(e,t){e.asyncQueue.verifyOperationInProgress(),H(Ki,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await K1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function F_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await O4(e);H(Ki,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>L_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>L_(t.remoteStore,r)),e._onlineComponents=t}async function O4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Ki,"Using user provided OfflineComponentProvider");try{await Xh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await Xh(e,new tc)}}else H(Ki,"Using default OfflineComponentProvider"),await Xh(e,new C4(void 0));return e._offlineComponents}async function fA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Ki,"Using user provided OnlineComponentProvider"),await F_(e,e._uninitializedComponentsProvider._online)):(H(Ki,"Using default OnlineComponentProvider"),await F_(e,new yd))),e._onlineComponents}function x4(e){return fA(e).then(t=>t.syncEngine)}async function G_(e){const t=await fA(e),n=t.eventManager;return n.onListen=g4.bind(null,t.syncEngine),n.onUnlisten=_4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=p4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t,n){if(!n)throw new F(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function M4(e,t,n,i){if(t===!0&&i===!0)throw new F(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Y_(e){if(!Q.isDocumentKey(e))throw new F(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function K_(e){if(Q.isDocumentKey(e))throw new F(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function pr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pc(e);throw new F(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firestore.googleapis.com",X_=!0;class $_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=X_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:X_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lN)throw new F(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zC;switch(i.type){case"firstParty":return new HC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Q_.get(n);i&&(H("ComponentProvider","Removing Datastore"),Q_.delete(n),i.terminate())}(this),Promise.resolve()}}function V4(e,t,n,i={}){var r;e=pr(e,Uc);const s=Xs(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(hE(`https://${u}`),fE("Firestore",!0)),a.host!==gA&&a.host!==u&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Er(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=_e.MOCK_USER;else{d=hw(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _e(m)}e._authCredentials=new BC(new r1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new na(this.firestore,t,this._query)}}class Me{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}}class Li extends na{constructor(t,n,i){super(t,n,Vm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Q(t))}withConverter(t){return new Li(this.firestore,t,this._path)}}function Z_(e,t,...n){if(e=ke(e),mA("collection","path",t),e instanceof Uc){const i=Ct.fromString(t,...n);return K_(i),new Li(e,null,i)}{if(!(e instanceof Me||e instanceof Li))throw new F(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ct.fromString(t,...n));return K_(i),new Li(e.firestore,null,i)}}function Pl(e,t,...n){if(e=ke(e),arguments.length===1&&(t=a1.newId()),mA("doc","path",t),e instanceof Uc){const i=Ct.fromString(t,...n);return Y_(i),new Me(e,null,new Q(i))}{if(!(e instanceof Me||e instanceof Li))throw new F(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ct.fromString(t,...n));return Y_(i),new Me(e.firestore,e instanceof Li?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class J_{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $1(this,"async_queue_retry"),this.rc=()=>{const i=Kh();i&&H(W_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=Kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new gr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ta(t))throw t;H(W_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Wn("INTERNAL UNHANDLED ERROR: ",tv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=Km.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Y(47125,{cc:tv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function tv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class wo extends Uc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new J_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new J_(t),this._firestoreClient=void 0,await t}}}function k4(e,t){const n=typeof e=="object"?e:pE(),i=typeof e=="string"?e:Gu,r=vm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=uw("firestore");s&&V4(r,...s)}return r}function pA(e){if(e._terminated)throw new F(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||P4(e),e._firestoreClient}function P4(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new rD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new N4(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(me.fromBase64String(t))}catch(n){throw new F(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new js(me.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nt(this._lat,t._lat)||nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^__.*__$/;class L4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new xr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ko(t,this.data,n,this.fieldTransforms)}}function _A(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:e})}}class ng{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return ec(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(_A(this.Ic)&&U4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class z4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mc(t)}bc(t,n,i,r=!1){return new ng({Ic:t,methodName:n,wc:i,path:fe.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vA(e){const t=e._freezeSettings(),n=Mc(e._databaseId);return new z4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function B4(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);AA("Data must be an object, but it was:",a,i);const l=TA(i,a);let u,h;if(s.merge)u=new hn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=q4(t,g,n);if(!a.contains(m))throw new F(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);F4(d,m)||d.push(m)}u=new hn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new L4(new en(l),u,h)}function j4(e,t,n,i=!1){return ig(n,e.bc(i?4:3,t))}function ig(e,t){if(EA(e=ke(e)))return AA("Unsupported field value:",t,e),TA(e,t);if(e instanceof yA)return function(i,r){if(!_A(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=ig(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ID(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Zt.fromDate(i);return{timestampValue:Zu(r.serializer,s)}}if(i instanceof Zt){const s=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zu(r.serializer,s)}}if(i instanceof tg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof js)return{bytesValue:z1(r.serializer,i._byteString)};if(i instanceof Me){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof eg)return function(a,l){return{mapValue:{fields:{[m1]:{stringValue:g1},[Qu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return km(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Pc(i)}`)}(e,t)}function TA(e,t){const n={};return l1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(e,(i,r)=>{const s=ig(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function EA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Zt||e instanceof tg||e instanceof js||e instanceof Me||e instanceof yA||e instanceof eg)}function AA(e,t,n){if(!EA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Pc(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function q4(e,t,n){if((t=ke(t))instanceof Jm)return t._internalPath;if(typeof t=="string")return bA(e,t);throw ec("Field path arguments must be of type string or ",e,!1,void 0,n)}const H4=new RegExp("[~\\*/\\[\\]]");function bA(e,t,n){if(t.search(H4)>=0)throw ec(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jm(...t.split("."))._internalPath}catch{throw ec(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ec(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(U.INVALID_ARGUMENT,l+e+u)}function F4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G4 extends SA{data(){return super.data()}}function wA(e,t){return typeof t=="string"?bA(e,t):t instanceof Jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class Y4 extends rg{}function K4(e,t,...n){let i=[];t instanceof rg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof ag).length,l=s.filter(u=>u instanceof sg).length;if(a>1||a>0&&l>0)throw new F(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class sg extends Y4{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new sg(t,n,i)}_apply(t){const n=this._parse(t);return RA(t._query,n),new na(t.firestore,t.converter,od(t._query,n))}_parse(t){const n=vA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){iv(g,d);const O=[];for(const M of g)O.push(nv(u,s,M));m={arrayValue:{values:O}}}else m=nv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||iv(g,d),m=j4(l,a,g,d==="in"||d==="not-in");return Yt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ag extends rg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ag(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:dn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)RA(a,u),a=od(a,u)}(t._query,n),new na(t.firestore,t.converter,od(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nv(e,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new F(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&n.indexOf("/")!==-1)throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ct.fromString(n));if(!Q.isDocumentKey(i))throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return m_(e,new Q(i))}if(n instanceof Me)return m_(e,n._key);throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(n)}.`)}function iv(e,t){if(!Array.isArray(e)||e.length===0)throw new F(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class X4{convertValue(t,n="none"){switch(Qi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Nr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[Qu].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ft(a.doubleValue));return new eg(s)}convertGeoPoint(t){return new tg(Ft(t.latitude),Ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ic(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const n=Fi(t);return new Zt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ct.fromString(t);pt(G1(i),9688,{name:t});const r=new Eo(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class IA extends SA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(wA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class su extends IA{data(t={}){return super.data(t)}}class Z4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Va(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new su(this._firestore,this._userDataWriter,i.key,i,new Va(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:W4(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}class CA extends X4{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function rv(e,t,n){e=pr(e,Me);const i=pr(e.firestore,wo),r=$4(e.converter,t);return DA(i,[B4(vA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,wn.none())])}function J4(e){return DA(pr(e.firestore,wo),[new Pm(e._key,wn.none())])}function tO(e,...t){var n,i,r;e=ke(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||ev(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ev(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Me)h=pr(e.firestore,wo),d=Vm(e._key.path),u={next:g=>{t[a]&&t[a](eO(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=pr(e,na);h=pr(g.firestore,wo),d=g._query;const m=new CA(h);u={next:_=>{t[a]&&t[a](new Z4(h,m,g,_))},error:t[a+1],complete:t[a+2]},Q4(e._query)}return function(m,_,O,M){const V=new D4(M),b=new c4(_,V,O);return m.asyncQueue.enqueueAndForget(async()=>a4(await G_(m),b)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>o4(await G_(m),b))}}(pA(h),d,l,u)}function DA(e,t){return function(i,r){const s=new gr;return i.asyncQueue.enqueueAndForget(async()=>T4(await x4(i),r,s)),s.promise}(pA(e),t)}function eO(e,t,n){const i=n.docs.get(t._key),r=new CA(e);return new IA(e,r,t._key,i,new Va(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){Ws=r})($s),Vs(new Ar("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new wo(new jC(i.getProvider("auth-internal")),new FC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ki(n_,i_,t),ki(n_,i_,"esm2017")})();const tt={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},NA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},sv={normal:"https://archives.bulbagarden.net/media/upload/c/cb/Normal_icon_LA.png?20220213053429",fire:"https://archives.bulbagarden.net/media/upload/4/48/Fire_icon_LA.png?20220213053749",water:"https://archives.bulbagarden.net/media/upload/5/5e/Water_icon_LA.png?20220213053800",electric:"https://archives.bulbagarden.net/media/upload/7/75/Electric_icon_LA.png?20220213053826",grass:"https://archives.bulbagarden.net/media/upload/1/1b/Grass_icon_LA.png?20220213053815",ice:"https://archives.bulbagarden.net/media/upload/7/70/Ice_icon_LA.png?20220213053853",fighting:"https://archives.bulbagarden.net/media/upload/6/68/Fighting_icon_LA.png?20220213053440",poison:"https://archives.bulbagarden.net/media/upload/b/b4/Poison_icon_LA.png?20220213053545",ground:"https://archives.bulbagarden.net/media/upload/4/45/Ground_icon_LA.png?20220213053610",flying:"https://archives.bulbagarden.net/media/upload/d/de/Flying_icon_LA.png?20220213053533",psychic:"https://archives.bulbagarden.net/media/upload/4/45/Psychic_icon_LA.png?20220213053708",bug:"https://archives.bulbagarden.net/media/upload/2/26/Bug_icon_LA.png?20220213053628",rock:"https://archives.bulbagarden.net/media/upload/8/85/Rock_icon_LA.png?20220213053620",ghost:"https://archives.bulbagarden.net/media/upload/b/b5/Ghost_icon_LA.png?20220213053637",dragon:"https://archives.bulbagarden.net/media/upload/2/28/Dragon_icon_LA.png?20220213053915",dark:"https://archives.bulbagarden.net/media/upload/7/7f/Dark_icon_LA.png?20220213053921",steel:"https://archives.bulbagarden.net/media/upload/f/f9/Steel_icon_LA.png?20220213053740",fairy:"https://archives.bulbagarden.net/media/upload/b/b1/Fairy_icon_LA.png?20220213053936"},$h={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},nO=()=>N.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),iO=()=>N.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),av=({className:e="w-6 h-6",isFavorite:t})=>N.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":tt.textMuted},children:[" ",N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),rO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",N.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),sO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),aO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",N.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),oO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),lO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),uO=()=>N.jsx("svg",{className:"w-6 h-6 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),cO=()=>N.jsx("svg",{className:"w-6 h-6 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),ov=({type:e})=>N.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:NA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),hO={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Ra="pokemonTeamBuilder";function fO(){const[e,t]=ft.useState(null),[n,i]=ft.useState(null),[r,s]=ft.useState(!1),[a,l]=ft.useState([]),[u,h]=ft.useState([]),[d,g]=ft.useState({}),[m,_]=ft.useState([]),[O,M]=ft.useState("all"),[V,b]=ft.useState(new Set),[v,w]=ft.useState(""),[D,z]=ft.useState([]),[j,T]=ft.useState([]),[y,E]=ft.useState(""),[A,R]=ft.useState(null),[I,S]=ft.useState({strengths:new Set,weaknesses:{}}),[be,Ke]=ft.useState(!0),[q,Z]=ft.useState([]),[K,gt]=ft.useState("builder"),[Rt,an]=ft.useState(!1),[te,Ut]=ft.useState(""),Nt=ft.useCallback((L,G="info")=>{const ct=Date.now();Z(Ot=>[...Ot,{id:ct,message:L,type:G}]),setTimeout(()=>Z(Ot=>Ot.filter(Lt=>Lt.id!==ct)),3e3)},[]);ft.useEffect(()=>{try{const L=gE(hO);i(k4(L)),II(t_(L),async G=>{G?t(G.uid):await EI(t_(L)),s(!0)})}catch{Nt("Failed to connect to services.","error")}},[]),ft.useEffect(()=>{(async()=>{Ke(!0);try{const ct=await(await fetch("https://pokeapi.co/api/v2/generation")).json();_(ct.results);const ae=(await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")).json()).results.map(St=>fetch(St.url).then(Ce=>Ce.json())),Et=(await Promise.all(ae)).map(St=>{var Ce;return{id:St.id,name:St.name,sprite:((Ce=St.sprites)==null?void 0:Ce.front_default)||"https://via.placeholder.com/96",types:St.types.map(Zi=>Zi.type.name)}});l(Et),h(Et),g(Et.reduce((St,Ce)=>({...St,[Ce.id]:Ce}),{}))}catch{Nt("Failed to load Pokmon data.","error")}finally{Ke(!1)}})()},[]),ft.useEffect(()=>{(async()=>{if(a.length===0&&!be)return;let G=[...a];try{if(O!=="all"){const Ot=await(await fetch(`https://pokeapi.co/api/v2/generation/${O}`)).json(),Lt=new Set(Ot.pokemon_species.map(ae=>ae.name));G=G.filter(ae=>Lt.has(ae.name))}V.size>0&&(G=G.filter(ct=>ct.types.some(Ot=>V.has(Ot)))),v&&(G=G.filter(ct=>ct.name.toLowerCase().includes(v.toLowerCase())))}catch{Nt("Failed to apply filters.","error")}h(G)})()},[O,V,v,a,be]),ft.useEffect(()=>{if(!r||!n||!e)return;const L=K4(Z_(n,`artifacts/${Ra}/users/${e}/teams`)),G=tO(L,ct=>{const Ot=ct.docs.map(Lt=>({id:Lt.id,...Lt.data()}));T(Ot)},()=>Nt("Could not load saved teams.","error"));return()=>G()},[r,n,e]),ft.useEffect(()=>{const L=D.map(Lt=>d[Lt.id]).filter(Boolean);if(L.length===0){S({strengths:new Set,weaknesses:{}});return}const G=Object.keys($h),ct={},Ot=new Set;L.flatMap(Lt=>Lt.types).forEach(Lt=>{var ae;Object.entries(((ae=$h[Lt])==null?void 0:ae.damageDealt)||{}).forEach(([oe,Et])=>{Et>1&&Ot.add(oe)})}),G.forEach(Lt=>{const ae=L.filter(oe=>oe.types.reduce((St,Ce)=>{var Zi;return St*(((Zi=$h[Ce])==null?void 0:Zi.damageTaken[Lt])??1)},1)>1).length;ae>0&&(ct[Lt]=ae)}),S({strengths:Ot,weaknesses:ct})},[D,d]);const Ue=ft.useMemo(()=>{const L=new Set(D.map(G=>G.id));return u.filter(G=>!L.has(G.id))},[u,D]),Wo=ft.useMemo(()=>j.filter(L=>L.isFavorite).sort((L,G)=>new Date(G.createdAt)-new Date(L.createdAt)).slice(0,5),[j]),Vr=ft.useMemo(()=>{let L=[...j].sort((G,ct)=>ct.isFavorite-G.isFavorite||new Date(ct.createdAt)-new Date(G.createdAt));return te&&(L=L.filter(G=>G.name.toLowerCase().includes(te.toLowerCase()))),L},[j,te]),Lc=L=>{if(D.length>=6)return Nt("Your team is full (6 Pokmon)!","warning");if(D.find(G=>G.id===L.id))return Nt("This Pokmon is already on your team.","warning");z([...D,L])},zc=L=>z(D.filter(G=>G.id!==L)),ni=()=>{z([]),E(""),R(null)},kr=async()=>{var ct;if(!n||!e)return Nt("Database connection not ready.","error");if(D.length===0)return Nt("Your team is empty!","warning");if(!y.trim())return Nt("Please name your team.","warning");const L=A||Pl(Z_(n,`artifacts/${Ra}/users/${e}/teams`)).id,G={name:y,pokemons:D.map(Ot=>({id:Ot.id,name:Ot.name,sprite:Ot.sprite})),isFavorite:((ct=j.find(Ot=>Ot.id===A))==null?void 0:ct.isFavorite)||!1,createdAt:new Date().toISOString()};try{await rv(Pl(n,`artifacts/${Ra}/users/${e}/teams`,L),G),Nt(`Team "${y}" saved!`,"success"),ni()}catch{Nt("Error saving team.","error")}},Pr=L=>{const G=L.pokemons.map(ct=>d[ct.id]).filter(Boolean);z(G),E(L.name),R(L.id),gt("builder"),an(!1),window.scrollTo({top:0,behavior:"smooth"})},ia=async L=>{if(!(!n||!e))try{await J4(Pl(n,`artifacts/${Ra}/users/${e}/teams`,L)),A===L&&ni(),Nt("Team deleted.","info")}catch{Nt("Error deleting team.","error")}},Ur=async L=>{if(!(!n||!e))try{await rv(Pl(n,`artifacts/${Ra}/users/${e}/teams`,L.id),{...L,isFavorite:!L.isFavorite})}catch{Nt("Could not update favorite status.","error")}},ra=L=>{b(G=>{const ct=new Set(G);return ct.has(L)?ct.delete(L):ct.add(L),ct})},Jo=()=>{switch(K){case"allTeams":return N.jsx(jc,{teams:Vr,onEdit:Pr,onDelete:ia,onToggleFavorite:Ur,searchTerm:te,setSearchTerm:Ut});case"builder":default:return N.jsx(Bc,{})}},Bc=()=>N.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[N.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:tt.card},children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:tt.primary},children:"Current Team"}),N.jsx("input",{type:"text",value:y,onChange:L=>E(L.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:tt.cardLight,borderColor:"transparent"}}),N.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[D.map(L=>N.jsxs("div",{className:"text-center relative group",children:[N.jsx("img",{src:L.sprite,alt:L.name,className:"mx-auto h-20 w-20"}),N.jsx("p",{className:"text-xs capitalize truncate",children:L.name}),N.jsx("button",{onClick:()=>zc(L.id),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-sm",children:"X"})]},L.id)),Array.from({length:6-D.length}).map((L,G)=>N.jsx("div",{className:"border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:tt.cardLight,backgroundColor:"transparent"},children:N.jsx("span",{className:"text-3xl font-bold",style:{color:tt.textMuted},children:"?"})},G))]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[N.jsxs("button",{onClick:kr,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:tt.primary,color:tt.background},children:[" ",N.jsx(sO,{})," ",A?"Update":"Save"," Team "]}),N.jsx("button",{onClick:ni,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg",children:"Clear"})]})]}),D.length>0&&N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:tt.card},children:[N.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),N.jsx("div",{className:"flex flex-wrap gap-1",children:I.strengths.size>0?Array.from(I.strengths).sort().map(L=>N.jsx(ov,{type:L},L)):N.jsx("p",{className:"text-sm",style:{color:tt.textMuted},children:"No type advantages found."})})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),N.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(I.weaknesses).length>0?Object.entries(I.weaknesses).sort(([,L],[,G])=>G-L).map(([L,G])=>N.jsxs("div",{className:"flex items-center",children:[N.jsx(ov,{},L),N.jsxs("span",{className:"text-xs text-red-300",children:["(",G,"x)"]})]},L)):N.jsx("p",{className:"text-sm",style:{color:tt.textMuted},children:"Your team has no common weaknesses!"})})]})]}),N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:tt.card},children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Favorite Teams"}),N.jsx("button",{onClick:()=>gt("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),N.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:Wo.length>0?Wo.map(L=>N.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:tt.cardLight},children:[N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"font-bold text-lg truncate",children:L.name}),N.jsx("div",{className:"flex mt-1",children:L.pokemons.map(G=>N.jsx("img",{src:G.sprite,alt:G.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:tt.cardLight,backgroundColor:tt.card}},G.id))})]}),N.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[N.jsx("button",{onClick:()=>Ur(L),title:"Favorite",children:N.jsx(av,{isFavorite:L.isFavorite})}),N.jsx("button",{onClick:()=>Pr(L),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},L.id)):N.jsx("p",{className:"text-center py-4",style:{color:tt.textMuted},children:"No favorite teams yet."})})]})]}),N.jsx("div",{className:"lg:col-span-6",children:N.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:tt.card},children:[N.jsxs("div",{className:"mb-4",children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokmon!"}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[N.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:v,onChange:L=>w(L.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:tt.cardLight,borderColor:"transparent"}}),N.jsxs("select",{value:O,onChange:L=>M(L.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:tt.cardLight,borderColor:"transparent"},children:[N.jsx("option",{value:"all",children:"All Generations"}),m.map(L=>N.jsx("option",{value:L.name,className:"capitalize",children:L.name.replace("-"," ")},L.name))]})]})]}),N.jsx("div",{className:"flex-grow h-[60vh] overflow-y-auto custom-scrollbar",children:be?N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:tt.primary}})}):N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:Ue.length>0?Ue.map(L=>N.jsxs("div",{className:"rounded-lg p-3 text-center cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all group relative",style:{backgroundColor:tt.cardLight},onClick:()=>Lc(L),children:[N.jsx("img",{src:L.sprite,alt:L.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),N.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:L.name}),N.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:L.types.map(G=>N.jsx("img",{src:sv[G],alt:G,className:"w-5 h-5"},G))}),N.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:N.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1",children:N.jsx(aO,{})})})]},L.id)):N.jsx("p",{className:"col-span-full text-center py-8",style:{color:tt.textMuted},children:"No Pokmon found with these filters. :("})})})]})}),N.jsx("div",{className:"lg:col-span-3",children:N.jsxs("section",{className:"p-6 rounded-xl shadow-lg sticky top-8",style:{backgroundColor:tt.card},children:[N.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),N.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(NA).map(L=>N.jsx("button",{onClick:()=>ra(L),className:`p-2 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${V.has(L)?"ring-2 ring-white":""}`,title:L,children:N.jsx("img",{src:sv[L],alt:L,className:"w-full h-full object-contain"})},L))})]})})]}),jc=({teams:L,onEdit:G,onDelete:ct,onToggleFavorite:Ot,searchTerm:Lt,setSearchTerm:ae})=>N.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:tt.card},children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),N.jsx("input",{type:"text",placeholder:"Search teams by name...",value:Lt,onChange:oe=>ae(oe.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:tt.cardLight,borderColor:"transparent"}}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:L.length>0?L.map(oe=>N.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:tt.cardLight},children:[N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsx("p",{className:"font-bold text-xl truncate mb-2",children:oe.name}),N.jsx("button",{onClick:()=>Ot(oe),title:"Favorite",children:N.jsx(av,{isFavorite:oe.isFavorite})})]}),N.jsx("div",{className:"flex my-2",children:oe.pokemons.map(Et=>N.jsx("img",{src:Et.sprite,alt:Et.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:tt.cardLight,backgroundColor:tt.card}},Et.id))}),N.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[N.jsx("button",{onClick:()=>G(oe),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),N.jsx("button",{onClick:()=>ct(oe.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:N.jsx(rO,{})})]})]},oe.id)):N.jsx("p",{className:"col-span-full text-center py-8",style:{color:tt.textMuted},children:"No teams found."})})]});return N.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:tt.background},children:[N.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:q.map(L=>N.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${L.type==="success"?"bg-green-600":L.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:L.message},L.id))}),N.jsxs("div",{className:"flex",children:[N.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 w-56 transition-transform transform ${Rt?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:tt.card},children:N.jsxs("nav",{className:"p-5",children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-6",style:{fontFamily:"'Press Start 2P'",color:tt.primary},children:"Menu"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsxs("button",{onClick:()=>{gt("builder"),an(!1)},className:`w-full text-left p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${K==="builder"?"bg-purple-500/30":""}`,children:[N.jsx(uO,{})," Team Builder"]})}),N.jsx("li",{children:N.jsxs("button",{onClick:()=>{gt("allTeams"),an(!1)},className:`w-full text-left p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${K==="allTeams"?"bg-purple-500/30":""}`,children:[N.jsx(cO,{})," All Teams"]})})]})]})}),N.jsxs("div",{className:"flex-1",children:[N.jsxs("header",{className:"text-center py-4 px-4",children:[N.jsx("button",{onClick:()=>an(!Rt),className:"lg:hidden absolute top-5 left-5 p-2 rounded-md",style:{backgroundColor:tt.cardLight},children:Rt?N.jsx(lO,{}):N.jsx(oO,{})}),N.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold tracking-wider",style:{fontFamily:"'Press Start 2P', cursive",color:tt.primary},children:"Pokmon Team Builder"}),N.jsx("p",{className:"text-sm sm:text-base md:text-lg mt-2",style:{fontFamily:"'Press Start 2P', cursive",color:tt.primary},children:"By: Enzo Esmeraldo"})]}),N.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Jo()}),N.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:tt.cardLight},children:[N.jsx("p",{className:"text-sm",style:{color:tt.textMuted},children:"Developed by Enzo Esmeraldo"}),N.jsxs("p",{className:"text-xs mt-2",style:{color:tt.textMuted},children:["Using the ",N.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]}),N.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[N.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:tt.textMuted},children:N.jsx(nO,{})}),N.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:tt.textMuted},children:N.jsx(iO,{})})]})]})]})]}),N.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
          .custom-scrollbar::-webkit-scrollbar { width: 8px; }
          .custom-scrollbar::-webkit-scrollbar-track { background: ${tt.card}; }
          .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${tt.primary}; border-radius: 20px; border: 3px solid ${tt.card}; }
          @keyframes fade-in-out { 0% { opacity: 0; transform: translateY(-10px); } 10% { opacity: 1; transform: translateY(0); } 90% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-10px); } }
          .animate-fade-in-out { animation: fade-in-out 3s forwards; }
        `})]})}tw.createRoot(document.getElementById("root")).render(N.jsx(Tb.StrictMode,{children:N.jsx(fO,{})}));
