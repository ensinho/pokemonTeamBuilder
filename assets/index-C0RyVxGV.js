(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rv={exports:{}},Zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=Symbol.for("react.transitional.element"),tS=Symbol.for("react.fragment");function sv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:J1,type:e,key:i,ref:t!==void 0?t:null,props:n}}Zu.Fragment=tS;Zu.jsx=sv;Zu.jsxs=sv;rv.exports=Zu;var z=rv.exports,av={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.transitional.element"),eS=Symbol.for("react.portal"),nS=Symbol.for("react.fragment"),iS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),sS=Symbol.for("react.consumer"),aS=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),uS=Symbol.for("react.memo"),ov=Symbol.for("react.lazy"),Jg=Symbol.iterator;function cS(e){return e===null||typeof e!="object"?null:(e=Jg&&e[Jg]||e["@@iterator"],typeof e=="function"?e:null)}var lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uv=Object.assign,cv={};function Us(e,t,n){this.props=e,this.context=t,this.refs=cv,this.updater=n||lv}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hv(){}hv.prototype=Us.prototype;function dd(e,t,n){this.props=e,this.context=t,this.refs=cv,this.updater=n||lv}var md=dd.prototype=new hv;md.constructor=dd;uv(md,Us.prototype);md.isPureReactComponent=!0;var tp=Array.isArray,It={H:null,A:null,T:null,S:null,V:null},fv=Object.prototype.hasOwnProperty;function gd(e,t,n,i,r,s){return n=s.ref,{$$typeof:fd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function hS(e,t){return gd(e.type,t,void 0,void 0,void 0,e.props)}function pd(e){return typeof e=="object"&&e!==null&&e.$$typeof===fd}function fS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ep=/\/+/g;function Wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fS(""+e.key):t.toString(36)}function np(){}function dS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(np,np):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function zr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fd:case eS:a=!0;break;case ov:return a=e._init,zr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Wc(e,0):i,tp(r)?(n="",a!=null&&(n=a.replace(ep,"$&/")+"/"),zr(r,t,n,"",function(h){return h})):r!=null&&(pd(r)&&(r=hS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ep,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(tp(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Wc(i,u),a+=zr(i,t,n,s,r);else if(u=cS(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Wc(i,u++),a+=zr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return zr(dS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function cl(e,t,n){if(e==null)return e;var i=[],r=0;return zr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function mS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ip=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gS(){}J.Children={map:cl,forEach:function(e,t,n){cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!pd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Us;J.Fragment=nS;J.Profiler=rS;J.PureComponent=dd;J.StrictMode=iS;J.Suspense=lS;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return It.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=uv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!fv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return gd(e.type,r,void 0,void 0,s,i)};J.createContext=function(e){return e={$$typeof:aS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:sS,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)fv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return gd(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:oS,render:e}};J.isValidElement=pd;J.lazy=function(e){return{$$typeof:ov,_payload:{_status:-1,_result:e},_init:mS}};J.memo=function(e,t){return{$$typeof:uS,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=It.T,n={};It.T=n;try{var i=e(),r=It.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(gS,ip)}catch(s){ip(s)}finally{It.T=t}};J.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()};J.use=function(e){return It.H.use(e)};J.useActionState=function(e,t,n){return It.H.useActionState(e,t,n)};J.useCallback=function(e,t){return It.H.useCallback(e,t)};J.useContext=function(e){return It.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return It.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=It.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return It.H.useId()};J.useImperativeHandle=function(e,t,n){return It.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return It.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return It.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return It.H.useMemo(e,t)};J.useOptimistic=function(e,t){return It.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return It.H.useReducer(e,t,n)};J.useRef=function(e){return It.H.useRef(e)};J.useState=function(e){return It.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return It.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return It.H.useTransition()};J.version="19.1.0";av.exports=J;var Et=av.exports;const pS=iv(Et);var dv={exports:{}},Wu={},mv={exports:{}},gv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,$){var G=q.length;q.push($);t:for(;0<G;){var _t=G-1>>>1,Dt=q[_t];if(0<r(Dt,$))q[_t]=$,q[G]=Dt,G=_t;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],G=q.pop();if(G!==$){q[0]=G;t:for(var _t=0,Dt=q.length,mn=Dt>>>1;_t<mn;){var _e=2*(_t+1)-1,Vt=q[_e],sn=_e+1,Ge=q[sn];if(0>r(Vt,G))sn<Dt&&0>r(Ge,Vt)?(q[_t]=Ge,q[sn]=G,_t=sn):(q[_t]=Vt,q[_e]=G,_t=_e);else if(sn<Dt&&0>r(Ge,G))q[_t]=Ge,q[sn]=G,_t=sn;else break t}}return $}function r(q,$){var G=q.sortIndex-$.sortIndex;return G!==0?G:q.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,N=!1,M=!1,V=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var $=n(h);$!==null;){if($.callback===null)i(h);else if($.startTime<=q)i(h),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(h)}}function L(q){if(M=!1,D(q),!N)if(n(u)!==null)N=!0,j||(j=!0,I());else{var $=n(h);$!==null&&rn(L,$.startTime-q)}}var j=!1,E=-1,y=5,T=-1;function S(){return V?!0:!(e.unstable_now()-T<y)}function R(){if(V=!1,j){var q=e.unstable_now();T=q;var $=!0;try{t:{N=!1,M&&(M=!1,v(E),E=-1),_=!0;var G=m;try{e:{for(D(q),g=n(u);g!==null&&!(g.expirationTime>q&&S());){var _t=g.callback;if(typeof _t=="function"){g.callback=null,m=g.priorityLevel;var Dt=_t(g.expirationTime<=q);if(q=e.unstable_now(),typeof Dt=="function"){g.callback=Dt,D(q),$=!0;break e}g===n(u)&&i(u),D(q)}else i(u);g=n(u)}if(g!==null)$=!0;else{var mn=n(h);mn!==null&&rn(L,mn.startTime-q),$=!1}}break t}finally{g=null,m=G,_=!1}$=void 0}}finally{$?I():j=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,le=b.port2;b.port1.onmessage=R,I=function(){le.postMessage(null)}}else I=function(){A(R,0)};function rn(q,$){E=A(function(){q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return q()}finally{m=G}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=m;m=q;try{return $()}finally{m=G}},e.unstable_scheduleCallback=function(q,$,G){var _t=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?_t+G:_t):G=_t,q){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=G+Dt,q={id:d++,callback:$,priorityLevel:q,startTime:G,expirationTime:Dt,sortIndex:-1},G>_t?(q.sortIndex=G,t(h,q),n(u)===null&&q===n(h)&&(M?(v(E),E=-1):M=!0,rn(L,G-_t))):(q.sortIndex=Dt,t(u,q),N||_||(N=!0,j||(j=!0,I()))),q},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(q){var $=m;return function(){var G=m;m=$;try{return q.apply(this,arguments)}finally{m=G}}}})(gv);mv.exports=gv;var yS=mv.exports,pv={exports:{}},we={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=Et;function yv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ai(){}var be={d:{f:ai,r:function(){throw Error(yv(522))},D:ai,C:ai,L:ai,m:ai,X:ai,S:ai,M:ai},p:0,findDOMNode:null},vS=Symbol.for("react.portal");function ES(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ca=_S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ju(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}we.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be;we.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(yv(299));return ES(e,t,null,n)};we.flushSync=function(e){var t=Ca.T,n=be.p;try{if(Ca.T=null,be.p=2,e)return e()}finally{Ca.T=t,be.p=n,be.d.f()}};we.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,be.d.C(e,t))};we.prefetchDNS=function(e){typeof e=="string"&&be.d.D(e)};we.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ju(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?be.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&be.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};we.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ju(t.as,t.crossOrigin);be.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&be.d.M(e)};we.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ju(n,t.crossOrigin);be.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};we.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ju(t.as,t.crossOrigin);be.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else be.d.m(e)};we.requestFormReset=function(e){be.d.r(e)};we.unstable_batchedUpdates=function(e,t){return e(t)};we.useFormState=function(e,t,n){return Ca.H.useFormState(e,t,n)};we.useFormStatus=function(){return Ca.H.useHostTransitionStatus()};we.version="19.1.0";function _v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_v)}catch(e){console.error(e)}}_v(),pv.exports=we;var TS=pv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=yS,vv=Et,AS=TS;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rp(e){if(vo(e)!==e)throw Error(k(188))}function SS(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return rp(r),e;if(s===i)return rp(r),t;s=s.sibling}throw Error(k(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Av(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Av(e),t!==null)return t;e=e.sibling}return null}var wt=Object.assign,bS=Symbol.for("react.element"),hl=Symbol.for("react.transitional.element"),Ea=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),bv=Symbol.for("react.consumer"),Pn=Symbol.for("react.context"),yd=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),_d=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Kh=Symbol.for("react.activity"),RS=Symbol.for("react.memo_cache_sentinel"),sp=Symbol.iterator;function ha(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var IS=Symbol.for("react.client.reference");function Xh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===IS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case Gh:return"Profiler";case Sv:return"StrictMode";case Qh:return"Suspense";case Yh:return"SuspenseList";case Kh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ea:return"Portal";case Pn:return(e.displayName||"Context")+".Provider";case bv:return(e._context.displayName||"Context")+".Consumer";case yd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _d:return t=e.displayName||null,t!==null?t:Xh(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Xh(e(t))}catch{}}return null}var Ta=Array.isArray,K=vv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=AS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lr={pending:!1,data:null,method:null,action:null},$h=[],Kr=-1;function Cn(e){return{current:e}}function te(e){0>Kr||(e.current=$h[Kr],$h[Kr]=null,Kr--)}function Ct(e,t){Kr++,$h[Kr]=e.current,e.current=t}var vn=Cn(null),Xa=Cn(null),wi=Cn(null),eu=Cn(null);function nu(e,t){switch(Ct(wi,t),Ct(Xa,e),Ct(vn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cy(t),e=jE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(vn),Ct(vn,e)}function _s(){te(vn),te(Xa),te(wi)}function Zh(e){e.memoizedState!==null&&Ct(eu,e);var t=vn.current,n=jE(t,e.type);t!==n&&(Ct(Xa,e),Ct(vn,n))}function iu(e){Xa.current===e&&(te(vn),te(Xa)),eu.current===e&&(te(eu),so._currentValue=lr)}var Wh=Object.prototype.hasOwnProperty,vd=Xt.unstable_scheduleCallback,Jc=Xt.unstable_cancelCallback,CS=Xt.unstable_shouldYield,DS=Xt.unstable_requestPaint,En=Xt.unstable_now,NS=Xt.unstable_getCurrentPriorityLevel,wv=Xt.unstable_ImmediatePriority,Rv=Xt.unstable_UserBlockingPriority,ru=Xt.unstable_NormalPriority,OS=Xt.unstable_LowPriority,Iv=Xt.unstable_IdlePriority,VS=Xt.log,MS=Xt.unstable_setDisableYieldValue,Eo=null,Be=null;function Ei(e){if(typeof VS=="function"&&MS(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Eo,e)}catch{}}var je=Math.clz32?Math.clz32:PS,xS=Math.log,kS=Math.LN2;function PS(e){return e>>>=0,e===0?32:31-(xS(e)/kS|0)|0}var fl=256,dl=4194304;function ir(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=ir(i):(a&=l,a!==0?r=ir(a):n||(n=l&~e,n!==0&&(r=ir(n))))):(l=i&~s,l!==0?r=ir(l):a!==0?r=ir(a):n||(n=i&~e,n!==0&&(r=ir(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function To(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function US(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(){var e=fl;return fl<<=1,!(fl&4194048)&&(fl=256),e}function Dv(){var e=dl;return dl<<=1,!(dl&62914560)&&(dl=4194304),e}function th(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ao(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function LS(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-je(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Nv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Nv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-je(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Ov(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-je(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ed(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Td(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Vv(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:ZE(e.type))}function zS(e,t){var n=ft.p;try{return ft.p=e,t()}finally{ft.p=n}}var $i=Math.random().toString(36).slice(2),ge="__reactFiber$"+$i,Oe="__reactProps$"+$i,Ls="__reactContainer$"+$i,Jh="__reactEvents$"+$i,BS="__reactListeners$"+$i,jS="__reactHandles$"+$i,ap="__reactResources$"+$i,So="__reactMarker$"+$i;function Ad(e){delete e[ge],delete e[Oe],delete e[Jh],delete e[BS],delete e[jS]}function Xr(e){var t=e[ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ls]||n[ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dy(e);e!==null;){if(n=e[ge])return n;e=dy(e)}return t}e=n,n=e.parentNode}return null}function zs(e){if(e=e[ge]||e[Ls]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Aa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function as(e){var t=e[ap];return t||(t=e[ap]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Wt(e){e[So]=!0}var Mv=new Set,xv={};function wr(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(xv[e]=t,e=0;e<t.length;e++)Mv.add(t[e])}var qS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),op={},lp={};function HS(e){return Wh.call(lp,e)?!0:Wh.call(op,e)?!1:qS.test(e)?lp[e]=!0:(op[e]=!0,!1)}function Vl(e,t,n){if(HS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ml(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Vn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var eh,up;function Br(e){if(eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eh=t&&t[1]||"",up=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eh+e+up}var nh=!1;function ih(e,t){if(!e||nh)return"";nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{nh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Br(n):""}function FS(e){switch(e.tag){case 26:case 27:case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return ih(e.type,!1);case 11:return ih(e.type.render,!1);case 1:return ih(e.type,!0);case 31:return Br("Activity");default:return""}}function cp(e){try{var t="";do t+=FS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GS(e){var t=kv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){e._valueTracker||(e._valueTracker=GS(e))}function Pv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=kv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var QS=/[\n"\\]/g;function Ze(e){return e.replace(QS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ke(t)):e.value!==""+Ke(t)&&(e.value=""+Ke(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ef(e,a,Ke(t)):n!=null?ef(e,a,Ke(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ke(l):e.removeAttribute("name")}function Uv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Ke(n):"",t=t!=null?""+Ke(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function ef(e,t,n){t==="number"&&au(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function os(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ke(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Lv(e,t,n){if(t!=null&&(t=""+Ke(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ke(n):""}function zv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(k(92));if(Ta(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ke(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var YS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||YS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Bv(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&hp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&hp(e,s,t[s])}function Sd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(e){return XS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var nf=null;function bd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $r=null,ls=null;function fp(e){var t=zs(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;t:switch(e=t.stateNode,t.type){case"input":if(tf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Oe]||null;if(!r)throw Error(k(90));tf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Pv(i)}break t;case"textarea":Lv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&os(e,!!n.multiple,t,!1)}}}var rh=!1;function jv(e,t,n){if(rh)return e(t,n);rh=!0;try{var i=e(t);return i}finally{if(rh=!1,($r!==null||ls!==null)&&(cc(),$r&&(t=$r,e=ls,ls=$r=null,fp(t),e)))for(t=0;t<e.length;t++)fp(e[t])}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Oe]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=!1;if(Gn)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){rf=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{rf=!1}var Ti=null,wd=null,xl=null;function qv(){if(xl)return xl;var e,t=wd,n=t.length,i,r="value"in Ti?Ti.value:Ti.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return xl=r.slice(e,1<i?1-i:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function dp(){return!1}function Me(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gl:dp,this.isPropagationStopped=dp,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=Me(Rr),bo=wt({},Rr,{view:0,detail:0}),$S=Me(bo),sh,ah,da,nc=wt({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(sh=e.screenX-da.screenX,ah=e.screenY-da.screenY):ah=sh=0,da=e),sh)},movementY:function(e){return"movementY"in e?e.movementY:ah}}),mp=Me(nc),ZS=wt({},nc,{dataTransfer:0}),WS=Me(ZS),JS=wt({},bo,{relatedTarget:0}),oh=Me(JS),tb=wt({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),eb=Me(tb),nb=wt({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ib=Me(nb),rb=wt({},Rr,{data:0}),gp=Me(rb),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ob[e])?!!t[e]:!1}function Rd(){return lb}var ub=wt({},bo,{key:function(e){if(e.key){var t=sb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ab[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cb=Me(ub),hb=wt({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=Me(hb),fb=wt({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),db=Me(fb),mb=wt({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gb=Me(mb),pb=wt({},nc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yb=Me(pb),_b=wt({},Rr,{newState:0,oldState:0}),vb=Me(_b),Eb=[9,13,27,32],Id=Gn&&"CompositionEvent"in window,Da=null;Gn&&"documentMode"in document&&(Da=document.documentMode);var Tb=Gn&&"TextEvent"in window&&!Da,Hv=Gn&&(!Id||Da&&8<Da&&11>=Da),yp=" ",_p=!1;function Fv(e,t){switch(e){case"keyup":return Eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function Ab(e,t){switch(e){case"compositionend":return Gv(t);case"keypress":return t.which!==32?null:(_p=!0,yp);case"textInput":return e=t.data,e===yp&&_p?null:e;default:return null}}function Sb(e,t){if(Zr)return e==="compositionend"||!Id&&Fv(e,t)?(e=qv(),xl=wd=Ti=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hv&&t.locale!=="ko"?null:t.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bb[e.type]:t==="textarea"}function Qv(e,t,n,i){$r?ls?ls.push(i):ls=[i]:$r=i,t=bu(t,"onChange"),0<t.length&&(n=new ec("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Na=null,Za=null;function wb(e){LE(e,0)}function ic(e){var t=Aa(e);if(Pv(t))return e}function Ep(e,t){if(e==="change")return t}var Yv=!1;if(Gn){var lh;if(Gn){var uh="oninput"in document;if(!uh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),uh=typeof Tp.oninput=="function"}lh=uh}else lh=!1;Yv=lh&&(!document.documentMode||9<document.documentMode)}function Ap(){Na&&(Na.detachEvent("onpropertychange",Kv),Za=Na=null)}function Kv(e){if(e.propertyName==="value"&&ic(Za)){var t=[];Qv(t,Za,e,bd(e)),jv(wb,t)}}function Rb(e,t,n){e==="focusin"?(Ap(),Na=t,Za=n,Na.attachEvent("onpropertychange",Kv)):e==="focusout"&&Ap()}function Ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(Za)}function Cb(e,t){if(e==="click")return ic(t)}function Db(e,t){if(e==="input"||e==="change")return ic(t)}function Nb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fe=typeof Object.is=="function"?Object.is:Nb;function Wa(e,t){if(Fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Wh.call(t,r)||!Fe(e[r],t[r]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,t){var n=Sp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Sp(n)}}function Xv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $v(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=au(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=au(e.document)}return t}function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ob=Gn&&"documentMode"in document&&11>=document.documentMode,Wr=null,sf=null,Oa=null,af=!1;function wp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||Wr==null||Wr!==au(i)||(i=Wr,"selectionStart"in i&&Cd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oa&&Wa(Oa,i)||(Oa=i,i=bu(sf,"onSelect"),0<i.length&&(t=new ec("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Wr)))}function nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},ch={},Zv={};Gn&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Ir(e){if(ch[e])return ch[e];if(!Jr[e])return e;var t=Jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zv)return ch[e]=t[n];return e}var Wv=Ir("animationend"),Jv=Ir("animationiteration"),t0=Ir("animationstart"),Vb=Ir("transitionrun"),Mb=Ir("transitionstart"),xb=Ir("transitioncancel"),e0=Ir("transitionend"),n0=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function dn(e,t){n0.set(e,t),wr(t,[e])}var Rp=new WeakMap;function We(e,t){if(typeof e=="object"&&e!==null){var n=Rp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:cp(t)},Rp.set(e,t),t)}return{value:e,source:t,stack:cp(t)}}var Ye=[],ts=0,Dd=0;function rc(){for(var e=ts,t=Dd=ts=0;t<e;){var n=Ye[t];Ye[t++]=null;var i=Ye[t];Ye[t++]=null;var r=Ye[t];Ye[t++]=null;var s=Ye[t];if(Ye[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&i0(n,r,s)}}function sc(e,t,n,i){Ye[ts++]=e,Ye[ts++]=t,Ye[ts++]=n,Ye[ts++]=i,Dd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Nd(e,t,n,i){return sc(e,t,n,i),ou(e)}function Bs(e,t){return sc(e,null,null,t),ou(e)}function i0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-je(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function ou(e){if(50<ja)throw ja=0,Cf=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var es={};function kb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,n,i){return new kb(e,t,n,i)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hn(e,t){var n=e.alternate;return n===null?(n=ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function r0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Pl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Od(e)&&(a=1);else if(typeof e=="string")a=Uw(e,n,vn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Kh:return e=ze(31,n,t,r),e.elementType=Kh,e.lanes=s,e;case Yr:return ur(n.children,r,s,t);case Sv:a=8,r|=24;break;case Gh:return e=ze(12,n,t,r|2),e.elementType=Gh,e.lanes=s,e;case Qh:return e=ze(13,n,t,r),e.elementType=Qh,e.lanes=s,e;case Yh:return e=ze(19,n,t,r),e.elementType=Yh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wS:case Pn:a=10;break t;case bv:a=9;break t;case yd:a=11;break t;case _d:a=14;break t;case ci:a=16,i=null;break t}a=29,n=Error(k(130,e===null?"null":typeof e,"")),i=null}return t=ze(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function ur(e,t,n,i){return e=ze(7,e,i,t),e.lanes=n,e}function hh(e,t,n){return e=ze(6,e,null,t),e.lanes=n,e}function fh(e,t,n){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ns=[],is=0,lu=null,uu=0,Xe=[],$e=0,cr=null,Un=1,Ln="";function rr(e,t){ns[is++]=uu,ns[is++]=lu,lu=e,uu=t}function s0(e,t,n){Xe[$e++]=Un,Xe[$e++]=Ln,Xe[$e++]=cr,cr=e;var i=Un;e=Ln;var r=32-je(i)-1;i&=~(1<<r),n+=1;var s=32-je(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Un=1<<32-je(t)+r|n<<r|i,Ln=s+e}else Un=1<<s|n<<r|i,Ln=e}function Vd(e){e.return!==null&&(rr(e,1),s0(e,1,0))}function Md(e){for(;e===lu;)lu=ns[--is],ns[is]=null,uu=ns[--is],ns[is]=null;for(;e===cr;)cr=Xe[--$e],Xe[$e]=null,Ln=Xe[--$e],Xe[$e]=null,Un=Xe[--$e],Xe[$e]=null}var Se=null,xt=null,ht=!1,hr=null,yn=!1,lf=Error(k(519));function yr(e){var t=Error(k(418,""));throw Ja(We(t,e)),lf}function Ip(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ge]=e,t[Oe]=i,n){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(n=0;n<no.length;n++)it(no[n],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),Uv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),su(t);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),zv(t,i.value,i.defaultValue,i.children),su(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||BE(t.textContent,n)?(i.popover!=null&&(it("beforetoggle",t),it("toggle",t)),i.onScroll!=null&&it("scroll",t),i.onScrollEnd!=null&&it("scrollend",t),i.onClick!=null&&(t.onclick=dc),t=!0):t=!1,t||yr(e)}function Cp(e){for(Se=e.return;Se;)switch(Se.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Se=Se.return}}function ma(e){if(e!==Se)return!1;if(!ht)return Cp(e),ht=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||xf(e.type,e.memoizedProps)),n=!n),n&&xt&&yr(e),Cp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){xt=hn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}xt=null}}else t===27?(t=xt,Zi(e.type)?(e=Uf,Uf=null,xt=e):xt=t):xt=Se?hn(e.stateNode.nextSibling):null;return!0}function wo(){xt=Se=null,ht=!1}function Dp(){var e=hr;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),hr=null),e}function Ja(e){hr===null?hr=[e]:hr.push(e)}var uf=Cn(null),Cr=null,zn=null;function fi(e,t,n){Ct(uf,t._currentValue),t._currentValue=n}function Fn(e){e._currentValue=uf.current,te(uf)}function cf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function hf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(k(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),cf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Ro(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(k(387));if(a=a.memoizedProps,a!==null){var l=r.type;Fe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===eu.current){if(a=r.alternate,a===null)throw Error(k(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}r=r.return}e!==null&&hf(t,e,n,i),t.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!Fe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){Cr=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pe(e){return a0(Cr,e)}function pl(e,t){return Cr===null&&_r(e),a0(e,t)}function a0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},zn===null){if(e===null)throw Error(k(308));zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zn=zn.next=t;return n}var Pb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ub=Xt.unstable_scheduleCallback,Lb=Xt.unstable_NormalPriority,Gt={$$typeof:Pn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xd(){return{controller:new Pb,data:new Map,refCount:0}}function Io(e){e.refCount--,e.refCount===0&&Ub(Lb,function(){e.controller.abort()})}var Va=null,ff=0,Ts=0,us=null;function zb(e,t){if(Va===null){var n=Va=[];ff=0,Ts=im(),us={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ff++,t.then(Np,Np),t}function Np(){if(--ff===0&&Va!==null){us!==null&&(us.status="fulfilled");var e=Va;Va=null,Ts=0,us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Op=K.S;K.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&zb(e,t),Op!==null&&Op(e,t)};var fr=Cn(null);function kd(){var e=fr.current;return e!==null?e:At.pooledCache}function Ul(e,t){t===null?Ct(fr,fr.current):Ct(fr,t.pool)}function o0(){var e=kd();return e===null?null:{parent:Gt._currentValue,pool:e}}var Co=Error(k(460)),l0=Error(k(474)),ac=Error(k(542)),df={then:function(){}};function Vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function u0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(yl,yl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xp(e),e;default:if(typeof t.status=="string")t.then(yl,yl);else{if(e=At,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xp(e),e}throw Ma=t,Co}}var Ma=null;function Mp(){if(Ma===null)throw Error(k(459));var e=Ma;return Ma=null,e}function xp(e){if(e===Co||e===ac)throw Error(k(483))}var hi=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,gt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ou(e),i0(e,null,n),t}return sc(e,i,t,n),ou(e)}function xa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ov(e,n)}}function dh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var gf=!1;function ka(){if(gf){var e=us;if(e!==null)throw e}}function Pa(e,t,n,i){gf=!1;var r=e.updateQueue;hi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(lt&m)===m:(i&m)===m){m!==0&&m===Ts&&(gf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var N=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){g=N.call(V,g,m);break t}g=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,m=typeof N=="function"?N.call(V,g,m):N,m==null)break t;g=wt({},g,m);break t;case 2:hi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),ji|=a,e.lanes=a,e.memoizedState=g}}function c0(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function h0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)c0(n[e],t)}var As=Cn(null),hu=Cn(0);function kp(e,t){e=Kn,Ct(hu,e),Ct(As,t),Kn=e|t.baseLanes}function pf(){Ct(hu,Kn),Ct(As,As.current)}function Ud(){Kn=hu.current,te(As),te(hu)}var zi=0,nt=null,yt=null,qt=null,fu=!1,cs=!1,vr=!1,du=0,to=0,hs=null,jb=0;function Ut(){throw Error(k(321))}function Ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fe(e[n],t[n]))return!1;return!0}function zd(e,t,n,i,r,s){return zi=s,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?q0:H0,vr=!1,s=n(i,r),vr=!1,cs&&(s=d0(t,n,i,r)),f0(e),s}function f0(e){K.H=mu;var t=yt!==null&&yt.next!==null;if(zi=0,qt=yt=nt=null,fu=!1,to=0,hs=null,t)throw Error(k(300));e===null||Jt||(e=e.dependencies,e!==null&&cu(e)&&(Jt=!0))}function d0(e,t,n,i){nt=e;var r=0;do{if(cs&&(hs=null),to=0,cs=!1,25<=r)throw Error(k(301));if(r+=1,qt=yt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}K.H=Kb,s=t(n,i)}while(cs);return s}function qb(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?Do(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(nt.flags|=1024),t}function Bd(){var e=du!==0;return du=0,e}function jd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qd(e){if(fu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fu=!1}zi=0,qt=yt=nt=null,cs=!1,to=du=0,hs=null}function Re(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?nt.memoizedState=qt=e:qt=qt.next=e,qt}function Ft(){if(yt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=qt===null?nt.memoizedState:qt.next;if(t!==null)qt=t,yt=e;else{if(e===null)throw nt.alternate===null?Error(k(467)):Error(k(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},qt===null?nt.memoizedState=qt=e:qt=qt.next=e}return qt}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var t=to;return to+=1,hs===null&&(hs=[]),e=u0(hs,e,t),t=nt,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?q0:H0),e}function oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===Pn)return pe(e)}throw Error(k(438,String(e)))}function Fd(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=nt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hd(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=RS;return t.index++,n}function Qn(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Ft();return Gd(t,yt,e)}function Gd(e,t,n){var i=e.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(lt&g)===g:(zi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Ts&&(d=!0);else if((zi&m)===m){h=h.next,m===Ts&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,nt.lanes|=m,ji|=m;g=h.action,vr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,nt.lanes|=g,ji|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Fe(s,e.memoizedState)&&(Jt=!0,d&&(n=us,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function mh(e){var t=Ft(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Fe(s,t.memoizedState)||(Jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function m0(e,t,n){var i=nt,r=Ft(),s=ht;if(s){if(n===void 0)throw Error(k(407));n=n()}else n=t();var a=!Fe((yt||r).memoizedState,n);a&&(r.memoizedState=n,Jt=!0),r=r.queue;var l=y0.bind(null,i,r,e);if(No(2048,8,l,[e]),r.getSnapshot!==t||a||qt!==null&&qt.memoizedState.tag&1){if(i.flags|=2048,Ss(9,lc(),p0.bind(null,i,r,n,t),null),At===null)throw Error(k(349));s||zi&124||g0(i,t,n)}return n}function g0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Hd(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function p0(e,t,n,i){t.value=n,t.getSnapshot=i,_0(t)&&v0(e)}function y0(e,t,n){return n(function(){_0(t)&&v0(e)})}function _0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fe(e,n)}catch{return!0}}function v0(e){var t=Bs(e,2);t!==null&&He(t,e,2)}function yf(e){var t=Re();if(typeof e=="function"){var n=e;if(e=n(),vr){Ei(!0);try{n()}finally{Ei(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t}function E0(e,t,n,i){return e.baseState=n,Gd(e,yt,typeof i=="function"?i:Qn)}function Hb(e,t,n,i,r){if(uc(e))throw Error(k(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};K.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,T0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function T0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=K.T,a={};K.T=a;try{var l=n(r,i),u=K.S;u!==null&&u(a,l),Pp(e,t,l)}catch(h){_f(e,t,h)}finally{K.T=s}}else try{s=n(r,i),Pp(e,t,s)}catch(h){_f(e,t,h)}}function Pp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Up(e,t,i)},function(i){return _f(e,t,i)}):Up(e,t,n)}function Up(e,t,n){t.status="fulfilled",t.value=n,A0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,T0(e,n)))}function _f(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,A0(t),t=t.next;while(t!==i)}e.action=null}function A0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function S0(e,t){return t}function Lp(e,t){if(ht){var n=At.formState;if(n!==null){t:{var i=nt;if(ht){if(xt){e:{for(var r=xt,s=yn;r.nodeType!==8;){if(!s){r=null;break e}if(r=hn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){xt=hn(r.nextSibling),i=r.data==="F!";break t}}yr(i)}i=!1}i&&(t=n[0])}}return n=Re(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:t},n.queue=i,n=z0.bind(null,nt,i),i.dispatch=n,i=yf(!1),s=Xd.bind(null,nt,!1,i.queue),i=Re(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=Hb.bind(null,nt,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function zp(e){var t=Ft();return b0(t,yt,e)}function b0(e,t,n){if(t=Gd(e,t,S0)[0],e=Ll(Qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Do(t)}catch(a){throw a===Co?ac:a}else i=t;t=Ft();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,Ss(9,lc(),Fb.bind(null,r,n),null)),[i,s,e]}function Fb(e,t){e.action=t}function Bp(e){var t=Ft(),n=yt;if(n!==null)return b0(t,n,e);Ft(),t=t.memoizedState,n=Ft();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ss(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Hd(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function lc(){return{destroy:void 0,resource:void 0}}function w0(){return Ft().memoizedState}function zl(e,t,n,i){var r=Re();i=i===void 0?null:i,nt.flags|=e,r.memoizedState=Ss(1|t,lc(),n,i)}function No(e,t,n,i){var r=Ft();i=i===void 0?null:i;var s=r.memoizedState.inst;yt!==null&&i!==null&&Ld(i,yt.memoizedState.deps)?r.memoizedState=Ss(t,s,n,i):(nt.flags|=e,r.memoizedState=Ss(1|t,s,n,i))}function jp(e,t){zl(8390656,8,e,t)}function R0(e,t){No(2048,8,e,t)}function I0(e,t){return No(4,2,e,t)}function C0(e,t){return No(4,4,e,t)}function D0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N0(e,t,n){n=n!=null?n.concat([e]):null,No(4,4,D0.bind(null,t,e),n)}function Qd(){}function O0(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ld(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function V0(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ld(t,i[1]))return i[0];if(i=e(),vr){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i}function Yd(e,t,n){return n===void 0||zi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=AE(),nt.lanes|=e,ji|=e,n)}function M0(e,t,n,i){return Fe(n,t)?n:As.current!==null?(e=Yd(e,n,i),Fe(e,t)||(Jt=!0),e):zi&42?(e=AE(),nt.lanes|=e,ji|=e,t):(Jt=!0,e.memoizedState=n)}function x0(e,t,n,i,r){var s=ft.p;ft.p=s!==0&&8>s?s:8;var a=K.T,l={};K.T=l,Xd(e,!1,t,n);try{var u=r(),h=K.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Bb(u,i);Ua(e,t,d,qe(e))}else Ua(e,t,i,qe(e))}catch(g){Ua(e,t,{then:function(){},status:"rejected",reason:g},qe())}finally{ft.p=s,K.T=a}}function Gb(){}function vf(e,t,n,i){if(e.tag!==5)throw Error(k(476));var r=k0(e).queue;x0(e,r,t,lr,n===null?Gb:function(){return P0(e),n(i)})}function k0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:lr,baseState:lr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:lr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function P0(e){var t=k0(e).next.queue;Ua(e,t,{},qe())}function Kd(){return pe(so)}function U0(){return Ft().memoizedState}function L0(){return Ft().memoizedState}function Qb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qe();e=Ri(n);var i=Ii(t,e,n);i!==null&&(He(i,t,n),xa(i,t,n)),t={cache:xd()},e.payload=t;return}t=t.return}}function Yb(e,t,n){var i=qe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},uc(e)?B0(t,n):(n=Nd(e,t,n,i),n!==null&&(He(n,e,i),j0(n,t,i)))}function z0(e,t,n){var i=qe();Ua(e,t,n,i)}function Ua(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(e))B0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Fe(l,a))return sc(e,t,r,0),At===null&&rc(),!1}catch{}finally{}if(n=Nd(e,t,r,i),n!==null)return He(n,e,i),j0(n,t,i),!0}return!1}function Xd(e,t,n,i){if(i={lane:2,revertLane:im(),action:i,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(t)throw Error(k(479))}else t=Nd(e,n,i,2),t!==null&&He(t,e,2)}function uc(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function B0(e,t){cs=fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ov(e,n)}}var mu={readContext:pe,use:oc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},q0={readContext:pe,use:oc,useCallback:function(e,t){return Re().memoizedState=[e,t===void 0?null:t],e},useContext:pe,useEffect:jp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zl(4194308,4,D0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=Re();t=t===void 0?null:t;var i=e();if(vr){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Re();if(n!==void 0){var r=n(t);if(vr){Ei(!0);try{n(t)}finally{Ei(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Yb.bind(null,nt,e),[i.memoizedState,e]},useRef:function(e){var t=Re();return e={current:e},t.memoizedState=e},useState:function(e){e=yf(e);var t=e.queue,n=z0.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qd,useDeferredValue:function(e,t){var n=Re();return Yd(n,e,t)},useTransition:function(){var e=yf(!1);return e=x0.bind(null,nt,e.queue,!0,!1),Re().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=nt,r=Re();if(ht){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),At===null)throw Error(k(349));lt&124||g0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,jp(y0.bind(null,i,s,e),[e]),i.flags|=2048,Ss(9,lc(),p0.bind(null,i,s,n,t),null),n},useId:function(){var e=Re(),t=At.identifierPrefix;if(ht){var n=Ln,i=Un;n=(i&~(1<<32-je(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=du++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=jb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Kd,useFormState:Lp,useActionState:Lp,useOptimistic:function(e){var t=Re();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xd.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fd,useCacheRefresh:function(){return Re().memoizedState=Qb.bind(null,nt)}},H0={readContext:pe,use:oc,useCallback:O0,useContext:pe,useEffect:R0,useImperativeHandle:N0,useInsertionEffect:I0,useLayoutEffect:C0,useMemo:V0,useReducer:Ll,useRef:w0,useState:function(){return Ll(Qn)},useDebugValue:Qd,useDeferredValue:function(e,t){var n=Ft();return M0(n,yt.memoizedState,e,t)},useTransition:function(){var e=Ll(Qn)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:m0,useId:U0,useHostTransitionStatus:Kd,useFormState:zp,useActionState:zp,useOptimistic:function(e,t){var n=Ft();return E0(n,yt,e,t)},useMemoCache:Fd,useCacheRefresh:L0},Kb={readContext:pe,use:oc,useCallback:O0,useContext:pe,useEffect:R0,useImperativeHandle:N0,useInsertionEffect:I0,useLayoutEffect:C0,useMemo:V0,useReducer:mh,useRef:w0,useState:function(){return mh(Qn)},useDebugValue:Qd,useDeferredValue:function(e,t){var n=Ft();return yt===null?Yd(n,e,t):M0(n,yt.memoizedState,e,t)},useTransition:function(){var e=mh(Qn)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:m0,useId:U0,useHostTransitionStatus:Kd,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,t){var n=Ft();return yt!==null?E0(n,yt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:L0},fs=null,eo=0;function _l(e){var t=eo;return eo+=1,fs===null&&(fs=[]),u0(fs,e,t)}function ga(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vl(e,t){throw t.$$typeof===bS?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qp(e){var t=e._init;return t(e._payload)}function F0(e){function t(A,v){if(e){var w=A.deletions;w===null?(A.deletions=[v],A.flags|=16):w.push(v)}}function n(A,v){if(!e)return null;for(;v!==null;)t(A,v),v=v.sibling;return null}function i(A){for(var v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function r(A,v){return A=Hn(A,v),A.index=0,A.sibling=null,A}function s(A,v,w){return A.index=w,e?(w=A.alternate,w!==null?(w=w.index,w<v?(A.flags|=67108866,v):w):(A.flags|=67108866,v)):(A.flags|=1048576,v)}function a(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function l(A,v,w,D){return v===null||v.tag!==6?(v=hh(w,A.mode,D),v.return=A,v):(v=r(v,w),v.return=A,v)}function u(A,v,w,D){var L=w.type;return L===Yr?d(A,v,w.props.children,D,w.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ci&&qp(L)===v.type)?(v=r(v,w.props),ga(v,w),v.return=A,v):(v=Pl(w.type,w.key,w.props,null,A.mode,D),ga(v,w),v.return=A,v)}function h(A,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=fh(w,A.mode,D),v.return=A,v):(v=r(v,w.children||[]),v.return=A,v)}function d(A,v,w,D,L){return v===null||v.tag!==7?(v=ur(w,A.mode,D,L),v.return=A,v):(v=r(v,w),v.return=A,v)}function g(A,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=hh(""+v,A.mode,w),v.return=A,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return w=Pl(v.type,v.key,v.props,null,A.mode,w),ga(w,v),w.return=A,w;case Ea:return v=fh(v,A.mode,w),v.return=A,v;case ci:var D=v._init;return v=D(v._payload),g(A,v,w)}if(Ta(v)||ha(v))return v=ur(v,A.mode,w,null),v.return=A,v;if(typeof v.then=="function")return g(A,_l(v),w);if(v.$$typeof===Pn)return g(A,pl(A,v),w);vl(A,v)}return null}function m(A,v,w,D){var L=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return L!==null?null:l(A,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:return w.key===L?u(A,v,w,D):null;case Ea:return w.key===L?h(A,v,w,D):null;case ci:return L=w._init,w=L(w._payload),m(A,v,w,D)}if(Ta(w)||ha(w))return L!==null?null:d(A,v,w,D,null);if(typeof w.then=="function")return m(A,v,_l(w),D);if(w.$$typeof===Pn)return m(A,v,pl(A,w),D);vl(A,w)}return null}function _(A,v,w,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return A=A.get(w)||null,l(v,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case hl:return A=A.get(D.key===null?w:D.key)||null,u(v,A,D,L);case Ea:return A=A.get(D.key===null?w:D.key)||null,h(v,A,D,L);case ci:var j=D._init;return D=j(D._payload),_(A,v,w,D,L)}if(Ta(D)||ha(D))return A=A.get(w)||null,d(v,A,D,L,null);if(typeof D.then=="function")return _(A,v,w,_l(D),L);if(D.$$typeof===Pn)return _(A,v,w,pl(v,D),L);vl(v,D)}return null}function N(A,v,w,D){for(var L=null,j=null,E=v,y=v=0,T=null;E!==null&&y<w.length;y++){E.index>y?(T=E,E=null):T=E.sibling;var S=m(A,E,w[y],D);if(S===null){E===null&&(E=T);break}e&&E&&S.alternate===null&&t(A,E),v=s(S,v,y),j===null?L=S:j.sibling=S,j=S,E=T}if(y===w.length)return n(A,E),ht&&rr(A,y),L;if(E===null){for(;y<w.length;y++)E=g(A,w[y],D),E!==null&&(v=s(E,v,y),j===null?L=E:j.sibling=E,j=E);return ht&&rr(A,y),L}for(E=i(E);y<w.length;y++)T=_(E,A,y,w[y],D),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?y:T.key),v=s(T,v,y),j===null?L=T:j.sibling=T,j=T);return e&&E.forEach(function(R){return t(A,R)}),ht&&rr(A,y),L}function M(A,v,w,D){if(w==null)throw Error(k(151));for(var L=null,j=null,E=v,y=v=0,T=null,S=w.next();E!==null&&!S.done;y++,S=w.next()){E.index>y?(T=E,E=null):T=E.sibling;var R=m(A,E,S.value,D);if(R===null){E===null&&(E=T);break}e&&E&&R.alternate===null&&t(A,E),v=s(R,v,y),j===null?L=R:j.sibling=R,j=R,E=T}if(S.done)return n(A,E),ht&&rr(A,y),L;if(E===null){for(;!S.done;y++,S=w.next())S=g(A,S.value,D),S!==null&&(v=s(S,v,y),j===null?L=S:j.sibling=S,j=S);return ht&&rr(A,y),L}for(E=i(E);!S.done;y++,S=w.next())S=_(E,A,y,S.value,D),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?y:S.key),v=s(S,v,y),j===null?L=S:j.sibling=S,j=S);return e&&E.forEach(function(I){return t(A,I)}),ht&&rr(A,y),L}function V(A,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Yr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hl:t:{for(var L=w.key;v!==null;){if(v.key===L){if(L=w.type,L===Yr){if(v.tag===7){n(A,v.sibling),D=r(v,w.props.children),D.return=A,A=D;break t}}else if(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ci&&qp(L)===v.type){n(A,v.sibling),D=r(v,w.props),ga(D,w),D.return=A,A=D;break t}n(A,v);break}else t(A,v);v=v.sibling}w.type===Yr?(D=ur(w.props.children,A.mode,D,w.key),D.return=A,A=D):(D=Pl(w.type,w.key,w.props,null,A.mode,D),ga(D,w),D.return=A,A=D)}return a(A);case Ea:t:{for(L=w.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(A,v.sibling),D=r(v,w.children||[]),D.return=A,A=D;break t}else{n(A,v);break}else t(A,v);v=v.sibling}D=fh(w,A.mode,D),D.return=A,A=D}return a(A);case ci:return L=w._init,w=L(w._payload),V(A,v,w,D)}if(Ta(w))return N(A,v,w,D);if(ha(w)){if(L=ha(w),typeof L!="function")throw Error(k(150));return w=L.call(w),M(A,v,w,D)}if(typeof w.then=="function")return V(A,v,_l(w),D);if(w.$$typeof===Pn)return V(A,v,pl(A,w),D);vl(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(A,v.sibling),D=r(v,w),D.return=A,A=D):(n(A,v),D=hh(w,A.mode,D),D.return=A,A=D),a(A)):n(A,v)}return function(A,v,w,D){try{eo=0;var L=V(A,v,w,D);return fs=null,L}catch(E){if(E===Co||E===ac)throw E;var j=ze(29,E,null,A.mode);return j.lanes=D,j.return=A,j}finally{}}}var bs=F0(!0),G0=F0(!1),en=Cn(null),Tn=null;function di(e){var t=e.alternate;Ct(Qt,Qt.current&1),Ct(en,e),Tn===null&&(t===null||As.current!==null||t.memoizedState!==null)&&(Tn=e)}function Q0(e){if(e.tag===22){if(Ct(Qt,Qt.current),Ct(en,e),Tn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Tn=e)}}else mi()}function mi(){Ct(Qt,Qt.current),Ct(en,en.current)}function Bn(e){te(en),Tn===e&&(Tn=null),te(Qt)}var Qt=Cn(0);function gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Pf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ef={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=qe(),r=Ri(i);r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(He(t,e,i),xa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=qe(),r=Ri(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(He(t,e,i),xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),i=Ri(n);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,n),t!==null&&(He(t,e,n),xa(t,e,n))}};function Hp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Wa(n,i)||!Wa(r,s):!0}function Fp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function Er(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=wt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Y0(e){pu(e)}function K0(e){console.error(e)}function X0(e){pu(e)}function yu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Gp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Tf(e,t,n){return n=Ri(n),n.tag=3,n.payload={element:null},n.callback=function(){yu(e,t)},n}function $0(e){return e=Ri(e),e.tag=3,e}function Z0(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Gp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Gp(t,n,i),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Xb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ro(t,n,r,!0),n=en.current,n!==null){switch(n.tag){case 13:return Tn===null?Df():n.alternate===null&&kt===0&&(kt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===df?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Rh(e,i,r)),!1;case 22:return n.flags|=65536,i===df?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Rh(e,i,r)),!1}throw Error(k(435,n.tag))}return Rh(e,i,r),Df(),!1}if(ht)return t=en.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lf&&(e=Error(k(422),{cause:i}),Ja(We(e,n)))):(i!==lf&&(t=Error(k(423),{cause:i}),Ja(We(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=We(i,n),r=Tf(e.stateNode,i,r),dh(e,r),kt!==4&&(kt=2)),!1;var s=Error(k(520),{cause:i});if(s=We(s,n),Ba===null?Ba=[s]:Ba.push(s),kt!==4&&(kt=2),t===null)return!0;i=We(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Tf(n.stateNode,i,e),dh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=$0(r),Z0(r,e,n,i),dh(n,r),!1}n=n.return}while(n!==null);return!1}var W0=Error(k(461)),Jt=!1;function ne(e,t,n,i){t.child=e===null?G0(t,null,n,i):bs(t,e.child,n,i)}function Qp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return _r(t),i=zd(e,t,n,a,s,r),l=Bd(),e!==null&&!Jt?(jd(e,t,r),Yn(e,t,r)):(ht&&l&&Vd(t),t.flags|=1,ne(e,t,i,r),t.child)}function Yp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Od(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,J0(e,t,s,i,r)):(e=Pl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!$d(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(a,i)&&e.ref===t.ref)return Yn(e,t,r)}return t.flags|=1,e=Hn(s,i),e.ref=t.ref,e.return=t,t.child=e}function J0(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Wa(s,i)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=i=s,$d(e,r))e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,Yn(e,t,r)}return Af(e,t,n,i,r)}function tE(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Kp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ul(t,s!==null?s.cachePool:null),s!==null?kp(t,s):pf(),Q0(t);else return t.lanes=t.childLanes=536870912,Kp(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Ul(t,s.cachePool),kp(t,s),mi(),t.memoizedState=null):(e!==null&&Ul(t,null),pf(),mi());return ne(e,t,r,n),t.child}function Kp(e,t,n,i){var r=kd();return r=r===null?null:{parent:Gt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Ul(t,null),pf(),Q0(t),e!==null&&Ro(e,t,i,!0),null}function Bl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Af(e,t,n,i,r){return _r(t),n=zd(e,t,n,i,void 0,r),i=Bd(),e!==null&&!Jt?(jd(e,t,r),Yn(e,t,r)):(ht&&i&&Vd(t),t.flags|=1,ne(e,t,n,r),t.child)}function Xp(e,t,n,i,r,s){return _r(t),t.updateQueue=null,n=d0(t,i,n,r),f0(e),i=Bd(),e!==null&&!Jt?(jd(e,t,s),Yn(e,t,s)):(ht&&i&&Vd(t),t.flags|=1,ne(e,t,n,s),t.child)}function $p(e,t,n,i,r){if(_r(t),t.stateNode===null){var s=es,a=n.contextType;typeof a=="object"&&a!==null&&(s=pe(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ef,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Pd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?pe(a):es,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(gh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Ef.enqueueReplaceState(s,s.state,null),Pa(t,i,s,r),ka(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Er(n,l);s.props=u;var h=s.context,d=n.contextType;a=es,typeof d=="object"&&d!==null&&(a=pe(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Fp(t,s,i,a),hi=!1;var m=t.memoizedState;s.state=m,Pa(t,i,s,r),ka(),h=t.memoizedState,l||m!==h||hi?(typeof g=="function"&&(gh(t,n,g,i),h=t.memoizedState),(u=hi||Hp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,mf(e,t),a=t.memoizedProps,d=Er(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=es,typeof h=="object"&&h!==null&&(u=pe(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Fp(t,s,i,u),hi=!1,m=t.memoizedState,s.state=m,Pa(t,i,s,r),ka();var _=t.memoizedState;a!==g||m!==_||hi||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof l=="function"&&(gh(t,n,l,i),_=t.memoizedState),(d=hi||Hp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Bl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=bs(t,e.child,null,r),t.child=bs(t,null,n,r)):ne(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Yn(e,t,r),e}function Zp(e,t,n,i){return wo(),t.flags|=256,ne(e,t,n,i),t.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(e){return{baseLanes:e,cachePool:o0()}}function _h(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=tn),e}function eE(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(r?di(t):mi(),ht){var l=xt,u;if(u=l){t:{for(u=l,l=yn;u.nodeType!==8;){if(!l){l=null;break t}if(u=hn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:cr!==null?{id:Un,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},u=ze(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Se=t,xt=null,u=!0):u=!1}u||yr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Pf(l)?t.lanes=32:t.lanes=536870912,null;Bn(t)}return l=i.children,i=i.fallback,r?(mi(),r=t.mode,l=_u({mode:"hidden",children:l},r),i=ur(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=yh(n),r.childLanes=_h(e,a,n),t.memoizedState=ph,i):(di(t),Sf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(di(t),t.flags&=-257,t=vh(e,t,n)):t.memoizedState!==null?(mi(),t.child=e.child,t.flags|=128,t=null):(mi(),r=i.fallback,l=t.mode,i=_u({mode:"visible",children:i.children},l),r=ur(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,bs(t,e.child,null,n),i=t.child,i.memoizedState=yh(n),i.childLanes=_h(e,a,n),t.memoizedState=ph,t=r);else if(di(t),Pf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(k(419)),i.stack="",i.digest=a,Ja({value:i,source:null,stack:null}),t=vh(e,t,n)}else if(Jt||Ro(e,t,n,!1),a=(n&e.childLanes)!==0,Jt||a){if(a=At,a!==null&&(i=n&-n,i=i&42?1:Ed(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Bs(e,i),He(a,e,i),W0;l.data==="$?"||Df(),t=vh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,xt=hn(l.nextSibling),Se=t,ht=!0,hr=null,yn=!1,e!==null&&(Xe[$e++]=Un,Xe[$e++]=Ln,Xe[$e++]=cr,Un=e.id,Ln=e.overflow,cr=t),t=Sf(t,i.children),t.flags|=4096);return t}return r?(mi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Hn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Hn(h,r):(r=ur(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=yh(n):(u=l.cachePool,u!==null?(h=Gt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=o0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=_h(e,a,n),t.memoizedState=ph,i):(di(t),n=e.child,e=n.sibling,n=Hn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Sf(e,t){return t=_u({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _u(e,t){return e=ze(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vh(e,t,n){return bs(t,e.child,null,n),e=Sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),cf(e.return,t,n)}function Eh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function nE(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ne(e,t,i.children,n),i=Qt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,n,t);else if(e.tag===19)Wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Ct(Qt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&gu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Eh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&gu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Eh(t,!0,n,null,s);break;case"together":Eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ro(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $d(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function $b(e,t,n){switch(t.tag){case 3:nu(t,t.stateNode.containerInfo),fi(t,Gt,e.memoizedState.cache),wo();break;case 27:case 5:Zh(t);break;case 4:nu(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?eE(e,t,n):(di(t),e=Yn(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ro(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return nE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ct(Qt,Qt.current),i)break;return null;case 22:case 23:return t.lanes=0,tE(e,t,n);case 24:fi(t,Gt,e.memoizedState.cache)}return Yn(e,t,n)}function iE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Jt=!0;else{if(!$d(e,n)&&!(t.flags&128))return Jt=!1,$b(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,ht&&t.flags&1048576&&s0(t,uu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Od(i)?(e=Er(i,e),t.tag=1,t=$p(null,t,i,e,n)):(t.tag=0,t=Af(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===yd){t.tag=11,t=Qp(null,t,i,e,n);break t}else if(r===_d){t.tag=14,t=Yp(null,t,i,e,n);break t}}throw t=Xh(i)||i,Error(k(306,t,""))}}return t;case 0:return Af(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Er(i,t.pendingProps),$p(e,t,i,r,n);case 3:t:{if(nu(t,t.stateNode.containerInfo),e===null)throw Error(k(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,mf(e,t),Pa(t,i,null,n);var a=t.memoizedState;if(i=a.cache,fi(t,Gt,i),i!==s.cache&&hf(t,[Gt],n,!0),ka(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Zp(e,t,i,n);break t}else if(i!==r){r=We(Error(k(424)),t),Ja(r),t=Zp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=hn(e.firstChild),Se=t,ht=!0,hr=null,yn=!0,n=G0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wo(),i===r){t=Yn(e,t,n);break t}ne(e,t,i,n)}t=t.child}return t;case 26:return Bl(e,t),e===null?(n=gy(t.type,null,t.pendingProps,null))?t.memoizedState=n:ht||(n=t.type,e=t.pendingProps,i=wu(wi.current).createElement(n),i[ge]=t,i[Oe]=e,ae(i,n,e),Wt(i),t.stateNode=i):t.memoizedState=gy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zh(t),e===null&&ht&&(i=t.stateNode=HE(t.type,t.pendingProps,wi.current),Se=t,yn=!0,r=xt,Zi(t.type)?(Uf=r,xt=hn(i.firstChild)):xt=r),ne(e,t,t.pendingProps.children,n),Bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((r=i=xt)&&(i=bw(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,Se=t,xt=hn(i.firstChild),yn=!1,r=!0):r=!1),r||yr(t)),Zh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,xf(r,s)?i=null:a!==null&&xf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=zd(e,t,qb,null,null,n),so._currentValue=r),Bl(e,t),ne(e,t,i,n),t.child;case 6:return e===null&&ht&&((e=n=xt)&&(n=ww(n,t.pendingProps,yn),n!==null?(t.stateNode=n,Se=t,xt=null,e=!0):e=!1),e||yr(t)),null;case 13:return eE(e,t,n);case 4:return nu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=bs(t,null,i,n):ne(e,t,i,n),t.child;case 11:return Qp(e,t,t.type,t.pendingProps,n);case 7:return ne(e,t,t.pendingProps,n),t.child;case 8:return ne(e,t,t.pendingProps.children,n),t.child;case 12:return ne(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,fi(t,t.type,i.value),ne(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,_r(t),r=pe(r),i=i(r),t.flags|=1,ne(e,t,i,n),t.child;case 14:return Yp(e,t,t.type,t.pendingProps,n);case 15:return J0(e,t,t.type,t.pendingProps,n);case 19:return nE(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=_u(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Hn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return tE(e,t,n);case 24:return _r(t),i=pe(Gt),e===null?(r=kd(),r===null&&(r=At,s=xd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Pd(t),fi(t,Gt,r)):(e.lanes&n&&(mf(e,t),Pa(t,null,null,n),ka()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),fi(t,Gt,i)):(i=s.cache,fi(t,Gt,i),i!==r.cache&&hf(t,[Gt],n,!0))),ne(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function Mn(e){e.flags|=4}function Jp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!QE(t)){if(t=en.current,t!==null&&((lt&4194048)===lt?Tn!==null:(lt&62914560)!==lt&&!(lt&536870912)||t!==Tn))throw Ma=df,l0;e.flags|=8192}}function El(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dv():536870912,e.lanes|=t,ws|=t)}function pa(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Zb(e,t,n){var i=t.pendingProps;switch(Md(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Nt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Fn(Gt),_s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ma(t)?Mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dp())),Nt(t),null;case 26:return n=t.memoizedState,e===null?(Mn(t),n!==null?(Nt(t),Jp(t,n)):(Nt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Mn(t),Nt(t),Jp(t,n)):(Nt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Mn(t),Nt(t),t.flags&=-16777217),null;case 27:iu(t),n=wi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Nt(t),null}e=vn.current,ma(t)?Ip(t):(e=HE(r,i,n),t.stateNode=e,Mn(t))}return Nt(t),null;case 5:if(iu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Nt(t),null}if(e=vn.current,ma(t))Ip(t);else{switch(r=wu(wi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[ge]=t,e[Oe]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ae(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mn(t)}}return Nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Mn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(e=wi.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Se,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ge]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||BE(e.nodeValue,n)),e||yr(t)}else e=wu(e).createTextNode(i),e[ge]=t,t.stateNode=e}return Nt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ma(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(k(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[ge]=t}else wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),r=!1}else r=Dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Bn(t),t):(Bn(t),null)}if(Bn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),El(t,t.updateQueue),Nt(t),null;case 4:return _s(),e===null&&rm(t.stateNode.containerInfo),Nt(t),null;case 10:return Fn(t.type),Nt(t),null;case 19:if(te(Qt),r=t.memoizedState,r===null)return Nt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)pa(r,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gu(e),s!==null){for(t.flags|=128,pa(r,!1),e=s.updateQueue,t.updateQueue=e,El(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)r0(n,e),n=n.sibling;return Ct(Qt,Qt.current&1|2),t.child}e=e.sibling}r.tail!==null&&En()>Eu&&(t.flags|=128,i=!0,pa(r,!1),t.lanes=4194304)}else{if(!i)if(e=gu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,El(t,e),pa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!ht)return Nt(t),null}else 2*En()-r.renderingStartTime>Eu&&n!==536870912&&(t.flags|=128,i=!0,pa(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=En(),t.sibling=null,e=Qt.current,Ct(Qt,i?e&1|2:e&1),t):(Nt(t),null);case 22:case 23:return Bn(t),Ud(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),n=t.updateQueue,n!==null&&El(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&te(fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fn(Gt),Nt(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function Wb(e,t){switch(Md(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(Gt),_s(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return iu(t),null;case 13:if(Bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Qt),null;case 4:return _s(),null;case 10:return Fn(t.type),null;case 22:case 23:return Bn(t),Ud(),e!==null&&te(fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fn(Gt),null;case 25:return null;default:return null}}function rE(e,t){switch(Md(t),t.tag){case 3:Fn(Gt),_s();break;case 26:case 27:case 5:iu(t);break;case 4:_s();break;case 13:Bn(t);break;case 19:te(Qt);break;case 10:Fn(t.type);break;case 22:case 23:Bn(t),Ud(),e!==null&&te(fr);break;case 24:Fn(Gt)}}function Oo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Tt(t,t.return,l)}}function Bi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Tt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Tt(t,t.return,d)}}function sE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{h0(t,n)}catch(i){Tt(e,e.return,i)}}}function aE(e,t,n){n.props=Er(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Tt(e,t,i)}}function La(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Tt(e,t,r)}}function _n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Tt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Tt(e,t,r)}else n.current=null}function oE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Tt(e,e.return,r)}}function Th(e,t,n){try{var i=e.stateNode;vw(i,e.type,n,t),i[Oe]=t}catch(r){Tt(e,e.return,r)}}function lE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zi(e.type)||e.tag===4}function Ah(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||lE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dc));else if(i!==4&&(i===27&&Zi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bf(e,t,n),e=e.sibling;e!==null;)bf(e,t,n),e=e.sibling}function vu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Zi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function uE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ae(t,i,n),t[ge]=e,t[Oe]=n}catch(s){Tt(e,e.return,s)}}var kn=!1,Lt=!1,Sh=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function Jb(e,t){if(e=e.containerInfo,Vf=Du,e=$v(e),Cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:e,selectionRange:n},Du=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=Er(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Tt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)kf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function cE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n),i&4&&Oo(5,n);break;case 1:if(oi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Tt(n,n.return,a)}else{var r=Er(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Tt(n,n.return,a)}}i&64&&sE(n),i&512&&La(n,n.return);break;case 3:if(oi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{h0(e,t)}catch(a){Tt(n,n.return,a)}}break;case 27:t===null&&i&4&&uE(n);case 26:case 5:oi(e,n),t===null&&i&4&&oE(n),i&512&&La(n,n.return);break;case 12:oi(e,n);break;case 13:oi(e,n),i&4&&dE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=lw.bind(null,n),Rw(e,n))));break;case 22:if(i=n.memoizedState!==null||kn,!i){t=t!==null&&t.memoizedState!==null||Lt,r=kn;var s=Lt;kn=i,(Lt=t)&&!s?ui(e,n,(n.subtreeFlags&8772)!==0):oi(e,n),kn=r,Lt=s}break;case 30:break;default:oi(e,n)}}function hE(e){var t=e.alternate;t!==null&&(e.alternate=null,hE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ad(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,Ie=!1;function xn(e,t,n){for(n=n.child;n!==null;)fE(e,t,n),n=n.sibling}function fE(e,t,n){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Eo,n)}catch{}switch(n.tag){case 26:Lt||_n(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Lt||_n(n,t);var i=Rt,r=Ie;Zi(n.type)&&(Rt=n.stateNode,Ie=!1),xn(e,t,n),qa(n.stateNode),Rt=i,Ie=r;break;case 5:Lt||_n(n,t);case 6:if(i=Rt,r=Ie,Rt=null,xn(e,t,n),Rt=i,Ie=r,Rt!==null)if(Ie)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(s){Tt(n,t,s)}else try{Rt.removeChild(n.stateNode)}catch(s){Tt(n,t,s)}break;case 18:Rt!==null&&(Ie?(e=Rt,fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),lo(e)):fy(Rt,n.stateNode));break;case 4:i=Rt,r=Ie,Rt=n.stateNode.containerInfo,Ie=!0,xn(e,t,n),Rt=i,Ie=r;break;case 0:case 11:case 14:case 15:Lt||Bi(2,n,t),Lt||Bi(4,n,t),xn(e,t,n);break;case 1:Lt||(_n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&aE(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:Lt=(i=Lt)||n.memoizedState!==null,xn(e,t,n),Lt=i;break;default:xn(e,t,n)}}function dE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(n){Tt(t,t.return,n)}}function tw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ty),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ty),t;default:throw Error(k(435,e.tag))}}function bh(e,t){var n=tw(e);t.forEach(function(i){var r=uw.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Pe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Zi(l.type)){Rt=l.stateNode,Ie=!1;break t}break;case 5:Rt=l.stateNode,Ie=!1;break t;case 3:case 4:Rt=l.stateNode.containerInfo,Ie=!0;break t}l=l.return}if(Rt===null)throw Error(k(160));fE(s,a,r),Rt=null,Ie=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)mE(t,e),t=t.sibling}var on=null;function mE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pe(t,e),Ue(e),i&4&&(Bi(3,e,e.return),Oo(3,e),Bi(5,e,e.return));break;case 1:Pe(t,e),Ue(e),i&512&&(Lt||n===null||_n(n,n.return)),i&64&&kn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=on;if(Pe(t,e),Ue(e),i&512&&(Lt||n===null||_n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[So]||s[ge]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ae(s,i,n),s[ge]=e,Wt(s),i=s;break t;case"link":var a=yy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ae(s,i,n),r.head.appendChild(s);break;case"meta":if(a=yy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ae(s,i,n),r.head.appendChild(s);break;default:throw Error(k(468,i))}s[ge]=e,Wt(s),i=s}e.stateNode=i}else _y(r,e.type,e.stateNode);else e.stateNode=py(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?_y(r,e.type,e.stateNode):py(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Th(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pe(t,e),Ue(e),i&512&&(Lt||n===null||_n(n,n.return)),n!==null&&i&4&&Th(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pe(t,e),Ue(e),i&512&&(Lt||n===null||_n(n,n.return)),e.flags&32){r=e.stateNode;try{Es(r,"")}catch(_){Tt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Th(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Sh=!0);break;case 6:if(Pe(t,e),Ue(e),i&4){if(e.stateNode===null)throw Error(k(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){Tt(e,e.return,_)}}break;case 3:if(Hl=null,r=on,on=Ru(t.containerInfo),Pe(t,e),on=r,Ue(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(_){Tt(e,e.return,_)}Sh&&(Sh=!1,gE(e));break;case 4:i=on,on=Ru(e.stateNode.containerInfo),Pe(t,e),Ue(e),on=i;break;case 12:Pe(t,e),Ue(e);break;case 13:Pe(t,e),Ue(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(em=En()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=kn,d=Lt;if(kn=h||r,Lt=d||u,Pe(t,e),Lt=d,kn=h,Ue(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||kn||Lt||sr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Tt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){Tt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,bh(e,n))));break;case 19:Pe(t,e),Ue(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bh(e,i)));break;case 30:break;case 21:break;default:Pe(t,e),Ue(e)}}function Ue(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(lE(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var r=n.stateNode,s=Ah(e);vu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Es(a,""),n.flags&=-33);var l=Ah(e);vu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ah(e);bf(e,h,u);break;default:throw Error(k(161))}}catch(d){Tt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function oi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cE(e,t.alternate,t),t=t.sibling}function sr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),sr(t);break;case 1:_n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&aE(t,t.return,n),sr(t);break;case 27:qa(t.stateNode);case 26:case 5:_n(t,t.return),sr(t);break;case 22:t.memoizedState===null&&sr(t);break;case 30:sr(t);break;default:sr(t)}e=e.sibling}}function ui(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ui(r,s,n),Oo(4,s);break;case 1:if(ui(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Tt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)c0(u[r],l)}catch(h){Tt(i,i.return,h)}}n&&a&64&&sE(s),La(s,s.return);break;case 27:uE(s);case 26:case 5:ui(r,s,n),n&&i===null&&a&4&&oE(s),La(s,s.return);break;case 12:ui(r,s,n);break;case 13:ui(r,s,n),n&&a&4&&dE(r,s);break;case 22:s.memoizedState===null&&ui(r,s,n),La(s,s.return);break;case 30:break;default:ui(r,s,n)}t=t.sibling}}function Zd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Io(n))}function Wd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Io(e))}function gn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pE(e,t,n,i),t=t.sibling}function pE(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:gn(e,t,n,i),r&2048&&Oo(9,t);break;case 1:gn(e,t,n,i);break;case 3:gn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Io(e)));break;case 12:if(r&2048){gn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Tt(t,t.return,u)}}else gn(e,t,n,i);break;case 13:gn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?gn(e,t,n,i):za(e,t):s._visibility&2?gn(e,t,n,i):(s._visibility|=2,jr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Zd(a,t);break;case 24:gn(e,t,n,i),r&2048&&Wd(t.alternate,t);break;default:gn(e,t,n,i)}}function jr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:jr(s,a,l,u,r),Oo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?jr(s,a,l,u,r):za(s,a):(d._visibility|=2,jr(s,a,l,u,r)),r&&h&2048&&Zd(a.alternate,a);break;case 24:jr(s,a,l,u,r),r&&h&2048&&Wd(a.alternate,a);break;default:jr(s,a,l,u,r)}t=t.sibling}}function za(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:za(n,i),r&2048&&Zd(i.alternate,i);break;case 24:za(n,i),r&2048&&Wd(i.alternate,i);break;default:za(n,i)}t=t.sibling}}var Sa=8192;function Ur(e){if(e.subtreeFlags&Sa)for(e=e.child;e!==null;)yE(e),e=e.sibling}function yE(e){switch(e.tag){case 26:Ur(e),e.flags&Sa&&e.memoizedState!==null&&zw(on,e.memoizedState,e.memoizedProps);break;case 5:Ur(e);break;case 3:case 4:var t=on;on=Ru(e.stateNode.containerInfo),Ur(e),on=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Sa,Sa=16777216,Ur(e),Sa=t):Ur(e));break;default:Ur(e)}}function _E(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ya(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,EE(i,e)}_E(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vE(e),e=e.sibling}function vE(e){switch(e.tag){case 0:case 11:case 15:ya(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:ya(e);break;case 12:ya(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):ya(e);break;default:ya(e)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,EE(i,e)}_E(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bi(8,t,t.return),jl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function EE(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Bi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Io(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var r=i.sibling,s=i.return;if(hE(i),i===n){Zt=null;break t}if(r!==null){r.return=s,Zt=r;break t}Zt=s}}}var ew={getCacheForType:function(e){var t=pe(Gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},nw=typeof WeakMap=="function"?WeakMap:Map,gt=0,At=null,rt=null,lt=0,mt=0,Le=null,Ai=!1,js=!1,Jd=!1,Kn=0,kt=0,ji=0,dr=0,tm=0,tn=0,ws=0,Ba=null,Ce=null,wf=!1,em=0,Eu=1/0,Tu=null,Ci=null,re=0,Di=null,Rs=null,ds=0,Rf=0,If=null,TE=null,ja=0,Cf=null;function qe(){if(gt&2&&lt!==0)return lt&-lt;if(K.T!==null){var e=Ts;return e!==0?e:im()}return Vv()}function AE(){tn===0&&(tn=!(lt&536870912)||ht?Cv():536870912);var e=en.current;return e!==null&&(e.flags|=32),tn}function He(e,t,n){(e===At&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(Is(e,0),Si(e,lt,tn,!1)),Ao(e,n),(!(gt&2)||e!==At)&&(e===At&&(!(gt&2)&&(dr|=n),kt===4&&Si(e,lt,tn,!1)),Dn(e))}function SE(e,t,n){if(gt&6)throw Error(k(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||To(e,t),r=i?sw(e,t):wh(e,t,!0),s=i;do{if(r===0){js&&!i&&Si(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!iw(n)){r=wh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Ba;var u=l.current.memoizedState.isDehydrated;if(u&&(Is(l,a).flags|=256),a=wh(l,a,!1),a!==2){if(Jd&&!u){l.errorRecoveryDisabledLanes|=s,dr|=s,r=4;break t}s=Ce,Ce=r,s!==null&&(Ce===null?Ce=s:Ce.push.apply(Ce,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Is(e,0),Si(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:Si(i,t,tn,!Ai);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(r=em+300-En(),10<r)){if(Si(i,t,tn,!Ai),tc(i,0,!0)!==0)break t;i.timeoutHandle=qE(ey.bind(null,i,n,Ce,Tu,wf,t,tn,dr,ws,Ai,s,2,-0,0),r);break t}ey(i,n,Ce,Tu,wf,t,tn,dr,ws,Ai,s,0,-0,0)}}break}while(!0);Dn(e)}function ey(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:Lw},yE(t),g=Bw(),g!==null)){e.cancelPendingCommit=g(iy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),Si(e,s,a,!h);return}iy(e,t,s,n,i,r,a,l,u)}function iw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Fe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Si(e,t,n,i){t&=~tm,t&=~dr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-je(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Nv(e,n,t)}function cc(){return gt&6?!0:(Vo(0),!1)}function nm(){if(rt!==null){if(mt===0)var e=rt.return;else e=rt,zn=Cr=null,qd(e),fs=null,eo=0,e=rt;for(;e!==null;)rE(e.alternate,e),e=e.return;rt=null}}function Is(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Tw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),nm(),At=e,rt=n=Hn(e.current,null),lt=t,mt=0,Le=null,Ai=!1,js=To(e,t),Jd=!1,ws=tn=tm=dr=ji=kt=0,Ce=Ba=null,wf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-je(i),s=1<<r;t|=e[r],i&=~s}return Kn=t,rc(),n}function bE(e,t){nt=null,K.H=mu,t===Co||t===ac?(t=Mp(),mt=3):t===l0?(t=Mp(),mt=4):mt=t===W0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Le=t,rt===null&&(kt=1,yu(e,We(t,e.current)))}function wE(){var e=K.H;return K.H=mu,e===null?mu:e}function RE(){var e=K.A;return K.A=ew,e}function Df(){kt=4,Ai||(lt&4194048)!==lt&&en.current!==null||(js=!0),!(ji&134217727)&&!(dr&134217727)||At===null||Si(At,lt,tn,!1)}function wh(e,t,n){var i=gt;gt|=2;var r=wE(),s=RE();(At!==e||lt!==t)&&(Tu=null,Is(e,t)),t=!1;var a=kt;t:do try{if(mt!==0&&rt!==null){var l=rt,u=Le;switch(mt){case 8:nm(),a=6;break t;case 3:case 2:case 9:case 6:en.current===null&&(t=!0);var h=mt;if(mt=0,Le=null,rs(e,l,u,h),n&&js){a=0;break t}break;default:h=mt,mt=0,Le=null,rs(e,l,u,h)}}rw(),a=kt;break}catch(d){bE(e,d)}while(!0);return t&&e.shellSuspendCounter++,zn=Cr=null,gt=i,K.H=r,K.A=s,rt===null&&(At=null,lt=0,rc()),a}function rw(){for(;rt!==null;)IE(rt)}function sw(e,t){var n=gt;gt|=2;var i=wE(),r=RE();At!==e||lt!==t?(Tu=null,Eu=En()+500,Is(e,t)):js=To(e,t);t:do try{if(mt!==0&&rt!==null){t=rt;var s=Le;e:switch(mt){case 1:mt=0,Le=null,rs(e,t,s,1);break;case 2:case 9:if(Vp(s)){mt=0,Le=null,ny(t);break}t=function(){mt!==2&&mt!==9||At!==e||(mt=7),Dn(e)},s.then(t,t);break t;case 3:mt=7;break t;case 4:mt=5;break t;case 7:Vp(s)?(mt=0,Le=null,ny(t)):(mt=0,Le=null,rs(e,t,s,7));break;case 5:var a=null;switch(rt.tag){case 26:a=rt.memoizedState;case 5:case 27:var l=rt;if(!a||QE(a)){mt=0,Le=null;var u=l.sibling;if(u!==null)rt=u;else{var h=l.return;h!==null?(rt=h,hc(h)):rt=null}break e}}mt=0,Le=null,rs(e,t,s,5);break;case 6:mt=0,Le=null,rs(e,t,s,6);break;case 8:nm(),kt=6;break t;default:throw Error(k(462))}}aw();break}catch(d){bE(e,d)}while(!0);return zn=Cr=null,K.H=i,K.A=r,gt=n,rt!==null?0:(At=null,lt=0,rc(),kt)}function aw(){for(;rt!==null&&!CS();)IE(rt)}function IE(e){var t=iE(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?hc(e):rt=t}function ny(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xp(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=Xp(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:qd(t);default:rE(n,t),t=rt=r0(t,Kn),t=iE(n,t,Kn)}e.memoizedProps=e.pendingProps,t===null?hc(e):rt=t}function rs(e,t,n,i){zn=Cr=null,qd(t),fs=null,eo=0;var r=t.return;try{if(Xb(e,r,t,n,lt)){kt=1,yu(e,We(n,e.current)),rt=null;return}}catch(s){if(r!==null)throw rt=r,s;kt=1,yu(e,We(n,e.current)),rt=null;return}t.flags&32768?(ht||i===1?e=!0:js||lt&536870912?e=!1:(Ai=e=!0,(i===2||i===9||i===3||i===6)&&(i=en.current,i!==null&&i.tag===13&&(i.flags|=16384))),CE(t,e)):hc(t)}function hc(e){var t=e;do{if(t.flags&32768){CE(t,Ai);return}e=t.return;var n=Zb(t.alternate,t,Kn);if(n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);kt===0&&(kt=5)}function CE(e,t){do{var n=Wb(e.alternate,e);if(n!==null){n.flags&=32767,rt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){rt=e;return}rt=e=n}while(e!==null);kt=6,rt=null}function iy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do fc();while(re!==0);if(gt&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(s=t.lanes|t.childLanes,s|=Dd,LS(e,n,s,a,l,u),e===At&&(rt=At=null,lt=0),Rs=t,Di=e,ds=n,Rf=s,If=r,TE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,cw(ru,function(){return ME(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,r=ft.p,ft.p=2,a=gt,gt|=4;try{Jb(e,t,n)}finally{gt=a,ft.p=r,K.T=i}}re=1,DE(),NE(),OE()}}function DE(){if(re===1){re=0;var e=Di,t=Rs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ft.p;ft.p=2;var r=gt;gt|=4;try{mE(t,e);var s=Mf,a=$v(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Xv(l.ownerDocument.documentElement,l)){if(u!==null&&Cd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),N=l.textContent.length,M=Math.min(u.start,N),V=u.end===void 0?M:Math.min(u.end,N);!_.extend&&M>V&&(a=V,V=M,M=a);var A=bp(l,M),v=bp(l,V);if(A&&v&&(_.rangeCount!==1||_.anchorNode!==A.node||_.anchorOffset!==A.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=g.createRange();w.setStart(A.node,A.offset),_.removeAllRanges(),M>V?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var D=g[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Du=!!Vf,Mf=Vf=null}finally{gt=r,ft.p=i,K.T=n}}e.current=t,re=2}}function NE(){if(re===2){re=0;var e=Di,t=Rs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ft.p;ft.p=2;var r=gt;gt|=4;try{cE(e,t.alternate,t)}finally{gt=r,ft.p=i,K.T=n}}re=3}}function OE(){if(re===4||re===3){re=0,DS();var e=Di,t=Rs,n=ds,i=TE;t.subtreeFlags&10256||t.flags&10256?re=5:(re=0,Rs=Di=null,VE(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Td(n),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Eo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,r=ft.p,ft.p=2,K.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{K.T=t,ft.p=r}}ds&3&&fc(),Dn(e),r=e.pendingLanes,n&4194090&&r&42?e===Cf?ja++:(ja=0,Cf=e):ja=0,Vo(0)}}function VE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Io(t)))}function fc(e){return DE(),NE(),OE(),ME()}function ME(){if(re!==5)return!1;var e=Di,t=Rf;Rf=0;var n=Td(ds),i=K.T,r=ft.p;try{ft.p=32>n?32:n,K.T=null,n=If,If=null;var s=Di,a=ds;if(re=0,Rs=Di=null,ds=0,gt&6)throw Error(k(331));var l=gt;if(gt|=4,vE(s.current),pE(s,s.current,a,n),gt=l,Vo(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Eo,s)}catch{}return!0}finally{ft.p=r,K.T=i,VE(e,t)}}function ry(e,t,n){t=We(n,t),t=Tf(e.stateNode,t,2),e=Ii(e,t,2),e!==null&&(Ao(e,2),Dn(e))}function Tt(e,t,n){if(e.tag===3)ry(e,e,n);else for(;t!==null;){if(t.tag===3){ry(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ci===null||!Ci.has(i))){e=We(n,e),n=$0(2),i=Ii(t,n,2),i!==null&&(Z0(n,i,t,e),Ao(i,2),Dn(i));break}}t=t.return}}function Rh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new nw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Jd=!0,r.add(n),e=ow.bind(null,e,t,n),t.then(e,e))}function ow(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,At===e&&(lt&n)===n&&(kt===4||kt===3&&(lt&62914560)===lt&&300>En()-em?!(gt&2)&&Is(e,0):tm|=n,ws===lt&&(ws=0)),Dn(e)}function xE(e,t){t===0&&(t=Dv()),e=Bs(e,t),e!==null&&(Ao(e,t),Dn(e))}function lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xE(e,n)}function uw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),xE(e,n)}function cw(e,t){return vd(e,t)}var Au=null,qr=null,Nf=!1,Su=!1,Ih=!1,mr=0;function Dn(e){e!==qr&&e.next===null&&(qr===null?Au=qr=e:qr=qr.next=e),Su=!0,Nf||(Nf=!0,fw())}function Vo(e,t){if(!Ih&&Su){Ih=!0;do for(var n=!1,i=Au;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-je(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,sy(i,s))}else s=lt,s=tc(i,i===At?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||To(i,s)||(n=!0,sy(i,s));i=i.next}while(n);Ih=!1}}function hw(){kE()}function kE(){Su=Nf=!1;var e=0;mr!==0&&(Ew()&&(e=mr),mr=0);for(var t=En(),n=null,i=Au;i!==null;){var r=i.next,s=PE(i,t);s===0?(i.next=null,n===null?Au=r:n.next=r,r===null&&(qr=n)):(n=i,(e!==0||s&3)&&(Su=!0)),i=r}Vo(e)}function PE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-je(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=US(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=At,n=lt,n=tc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Jc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||To(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Jc(i),Td(n)){case 2:case 8:n=Rv;break;case 32:n=ru;break;case 268435456:n=Iv;break;default:n=ru}return i=UE.bind(null,e),n=vd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Jc(i),e.callbackPriority=2,e.callbackNode=null,2}function UE(e,t){if(re!==0&&re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var i=lt;return i=tc(e,e===At?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(SE(e,i,t),PE(e,En()),e.callbackNode!=null&&e.callbackNode===n?UE.bind(null,e):null)}function sy(e,t){if(fc())return null;SE(e,t,!0)}function fw(){Aw(function(){gt&6?vd(wv,hw):kE()})}function im(){return mr===0&&(mr=Cv()),mr}function ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ml(""+e)}function oy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function dw(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=ay((r[Oe]||null).action),a=i.submitter;a&&(t=(t=a[Oe]||null)?ay(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new ec("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(mr!==0){var u=a?oy(r,a):new FormData(r);vf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?oy(r,a):new FormData(r),vf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Ch=0;Ch<of.length;Ch++){var Dh=of[Ch],mw=Dh.toLowerCase(),gw=Dh[0].toUpperCase()+Dh.slice(1);dn(mw,"on"+gw)}dn(Wv,"onAnimationEnd");dn(Jv,"onAnimationIteration");dn(t0,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Vb,"onTransitionRun");dn(Mb,"onTransitionStart");dn(xb,"onTransitionCancel");dn(e0,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function LE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){pu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){pu(d)}r.currentTarget=null,s=u}}}}function it(e,t){var n=t[Jh];n===void 0&&(n=t[Jh]=new Set);var i=e+"__bubble";n.has(i)||(zE(t,e,2,!1),n.add(i))}function Nh(e,t,n){var i=0;t&&(i|=4),zE(n,e,i,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function rm(e){if(!e[Tl]){e[Tl]=!0,Mv.forEach(function(n){n!=="selectionchange"&&(pw.has(n)||Nh(n,!1,e),Nh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,Nh("selectionchange",!1,t))}}function zE(e,t,n,i){switch(ZE(t)){case 2:var r=Hw;break;case 8:r=Fw;break;default:r=lm}n=r.bind(null,t,n,e),r=void 0,!rf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Xr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}jv(function(){var h=s,d=bd(n),g=[];t:{var m=n0.get(e);if(m!==void 0){var _=ec,N=e;switch(e){case"keypress":if(kl(n)===0)break t;case"keydown":case"keyup":_=cb;break;case"focusin":N="focus",_=oh;break;case"focusout":N="blur",_=oh;break;case"beforeblur":case"afterblur":_=oh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=db;break;case Wv:case Jv:case t0:_=eb;break;case e0:_=gb;break;case"scroll":case"scrollend":_=$S;break;case"wheel":_=yb;break;case"copy":case"cut":case"paste":_=ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=pp;break;case"toggle":case"beforetoggle":_=vb}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),A=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,w;v!==null;){var D=v;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||A===null||(D=$a(v,A),D!=null&&M.push(io(v,D,w))),V)break;v=v.return}0<M.length&&(m=new _(m,N,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==nf&&(N=n.relatedTarget||n.fromElement)&&(Xr(N)||N[Ls]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=h,N=N?Xr(N):null,N!==null&&(V=vo(N),M=N.tag,N!==V||M!==5&&M!==27&&M!==6)&&(N=null)):(_=null,N=h),_!==N)){if(M=mp,D="onMouseLeave",A="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=pp,D="onPointerLeave",A="onPointerEnter",v="pointer"),V=_==null?m:Aa(_),w=N==null?m:Aa(N),m=new M(D,v+"leave",_,n,d),m.target=V,m.relatedTarget=w,D=null,Xr(d)===h&&(M=new M(A,v+"enter",N,n,d),M.target=w,M.relatedTarget=V,D=M),V=D,_&&N)e:{for(M=_,A=N,v=0,w=M;w;w=Lr(w))v++;for(w=0,D=A;D;D=Lr(D))w++;for(;0<v-w;)M=Lr(M),v--;for(;0<w-v;)A=Lr(A),w--;for(;v--;){if(M===A||A!==null&&M===A.alternate)break e;M=Lr(M),A=Lr(A)}M=null}else M=null;_!==null&&ly(g,m,_,M,!1),N!==null&&V!==null&&ly(g,V,N,M,!0)}}t:{if(m=h?Aa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var L=Ep;else if(vp(m))if(Yv)L=Db;else{L=Ib;var j=Rb}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Sd(h.elementType)&&(L=Ep):L=Cb;if(L&&(L=L(e,h))){Qv(g,L,n,d);break t}j&&j(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&ef(m,"number",m.value)}switch(j=h?Aa(h):window,e){case"focusin":(vp(j)||j.contentEditable==="true")&&(Wr=j,sf=h,Oa=null);break;case"focusout":Oa=sf=Wr=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,wp(g,n,d);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":wp(g,n,d)}var E;if(Id)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Zr?Fv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Hv&&n.locale!=="ko"&&(Zr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Zr&&(E=qv()):(Ti=d,wd="value"in Ti?Ti.value:Ti.textContent,Zr=!0)),j=bu(h,y),0<j.length&&(y=new gp(y,e,null,n,d),g.push({event:y,listeners:j}),E?y.data=E:(E=Gv(n),E!==null&&(y.data=E)))),(E=Tb?Ab(e,n):Sb(e,n))&&(y=bu(h,"onBeforeInput"),0<y.length&&(j=new gp("onBeforeInput","beforeinput",null,n,d),g.push({event:j,listeners:y}),j.data=E)),dw(g,e,h,n,d)}LE(g,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=$a(e,n),r!=null&&i.unshift(io(e,r,s)),r=$a(e,t),r!=null&&i.push(io(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ly(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=$a(n,s),h!=null&&a.unshift(io(n,h,u))):r||(h=$a(n,s),h!=null&&a.push(io(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function uy(e){return(typeof e=="string"?e:""+e).replace(yw,`
`).replace(_w,"")}function BE(e,t){return t=uy(t),uy(e)===t}function dc(){}function pt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Es(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Es(e,""+i);break;case"className":ml(e,"class",i);break;case"tabIndex":ml(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(e,n,i);break;case"style":Bv(e,i,s);break;case"data":if(t!=="object"){ml(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ml(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",r.name,r,null),pt(e,t,"formEncType",r.formEncType,r,null),pt(e,t,"formMethod",r.formMethod,r,null),pt(e,t,"formTarget",r.formTarget,r,null)):(pt(e,t,"encType",r.encType,r,null),pt(e,t,"method",r.method,r,null),pt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ml(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=dc);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ml(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":it("beforetoggle",e),it("toggle",e),Vl(e,"popover",i);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Vl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KS.get(n)||n,Vl(e,n,i))}}function Of(e,t,n,i,r,s){switch(n){case"style":Bv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Es(e,i):(typeof i=="number"||typeof i=="bigint")&&Es(e,""+i);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"onClick":i!=null&&(e.onclick=dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Oe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Vl(e,n,i)}}}function ae(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:pt(e,t,s,a,n,null)}}r&&pt(e,t,"srcSet",n.srcSet,n,null),i&&pt(e,t,"src",n.src,n,null);return;case"input":it("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(k(137,t));break;default:pt(e,t,i,d,n,null)}}Uv(e,s,l,u,h,a,r,!1),su(e);return;case"select":it("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:pt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?os(e,!!i,t,!1):n!=null&&os(e,!!i,n,!0);return;case"textarea":it("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(k(91));break;default:pt(e,t,a,l,n,null)}zv(e,i,r,s),su(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pt(e,t,u,i,n,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(i=0;i<no.length;i++)it(no[i],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:pt(e,t,h,i,n,null)}return;default:if(Sd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Of(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pt(e,t,l,i,n,null))}function vw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||pt(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(k(137,t));break;default:_!==g&&pt(e,t,m,_,i,g)}}tf(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||pt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&pt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?os(e,!!n,m,!1):!!i!=!!n&&(t!=null?os(e,!!n,t,!0):os(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(k(91));break;default:r!==s&&pt(e,t,a,r,i,s)}Lv(e,m,_);return;case"option":for(var N in n)if(m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:pt(e,t,N,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:pt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&pt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:pt(e,t,h,m,i,_)}return;default:if(Sd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Of(e,t,V,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Of(e,t,d,m,i,_);return}}for(var A in n)m=n[A],n.hasOwnProperty(A)&&m!=null&&!i.hasOwnProperty(A)&&pt(e,t,A,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||pt(e,t,g,m,i,_)}var Vf=null,Mf=null;function wu(e){return e.nodeType===9?e:e.ownerDocument}function cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vh=null;function Ew(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(e){return hy.resolve(null).then(e).catch(Sw)}:qE;function Sw(e){setTimeout(function(){throw e})}function Zi(e){return e==="head"}function fy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&qa(a.documentElement),n&2&&qa(a.body),n&4)for(n=a.head,qa(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[So]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),lo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);lo(t)}function kf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":kf(n),Ad(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function bw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[So])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function ww(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function Pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Rw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Uf=null;function dy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function HE(e,t,n){switch(t=wu(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function qa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ad(e)}var nn=new Map,my=new Set;function Ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=ft.d;ft.d={f:Iw,r:Cw,D:Dw,C:Nw,L:Ow,m:Vw,X:xw,S:Mw,M:kw};function Iw(){var e=ti.f(),t=cc();return e||t}function Cw(e){var t=zs(e);t!==null&&t.tag===5&&t.type==="form"?P0(t):ti.r(e)}var qs=typeof document>"u"?null:document;function FE(e,t,n){var i=qs;if(i&&typeof t=="string"&&t){var r=Ze(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),my.has(r)||(my.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ae(t,"link",e),Wt(t),i.head.appendChild(t)))}}function Dw(e){ti.D(e),FE("dns-prefetch",e,null)}function Nw(e,t){ti.C(e,t),FE("preconnect",e,t)}function Ow(e,t,n){ti.L(e,t,n);var i=qs;if(i&&e&&t){var r='link[rel="preload"][as="'+Ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ze(n.imageSizes)+'"]')):r+='[href="'+Ze(e)+'"]';var s=r;switch(t){case"style":s=Cs(e);break;case"script":s=Hs(e)}nn.has(s)||(e=wt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Mo(s))||t==="script"&&i.querySelector(xo(s))||(t=i.createElement("link"),ae(t,"link",e),Wt(t),i.head.appendChild(t)))}}function Vw(e,t){ti.m(e,t);var n=qs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ze(i)+'"][href="'+Ze(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Hs(e)}if(!nn.has(s)&&(e=wt({rel:"modulepreload",href:e},t),nn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xo(s)))return}i=n.createElement("link"),ae(i,"link",e),Wt(i),n.head.appendChild(i)}}}function Mw(e,t,n){ti.S(e,t,n);var i=qs;if(i&&e){var r=as(i).hoistableStyles,s=Cs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Mo(s)))l.loading=5;else{e=wt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(s))&&sm(e,n);var u=a=i.createElement("link");Wt(u),ae(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ql(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function xw(e,t){ti.X(e,t);var n=qs;if(n&&e){var i=as(n).hoistableScripts,r=Hs(e),s=i.get(r);s||(s=n.querySelector(xo(r)),s||(e=wt({src:e,async:!0},t),(t=nn.get(r))&&am(e,t),s=n.createElement("script"),Wt(s),ae(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function kw(e,t){ti.M(e,t);var n=qs;if(n&&e){var i=as(n).hoistableScripts,r=Hs(e),s=i.get(r);s||(s=n.querySelector(xo(r)),s||(e=wt({src:e,async:!0,type:"module"},t),(t=nn.get(r))&&am(e,t),s=n.createElement("script"),Wt(s),ae(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function gy(e,t,n,i){var r=(r=wi.current)?Ru(r):null;if(!r)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Cs(n.href),n=as(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Cs(n.href);var s=as(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Mo(e)))&&!s._p&&(a.instance=s,a.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),s||Pw(r,e,n,a.state))),t&&i===null)throw Error(k(528,""));return a}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hs(n),n=as(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function Cs(e){return'href="'+Ze(e)+'"'}function Mo(e){return'link[rel="stylesheet"]['+e+"]"}function GE(e){return wt({},e,{"data-precedence":e.precedence,precedence:null})}function Pw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ae(t,"link",n),Wt(t),e.head.appendChild(t))}function Hs(e){return'[src="'+Ze(e)+'"]'}function xo(e){return"script[async]"+e}function py(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ze(n.href)+'"]');if(i)return t.instance=i,Wt(i),i;var r=wt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Wt(i),ae(i,"style",r),ql(i,n.precedence,e),t.instance=i;case"stylesheet":r=Cs(n.href);var s=e.querySelector(Mo(r));if(s)return t.state.loading|=4,t.instance=s,Wt(s),s;i=GE(n),(r=nn.get(r))&&sm(i,r),s=(e.ownerDocument||e).createElement("link"),Wt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ae(s,"link",i),t.state.loading|=4,ql(s,n.precedence,e),t.instance=s;case"script":return s=Hs(n.src),(r=e.querySelector(xo(s)))?(t.instance=r,Wt(r),r):(i=n,(r=nn.get(s))&&(i=wt({},n),am(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Wt(r),ae(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,ql(i,n.precedence,e));return t.instance}function ql(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function sm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function am(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hl=null;function yy(e,t,n){if(Hl===null){var i=new Map,r=Hl=new Map;r.set(n,i)}else r=Hl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[So]||s[ge]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function _y(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Uw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function QE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ro=null;function Lw(){}function zw(e,t,n){if(ro===null)throw Error(k(475));var i=ro;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Cs(n.href),s=e.querySelector(Mo(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Iu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Wt(s);return}s=e.ownerDocument||e,n=GE(n),(r=nn.get(r))&&sm(n,r),s=s.createElement("link"),Wt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ae(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Iu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Bw(){if(ro===null)throw Error(k(475));var e=ro;return e.stylesheets&&e.count===0&&Lf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Lf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cu=null;function Lf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cu=new Map,t.forEach(jw,e),Cu=null,Iu.call(e))}function jw(e,t){if(!(t.state.loading&4)){var n=Cu.get(e);if(n)var i=n.get(null);else{n=new Map,Cu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Iu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var so={$$typeof:Pn,Provider:null,Consumer:null,_currentValue:lr,_currentValue2:lr,_threadCount:0};function qw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=th(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.hiddenUpdates=th(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function YE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new qw(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=ze(3,null,null,t),e.current=s,s.stateNode=e,t=xd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Pd(s),e}function KE(e){return e?(e=es,e):es}function XE(e,t,n,i,r,s){r=KE(r),i.context===null?i.context=r:i.pendingContext=r,i=Ri(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ii(e,i,t),n!==null&&(He(n,e,t),xa(n,e,t))}function vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function om(e,t){vy(e,t),(e=e.alternate)&&vy(e,t)}function $E(e){if(e.tag===13){var t=Bs(e,67108864);t!==null&&He(t,e,67108864),om(e,67108864)}}var Du=!0;function Hw(e,t,n,i){var r=K.T;K.T=null;var s=ft.p;try{ft.p=2,lm(e,t,n,i)}finally{ft.p=s,K.T=r}}function Fw(e,t,n,i){var r=K.T;K.T=null;var s=ft.p;try{ft.p=8,lm(e,t,n,i)}finally{ft.p=s,K.T=r}}function lm(e,t,n,i){if(Du){var r=zf(i);if(r===null)Oh(e,t,i,Nu,n),Ey(e,i);else if(Qw(r,e,t,n,i))i.stopPropagation();else if(Ey(e,i),t&4&&-1<Gw.indexOf(e)){for(;r!==null;){var s=zs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ir(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-je(a);l.entanglements[1]|=u,a&=~u}Dn(s),!(gt&6)&&(Eu=En()+500,Vo(0))}}break;case 13:l=Bs(s,2),l!==null&&He(l,s,2),cc(),om(s,2)}if(s=zf(i),s===null&&Oh(e,t,i,Nu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Oh(e,t,i,null,n)}}function zf(e){return e=bd(e),um(e)}var Nu=null;function um(e){if(Nu=null,e=Xr(e),e!==null){var t=vo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Tv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nu=e,null}function ZE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(NS()){case wv:return 2;case Rv:return 8;case ru:case OS:return 32;case Iv:return 268435456;default:return 32}default:return 32}}var Bf=!1,Ni=null,Oi=null,Vi=null,ao=new Map,oo=new Map,gi=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function _a(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=zs(t),t!==null&&$E(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Qw(e,t,n,i,r){switch(t){case"focusin":return Ni=_a(Ni,e,t,n,i,r),!0;case"dragenter":return Oi=_a(Oi,e,t,n,i,r),!0;case"mouseover":return Vi=_a(Vi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return ao.set(s,_a(ao.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,oo.set(s,_a(oo.get(s)||null,e,t,n,i,r)),!0}return!1}function WE(e){var t=Xr(e.target);if(t!==null){var n=vo(t);if(n!==null){if(t=n.tag,t===13){if(t=Tv(n),t!==null){e.blockedOn=t,zS(e.priority,function(){if(n.tag===13){var i=qe();i=Ed(i);var r=Bs(n,i);r!==null&&He(r,n,i),om(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);nf=i,n.target.dispatchEvent(i),nf=null}else return t=zs(n),t!==null&&$E(t),e.blockedOn=n,!1;t.shift()}return!0}function Ty(e,t,n){Fl(e)&&n.delete(t)}function Yw(){Bf=!1,Ni!==null&&Fl(Ni)&&(Ni=null),Oi!==null&&Fl(Oi)&&(Oi=null),Vi!==null&&Fl(Vi)&&(Vi=null),ao.forEach(Ty),oo.forEach(Ty)}function Al(e,t){e.blockedOn===t&&(e.blockedOn=null,Bf||(Bf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Yw)))}var Sl=null;function Ay(e){Sl!==e&&(Sl=e,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,function(){Sl===e&&(Sl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(um(i||n)===null)continue;break}var s=zs(n);s!==null&&(e.splice(t,3),t-=3,vf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function lo(e){function t(u){return Al(u,e)}Ni!==null&&Al(Ni,e),Oi!==null&&Al(Oi,e),Vi!==null&&Al(Vi,e),ao.forEach(t),oo.forEach(t);for(var n=0;n<gi.length;n++){var i=gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)WE(n),n.blockedOn===null&&gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Oe]||null;if(typeof s=="function")a||Ay(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Oe]||null)l=a.formAction;else if(um(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Ay(n)}}}function cm(e){this._internalRoot=e}mc.prototype.render=cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,i=qe();XE(n,i,e,t,null,null)};mc.prototype.unmount=cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;XE(e.current,2,null,e,null,null),cc(),t[Ls]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&WE(e)}};var Sy=vv.version;if(Sy!=="19.1.0")throw Error(k(527,Sy,"19.1.0"));ft.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=SS(t),e=e!==null?Av(e):null,e=e===null?null:e.stateNode,e};var Kw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Eo=bl.inject(Kw),Be=bl}catch{}}Wu.createRoot=function(e,t){if(!Ev(e))throw Error(k(299));var n=!1,i="",r=Y0,s=K0,a=X0,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=YE(e,1,!1,null,null,n,i,r,s,a,l,null),e[Ls]=t.current,rm(e),new cm(t)};Wu.hydrateRoot=function(e,t,n){if(!Ev(e))throw Error(k(299));var i=!1,r="",s=Y0,a=K0,l=X0,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=YE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=KE(null),n=t.current,i=qe(),i=Ed(i),r=Ri(i),r.callback=null,Ii(n,r,i),n=i,t.current.lanes=n,Ao(t,n),Dn(t),e[Ls]=t.current,rm(e),new mc(t)};Wu.version="19.1.0";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(e){console.error(e)}}JE(),dv.exports=Wu;var Xw=dv.exports;const $w=iv(Xw),Zw=()=>{};var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ww=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ww(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new Jw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const N=h<<6&192|g;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(e){const t=tT(e);return eT.encodeByteArray(t,!0)},Ou=function(e){return tR(e).replace(/\./g,"")},nT=function(e){try{return eT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>eR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof by>"u")return;const e=by.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nT(e[1]);return t&&JSON.parse(t)},gc=()=>{try{return Zw()||nR()||iR()||rR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},iT=e=>{var t,n;return(n=(t=gc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},sR=e=>{const t=iT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},rT=()=>{var e;return(e=gc())===null||e===void 0?void 0:e.config},sT=e=>{var t;return(t=gc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return e.endsWith(".cloudworkstations.dev")}async function aT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ou(JSON.stringify(n)),Ou(JSON.stringify(a)),""].join(".")}const Ha={};function lR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ha))Ha[t]?e.emulator.push(t):e.prod.push(t);return e}function uR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let wy=!1;function oT(e,t){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Ha[e]===t||Ha[e]||wy)return;Ha[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=lR().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{wy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=uR(i),_=n("text"),N=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),A=n("preprendIcon"),v=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(V,M);const D=h();u(v,A),w.append(v,N,V,D),document.body.appendChild(w)}s?(N.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function hR(){var e;const t=(e=gc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const e=ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class ei extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=vR,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?ER(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ei(r,l,i)}}function ER(e,t){return e.replace(TR,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const TR=/\{\$([^}]+)}/g;function AR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Tr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Ry(s)&&Ry(a)){if(!Tr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ry(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function SR(e,t){const n=new bR(e,t);return n.subscribe.bind(n)}class bR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wR(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Mh),r.error===void 0&&(r.error=Mh),r.complete===void 0&&(r.complete=Mh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Mh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e){return e&&e._delegate?e._delegate:e}class Ar{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new aR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CR(t))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ar){return this.instances.has(t)}getOptions(t=ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ar){return this.component?this.component.multipleInstances?t:ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(e){return e===ar?void 0:e}function CR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new RR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const NR={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},OR=st.INFO,VR={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},MR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=VR[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=OR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const xR=(e,t)=>t.some(n=>e instanceof n);let Iy,Cy;function kR(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,jf=new WeakMap,uT=new WeakMap,xh=new WeakMap,fm=new WeakMap;function UR(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Mi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&lT.set(n,e)}).catch(()=>{}),fm.set(t,e),t}function LR(e){if(jf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});jf.set(e,t)}let qf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||uT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zR(e){qf=e(qf)}function BR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(kh(this),t,...n);return uT.set(i,t.sort?t.sort():[t]),Mi(i)}:PR().includes(e)?function(...t){return e.apply(kh(this),t),Mi(lT.get(this))}:function(...t){return Mi(e.apply(kh(this),t))}}function jR(e){return typeof e=="function"?BR(e):(e instanceof IDBTransaction&&LR(e),xR(e,kR())?new Proxy(e,qf):e)}function Mi(e){if(e instanceof IDBRequest)return UR(e);if(xh.has(e))return xh.get(e);const t=jR(e);return t!==e&&(xh.set(e,t),fm.set(t,e)),t}const kh=e=>fm.get(e);function qR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Mi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Mi(a.result),u.oldVersion,u.newVersion,Mi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const HR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Ph=new Map;function Dy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ph.get(t))return Ph.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=FR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||HR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Ph.set(t,s),s}zR(e=>({...e,get:(t,n,i)=>Dy(t,n)||e.get(t,n,i),has:(t,n)=>!!Dy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hf="@firebase/app",Ny="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new hm("@firebase/app"),YR="@firebase/app-compat",KR="@firebase/analytics-compat",XR="@firebase/analytics",$R="@firebase/app-check-compat",ZR="@firebase/app-check",WR="@firebase/auth",JR="@firebase/auth-compat",t2="@firebase/database",e2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",s2="@firebase/installations",a2="@firebase/installations-compat",o2="@firebase/messaging",l2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",g2="@firebase/firestore",p2="@firebase/ai",y2="@firebase/firestore-compat",_2="firebase",v2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",E2={[Hf]:"fire-core",[YR]:"fire-core-compat",[XR]:"fire-analytics",[KR]:"fire-analytics-compat",[ZR]:"fire-app-check",[$R]:"fire-app-check-compat",[WR]:"fire-auth",[JR]:"fire-auth-compat",[t2]:"fire-rtdb",[e2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[s2]:"fire-iid",[a2]:"fire-iid-compat",[o2]:"fire-fcm",[l2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[g2]:"fire-fst",[y2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,T2=new Map,Gf=new Map;function Oy(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ds(e){const t=e.name;if(Gf.has(t))return Xn.debug(`There were multiple attempts to register component ${t}.`),!1;Gf.set(t,e);for(const n of Vu.values())Oy(n,e);for(const n of T2.values())Oy(n,e);return!0}function dm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new ko("app","Firebase",A2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=v2;function cT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ff,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw xi.create("bad-app-name",{appName:String(r)});if(n||(n=rT()),!n)throw xi.create("no-options");const s=Vu.get(r);if(s){if(Tr(n,s.options)&&Tr(i,s.config))return s;throw xi.create("duplicate-app",{appName:r})}const a=new DR(r);for(const u of Gf.values())a.addComponent(u);const l=new S2(n,i,a);return Vu.set(r,l),l}function hT(e=Ff){const t=Vu.get(e);if(!t&&e===Ff&&rT())return cT();if(!t)throw xi.create("no-app",{appName:e});return t}function ki(e,t,n){var i;let r=(i=E2[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xn.warn(l.join(" "));return}Ds(new Ar(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebase-heartbeat-database",w2=1,uo="firebase-heartbeat-store";let Uh=null;function fT(){return Uh||(Uh=qR(b2,w2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uo)}catch(n){console.warn(n)}}}}).catch(e=>{throw xi.create("idb-open",{originalErrorMessage:e.message})})),Uh}async function R2(e){try{const n=(await fT()).transaction(uo),i=await n.objectStore(uo).get(dT(e));return await n.done,i}catch(t){if(t instanceof ei)Xn.warn(t.message);else{const n=xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xn.warn(n.message)}}}async function Vy(e,t){try{const i=(await fT()).transaction(uo,"readwrite");await i.objectStore(uo).put(t,dT(e)),await i.done}catch(n){if(n instanceof ei)Xn.warn(n.message);else{const i=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(i.message)}}}function dT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1024,C2=30;class D2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=My();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>C2){const a=V2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=My(),{heartbeatsToSend:i,unsentEntries:r}=N2(this._heartbeatsCache.heartbeats),s=Ou(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xn.warn(n),""}}}function My(){return new Date().toISOString().substring(0,10)}function N2(e,t=I2){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),xy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class O2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xy(e){return Ou(JSON.stringify({version:2,heartbeats:e})).length}function V2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(e){Ds(new Ar("platform-logger",t=>new GR(t),"PRIVATE")),Ds(new Ar("heartbeat",t=>new D2(t),"PRIVATE")),ki(Hf,Ny,e),ki(Hf,Ny,"esm2017"),ki("fire-js","")}M2("");var x2="firebase",k2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(x2,k2,"app");function mm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P2=mT,gT=new ko("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new hm("@firebase/auth");function U2(e,...t){Mu.logLevel<=st.WARN&&Mu.warn(`Auth (${Gs}): ${e}`,...t)}function Gl(e,...t){Mu.logLevel<=st.ERROR&&Mu.error(`Auth (${Gs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e,...t){throw gm(e,...t)}function An(e,...t){return gm(e,...t)}function pT(e,t,n){const i=Object.assign(Object.assign({},P2()),{[t]:n});return new ko("auth","Firebase",i).create(t,{appName:e.name})}function Pi(e){return pT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return gT.create(e,...t)}function X(e,t,...n){if(!e)throw gm(t,...n)}function jn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gl(t),new Error(t)}function Zn(e,t){e||jn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function L2(){return ky()==="http:"||ky()==="https:"}function ky(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||dR()||"connection"in navigator)?navigator.onLine:!0}function B2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zn(n>t,"Short delay should be less than long delay!"),this.isMobile=cR()||mR()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e,t){Zn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H2=new Uo(3e4,6e4);function pc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qs(e,t,n,i,r={}){return _T(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Po(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return fR()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Fs(e.emulatorConfig.host)&&(h.credentials="include"),yT.fetch()(await ET(e,e.config.apiHost,n,l),h)})}async function _T(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},j2),t);try{const r=new F2(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw wl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw wl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw wl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw pT(e,d,h);$n(e,d)}}catch(r){if(r instanceof ei)throw r;$n(e,"network-request-failed",{message:String(r)})}}async function vT(e,t,n,i,r={}){const s=await Qs(e,t,n,i,r);return"mfaPendingCredential"in s&&$n(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ET(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?pm(e.config,r):`${e.config.apiScheme}://${r}`;return q2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(An(this.auth,"network-request-failed")),H2.get())})}}function wl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=An(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(e,t){return Qs(e,"POST","/v1/accounts:delete",t)}async function xu(e,t){return Qs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q2(e,t=!1){const n=Ve(e),i=await n.getIdToken(t),r=ym(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Fa(Lh(r.auth_time)),issuedAtTime:Fa(Lh(r.iat)),expirationTime:Fa(Lh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lh(e){return Number(e)*1e3}function ym(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{const r=nT(n);return r?JSON.parse(r):(Gl("Failed to decode base64 JWT payload"),null)}catch(r){return Gl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Py(e){const t=ym(e);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ei&&Y2(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Y2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(e){var t;const n=e.auth,i=await e.getIdToken(),r=await co(e,xu(n,{idToken:i}));X(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?TT(s.providerUserInfo):[],l=$2(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function X2(e){const t=Ve(e);await ku(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $2(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function TT(e){return e.map(t=>{var{providerId:n}=t,i=mm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(e,t){const n=await _T(e,{},async()=>{const i=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await ET(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Fs(e.emulatorConfig.host)&&(u.credentials="include"),yT.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W2(e,t){return Qs(e,"POST","/v2/accounts:revokeToken",pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Py(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){X(t.length!==0,"internal-error");const n=Py(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Z2(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new ms;return i&&(X(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ms,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){X(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class un{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=mm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await co(this,this.stsTokenManager.getToken(this.auth,t));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Q2(this,t)}reload(){return X2(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Pi(this.auth));const t=await this.getIdToken();return await co(this,G2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:D,isAnonymous:L,providerData:j,stsTokenManager:E}=n;X(w&&E,t,"internal-error");const y=ms.fromJSON(this.name,E);X(typeof w=="string",t,"internal-error"),li(g,t.name),li(m,t.name),X(typeof D=="boolean",t,"internal-error"),X(typeof L=="boolean",t,"internal-error"),li(_,t.name),li(N,t.name),li(M,t.name),li(V,t.name),li(A,t.name),li(v,t.name);const T=new un({uid:w,auth:t,email:m,emailVerified:D,displayName:g,isAnonymous:L,photoURL:N,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:A,lastLoginAt:v});return j&&Array.isArray(j)&&(T.providerData=j.map(S=>Object.assign({},S))),V&&(T._redirectEventId=V),T}static async _fromIdTokenResponse(t,n,i=!1){const r=new ms;r.updateFromServerResponse(n);const s=new un({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await ku(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?TT(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new ms;l.updateFromIdToken(i);const u=new un({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Yf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;function qn(e){Zn(e instanceof Function,"Expected a class definition");let t=Uy.get(e);return t?(Zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}AT.type="NONE";const Ly=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e,t,n){return`firebase:${e}:${t}:${n}`}class gs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ql(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ql("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await xu(this.auth,{idToken:t}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,t):null}return un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new gs(qn(Ly),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||qn(Ly);const a=Ql(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await xu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await un._fromGetAccountInfoResponse(t,m,d)}else g=un._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new gs(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new gs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ST(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CT(t))return"Blackberry";if(DT(t))return"Webos";if(bT(t))return"Safari";if((t.includes("chrome/")||wT(t))&&!t.includes("edge/"))return"Chrome";if(IT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ST(e=ye()){return/firefox\//i.test(e)}function bT(e=ye()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wT(e=ye()){return/crios\//i.test(e)}function RT(e=ye()){return/iemobile/i.test(e)}function IT(e=ye()){return/android/i.test(e)}function CT(e=ye()){return/blackberry/i.test(e)}function DT(e=ye()){return/webos/i.test(e)}function _m(e=ye()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function J2(e=ye()){var t;return _m(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function tI(){return gR()&&document.documentMode===10}function NT(e=ye()){return _m(e)||IT(e)||DT(e)||CT(e)||/windows phone/i.test(e)||RT(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(e,t=[]){let n;switch(e){case"Browser":n=zy(ye());break;case"Worker":n=`${zy(ye())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(e,t={}){return Qs(e,"GET","/v2/passwordPolicy",pc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=6;class rI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:iI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new eI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await gs.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await xu(this,{idToken:t}),i=await un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ln(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ku(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ln(this.app))return Promise.reject(Pi(this));const n=t?Ve(t):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&X(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ln(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nI(this),n=new rI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await W2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qn(t)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await gs.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&U2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yc(e){return Ve(e)}class By{constructor(t){this.auth=t,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(e){vm=e}function oI(e){return vm.loadJS(e)}function lI(){return vm.gapiScript}function uI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e,t){const n=dm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Tr(s,t??{}))return r;$n(r,"already-initialized")}return n.initialize({options:t})}function hI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(qn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function fI(e,t,n){const i=yc(e);X(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=VT(t),{host:a,port:l}=dI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(Tr(h,i.config.emulator)&&Tr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Fs(a)?(aT(`${s}//${a}${u}`),oT("Auth",!0)):mI()}function VT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dI(e){const t=VT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:jy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:jy(a)}}}function jy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function mI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,n){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(e,t){return vT(e,"POST","/v1/accounts:signInWithIdp",pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="http://localhost";class Sr extends MT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=mm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Sr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ps(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ps(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ps(t,n)}buildRequest(){const t={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Po(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Lo{constructor(){super("facebook.com")}static credential(t){return Sr._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sr._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Lo{constructor(){super("github.com")}static credential(t){return Sr._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Lo{constructor(){super("twitter.com")}static credential(t,n){return Sr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(e,t){return vT(e,"POST","/v1/accounts:signUp",pc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await un._fromIdTokenResponse(t,i,r),a=qy(i);return new qi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=qy(i);return new qi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function qy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(e){var t;if(ln(e.app))return Promise.reject(Pi(e));const n=yc(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new qi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await pI(n,{returnSecureToken:!0}),r=await qi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends ei{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Pu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Pu(t,n,i,r)}}function kT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pu._fromErrorAndOperation(e,s,t,i):s})}async function _I(e,t,n=!1){const i=await co(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(e,t,n=!1){const{auth:i}=e;if(ln(i.app))return Promise.reject(Pi(i));const r="reauthenticate";try{const s=await co(e,kT(i,r,t,e),n);X(s.idToken,i,"internal-error");const a=ym(s.idToken);X(a,i,"internal-error");const{sub:l}=a;return X(e.uid===l,i,"user-mismatch"),qi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$n(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e,t,n=!1){if(ln(e.app))return Promise.reject(Pi(e));const i="signIn",r=await kT(e,i,t),s=await qi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function TI(e,t,n,i){return Ve(e).onIdTokenChanged(t,n,i)}function AI(e,t,n){return Ve(e).beforeAuthStateChanged(t,n)}function SI(e,t,n,i){return Ve(e).onAuthStateChanged(t,n,i)}const Uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,wI=10;class UT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,wI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const RI=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}LT.type="SESSION";const zT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new _c(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await II(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Em("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function DI(e){Sn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function NI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function VI(){return BT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebaseLocalStorageDb",MI=1,Lu="firebaseLocalStorage",qT="fbase_key";class zo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vc(e,t){return e.transaction([Lu],t?"readwrite":"readonly").objectStore(Lu)}function xI(){const e=indexedDB.deleteDatabase(jT);return new zo(e).toPromise()}function Kf(){const e=indexedDB.open(jT,MI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Lu,{keyPath:qT})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Lu)?t(i):(i.close(),await xI(),t(await Kf()))})})}async function Hy(e,t,n){const i=vc(e,!0).put({[qT]:t,value:n});return new zo(i).toPromise()}async function kI(e,t){const n=vc(e,!1).get(t),i=await new zo(n).toPromise();return i===void 0?null:i.value}function Fy(e,t){const n=vc(e,!0).delete(t);return new zo(n).toPromise()}const PI=800,UI=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>UI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_c._getInstance(VI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await NI(),!this.activeServiceWorker)return;this.sender=new CI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||OI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kf();return await Hy(t,Uu,"1"),await Fy(t,Uu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>kI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=vc(r,!1).getAll();return new zo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const LI=HT;new Uo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e,t){return t?qn(t):(X(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends MT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ps(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ps(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ps(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function BI(e){return EI(e.auth,new Tm(e),e.bypassAuthState)}function jI(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),vI(n,new Tm(e),e.bypassAuthState)}async function qI(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),_I(n,new Tm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return jI;default:$n(this.auth,"internal-error")}}resolve(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Uo(2e3,1e4);class ss extends FT{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return X(t,this.auth,"internal-error"),t}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HI.get())};t()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="pendingRedirect",Yl=new Map;class GI extends FT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Yl.get(this.auth._key());if(!t){try{const i=await QI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Yl.set(this.auth._key(),t)}return this.bypassAuthState||Yl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QI(e,t){const n=XI(t),i=KI(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function YI(e,t){Yl.set(e._key(),t)}function KI(e){return qn(e._redirectPersistence)}function XI(e){return Ql(FI,e.config.apiKey,e.name)}async function $I(e,t,n=!1){if(ln(e.app))return Promise.reject(Pi(e));const i=yc(e),r=zI(i,t),a=await new GI(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=10*60*1e3;class WI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!GT(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(An(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gy(t))}saveEventToCache(t){this.cachedEventUids.add(Gy(t)),this.lastProcessedEventTime=Date.now()}}function Gy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function GT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function JI(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(e,t={}){return Qs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function iC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await tC(e);for(const n of t)try{if(rC(n))return}catch{}$n(e,"unauthorized-domain")}function rC(e){const t=Qf(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!nC.test(n))return!1;if(eC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Uo(3e4,6e4);function Qy(){const e=Sn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function aC(e){return new Promise((t,n)=>{var i,r,s;function a(){Qy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qy(),n(An(e,"network-request-failed"))},timeout:sC.get()})}if(!((r=(i=Sn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Sn().gapi)===null||s===void 0)&&s.load)a();else{const l=uI("iframefcb");return Sn()[l]=()=>{gapi.load?a():n(An(e,"network-request-failed"))},oI(`${lI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Kl=null,t})}let Kl=null;function oC(e){return Kl=Kl||aC(e),Kl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Uo(5e3,15e3),uC="__/auth/iframe",cC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(e){const t=e.config;X(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pm(t,cC):`https://${e.config.authDomain}/${uC}`,i={apiKey:t.apiKey,appName:e.name,v:Gs},r=fC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Po(i).slice(1)}`}async function mC(e){const t=await oC(e),n=Sn().gapi;return X(n,e,"internal-error"),t.open({where:document.body,url:dC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=An(e,"network-request-failed"),l=Sn().setTimeout(()=>{s(a)},lC.get());function u(){Sn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,yC=600,_C="_blank",vC="http://localhost";class Yy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(e,t,n,i=pC,r=yC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},gC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=ye().toLowerCase();n&&(l=wT(h)?_C:n),ST(h)&&(t=t||vC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,N])=>`${m}${_}=${N},`,"");if(J2(h)&&l!=="_self")return TC(t||"",l),new Yy(null);const g=window.open(t||"",l,d);X(g,e,"popup-blocked");try{g.focus()}catch{}return new Yy(g)}function TC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="__/auth/handler",SC="emulator/auth/handler",bC=encodeURIComponent("fac");async function Ky(e,t,n,i,r,s){X(e.config.authDomain,e,"auth-domain-config-required"),X(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Gs,eventId:r};if(t instanceof xT){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",AR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Lo){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${bC}=${encodeURIComponent(u)}`:"";return`${wC(e)}?${Po(l).slice(1)}${h}`}function wC({config:e}){return e.emulator?pm(e,SC):`https://${e.authDomain}/${AC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=$I,this._overrideRedirectResult=YI}async _openPopup(t,n,i,r){var s;Zn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Ky(t,n,i,Qf(),r);return EC(t,a,Em())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await Ky(t,n,i,Qf(),r);return DI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Zn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await mC(t),i=new WI(t);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zh,{type:zh},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[zh];a!==void 0&&n(!!a),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||bT()||_m()}}const IC=RC;var Xy="@firebase/auth",$y="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(e){Ds(new Ar("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(e)},h=new sI(i,r,s,u);return hI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ds(new Ar("auth-internal",t=>{const n=yc(t.getProvider("auth").getImmediate());return(i=>new CC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(Xy,$y,DC(e)),ki(Xy,$y,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=5*60,VC=sT("authIdTokenMaxAge")||OC;let Zy=null;const MC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VC)return;const r=n==null?void 0:n.token;Zy!==r&&(Zy=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xC(e=hT()){const t=dm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=cI(e,{popupRedirectResolver:IC,persistence:[LI,RI,zT]}),i=sT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=MC(s.toString());AI(n,a,()=>a(n.currentUser)),TI(n,l=>a(l))}}const r=iT("auth");return r&&fI(n,`http://${r}`),n}function kC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}aI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=An("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",kC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,QT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function T(){}T.prototype=y.prototype,E.D=y.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(S,R,I){for(var b=Array(arguments.length-2),le=2;le<arguments.length;le++)b[le-2]=arguments[le];return y.prototype[R].apply(S,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,T){T||(T=0);var S=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)S[R]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=E.g[0],T=E.g[1],R=E.g[2];var I=E.g[3],b=y+(I^T&(R^I))+S[0]+3614090360&4294967295;y=T+(b<<7&4294967295|b>>>25),b=I+(R^y&(T^R))+S[1]+3905402710&4294967295,I=y+(b<<12&4294967295|b>>>20),b=R+(T^I&(y^T))+S[2]+606105819&4294967295,R=I+(b<<17&4294967295|b>>>15),b=T+(y^R&(I^y))+S[3]+3250441966&4294967295,T=R+(b<<22&4294967295|b>>>10),b=y+(I^T&(R^I))+S[4]+4118548399&4294967295,y=T+(b<<7&4294967295|b>>>25),b=I+(R^y&(T^R))+S[5]+1200080426&4294967295,I=y+(b<<12&4294967295|b>>>20),b=R+(T^I&(y^T))+S[6]+2821735955&4294967295,R=I+(b<<17&4294967295|b>>>15),b=T+(y^R&(I^y))+S[7]+4249261313&4294967295,T=R+(b<<22&4294967295|b>>>10),b=y+(I^T&(R^I))+S[8]+1770035416&4294967295,y=T+(b<<7&4294967295|b>>>25),b=I+(R^y&(T^R))+S[9]+2336552879&4294967295,I=y+(b<<12&4294967295|b>>>20),b=R+(T^I&(y^T))+S[10]+4294925233&4294967295,R=I+(b<<17&4294967295|b>>>15),b=T+(y^R&(I^y))+S[11]+2304563134&4294967295,T=R+(b<<22&4294967295|b>>>10),b=y+(I^T&(R^I))+S[12]+1804603682&4294967295,y=T+(b<<7&4294967295|b>>>25),b=I+(R^y&(T^R))+S[13]+4254626195&4294967295,I=y+(b<<12&4294967295|b>>>20),b=R+(T^I&(y^T))+S[14]+2792965006&4294967295,R=I+(b<<17&4294967295|b>>>15),b=T+(y^R&(I^y))+S[15]+1236535329&4294967295,T=R+(b<<22&4294967295|b>>>10),b=y+(R^I&(T^R))+S[1]+4129170786&4294967295,y=T+(b<<5&4294967295|b>>>27),b=I+(T^R&(y^T))+S[6]+3225465664&4294967295,I=y+(b<<9&4294967295|b>>>23),b=R+(y^T&(I^y))+S[11]+643717713&4294967295,R=I+(b<<14&4294967295|b>>>18),b=T+(I^y&(R^I))+S[0]+3921069994&4294967295,T=R+(b<<20&4294967295|b>>>12),b=y+(R^I&(T^R))+S[5]+3593408605&4294967295,y=T+(b<<5&4294967295|b>>>27),b=I+(T^R&(y^T))+S[10]+38016083&4294967295,I=y+(b<<9&4294967295|b>>>23),b=R+(y^T&(I^y))+S[15]+3634488961&4294967295,R=I+(b<<14&4294967295|b>>>18),b=T+(I^y&(R^I))+S[4]+3889429448&4294967295,T=R+(b<<20&4294967295|b>>>12),b=y+(R^I&(T^R))+S[9]+568446438&4294967295,y=T+(b<<5&4294967295|b>>>27),b=I+(T^R&(y^T))+S[14]+3275163606&4294967295,I=y+(b<<9&4294967295|b>>>23),b=R+(y^T&(I^y))+S[3]+4107603335&4294967295,R=I+(b<<14&4294967295|b>>>18),b=T+(I^y&(R^I))+S[8]+1163531501&4294967295,T=R+(b<<20&4294967295|b>>>12),b=y+(R^I&(T^R))+S[13]+2850285829&4294967295,y=T+(b<<5&4294967295|b>>>27),b=I+(T^R&(y^T))+S[2]+4243563512&4294967295,I=y+(b<<9&4294967295|b>>>23),b=R+(y^T&(I^y))+S[7]+1735328473&4294967295,R=I+(b<<14&4294967295|b>>>18),b=T+(I^y&(R^I))+S[12]+2368359562&4294967295,T=R+(b<<20&4294967295|b>>>12),b=y+(T^R^I)+S[5]+4294588738&4294967295,y=T+(b<<4&4294967295|b>>>28),b=I+(y^T^R)+S[8]+2272392833&4294967295,I=y+(b<<11&4294967295|b>>>21),b=R+(I^y^T)+S[11]+1839030562&4294967295,R=I+(b<<16&4294967295|b>>>16),b=T+(R^I^y)+S[14]+4259657740&4294967295,T=R+(b<<23&4294967295|b>>>9),b=y+(T^R^I)+S[1]+2763975236&4294967295,y=T+(b<<4&4294967295|b>>>28),b=I+(y^T^R)+S[4]+1272893353&4294967295,I=y+(b<<11&4294967295|b>>>21),b=R+(I^y^T)+S[7]+4139469664&4294967295,R=I+(b<<16&4294967295|b>>>16),b=T+(R^I^y)+S[10]+3200236656&4294967295,T=R+(b<<23&4294967295|b>>>9),b=y+(T^R^I)+S[13]+681279174&4294967295,y=T+(b<<4&4294967295|b>>>28),b=I+(y^T^R)+S[0]+3936430074&4294967295,I=y+(b<<11&4294967295|b>>>21),b=R+(I^y^T)+S[3]+3572445317&4294967295,R=I+(b<<16&4294967295|b>>>16),b=T+(R^I^y)+S[6]+76029189&4294967295,T=R+(b<<23&4294967295|b>>>9),b=y+(T^R^I)+S[9]+3654602809&4294967295,y=T+(b<<4&4294967295|b>>>28),b=I+(y^T^R)+S[12]+3873151461&4294967295,I=y+(b<<11&4294967295|b>>>21),b=R+(I^y^T)+S[15]+530742520&4294967295,R=I+(b<<16&4294967295|b>>>16),b=T+(R^I^y)+S[2]+3299628645&4294967295,T=R+(b<<23&4294967295|b>>>9),b=y+(R^(T|~I))+S[0]+4096336452&4294967295,y=T+(b<<6&4294967295|b>>>26),b=I+(T^(y|~R))+S[7]+1126891415&4294967295,I=y+(b<<10&4294967295|b>>>22),b=R+(y^(I|~T))+S[14]+2878612391&4294967295,R=I+(b<<15&4294967295|b>>>17),b=T+(I^(R|~y))+S[5]+4237533241&4294967295,T=R+(b<<21&4294967295|b>>>11),b=y+(R^(T|~I))+S[12]+1700485571&4294967295,y=T+(b<<6&4294967295|b>>>26),b=I+(T^(y|~R))+S[3]+2399980690&4294967295,I=y+(b<<10&4294967295|b>>>22),b=R+(y^(I|~T))+S[10]+4293915773&4294967295,R=I+(b<<15&4294967295|b>>>17),b=T+(I^(R|~y))+S[1]+2240044497&4294967295,T=R+(b<<21&4294967295|b>>>11),b=y+(R^(T|~I))+S[8]+1873313359&4294967295,y=T+(b<<6&4294967295|b>>>26),b=I+(T^(y|~R))+S[15]+4264355552&4294967295,I=y+(b<<10&4294967295|b>>>22),b=R+(y^(I|~T))+S[6]+2734768916&4294967295,R=I+(b<<15&4294967295|b>>>17),b=T+(I^(R|~y))+S[13]+1309151649&4294967295,T=R+(b<<21&4294967295|b>>>11),b=y+(R^(T|~I))+S[4]+4149444226&4294967295,y=T+(b<<6&4294967295|b>>>26),b=I+(T^(y|~R))+S[11]+3174756917&4294967295,I=y+(b<<10&4294967295|b>>>22),b=R+(y^(I|~T))+S[2]+718787259&4294967295,R=I+(b<<15&4294967295|b>>>17),b=T+(I^(R|~y))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(b<<21&4294967295|b>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+I&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var T=y-this.blockSize,S=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=T;)r(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(S[R++]=E.charCodeAt(I++),R==this.blockSize){r(this,S),R=0;break}}else for(;I<y;)if(S[R++]=E[I++],R==this.blockSize){r(this,S),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var T=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=T&255,T/=256;for(this.u(E),E=Array(16),y=T=0;4>y;++y)for(var S=0;32>S;S+=8)E[T++]=this.g[y]>>>S&255;return E};function s(E,y){var T=l;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=y(E)}function a(E,y){this.h=y;for(var T=[],S=!0,R=E.length-1;0<=R;R--){var I=E[R]|0;S&&I==y||(T[R]=I,S=!1)}this.g=T}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return V(h(-E));for(var y=[],T=1,S=0;E>=T;S++)y[S]=E/T|0,T*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return V(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(y,8)),S=g,R=0;R<E.length;R+=8){var I=Math.min(8,E.length-R),b=parseInt(E.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),S=S.j(I).add(h(b))):(S=S.j(T),S=S.add(h(b)))}return S}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var E=0,y=1,T=0;T<this.g.length;T++){var S=this.i(T);E+=(0<=S?S:4294967296+S)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(M(this))return"-"+V(this).toString(E);for(var y=h(Math.pow(E,6)),T=this,S="";;){var R=D(T,y).g;T=A(T,R.j(y));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=R,N(T))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=A(this,E),M(E)?-1:N(E)?0:1};function V(E){for(var y=E.g.length,T=[],S=0;S<y;S++)T[S]=~E.g[S];return new a(T,~E.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],S=0,R=0;R<=y;R++){var I=S+(this.i(R)&65535)+(E.i(R)&65535),b=(I>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);S=b>>>16,I&=65535,b&=65535,T[R]=b<<16|I}return new a(T,T[T.length-1]&-2147483648?-1:0)};function A(E,y){return E.add(V(y))}e.j=function(E){if(N(this)||N(E))return g;if(M(this))return M(E)?V(this).j(V(E)):V(V(this).j(E));if(M(E))return V(this.j(V(E)));if(0>this.l(_)&&0>E.l(_))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,T=[],S=0;S<2*y;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<E.g.length;R++){var I=this.i(S)>>>16,b=this.i(S)&65535,le=E.i(R)>>>16,rn=E.i(R)&65535;T[2*S+2*R]+=b*rn,v(T,2*S+2*R),T[2*S+2*R+1]+=I*rn,v(T,2*S+2*R+1),T[2*S+2*R+1]+=b*le,v(T,2*S+2*R+1),T[2*S+2*R+2]+=I*le,v(T,2*S+2*R+2)}for(S=0;S<y;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=y;S<2*y;S++)T[S]=0;return new a(T,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function D(E,y){if(N(y))throw Error("division by zero");if(N(E))return new w(g,g);if(M(E))return y=D(V(E),y),new w(V(y.g),V(y.h));if(M(y))return y=D(E,V(y)),new w(V(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,S=y;0>=S.l(E);)T=L(T),S=L(S);var R=j(T,1),I=j(S,1);for(S=j(S,2),T=j(T,2);!N(S);){var b=I.add(S);0>=b.l(E)&&(R=R.add(T),I=b),S=j(S,1),T=j(T,1)}return y=A(E,R.j(y)),new w(R,y)}for(R=g;0<=E.l(y);){for(T=Math.max(1,Math.floor(E.m()/y.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=h(T),b=I.j(y);M(b)||0<b.l(E);)T-=S,I=h(T),b=I.j(y);N(I)&&(I=m),R=R.add(I),E=A(E,b)}return new w(R,E)}e.A=function(E){return D(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],S=0;S<y;S++)T[S]=this.i(S)&E.i(S);return new a(T,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],S=0;S<y;S++)T[S]=this.i(S)|E.i(S);return new a(T,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],S=0;S<y;S++)T[S]=this.i(S)^E.i(S);return new a(T,this.h^E.h)};function L(E){for(var y=E.g.length+1,T=[],S=0;S<y;S++)T[S]=E.i(S)<<1|E.i(S-1)>>>31;return new a(T,E.h)}function j(E,y){var T=y>>5;y%=32;for(var S=E.g.length-T,R=[],I=0;I<S;I++)R[I]=0<y?E.i(I+T)>>>y|E.i(I+T+1)<<32-y:E.i(I+T);return new a(R,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Ui=a}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var Rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,ba,KT,Xl,Xf,XT,$T,ZT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rl=="object"&&Rl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in f))break t;f=f[C]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,C={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function N(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,C,O){for(var B=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)B[vt-2]=arguments[vt];return c.prototype[C].apply(p,B)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const C=o.length||0,O=p.length||0;o.length=C+O;for(let B=0;B<O;B++)o[C+B]=p[B]}else o.push(p)}}class A{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function j(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,c){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)o[f]=p[f];for(let O=0;O<T.length;O++)f=T[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function b(){var o=_t;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class le{constructor(){this.h=this.g=null}add(c,f){const p=rn.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var rn=new A(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let $,G=!1,_t=new le,Dt=()=>{const o=l.Promise.resolve(void 0);$=()=>{o.then(mn)}};var mn=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(f){I(f)}var c=rn;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}G=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Vt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var sn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Ge(o,c){if(Vt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(L){t:{try{D(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Go[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ge.aa.h.call(this)}}N(Ge,Vt);var Go={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ve(o,c,f,p,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=C,this.key=++tt,this.da=this.fa=!1}function Bt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xe(o){this.src=o,this.g={},this.h=0}xe.prototype.add=function(o,c,f,p,C){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var B=Ee(o,c,p,C);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new ve(c,this.src,O,!!p,C),c.fa=f,o.push(c)),c};function Pt(o,c){var f=c.type;if(f in o.g){var p=o.g[f],C=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=C)&&Array.prototype.splice.call(p,C,1),O&&(Bt(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ee(o,c,f,p){for(var C=0;C<o.length;++C){var O=o[C];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return C}return-1}var Qe="closure_lm_"+(1e6*Math.random()|0),ni={};function Qo(o,c,f,p,C){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Qo(o,c[O],f,p,C);return null}return f=ig(f),o&&o[U]?o.K(c,f,h(p)?!!p.capture:!1,C):Yo(o,c,f,!1,p,C)}function Yo(o,c,f,p,C,O){if(!c)throw Error("Invalid event type");var B=h(C)?!!C.capture:!!C,vt=xc(o);if(vt||(o[Qe]=vt=new xe(o)),f=vt.add(c,f,p,B,O),f.proxy)return f;if(p=w1(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)sn||(C=B),C===void 0&&(C=!1),o.addEventListener(c.toString(),p,C);else if(o.attachEvent)o.attachEvent(ng(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function w1(){function o(f){return c.call(o.src,o.listener,f)}const c=R1;return o}function eg(o,c,f,p,C){if(Array.isArray(c))for(var O=0;O<c.length;O++)eg(o,c[O],f,p,C);else p=h(p)?!!p.capture:!!p,f=ig(f),o&&o[U]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Ee(O,f,p,C),-1<f&&(Bt(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=xc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Ee(c,f,p,C)),(f=-1<o?c[o]:null)&&Mc(f))}function Mc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[U])Pt(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(ng(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=xc(c))?(Pt(f,o),f.h==0&&(f.src=null,c[Qe]=null)):Bt(o)}}}function ng(o){return o in ni?ni[o]:ni[o]="on"+o}function R1(o,c){if(o.da)o=!0;else{c=new Ge(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&Mc(o),o=f.call(p,c)}return o}function xc(o){return o=o[Qe],o instanceof xe?o:null}var kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ig(o){return typeof o=="function"?o:(o[kc]||(o[kc]=function(c){return o.handleEvent(c)}),o[kc])}function ue(){_e.call(this),this.i=new xe(this),this.M=this,this.F=null}N(ue,_e),ue.prototype[U]=!0,ue.prototype.removeEventListener=function(o,c,f,p){eg(this,o,c,f,p)};function Te(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Vt(c,o);else if(c instanceof Vt)c.target=c.target||o;else{var C=c;c=new Vt(p,o),S(c,C)}if(C=!0,f)for(var O=f.length-1;0<=O;O--){var B=c.g=f[O];C=Ko(B,p,!0,c)&&C}if(B=c.g=o,C=Ko(B,p,!0,c)&&C,C=Ko(B,p,!1,c)&&C,f)for(O=0;O<f.length;O++)B=c.g=f[O],C=Ko(B,p,!1,c)&&C}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)Bt(f[p]);delete o.g[c],o.h--}}this.F=null},ue.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},ue.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Ko(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,O=0;O<c.length;++O){var B=c[O];if(B&&!B.da&&B.capture==f){var vt=B.listener,ee=B.ha||B.src;B.fa&&Pt(o.i,B),C=vt.call(ee,p)!==!1&&C}}return C&&!p.defaultPrevented}function rg(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function sg(o){o.g=rg(()=>{o.g=null,o.i&&(o.i=!1,sg(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class I1 extends _e{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:sg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(o){_e.call(this),this.h=o,this.g={}}N(Ws,_e);var ag=[];function og(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&Mc(c)},o),o.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),og(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pc=l.JSON.stringify,C1=l.JSON.parse,D1=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Uc(){}Uc.prototype.h=null;function lg(o){return o.h||(o.h=o.i())}function ug(){}var Js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lc(){Vt.call(this,"d")}N(Lc,Vt);function zc(){Vt.call(this,"c")}N(zc,Vt);var Wi={},cg=null;function Xo(){return cg=cg||new ue}Wi.La="serverreachability";function hg(o){Vt.call(this,Wi.La,o)}N(hg,Vt);function ta(o){const c=Xo();Te(c,new hg(c))}Wi.STAT_EVENT="statevent";function fg(o,c){Vt.call(this,Wi.STAT_EVENT,o),this.stat=c}N(fg,Vt);function Ae(o){const c=Xo();Te(c,new fg(c,o))}Wi.Ma="timingevent";function dg(o,c){Vt.call(this,Wi.Ma,o),this.size=c}N(dg,Vt);function ea(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function na(){this.g=!0}na.prototype.xa=function(){this.g=!1};function N1(o,c,f,p,C,O){o.info(function(){if(o.g)if(O)for(var B="",vt=O.split("&"),ee=0;ee<vt.length;ee++){var ut=vt[ee].split("=");if(1<ut.length){var ce=ut[0];ut=ut[1];var he=ce.split("_");B=2<=he.length&&he[1]=="type"?B+(ce+"="+ut+"&"):B+(ce+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+f+`
`+B})}function O1(o,c,f,p,C,O,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+f+`
`+O+" "+B})}function Mr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+M1(o,f)+(p?" "+p:"")})}function V1(o,c){o.info(function(){return"TIMEOUT: "+c})}na.prototype.info=function(){};function M1(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var O=C[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return Pc(f)}catch{return c}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bc;function Zo(){}N(Zo,Uc),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},Bc=new Zo;function ii(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gg}function gg(){this.i=null,this.g="",this.h=!1}var pg={},jc={};function qc(o,c,f){o.L=1,o.v=el(Nn(c)),o.m=f,o.P=!0,yg(o,null)}function yg(o,c){o.F=Date.now(),Wo(o),o.A=Nn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Og(f.i,"t",p),o.C=0,f=o.j.J,o.h=new gg,o.g=Xg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new I1(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(ag[0]=C.toString()),C=ag);for(var O=0;O<C.length;O++){var B=Qo(f,C[O],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),ta(),N1(o.i,o.u,o.A,o.l,o.R,o.m)}ii.prototype.ca=function(o){o=o.target;const c=this.M;c&&On(o)==3?c.j():this.Y(o)},ii.prototype.Y=function(o){try{if(o==this.g)t:{const he=On(this.g);var c=this.g.Ba();const Pr=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||Lg(this.g)))){this.J||he!=4||c==7||(c==8||0>=Pr?ta(3):ta(2)),Hc(this);var f=this.g.Z();this.X=f;e:if(_g(this)){var p=Lg(this.g);o="";var C=p.length,O=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),ia(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==C-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,O1(this.i,this.u,this.A,this.l,this.R,he,f),this.o){if(this.T&&!this.K){e:{if(this.g){var vt,ee=this.g;if((vt=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(vt)){var ut=vt;break e}}ut=null}if(f=ut)Mr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fc(this,f);else{this.o=!1,this.s=3,Ae(12),Ji(this),ia(this);break t}}if(this.P){f=!0;let an;for(;!this.J&&this.C<B.length;)if(an=x1(this,B),an==jc){he==4&&(this.s=4,Ae(14),f=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(an==pg){this.s=4,Ae(15),Mr(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Mr(this.i,this.l,an,null),Fc(this,an);if(_g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||B.length!=0||this.h.h||(this.s=1,Ae(16),f=!1),this.o=this.o&&f,!f)Mr(this.i,this.l,B,"[Invalid Chunked Response]"),Ji(this),ia(this);else if(0<B.length&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.ba&&!ce.M&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),$c(ce),ce.M=!0,Ae(11))}}else Mr(this.i,this.l,B,null),Fc(this,B);he==4&&Ji(this),this.o&&!this.J&&(he==4?Gg(this.j,this):(this.o=!1,Wo(this)))}else Z1(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),Ji(this),ia(this)}}}catch{}finally{}};function _g(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function x1(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?jc:(f=Number(c.substring(f,p)),isNaN(f)?pg:(p+=1,p+f>c.length?jc:(c=c.slice(p,p+f),o.C=p+f,c)))}ii.prototype.cancel=function(){this.J=!0,Ji(this)};function Wo(o){o.S=Date.now()+o.I,vg(o,o.I)}function vg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ea(m(o.ba,o),c)}function Hc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ii.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(V1(this.i,this.A),this.L!=2&&(ta(),Ae(17)),Ji(this),this.s=2,ia(this)):vg(this,this.S-o)};function ia(o){o.j.G==0||o.J||Gg(o.j,o)}function Ji(o){Hc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,og(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Fc(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Gc(f.h,o))){if(!o.K&&Gc(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)ol(f),sl(f);else break t;Xc(f),Ae(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ea(m(f.Za,f),6e3));if(1>=Ag(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else er(f,11)}else if((o.K||f.g==o)&&ol(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let ut=C[c];if(f.T=ut[0],ut=ut[1],f.G==2)if(ut[0]=="c"){f.K=ut[1],f.ia=ut[2];const ce=ut[3];ce!=null&&(f.la=ce,f.j.info("VER="+f.la));const he=ut[4];he!=null&&(f.Aa=he,f.j.info("SVER="+f.Aa));const Pr=ut[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(p=1.5*Pr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const an=o.g;if(an){const ul=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var O=p.h;O.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Qc(O,O.h),O.h=null))}if(p.D){const Zc=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(p.ya=Zc,St(p.I,p.D,Zc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=Kg(p,p.J?p.ia:null,p.W),B.K){Sg(p.h,B);var vt=B,ee=p.L;ee&&(vt.I=ee),vt.B&&(Hc(vt),Wo(vt)),p.g=B}else Hg(p);0<f.i.length&&al(f)}else ut[0]!="stop"&&ut[0]!="close"||er(f,7);else f.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?er(f,7):Kc(f):ut[0]!="noop"&&f.l&&f.l.ta(ut),f.v=0)}}ta(4)}catch{}}var k1=class{constructor(o,c){this.g=o,this.map=c}};function Eg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ag(o){return o.h?1:o.g?o.g.size:0}function Gc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Qc(o,c){o.g?o.g.add(c):o.h=c}function Sg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Eg.prototype.cancel=function(){if(this.i=bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function bg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function P1(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function U1(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function wg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=U1(o),p=P1(o),C=p.length,O=0;O<C;O++)c.call(void 0,p[O],f&&f[O],o)}var Rg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L1(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),C=null;if(0<=p){var O=o[f].substring(0,p);C=o[f].substring(p+1)}else O=o[f];c(O,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function tr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof tr){this.h=o.h,Jo(this,o.j),this.o=o.o,this.g=o.g,tl(this,o.s),this.l=o.l;var c=o.i,f=new aa;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Ig(this,f),this.m=o.m}else o&&(c=String(o).match(Rg))?(this.h=!1,Jo(this,c[1]||"",!0),this.o=ra(c[2]||""),this.g=ra(c[3]||"",!0),tl(this,c[4]),this.l=ra(c[5]||"",!0),Ig(this,c[6]||"",!0),this.m=ra(c[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}tr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(sa(c,Cg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(sa(c,Cg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(sa(f,f.charAt(0)=="/"?j1:B1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",sa(f,H1)),o.join("")};function Nn(o){return new tr(o)}function Jo(o,c,f){o.j=f?ra(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function tl(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Ig(o,c,f){c instanceof aa?(o.i=c,F1(o.i,o.h)):(f||(c=sa(c,q1)),o.i=new aa(c,o.h))}function St(o,c,f){o.i.set(c,f)}function el(o){return St(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ra(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function sa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,z1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function z1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Cg=/[#\/\?@]/g,B1=/[#\?:]/g,j1=/[#\?]/g,q1=/[#\?@]/g,H1=/#/g;function aa(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function ri(o){o.g||(o.g=new Map,o.h=0,o.i&&L1(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=aa.prototype,e.add=function(o,c){ri(this),this.i=null,o=xr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Dg(o,c){ri(o),c=xr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Ng(o,c){return ri(o),c=xr(o,c),o.g.has(c)}e.forEach=function(o,c){ri(this),this.g.forEach(function(f,p){f.forEach(function(C){o.call(c,C,p,this)},this)},this)},e.na=function(){ri(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const C=o[p];for(let O=0;O<C.length;O++)f.push(c[p])}return f},e.V=function(o){ri(this);let c=[];if(typeof o=="string")Ng(this,o)&&(c=c.concat(this.g.get(xr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return ri(this),this.i=null,o=xr(this,o),Ng(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Og(o,c,f){Dg(o,c),0<f.length&&(o.i=null,o.g.set(xr(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var C=O;B[p]!==""&&(C+="="+encodeURIComponent(String(B[p]))),o.push(C)}}return this.i=o.join("&")};function xr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function F1(o,c){c&&!o.j&&(ri(o),o.i=null,o.g.forEach(function(f,p){var C=p.toLowerCase();p!=C&&(Dg(this,p),Og(this,C,f))},o)),o.j=c}function G1(o,c){const f=new na;if(l.Image){const p=new Image;p.onload=_(si,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(si,f,"TestLoadImage: error",!1,c,p),p.onabort=_(si,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(si,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function Q1(o,c){const f=new na,p=new AbortController,C=setTimeout(()=>{p.abort(),si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(C),O.ok?si(f,"TestPingServer: ok",!0,c):si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),si(f,"TestPingServer: error",!1,c)})}function si(o,c,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function Y1(){this.g=new D1}function K1(o,c,f){const p=f||"";try{wg(o,function(C,O){let B=C;h(C)&&(B=Pc(C)),c.push(p+O+"="+encodeURIComponent(B))})}catch(C){throw c.push(p+"type="+encodeURIComponent("_badmap")),C}}function nl(o){this.l=o.Ub||null,this.j=o.eb||!1}N(nl,Uc),nl.prototype.g=function(){return new il(this.l,this.j)},nl.prototype.i=function(o){return function(){return o}}({});function il(o,c){ue.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(il,ue),e=il.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,la(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?oa(this):la(this),this.readyState==3&&Vg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,oa(this))},e.Qa=function(o){this.g&&(this.response=o,oa(this))},e.ga=function(){this.g&&oa(this)};function oa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,la(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function la(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Mg(o){let c="";return j(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Yc(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Mg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):St(o,c,f))}function Mt(o){ue.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Mt,ue);var X1=/^https?$/i,$1=["POST","PUT"];e=Mt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bc.g(),this.v=this.o?lg(this.o):lg(Bc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){xg(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call($1,c,void 0))||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of f)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ug(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){xg(this,O)}};function xg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,kg(o),rl(o)}function kg(o){o.A||(o.A=!0,Te(o,"complete"),Te(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Te(this,"complete"),Te(this,"abort"),rl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rl(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Pg(this):this.bb())},e.bb=function(){Pg(this)};function Pg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||On(o)!=4||o.Z()!=2)){if(o.u&&On(o)==4)rg(o.Ea,0,o);else if(Te(o,"readystatechange"),On(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var C=String(o.D).match(Rg)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!X1.test(C?C.toLowerCase():"")}f=p}if(f)Te(o,"complete"),Te(o,"success");else{o.m=6;try{var O=2<On(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",kg(o)}}finally{rl(o)}}}}function rl(o,c){if(o.g){Ug(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||Te(o,"ready");try{f.onreadystatechange=p}catch{}}}function Ug(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function On(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),C1(c)}};function Lg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Z1(o){const c={};o=(o.g&&2<=On(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=R(o[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[C]||[];c[C]=O,O.push(f)}E(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function zg(o){this.Aa=0,this.i=[],this.j=new na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,o),this.cb=ua("retryDelaySeedMs",1e4,o),this.Wa=ua("forwardChannelMaxRetries",2,o),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Eg(o&&o.concurrentRequestLimit),this.Da=new Y1,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=zg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){Ae(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=Kg(this,null,this.W),al(this)};function Kc(o){if(Bg(o),o.G==3){var c=o.U++,f=Nn(o.I);if(St(f,"SID",o.K),St(f,"RID",c),St(f,"TYPE","terminate"),ca(o,f),c=new ii(o,o.j,c),c.L=2,c.v=el(Nn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Xg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Wo(c)}Yg(o)}function sl(o){o.g&&($c(o),o.g.cancel(),o.g=null)}function Bg(o){sl(o),o.u&&(l.clearTimeout(o.u),o.u=null),ol(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function al(o){if(!Tg(o.h)&&!o.s){o.s=!0;var c=o.Ga;$||Dt(),G||($(),G=!0),_t.add(c,o),o.B=0}}function W1(o,c){return Ag(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ea(m(o.Ga,o,c),Qg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new ii(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),S(O,this.S)):O=this.S),this.m!==null||this.O||(C.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=qg(this,C,c),f=Nn(this.I),St(f,"RID",o),St(f,"CVER",22),this.D&&St(f,"X-HTTP-Session-Id",this.D),ca(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Mg(O)))+"&"+c:this.m&&Yc(f,this.m,O)),Qc(this.h,C),this.Ua&&St(f,"TYPE","init"),this.P?(St(f,"$req",c),St(f,"SID","null"),C.T=!0,qc(C,f,null)):qc(C,f,c),this.G=2}}else this.G==3&&(o?jg(this,o):this.i.length==0||Tg(this.h)||jg(this))};function jg(o,c){var f;c?f=c.l:f=o.U++;const p=Nn(o.I);St(p,"SID",o.K),St(p,"RID",f),St(p,"AID",o.T),ca(o,p),o.m&&o.o&&Yc(p,o.m,o.o),f=new ii(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=qg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Qc(o.h,f),qc(f,p,c)}function ca(o,c){o.H&&j(o.H,function(f,p){St(c,p,f)}),o.l&&wg({},function(f,p){St(c,p,f)})}function qg(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let O=-1;for(;;){const B=["count="+f];O==-1?0<f?(O=C[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let vt=!0;for(let ee=0;ee<f;ee++){let ut=C[ee].g;const ce=C[ee].map;if(ut-=O,0>ut)O=Math.max(0,C[ee].g-100),vt=!1;else try{K1(ce,B,"req"+ut+"_")}catch{p&&p(ce)}}if(vt){p=B.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function Hg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;$||Dt(),G||($(),G=!0),_t.add(c,o),o.v=0}}function Xc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ea(m(o.Fa,o),Qg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ea(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),sl(this),Fg(this))};function $c(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Fg(o){o.g=new ii(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Nn(o.qa);St(c,"RID","rpc"),St(c,"SID",o.K),St(c,"AID",o.T),St(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&St(c,"TO",o.ja),St(c,"TYPE","xmlhttp"),ca(o,c),o.m&&o.o&&Yc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=el(Nn(c)),f.m=null,f.P=!0,yg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,sl(this),Xc(this),Ae(19))};function ol(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Gg(o,c){var f=null;if(o.g==c){ol(o),$c(o),o.g=null;var p=2}else if(Gc(o.h,c))f=c.D,Sg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;p=Xo(),Te(p,new dg(p,f)),al(o)}else Hg(o);else if(C=c.s,C==3||C==0&&0<c.X||!(p==1&&W1(o,c)||p==2&&Xc(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:er(o,5);break;case 4:er(o,10);break;case 3:er(o,6);break;default:er(o,2)}}}function Qg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function er(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const C=!p;p=new tr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jo(p,"https"),el(p),C?G1(p.toString(),f):Q1(p.toString(),f)}else Ae(2);o.G=0,o.l&&o.l.sa(c),Yg(o),Bg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Yg(o){if(o.G=0,o.ka=[],o.l){const c=bg(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Kg(o,c,f){var p=f instanceof tr?Nn(f):new tr(f);if(p.g!="")c&&(p.g=c+"."+p.g),tl(p,p.s);else{var C=l.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var O=new tr(null);p&&Jo(O,p),c&&(O.g=c),C&&tl(O,C),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&St(p,f,c),St(p,"VER",o.la),ca(o,p),p}function Xg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Mt(new nl({eb:f})):new Mt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $g(){}e=$g.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ll(){}ll.prototype.g=function(o,c){return new ke(o,c)};function ke(o,c){ue.call(this),this.g=new zg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new kr(this)}N(ke,ue),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Kc(this.g)},ke.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Pc(o),o=f);c.i.push(new k1(c.Ya++,o)),c.G==3&&al(c)},ke.prototype.N=function(){this.g.l=null,delete this.j,Kc(this.g),delete this.g,ke.aa.N.call(this)};function Zg(o){Lc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}N(Zg,Lc);function Wg(){zc.call(this),this.status=1}N(Wg,zc);function kr(o){this.g=o}N(kr,$g),kr.prototype.ua=function(){Te(this.g,"a")},kr.prototype.ta=function(o){Te(this.g,new Zg(o))},kr.prototype.sa=function(o){Te(this.g,new Wg)},kr.prototype.ra=function(){Te(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,ZT=function(){return new ll},$T=function(){return Xo()},XT=Wi,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,Xl=$o,mg.COMPLETE="complete",KT=mg,ug.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",ue.prototype.listen=ue.prototype.K,ba=ug,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,YT=Mt}).apply(typeof Rl<"u"?Rl:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",t_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new hm("@firebase/firestore");function Hr(){return Hi.logLevel}function PC(e){Hi.setLogLevel(e)}function H(e,...t){if(Hi.logLevel<=st.DEBUG){const n=t.map(Am);Hi.debug(`Firestore (${Ys}): ${e}`,...n)}}function Wn(e,...t){if(Hi.logLevel<=st.ERROR){const n=t.map(Am);Hi.error(`Firestore (${Ys}): ${e}`,...n)}}function Ns(e,...t){if(Hi.logLevel<=st.WARN){const n=t.map(Am);Hi.warn(`Firestore (${Ys}): ${e}`,...n)}}function Am(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,WT(e,i,n)}function WT(e,t,n){let i=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wn(i),new Error(i)}function dt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||WT(t,r,i)}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(de.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zC{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new JT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new de(t)}}class BC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=de.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=HC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function et(e,t){return e<t?-1:e>t?1:0}function $f(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return et(i,r);{const s=tA(),a=FC(s.encode(n_(e,n)),s.encode(n_(t,n)));return a!==0?a:et(i,r)}}n+=i>65535?2:1}return et(e.length,t.length)}function n_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function FC(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return et(e[n],t[n]);return et(e.length,t.length)}function Os(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,r_=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(t){return Yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*r_);return new Yt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<i_)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(t){return this.seconds===t.seconds?et(this.nanoseconds,t.nanoseconds):et(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Yt(0,0))}static max(){return new Z(new Yt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class pn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return pn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=pn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return et(t.length,n.length)}static compareSegments(t,n){const i=pn.isNumericId(t),r=pn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?pn.extractNumericId(t).compare(pn.extractNumericId(n)):$f(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ui.fromString(t.substring(4,t.length-2))}}class bt extends pn{construct(t,n,i){return new bt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends pn{construct(t,n,i){return new se(t,n,i)}static isValidIdentifier(t){return GC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new se([s_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(bt.fromString(t))}static fromName(t){return new Q(bt.fromString(t).popFirst(5))}static empty(){return new Q(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new bt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=-1;function QC(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Fi(r,Q.empty(),t)}function YC(e){return new Fi(e.readTime,e.key,ho)}class Fi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Fi(Z.min(),Q.empty(),ho)}static max(){return new Fi(Z.max(),Q.empty(),ho)}}function KC(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:et(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==XC)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,i)=>{n(t)})}static reject(t){return new x((n,i)=>{i(t)})}static waitFor(t){return new x((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=x.resolve(!1);for(const i of t)n=n.next(r=>r?x.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new x((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new x((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function ZC(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ec.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function Tc(e){return e==null}function zu(e){return e===0&&1/e==-1/0}function WC(e){return typeof e=="number"&&Number.isInteger(e)&&!zu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="";function JC(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=a_(t)),t=tD(e.get(n),t);return a_(t)}function tD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case nA:n+="";break;default:n+=s}}return n}function a_(e){return e+nA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function iA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n){this.comparator=t,this.root=n||ie.EMPTY}insert(t,n){return new Ot(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(t){return new Ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ie.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Il(this.root,t,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Il(this.root,t,this.comparator,!0)}}class Il{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ie{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ie.RED,this.left=r??ie.EMPTY,this.right=s??ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ie(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ie.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ie.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ie(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.comparator=t,this.data=new Ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Kt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Kt(this.comparator);return n.data=t,n}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new cn([])}unionWith(t){let n=new Kt(se.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Os(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rA("Invalid base64 string: "+s):s}}(t);return new oe(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return et(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oe.EMPTY_BYTE_STRING=new oe("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(e){if(dt(!!e,39018),typeof e=="string"){let t=0;const n=eD.exec(e);if(dt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qi(e){return typeof e=="string"?oe.fromBase64String(e):oe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="server_timestamp",aA="__type__",oA="__previous_value__",lA="__local_write_time__";function bm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[aA])===null||n===void 0?void 0:n.stringValue)===sA}function Ac(e){const t=e.mapValue.fields[oA];return bm(t)?Ac(t):t}function fo(e){const t=Gi(e.mapValue.fields[lA].timestampValue);return new Yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Bu="(default)";class mo{constructor(t,n){this.projectId=t,this.database=n||Bu}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(t){return t instanceof mo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="__type__",iD="__max__",Cl={mapValue:{}},cA="__vector__",ju="value";function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bm(e)?4:sD(e)?9007199254740991:rD(e)?10:11:Y(28295,{value:e})}function In(e,t){if(e===t)return!0;const n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fo(e).isEqual(fo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Gi(r.timestampValue),l=Gi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Qi(r.bytesValue).isEqual(Qi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return zt(r.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return zt(r.integerValue)===zt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=zt(r.doubleValue),l=zt(s.doubleValue);return a===l?zu(a)===zu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Os(e.arrayValue.values||[],t.arrayValue.values||[],In);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(o_(a)!==o_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!In(a[u],l[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function go(e,t){return(e.values||[]).find(n=>In(n,t))!==void 0}function Vs(e,t){if(e===t)return 0;const n=Yi(e),i=Yi(t);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=zt(s.integerValue||s.doubleValue),u=zt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return u_(e.timestampValue,t.timestampValue);case 4:return u_(fo(e),fo(t));case 5:return $f(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Qi(s),u=Qi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=et(l[h],u[h]);if(d!==0)return d}return et(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=et(zt(s.latitude),zt(a.latitude));return l!==0?l:et(zt(s.longitude),zt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return c_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[ju])===null||l===void 0?void 0:l.arrayValue,N=(u=m[ju])===null||u===void 0?void 0:u.arrayValue,M=et(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:c_(_,N)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Cl.mapValue&&a===Cl.mapValue)return 0;if(s===Cl.mapValue)return 1;if(a===Cl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=$f(u[g],d[g]);if(m!==0)return m;const _=Vs(l[u[g]],h[d[g]]);if(_!==0)return _}return et(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{Pe:n})}}function u_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return et(e,t);const n=Gi(e),i=Gi(t),r=et(n.seconds,i.seconds);return r!==0?r:et(n.nanos,i.nanos)}function c_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Vs(n[r],i[r]);if(s)return s}return et(n.length,i.length)}function Ms(e){return Zf(e)}function Zf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Gi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Qi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Zf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Zf(n.fields[a])}`;return r+"}"}(e.mapValue):Y(61005,{value:e})}function $l(e){switch(Yi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ac(e);return t?16+$l(t):16;case 5:return 2*e.stringValue.length;case 6:return Qi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+$l(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Dr(i.fields,(s,a)=>{r+=s.length+$l(a)}),r}(e.mapValue);default:throw Y(13486,{value:e})}}function h_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wf(e){return!!e&&"integerValue"in e}function wm(e){return!!e&&"arrayValue"in e}function f_(e){return!!e&&"nullValue"in e}function d_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zl(e){return!!e&&"mapValue"in e}function rD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[uA])===null||n===void 0?void 0:n.stringValue)===cA}function Ga(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ga(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ga(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.value=t}static empty(){return new Je({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Zl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ga(n)}setAll(t){let n=se.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Ga(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return In(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Zl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Dr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Je(Ga(this.value))}}function hA(e){const t=[];return Dr(e.fields,(n,i)=>{const r=new se([n]);if(Zl(i)){const s=hA(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new me(t,0,Z.min(),Z.min(),Z.min(),Je.empty(),0)}static newFoundDocument(t,n,i,r){return new me(t,1,n,Z.min(),i,r,0)}static newNoDocument(t,n){return new me(t,2,n,Z.min(),Z.min(),Je.empty(),0)}static newUnknownDocument(t,n){return new me(t,3,n,Z.min(),Z.min(),Je.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Je.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Je.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,n){this.position=t,this.inclusive=n}}function m_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=Vs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function g_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!In(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,n="asc"){this.field=t,this.dir=n}}function aD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{}class Ht extends fA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new lD(t,n,i):n==="array-contains"?new hD(t,i):n==="in"?new fD(t,i):n==="not-in"?new dD(t,i):n==="array-contains-any"?new mD(t,i):new Ht(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new uD(t,i):new cD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vs(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends fA{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new fn(t,n)}matches(t){return dA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function dA(e){return e.op==="and"}function mA(e){return oD(e)&&dA(e)}function oD(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function Jf(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+Ms(e.value);if(mA(e))return e.filters.map(t=>Jf(t)).join(",");{const t=e.filters.map(n=>Jf(n)).join(",");return`${e.op}(${t})`}}function gA(e,t){return e instanceof Ht?function(i,r){return r instanceof Ht&&i.op===r.op&&i.field.isEqual(r.field)&&In(i.value,r.value)}(e,t):e instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&gA(a,r.filters[l]),!0):!1}(e,t):void Y(19439)}function pA(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(e):e instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"}(e):"Filter"}class lD extends Ht{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class uD extends Ht{constructor(t,n){super(t,"in",n),this.keys=yA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class cD extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=yA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function yA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class hD extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return wm(n)&&go(n.arrayValue,this.value)}}class fD extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&go(this.value.arrayValue,n)}}class dD extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!go(this.value.arrayValue,n)}}class mD extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>go(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function p_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new gD(e,t,n,i,r,s,a)}function Rm(e){const t=W(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Jf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Tc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ms(i)).join(",")),t.Ie=n}return t.Ie}function Im(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!g_(e.startAt,t.startAt)&&g_(e.endAt,t.endAt)}function td(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pD(e,t,n,i,r,s,a,l){return new Bo(e,t,n,i,r,s,a,l)}function Cm(e){return new Bo(e)}function y_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _A(e){return e.collectionGroup!==null}function Qa(e){const t=W(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Kt(se.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Hu(s,i))}),n.has(se.keyField().canonicalString())||t.Ee.push(new Hu(se.keyField(),i))}return t.Ee}function bn(e){const t=W(e);return t.de||(t.de=yD(t,Qa(e))),t.de}function yD(e,t){if(e.limitType==="F")return p_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Hu(r.field,s)});const n=e.endAt?new qu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qu(e.startAt.position,e.startAt.inclusive):null;return p_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function ed(e,t){const n=e.filters.concat([t]);return new Bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nd(e,t,n){return new Bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return Im(bn(e),bn(t))&&e.limitType===t.limitType}function vA(e){return`${Rm(bn(e))}|lt:${e.limitType}`}function Fr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>pA(r)).join(", ")}]`),Tc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ms(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ms(r)).join(",")),`Target(${i})`}(bn(e))}; limitType=${e.limitType})`}function bc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Qa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=m_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Qa(i),r)||i.endAt&&!function(a,l,u){const h=m_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Qa(i),r))}(e,t)}function _D(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function EA(e){return(t,n)=>{let i=!1;for(const r of Qa(e)){const s=vD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function vD(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Vs(u,h):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return iA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Ot(Q.comparator);function Jn(){return ED}const TA=new Ot(Q.comparator);function wa(...e){let t=TA;for(const n of e)t=t.insert(n.key,n);return t}function AA(e){let t=TA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function or(){return Ya()}function SA(){return Ya()}function Ya(){return new Nr(e=>e.toString(),(e,t)=>e.isEqual(t))}const TD=new Ot(Q.comparator),AD=new Kt(Q.comparator);function at(...e){let t=AD;for(const n of e)t=t.add(n);return t}const SD=new Kt(et);function bD(){return SD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(t)?"-0":t}}function bA(e){return{integerValue:""+e}}function wD(e,t){return WC(t)?bA(t):Dm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function RD(e,t,n){return e instanceof Fu?function(r,s){const a={fields:{[aA]:{stringValue:sA},[lA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bm(s)&&(s=Ac(s)),s&&(a.fields[oA]=s),{mapValue:a}}(n,t):e instanceof po?RA(e,t):e instanceof yo?IA(e,t):function(r,s){const a=wA(r,s),l=__(a)+__(r.Re);return Wf(a)&&Wf(r.Re)?bA(l):Dm(r.serializer,l)}(e,t)}function ID(e,t,n){return e instanceof po?RA(e,t):e instanceof yo?IA(e,t):n}function wA(e,t){return e instanceof Gu?function(i){return Wf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Fu extends wc{}class po extends wc{constructor(t){super(),this.elements=t}}function RA(e,t){const n=CA(t);for(const i of e.elements)n.some(r=>In(r,i))||n.push(i);return{arrayValue:{values:n}}}class yo extends wc{constructor(t){super(),this.elements=t}}function IA(e,t){let n=CA(t);for(const i of e.elements)n=n.filter(r=>!In(r,i));return{arrayValue:{values:n}}}class Gu extends wc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function __(e){return zt(e.integerValue||e.doubleValue)}function CA(e){return wm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function CD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof po&&r instanceof po||i instanceof yo&&r instanceof yo?Os(i.elements,r.elements,In):i instanceof Gu&&r instanceof Gu?In(i.Re,r.Re):i instanceof Fu&&r instanceof Fu}(e.transform,t.transform)}class DD{constructor(t,n){this.version=t,this.transformResults=n}}class wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Rc{}function DA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Nm(e.key,wn.none()):new jo(e.key,e.data,wn.none());{const n=e.data,i=Je.empty();let r=new Kt(se.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Or(e.key,i,new cn(r.toArray()),wn.none())}}function ND(e,t,n){e instanceof jo?function(r,s,a){const l=r.value.clone(),u=E_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Or?function(r,s,a){if(!Wl(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=E_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(NA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ka(e,t,n,i){return e instanceof jo?function(s,a,l,u){if(!Wl(s.precondition,a))return l;const h=s.value.clone(),d=T_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Or?function(s,a,l,u){if(!Wl(s.precondition,a))return l;const h=T_(s.fieldTransforms,u,a),d=a.data;return d.setAll(NA(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return Wl(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function OD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=wA(i.transform,r||null);s!=null&&(n===null&&(n=Je.empty()),n.set(i.field,s))}return n||null}function v_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Os(i,r,(s,a)=>CD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jo extends Rc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Or extends Rc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function E_(e,t,n){const i=new Map;dt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,ID(a,l,n[r]))}return i}function T_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,RD(s,a,t))}return i}class Nm extends Rc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Rc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&ND(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ka(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ka(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=SA();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=DA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),at())}isEqual(t){return this.batchId===t.batchId&&Os(this.mutations,t.mutations,(n,i)=>v_(n,i))&&Os(this.baseMutations,t.baseMutations,(n,i)=>v_(n,i))}}class Om{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){dt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return TD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Om(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,ot;function PD(e){switch(e){case P.OK:return Y(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function OA(e){if(e===void 0)return Wn("GRPC error has no .code"),P.UNKNOWN;switch(e){case jt.OK:return P.OK;case jt.CANCELLED:return P.CANCELLED;case jt.UNKNOWN:return P.UNKNOWN;case jt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case jt.INTERNAL:return P.INTERNAL;case jt.UNAVAILABLE:return P.UNAVAILABLE;case jt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case jt.NOT_FOUND:return P.NOT_FOUND;case jt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case jt.ABORTED:return P.ABORTED;case jt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case jt.DATA_LOSS:return P.DATA_LOSS;default:return Y(39323,{code:e})}}(ot=jt||(jt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Ui([4294967295,4294967295],0);function A_(e){const t=tA().encode(e),n=new QT;return n.update(t),new Uint8Array(n.digest())}function S_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ui([n,i],0),new Ui([r,s],0)]}class Vm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(i<0)throw new Ra(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ui.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Ui.fromNumber(i)));return r.compare(UD)===1&&(r=new Ui([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=A_(t),[i,r]=S_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Vm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=A_(t),[i,r]=S_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ic(Z.min(),r,new Ot(et),Jn(),at())}}class qo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new qo(i,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class VA{constructor(t,n){this.targetId=t,this.Ce=n}}class MA{constructor(t,n,i=oe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class b_{constructor(){this.Fe=0,this.Me=w_(),this.xe=oe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=at(),n=at(),i=at();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new qo(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=w_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LD{constructor(t){this.ze=t,this.je=new Map,this.He=Jn(),this.Je=Dl(),this.Ye=Dl(),this.Ze=new Ot(et)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(td(s))if(i===0){const a=new Q(s.path);this.tt(n,a,me.newNoDocument(a,Z.min()))}else dt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Qi(i).toUint8Array()}catch(u){if(u instanceof rA)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Vm(a,r,s)}catch(u){return Ns(u instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&td(l.target)){const u=new Q(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,me.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=at();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new Ic(t,n,this.Ze,this.He,i);return this.He=Jn(),this.Je=Dl(),this.Ye=Dl(),this.Ze=new Ot(et),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new b_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Kt(et),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Kt(et),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new b_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Dl(){return new Ot(Q.comparator)}function w_(){return new Ot(Q.comparator)}const zD={asc:"ASCENDING",desc:"DESCENDING"},BD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class qD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function id(e,t){return e.useProto3Json||Tc(t)?t:{value:t}}function Qu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function HD(e,t){return Qu(e,t.toTimestamp())}function Rn(e){return dt(!!e,49232),Z.fromTimestamp(function(n){const i=Gi(n);return new Yt(i.seconds,i.nanos)}(e))}function Mm(e,t){return rd(e,t).canonicalString()}function rd(e,t){const n=function(r){return new bt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function kA(e){const t=bt.fromString(e);return dt(BA(t),10190,{key:t.toString()}),t}function sd(e,t){return Mm(e.databaseId,t.path)}function Bh(e,t){const n=kA(t);if(n.get(1)!==e.databaseId.projectId)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(UA(n))}function PA(e,t){return Mm(e.databaseId,t)}function FD(e){const t=kA(e);return t.length===4?bt.emptyPath():UA(t)}function ad(e){return new bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function UA(e){return dt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function R_(e,t,n){return{name:sd(e,t),fields:n.value.mapValue.fields}}function GD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(dt(d===void 0||typeof d=="string",58123),oe.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),oe.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?P.UNKNOWN:OA(h.code);return new F(d,h.message||"")}(a);n=new MA(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bh(e,i.document.name),s=Rn(i.document.updateTime),a=i.document.createTime?Rn(i.document.createTime):Z.min(),l=new Je({mapValue:{fields:i.document.fields}}),u=me.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Jl(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Bh(e,i.document),s=i.readTime?Rn(i.readTime):Z.min(),a=me.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Jl([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Bh(e,i.document),s=i.removedTargetIds||[];n=new Jl([],s,r,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new kD(r,s),l=i.targetId;n=new VA(l,a)}}return n}function QD(e,t){let n;if(t instanceof jo)n={update:R_(e,t.key,t.value)};else if(t instanceof Nm)n={delete:sd(e,t.key)};else if(t instanceof Or)n={update:R_(e,t.key,t.data),updateMask:eN(t.fieldMask)};else{if(!(t instanceof VD))return Y(16599,{ft:t.type});n={verify:sd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Fu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof po)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gu)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Y(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:HD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(e,t.precondition)),n}function YD(e,t){return e&&e.length>0?(dt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Rn(r.updateTime):Rn(s);return a.isEqual(Z.min())&&(a=Rn(s)),new DD(a,r.transformResults||[])}(n,t))):[]}function KD(e,t){return{documents:[PA(e,t.path)]}}function XD(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=PA(e,r);const s=function(h){if(h.length!==0)return zA(fn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Gr(m.field),direction:WD(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=id(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function $D(e){let t=FD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){dt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=LA(g);return m instanceof fn&&mA(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(N){return new Hu(Qr(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Tc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new qu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new qu(_,m)}(n.endAt)),pD(t,r,a,s,l,"F",u,h)}function ZD(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Qr(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qr(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qr(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qr(n.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(Qr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>LA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function WD(e){return zD[e]}function JD(e){return BD[e]}function tN(e){return jD[e]}function Gr(e){return{fieldPath:e.canonicalString()}}function Qr(e){return se.fromServerFormat(e.fieldPath)}function zA(e){return e instanceof Ht?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(n.field),op:JD(n.op),value:n.value}}}(e):e instanceof fn?function(n){const i=n.getFilters().map(r=>zA(r));return i.length===1?i[0]:{compositeFilter:{op:tN(n.op),filters:i}}}(e):Y(54877,{filter:e})}function eN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function BA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n,i,r,s=Z.min(),a=Z.min(),l=oe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new bi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.wt=t}}function iN(e){const t=$D({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.Cn=new sN}addToCollectionParentIndex(t,n){return this.Cn.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}deleteAllFieldIndexes(t){return x.resolve()}createTargetIndexes(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(Fi.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(Fi.min())}updateCollectionGroup(t,n,i){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class sN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Kt(bt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Kt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jA=41943040;class De{static withCacheSize(t){return new De(t,De.DEFAULT_COLLECTION_PERCENTILE,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */De.DEFAULT_COLLECTION_PERCENTILE=10,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,De.DEFAULT=new De(jA,De.DEFAULT_COLLECTION_PERCENTILE,De.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),De.DISABLED=new De(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new xs(0)}static lr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",aN=1048576;function D_([e,t],[n,i]){const r=et(e,n);return r===0?et(t,i):r}class oN{constructor(t){this.Er=t,this.buffer=new Kt(D_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();D_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(C_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xs(n)?H(C_,"Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.mr(3e5)})}}class uN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return x.resolve(Ec.le);const i=new oN(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(I_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Hr()<=st.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function cN(e,t){return new uN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new Nr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?x.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ka(i.mutation,r,cn.empty(),Yt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,at()).next(()=>i))}getLocalViewOfDocuments(t,n,i=at()){const r=or();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=wa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=or();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,at()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Jn();const a=Ya(),l=function(){return Ya()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Or)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Ka(d.mutation,h,d.mutation.getFieldMask(),Yt.now())):a.set(h.key,cn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new fN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=Ya();let r=new Ot((a,l)=>a-l),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||cn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||at()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=SA();d.forEach(m=>{if(!s.has(m)){const _=DA(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return x.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_A(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):x.resolve(or());let l=ho,u=s;return a.next(h=>x.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,at())).next(d=>({batchId:l,changes:AA(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=wa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=wa();return this.indexManager.getCollectionParents(t,s).next(l=>x.forEach(l,u=>{const h=function(g,m){return new Bo(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,me.newInvalidDocument(d)))});let l=wa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Ka(d.mutation,h,cn.empty(),Yt.now()),bc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return x.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Rn(r.createTime)}}(n)),x.resolve()}getNamedQuery(t,n){return x.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:iN(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.overlays=new Ot(Q.comparator),this.Qr=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const i=or();return x.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),x.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),x.resolve()}getOverlaysForCollection(t,n,i){const r=or(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return x.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ot((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=or(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=or(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return x.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new xD(n,i));let s=this.Qr.get(n);s===void 0&&(s=at(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.sessionToken=oe.EMPTY_BYTE_STRING}getSessionToken(t){return x.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.$r=new Kt($t.Ur),this.Kr=new Kt($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new $t(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new $t(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Q(new bt([])),i=new $t(n,t),r=new $t(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Q(new bt([])),i=new $t(n,t),r=new $t(n,t+1);let s=at();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new $t(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class $t{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Q.comparator(t.key,n.key)||et(t.Zr,n.Zr)}static Wr(t,n){return et(t.Zr,n.Zr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Kt($t.Ur)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new MD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new $t(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return x.resolve(a)}lookupMutationBatch(t,n){return x.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?Sm:this.nr-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new $t(n,0),r=new $t(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Kt(et);return n.forEach(r=>{const s=new $t(r,0),a=new $t(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),x.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new $t(new Q(s),0);let l=new Kt(et);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),x.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return x.forEach(n.mutations,r=>{const s=new $t(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new $t(n,0),r=this.Xr.firstAfterOrEqual(i);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.ii=t,this.docs=function(){return new Ot(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return x.resolve(i?i.document.mutableCopy():me.newInvalidDocument(n))}getEntries(t,n){let i=Jn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():me.newInvalidDocument(r))}),x.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Jn();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||KC(YC(d),i)<=0||(r.has(d.key)||bc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Y(9500)}si(t,n){return x.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new vN(this)}getSize(t){return x.resolve(this.size)}}class vN extends hN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),x.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t){this.persistence=t,this.oi=new Nr(n=>Rm(n),Im),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this._i=0,this.ai=new xm,this.targetCount=0,this.ui=xs.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),x.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new xs(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.Tr(n),x.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),x.waitFor(s).next(()=>r)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return x.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),x.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),x.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),x.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return x.resolve(i)}containsKey(t,n){return x.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n){this.ci={},this.overlays={},this.li=new Ec(0),this.hi=!1,this.hi=!0,this.Pi=new pN,this.referenceDelegate=t(this),this.Ti=new EN(this),this.indexManager=new rN,this.remoteDocumentCache=function(r){return new _N(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new nN(n),this.Ei=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new yN(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new TN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return x.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class TN extends $C{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Vi=new xm,this.mi=null}static fi(t){return new km(t)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),x.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),x.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,i=>{const r=Q.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,Z.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return x.or([()=>x.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Yu{constructor(t,n){this.persistence=t,this.yi=new Nr(i=>JC(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=cN(this,n)}static fi(t,n){return new Yu(t,n)}di(){}Ai(t){return x.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return x.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?x.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,Z.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),x.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),x.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),x.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),x.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$l(t.data.value)),n}Dr(t,n,i){return x.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return x.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=at(),r=at();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Pm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return pR()?8:ZC(ye())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new AN;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(Hr()<=st.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Hr()<=st.DEBUG&&H("QueryEngine","Query:",Fr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Hr()<=st.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bn(n))):x.resolve())}ws(t,n){if(y_(n))return x.resolve(null);let i=bn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=nd(n,null,"F"),i=bn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=at(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,nd(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return y_(n)||r.isEqual(Z.min())?x.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?x.resolve(null):(Hr()<=st.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fr(n)),this.Fs(t,a,n,QC(r,ho)).next(l=>l))})}vs(t,n){let i=new Kt(EA(t));return n.forEach((r,s)=>{bc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Hr()<=st.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Fr(n)),this.ys.getDocumentsMatchingQuery(t,n,Fi.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="LocalStore",bN=3e8;class wN{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Ot(et),this.Os=new Nr(s=>Rm(s),Im),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function RN(e,t,n,i){return new wN(e,t,n,i)}async function HA(e,t){const n=W(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=at();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function IN(e,t){const n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=x.resolve();return m.forEach(N=>{_=_.next(()=>d.getEntry(u,N)).next(M=>{const V=h.docVersions.get(N);dt(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=at();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function FA(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function CN(e,t){const n=W(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(oe.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,V,A){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=bN?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=Jn(),h=at();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(DN(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(Z.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return x.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function DN(e,t,n){let i=at(),r=at();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Jn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Z.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(Um,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function NN(e,t){const n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ON(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,x.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new bi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function od(e,t,n){const i=W(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Xs(a))throw a;H(Um,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function N_(e,t,n){const i=W(e);let r=Z.min(),s=at();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=W(u),m=g.Os.get(d);return m!==void 0?x.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,bn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:Z.min(),n?s:at())).next(l=>(VN(i,_D(t),l),{documents:l,$s:s})))}function VN(e,t,n){let i=e.Ns.get(t)||Z.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class O_{constructor(){this.activeTargetIds=bD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MN{constructor(){this.xo=new O_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new O_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class M_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(V_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(V_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl=null;function ld(){return Nl===null?Nl=function(){return 268435456+Math.round(2147483648*Math.random())}():Nl++,"0x"+Nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="RestConnection",kN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Bu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=ld(),l=this.jo(t,n.toUriEncodedString());H(jh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=Fs(h);return this.Jo(t,l,u,i,d).then(g=>(H(jh,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Ns(jh,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=kN[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class LN extends PN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=ld();return new Promise((l,u)=>{const h=new YT;h.setWithCredentials(!0),h.listenOnce(KT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xl.NO_ERROR:const g=h.getResponseJson();H(fe,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case Xl.TIMEOUT:H(fe,`RPC '${t}' ${a} timed out`),u(new F(P.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const m=h.getStatus();if(H(fe,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_==null?void 0:_.error;if(N&&N.status&&N.message){const M=function(A){const v=A.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(v)>=0?v:P.UNKNOWN}(N.status);u(new F(M,N.message))}else u(new F(P.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(P.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(fe,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(fe,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=ld(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=ZT(),l=$T(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(fe,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const N=new UN({Zo:V=>{_?H(fe,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(fe,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(fe,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,A,v)=>{V.listen(A,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return M(g,ba.EventType.OPEN,()=>{_||(H(fe,`RPC '${t}' stream ${r} transport opened.`),N.__())}),M(g,ba.EventType.CLOSE,()=>{_||(_=!0,H(fe,`RPC '${t}' stream ${r} transport closed`),N.u_(),this.d_(g))}),M(g,ba.EventType.ERROR,V=>{_||(_=!0,Ns(fe,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),N.u_(new F(P.UNAVAILABLE,"The operation could not be completed")))}),M(g,ba.EventType.MESSAGE,V=>{var A;if(!_){const v=V.data[0];dt(!!v,16349);const w=v,D=(w==null?void 0:w.error)||((A=w[0])===null||A===void 0?void 0:A.error);if(D){H(fe,`RPC '${t}' stream ${r} received error:`,D);const L=D.status;let j=function(T){const S=jt[T];if(S!==void 0)return OA(S)}(L),E=D.message;j===void 0&&(j=P.INTERNAL,E="Unknown error status: "+L+" with message "+D.message),_=!0,N.u_(new F(j,E)),g.close()}else H(fe,`RPC '${t}' stream ${r} received:`,v),N.c_(v)}}),M(l,XT.STAT_EVENT,V=>{V.stat===Xf.PROXY?H(fe,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===Xf.NOPROXY&&H(fe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e){return new qD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class QA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new GA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new F(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(x_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends QA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=GD(this.serializer,t),i=function(s){if(!("targetChange"in s))return Z.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Z.min():a.readTime?Rn(a.readTime):Z.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=ad(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=td(u)?{documents:KD(s,u)}:{query:XD(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=xA(s,a.resumeToken);const h=id(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Z.min())>0){l.readTime=Qu(s,a.snapshotVersion.toTimestamp());const h=id(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=ZD(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=ad(this.serializer),n.removeTarget=t,this.Q_(n)}}class BN extends QA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=YD(t.writeResults,t.commitTime),i=Rn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=ad(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>QD(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{}class qN extends jN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,rd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(P.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,rd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(P.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class HN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Wn(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="RemoteStore";class FN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Vr(this)&&(H(br,"Restarting streams for network reachability change."),await async function(u){const h=W(u);h.da.add(4),await Ho(h),h.Va.set("Unknown"),h.da.delete(4),await Dc(h)}(this))})}),this.Va=new HN(i,r)}}async function Dc(e){if(Vr(e))for(const t of e.Aa)await t(!0)}async function Ho(e){for(const t of e.Aa)await t(!1)}function YA(e,t){const n=W(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),jm(n)?Bm(n):$s(n).N_()&&zm(n,t))}function Lm(e,t){const n=W(e),i=$s(n);n.Ea.delete(t),i.N_()&&KA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Vr(n)&&n.Va.set("Unknown"))}function zm(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$s(e).Z_(t)}function KA(e,t){e.ma.Ke(t),$s(e).X_(t)}function Bm(e){e.ma=new LD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),$s(e).start(),e.Va.ca()}function jm(e){return Vr(e)&&!$s(e).O_()&&e.Ea.size>0}function Vr(e){return W(e).da.size===0}function XA(e){e.ma=void 0}async function GN(e){e.Va.set("Online")}async function QN(e){e.Ea.forEach((t,n)=>{zm(e,t)})}async function YN(e,t){XA(e),jm(e)?(e.Va.Pa(t),Bm(e)):e.Va.set("Unknown")}async function KN(e,t,n){if(e.Va.set("Online"),t instanceof MA&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(br,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ku(e,i)}else if(t instanceof Jl?e.ma.Xe(t):t instanceof VA?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Z.min()))try{const i=await FA(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(oe.EMPTY_BYTE_STRING,d.snapshotVersion)),KA(s,u);const g=new bi(d.target,u,h,d.sequenceNumber);zm(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(br,"Failed to raise snapshot:",i),await Ku(e,i)}}async function Ku(e,t,n){if(!Xs(t))throw t;e.da.add(1),await Ho(e),e.Va.set("Offline"),n||(n=()=>FA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(br,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Dc(e)})}function $A(e,t){return t().catch(n=>Ku(e,n,t))}async function Nc(e){const t=W(e),n=Ki(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Sm;for(;XN(t);)try{const r=await NN(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,$N(t,r)}catch(r){await Ku(t,r)}ZA(t)&&WA(t)}function XN(e){return Vr(e)&&e.Ia.length<10}function $N(e,t){e.Ia.push(t);const n=Ki(e);n.N_()&&n.ea&&n.ta(t.mutations)}function ZA(e){return Vr(e)&&!Ki(e).O_()&&e.Ia.length>0}function WA(e){Ki(e).start()}async function ZN(e){Ki(e).ia()}async function WN(e){const t=Ki(e);for(const n of e.Ia)t.ta(n.mutations)}async function JN(e,t,n){const i=e.Ia.shift(),r=Om.from(i,t,n);await $A(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Nc(e)}async function tO(e,t){t&&Ki(e).ea&&await async function(i,r){if(function(a){return PD(a)&&a!==P.ABORTED}(r.code)){const s=i.Ia.shift();Ki(i).L_(),await $A(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Nc(i)}}(e,t),ZA(e)&&WA(e)}async function k_(e,t){const n=W(e);n.asyncQueue.verifyOperationInProgress(),H(br,"RemoteStore received new credentials");const i=Vr(n);n.da.add(3),await Ho(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Dc(n)}async function eO(e,t){const n=W(e);t?(n.da.delete(2),await Dc(n)):t||(n.da.add(2),await Ho(n),n.Va.set("Unknown"))}function $s(e){return e.fa||(e.fa=function(n,i,r){const s=W(n);return s.oa(),new zN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:GN.bind(null,e),n_:QN.bind(null,e),i_:YN.bind(null,e),Y_:KN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),jm(e)?Bm(e):e.Va.set("Unknown")):(await e.fa.stop(),XA(e))})),e.fa}function Ki(e){return e.ga||(e.ga=function(n,i,r){const s=W(n);return s.oa(),new BN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:ZN.bind(null,e),i_:tO.bind(null,e),na:WN.bind(null,e),ra:JN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Nc(e)):(await e.ga.stop(),e.Ia.length>0&&(H(br,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new qm(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(e,t){if(Wn("AsyncQueue",`${t}: ${e}`),Xs(e))return new F(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(t){return new ys(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=wa(),this.sortedSet=new Ot(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ys)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ys;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.pa=new Ot(Q.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class ks{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ks(t,n,ys.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class iO{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=W(n),s=r.queries;r.queries=U_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(P.ABORTED,"Firestore shutting down"))}}function U_(){return new Nr(e=>vA(e),Sc)}async function rO(e,t){const n=W(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new nO,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Hm(a,`Initialization of query '${Fr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&Fm(n)}async function sO(e,t){const n=W(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function aO(e,t){const n=W(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Fm(n)}function oO(e,t,n){const i=W(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Fm(e){e.Ca.forEach(t=>{t.next()})}var ud,L_;(L_=ud||(ud={})).xa="default",L_.Cache="cache";class lO{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ks(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ks.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.key=t}}class t1{constructor(t){this.key=t}}class uO{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.Za=EA(t),this.Xa=new ys(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new P_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=bc(this.query,g)?g:null,N=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;m&&_?m.data.isEqual(_.data)?N!==M&&(i.track({type:3,doc:_}),V=!0):this.ru(m,_)||(i.track({type:2,doc:_}),V=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),V=!0):m&&!_&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,N){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:V})}};return M(_)-M(N)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new ks(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=at(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new t1(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new JA(i))}),n}au(t){this.Ha=t.$s,this.Ya=at();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Gm="SyncEngine";class cO{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class hO{constructor(t){this.key=t,this.cu=!1}}class fO{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Nr(l=>vA(l),Sc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Q.comparator),this.Eu=new Map,this.du=new xm,this.Au={},this.Ru=new Map,this.Vu=xs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function dO(e,t,n=!0){const i=a1(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await e1(i,t,n,!0),r}async function mO(e,t){const n=a1(e);await e1(n,t,!0,!1)}async function e1(e,t,n,i){const r=await ON(e.localStore,bn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await gO(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&YA(e.remoteStore,r),l}async function gO(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,V,A,v){let w=V.view.tu(A);w.Cs&&(w=await N_(M.localStore,V.query,!1).then(({documents:E})=>V.view.tu(E,w)));const D=v&&v.targetChanges.get(V.targetId),L=v&&v.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(w,M.isPrimaryClient,D,L);return B_(M,V.targetId,j.ou),j.snapshot}(e,g,m,_);const s=await N_(e.localStore,t,!0),a=new uO(t,s.$s),l=a.tu(s.documents),u=qo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);B_(e,n,h.ou);const d=new cO(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function pO(e,t,n){const i=W(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Sc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await od(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Lm(i.remoteStore,r.targetId),cd(i,r.targetId)}).catch(Ks)):(cd(i,r.targetId),await od(i.localStore,r.targetId,!0))}async function yO(e,t){const n=W(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lm(n.remoteStore,i.targetId))}async function _O(e,t,n){const i=wO(e);try{const r=await function(a,l){const u=W(a),h=Yt.now(),d=l.reduce((_,N)=>_.add(N.key),at());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=Jn(),M=at();return u.Bs.getEntries(_,d).next(V=>{N=V,N.forEach((A,v)=>{v.isValidDocument()||(M=M.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(V=>{g=V;const A=[];for(const v of l){const w=OD(v,g.get(v.key).overlayedDocument);w!=null&&A.push(new Or(v.key,w,hA(w.value.mapValue),wn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,A,l)}).next(V=>{m=V;const A=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,V.batchId,A)})}).then(()=>({batchId:m.batchId,changes:AA(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Ot(et)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await Fo(i,r.changes),await Nc(i.remoteStore)}catch(r){const s=Hm(r,"Failed to persist write");n.reject(s)}}async function n1(e,t){const n=W(e);try{const i=await CN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?dt(a.cu,14607):r.removedDocuments.size>0&&(dt(a.cu,42227),a.cu=!1))}),await Fo(n,i,t)}catch(i){await Ks(i)}}function z_(e,t,n){const i=W(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=W(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&Fm(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function vO(e,t,n){const i=W(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Ot(Q.comparator);a=a.insert(s,me.newNoDocument(s,Z.min()));const l=at().add(s),u=new Ic(Z.min(),new Map,new Ot(et),a,l);await n1(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),Qm(i)}else await od(i.localStore,t,!1).then(()=>cd(i,t,n)).catch(Ks)}async function EO(e,t){const n=W(e),i=t.batch.batchId;try{const r=await IN(n.localStore,t);r1(n,i,null),i1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fo(n,r)}catch(r){await Ks(r)}}async function TO(e,t,n){const i=W(e);try{const r=await function(a,l){const u=W(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(dt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);r1(i,t,n),i1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Fo(i,r)}catch(r){await Ks(r)}}function i1(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function r1(e,t,n){const i=W(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function cd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||s1(e,i)})}function s1(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Lm(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Qm(e))}function B_(e,t,n){for(const i of n)i instanceof JA?(e.du.addReference(i.key,t),AO(e,i)):i instanceof t1?(H(Gm,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||s1(e,i.key)):Y(19791,{pu:i})}function AO(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Gm,"New document in limbo: "+n),e.Tu.add(i),Qm(e))}function Qm(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Q(bt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new hO(n)),e.Iu=e.Iu.insert(n,i),YA(e.remoteStore,new bi(bn(Cm(n.path)),i,"TargetPurposeLimboResolution",Ec.le))}}async function Fo(e,t,n){const i=W(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=Pm.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=W(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>x.forEach(h,m=>x.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>x.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!Xs(g))throw g;H(Um,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),N=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(N);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function SO(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){H(Gm,"User change. New user:",t.toKey());const i=await HA(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(P.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Fo(n,i.ks)}}function bO(e,t){const n=W(e),i=n.Eu.get(t);if(i&&i.cu)return at().add(i.key);{let r=at();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function a1(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vO.bind(null,t),t.lu.Y_=aO.bind(null,t.eventManager),t.lu.gu=oO.bind(null,t.eventManager),t}function wO(e){const t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TO.bind(null,t),t}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return RN(this.persistence,new SN,t.initialUser,this.serializer)}Su(t){return new qA(km.fi,this.serializer)}bu(t){return new MN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class RO extends Xu{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){dt(this.persistence.referenceDelegate instanceof Yu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lN(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?De.withCacheSize(this.cacheSizeBytes):De.DEFAULT;return new qA(i=>Yu.fi(i,n),this.serializer)}}class hd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SO.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iO}()}createDatastore(t){const n=Cc(t.databaseInfo.databaseId),i=function(s){return new LN(s)}(t.databaseInfo);return function(s,a,l,u){return new qN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new FN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return M_.C()?new M_:new xN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new fO(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=W(r);H(br,"RemoteStore shutting down."),s.da.add(5),await Ho(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Wn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class CO{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=de.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(Xi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Xi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Hm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Hh(e,t){e.asyncQueue.verifyOperationInProgress(),H(Xi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await HA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function j_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await DO(e);H(Xi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>k_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>k_(t.remoteStore,r)),e._onlineComponents=t}async function DO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Xi,"Using user provided OfflineComponentProvider");try{await Hh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===P.FAILED_PRECONDITION||r.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Hh(e,new Xu)}}else H(Xi,"Using default OfflineComponentProvider"),await Hh(e,new RO(void 0));return e._offlineComponents}async function o1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Xi,"Using user provided OnlineComponentProvider"),await j_(e,e._uninitializedComponentsProvider._online)):(H(Xi,"Using default OnlineComponentProvider"),await j_(e,new hd))),e._onlineComponents}function NO(e){return o1(e).then(t=>t.syncEngine)}async function q_(e){const t=await o1(e),n=t.eventManager;return n.onListen=dO.bind(null,t.syncEngine),n.onUnlisten=pO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yO.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t,n){if(!n)throw new F(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function OO(e,t,n,i){if(t===!0&&i===!0)throw new F(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function F_(e){if(!Q.isDocumentKey(e))throw new F(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function G_(e){if(Q.isDocumentKey(e))throw new F(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Oc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function pr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oc(e);throw new F(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firestore.googleapis.com",Q_=!0;class Y_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c1,this.ssl=Q_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aN)throw new F(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new UC;switch(i.type){case"firstParty":return new jC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=H_.get(n);i&&(H("ComponentProvider","Removing Datastore"),H_.delete(n),i.terminate())}(this),Promise.resolve()}}function VO(e,t,n,i={}){var r;e=pr(e,Vc);const s=Fs(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(aT(`https://${u}`),oT("Firestore",!0)),a.host!==c1&&a.host!==u&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Tr(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=de.MOCK_USER;else{d=oR(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new de(m)}e._authCredentials=new LC(new JT(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Zs(this.firestore,t,this._query)}}class Ne{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}}class Li extends Zs{constructor(t,n,i){super(t,n,Cm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new Q(t))}withConverter(t){return new Li(this.firestore,t,this._path)}}function K_(e,t,...n){if(e=Ve(e),u1("collection","path",t),e instanceof Vc){const i=bt.fromString(t,...n);return G_(i),new Li(e,null,i)}{if(!(e instanceof Ne||e instanceof Li))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bt.fromString(t,...n));return G_(i),new Li(e.firestore,null,i)}}function Ol(e,t,...n){if(e=Ve(e),arguments.length===1&&(t=eA.newId()),u1("doc","path",t),e instanceof Vc){const i=bt.fromString(t,...n);return F_(i),new Ne(e,null,new Q(i))}{if(!(e instanceof Ne||e instanceof Li))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bt.fromString(t,...n));return F_(i),new Ne(e.firestore,e instanceof Li?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class $_{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new GA(this,"async_queue_retry"),this.rc=()=>{const i=qh();i&&H(X_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=qh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new gr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Xs(t))throw t;H(X_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Wn("INTERNAL UNHANDLED ERROR: ",Z_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=qm.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Y(47125,{cc:Z_(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Z_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class _o extends Vc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new $_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $_(t),this._firestoreClient=void 0,await t}}}function MO(e,t){const n=typeof e=="object"?e:hT(),i=typeof e=="string"?e:Bu,r=dm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=sR("firestore");s&&VO(r,...s)}return r}function h1(e){if(e._terminated)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xO(e),e._firestoreClient}function xO(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new nD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,l1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new CO(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(oe.fromBase64String(t))}catch(n){throw new F(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ps(oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return et(this._lat,t._lat)||et(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class PO{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Or(t,this.data,this.fieldMask,n,this.fieldTransforms):new jo(t,this.data,n,this.fieldTransforms)}}function d1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:e})}}class $m{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new $m(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return $u(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(d1(this.Ic)&&kO.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class UO{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Cc(t)}bc(t,n,i,r=!1){return new $m({Ic:t,methodName:n,wc:i,path:se.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m1(e){const t=e._freezeSettings(),n=Cc(e._databaseId);return new UO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LO(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);y1("Data must be an object, but it was:",a,i);const l=g1(i,a);let u,h;if(s.merge)u=new cn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=BO(t,g,n);if(!a.contains(m))throw new F(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);qO(d,m)||d.push(m)}u=new cn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new PO(new Je(l),u,h)}function zO(e,t,n,i=!1){return Zm(n,e.bc(i?4:3,t))}function Zm(e,t){if(p1(e=Ve(e)))return y1("Unsupported field value:",t,e),g1(e,t);if(e instanceof f1)return function(i,r){if(!d1(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Zm(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Yt.fromDate(i);return{timestampValue:Qu(r.serializer,s)}}if(i instanceof Yt){const s=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qu(r.serializer,s)}}if(i instanceof Km)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ps)return{bytesValue:xA(r.serializer,i._byteString)};if(i instanceof Ne){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Xm)return function(a,l){return{mapValue:{fields:{[uA]:{stringValue:cA},[ju]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Dm(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Oc(i)}`)}(e,t)}function g1(e,t){const n={};return iA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dr(e,(i,r)=>{const s=Zm(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function p1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Yt||e instanceof Km||e instanceof Ps||e instanceof Ne||e instanceof f1||e instanceof Xm)}function y1(e,t,n){if(!p1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Oc(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function BO(e,t,n){if((t=Ve(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return _1(e,t);throw $u("Field path arguments must be of type string or ",e,!1,void 0,n)}const jO=new RegExp("[~\\*/\\[\\]]");function _1(e,t,n){if(t.search(jO)>=0)throw $u(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ym(...t.split("."))._internalPath}catch{throw $u(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $u(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(P.INVALID_ARGUMENT,l+e+u)}function qO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(E1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HO extends v1{data(){return super.data()}}function E1(e,t){return typeof t=="string"?_1(e,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class GO extends Wm{}function QO(e,t,...n){let i=[];t instanceof Wm&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof tg).length,l=s.filter(u=>u instanceof Jm).length;if(a>1||a>0&&l>0)throw new F(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Jm extends GO{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Jm(t,n,i)}_apply(t){const n=this._parse(t);return T1(t._query,n),new Zs(t.firestore,t.converter,ed(t._query,n))}_parse(t){const n=m1(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tv(g,d);const N=[];for(const M of g)N.push(J_(u,s,M));m={arrayValue:{values:N}}}else m=J_(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tv(g,d),m=zO(l,a,g,d==="in"||d==="not-in");return Ht.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Wm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new tg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)T1(a,u),a=ed(a,u)}(t._query,n),new Zs(t.firestore,t.converter,ed(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function J_(e,t,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new F(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_A(t)&&n.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(bt.fromString(n));if(!Q.isDocumentKey(i))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return h_(e,new Q(i))}if(n instanceof Ne)return h_(e,n._key);throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(n)}.`)}function tv(e,t){if(!Array.isArray(e)||e.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T1(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class YO{convertValue(t,n="none"){switch(Yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Dr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[ju].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>zt(a.doubleValue));return new Xm(s)}convertGeoPoint(t){return new Km(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ac(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fo(t));default:return null}}convertTimestamp(t){const n=Gi(t);return new Yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=bt.fromString(t);dt(BA(i),9688,{name:t});const r=new mo(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class A1 extends v1{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(E1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class tu extends A1{data(t={}){return super.data(t)}}class XO{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ia(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new tu(this._firestore,this._userDataWriter,i.key,i,new Ia(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new tu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ia(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new tu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ia(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:$O(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $O(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}class S1 extends YO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ps(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function ev(e,t,n){e=pr(e,Ne);const i=pr(e.firestore,_o),r=KO(e.converter,t);return b1(i,[LO(m1(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,wn.none())])}function ZO(e){return b1(pr(e.firestore,_o),[new Nm(e._key,wn.none())])}function WO(e,...t){var n,i,r;e=Ve(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||W_(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(W_(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Ne)h=pr(e.firestore,_o),d=Cm(e._key.path),u={next:g=>{t[a]&&t[a](JO(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=pr(e,Zs);h=pr(g.firestore,_o),d=g._query;const m=new S1(h);u={next:_=>{t[a]&&t[a](new XO(h,m,g,_))},error:t[a+1],complete:t[a+2]},FO(e._query)}return function(m,_,N,M){const V=new IO(M),A=new lO(_,V,N);return m.asyncQueue.enqueueAndForget(async()=>rO(await q_(m),A)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>sO(await q_(m),A))}}(h1(h),d,l,u)}function b1(e,t){return function(i,r){const s=new gr;return i.asyncQueue.enqueueAndForget(async()=>_O(await NO(i),r,s)),s.promise}(h1(e),t)}function JO(e,t,n){const i=n.docs.get(t._key),r=new S1(e);return new A1(e,r,t._key,i,new Ia(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){Ys=r})(Gs),Ds(new Ar("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new _o(new zC(i.getProvider("auth-internal")),new qC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ki(Jy,t_,t),ki(Jy,t_,"esm2017")})();const ct={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},Fh={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5,Water:2,Ground:2,Rock:2},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Electric:2},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Water:.5,Grass:.5,Electric:.5,Ground:.5,Fire:2,Ice:2,Poison:2,Flying:2,Bug:2},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Rock:2,Steel:.5,Dragon:.5,Water:2,Ground:2}},electric:{damageTaken:{Electric:.5,Flying:.5,Steel:.5,Ground:2},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Ice:.5,Fire:2,Fighting:2,Rock:2,Steel:2},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Bug:.5,Rock:.5,Dark:.5,Flying:2,Psychic:2,Fairy:2},damageDealt:{Poison:.5,Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5,Ground:2,Psychic:2},damageDealt:{Poison:.5,Ground:.5,Rock:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Poison:.5,Rock:.5,Electric:0,Water:2,Grass:2,Ice:2},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Grass:.5,Fighting:.5,Bug:.5,Ground:0,Electric:2,Ice:2,Rock:2},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Fighting:.5,Psychic:.5,Bug:2,Ghost:2,Dark:2},damageDealt:{Psychic:.5,Steel:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Grass:.5,Fighting:.5,Ground:.5,Fire:2,Flying:2,Rock:2},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Normal:.5,Fire:.5,Poison:.5,Flying:.5,Water:2,Grass:2,Fighting:2,Ground:2,Steel:2},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Poison:.5,Bug:.5,Normal:0,Fighting:0,Ghost:2,Dark:2},damageDealt:{Dark:.5,Steel:.5,Normal:0,Psychic:2,Ghost:2}},dragon:{damageTaken:{Fire:.5,Water:.5,Grass:.5,Electric:.5,Ice:2,Dragon:2,Fairy:2},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Ghost:.5,Dark:.5,Psychic:0,Fighting:2,Bug:2,Fairy:2},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Psychic:2,Ghost:2}},steel:{damageTaken:{Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0,Fire:2,Fighting:2,Ground:2},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Fighting:.5,Bug:.5,Dark:.5,Dragon:0,Poison:2,Steel:2},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},t4={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},e4=({className:e="w-6 h-6",isFavorite:t})=>z.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":ct.textMuted},children:[" ",z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),n4=()=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",z.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),i4=()=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),r4=()=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",z.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),nv=({type:e})=>z.jsxs("span",{className:"text-xs font-bold mr-1 mb-1 px-2.5 py-0.5 rounded-full text-white",style:{backgroundColor:t4[e]||"#777"},children:[" ",e.toUpperCase()," "]}),s4={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},va="pokemonTeamBuilder";function a4(){const[e,t]=Et.useState(null),[n,i]=Et.useState(null),[r,s]=Et.useState(!1),[a,l]=Et.useState([]),[u,h]=Et.useState([]),[d,g]=Et.useState([]),[m,_]=Et.useState("all"),[N,M]=Et.useState(""),[V,A]=Et.useState([]),[v,w]=Et.useState([]),[D,L]=Et.useState(""),[j,E]=Et.useState(null),[y,T]=Et.useState(!0),[S,R]=Et.useState(null),[I,b]=Et.useState({isOpen:!1,message:"",onConfirm:null}),[le,rn]=Et.useState({}),[q,$]=Et.useState({strengths:new Set,weaknesses:{}});Et.useEffect(()=>{try{const U=cT(s4),tt=xC(U),ve=MO(U);PC("debug"),i(ve);const Bt=SI(tt,async xe=>{xe?t(xe.uid):await yI(tt),s(!0)});return()=>Bt()}catch(U){console.error("Firebase Init Error:",U),R("Falha ao conectar com os serviços."),T(!1)}},[]),Et.useEffect(()=>{(async()=>{T(!0);try{const Bt=(await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")).json()).results.map(Ee=>{const Qe=Ee.url.split("/")[6];return{name:Ee.name,id:Qe,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${Qe}.png`}});l(Bt);const Pt=await(await fetch("https://pokeapi.co/api/v2/version-group?limit=25")).json();g(Pt.results)}catch(tt){R(tt.message)}finally{T(!1)}})()},[]),Et.useEffect(()=>{let U=[...a];N&&(U=U.filter(tt=>tt.name.toLowerCase().includes(N.toLowerCase()))),h(U)},[N,a]),Et.useEffect(()=>{if(!r||!n||!e)return;const U=QO(K_(n,`artifacts/${va}/users/${e}/teams`)),tt=WO(U,ve=>{const Bt=ve.docs.map(xe=>({id:xe.id,...xe.data()}));w(Bt)},()=>R("Não foi possível carregar os times salvos."));return()=>tt()},[r,n,e]),Et.useEffect(()=>{V.forEach(U=>{le[U.name]||fetch(`https://pokeapi.co/api/v2/pokemon/${U.id}`).then(tt=>tt.json()).then(tt=>{const ve=tt.types.map(Bt=>Bt.type.name);rn(Bt=>({...Bt,[U.name]:{types:ve}}))}).catch(console.error)})},[V,le]),Et.useEffect(()=>{if(V.length===0){$({strengths:new Set,weaknesses:{}});return}const U=V.map(Pt=>le[Pt.name]).filter(Boolean);if(U.length!==V.length)return;const tt=new Set,ve={},Bt=Object.keys(Fh);Bt.forEach(Pt=>{ve[Pt]=0}),U.flatMap(Pt=>Pt.types).forEach(Pt=>{var Ee;Object.entries(((Ee=Fh[Pt])==null?void 0:Ee.damageDealt)||{}).forEach(([Qe,ni])=>{ni>1&&tt.add(Qe)})}),Bt.forEach(Pt=>{let Ee=0;U.forEach(Qe=>{let ni=1;Qe.types.forEach(Qo=>{var Yo;ni*=((Yo=Fh[Qo])==null?void 0:Yo.damageTaken[Pt])??1}),ni>1&&Ee++}),Ee>0&&(ve[Pt]=Ee)});const xe=Object.entries(ve).filter(([,Pt])=>Pt>=V.length/2&&Pt>0).reduce((Pt,[Ee,Qe])=>({...Pt,[Ee]:Qe}),{});$({strengths:tt,weaknesses:xe})},[V,le]);const G=(U,tt=null)=>b({isOpen:!0,message:U,onConfirm:tt}),_t=U=>{V.length<6&&!V.find(tt=>tt.id===U.id)?A([...V,U]):V.length>=6?G("Seu time já está cheio (6 Pokémon)!"):G("Este Pokémon já está no seu time.")},Dt=U=>A(V.filter(tt=>tt.id!==U)),mn=()=>{A([]),L(""),E(null)},_e=async()=>{var ve;if(!n||!e)return G("Conexão não está pronta.");if(V.length===0)return G("Seu time está vazio!");if(!D.trim())return G("Por favor, dê um nome ao seu time.");const U=j||Ol(K_(n,`artifacts/${va}/users/${e}/teams`)).id,tt={name:D,pokemons:V,isFavorite:((ve=v.find(Bt=>Bt.id===j))==null?void 0:ve.isFavorite)||!1,createdAt:new Date().toISOString()};try{await ev(Ol(n,`artifacts/${va}/users/${e}/teams`,U),tt),G(`Time "${D}" salvo!`),mn()}catch{G("Ocorreu um erro ao salvar o time.")}},Vt=U=>{A(U.pokemons),L(U.name),E(U.id),window.scrollTo({top:0,behavior:"smooth"})},sn=U=>{G("Você tem certeza que quer deletar este time?",async()=>{if(!(!n||!e))try{await ZO(Ol(n,`artifacts/${va}/users/${e}/teams`,U)),j===U&&mn()}catch{G("Ocorreu um erro ao deletar.")}})},Ge=async U=>{if(!(!n||!e))try{await ev(Ol(n,`artifacts/${va}/users/${e}/teams`,U.id),{...U,isFavorite:!U.isFavorite})}catch{G("Não foi possível atualizar o favorito.")}},Go=Et.useMemo(()=>[...v].sort((U,tt)=>(tt.isFavorite?1:-1)-(U.isFavorite?1:-1)||new Date(tt.createdAt)-new Date(U.createdAt)),[v]);return S?z.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-red-100 text-red-700 p-4",children:S}):z.jsxs("div",{className:"min-h-screen text-white font-sans p-4 sm:p-6 lg:p-8",style:{backgroundColor:ct.background},children:[I.isOpen&&z.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:z.jsxs("div",{className:"rounded-lg p-8 shadow-2xl w-full max-w-sm text-center",style:{backgroundColor:ct.card},children:[z.jsx("p",{className:"mb-6 text-lg",children:I.message}),z.jsxs("div",{className:"flex justify-center gap-4",children:[I.onConfirm&&z.jsx("button",{onClick:()=>b({isOpen:!1}),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg",children:"Cancelar"}),z.jsx("button",{onClick:()=>{var U;(U=I.onConfirm)==null||U.call(I),b({isOpen:!1})},style:{backgroundColor:ct.primary,color:ct.background},className:"font-bold py-2 px-6 rounded-lg",children:"OK"})]})]})}),z.jsxs("div",{className:"max-w-7xl mx-auto",children:[z.jsxs("header",{className:"text-center mb-8",children:[z.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-wider",style:{fontFamily:"'Press Start 2P', cursive",color:ct.primary},children:"Pokémon Team Builder"}),e&&z.jsxs("p",{className:"text-xs mt-2",style:{color:ct.textMuted},children:["ID do Usuário: ",e]})]}),z.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[z.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[z.jsxs("section",{className:"p-6 rounded-xl shadow-lg sticky top-8",style:{backgroundColor:ct.card},children:[z.jsx("h2",{className:"text-2xl font-bold mb-4 border-b-2 pb-2",style:{borderColor:ct.primary},children:"Seu Time Atual"}),z.jsx("input",{type:"text",value:D,onChange:U=>L(U.target.value),placeholder:"Nome do Time",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:ct.cardLight,borderColor:"transparent"}}),z.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[V.map(U=>z.jsxs("div",{className:"text-center relative group",children:[z.jsx("img",{src:U.sprite,alt:U.name,className:"mx-auto h-20 w-20"}),z.jsx("p",{className:"text-xs capitalize truncate",children:U.name}),z.jsx("button",{onClick:()=>Dt(U.id),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-sm",children:"X"})]},U.id)),Array.from({length:6-V.length}).map((U,tt)=>z.jsx("div",{className:"border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:ct.cardLight,backgroundColor:"transparent"},children:z.jsx("span",{className:"text-3xl font-bold",style:{color:ct.textMuted},children:"?"})},tt))]}),z.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[z.jsxs("button",{onClick:_e,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:ct.primary,color:ct.background},children:[" ",z.jsx(i4,{})," ",j?"Atualizar":"Salvar"," Time "]}),z.jsx("button",{onClick:mn,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg",children:"Limpar"})]})]}),V.length>0&&z.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:ct.card},children:[z.jsx("h3",{className:"text-xl font-bold mb-4",children:"Análise do Time"}),z.jsxs("div",{children:[z.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Cobertura Ofensiva:"}),z.jsx("div",{className:"flex flex-wrap",children:Array.from(q.strengths).sort().map(U=>z.jsx(nv,{type:U},U))})]}),z.jsxs("div",{className:"mt-4",children:[z.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Fraquezas Defensivas:"}),z.jsx("div",{className:"flex flex-wrap",children:Object.keys(q.weaknesses).length>0?Object.entries(q.weaknesses).sort(([,U],[,tt])=>tt-U).map(([U])=>z.jsx(nv,{type:U},U)):z.jsx("p",{className:"text-sm",style:{color:ct.textMuted},children:"Nenhuma fraqueza crítica em comum!"})})]})]}),z.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:ct.card},children:[z.jsx("h2",{className:"text-2xl font-bold mb-4 border-b-2 pb-2",style:{borderColor:ct.primary},children:"Times Salvos"}),z.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:Go.length>0?Go.map(U=>z.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:ct.cardLight},children:[z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("p",{className:"font-bold text-lg truncate",children:U.name}),z.jsx("div",{className:"flex mt-1",children:U.pokemons.map(tt=>z.jsx("img",{src:tt.sprite,alt:tt.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:ct.cardLight,backgroundColor:ct.card}},tt.id))})]}),z.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[z.jsx("button",{onClick:()=>Ge(U),title:"Favoritar",children:z.jsx(e4,{isFavorite:U.isFavorite})}),z.jsx("button",{onClick:()=>Vt(U),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Carregar"}),z.jsx("button",{onClick:()=>sn(U.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-full",children:z.jsx(n4,{})})]})]},U.id)):z.jsx("p",{className:"text-center py-4",style:{color:ct.textMuted},children:"Nenhum time salvo ainda."})})]})]}),z.jsx("div",{className:"lg:col-span-2",children:z.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:ct.card},children:[z.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Escolha os Pokémon"}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[z.jsx("input",{type:"text",placeholder:"Buscar Pokémon...",value:N,onChange:U=>M(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:ct.cardLight,borderColor:"transparent"}}),z.jsxs("select",{value:m,onChange:U=>_(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none",style:{backgroundColor:ct.cardLight,borderColor:"transparent"},children:[z.jsx("option",{value:"all",children:"Todos os Jogos"}),d.map(U=>z.jsx("option",{value:U.name,className:"capitalize",children:U.name.replace(/-/g," ")},U.name))]})]}),y&&!a.length?z.jsxs("div",{className:"text-center p-10",children:[z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:ct.primary}}),z.jsx("p",{className:"mt-4",children:"Carregando Pokémon..."})]}):z.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:u.length>0?u.map(U=>z.jsxs("div",{className:"rounded-lg p-3 text-center cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all group relative",style:{backgroundColor:ct.cardLight},onClick:()=>_t(U),children:[z.jsx("img",{src:U.sprite,alt:U.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),z.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:U.name}),z.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:z.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1",children:z.jsx(r4,{})})})]},U.id)):z.jsx("p",{className:"col-span-full text-center py-8",style:{color:ct.textMuted},children:"Nenhum Pokémon encontrado."})})]})})]})]}),z.jsx("style",{children:`
                @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
                /* Custom scrollbar for saved teams */
                .max-h-96::-webkit-scrollbar { width: 8px; }
                .max-h-96::-webkit-scrollbar-track { background: ${ct.card}; }
                .max-h-96::-webkit-scrollbar-thumb { background-color: ${ct.primary}; border-radius: 20px; border: 3px solid ${ct.card}; }
            `})]})}$w.createRoot(document.getElementById("root")).render(z.jsx(pS.StrictMode,{children:z.jsx(a4,{})}));
