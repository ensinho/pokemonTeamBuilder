(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fv={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=Symbol.for("react.transitional.element"),db=Symbol.for("react.fragment");function dv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:fb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Ec.Fragment=db;Ec.jsx=dv;Ec.jsxs=dv;fv.exports=Ec;var R=fv.exports,mv={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.transitional.element"),mb=Symbol.for("react.portal"),gb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),yb=Symbol.for("react.profiler"),_b=Symbol.for("react.consumer"),vb=Symbol.for("react.context"),Tb=Symbol.for("react.forward_ref"),Eb=Symbol.for("react.suspense"),Ab=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),hp=Symbol.iterator;function bb(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,_v={};function ra(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}ra.prototype.isReactComponent={};ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vv(){}vv.prototype=ra.prototype;function Vd(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}var kd=Vd.prototype=new vv;kd.constructor=Vd;yv(kd,ra.prototype);kd.isPureReactComponent=!0;var fp=Array.isArray,Ut={H:null,A:null,T:null,S:null,V:null},Tv=Object.prototype.hasOwnProperty;function Pd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Md,type:e,key:t,ref:n!==void 0?n:null,props:s}}function Sb(e,t){return Pd(e.type,t,void 0,void 0,void 0,e.props)}function Ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md}function wb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dp=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wb(""+e.key):t.toString(36)}function mp(){}function Rb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(mp,mp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ss(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Md:case mb:a=!0;break;case gv:return a=e._init,ss(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+ph(e,0):i,fp(r)?(n="",a!=null&&(n=a.replace(dp,"$&/")+"/"),ss(r,t,n,"",function(h){return h})):r!=null&&(Ld(r)&&(r=Sb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(dp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(fp(e))for(var u=0;u<e.length;u++)i=e[u],s=l+ph(i,u),a+=ss(i,t,n,s,r);else if(u=bb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+ph(i,u++),a+=ss(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return ss(Rb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Vl(e,t,n){if(e==null)return e;var i=[],r=0;return ss(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Ib(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cb(){}rt.Children={map:Vl,forEach:function(e,t,n){Vl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vl(e,function(){t++}),t},toArray:function(e){return Vl(e,function(t){return t})||[]},only:function(e){if(!Ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=ra;rt.Fragment=gb;rt.Profiler=yb;rt.PureComponent=Vd;rt.StrictMode=pb;rt.Suspense=Eb;rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;rt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ut.H.useMemoCache(e)}};rt.cache=function(e){return function(){return e.apply(null,arguments)}};rt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=yv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Tv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Pd(e.type,r,void 0,void 0,s,i)};rt.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_b,_context:e},e};rt.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Tv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Pd(e,s,void 0,void 0,null,r)};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:Tb,render:e}};rt.isValidElement=Ld;rt.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:Ib}};rt.memo=function(e,t){return{$$typeof:Ab,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Ut.T,n={};Ut.T=n;try{var i=e(),r=Ut.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Cb,gp)}catch(s){gp(s)}finally{Ut.T=t}};rt.unstable_useCacheRefresh=function(){return Ut.H.useCacheRefresh()};rt.use=function(e){return Ut.H.use(e)};rt.useActionState=function(e,t,n){return Ut.H.useActionState(e,t,n)};rt.useCallback=function(e,t){return Ut.H.useCallback(e,t)};rt.useContext=function(e){return Ut.H.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e,t){return Ut.H.useDeferredValue(e,t)};rt.useEffect=function(e,t,n){var i=Ut.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};rt.useId=function(){return Ut.H.useId()};rt.useImperativeHandle=function(e,t,n){return Ut.H.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return Ut.H.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Ut.H.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Ut.H.useMemo(e,t)};rt.useOptimistic=function(e,t){return Ut.H.useOptimistic(e,t)};rt.useReducer=function(e,t,n){return Ut.H.useReducer(e,t,n)};rt.useRef=function(e){return Ut.H.useRef(e)};rt.useState=function(e){return Ut.H.useState(e)};rt.useSyncExternalStore=function(e,t,n){return Ut.H.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return Ut.H.useTransition()};rt.version="19.1.0";mv.exports=rt;var K=mv.exports;const Ev=hv(K);var Av={exports:{}},Ac={},bv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Z){var W=B.length;B.push(Z);t:for(;0<W;){var It=W-1>>>1,kt=B[It];if(0<r(kt,Z))B[It]=Z,B[W]=kt,W=It;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],W=B.pop();if(W!==Z){B[0]=W;t:for(var It=0,kt=B.length,En=kt>>>1;It<En;){var re=2*(It+1)-1,Pt=B[re],Ve=re+1,Kt=B[Ve];if(0>r(Pt,W))Ve<kt&&0>r(Kt,Pt)?(B[It]=Kt,B[Ve]=W,It=Ve):(B[It]=Pt,B[re]=W,It=re);else if(Ve<kt&&0>r(Kt,W))B[It]=Kt,B[Ve]=W,It=Ve;else break t}}return Z}function r(B,Z){var W=B.sortIndex-Z.sortIndex;return W!==0?W:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,v=!1,x=!1,M=!1,V=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=B)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function U(B){if(M=!1,N(B),!x)if(n(u)!==null)x=!0,z||(z=!0,C());else{var Z=n(h);Z!==null&&Ce(U,Z.startTime-B)}}var z=!1,E=-1,y=5,A=-1;function b(){return V?!0:!(e.unstable_now()-A<y)}function I(){if(V=!1,z){var B=e.unstable_now();A=B;var Z=!0;try{t:{x=!1,M&&(M=!1,T(E),E=-1),v=!0;var W=m;try{e:{for(N(B),g=n(u);g!==null&&!(g.expirationTime>B&&b());){var It=g.callback;if(typeof It=="function"){g.callback=null,m=g.priorityLevel;var kt=It(g.expirationTime<=B);if(B=e.unstable_now(),typeof kt=="function"){g.callback=kt,N(B),Z=!0;break e}g===n(u)&&i(u),N(B)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var En=n(h);En!==null&&Ce(U,En.startTime-B),Z=!1}}break t}finally{g=null,m=W,v=!1}Z=void 0}}finally{Z?C():z=!1}}}var C;if(typeof S=="function")C=function(){S(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,_t=_.port2;_.port1.onmessage=I,C=function(){_t.postMessage(null)}}else C=function(){w(I,0)};function Ce(B,Z){E=w(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var W=m;m=Z;try{return B()}finally{m=W}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=m;m=B;try{return Z()}finally{m=W}},e.unstable_scheduleCallback=function(B,Z,W){var It=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?It+W:It):W=It,B){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=W+kt,B={id:d++,callback:Z,priorityLevel:B,startTime:W,expirationTime:kt,sortIndex:-1},W>It?(B.sortIndex=W,t(h,B),n(u)===null&&B===n(h)&&(M?(T(E),E=-1):M=!0,Ce(U,W-It))):(B.sortIndex=kt,t(u,B),x||v||(x=!0,z||(z=!0,C()))),B},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(B){var Z=m;return function(){var W=m;m=Z;try{return B.apply(this,arguments)}finally{m=W}}}})(Sv);bv.exports=Sv;var Db=bv.exports,wv={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=K;function Rv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _i(){}var xe={d:{f:_i,r:function(){throw Error(Rv(522))},D:_i,C:_i,L:_i,m:_i,X:_i,S:_i,M:_i},p:0,findDOMNode:null},xb=Symbol.for("react.portal");function Ob(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var $a=Nb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Rv(299));return Ob(e,t,null,n)};Me.flushSync=function(e){var t=$a.T,n=xe.p;try{if($a.T=null,xe.p=2,e)return e()}finally{$a.T=t,xe.p=n,xe.d.f()}};Me.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,xe.d.C(e,t))};Me.prefetchDNS=function(e){typeof e=="string"&&xe.d.D(e)};Me.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=bc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?xe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&xe.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Me.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=bc(t.as,t.crossOrigin);xe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&xe.d.M(e)};Me.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=bc(n,t.crossOrigin);xe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Me.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=bc(t.as,t.crossOrigin);xe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else xe.d.m(e)};Me.requestFormReset=function(e){xe.d.r(e)};Me.unstable_batchedUpdates=function(e,t){return e(t)};Me.useFormState=function(e,t,n){return $a.H.useFormState(e,t,n)};Me.useFormStatus=function(){return $a.H.useHostTransitionStatus()};Me.version="19.1.0";function Iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iv)}catch(e){console.error(e)}}Iv(),wv.exports=Me;var Mb=wv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=Db,Cv=K,Vb=Mb;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pp(e){if(zo(e)!==e)throw Error(P(188))}function kb(e){var t=e.alternate;if(!t){if(t=zo(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return pp(r),e;if(s===i)return pp(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function xv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xv(e),t!==null)return t;e=e.sibling}return null}var Vt=Object.assign,Pb=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),qa=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Mv=Symbol.for("react.consumer"),Qn=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),jd=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),mf=Symbol.for("react.activity"),Ub=Symbol.for("react.memo_cache_sentinel"),yp=Symbol.iterator;function Va(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var jb=Symbol.for("react.client.reference");function gf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===jb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ds:return"Fragment";case hf:return"Profiler";case Ov:return"StrictMode";case ff:return"Suspense";case df:return"SuspenseList";case mf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qa:return"Portal";case Qn:return(e.displayName||"Context")+".Provider";case Mv:return(e._context.displayName||"Context")+".Consumer";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jd:return t=e.displayName||null,t!==null?t:gf(e.type)||"Memo";case bi:t=e._payload,e=e._init;try{return gf(e(t))}catch{}}return null}var Ha=Array.isArray,$=Cv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt=Vb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},pf=[],ms=-1;function Pn(e){return{current:e}}function he(e){0>ms||(e.current=pf[ms],pf[ms]=null,ms--)}function jt(e,t){ms++,pf[ms]=e.current,e.current=t}var In=Pn(null),_o=Pn(null),Ui=Pn(null),wu=Pn(null);function Ru(e,t){switch(jt(Ui,t),jt(_o,e),jt(In,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ay(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ay(t),e=$T(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}he(In),jt(In,e)}function Us(){he(In),he(_o),he(Ui)}function yf(e){e.memoizedState!==null&&jt(wu,e);var t=In.current,n=$T(t,e.type);t!==n&&(jt(_o,e),jt(In,n))}function Iu(e){_o.current===e&&(he(In),he(_o)),wu.current===e&&(he(wu),Co._currentValue=br)}var _f=Object.prototype.hasOwnProperty,zd=ie.unstable_scheduleCallback,yh=ie.unstable_cancelCallback,zb=ie.unstable_shouldYield,Bb=ie.unstable_requestPaint,Cn=ie.unstable_now,qb=ie.unstable_getCurrentPriorityLevel,Vv=ie.unstable_ImmediatePriority,kv=ie.unstable_UserBlockingPriority,Cu=ie.unstable_NormalPriority,Hb=ie.unstable_LowPriority,Pv=ie.unstable_IdlePriority,Fb=ie.log,Gb=ie.unstable_setDisableYieldValue,Bo=null,Xe=null;function Mi(e){if(typeof Fb=="function"&&Gb(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Bo,e)}catch{}}var $e=Math.clz32?Math.clz32:Kb,Qb=Math.log,Yb=Math.LN2;function Kb(e){return e>>>=0,e===0?32:31-(Qb(e)/Yb|0)|0}var Pl=256,Ll=4194304;function _r(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=_r(i):(a&=l,a!==0?r=_r(a):n||(n=l&~e,n!==0&&(r=_r(n))))):(l=i&~s,l!==0?r=_r(l):a!==0?r=_r(a):n||(n=i&~e,n!==0&&(r=_r(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function qo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lv(){var e=Pl;return Pl<<=1,!(Pl&4194048)&&(Pl=256),e}function Uv(){var e=Ll;return Ll<<=1,!(Ll&62914560)&&(Ll=4194304),e}function _h(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ho(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $b(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-$e(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~g}i!==0&&jv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function jv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-$e(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-$e(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Bd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Bv(){var e=Tt.p;return e!==0?e:(e=window.event,e===void 0?32:aE(e.type))}function Zb(e,t){var n=Tt.p;try{return Tt.p=e,t()}finally{Tt.p=n}}var or=Math.random().toString(36).slice(2),we="__reactFiber$"+or,ze="__reactProps$"+or,sa="__reactContainer$"+or,vf="__reactEvents$"+or,Wb="__reactListeners$"+or,Jb="__reactHandles$"+or,_p="__reactResources$"+or,Fo="__reactMarker$"+or;function Hd(e){delete e[we],delete e[ze],delete e[vf],delete e[Wb],delete e[Jb]}function gs(e){var t=e[we];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sa]||n[we]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wy(e);e!==null;){if(n=e[we])return n;e=wy(e)}return t}e=n,n=e.parentNode}return null}function aa(e){if(e=e[we]||e[sa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Rs(e){var t=e[_p];return t||(t=e[_p]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ue(e){e[Fo]=!0}var qv=new Set,Hv={};function jr(e,t){js(e,t),js(e+"Capture",t)}function js(e,t){for(Hv[e]=t,e=0;e<t.length;e++)qv.add(t[e])}var tS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},Tp={};function eS(e){return _f.call(Tp,e)?!0:_f.call(vp,e)?!1:tS.test(e)?Tp[e]=!0:(vp[e]=!0,!1)}function nu(e,t,n){if(eS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ul(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Bn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var vh,Ep;function as(e){if(vh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vh=t&&t[1]||"",Ep=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vh+e+Ep}var Th=!1;function Eh(e,t){if(!e||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(v){var m=v}Reflect.construct(e,[],g)}else{try{g.call()}catch(v){m=v}e.call(g.prototype)}}else{try{throw Error()}catch(v){m=v}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?as(n):""}function nS(e){switch(e.tag){case 26:case 27:case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Eh(e.type,!1);case 11:return Eh(e.type.render,!1);case 1:return Eh(e.type,!0);case 31:return as("Activity");default:return""}}function Ap(e){try{var t="";do t+=nS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iS(e){var t=Fv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Du(e){e._valueTracker||(e._valueTracker=iS(e))}function Gv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Fv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Nu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rS=/[\n"\\]/g;function an(e){return e.replace(rS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+nn(t)):e.value!==""+nn(t)&&(e.value=""+nn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Ef(e,a,nn(t)):n!=null?Ef(e,a,nn(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+nn(l):e.removeAttribute("name")}function Qv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+nn(n):"",t=t!=null?""+nn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Ef(e,t,n){t==="number"&&Nu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Is(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Yv(e,t,n){if(t!=null&&(t=""+nn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+nn(n):""}function Kv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ha(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=nn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||sS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&bp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&bp(e,s,t[s])}function Fd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(e){return oS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Af=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,Cs=null;function Sp(e){var t=aa(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;t:switch(e=t.stateNode,t.type){case"input":if(Tf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[ze]||null;if(!r)throw Error(P(90));Tf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Gv(i)}break t;case"textarea":Yv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Is(e,!!n.multiple,t,!1)}}}var Ah=!1;function $v(e,t,n){if(Ah)return e(t,n);Ah=!0;try{var i=e(t);return i}finally{if(Ah=!1,(ps!==null||Cs!==null)&&(Vc(),ps&&(t=ps,e=Cs,Cs=ps=null,Sp(t),e)))for(t=0;t<e.length;t++)Sp(e[t])}}function vo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ze]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(ii)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){bf=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{bf=!1}var Vi=null,Qd=null,ru=null;function Zv(){if(ru)return ru;var e,t=Qd,n=t.length,i,r="value"in Vi?Vi.value:Vi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return ru=r.slice(e,1<i?1-i:void 0)}function su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jl(){return!0}function wp(){return!1}function qe(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jl:wp,this.isPropagationStopped=wp,this}return Vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=qe(zr),Go=Vt({},zr,{view:0,detail:0}),lS=qe(Go),bh,Sh,Pa,Rc=Vt({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(bh=e.screenX-Pa.screenX,Sh=e.screenY-Pa.screenY):Sh=bh=0,Pa=e),bh)},movementY:function(e){return"movementY"in e?e.movementY:Sh}}),Rp=qe(Rc),uS=Vt({},Rc,{dataTransfer:0}),cS=qe(uS),hS=Vt({},Go,{relatedTarget:0}),wh=qe(hS),fS=Vt({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=qe(fS),mS=Vt({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gS=qe(mS),pS=Vt({},zr,{data:0}),Ip=qe(pS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vS[e])?!!t[e]:!1}function Yd(){return TS}var ES=Vt({},Go,{key:function(e){if(e.key){var t=yS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_S[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=qe(ES),bS=Vt({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=qe(bS),SS=Vt({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),wS=qe(SS),RS=Vt({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),IS=qe(RS),CS=Vt({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DS=qe(CS),NS=Vt({},zr,{newState:0,oldState:0}),xS=qe(NS),OS=[9,13,27,32],Kd=ii&&"CompositionEvent"in window,Za=null;ii&&"documentMode"in document&&(Za=document.documentMode);var MS=ii&&"TextEvent"in window&&!Za,Wv=ii&&(!Kd||Za&&8<Za&&11>=Za),Dp=" ",Np=!1;function Jv(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function VS(e,t){switch(e){case"compositionend":return t0(t);case"keypress":return t.which!==32?null:(Np=!0,Dp);case"textInput":return e=t.data,e===Dp&&Np?null:e;default:return null}}function kS(e,t){if(ys)return e==="compositionend"||!Kd&&Jv(e,t)?(e=Zv(),ru=Qd=Vi=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wv&&t.locale!=="ko"?null:t.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PS[e.type]:t==="textarea"}function e0(e,t,n,i){ps?Cs?Cs.push(i):Cs=[i]:ps=i,t=Ku(t,"onChange"),0<t.length&&(n=new wc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wa=null,To=null;function LS(e){YT(e,0)}function Ic(e){var t=Fa(e);if(Gv(t))return e}function Op(e,t){if(e==="change")return t}var n0=!1;if(ii){var Rh;if(ii){var Ih="oninput"in document;if(!Ih){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Ih=typeof Mp.oninput=="function"}Rh=Ih}else Rh=!1;n0=Rh&&(!document.documentMode||9<document.documentMode)}function Vp(){Wa&&(Wa.detachEvent("onpropertychange",i0),To=Wa=null)}function i0(e){if(e.propertyName==="value"&&Ic(To)){var t=[];e0(t,To,e,Gd(e)),$v(LS,t)}}function US(e,t,n){e==="focusin"?(Vp(),Wa=t,To=n,Wa.attachEvent("onpropertychange",i0)):e==="focusout"&&Vp()}function jS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ic(To)}function zS(e,t){if(e==="click")return Ic(t)}function BS(e,t){if(e==="input"||e==="change")return Ic(t)}function qS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:qS;function Eo(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!_f.call(t,r)||!Je(e[r],t[r]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pp(e,t){var n=kp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=kp(n)}}function r0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nu(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var HS=ii&&"documentMode"in document&&11>=document.documentMode,_s=null,Sf=null,Ja=null,wf=!1;function Lp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||_s==null||_s!==Nu(i)||(i=_s,"selectionStart"in i&&Xd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ja&&Eo(Ja,i)||(Ja=i,i=Ku(Sf,"onSelect"),0<i.length&&(t=new wc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=_s)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vs={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Ch={},a0={};ii&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Br(e){if(Ch[e])return Ch[e];if(!vs[e])return e;var t=vs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a0)return Ch[e]=t[n];return e}var o0=Br("animationend"),l0=Br("animationiteration"),u0=Br("animationstart"),FS=Br("transitionrun"),GS=Br("transitionstart"),QS=Br("transitioncancel"),c0=Br("transitionend"),h0=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Tn(e,t){h0.set(e,t),jr(t,[e])}var Up=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var n=Up.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ap(t)},Up.set(e,t),t)}return{value:e,source:t,stack:Ap(t)}}var en=[],Ts=0,$d=0;function Cc(){for(var e=Ts,t=$d=Ts=0;t<e;){var n=en[t];en[t++]=null;var i=en[t];en[t++]=null;var r=en[t];en[t++]=null;var s=en[t];if(en[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&f0(n,r,s)}}function Dc(e,t,n,i){en[Ts++]=e,en[Ts++]=t,en[Ts++]=n,en[Ts++]=i,$d|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Zd(e,t,n,i){return Dc(e,t,n,i),xu(e)}function oa(e,t){return Dc(e,null,null,t),xu(e)}function f0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-$e(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function xu(e){if(50<uo)throw uo=0,Yf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function YS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,i){return new YS(e,t,n,i)}function Wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jn(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function d0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function au(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Wd(e)&&(a=1);else if(typeof e=="string")a=Xw(e,n,In.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case mf:return e=Ke(31,n,t,r),e.elementType=mf,e.lanes=s,e;case ds:return Sr(n.children,r,s,t);case Ov:a=8,r|=24;break;case hf:return e=Ke(12,n,t,r|2),e.elementType=hf,e.lanes=s,e;case ff:return e=Ke(13,n,t,r),e.elementType=ff,e.lanes=s,e;case df:return e=Ke(19,n,t,r),e.elementType=df,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lb:case Qn:a=10;break t;case Mv:a=9;break t;case Ud:a=11;break t;case jd:a=14;break t;case bi:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ke(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Sr(e,t,n,i){return e=Ke(7,e,i,t),e.lanes=n,e}function Dh(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Nh(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var As=[],bs=0,Ou=null,Mu=0,rn=[],sn=0,wr=null,Yn=1,Kn="";function vr(e,t){As[bs++]=Mu,As[bs++]=Ou,Ou=e,Mu=t}function m0(e,t,n){rn[sn++]=Yn,rn[sn++]=Kn,rn[sn++]=wr,wr=e;var i=Yn;e=Kn;var r=32-$e(i)-1;i&=~(1<<r),n+=1;var s=32-$e(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Yn=1<<32-$e(t)+r|n<<r|i,Kn=s+e}else Yn=1<<s|n<<r|i,Kn=e}function Jd(e){e.return!==null&&(vr(e,1),m0(e,1,0))}function tm(e){for(;e===Ou;)Ou=As[--bs],As[bs]=null,Mu=As[--bs],As[bs]=null;for(;e===wr;)wr=rn[--sn],rn[sn]=null,Kn=rn[--sn],rn[sn]=null,Yn=rn[--sn],rn[sn]=null}var Ne=null,Ht=null,vt=!1,Rr=null,wn=!1,If=Error(P(519));function Nr(e){var t=Error(P(418,""));throw Ao(on(t,e)),If}function jp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[we]=e,t[ze]=i,n){case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":case"embed":ot("load",t);break;case"video":case"audio":for(n=0;n<wo.length;n++)ot(wo[n],t);break;case"source":ot("error",t);break;case"img":case"image":case"link":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"input":ot("invalid",t),Qv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Du(t);break;case"select":ot("invalid",t);break;case"textarea":ot("invalid",t),Kv(t,i.value,i.defaultValue,i.children),Du(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||XT(t.textContent,n)?(i.popover!=null&&(ot("beforetoggle",t),ot("toggle",t)),i.onScroll!=null&&ot("scroll",t),i.onScrollEnd!=null&&ot("scrollend",t),i.onClick!=null&&(t.onclick=Lc),t=!0):t=!1,t||Nr(e)}function zp(e){for(Ne=e.return;Ne;)switch(Ne.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Ne=Ne.return}}function La(e){if(e!==Ne)return!1;if(!vt)return zp(e),vt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jf(e.type,e.memoizedProps)),n=!n),n&&Ht&&Nr(e),zp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ht=_n(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ht=null}}else t===27?(t=Ht,lr(e.type)?(e=nd,nd=null,Ht=e):Ht=t):Ht=Ne?_n(e.stateNode.nextSibling):null;return!0}function Qo(){Ht=Ne=null,vt=!1}function Bp(){var e=Rr;return e!==null&&(Ue===null?Ue=e:Ue.push.apply(Ue,e),Rr=null),e}function Ao(e){Rr===null?Rr=[e]:Rr.push(e)}var Cf=Pn(null),qr=null,Xn=null;function wi(e,t,n){jt(Cf,t._currentValue),t._currentValue=n}function ti(e){e._currentValue=Cf.current,he(Cf)}function Df(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Nf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Df(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Df(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Yo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Je(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===wu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}r=r.return}e!==null&&Nf(t,e,n,i),t.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Je(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){qr=e,Xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return g0(qr,e)}function zl(e,t){return qr===null&&xr(e),g0(e,t)}function g0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xn===null){if(e===null)throw Error(P(308));Xn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xn=Xn.next=t;return n}var KS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},XS=ie.unstable_scheduleCallback,$S=ie.unstable_NormalPriority,Jt={$$typeof:Qn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new KS,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&XS($S,function(){e.controller.abort()})}var to=null,xf=0,Bs=0,Ds=null;function ZS(e,t){if(to===null){var n=to=[];xf=0,Bs=Sm(),Ds={status:"pending",value:void 0,then:function(i){n.push(i)}}}return xf++,t.then(qp,qp),t}function qp(){if(--xf===0&&to!==null){Ds!==null&&(Ds.status="fulfilled");var e=to;to=null,Bs=0,Ds=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Hp=$.S;$.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ZS(e,t),Hp!==null&&Hp(e,t)};var Ir=Pn(null);function nm(){var e=Ir.current;return e!==null?e:xt.pooledCache}function ou(e,t){t===null?jt(Ir,Ir.current):jt(Ir,t.pool)}function p0(){var e=nm();return e===null?null:{parent:Jt._currentValue,pool:e}}var Xo=Error(P(460)),y0=Error(P(474)),Nc=Error(P(542)),Of={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bl(){}function _0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bl,Bl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qp(e),e;default:if(typeof t.status=="string")t.then(Bl,Bl);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qp(e),e}throw eo=t,Xo}}var eo=null;function Gp(){if(eo===null)throw Error(P(459));var e=eo;return eo=null,e}function Qp(e){if(e===Xo||e===Nc)throw Error(P(483))}var Si=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,St&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=xu(e),f0(e,null,n),t}return Dc(e,i,t,n),xu(e)}function no(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}function xh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Vf=!1;function io(){if(Vf){var e=Ds;if(e!==null)throw e}}function ro(e,t,n,i){Vf=!1;var r=e.updateQueue;Si=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,v=m!==l.lane;if(v?(dt&m)===m:(i&m)===m){m!==0&&m===Bs&&(Vf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var x=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){g=x.call(V,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,m=typeof x=="function"?x.call(V,g,m):x,m==null)break t;g=Vt({},g,m);break t;case 2:Si=!0}}m=l.callback,m!==null&&(e.flags|=64,v&&(e.flags|=8192),v=r.callbacks,v===null?r.callbacks=[m]:v.push(m))}else v={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=v,u=g):d=d.next=v,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;v=l,l=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),tr|=a,e.lanes=a,e.memoizedState=g}}function v0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function T0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)v0(n[e],t)}var qs=Pn(null),ku=Pn(0);function Yp(e,t){e=ai,jt(ku,e),jt(qs,t),ai=e|t.baseLanes}function kf(){jt(ku,ai),jt(qs,qs.current)}function rm(){ai=ku.current,he(qs),he(ku)}var Wi=0,at=null,Rt=null,$t=null,Pu=!1,Ns=!1,Or=!1,Lu=0,bo=0,xs=null,JS=0;function Gt(){throw Error(P(321))}function sm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Je(e[n],t[n]))return!1;return!0}function am(e,t,n,i,r,s){return Wi=s,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Z0:W0,Or=!1,s=n(i,r),Or=!1,Ns&&(s=A0(t,n,i,r)),E0(e),s}function E0(e){$.H=Uu;var t=Rt!==null&&Rt.next!==null;if(Wi=0,$t=Rt=at=null,Pu=!1,bo=0,xs=null,t)throw Error(P(300));e===null||ce||(e=e.dependencies,e!==null&&Vu(e)&&(ce=!0))}function A0(e,t,n,i){at=e;var r=0;do{if(Ns&&(xs=null),bo=0,Ns=!1,25<=r)throw Error(P(301));if(r+=1,$t=Rt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=aw,s=t(n,i)}while(Ns);return s}function tw(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?$o(t):t,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(at.flags|=1024),t}function om(){var e=Lu!==0;return Lu=0,e}function lm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function um(e){if(Pu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pu=!1}Wi=0,$t=Rt=at=null,Ns=!1,bo=Lu=0,xs=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?at.memoizedState=$t=e:$t=$t.next=e,$t}function Wt(){if(Rt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=$t===null?at.memoizedState:$t.next;if(t!==null)$t=t,Rt=e;else{if(e===null)throw at.alternate===null?Error(P(467)):Error(P(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?at.memoizedState=$t=e:$t=$t.next=e}return $t}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var t=bo;return bo+=1,xs===null&&(xs=[]),e=_0(xs,e,t),t=at,($t===null?t.memoizedState:$t.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Z0:W0),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===Qn)return Re(e)}throw Error(P(438,String(e)))}function hm(e){var t=null,n=at.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=at.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=cm(),at.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ub;return t.index++,n}function ri(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=Wt();return fm(t,Rt,e)}function fm(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(dt&g)===g:(Wi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Bs&&(d=!0);else if((Wi&m)===m){h=h.next,m===Bs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,at.lanes|=m,tr|=m;g=h.action,Or&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,at.lanes|=g,tr|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Je(s,e.memoizedState)&&(ce=!0,d&&(n=Ds,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Oh(e){var t=Wt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Je(s,t.memoizedState)||(ce=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function b0(e,t,n){var i=at,r=Wt(),s=vt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!Je((Rt||r).memoizedState,n);a&&(r.memoizedState=n,ce=!0),r=r.queue;var l=R0.bind(null,i,r,e);if(Zo(2048,8,l,[e]),r.getSnapshot!==t||a||$t!==null&&$t.memoizedState.tag&1){if(i.flags|=2048,Hs(9,Oc(),w0.bind(null,i,r,n,t),null),xt===null)throw Error(P(349));s||Wi&124||S0(i,t,n)}return n}function S0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t=cm(),at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w0(e,t,n,i){t.value=n,t.getSnapshot=i,I0(t)&&C0(e)}function R0(e,t,n){return n(function(){I0(t)&&C0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Je(e,n)}catch{return!0}}function C0(e){var t=oa(e,2);t!==null&&We(t,e,2)}function Pf(e){var t=Pe();if(typeof e=="function"){var n=e;if(e=n(),Or){Mi(!0);try{n()}finally{Mi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t}function D0(e,t,n,i){return e.baseState=n,fm(e,Rt,typeof i=="function"?i:ri)}function ew(e,t,n,i,r){if(Mc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};$.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,N0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function N0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=$.T,a={};$.T=a;try{var l=n(r,i),u=$.S;u!==null&&u(a,l),Kp(e,t,l)}catch(h){Lf(e,t,h)}finally{$.T=s}}else try{s=n(r,i),Kp(e,t,s)}catch(h){Lf(e,t,h)}}function Kp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Xp(e,t,i)},function(i){return Lf(e,t,i)}):Xp(e,t,n)}function Xp(e,t,n){t.status="fulfilled",t.value=n,x0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,N0(e,n)))}function Lf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,x0(t),t=t.next;while(t!==i)}e.action=null}function x0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function O0(e,t){return t}function $p(e,t){if(vt){var n=xt.formState;if(n!==null){t:{var i=at;if(vt){if(Ht){e:{for(var r=Ht,s=wn;r.nodeType!==8;){if(!s){r=null;break e}if(r=_n(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ht=_n(r.nextSibling),i=r.data==="F!";break t}}Nr(i)}i=!1}i&&(t=n[0])}}return n=Pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:t},n.queue=i,n=K0.bind(null,at,i),i.dispatch=n,i=Pf(!1),s=pm.bind(null,at,!1,i.queue),i=Pe(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=ew.bind(null,at,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Zp(e){var t=Wt();return M0(t,Rt,e)}function M0(e,t,n){if(t=fm(e,t,O0)[0],e=lu(ri)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=$o(t)}catch(a){throw a===Xo?Nc:a}else i=t;t=Wt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(at.flags|=2048,Hs(9,Oc(),nw.bind(null,r,n),null)),[i,s,e]}function nw(e,t){e.action=t}function Wp(e){var t=Wt(),n=Rt;if(n!==null)return M0(t,n,e);Wt(),t=t.memoizedState,n=Wt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Hs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=at.updateQueue,t===null&&(t=cm(),at.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Oc(){return{destroy:void 0,resource:void 0}}function V0(){return Wt().memoizedState}function uu(e,t,n,i){var r=Pe();i=i===void 0?null:i,at.flags|=e,r.memoizedState=Hs(1|t,Oc(),n,i)}function Zo(e,t,n,i){var r=Wt();i=i===void 0?null:i;var s=r.memoizedState.inst;Rt!==null&&i!==null&&sm(i,Rt.memoizedState.deps)?r.memoizedState=Hs(t,s,n,i):(at.flags|=e,r.memoizedState=Hs(1|t,s,n,i))}function Jp(e,t){uu(8390656,8,e,t)}function k0(e,t){Zo(2048,8,e,t)}function P0(e,t){return Zo(4,2,e,t)}function L0(e,t){return Zo(4,4,e,t)}function U0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j0(e,t,n){n=n!=null?n.concat([e]):null,Zo(4,4,U0.bind(null,t,e),n)}function dm(){}function z0(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&sm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function B0(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&sm(t,i[1]))return i[0];if(i=e(),Or){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[i,t],i}function mm(e,t,n){return n===void 0||Wi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=xT(),at.lanes|=e,tr|=e,n)}function q0(e,t,n,i){return Je(n,t)?n:qs.current!==null?(e=mm(e,n,i),Je(e,t)||(ce=!0),e):Wi&42?(e=xT(),at.lanes|=e,tr|=e,t):(ce=!0,e.memoizedState=n)}function H0(e,t,n,i,r){var s=Tt.p;Tt.p=s!==0&&8>s?s:8;var a=$.T,l={};$.T=l,pm(e,!1,t,n);try{var u=r(),h=$.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=WS(u,i);so(e,t,d,Ze(e))}else so(e,t,i,Ze(e))}catch(g){so(e,t,{then:function(){},status:"rejected",reason:g},Ze())}finally{Tt.p=s,$.T=a}}function iw(){}function Uf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=F0(e).queue;H0(e,r,t,br,n===null?iw:function(){return G0(e),n(i)})}function F0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:br},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function G0(e){var t=F0(e).next.queue;so(e,t,{},Ze())}function gm(){return Re(Co)}function Q0(){return Wt().memoizedState}function Y0(){return Wt().memoizedState}function rw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ze();e=ji(n);var i=zi(t,e,n);i!==null&&(We(i,t,n),no(i,t,n)),t={cache:em()},e.payload=t;return}t=t.return}}function sw(e,t,n){var i=Ze();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Mc(e)?X0(t,n):(n=Zd(e,t,n,i),n!==null&&(We(n,e,i),$0(n,t,i)))}function K0(e,t,n){var i=Ze();so(e,t,n,i)}function so(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))X0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Je(l,a))return Dc(e,t,r,0),xt===null&&Cc(),!1}catch{}finally{}if(n=Zd(e,t,r,i),n!==null)return We(n,e,i),$0(n,t,i),!0}return!1}function pm(e,t,n,i){if(i={lane:2,revertLane:Sm(),action:i,hasEagerState:!1,eagerState:null,next:null},Mc(e)){if(t)throw Error(P(479))}else t=Zd(e,n,i,2),t!==null&&We(t,e,2)}function Mc(e){var t=e.alternate;return e===at||t!==null&&t===at}function X0(e,t){Ns=Pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}var Uu={readContext:Re,use:xc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Z0={readContext:Re,use:xc,useCallback:function(e,t){return Pe().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:Jp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,uu(4194308,4,U0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uu(4194308,4,e,t)},useInsertionEffect:function(e,t){uu(4,2,e,t)},useMemo:function(e,t){var n=Pe();t=t===void 0?null:t;var i=e();if(Or){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Pe();if(n!==void 0){var r=n(t);if(Or){Mi(!0);try{n(t)}finally{Mi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=sw.bind(null,at,e),[i.memoizedState,e]},useRef:function(e){var t=Pe();return e={current:e},t.memoizedState=e},useState:function(e){e=Pf(e);var t=e.queue,n=K0.bind(null,at,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:dm,useDeferredValue:function(e,t){var n=Pe();return mm(n,e,t)},useTransition:function(){var e=Pf(!1);return e=H0.bind(null,at,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=at,r=Pe();if(vt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),xt===null)throw Error(P(349));dt&124||S0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Jp(R0.bind(null,i,s,e),[e]),i.flags|=2048,Hs(9,Oc(),w0.bind(null,i,s,n,t),null),n},useId:function(){var e=Pe(),t=xt.identifierPrefix;if(vt){var n=Kn,i=Yn;n=(i&~(1<<32-$e(i)-1)).toString(32)+n,t=""+t+"R"+n,n=Lu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=JS++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:gm,useFormState:$p,useActionState:$p,useOptimistic:function(e){var t=Pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=pm.bind(null,at,!0,n),n.dispatch=t,[e,t]},useMemoCache:hm,useCacheRefresh:function(){return Pe().memoizedState=rw.bind(null,at)}},W0={readContext:Re,use:xc,useCallback:z0,useContext:Re,useEffect:k0,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:B0,useReducer:lu,useRef:V0,useState:function(){return lu(ri)},useDebugValue:dm,useDeferredValue:function(e,t){var n=Wt();return q0(n,Rt.memoizedState,e,t)},useTransition:function(){var e=lu(ri)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:$o(e),t]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:gm,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,t){var n=Wt();return D0(n,Rt,e,t)},useMemoCache:hm,useCacheRefresh:Y0},aw={readContext:Re,use:xc,useCallback:z0,useContext:Re,useEffect:k0,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:B0,useReducer:Oh,useRef:V0,useState:function(){return Oh(ri)},useDebugValue:dm,useDeferredValue:function(e,t){var n=Wt();return Rt===null?mm(n,e,t):q0(n,Rt.memoizedState,e,t)},useTransition:function(){var e=Oh(ri)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:$o(e),t]},useSyncExternalStore:b0,useId:Q0,useHostTransitionStatus:gm,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,t){var n=Wt();return Rt!==null?D0(n,Rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hm,useCacheRefresh:Y0},Os=null,So=0;function ql(e){var t=So;return So+=1,Os===null&&(Os=[]),_0(Os,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hl(e,t){throw t.$$typeof===Pb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ty(e){var t=e._init;return t(e._payload)}function J0(e){function t(w,T){if(e){var S=w.deletions;S===null?(w.deletions=[T],w.flags|=16):S.push(T)}}function n(w,T){if(!e)return null;for(;T!==null;)t(w,T),T=T.sibling;return null}function i(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function r(w,T){return w=Jn(w,T),w.index=0,w.sibling=null,w}function s(w,T,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<T?(w.flags|=67108866,T):S):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function a(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function l(w,T,S,N){return T===null||T.tag!==6?(T=Dh(S,w.mode,N),T.return=w,T):(T=r(T,S),T.return=w,T)}function u(w,T,S,N){var U=S.type;return U===ds?d(w,T,S.props.children,N,S.key):T!==null&&(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===bi&&ty(U)===T.type)?(T=r(T,S.props),Ua(T,S),T.return=w,T):(T=au(S.type,S.key,S.props,null,w.mode,N),Ua(T,S),T.return=w,T)}function h(w,T,S,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=Nh(S,w.mode,N),T.return=w,T):(T=r(T,S.children||[]),T.return=w,T)}function d(w,T,S,N,U){return T===null||T.tag!==7?(T=Sr(S,w.mode,N,U),T.return=w,T):(T=r(T,S),T.return=w,T)}function g(w,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Dh(""+T,w.mode,S),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kl:return S=au(T.type,T.key,T.props,null,w.mode,S),Ua(S,T),S.return=w,S;case qa:return T=Nh(T,w.mode,S),T.return=w,T;case bi:var N=T._init;return T=N(T._payload),g(w,T,S)}if(Ha(T)||Va(T))return T=Sr(T,w.mode,S,null),T.return=w,T;if(typeof T.then=="function")return g(w,ql(T),S);if(T.$$typeof===Qn)return g(w,zl(w,T),S);Hl(w,T)}return null}function m(w,T,S,N){var U=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return U!==null?null:l(w,T,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kl:return S.key===U?u(w,T,S,N):null;case qa:return S.key===U?h(w,T,S,N):null;case bi:return U=S._init,S=U(S._payload),m(w,T,S,N)}if(Ha(S)||Va(S))return U!==null?null:d(w,T,S,N,null);if(typeof S.then=="function")return m(w,T,ql(S),N);if(S.$$typeof===Qn)return m(w,T,zl(w,S),N);Hl(w,S)}return null}function v(w,T,S,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return w=w.get(S)||null,l(T,w,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case kl:return w=w.get(N.key===null?S:N.key)||null,u(T,w,N,U);case qa:return w=w.get(N.key===null?S:N.key)||null,h(T,w,N,U);case bi:var z=N._init;return N=z(N._payload),v(w,T,S,N,U)}if(Ha(N)||Va(N))return w=w.get(S)||null,d(T,w,N,U,null);if(typeof N.then=="function")return v(w,T,S,ql(N),U);if(N.$$typeof===Qn)return v(w,T,S,zl(T,N),U);Hl(T,N)}return null}function x(w,T,S,N){for(var U=null,z=null,E=T,y=T=0,A=null;E!==null&&y<S.length;y++){E.index>y?(A=E,E=null):A=E.sibling;var b=m(w,E,S[y],N);if(b===null){E===null&&(E=A);break}e&&E&&b.alternate===null&&t(w,E),T=s(b,T,y),z===null?U=b:z.sibling=b,z=b,E=A}if(y===S.length)return n(w,E),vt&&vr(w,y),U;if(E===null){for(;y<S.length;y++)E=g(w,S[y],N),E!==null&&(T=s(E,T,y),z===null?U=E:z.sibling=E,z=E);return vt&&vr(w,y),U}for(E=i(E);y<S.length;y++)A=v(E,w,y,S[y],N),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?y:A.key),T=s(A,T,y),z===null?U=A:z.sibling=A,z=A);return e&&E.forEach(function(I){return t(w,I)}),vt&&vr(w,y),U}function M(w,T,S,N){if(S==null)throw Error(P(151));for(var U=null,z=null,E=T,y=T=0,A=null,b=S.next();E!==null&&!b.done;y++,b=S.next()){E.index>y?(A=E,E=null):A=E.sibling;var I=m(w,E,b.value,N);if(I===null){E===null&&(E=A);break}e&&E&&I.alternate===null&&t(w,E),T=s(I,T,y),z===null?U=I:z.sibling=I,z=I,E=A}if(b.done)return n(w,E),vt&&vr(w,y),U;if(E===null){for(;!b.done;y++,b=S.next())b=g(w,b.value,N),b!==null&&(T=s(b,T,y),z===null?U=b:z.sibling=b,z=b);return vt&&vr(w,y),U}for(E=i(E);!b.done;y++,b=S.next())b=v(E,w,y,b.value,N),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?y:b.key),T=s(b,T,y),z===null?U=b:z.sibling=b,z=b);return e&&E.forEach(function(C){return t(w,C)}),vt&&vr(w,y),U}function V(w,T,S,N){if(typeof S=="object"&&S!==null&&S.type===ds&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case kl:t:{for(var U=S.key;T!==null;){if(T.key===U){if(U=S.type,U===ds){if(T.tag===7){n(w,T.sibling),N=r(T,S.props.children),N.return=w,w=N;break t}}else if(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===bi&&ty(U)===T.type){n(w,T.sibling),N=r(T,S.props),Ua(N,S),N.return=w,w=N;break t}n(w,T);break}else t(w,T);T=T.sibling}S.type===ds?(N=Sr(S.props.children,w.mode,N,S.key),N.return=w,w=N):(N=au(S.type,S.key,S.props,null,w.mode,N),Ua(N,S),N.return=w,w=N)}return a(w);case qa:t:{for(U=S.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(w,T.sibling),N=r(T,S.children||[]),N.return=w,w=N;break t}else{n(w,T);break}else t(w,T);T=T.sibling}N=Nh(S,w.mode,N),N.return=w,w=N}return a(w);case bi:return U=S._init,S=U(S._payload),V(w,T,S,N)}if(Ha(S))return x(w,T,S,N);if(Va(S)){if(U=Va(S),typeof U!="function")throw Error(P(150));return S=U.call(S),M(w,T,S,N)}if(typeof S.then=="function")return V(w,T,ql(S),N);if(S.$$typeof===Qn)return V(w,T,zl(w,S),N);Hl(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(w,T.sibling),N=r(T,S),N.return=w,w=N):(n(w,T),N=Dh(S,w.mode,N),N.return=w,w=N),a(w)):n(w,T)}return function(w,T,S,N){try{So=0;var U=V(w,T,S,N);return Os=null,U}catch(E){if(E===Xo||E===Nc)throw E;var z=Ke(29,E,null,w.mode);return z.lanes=N,z.return=w,z}finally{}}}var Fs=J0(!0),tT=J0(!1),hn=Pn(null),Dn=null;function Ri(e){var t=e.alternate;jt(te,te.current&1),jt(hn,e),Dn===null&&(t===null||qs.current!==null||t.memoizedState!==null)&&(Dn=e)}function eT(e){if(e.tag===22){if(jt(te,te.current),jt(hn,e),Dn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Dn=e)}}else Ii()}function Ii(){jt(te,te.current),jt(hn,hn.current)}function $n(e){he(hn),Dn===e&&(Dn=null),he(te)}var te=Pn(0);function ju(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ed(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ze(),r=ji(i);r.payload=t,n!=null&&(r.callback=n),t=zi(e,r,i),t!==null&&(We(t,e,i),no(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ze(),r=ji(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=zi(e,r,i),t!==null&&(We(t,e,i),no(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),i=ji(n);i.tag=2,t!=null&&(i.callback=t),t=zi(e,i,n),t!==null&&(We(t,e,n),no(t,e,n))}};function ey(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Eo(n,i)||!Eo(r,s):!0}function ny(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&jf.enqueueReplaceState(t,t.state,null)}function Mr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Vt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nT(e){zu(e)}function iT(e){console.error(e)}function rT(e){zu(e)}function Bu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function iy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function zf(e,t,n){return n=ji(n),n.tag=3,n.payload={element:null},n.callback=function(){Bu(e,t)},n}function sT(e){return e=ji(e),e.tag=3,e}function aT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){iy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){iy(t,n,i),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function ow(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Yo(t,n,r,!0),n=hn.current,n!==null){switch(n.tag){case 13:return Dn===null?Kf():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Of?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Fh(e,i,r)),!1;case 22:return n.flags|=65536,i===Of?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Fh(e,i,r)),!1}throw Error(P(435,n.tag))}return Fh(e,i,r),Kf(),!1}if(vt)return t=hn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==If&&(e=Error(P(422),{cause:i}),Ao(on(e,n)))):(i!==If&&(t=Error(P(423),{cause:i}),Ao(on(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=on(i,n),r=zf(e.stateNode,i,r),xh(e,r),Ft!==4&&(Ft=2)),!1;var s=Error(P(520),{cause:i});if(s=on(s,n),lo===null?lo=[s]:lo.push(s),Ft!==4&&(Ft=2),t===null)return!0;i=on(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=zf(n.stateNode,i,e),xh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Bi===null||!Bi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=sT(r),aT(r,e,n,i),xh(n,r),!1}n=n.return}while(n!==null);return!1}var oT=Error(P(461)),ce=!1;function me(e,t,n,i){t.child=e===null?tT(t,null,n,i):Fs(t,e.child,n,i)}function ry(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return xr(t),i=am(e,t,n,a,s,r),l=om(),e!==null&&!ce?(lm(e,t,r),si(e,t,r)):(vt&&l&&Jd(t),t.flags|=1,me(e,t,i,r),t.child)}function sy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Wd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,lT(e,t,s,i,r)):(e=au(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ym(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(a,i)&&e.ref===t.ref)return si(e,t,r)}return t.flags|=1,e=Jn(s,i),e.ref=t.ref,e.return=t,t.child=e}function lT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Eo(s,i)&&e.ref===t.ref)if(ce=!1,t.pendingProps=i=s,ym(e,r))e.flags&131072&&(ce=!0);else return t.lanes=e.lanes,si(e,t,r)}return Bf(e,t,n,i,r)}function uT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return ay(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(t,s!==null?s.cachePool:null),s!==null?Yp(t,s):kf(),eT(t);else return t.lanes=t.childLanes=536870912,ay(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(ou(t,s.cachePool),Yp(t,s),Ii(),t.memoizedState=null):(e!==null&&ou(t,null),kf(),Ii());return me(e,t,r,n),t.child}function ay(e,t,n,i){var r=nm();return r=r===null?null:{parent:Jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ou(t,null),kf(),eT(t),e!==null&&Yo(e,t,i,!0),null}function cu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Bf(e,t,n,i,r){return xr(t),n=am(e,t,n,i,void 0,r),i=om(),e!==null&&!ce?(lm(e,t,r),si(e,t,r)):(vt&&i&&Jd(t),t.flags|=1,me(e,t,n,r),t.child)}function oy(e,t,n,i,r,s){return xr(t),t.updateQueue=null,n=A0(t,i,n,r),E0(e),i=om(),e!==null&&!ce?(lm(e,t,s),si(e,t,s)):(vt&&i&&Jd(t),t.flags|=1,me(e,t,n,s),t.child)}function ly(e,t,n,i,r){if(xr(t),t.stateNode===null){var s=Es,a=n.contextType;typeof a=="object"&&a!==null&&(s=Re(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},im(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Re(a):Es,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Mh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&jf.enqueueReplaceState(s,s.state,null),ro(t,i,s,r),io(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Mr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Es,typeof d=="object"&&d!==null&&(a=Re(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&ny(t,s,i,a),Si=!1;var m=t.memoizedState;s.state=m,ro(t,i,s,r),io(),h=t.memoizedState,l||m!==h||Si?(typeof g=="function"&&(Mh(t,n,g,i),h=t.memoizedState),(u=Si||ey(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Mf(e,t),a=t.memoizedProps,d=Mr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=Es,typeof h=="object"&&h!==null&&(u=Re(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ny(t,s,i,u),Si=!1,m=t.memoizedState,s.state=m,ro(t,i,s,r),io();var v=t.memoizedState;a!==g||m!==v||Si||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof l=="function"&&(Mh(t,n,l,i),v=t.memoizedState),(d=Si||ey(t,n,d,i,m,v,u)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),s.props=i,s.state=v,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,cu(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Fs(t,e.child,null,r),t.child=Fs(t,null,n,r)):me(e,t,n,r),t.memoizedState=s.state,e=t.child):e=si(e,t,r),e}function uy(e,t,n,i){return Qo(),t.flags|=256,me(e,t,n,i),t.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(e){return{baseLanes:e,cachePool:p0()}}function Ph(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=cn),e}function cT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(te.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(vt){if(r?Ri(t):Ii(),vt){var l=Ht,u;if(u=l){t:{for(u=l,l=wn;u.nodeType!==8;){if(!l){l=null;break t}if(u=_n(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:wr!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},u=Ke(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Ne=t,Ht=null,u=!0):u=!1}u||Nr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return ed(l)?t.lanes=32:t.lanes=536870912,null;$n(t)}return l=i.children,i=i.fallback,r?(Ii(),r=t.mode,l=qu({mode:"hidden",children:l},r),i=Sr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=kh(n),r.childLanes=Ph(e,a,n),t.memoizedState=Vh,i):(Ri(t),qf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Ri(t),t.flags&=-257,t=Lh(e,t,n)):t.memoizedState!==null?(Ii(),t.child=e.child,t.flags|=128,t=null):(Ii(),r=i.fallback,l=t.mode,i=qu({mode:"visible",children:i.children},l),r=Sr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Fs(t,e.child,null,n),i=t.child,i.memoizedState=kh(n),i.childLanes=Ph(e,a,n),t.memoizedState=Vh,t=r);else if(Ri(t),ed(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Ao({value:i,source:null,stack:null}),t=Lh(e,t,n)}else if(ce||Yo(e,t,n,!1),a=(n&e.childLanes)!==0,ce||a){if(a=xt,a!==null&&(i=n&-n,i=i&42?1:Bd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,oa(e,i),We(a,e,i),oT;l.data==="$?"||Kf(),t=Lh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ht=_n(l.nextSibling),Ne=t,vt=!0,Rr=null,wn=!1,e!==null&&(rn[sn++]=Yn,rn[sn++]=Kn,rn[sn++]=wr,Yn=e.id,Kn=e.overflow,wr=t),t=qf(t,i.children),t.flags|=4096);return t}return r?(Ii(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Jn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Jn(h,r):(r=Sr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=kh(n):(u=l.cachePool,u!==null?(h=Jt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=p0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Ph(e,a,n),t.memoizedState=Vh,i):(Ri(t),n=e.child,e=n.sibling,n=Jn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function qf(e,t){return t=qu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qu(e,t){return e=Ke(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lh(e,t,n){return Fs(t,e.child,null,n),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Df(e.return,t,n)}function Uh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function hT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(me(e,t,i.children,n),i=te.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,n,t);else if(e.tag===19)cy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(jt(te,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ju(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ju(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uh(t,!0,n,null,s);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Yo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ym(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function lw(e,t,n){switch(t.tag){case 3:Ru(t,t.stateNode.containerInfo),wi(t,Jt,e.memoizedState.cache),Qo();break;case 27:case 5:yf(t);break;case 4:Ru(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ri(t),t.flags|=128,null):n&t.child.childLanes?cT(e,t,n):(Ri(t),e=si(e,t,n),e!==null?e.sibling:null);Ri(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Yo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return hT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),jt(te,te.current),i)break;return null;case 22:case 23:return t.lanes=0,uT(e,t,n);case 24:wi(t,Jt,e.memoizedState.cache)}return si(e,t,n)}function fT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ce=!0;else{if(!ym(e,n)&&!(t.flags&128))return ce=!1,lw(e,t,n);ce=!!(e.flags&131072)}else ce=!1,vt&&t.flags&1048576&&m0(t,Mu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Wd(i)?(e=Mr(i,e),t.tag=1,t=ly(null,t,i,e,n)):(t.tag=0,t=Bf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Ud){t.tag=11,t=ry(null,t,i,e,n);break t}else if(r===jd){t.tag=14,t=sy(null,t,i,e,n);break t}}throw t=gf(i)||i,Error(P(306,t,""))}}return t;case 0:return Bf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Mr(i,t.pendingProps),ly(e,t,i,r,n);case 3:t:{if(Ru(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Mf(e,t),ro(t,i,null,n);var a=t.memoizedState;if(i=a.cache,wi(t,Jt,i),i!==s.cache&&Nf(t,[Jt],n,!0),io(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=uy(e,t,i,n);break t}else if(i!==r){r=on(Error(P(424)),t),Ao(r),t=uy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=_n(e.firstChild),Ne=t,vt=!0,Rr=null,wn=!0,n=tT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qo(),i===r){t=si(e,t,n);break t}me(e,t,i,n)}t=t.child}return t;case 26:return cu(e,t),e===null?(n=Iy(t.type,null,t.pendingProps,null))?t.memoizedState=n:vt||(n=t.type,e=t.pendingProps,i=Xu(Ui.current).createElement(n),i[we]=t,i[ze]=e,_e(i,n,e),ue(i),t.stateNode=i):t.memoizedState=Iy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return yf(t),e===null&&vt&&(i=t.stateNode=WT(t.type,t.pendingProps,Ui.current),Ne=t,wn=!0,r=Ht,lr(t.type)?(nd=r,Ht=_n(i.firstChild)):Ht=r),me(e,t,t.pendingProps.children,n),cu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&vt&&((r=i=Ht)&&(i=Pw(i,t.type,t.pendingProps,wn),i!==null?(t.stateNode=i,Ne=t,Ht=_n(i.firstChild),wn=!1,r=!0):r=!1),r||Nr(t)),yf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Jf(r,s)?i=null:a!==null&&Jf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=am(e,t,tw,null,null,n),Co._currentValue=r),cu(e,t),me(e,t,i,n),t.child;case 6:return e===null&&vt&&((e=n=Ht)&&(n=Lw(n,t.pendingProps,wn),n!==null?(t.stateNode=n,Ne=t,Ht=null,e=!0):e=!1),e||Nr(t)),null;case 13:return cT(e,t,n);case 4:return Ru(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Fs(t,null,i,n):me(e,t,i,n),t.child;case 11:return ry(e,t,t.type,t.pendingProps,n);case 7:return me(e,t,t.pendingProps,n),t.child;case 8:return me(e,t,t.pendingProps.children,n),t.child;case 12:return me(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wi(t,t.type,i.value),me(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,xr(t),r=Re(r),i=i(r),t.flags|=1,me(e,t,i,n),t.child;case 14:return sy(e,t,t.type,t.pendingProps,n);case 15:return lT(e,t,t.type,t.pendingProps,n);case 19:return hT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=qu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Jn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return uT(e,t,n);case 24:return xr(t),i=Re(Jt),e===null?(r=nm(),r===null&&(r=xt,s=em(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},im(t),wi(t,Jt,r)):(e.lanes&n&&(Mf(e,t),ro(t,null,null,n),io()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wi(t,Jt,i)):(i=s.cache,wi(t,Jt,i),i!==r.cache&&Nf(t,[Jt],n,!0))),me(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function qn(e){e.flags|=4}function hy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!eE(t)){if(t=hn.current,t!==null&&((dt&4194048)===dt?Dn!==null:(dt&62914560)!==dt&&!(dt&536870912)||t!==Dn))throw eo=Of,y0;e.flags|=8192}}function Fl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Uv():536870912,e.lanes|=t,Gs|=t)}function ja(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function uw(e,t,n){var i=t.pendingProps;switch(tm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return zt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ti(Jt),Us(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?qn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bp())),zt(t),null;case 26:return n=t.memoizedState,e===null?(qn(t),n!==null?(zt(t),hy(t,n)):(zt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(qn(t),zt(t),hy(t,n)):(zt(t),t.flags&=-16777217):(e.memoizedProps!==i&&qn(t),zt(t),t.flags&=-16777217),null;case 27:Iu(t),n=Ui.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return zt(t),null}e=In.current,La(t)?jp(t):(e=WT(r,i,n),t.stateNode=e,qn(t))}return zt(t),null;case 5:if(Iu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&qn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return zt(t),null}if(e=In.current,La(t))jp(t);else{switch(r=Xu(Ui.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[we]=t,e[ze]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(_e(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qn(t)}}return zt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&qn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=Ui.current,La(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Ne,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[we]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||XT(e.nodeValue,n)),e||Nr(t)}else e=Xu(e).createTextNode(i),e[we]=t,t.stateNode=e}return zt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=La(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[we]=t}else Qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),r=!1}else r=Bp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?($n(t),t):($n(t),null)}if($n(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Fl(t,t.updateQueue),zt(t),null;case 4:return Us(),e===null&&wm(t.stateNode.containerInfo),zt(t),null;case 10:return ti(t.type),zt(t),null;case 19:if(he(te),r=t.memoizedState,r===null)return zt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)ja(r,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ju(e),s!==null){for(t.flags|=128,ja(r,!1),e=s.updateQueue,t.updateQueue=e,Fl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)d0(n,e),n=n.sibling;return jt(te,te.current&1|2),t.child}e=e.sibling}r.tail!==null&&Cn()>Fu&&(t.flags|=128,i=!0,ja(r,!1),t.lanes=4194304)}else{if(!i)if(e=ju(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Fl(t,e),ja(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!vt)return zt(t),null}else 2*Cn()-r.renderingStartTime>Fu&&n!==536870912&&(t.flags|=128,i=!0,ja(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Cn(),t.sibling=null,e=te.current,jt(te,i?e&1|2:e&1),t):(zt(t),null);case 22:case 23:return $n(t),rm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),n=t.updateQueue,n!==null&&Fl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&he(Ir),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ti(Jt),zt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function cw(e,t){switch(tm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(Jt),Us(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Iu(t),null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(te),null;case 4:return Us(),null;case 10:return ti(t.type),null;case 22:case 23:return $n(t),rm(),e!==null&&he(Ir),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ti(Jt),null;case 25:return null;default:return null}}function dT(e,t){switch(tm(t),t.tag){case 3:ti(Jt),Us();break;case 26:case 27:case 5:Iu(t);break;case 4:Us();break;case 13:$n(t);break;case 19:he(te);break;case 10:ti(t.type);break;case 22:case 23:$n(t),rm(),e!==null&&he(Ir);break;case 24:ti(Jt)}}function Wo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Nt(t,t.return,l)}}function Ji(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Nt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Nt(t,t.return,d)}}function mT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{T0(t,n)}catch(i){Nt(e,e.return,i)}}}function gT(e,t,n){n.props=Mr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Nt(e,t,i)}}function ao(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Nt(e,t,r)}}function Rn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Nt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function pT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Nt(e,e.return,r)}}function jh(e,t,n){try{var i=e.stateNode;xw(i,e.type,n,t),i[ze]=t}catch(r){Nt(e,e.return,r)}}function yT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lr(e.type)||e.tag===4}function zh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lc));else if(i!==4&&(i===27&&lr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Hf(e,t,n),e=e.sibling;e!==null;)Hf(e,t,n),e=e.sibling}function Hu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&lr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hu(e,t,n),e=e.sibling;e!==null;)Hu(e,t,n),e=e.sibling}function _T(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);_e(t,i,n),t[we]=e,t[ze]=n}catch(s){Nt(e,e.return,s)}}var Fn=!1,Qt=!1,Bh=!1,fy=typeof WeakSet=="function"?WeakSet:Set,le=null;function hw(e,t){if(e=e.containerInfo,Zf=Ju,e=s0(e),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var v;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:e,selectionRange:n},Ju=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){switch(t=le,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=Mr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Nt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)td(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}}function vT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n),i&4&&Wo(5,n);break;case 1:if(vi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Nt(n,n.return,a)}else{var r=Mr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Nt(n,n.return,a)}}i&64&&mT(n),i&512&&ao(n,n.return);break;case 3:if(vi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{T0(e,t)}catch(a){Nt(n,n.return,a)}}break;case 27:t===null&&i&4&&_T(n);case 26:case 5:vi(e,n),t===null&&i&4&&pT(n),i&512&&ao(n,n.return);break;case 12:vi(e,n);break;case 13:vi(e,n),i&4&&AT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Tw.bind(null,n),Uw(e,n))));break;case 22:if(i=n.memoizedState!==null||Fn,!i){t=t!==null&&t.memoizedState!==null||Qt,r=Fn;var s=Qt;Fn=i,(Qt=t)&&!s?Ai(e,n,(n.subtreeFlags&8772)!==0):vi(e,n),Fn=r,Qt=s}break;case 30:break;default:vi(e,n)}}function TT(e){var t=e.alternate;t!==null&&(e.alternate=null,TT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lt=null,Le=!1;function Hn(e,t,n){for(n=n.child;n!==null;)ET(e,t,n),n=n.sibling}function ET(e,t,n){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Bo,n)}catch{}switch(n.tag){case 26:Qt||Rn(n,t),Hn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qt||Rn(n,t);var i=Lt,r=Le;lr(n.type)&&(Lt=n.stateNode,Le=!1),Hn(e,t,n),co(n.stateNode),Lt=i,Le=r;break;case 5:Qt||Rn(n,t);case 6:if(i=Lt,r=Le,Lt=null,Hn(e,t,n),Lt=i,Le=r,Lt!==null)if(Le)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(n.stateNode)}catch(s){Nt(n,t,s)}else try{Lt.removeChild(n.stateNode)}catch(s){Nt(n,t,s)}break;case 18:Lt!==null&&(Le?(e=Lt,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),xo(e)):Sy(Lt,n.stateNode));break;case 4:i=Lt,r=Le,Lt=n.stateNode.containerInfo,Le=!0,Hn(e,t,n),Lt=i,Le=r;break;case 0:case 11:case 14:case 15:Qt||Ji(2,n,t),Qt||Ji(4,n,t),Hn(e,t,n);break;case 1:Qt||(Rn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&gT(n,t,i)),Hn(e,t,n);break;case 21:Hn(e,t,n);break;case 22:Qt=(i=Qt)||n.memoizedState!==null,Hn(e,t,n),Qt=i;break;default:Hn(e,t,n)}}function AT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xo(e)}catch(n){Nt(t,t.return,n)}}function fw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fy),t;default:throw Error(P(435,e.tag))}}function qh(e,t){var n=fw(e);t.forEach(function(i){var r=Ew.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ge(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(lr(l.type)){Lt=l.stateNode,Le=!1;break t}break;case 5:Lt=l.stateNode,Le=!1;break t;case 3:case 4:Lt=l.stateNode.containerInfo,Le=!0;break t}l=l.return}if(Lt===null)throw Error(P(160));ET(s,a,r),Lt=null,Le=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)bT(t,e),t=t.sibling}var gn=null;function bT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ge(t,e),Qe(e),i&4&&(Ji(3,e,e.return),Wo(3,e),Ji(5,e,e.return));break;case 1:Ge(t,e),Qe(e),i&512&&(Qt||n===null||Rn(n,n.return)),i&64&&Fn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=gn;if(Ge(t,e),Qe(e),i&512&&(Qt||n===null||Rn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Fo]||s[we]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),_e(s,i,n),s[we]=e,ue(s),i=s;break t;case"link":var a=Dy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),_e(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Dy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),_e(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[we]=e,ue(s),i=s}e.stateNode=i}else Ny(r,e.type,e.stateNode);else e.stateNode=Cy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ny(r,e.type,e.stateNode):Cy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&jh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ge(t,e),Qe(e),i&512&&(Qt||n===null||Rn(n,n.return)),n!==null&&i&4&&jh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ge(t,e),Qe(e),i&512&&(Qt||n===null||Rn(n,n.return)),e.flags&32){r=e.stateNode;try{zs(r,"")}catch(v){Nt(e,e.return,v)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,jh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Bh=!0);break;case 6:if(Ge(t,e),Qe(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(v){Nt(e,e.return,v)}}break;case 3:if(du=null,r=gn,gn=$u(t.containerInfo),Ge(t,e),gn=r,Qe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(v){Nt(e,e.return,v)}Bh&&(Bh=!1,ST(e));break;case 4:i=gn,gn=$u(e.stateNode.containerInfo),Ge(t,e),Qe(e),gn=i;break;case 12:Ge(t,e),Qe(e);break;case 13:Ge(t,e),Qe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Am=Cn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,qh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Fn,d=Qt;if(Fn=h||r,Qt=d||u,Ge(t,e),Qt=d,Fn=h,Qe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Fn||Qt||Tr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){Nt(u,u.return,v)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(v){Nt(u,u.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,qh(e,n))));break;case 19:Ge(t,e),Qe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,qh(e,i)));break;case 30:break;case 21:break;default:Ge(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(yT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=zh(e);Hu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(zs(a,""),n.flags&=-33);var l=zh(e);Hu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=zh(e);Hf(e,h,u);break;default:throw Error(P(161))}}catch(d){Nt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ST(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ST(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vT(e,t.alternate,t),t=t.sibling}function Tr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ji(4,t,t.return),Tr(t);break;case 1:Rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gT(t,t.return,n),Tr(t);break;case 27:co(t.stateNode);case 26:case 5:Rn(t,t.return),Tr(t);break;case 22:t.memoizedState===null&&Tr(t);break;case 30:Tr(t);break;default:Tr(t)}e=e.sibling}}function Ai(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(r,s,n),Wo(4,s);break;case 1:if(Ai(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Nt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)v0(u[r],l)}catch(h){Nt(i,i.return,h)}}n&&a&64&&mT(s),ao(s,s.return);break;case 27:_T(s);case 26:case 5:Ai(r,s,n),n&&i===null&&a&4&&pT(s),ao(s,s.return);break;case 12:Ai(r,s,n);break;case 13:Ai(r,s,n),n&&a&4&&AT(r,s);break;case 22:s.memoizedState===null&&Ai(r,s,n),ao(s,s.return);break;case 30:break;default:Ai(r,s,n)}t=t.sibling}}function _m(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ko(n))}function vm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e))}function bn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wT(e,t,n,i),t=t.sibling}function wT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:bn(e,t,n,i),r&2048&&Wo(9,t);break;case 1:bn(e,t,n,i);break;case 3:bn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e)));break;case 12:if(r&2048){bn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Nt(t,t.return,u)}}else bn(e,t,n,i);break;case 13:bn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?bn(e,t,n,i):oo(e,t):s._visibility&2?bn(e,t,n,i):(s._visibility|=2,os(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&_m(a,t);break;case 24:bn(e,t,n,i),r&2048&&vm(t.alternate,t);break;default:bn(e,t,n,i)}}function os(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:os(s,a,l,u,r),Wo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?os(s,a,l,u,r):oo(s,a):(d._visibility|=2,os(s,a,l,u,r)),r&&h&2048&&_m(a.alternate,a);break;case 24:os(s,a,l,u,r),r&&h&2048&&vm(a.alternate,a);break;default:os(s,a,l,u,r)}t=t.sibling}}function oo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:oo(n,i),r&2048&&_m(i.alternate,i);break;case 24:oo(n,i),r&2048&&vm(i.alternate,i);break;default:oo(n,i)}t=t.sibling}}var Ga=8192;function is(e){if(e.subtreeFlags&Ga)for(e=e.child;e!==null;)RT(e),e=e.sibling}function RT(e){switch(e.tag){case 26:is(e),e.flags&Ga&&e.memoizedState!==null&&Zw(gn,e.memoizedState,e.memoizedProps);break;case 5:is(e);break;case 3:case 4:var t=gn;gn=$u(e.stateNode.containerInfo),is(e),gn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ga,Ga=16777216,is(e),Ga=t):is(e));break;default:is(e)}}function IT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function za(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];le=i,DT(i,e)}IT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)CT(e),e=e.sibling}function CT(e){switch(e.tag){case 0:case 11:case 15:za(e),e.flags&2048&&Ji(9,e,e.return);break;case 3:za(e);break;case 12:za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hu(e)):za(e);break;default:za(e)}}function hu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];le=i,DT(i,e)}IT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ji(8,t,t.return),hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hu(t));break;default:hu(t)}e=e.sibling}}function DT(e,t){for(;le!==null;){var n=le;switch(n.tag){case 0:case 11:case 15:Ji(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ko(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,le=i;else t:for(n=e;le!==null;){i=le;var r=i.sibling,s=i.return;if(TT(i),i===n){le=null;break t}if(r!==null){r.return=s,le=r;break t}le=s}}}var dw={getCacheForType:function(e){var t=Re(Jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},mw=typeof WeakMap=="function"?WeakMap:Map,St=0,xt=null,lt=null,dt=0,bt=0,Ye=null,ki=!1,la=!1,Tm=!1,ai=0,Ft=0,tr=0,Cr=0,Em=0,cn=0,Gs=0,lo=null,Ue=null,Ff=!1,Am=0,Fu=1/0,Gu=null,Bi=null,pe=0,qi=null,Qs=null,Ms=0,Gf=0,Qf=null,NT=null,uo=0,Yf=null;function Ze(){if(St&2&&dt!==0)return dt&-dt;if($.T!==null){var e=Bs;return e!==0?e:Sm()}return Bv()}function xT(){cn===0&&(cn=!(dt&536870912)||vt?Lv():536870912);var e=hn.current;return e!==null&&(e.flags|=32),cn}function We(e,t,n){(e===xt&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(Ys(e,0),Pi(e,dt,cn,!1)),Ho(e,n),(!(St&2)||e!==xt)&&(e===xt&&(!(St&2)&&(Cr|=n),Ft===4&&Pi(e,dt,cn,!1)),Ln(e))}function OT(e,t,n){if(St&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||qo(e,t),r=i?yw(e,t):Hh(e,t,!0),s=i;do{if(r===0){la&&!i&&Pi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!gw(n)){r=Hh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=lo;var u=l.current.memoizedState.isDehydrated;if(u&&(Ys(l,a).flags|=256),a=Hh(l,a,!1),a!==2){if(Tm&&!u){l.errorRecoveryDisabledLanes|=s,Cr|=s,r=4;break t}s=Ue,Ue=r,s!==null&&(Ue===null?Ue=s:Ue.push.apply(Ue,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ys(e,0),Pi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:Pi(i,t,cn,!ki);break t;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Am+300-Cn(),10<r)){if(Pi(i,t,cn,!ki),Sc(i,0,!0)!==0)break t;i.timeoutHandle=ZT(dy.bind(null,i,n,Ue,Gu,Ff,t,cn,Cr,Gs,ki,s,2,-0,0),r);break t}dy(i,n,Ue,Gu,Ff,t,cn,Cr,Gs,ki,s,0,-0,0)}}break}while(!0);Ln(e)}function dy(e,t,n,i,r,s,a,l,u,h,d,g,m,v){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:$w},RT(t),g=Ww(),g!==null)){e.cancelPendingCommit=g(gy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,v)),Pi(e,s,a,!h);return}gy(e,t,s,n,i,r,a,l,u)}function gw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Je(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pi(e,t,n,i){t&=~Em,t&=~Cr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-$e(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&jv(e,n,t)}function Vc(){return St&6?!0:(Jo(0),!1)}function bm(){if(lt!==null){if(bt===0)var e=lt.return;else e=lt,Xn=qr=null,um(e),Os=null,So=0,e=lt;for(;e!==null;)dT(e.alternate,e),e=e.return;lt=null}}function Ys(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bm(),xt=e,lt=n=Jn(e.current,null),dt=t,bt=0,Ye=null,ki=!1,la=qo(e,t),Tm=!1,Gs=cn=Em=Cr=tr=Ft=0,Ue=lo=null,Ff=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-$e(i),s=1<<r;t|=e[r],i&=~s}return ai=t,Cc(),n}function MT(e,t){at=null,$.H=Uu,t===Xo||t===Nc?(t=Gp(),bt=3):t===y0?(t=Gp(),bt=4):bt=t===oT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ye=t,lt===null&&(Ft=1,Bu(e,on(t,e.current)))}function VT(){var e=$.H;return $.H=Uu,e===null?Uu:e}function kT(){var e=$.A;return $.A=dw,e}function Kf(){Ft=4,ki||(dt&4194048)!==dt&&hn.current!==null||(la=!0),!(tr&134217727)&&!(Cr&134217727)||xt===null||Pi(xt,dt,cn,!1)}function Hh(e,t,n){var i=St;St|=2;var r=VT(),s=kT();(xt!==e||dt!==t)&&(Gu=null,Ys(e,t)),t=!1;var a=Ft;t:do try{if(bt!==0&&lt!==null){var l=lt,u=Ye;switch(bt){case 8:bm(),a=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(t=!0);var h=bt;if(bt=0,Ye=null,Ss(e,l,u,h),n&&la){a=0;break t}break;default:h=bt,bt=0,Ye=null,Ss(e,l,u,h)}}pw(),a=Ft;break}catch(d){MT(e,d)}while(!0);return t&&e.shellSuspendCounter++,Xn=qr=null,St=i,$.H=r,$.A=s,lt===null&&(xt=null,dt=0,Cc()),a}function pw(){for(;lt!==null;)PT(lt)}function yw(e,t){var n=St;St|=2;var i=VT(),r=kT();xt!==e||dt!==t?(Gu=null,Fu=Cn()+500,Ys(e,t)):la=qo(e,t);t:do try{if(bt!==0&&lt!==null){t=lt;var s=Ye;e:switch(bt){case 1:bt=0,Ye=null,Ss(e,t,s,1);break;case 2:case 9:if(Fp(s)){bt=0,Ye=null,my(t);break}t=function(){bt!==2&&bt!==9||xt!==e||(bt=7),Ln(e)},s.then(t,t);break t;case 3:bt=7;break t;case 4:bt=5;break t;case 7:Fp(s)?(bt=0,Ye=null,my(t)):(bt=0,Ye=null,Ss(e,t,s,7));break;case 5:var a=null;switch(lt.tag){case 26:a=lt.memoizedState;case 5:case 27:var l=lt;if(!a||eE(a)){bt=0,Ye=null;var u=l.sibling;if(u!==null)lt=u;else{var h=l.return;h!==null?(lt=h,kc(h)):lt=null}break e}}bt=0,Ye=null,Ss(e,t,s,5);break;case 6:bt=0,Ye=null,Ss(e,t,s,6);break;case 8:bm(),Ft=6;break t;default:throw Error(P(462))}}_w();break}catch(d){MT(e,d)}while(!0);return Xn=qr=null,$.H=i,$.A=r,St=n,lt!==null?0:(xt=null,dt=0,Cc(),Ft)}function _w(){for(;lt!==null&&!zb();)PT(lt)}function PT(e){var t=fT(e.alternate,e,ai);e.memoizedProps=e.pendingProps,t===null?kc(e):lt=t}function my(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=oy(n,t,t.pendingProps,t.type,void 0,dt);break;case 11:t=oy(n,t,t.pendingProps,t.type.render,t.ref,dt);break;case 5:um(t);default:dT(n,t),t=lt=d0(t,ai),t=fT(n,t,ai)}e.memoizedProps=e.pendingProps,t===null?kc(e):lt=t}function Ss(e,t,n,i){Xn=qr=null,um(t),Os=null,So=0;var r=t.return;try{if(ow(e,r,t,n,dt)){Ft=1,Bu(e,on(n,e.current)),lt=null;return}}catch(s){if(r!==null)throw lt=r,s;Ft=1,Bu(e,on(n,e.current)),lt=null;return}t.flags&32768?(vt||i===1?e=!0:la||dt&536870912?e=!1:(ki=e=!0,(i===2||i===9||i===3||i===6)&&(i=hn.current,i!==null&&i.tag===13&&(i.flags|=16384))),LT(t,e)):kc(t)}function kc(e){var t=e;do{if(t.flags&32768){LT(t,ki);return}e=t.return;var n=uw(t.alternate,t,ai);if(n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);Ft===0&&(Ft=5)}function LT(e,t){do{var n=cw(e.alternate,e);if(n!==null){n.flags&=32767,lt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=n}while(e!==null);Ft=6,lt=null}function gy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Pc();while(pe!==0);if(St&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=$d,$b(e,n,s,a,l,u),e===xt&&(lt=xt=null,dt=0),Qs=t,qi=e,Ms=n,Gf=s,Qf=r,NT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Aw(Cu,function(){return qT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=$.T,$.T=null,r=Tt.p,Tt.p=2,a=St,St|=4;try{hw(e,t,n)}finally{St=a,Tt.p=r,$.T=i}}pe=1,UT(),jT(),zT()}}function UT(){if(pe===1){pe=0;var e=qi,t=Qs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=$.T,$.T=null;var i=Tt.p;Tt.p=2;var r=St;St|=4;try{bT(t,e);var s=Wf,a=s0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&r0(l.ownerDocument.documentElement,l)){if(u!==null&&Xd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var v=m.getSelection(),x=l.textContent.length,M=Math.min(u.start,x),V=u.end===void 0?M:Math.min(u.end,x);!v.extend&&M>V&&(a=V,V=M,M=a);var w=Pp(l,M),T=Pp(l,V);if(w&&T&&(v.rangeCount!==1||v.anchorNode!==w.node||v.anchorOffset!==w.offset||v.focusNode!==T.node||v.focusOffset!==T.offset)){var S=g.createRange();S.setStart(w.node,w.offset),v.removeAllRanges(),M>V?(v.addRange(S),v.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),v.addRange(S))}}}}for(g=[],v=l;v=v.parentNode;)v.nodeType===1&&g.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Ju=!!Zf,Wf=Zf=null}finally{St=r,Tt.p=i,$.T=n}}e.current=t,pe=2}}function jT(){if(pe===2){pe=0;var e=qi,t=Qs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=$.T,$.T=null;var i=Tt.p;Tt.p=2;var r=St;St|=4;try{vT(e,t.alternate,t)}finally{St=r,Tt.p=i,$.T=n}}pe=3}}function zT(){if(pe===4||pe===3){pe=0,Bb();var e=qi,t=Qs,n=Ms,i=NT;t.subtreeFlags&10256||t.flags&10256?pe=5:(pe=0,Qs=qi=null,BT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Bi=null),qd(n),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Bo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=$.T,r=Tt.p,Tt.p=2,$.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{$.T=t,Tt.p=r}}Ms&3&&Pc(),Ln(e),r=e.pendingLanes,n&4194090&&r&42?e===Yf?uo++:(uo=0,Yf=e):uo=0,Jo(0)}}function BT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ko(t)))}function Pc(e){return UT(),jT(),zT(),qT()}function qT(){if(pe!==5)return!1;var e=qi,t=Gf;Gf=0;var n=qd(Ms),i=$.T,r=Tt.p;try{Tt.p=32>n?32:n,$.T=null,n=Qf,Qf=null;var s=qi,a=Ms;if(pe=0,Qs=qi=null,Ms=0,St&6)throw Error(P(331));var l=St;if(St|=4,CT(s.current),wT(s,s.current,a,n),St=l,Jo(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Bo,s)}catch{}return!0}finally{Tt.p=r,$.T=i,BT(e,t)}}function py(e,t,n){t=on(n,t),t=zf(e.stateNode,t,2),e=zi(e,t,2),e!==null&&(Ho(e,2),Ln(e))}function Nt(e,t,n){if(e.tag===3)py(e,e,n);else for(;t!==null;){if(t.tag===3){py(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bi===null||!Bi.has(i))){e=on(n,e),n=sT(2),i=zi(t,n,2),i!==null&&(aT(n,i,t,e),Ho(i,2),Ln(i));break}}t=t.return}}function Fh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new mw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Tm=!0,r.add(n),e=vw.bind(null,e,t,n),t.then(e,e))}function vw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(dt&n)===n&&(Ft===4||Ft===3&&(dt&62914560)===dt&&300>Cn()-Am?!(St&2)&&Ys(e,0):Em|=n,Gs===dt&&(Gs=0)),Ln(e)}function HT(e,t){t===0&&(t=Uv()),e=oa(e,t),e!==null&&(Ho(e,t),Ln(e))}function Tw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HT(e,n)}function Ew(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),HT(e,n)}function Aw(e,t){return zd(e,t)}var Qu=null,ls=null,Xf=!1,Yu=!1,Gh=!1,Dr=0;function Ln(e){e!==ls&&e.next===null&&(ls===null?Qu=ls=e:ls=ls.next=e),Yu=!0,Xf||(Xf=!0,Sw())}function Jo(e,t){if(!Gh&&Yu){Gh=!0;do for(var n=!1,i=Qu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-$e(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,yy(i,s))}else s=dt,s=Sc(i,i===xt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||qo(i,s)||(n=!0,yy(i,s));i=i.next}while(n);Gh=!1}}function bw(){FT()}function FT(){Yu=Xf=!1;var e=0;Dr!==0&&(Ow()&&(e=Dr),Dr=0);for(var t=Cn(),n=null,i=Qu;i!==null;){var r=i.next,s=GT(i,t);s===0?(i.next=null,n===null?Qu=r:n.next=r,r===null&&(ls=n)):(n=i,(e!==0||s&3)&&(Yu=!0)),i=r}Jo(e)}function GT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-$e(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Xb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=xt,n=dt,n=Sc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&yh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||qo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&yh(i),qd(n)){case 2:case 8:n=kv;break;case 32:n=Cu;break;case 268435456:n=Pv;break;default:n=Cu}return i=QT.bind(null,e),n=zd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&yh(i),e.callbackPriority=2,e.callbackNode=null,2}function QT(e,t){if(pe!==0&&pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var i=dt;return i=Sc(e,e===xt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(OT(e,i,t),GT(e,Cn()),e.callbackNode!=null&&e.callbackNode===n?QT.bind(null,e):null)}function yy(e,t){if(Pc())return null;OT(e,t,!0)}function Sw(){Vw(function(){St&6?zd(Vv,bw):FT()})}function Sm(){return Dr===0&&(Dr=Lv()),Dr}function _y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:iu(""+e)}function vy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ww(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=_y((r[ze]||null).action),a=i.submitter;a&&(t=(t=a[ze]||null)?_y(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new wc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Dr!==0){var u=a?vy(r,a):new FormData(r);Uf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?vy(r,a):new FormData(r),Uf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Qh=0;Qh<Rf.length;Qh++){var Yh=Rf[Qh],Rw=Yh.toLowerCase(),Iw=Yh[0].toUpperCase()+Yh.slice(1);Tn(Rw,"on"+Iw)}Tn(o0,"onAnimationEnd");Tn(l0,"onAnimationIteration");Tn(u0,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(FS,"onTransitionRun");Tn(GS,"onTransitionStart");Tn(QS,"onTransitionCancel");Tn(c0,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function YT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){zu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){zu(d)}r.currentTarget=null,s=u}}}}function ot(e,t){var n=t[vf];n===void 0&&(n=t[vf]=new Set);var i=e+"__bubble";n.has(i)||(KT(t,e,2,!1),n.add(i))}function Kh(e,t,n){var i=0;t&&(i|=4),KT(n,e,i,t)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function wm(e){if(!e[Gl]){e[Gl]=!0,qv.forEach(function(n){n!=="selectionchange"&&(Cw.has(n)||Kh(n,!1,e),Kh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gl]||(t[Gl]=!0,Kh("selectionchange",!1,t))}}function KT(e,t,n,i){switch(aE(t)){case 2:var r=e2;break;case 8:r=n2;break;default:r=Dm}n=r.bind(null,t,n,e),r=void 0,!bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Xh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}$v(function(){var h=s,d=Gd(n),g=[];t:{var m=h0.get(e);if(m!==void 0){var v=wc,x=e;switch(e){case"keypress":if(su(n)===0)break t;case"keydown":case"keyup":v=AS;break;case"focusin":x="focus",v=wh;break;case"focusout":x="blur",v=wh;break;case"beforeblur":case"afterblur":v=wh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wS;break;case o0:case l0:case u0:v=dS;break;case c0:v=IS;break;case"scroll":case"scrollend":v=lS;break;case"wheel":v=DS;break;case"copy":case"cut":case"paste":v=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cp;break;case"toggle":case"beforetoggle":v=xS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),w=M?m!==null?m+"Capture":null:m;M=[];for(var T=h,S;T!==null;){var N=T;if(S=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||S===null||w===null||(N=vo(T,w),N!=null&&M.push(Ro(T,N,S))),V)break;T=T.return}0<M.length&&(m=new v(m,x,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Af&&(x=n.relatedTarget||n.fromElement)&&(gs(x)||x[sa]))break t;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=h,x=x?gs(x):null,x!==null&&(V=zo(x),M=x.tag,x!==V||M!==5&&M!==27&&M!==6)&&(x=null)):(v=null,x=h),v!==x)){if(M=Rp,N="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=Cp,N="onPointerLeave",w="onPointerEnter",T="pointer"),V=v==null?m:Fa(v),S=x==null?m:Fa(x),m=new M(N,T+"leave",v,n,d),m.target=V,m.relatedTarget=S,N=null,gs(d)===h&&(M=new M(w,T+"enter",x,n,d),M.target=S,M.relatedTarget=V,N=M),V=N,v&&x)e:{for(M=v,w=x,T=0,S=M;S;S=rs(S))T++;for(S=0,N=w;N;N=rs(N))S++;for(;0<T-S;)M=rs(M),T--;for(;0<S-T;)w=rs(w),S--;for(;T--;){if(M===w||w!==null&&M===w.alternate)break e;M=rs(M),w=rs(w)}M=null}else M=null;v!==null&&Ty(g,m,v,M,!1),x!==null&&V!==null&&Ty(g,V,x,M,!0)}}t:{if(m=h?Fa(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var U=Op;else if(xp(m))if(n0)U=BS;else{U=jS;var z=US}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Fd(h.elementType)&&(U=Op):U=zS;if(U&&(U=U(e,h))){e0(g,U,n,d);break t}z&&z(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Ef(m,"number",m.value)}switch(z=h?Fa(h):window,e){case"focusin":(xp(z)||z.contentEditable==="true")&&(_s=z,Sf=h,Ja=null);break;case"focusout":Ja=Sf=_s=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Lp(g,n,d);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Lp(g,n,d)}var E;if(Kd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else ys?Jv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Wv&&n.locale!=="ko"&&(ys||y!=="onCompositionStart"?y==="onCompositionEnd"&&ys&&(E=Zv()):(Vi=d,Qd="value"in Vi?Vi.value:Vi.textContent,ys=!0)),z=Ku(h,y),0<z.length&&(y=new Ip(y,e,null,n,d),g.push({event:y,listeners:z}),E?y.data=E:(E=t0(n),E!==null&&(y.data=E)))),(E=MS?VS(e,n):kS(e,n))&&(y=Ku(h,"onBeforeInput"),0<y.length&&(z=new Ip("onBeforeInput","beforeinput",null,n,d),g.push({event:z,listeners:y}),z.data=E)),ww(g,e,h,n,d)}YT(g,t)})}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=vo(e,n),r!=null&&i.unshift(Ro(e,r,s)),r=vo(e,t),r!=null&&i.push(Ro(e,r,s))),e.tag===3)return i;e=e.return}return[]}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ty(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=vo(n,s),h!=null&&a.unshift(Ro(n,h,u))):r||(h=vo(n,s),h!=null&&a.push(Ro(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Dw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(Dw,`
`).replace(Nw,"")}function XT(e,t){return t=Ey(t),Ey(e)===t}function Lc(){}function wt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||zs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&zs(e,""+i);break;case"className":Ul(e,"class",i);break;case"tabIndex":Ul(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(e,n,i);break;case"style":Xv(e,i,s);break;case"data":if(t!=="object"){Ul(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=iu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&wt(e,t,"name",r.name,r,null),wt(e,t,"formEncType",r.formEncType,r,null),wt(e,t,"formMethod",r.formMethod,r,null),wt(e,t,"formTarget",r.formTarget,r,null)):(wt(e,t,"encType",r.encType,r,null),wt(e,t,"method",r.method,r,null),wt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=iu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Lc);break;case"onScroll":i!=null&&ot("scroll",e);break;case"onScrollEnd":i!=null&&ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=iu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ot("beforetoggle",e),ot("toggle",e),nu(e,"popover",i);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":nu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aS.get(n)||n,nu(e,n,i))}}function $f(e,t,n,i,r,s){switch(n){case"style":Xv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?zs(e,i):(typeof i=="number"||typeof i=="bigint")&&zs(e,""+i);break;case"onScroll":i!=null&&ot("scroll",e);break;case"onScrollEnd":i!=null&&ot("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[ze]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):nu(e,n,i)}}}function _e(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",e),ot("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:wt(e,t,s,a,n,null)}}r&&wt(e,t,"srcSet",n.srcSet,n,null),i&&wt(e,t,"src",n.src,n,null);return;case"input":ot("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:wt(e,t,i,d,n,null)}}Qv(e,s,l,u,h,a,r,!1),Du(e);return;case"select":ot("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:wt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Is(e,!!i,t,!1):n!=null&&Is(e,!!i,n,!0);return;case"textarea":ot("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:wt(e,t,a,l,n,null)}Kv(e,i,r,s),Du(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:wt(e,t,u,i,n,null)}return;case"dialog":ot("beforetoggle",e),ot("toggle",e),ot("cancel",e),ot("close",e);break;case"iframe":case"object":ot("load",e);break;case"video":case"audio":for(i=0;i<wo.length;i++)ot(wo[i],e);break;case"image":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"embed":case"source":case"link":ot("error",e),ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:wt(e,t,h,i,n,null)}return;default:if(Fd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&$f(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&wt(e,t,l,i,n,null))}function xw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(v in n){var g=n[v];if(n.hasOwnProperty(v)&&g!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(v)||wt(e,t,v,null,i,g)}}for(var m in i){var v=i[m];if(g=n[m],i.hasOwnProperty(m)&&(v!=null||g!=null))switch(m){case"type":s=v;break;case"name":r=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(P(137,t));break;default:v!==g&&wt(e,t,m,v,i,g)}}Tf(e,a,l,u,h,d,s,r);return;case"select":v=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(s)||wt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&wt(e,t,r,s,i,u)}t=l,n=a,i=v,m!=null?Is(e,!!n,m,!1):!!i!=!!n&&(t!=null?Is(e,!!n,t,!0):Is(e,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:wt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":v=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&wt(e,t,a,r,i,s)}Yv(e,m,v);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:wt(e,t,x,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(e,t,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&wt(e,t,M,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:wt(e,t,h,m,i,v)}return;default:if(Fd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&$f(e,t,V,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||$f(e,t,d,m,i,v);return}}for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!i.hasOwnProperty(w)&&wt(e,t,w,null,i,m);for(g in i)m=i[g],v=n[g],!i.hasOwnProperty(g)||m===v||m==null&&v==null||wt(e,t,g,m,i,v)}var Zf=null,Wf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $h=null;function Ow(){var e=window.event;return e&&e.type==="popstate"?e===$h?!1:($h=e,!0):($h=null,!1)}var ZT=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(kw)}:ZT;function kw(e){setTimeout(function(){throw e})}function lr(e){return e==="head"}function Sy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&co(a.documentElement),n&2&&co(a.body),n&4)for(n=a.head,co(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Fo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),xo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);xo(t)}function td(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":td(n),Hd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Pw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Fo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function Lw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=_n(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Uw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var nd=null;function wy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function WT(e,t,n){switch(t=Xu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function co(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hd(e)}var fn=new Map,Ry=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var di=Tt.d;Tt.d={f:jw,r:zw,D:Bw,C:qw,L:Hw,m:Fw,X:Qw,S:Gw,M:Yw};function jw(){var e=di.f(),t=Vc();return e||t}function zw(e){var t=aa(e);t!==null&&t.tag===5&&t.type==="form"?G0(t):di.r(e)}var ua=typeof document>"u"?null:document;function JT(e,t,n){var i=ua;if(i&&typeof t=="string"&&t){var r=an(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ry.has(r)||(Ry.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),_e(t,"link",e),ue(t),i.head.appendChild(t)))}}function Bw(e){di.D(e),JT("dns-prefetch",e,null)}function qw(e,t){di.C(e,t),JT("preconnect",e,t)}function Hw(e,t,n){di.L(e,t,n);var i=ua;if(i&&e&&t){var r='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+an(n.imageSizes)+'"]')):r+='[href="'+an(e)+'"]';var s=r;switch(t){case"style":s=Ks(e);break;case"script":s=ca(e)}fn.has(s)||(e=Vt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(tl(s))||t==="script"&&i.querySelector(el(s))||(t=i.createElement("link"),_e(t,"link",e),ue(t),i.head.appendChild(t)))}}function Fw(e,t){di.m(e,t);var n=ua;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+an(i)+'"][href="'+an(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ca(e)}if(!fn.has(s)&&(e=Vt({rel:"modulepreload",href:e},t),fn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(el(s)))return}i=n.createElement("link"),_e(i,"link",e),ue(i),n.head.appendChild(i)}}}function Gw(e,t,n){di.S(e,t,n);var i=ua;if(i&&e){var r=Rs(i).hoistableStyles,s=Ks(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(tl(s)))l.loading=5;else{e=Vt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fn.get(s))&&Rm(e,n);var u=a=i.createElement("link");ue(u),_e(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,fu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function Qw(e,t){di.X(e,t);var n=ua;if(n&&e){var i=Rs(n).hoistableScripts,r=ca(e),s=i.get(r);s||(s=n.querySelector(el(r)),s||(e=Vt({src:e,async:!0},t),(t=fn.get(r))&&Im(e,t),s=n.createElement("script"),ue(s),_e(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Yw(e,t){di.M(e,t);var n=ua;if(n&&e){var i=Rs(n).hoistableScripts,r=ca(e),s=i.get(r);s||(s=n.querySelector(el(r)),s||(e=Vt({src:e,async:!0,type:"module"},t),(t=fn.get(r))&&Im(e,t),s=n.createElement("script"),ue(s),_e(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Iy(e,t,n,i){var r=(r=Ui.current)?$u(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ks(n.href),n=Rs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ks(n.href);var s=Rs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(tl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(e,n),s||Kw(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ca(n),n=Rs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function Ks(e){return'href="'+an(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function tE(e){return Vt({},e,{"data-precedence":e.precedence,precedence:null})}function Kw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),_e(t,"link",n),ue(t),e.head.appendChild(t))}function ca(e){return'[src="'+an(e)+'"]'}function el(e){return"script[async]"+e}function Cy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(i)return t.instance=i,ue(i),i;var r=Vt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ue(i),_e(i,"style",r),fu(i,n.precedence,e),t.instance=i;case"stylesheet":r=Ks(n.href);var s=e.querySelector(tl(r));if(s)return t.state.loading|=4,t.instance=s,ue(s),s;i=tE(n),(r=fn.get(r))&&Rm(i,r),s=(e.ownerDocument||e).createElement("link"),ue(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_e(s,"link",i),t.state.loading|=4,fu(s,n.precedence,e),t.instance=s;case"script":return s=ca(n.src),(r=e.querySelector(el(s)))?(t.instance=r,ue(r),r):(i=n,(r=fn.get(s))&&(i=Vt({},n),Im(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ue(r),_e(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,fu(i,n.precedence,e));return t.instance}function fu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Im(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var du=null;function Dy(e,t,n){if(du===null){var i=new Map,r=du=new Map;r.set(n,i)}else r=du,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Fo]||s[we]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ny(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Io=null;function $w(){}function Zw(e,t,n){if(Io===null)throw Error(P(475));var i=Io;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Ks(n.href),s=e.querySelector(tl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Zu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,ue(s);return}s=e.ownerDocument||e,n=tE(n),(r=fn.get(r))&&Rm(n,r),s=s.createElement("link"),ue(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_e(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Zu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ww(){if(Io===null)throw Error(P(475));var e=Io;return e.stylesheets&&e.count===0&&id(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function id(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(Jw,e),Wu=null,Zu.call(e))}function Jw(e,t){if(!(t.state.loading&4)){var n=Wu.get(e);if(n)var i=n.get(null);else{n=new Map,Wu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Zu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Co={$$typeof:Qn,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function t2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_h(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.hiddenUpdates=_h(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function nE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new t2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=Ke(3,null,null,t),e.current=s,s.stateNode=e,t=em(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},im(s),e}function iE(e){return e?(e=Es,e):Es}function rE(e,t,n,i,r,s){r=iE(r),i.context===null?i.context=r:i.pendingContext=r,i=ji(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=zi(e,i,t),n!==null&&(We(n,e,t),no(n,e,t))}function xy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cm(e,t){xy(e,t),(e=e.alternate)&&xy(e,t)}function sE(e){if(e.tag===13){var t=oa(e,67108864);t!==null&&We(t,e,67108864),Cm(e,67108864)}}var Ju=!0;function e2(e,t,n,i){var r=$.T;$.T=null;var s=Tt.p;try{Tt.p=2,Dm(e,t,n,i)}finally{Tt.p=s,$.T=r}}function n2(e,t,n,i){var r=$.T;$.T=null;var s=Tt.p;try{Tt.p=8,Dm(e,t,n,i)}finally{Tt.p=s,$.T=r}}function Dm(e,t,n,i){if(Ju){var r=rd(i);if(r===null)Xh(e,t,i,tc,n),Oy(e,i);else if(r2(r,e,t,n,i))i.stopPropagation();else if(Oy(e,i),t&4&&-1<i2.indexOf(e)){for(;r!==null;){var s=aa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=_r(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-$e(a);l.entanglements[1]|=u,a&=~u}Ln(s),!(St&6)&&(Fu=Cn()+500,Jo(0))}}break;case 13:l=oa(s,2),l!==null&&We(l,s,2),Vc(),Cm(s,2)}if(s=rd(i),s===null&&Xh(e,t,i,tc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Xh(e,t,i,null,n)}}function rd(e){return e=Gd(e),Nm(e)}var tc=null;function Nm(e){if(tc=null,e=gs(e),e!==null){var t=zo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tc=e,null}function aE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qb()){case Vv:return 2;case kv:return 8;case Cu:case Hb:return 32;case Pv:return 268435456;default:return 32}default:return 32}}var sd=!1,Hi=null,Fi=null,Gi=null,Do=new Map,No=new Map,Ci=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function Ba(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=aa(t),t!==null&&sE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function r2(e,t,n,i,r){switch(t){case"focusin":return Hi=Ba(Hi,e,t,n,i,r),!0;case"dragenter":return Fi=Ba(Fi,e,t,n,i,r),!0;case"mouseover":return Gi=Ba(Gi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Do.set(s,Ba(Do.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,No.set(s,Ba(No.get(s)||null,e,t,n,i,r)),!0}return!1}function oE(e){var t=gs(e.target);if(t!==null){var n=zo(t);if(n!==null){if(t=n.tag,t===13){if(t=Nv(n),t!==null){e.blockedOn=t,Zb(e.priority,function(){if(n.tag===13){var i=Ze();i=Bd(i);var r=oa(n,i);r!==null&&We(r,n,i),Cm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Af=i,n.target.dispatchEvent(i),Af=null}else return t=aa(n),t!==null&&sE(t),e.blockedOn=n,!1;t.shift()}return!0}function My(e,t,n){mu(e)&&n.delete(t)}function s2(){sd=!1,Hi!==null&&mu(Hi)&&(Hi=null),Fi!==null&&mu(Fi)&&(Fi=null),Gi!==null&&mu(Gi)&&(Gi=null),Do.forEach(My),No.forEach(My)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,s2)))}var Yl=null;function Vy(e){Yl!==e&&(Yl=e,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,function(){Yl===e&&(Yl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Nm(i||n)===null)continue;break}var s=aa(n);s!==null&&(e.splice(t,3),t-=3,Uf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function xo(e){function t(u){return Ql(u,e)}Hi!==null&&Ql(Hi,e),Fi!==null&&Ql(Fi,e),Gi!==null&&Ql(Gi,e),Do.forEach(t),No.forEach(t);for(var n=0;n<Ci.length;n++){var i=Ci[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Ci.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[ze]||null;if(typeof s=="function")a||Vy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[ze]||null)l=a.formAction;else if(Nm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Vy(n)}}}function xm(e){this._internalRoot=e}Uc.prototype.render=xm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=Ze();rE(n,i,e,t,null,null)};Uc.prototype.unmount=xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rE(e.current,2,null,e,null,null),Vc(),t[sa]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ci.length&&t!==0&&t<Ci[n].priority;n++);Ci.splice(n,0,e),n===0&&oE(e)}};var ky=Cv.version;if(ky!=="19.1.0")throw Error(P(527,ky,"19.1.0"));Tt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=kb(t),e=e!==null?xv(e):null,e=e===null?null:e.stateNode,e};var a2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Bo=Kl.inject(a2),Xe=Kl}catch{}}Ac.createRoot=function(e,t){if(!Dv(e))throw Error(P(299));var n=!1,i="",r=nT,s=iT,a=rT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=nE(e,1,!1,null,null,n,i,r,s,a,l,null),e[sa]=t.current,wm(e),new xm(t)};Ac.hydrateRoot=function(e,t,n){if(!Dv(e))throw Error(P(299));var i=!1,r="",s=nT,a=iT,l=rT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=nE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=iE(null),n=t.current,i=Ze(),i=Bd(i),r=ji(i),r.callback=null,zi(n,r,i),n=i,t.current.lanes=n,Ho(t,n),Ln(t),e[sa]=t.current,wm(e),new Uc(t)};Ac.version="19.1.0";function lE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lE)}catch(e){console.error(e)}}lE(),Av.exports=Ac;var o2=Av.exports;const l2=hv(o2),u2=()=>{};var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},c2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),i.push(n[d],n[g],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new h2;const m=s<<2|l>>4;if(i.push(m),h!==64){const v=l<<4&240|h>>2;if(i.push(v),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f2=function(e){const t=uE(e);return cE.encodeByteArray(t,!0)},ec=function(e){return f2(e).replace(/\./g,"")},hE=function(e){try{return cE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>d2().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof Py>"u")return;const e=Py.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},p2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hE(e[1]);return t&&JSON.parse(t)},jc=()=>{try{return u2()||m2()||g2()||p2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fE=e=>{var t,n;return(n=(t=jc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},y2=e=>{const t=fE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},dE=()=>{var e;return(e=jc())===null||e===void 0?void 0:e.config},mE=e=>{var t;return(t=jc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(e){return e.endsWith(".cloudworkstations.dev")}async function gE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ec(JSON.stringify(n)),ec(JSON.stringify(a)),""].join(".")}const ho={};function T2(){const e={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?e.emulator.push(t):e.prod.push(t);return e}function E2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ly=!1;function pE(e,t){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||ho[e]===t||ho[e]||Ly)return;ho[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=T2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ly=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=E2(i),v=n("text"),x=document.getElementById(v)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),w=n("preprendIcon"),T=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),d(V,M);const N=h();u(T,w),S.append(T,x,V,N),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function b2(){var e;const t=(e=jc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function R2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I2(){const e=Ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D2(){try{return typeof indexedDB=="object"}catch{return!1}}function N2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class mi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=x2,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?O2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new mi(r,l,i)}}function O2(e,t){return e.replace(M2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const M2=/\{\$([^}]+)}/g;function V2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Uy(s)&&Uy(a)){if(!Vr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Uy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function k2(e,t){const n=new P2(e,t);return n.subscribe.bind(n)}class P2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");L2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Zh),r.error===void 0&&(r.error=Zh),r.complete===void 0&&(r.complete=Zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new _2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(z2(t))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Er){return this.instances.has(t)}getOptions(t=Er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Er){return this.component?this.component.multipleInstances?t:Er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(e){return e===Er?void 0:e}function z2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new U2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const q2={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},H2=ut.INFO,F2={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},G2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=F2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=H2,this._logHandler=G2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?q2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const Q2=(e,t)=>t.some(n=>e instanceof n);let jy,zy;function Y2(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,ad=new WeakMap,_E=new WeakMap,Wh=new WeakMap,Mm=new WeakMap;function X2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Qi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&yE.set(n,e)}).catch(()=>{}),Mm.set(t,e),t}function $2(e){if(ad.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ad.set(e,t)}let od={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ad.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_E.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Z2(e){od=e(od)}function W2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Jh(this),t,...n);return _E.set(i,t.sort?t.sort():[t]),Qi(i)}:K2().includes(e)?function(...t){return e.apply(Jh(this),t),Qi(yE.get(this))}:function(...t){return Qi(e.apply(Jh(this),t))}}function J2(e){return typeof e=="function"?W2(e):(e instanceof IDBTransaction&&$2(e),Q2(e,Y2())?new Proxy(e,od):e)}function Qi(e){if(e instanceof IDBRequest)return X2(e);if(Wh.has(e))return Wh.get(e);const t=J2(e);return t!==e&&(Wh.set(e,t),Mm.set(t,e)),t}const Jh=e=>Mm.get(e);function tR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Qi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Qi(a.result),u.oldVersion,u.newVersion,Qi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const eR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],tf=new Map;function By(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tf.get(t))return tf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=nR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||eR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return tf.set(t,s),s}Z2(e=>({...e,get:(t,n,i)=>By(t,n)||e.get(t,n,i),has:(t,n)=>!!By(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ld="@firebase/app",qy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Om("@firebase/app"),sR="@firebase/app-compat",aR="@firebase/analytics-compat",oR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/data-connect",mR="@firebase/database-compat",gR="@firebase/functions",pR="@firebase/functions-compat",yR="@firebase/installations",_R="@firebase/installations-compat",vR="@firebase/messaging",TR="@firebase/messaging-compat",ER="@firebase/performance",AR="@firebase/performance-compat",bR="@firebase/remote-config",SR="@firebase/remote-config-compat",wR="@firebase/storage",RR="@firebase/storage-compat",IR="@firebase/firestore",CR="@firebase/ai",DR="@firebase/firestore-compat",NR="firebase",xR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",OR={[ld]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[aR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[gR]:"fire-fn",[pR]:"fire-fn-compat",[yR]:"fire-iid",[_R]:"fire-iid-compat",[vR]:"fire-fcm",[TR]:"fire-fcm-compat",[ER]:"fire-perf",[AR]:"fire-perf-compat",[bR]:"fire-rc",[SR]:"fire-rc-compat",[wR]:"fire-gcs",[RR]:"fire-gcs-compat",[IR]:"fire-fst",[DR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,MR=new Map,cd=new Map;function Hy(e,t){try{e.container.addComponent(t)}catch(n){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xs(e){const t=e.name;if(cd.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;cd.set(t,e);for(const n of nc.values())Hy(n,e);for(const n of MR.values())Hy(n,e);return!0}function Vm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new nl("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=xR;function vE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:ud,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Yi.create("bad-app-name",{appName:String(r)});if(n||(n=dE()),!n)throw Yi.create("no-options");const s=nc.get(r);if(s){if(Vr(n,s.options)&&Vr(i,s.config))return s;throw Yi.create("duplicate-app",{appName:r})}const a=new B2(r);for(const u of cd.values())a.addComponent(u);const l=new kR(n,i,a);return nc.set(r,l),l}function TE(e=ud){const t=nc.get(e);if(!t&&e===ud&&dE())return vE();if(!t)throw Yi.create("no-app",{appName:e});return t}function Ki(e,t,n){var i;let r=(i=OR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(l.join(" "));return}Xs(new kr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebase-heartbeat-database",LR=1,Oo="firebase-heartbeat-store";let ef=null;function EE(){return ef||(ef=tR(PR,LR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yi.create("idb-open",{originalErrorMessage:e.message})})),ef}async function UR(e){try{const n=(await EE()).transaction(Oo),i=await n.objectStore(Oo).get(AE(e));return await n.done,i}catch(t){if(t instanceof mi)oi.warn(t.message);else{const n=Yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(n.message)}}}async function Fy(e,t){try{const i=(await EE()).transaction(Oo,"readwrite");await i.objectStore(Oo).put(t,AE(e)),await i.done}catch(n){if(n instanceof mi)oi.warn(n.message);else{const i=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function AE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1024,zR=30;class BR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>zR){const a=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gy(),{heartbeatsToSend:i,unsentEntries:r}=qR(this._heartbeatsCache.heartbeats),s=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oi.warn(n),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function qR(e,t=jR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Qy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D2()?N2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Qy(e){return ec(JSON.stringify({version:2,heartbeats:e})).length}function FR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(e){Xs(new kr("platform-logger",t=>new iR(t),"PRIVATE")),Xs(new kr("heartbeat",t=>new BR(t),"PRIVATE")),Ki(ld,qy,e),Ki(ld,qy,"esm2017"),Ki("fire-js","")}GR("");var QR="firebase",YR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(QR,YR,"app");function km(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KR=bE,SE=new nl("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Om("@firebase/auth");function XR(e,...t){ic.logLevel<=ut.WARN&&ic.warn(`Auth (${fa}): ${e}`,...t)}function gu(e,...t){ic.logLevel<=ut.ERROR&&ic.error(`Auth (${fa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,...t){throw Pm(e,...t)}function Nn(e,...t){return Pm(e,...t)}function wE(e,t,n){const i=Object.assign(Object.assign({},KR()),{[t]:n});return new nl("auth","Firebase",i).create(t,{appName:e.name})}function ei(e){return wE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return SE.create(e,...t)}function tt(e,t,...n){if(!e)throw Pm(t,...n)}function Zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gu(t),new Error(t)}function ui(e,t){e||Zn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function $R(){return Yy()==="http:"||Yy()==="https:"}function Yy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($R()||w2()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ui(n>t,"Short delay should be less than long delay!"),this.isMobile=A2()||R2()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(e,t){ui(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eI=new rl(3e4,6e4);function sl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function da(e,t,n,i,r={}){return IE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=il(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return S2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&ha(e.emulatorConfig.host)&&(h.credentials="include"),RE.fetch()(await CE(e,e.config.apiHost,n,l),h)})}async function IE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},JR),t);try{const r=new nI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Xl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Xl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Xl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wE(e,d,h);li(e,d)}}catch(r){if(r instanceof mi)throw r;li(e,"network-request-failed",{message:String(r)})}}async function Um(e,t,n,i,r={}){const s=await da(e,t,n,i,r);return"mfaPendingCredential"in s&&li(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function CE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Lm(e.config,r):`${e.config.apiScheme}://${r}`;return tI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Nn(this.auth,"network-request-failed")),eI.get())})}}function Xl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Nn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(e,t){return da(e,"POST","/v1/accounts:delete",t)}async function rc(e,t){return da(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rI(e,t=!1){const n=Be(e),i=await n.getIdToken(t),r=jm(i);tt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fo(nf(r.auth_time)),issuedAtTime:fo(nf(r.iat)),expirationTime:fo(nf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nf(e){return Number(e)*1e3}function jm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const r=hE(n);return r?JSON.parse(r):(gu("Failed to decode base64 JWT payload"),null)}catch(r){return gu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ky(e){const t=jm(e);return tt(t,"internal-error"),tt(typeof t.exp<"u","internal-error"),tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof mi&&sI(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function sI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Mo(e,rc(n,{idToken:i}));tt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?DE(s.providerUserInfo):[],l=lI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new fd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function oI(e){const t=Be(e);await sc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function DE(e){return e.map(t=>{var{providerId:n}=t,i=km(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(e,t){const n=await IE(e,{},async()=>{const i=il({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await CE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&ha(e.emulatorConfig.host)&&(u.credentials="include"),RE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cI(e,t){return da(e,"POST","/v2/accounts:revokeToken",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){tt(t.idToken,"internal-error"),tt(typeof t.idToken<"u","internal-error"),tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ky(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){tt(t.length!==0,"internal-error");const n=Ky(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await uI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Vs;return i&&(tt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(tt(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(tt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e,t){tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class pn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=km(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return rI(this,t)}reload(){return oI(this)}_assign(t){this!==t&&(tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(ei(this.auth));const t=await this.getIdToken();return await Mo(this,iI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:N,isAnonymous:U,providerData:z,stsTokenManager:E}=n;tt(S&&E,t,"internal-error");const y=Vs.fromJSON(this.name,E);tt(typeof S=="string",t,"internal-error"),Ti(g,t.name),Ti(m,t.name),tt(typeof N=="boolean",t,"internal-error"),tt(typeof U=="boolean",t,"internal-error"),Ti(v,t.name),Ti(x,t.name),Ti(M,t.name),Ti(V,t.name),Ti(w,t.name),Ti(T,t.name);const A=new pn({uid:S,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:v,tenantId:M,stsTokenManager:y,createdAt:w,lastLoginAt:T});return z&&Array.isArray(z)&&(A.providerData=z.map(b=>Object.assign({},b))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(t,n,i=!1){const r=new Vs;r.updateFromServerResponse(n);const s=new pn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await sc(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];tt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?DE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Vs;l.updateFromIdToken(i);const u=new pn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function Wn(e){ui(e instanceof Function,"Expected a class definition");let t=Xy.get(e);return t?(ui(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}NE.type="NONE";const $y=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e,t,n){return`firebase:${e}:${t}:${n}`}class ks{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=pu(this.userKey,r.apiKey,s),this.fullPersistenceKey=pu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rc(this.auth,{idToken:t}).catch(()=>{});return n?pn._fromGetAccountInfoResponse(this.auth,n,t):null}return pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ks(Wn($y),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Wn($y);const a=pu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await rc(t,{idToken:d}).catch(()=>{});if(!m)break;g=await pn._fromGetAccountInfoResponse(t,m,d)}else g=pn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ks(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new ks(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PE(t))return"Blackberry";if(LE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||ME(t))&&!t.includes("edge/"))return"Chrome";if(kE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xE(e=Ie()){return/firefox\//i.test(e)}function OE(e=Ie()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ME(e=Ie()){return/crios\//i.test(e)}function VE(e=Ie()){return/iemobile/i.test(e)}function kE(e=Ie()){return/android/i.test(e)}function PE(e=Ie()){return/blackberry/i.test(e)}function LE(e=Ie()){return/webos/i.test(e)}function zm(e=Ie()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hI(e=Ie()){var t;return zm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fI(){return I2()&&document.documentMode===10}function UE(e=Ie()){return zm(e)||kE(e)||LE(e)||PE(e)||/windows phone/i.test(e)||VE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t=[]){let n;switch(e){case"Browser":n=Zy(Ie());break;case"Worker":n=`${Zy(Ie())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(e,t={}){return da(e,"GET","/v2/passwordPolicy",sl(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=6;class pI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:gI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new dI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ks.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rc(this,{idToken:t}),i=await pn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ln(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ln(this.app))return Promise.reject(ei(this));const n=t?Be(t):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ln(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mI(this),n=new pI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await cI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wn(t)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&XR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function al(e){return Be(e)}class Wy{constructor(t){this.auth=t,this.observer=null,this.addObserver=k2(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(e){Bm=e}function vI(e){return Bm.loadJS(e)}function TI(){return Bm.gapiScript}function EI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e,t){const n=Vm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Vr(s,t??{}))return r;li(r,"already-initialized")}return n.initialize({options:t})}function bI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function SI(e,t,n){const i=al(e);tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=zE(t),{host:a,port:l}=wI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),tt(Vr(h,i.config.emulator)&&Vr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,ha(a)?(gE(`${s}//${a}${u}`),pE("Auth",!0)):RI()}function zE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wI(e){const t=zE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Jy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Jy(a)}}}function Jy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function RI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(t){return Zn("not implemented")}_linkToIdToken(t,n){return Zn("not implemented")}_getReauthenticationResolver(t){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(e,t){return Um(e,"POST","/v1/accounts:signInWithIdp",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="http://localhost";class Pr extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Pr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=km(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Pr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ps(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ps(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ps(t,n)}buildRequest(){const t={requestUri:II,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=il(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends qE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ol{constructor(){super("facebook.com")}static credential(t){return Pr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Pr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ol{constructor(){super("github.com")}static credential(t){return Pr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ol{constructor(){super("twitter.com")}static credential(t,n){return Pr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(e,t){return Um(e,"POST","/v1/accounts:signUp",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await pn._fromIdTokenResponse(t,i,r),a=t_(i);return new ci({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=t_(i);return new ci({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function t_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e){var t;if(ln(e.app))return Promise.reject(ei(e));const n=al(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ci({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await CI(n,{returnSecureToken:!0}),r=await ci._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends mi{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new ac(t,n,i,r)}}function HE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(e,s,t,i):s})}async function NI(e,t,n=!1){const i=await Mo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ci._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(e,t,n=!1){const{auth:i}=e;if(ln(i.app))return Promise.reject(ei(i));const r="reauthenticate";try{const s=await Mo(e,HE(i,r,t,e),n);tt(s.idToken,i,"internal-error");const a=jm(s.idToken);tt(a,i,"internal-error");const{sub:l}=a;return tt(e.uid===l,i,"user-mismatch"),ci._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&li(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(e,t,n=!1){if(ln(e.app))return Promise.reject(ei(e));const i="signIn",r=await HE(e,i,t),s=await ci._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t){return Um(e,"POST","/v1/accounts:signInWithCustomToken",sl(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(e,t){if(ln(e.app))return Promise.reject(ei(e));const n=al(e),i=await MI(n,{token:t,returnSecureToken:!0}),r=await ci._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function kI(e,t,n,i){return Be(e).onIdTokenChanged(t,n,i)}function PI(e,t,n){return Be(e).beforeAuthStateChanged(t,n)}function LI(e,t,n,i){return Be(e).onAuthStateChanged(t,n,i)}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,jI=10;class GE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);fI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,jI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GE.type="LOCAL";const zI=GE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QE.type="SESSION";const YE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new zc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await BI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=qm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function HI(e){xn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function FI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function QI(){return KE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",YI=1,lc="firebaseLocalStorage",$E="fbase_key";class ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bc(e,t){return e.transaction([lc],t?"readwrite":"readonly").objectStore(lc)}function KI(){const e=indexedDB.deleteDatabase(XE);return new ll(e).toPromise()}function dd(){const e=indexedDB.open(XE,YI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(lc,{keyPath:$E})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(lc)?t(i):(i.close(),await KI(),t(await dd()))})})}async function e_(e,t,n){const i=Bc(e,!0).put({[$E]:t,value:n});return new ll(i).toPromise()}async function XI(e,t){const n=Bc(e,!1).get(t),i=await new ll(n).toPromise();return i===void 0?null:i.value}function n_(e,t){const n=Bc(e,!0).delete(t);return new ll(n).toPromise()}const $I=800,ZI=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>ZI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(QI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await FI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dd();return await e_(t,oc,"1"),await n_(t,oc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>e_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>XI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>n_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Bc(r,!1).getAll();return new ll(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const WI=ZE;new rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e,t){return t?Wn(t):(tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends BE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ps(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ps(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ps(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tC(e){return OI(e.auth,new Hm(e),e.bypassAuthState)}function eC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),xI(n,new Hm(e),e.bypassAuthState)}async function nC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),NI(n,new Hm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:li(this.auth,"internal-error")}}resolve(t){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new rl(2e3,1e4);class ws extends WE{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return tt(t,this.auth,"internal-error"),t}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iC.get())};t()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",yu=new Map;class sC extends WE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=yu.get(this.auth._key());if(!t){try{const i=await aC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}yu.set(this.auth._key(),t)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(e,t){const n=uC(t),i=lC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function oC(e,t){yu.set(e._key(),t)}function lC(e){return Wn(e._redirectPersistence)}function uC(e){return pu(rC,e.config.apiKey,e.name)}async function cC(e,t,n=!1){if(ln(e.app))return Promise.reject(ei(e));const i=al(e),r=JI(i,t),a=await new sC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=10*60*1e3;class fC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!JE(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(t))}saveEventToCache(t){this.cachedEventUids.add(i_(t)),this.lastProcessedEventTime=Date.now()}}function i_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function JE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(e,t={}){return da(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pC=/^https?/;async function yC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mC(e);for(const n of t)try{if(_C(n))return}catch{}li(e,"unauthorized-domain")}function _C(e){const t=hd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!pC.test(n))return!1;if(gC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new rl(3e4,6e4);function r_(){const e=xn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function TC(e){return new Promise((t,n)=>{var i,r,s;function a(){r_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(Nn(e,"network-request-failed"))},timeout:vC.get()})}if(!((r=(i=xn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)a();else{const l=EI("iframefcb");return xn()[l]=()=>{gapi.load?a():n(Nn(e,"network-request-failed"))},vI(`${TI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw _u=null,t})}let _u=null;function EC(e){return _u=_u||TC(e),_u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new rl(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(e){const t=e.config;tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lm(t,SC):`https://${e.config.authDomain}/${bC}`,i={apiKey:t.apiKey,appName:e.name,v:fa},r=RC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${il(i).slice(1)}`}async function CC(e){const t=await EC(e),n=xn().gapi;return tt(n,e,"internal-error"),t.open({where:document.body,url:IC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Nn(e,"network-request-failed"),l=xn().setTimeout(()=>{s(a)},AC.get());function u(){xn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,xC=600,OC="_blank",MC="http://localhost";class s_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(e,t,n,i=NC,r=xC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},DC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Ie().toLowerCase();n&&(l=ME(h)?OC:n),xE(h)&&(t=t||MC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,x])=>`${m}${v}=${x},`,"");if(hI(h)&&l!=="_self")return kC(t||"",l),new s_(null);const g=window.open(t||"",l,d);tt(g,e,"popup-blocked");try{g.focus()}catch{}return new s_(g)}function kC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",LC="emulator/auth/handler",UC=encodeURIComponent("fac");async function a_(e,t,n,i,r,s){tt(e.config.authDomain,e,"auth-domain-config-required"),tt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:fa,eventId:r};if(t instanceof qE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",V2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof ol){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${UC}=${encodeURIComponent(u)}`:"";return`${jC(e)}?${il(l).slice(1)}${h}`}function jC({config:e}){return e.emulator?Lm(e,LC):`https://${e.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=cC,this._overrideRedirectResult=oC}async _openPopup(t,n,i,r){var s;ui((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await a_(t,n,i,hd(),r);return VC(t,a,qm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await a_(t,n,i,hd(),r);return HI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ui(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await CC(t),i=new fC(t);return n.register("authEvent",r=>(tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rf,{type:rf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[rf];a!==void 0&&n(!!a),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UE()||OE()||zm()}}const BC=zC;var o_="@firebase/auth",l_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(e){Xs(new kr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;tt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(e)},h=new yI(i,r,s,u);return bI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Xs(new kr("auth-internal",t=>{const n=al(t.getProvider("auth").getImmediate());return(i=>new qC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(o_,l_,HC(e)),Ki(o_,l_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=5*60,QC=mE("authIdTokenMaxAge")||GC;let u_=null;const YC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>QC)return;const r=n==null?void 0:n.token;u_!==r&&(u_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function KC(e=TE()){const t=Vm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AI(e,{popupRedirectResolver:BC,persistence:[WI,zI,YE]}),i=mE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=YC(s.toString());PI(n,a,()=>a(n.currentUser)),kI(n,l=>a(l))}}const r=fE("auth");return r&&SI(n,`http://${r}`),n}function XC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}_I({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Nn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",XC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,t1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function A(){}A.prototype=y.prototype,E.D=y.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(b,I,C){for(var _=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)_[_t-2]=arguments[_t];return y.prototype[I].apply(b,_)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,A){A||(A=0);var b=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)b[I]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(I=0;16>I;++I)b[I]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=E.g[0],A=E.g[1],I=E.g[2];var C=E.g[3],_=y+(C^A&(I^C))+b[0]+3614090360&4294967295;y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[1]+3905402710&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[3]+3250441966&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[4]+4118548399&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[5]+1200080426&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[7]+4249261313&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[8]+1770035416&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[9]+2336552879&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[11]+2304563134&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(C^A&(I^C))+b[12]+1804603682&4294967295,y=A+(_<<7&4294967295|_>>>25),_=C+(I^y&(A^I))+b[13]+4254626195&4294967295,C=y+(_<<12&4294967295|_>>>20),_=I+(A^C&(y^A))+b[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=A+(y^I&(C^y))+b[15]+1236535329&4294967295,A=I+(_<<22&4294967295|_>>>10),_=y+(I^C&(A^I))+b[1]+4129170786&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[6]+3225465664&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[0]+3921069994&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[5]+3593408605&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[10]+38016083&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[4]+3889429448&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[9]+568446438&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[14]+3275163606&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[8]+1163531501&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(I^C&(A^I))+b[13]+2850285829&4294967295,y=A+(_<<5&4294967295|_>>>27),_=C+(A^I&(y^A))+b[2]+4243563512&4294967295,C=y+(_<<9&4294967295|_>>>23),_=I+(y^A&(C^y))+b[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=A+(C^y&(I^C))+b[12]+2368359562&4294967295,A=I+(_<<20&4294967295|_>>>12),_=y+(A^I^C)+b[5]+4294588738&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[8]+2272392833&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[14]+4259657740&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[1]+2763975236&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[4]+1272893353&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[10]+3200236656&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[13]+681279174&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[0]+3936430074&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[6]+76029189&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(A^I^C)+b[9]+3654602809&4294967295,y=A+(_<<4&4294967295|_>>>28),_=C+(y^A^I)+b[12]+3873151461&4294967295,C=y+(_<<11&4294967295|_>>>21),_=I+(C^y^A)+b[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=A+(I^C^y)+b[2]+3299628645&4294967295,A=I+(_<<23&4294967295|_>>>9),_=y+(I^(A|~C))+b[0]+4096336452&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[7]+1126891415&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[5]+4237533241&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[12]+1700485571&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[3]+2399980690&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[1]+2240044497&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[8]+1873313359&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[15]+4264355552&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[13]+1309151649&4294967295,A=I+(_<<21&4294967295|_>>>11),_=y+(I^(A|~C))+b[4]+4149444226&4294967295,y=A+(_<<6&4294967295|_>>>26),_=C+(A^(y|~I))+b[11]+3174756917&4294967295,C=y+(_<<10&4294967295|_>>>22),_=I+(y^(C|~A))+b[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=A+(C^(I|~y))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var A=y-this.blockSize,b=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=A;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<y;)if(b[I++]=E.charCodeAt(C++),I==this.blockSize){r(this,b),I=0;break}}else for(;C<y;)if(b[I++]=E[C++],I==this.blockSize){r(this,b),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var A=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=A&255,A/=256;for(this.u(E),E=Array(16),y=A=0;4>y;++y)for(var b=0;32>b;b+=8)E[A++]=this.g[y]>>>b&255;return E};function s(E,y){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=y(E)}function a(E,y){this.h=y;for(var A=[],b=!0,I=E.length-1;0<=I;I--){var C=E[I]|0;b&&C==y||(A[I]=C,b=!1)}this.g=A}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return V(h(-E));for(var y=[],A=1,b=0;E>=A;b++)y[b]=E/A|0,A*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return V(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(y,8)),b=g,I=0;I<E.length;I+=8){var C=Math.min(8,E.length-I),_=parseInt(E.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),b=b.j(C).add(h(_))):(b=b.j(A),b=b.add(h(_)))}return b}var g=u(0),m=u(1),v=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var E=0,y=1,A=0;A<this.g.length;A++){var b=this.i(A);E+=(0<=b?b:4294967296+b)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(M(this))return"-"+V(this).toString(E);for(var y=h(Math.pow(E,6)),A=this,b="";;){var I=N(A,y).g;A=w(A,I.j(y));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=I,x(A))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=w(this,E),M(E)?-1:x(E)?0:1};function V(E){for(var y=E.g.length,A=[],b=0;b<y;b++)A[b]=~E.g[b];return new a(A,~E.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0,I=0;I<=y;I++){var C=b+(this.i(I)&65535)+(E.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);b=_>>>16,C&=65535,_&=65535,A[I]=_<<16|C}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(E,y){return E.add(V(y))}e.j=function(E){if(x(this)||x(E))return g;if(M(this))return M(E)?V(this).j(V(E)):V(V(this).j(E));if(M(E))return V(this.j(V(E)));if(0>this.l(v)&&0>E.l(v))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,A=[],b=0;b<2*y;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var I=0;I<E.g.length;I++){var C=this.i(b)>>>16,_=this.i(b)&65535,_t=E.i(I)>>>16,Ce=E.i(I)&65535;A[2*b+2*I]+=_*Ce,T(A,2*b+2*I),A[2*b+2*I+1]+=C*Ce,T(A,2*b+2*I+1),A[2*b+2*I+1]+=_*_t,T(A,2*b+2*I+1),A[2*b+2*I+2]+=C*_t,T(A,2*b+2*I+2)}for(b=0;b<y;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=y;b<2*y;b++)A[b]=0;return new a(A,0)};function T(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function S(E,y){this.g=E,this.h=y}function N(E,y){if(x(y))throw Error("division by zero");if(x(E))return new S(g,g);if(M(E))return y=N(V(E),y),new S(V(y.g),V(y.h));if(M(y))return y=N(E,V(y)),new S(V(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,b=y;0>=b.l(E);)A=U(A),b=U(b);var I=z(A,1),C=z(b,1);for(b=z(b,2),A=z(A,2);!x(b);){var _=C.add(b);0>=_.l(E)&&(I=I.add(A),C=_),b=z(b,1),A=z(A,1)}return y=w(E,I.j(y)),new S(I,y)}for(I=g;0<=E.l(y);){for(A=Math.max(1,Math.floor(E.m()/y.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=h(A),_=C.j(y);M(_)||0<_.l(E);)A-=b,C=h(A),_=C.j(y);x(C)&&(C=m),I=I.add(C),E=w(E,_)}return new S(I,E)}e.A=function(E){return N(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)&E.i(b);return new a(A,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)|E.i(b);return new a(A,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],b=0;b<y;b++)A[b]=this.i(b)^E.i(b);return new a(A,this.h^E.h)};function U(E){for(var y=E.g.length+1,A=[],b=0;b<y;b++)A[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(A,E.h)}function z(E,y){var A=y>>5;y%=32;for(var b=E.g.length-A,I=[],C=0;C<b;C++)I[C]=0<y?E.i(C+A)>>>y|E.i(C+A+1)<<32-y:E.i(C+A);return new a(I,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,t1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Xi=a}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,Qa,n1,vu,md,i1,r1,s1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var D=o[p];if(!(D in f))break t;f=f[D]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,D={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),o.apply(c,D)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function v(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,D,O){for(var j=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)j[Dt-2]=arguments[Dt];return c.prototype[D].apply(p,j)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const D=o.length||0,O=p.length||0;o.length=D+O;for(let j=0;j<O;j++)o[D+j]=p[j]}else o.push(p)}}class w{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function T(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function z(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let f,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(f in p)o[f]=p[f];for(let O=0;O<A.length;O++)f=A[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function _(){var o=It;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class _t{constructor(){this.h=this.g=null}add(c,f){const p=Ce.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Ce=new w(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,It=new _t,kt=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(En)}};var En=()=>{for(var o;o=_();){try{o.h.call(o.g)}catch(f){C(f)}var c=Ce;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}W=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Kt(o,c){if(Pt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){t:{try{N(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:nh[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Kt.aa.h.call(this)}}x(Kt,Pt);var nh={2:"touch",3:"pen",4:"mouse"};Kt.prototype.h=function(){Kt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),ih=0;function ur(o,c,f,p,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=D,this.key=++ih,this.da=this.fa=!1}function cr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Yr(o){this.src=o,this.g={},this.h=0}Yr.prototype.add=function(o,c,f,p,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var j=ht(o,c,p,D);return-1<j?(c=o[j],f||(c.fa=!1)):(c=new ur(c,this.src,O,!!p,D),c.fa=f,o.push(c)),c};function Kr(o,c){var f=c.type;if(f in o.g){var p=o.g[f],D=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(p,D,1),O&&(cr(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function ht(o,c,f,p){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return D}return-1}var An="closure_lm_"+(1e6*Math.random()|0),va={};function ml(o,c,f,p,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)ml(o,c[O],f,p,D);return null}return f=Aa(f),o&&o[Un]?o.K(c,f,h(p)?!!p.capture:!1,D):gl(o,c,f,!1,p,D)}function gl(o,c,f,p,D,O){if(!c)throw Error("Invalid event type");var j=h(D)?!!D.capture:!!D,Dt=Ta(o);if(Dt||(o[An]=Dt=new Yr(o)),f=Dt.add(c,f,p,j,O),f.proxy)return f;if(p=Xr(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Ve||(D=j),D===void 0&&(D=!1),o.addEventListener(c.toString(),p,D);else if(o.attachEvent)o.attachEvent(yl(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Xr(){function o(f){return c.call(o.src,o.listener,f)}const c=hr;return o}function pl(o,c,f,p,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)pl(o,c[O],f,p,D);else p=h(p)?!!p.capture:!!p,f=Aa(f),o&&o[Un]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=ht(O,f,p,D),-1<f&&(cr(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=Ta(o))&&(c=o.g[c.toString()],o=-1,c&&(o=ht(c,f,p,D)),(f=-1<o?c[o]:null)&&$r(f))}function $r(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Un])Kr(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(yl(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=Ta(c))?(Kr(f,o),f.h==0&&(f.src=null,c[An]=null)):cr(o)}}}function yl(o){return o in va?va[o]:va[o]="on"+o}function hr(o,c){if(o.da)o=!0;else{c=new Kt(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&$r(o),o=f.call(p,c)}return o}function Ta(o){return o=o[An],o instanceof Yr?o:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(o){return typeof o=="function"?o:(o[Ea]||(o[Ea]=function(c){return o.handleEvent(c)}),o[Ea])}function se(){re.call(this),this.i=new Yr(this),this.M=this,this.F=null}x(se,re),se.prototype[Un]=!0,se.prototype.removeEventListener=function(o,c,f,p){pl(this,o,c,f,p)};function ae(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Pt(c,o);else if(c instanceof Pt)c.target=c.target||o;else{var D=c;c=new Pt(p,o),b(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var j=c.g=f[O];D=Zr(j,p,!0,c)&&D}if(j=c.g=o,D=Zr(j,p,!0,c)&&D,D=Zr(j,p,!1,c)&&D,f)for(O=0;O<f.length;O++)j=c.g=f[O],D=Zr(j,p,!1,c)&&D}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)cr(f[p]);delete o.g[c],o.h--}}this.F=null},se.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},se.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Zr(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var j=c[O];if(j&&!j.da&&j.capture==f){var Dt=j.listener,de=j.ha||j.src;j.fa&&Kr(o.i,j),D=Dt.call(de,p)!==!1&&D}}return D&&!p.defaultPrevented}function _l(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function vl(o){o.g=_l(()=>{o.g=null,o.i&&(o.i=!1,vl(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class q extends re{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:vl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G(o){re.call(this),this.h=o,this.g={}}x(G,re);var J=[];function Q(o){z(o.g,function(c,f){this.g.hasOwnProperty(f)&&$r(c)},o),o.g={}}G.prototype.N=function(){G.aa.N.call(this),Q(this)},G.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gt=l.JSON.stringify,pt=l.JSON.parse,mt=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Et(){}Et.prototype.h=null;function Ct(o){return o.h||(o.h=o.i())}function fe(){}var ke={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tn(){Pt.call(this,"d")}x(tn,Pt);function dn(){Pt.call(this,"c")}x(dn,Pt);var He={},fr=null;function Wr(){return fr=fr||new se}He.La="serverreachability";function bg(o){Pt.call(this,He.La,o)}x(bg,Pt);function ba(o){const c=Wr();ae(c,new bg(c))}He.STAT_EVENT="statevent";function Sg(o,c){Pt.call(this,He.STAT_EVENT,o),this.stat=c}x(Sg,Pt);function De(o){const c=Wr();ae(c,new Sg(c,o))}He.Ma="timingevent";function wg(o,c){Pt.call(this,He.Ma,o),this.size=c}x(wg,Pt);function Sa(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function HA(o,c,f,p,D,O){o.info(function(){if(o.g)if(O)for(var j="",Dt=O.split("&"),de=0;de<Dt.length;de++){var yt=Dt[de].split("=");if(1<yt.length){var Te=yt[0];yt=yt[1];var Ee=Te.split("_");j=2<=Ee.length&&Ee[1]=="type"?j+(Te+"="+yt+"&"):j+(Te+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+c+`
`+f+`
`+j})}function FA(o,c,f,p,D,O,j){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+j})}function Jr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+QA(o,f)+(p?" "+p:"")})}function GA(o,c){o.info(function(){return"TIMEOUT: "+c})}wa.prototype.info=function(){};function QA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return gt(f)}catch{return c}}var Tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function El(){}x(El,Et),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},rh=new El;function gi(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new G(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ig}function Ig(){this.i=null,this.g="",this.h=!1}var Cg={},sh={};function ah(o,c,f){o.L=1,o.v=wl(jn(c)),o.m=f,o.P=!0,Dg(o,null)}function Dg(o,c){o.F=Date.now(),Al(o),o.A=jn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Hg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Ig,o.g=op(o.j,f?c:null,!o.m),0<o.O&&(o.M=new q(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(J[0]=D.toString()),D=J);for(var O=0;O<D.length;O++){var j=ml(f,D[O],p||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),ba(),HA(o.i,o.u,o.A,o.l,o.R,o.m)}gi.prototype.ca=function(o){o=o.target;const c=this.M;c&&zn(o)==3?c.j():this.Y(o)},gi.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=zn(this.g);var c=this.g.Ba();const ns=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||$g(this.g)))){this.J||Ee!=4||c==7||(c==8||0>=ns?ba(3):ba(2)),oh(this);var f=this.g.Z();this.X=f;e:if(Ng(this)){var p=$g(this.g);o="";var D=p.length,O=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),Ra(this);var j="";break e}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==D-1)});p.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,FA(this.i,this.u,this.A,this.l,this.R,Ee,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,de=this.g;if((Dt=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Dt)){var yt=Dt;break e}}yt=null}if(f=yt)Jr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lh(this,f);else{this.o=!1,this.s=3,De(12),dr(this),Ra(this);break t}}if(this.P){f=!0;let mn;for(;!this.J&&this.C<j.length;)if(mn=YA(this,j),mn==sh){Ee==4&&(this.s=4,De(14),f=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Cg){this.s=4,De(15),Jr(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Jr(this.i,this.l,mn,null),lh(this,mn);if(Ng(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||j.length!=0||this.h.h||(this.s=1,De(16),f=!1),this.o=this.o&&f,!f)Jr(this.i,this.l,j,"[Invalid Chunked Response]"),dr(this),Ra(this);else if(0<j.length&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.ba&&!Te.M&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),mh(Te),Te.M=!0,De(11))}}else Jr(this.i,this.l,j,null),lh(this,j);Ee==4&&dr(this),this.o&&!this.J&&(Ee==4?ip(this.j,this):(this.o=!1,Al(this)))}else cb(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),dr(this),Ra(this)}}}catch{}finally{}};function Ng(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function YA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?sh:(f=Number(c.substring(f,p)),isNaN(f)?Cg:(p+=1,p+f>c.length?sh:(c=c.slice(p,p+f),o.C=p+f,c)))}gi.prototype.cancel=function(){this.J=!0,dr(this)};function Al(o){o.S=Date.now()+o.I,xg(o,o.I)}function xg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Sa(m(o.ba,o),c)}function oh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}gi.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(GA(this.i,this.A),this.L!=2&&(ba(),De(17)),dr(this),this.s=2,Ra(this)):xg(this,this.S-o)};function Ra(o){o.j.G==0||o.J||ip(o.j,o)}function dr(o){oh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Q(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function lh(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||uh(f.h,o))){if(!o.K&&uh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)xl(f),Dl(f);else break t;dh(f),De(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sa(m(f.Za,f),6e3));if(1>=Vg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else gr(f,11)}else if((o.K||f.g==o)&&xl(f),!T(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let yt=D[c];if(f.T=yt[0],yt=yt[1],f.G==2)if(yt[0]=="c"){f.K=yt[1],f.ia=yt[2];const Te=yt[3];Te!=null&&(f.la=Te,f.j.info("VER="+f.la));const Ee=yt[4];Ee!=null&&(f.Aa=Ee,f.j.info("SVER="+f.Aa));const ns=yt[5];ns!=null&&typeof ns=="number"&&0<ns&&(p=1.5*ns,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const mn=o.g;if(mn){const Ml=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var O=p.h;O.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ch(O,O.h),O.h=null))}if(p.D){const gh=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(p.ya=gh,Ot(p.I,p.D,gh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var j=o;if(p.qa=ap(p,p.J?p.ia:null,p.W),j.K){kg(p.h,j);var Dt=j,de=p.L;de&&(Dt.I=de),Dt.B&&(oh(Dt),Al(Dt)),p.g=j}else ep(p);0<f.i.length&&Nl(f)}else yt[0]!="stop"&&yt[0]!="close"||gr(f,7);else f.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?gr(f,7):fh(f):yt[0]!="noop"&&f.l&&f.l.ta(yt),f.v=0)}}ba(4)}catch{}}var KA=class{constructor(o,c){this.g=o,this.map=c}};function Og(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Vg(o){return o.h?1:o.g?o.g.size:0}function uh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function ch(o,c){o.g?o.g.add(c):o.h=c}function kg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Og.prototype.cancel=function(){if(this.i=Pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function XA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function $A(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Lg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=$A(o),p=XA(o),D=p.length,O=0;O<D;O++)c.call(void 0,p[O],f&&f[O],o)}var Ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),D=null;if(0<=p){var O=o[f].substring(0,p);D=o[f].substring(p+1)}else O=o[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function mr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof mr){this.h=o.h,bl(this,o.j),this.o=o.o,this.g=o.g,Sl(this,o.s),this.l=o.l;var c=o.i,f=new Da;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),jg(this,f),this.m=o.m}else o&&(c=String(o).match(Ug))?(this.h=!1,bl(this,c[1]||"",!0),this.o=Ia(c[2]||""),this.g=Ia(c[3]||"",!0),Sl(this,c[4]),this.l=Ia(c[5]||"",!0),jg(this,c[6]||"",!0),this.m=Ia(c[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}mr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ca(c,zg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ca(c,zg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ca(f,f.charAt(0)=="/"?tb:JA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ca(f,nb)),o.join("")};function jn(o){return new mr(o)}function bl(o,c,f){o.j=f?Ia(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Sl(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function jg(o,c,f){c instanceof Da?(o.i=c,ib(o.i,o.h)):(f||(c=Ca(c,eb)),o.i=new Da(c,o.h))}function Ot(o,c,f){o.i.set(c,f)}function wl(o){return Ot(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ia(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ca(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,WA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function WA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zg=/[#\/\?@]/g,JA=/[#\?:]/g,tb=/[#\?]/g,eb=/[#\?@]/g,nb=/#/g;function Da(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function pi(o){o.g||(o.g=new Map,o.h=0,o.i&&ZA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Da.prototype,e.add=function(o,c){pi(this),this.i=null,o=ts(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Bg(o,c){pi(o),c=ts(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function qg(o,c){return pi(o),c=ts(o,c),o.g.has(c)}e.forEach=function(o,c){pi(this),this.g.forEach(function(f,p){f.forEach(function(D){o.call(c,D,p,this)},this)},this)},e.na=function(){pi(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const D=o[p];for(let O=0;O<D.length;O++)f.push(c[p])}return f},e.V=function(o){pi(this);let c=[];if(typeof o=="string")qg(this,o)&&(c=c.concat(this.g.get(ts(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return pi(this),this.i=null,o=ts(this,o),qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Hg(o,c,f){Bg(o,c),0<f.length&&(o.i=null,o.g.set(ts(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),j=this.V(p);for(p=0;p<j.length;p++){var D=O;j[p]!==""&&(D+="="+encodeURIComponent(String(j[p]))),o.push(D)}}return this.i=o.join("&")};function ts(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function ib(o,c){c&&!o.j&&(pi(o),o.i=null,o.g.forEach(function(f,p){var D=p.toLowerCase();p!=D&&(Bg(this,p),Hg(this,D,f))},o)),o.j=c}function rb(o,c){const f=new wa;if(l.Image){const p=new Image;p.onload=v(yi,f,"TestLoadImage: loaded",!0,c,p),p.onerror=v(yi,f,"TestLoadImage: error",!1,c,p),p.onabort=v(yi,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=v(yi,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function sb(o,c){const f=new wa,p=new AbortController,D=setTimeout(()=>{p.abort(),yi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(D),O.ok?yi(f,"TestPingServer: ok",!0,c):yi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),yi(f,"TestPingServer: error",!1,c)})}function yi(o,c,f,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(f)}catch{}}function ab(){this.g=new mt}function ob(o,c,f){const p=f||"";try{Lg(o,function(D,O){let j=D;h(D)&&(j=gt(D)),c.push(p+O+"="+encodeURIComponent(j))})}catch(D){throw c.push(p+"type="+encodeURIComponent("_badmap")),D}}function Rl(o){this.l=o.Ub||null,this.j=o.eb||!1}x(Rl,Et),Rl.prototype.g=function(){return new Il(this.l,this.j)},Rl.prototype.i=function(o){return function(){return o}}({});function Il(o,c){se.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Il,se),e=Il.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,xa(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Na(this):xa(this),this.readyState==3&&Fg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Na(this))},e.Qa=function(o){this.g&&(this.response=o,Na(this))},e.ga=function(){this.g&&Na(this)};function Na(o){o.readyState=4,o.l=null,o.j=null,o.v=null,xa(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function xa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Gg(o){let c="";return z(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function hh(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Gg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ot(o,c,f))}function qt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qt,se);var lb=/^https?$/i,ub=["POST","PUT"];e=qt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?Ct(this.o):Ct(rh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Qg(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)f.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ub,c,void 0))||p||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Qg(this,O)}};function Qg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Yg(o),Cl(o)}function Yg(o){o.A||(o.A=!0,ae(o,"complete"),ae(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ae(this,"complete"),ae(this,"abort"),Cl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kg(this):this.bb())},e.bb=function(){Kg(this)};function Kg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||zn(o)!=4||o.Z()!=2)){if(o.u&&zn(o)==4)_l(o.Ea,0,o);else if(ae(o,"readystatechange"),zn(o)==4){o.h=!1;try{const j=o.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=j===0){var D=String(o.D).match(Ug)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),p=!lb.test(D?D.toLowerCase():"")}f=p}if(f)ae(o,"complete"),ae(o,"success");else{o.m=6;try{var O=2<zn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Yg(o)}}finally{Cl(o)}}}}function Cl(o,c){if(o.g){Xg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ae(o,"ready");try{f.onreadystatechange=p}catch{}}}function Xg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function zn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),pt(c)}};function $g(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function cb(o){const c={};o=(o.g&&2<=zn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(T(o[p]))continue;var f=I(o[p]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}E(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Zg(o){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,o),this.cb=Oa("retryDelaySeedMs",1e4,o),this.Wa=Oa("forwardChannelMaxRetries",2,o),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Og(o&&o.concurrentRequestLimit),this.Da=new ab,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Zg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){De(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=ap(this,null,this.W),Nl(this)};function fh(o){if(Wg(o),o.G==3){var c=o.U++,f=jn(o.I);if(Ot(f,"SID",o.K),Ot(f,"RID",c),Ot(f,"TYPE","terminate"),Ma(o,f),c=new gi(o,o.j,c),c.L=2,c.v=wl(jn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=op(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Al(c)}sp(o)}function Dl(o){o.g&&(mh(o),o.g.cancel(),o.g=null)}function Wg(o){Dl(o),o.u&&(l.clearTimeout(o.u),o.u=null),xl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Nl(o){if(!Mg(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||kt(),W||(Z(),W=!0),It.add(c,o),o.B=0}}function hb(o,c){return Vg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Sa(m(o.Ga,o,c),rp(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new gi(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),b(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=tp(this,D,c),f=jn(this.I),Ot(f,"RID",o),Ot(f,"CVER",22),this.D&&Ot(f,"X-HTTP-Session-Id",this.D),Ma(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Gg(O)))+"&"+c:this.m&&hh(f,this.m,O)),ch(this.h,D),this.Ua&&Ot(f,"TYPE","init"),this.P?(Ot(f,"$req",c),Ot(f,"SID","null"),D.T=!0,ah(D,f,null)):ah(D,f,c),this.G=2}}else this.G==3&&(o?Jg(this,o):this.i.length==0||Mg(this.h)||Jg(this))};function Jg(o,c){var f;c?f=c.l:f=o.U++;const p=jn(o.I);Ot(p,"SID",o.K),Ot(p,"RID",f),Ot(p,"AID",o.T),Ma(o,p),o.m&&o.o&&hh(p,o.m,o.o),f=new gi(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=tp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ch(o.h,f),ah(f,p,c)}function Ma(o,c){o.H&&z(o.H,function(f,p){Ot(c,p,f)}),o.l&&Lg({},function(f,p){Ot(c,p,f)})}function tp(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const j=["count="+f];O==-1?0<f?(O=D[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let Dt=!0;for(let de=0;de<f;de++){let yt=D[de].g;const Te=D[de].map;if(yt-=O,0>yt)O=Math.max(0,D[de].g-100),Dt=!1;else try{ob(Te,j,"req"+yt+"_")}catch{p&&p(Te)}}if(Dt){p=j.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function ep(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||kt(),W||(Z(),W=!0),It.add(c,o),o.v=0}}function dh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Sa(m(o.Fa,o),rp(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,np(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Sa(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Dl(this),np(this))};function mh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function np(o){o.g=new gi(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=jn(o.qa);Ot(c,"RID","rpc"),Ot(c,"SID",o.K),Ot(c,"AID",o.T),Ot(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ot(c,"TO",o.ja),Ot(c,"TYPE","xmlhttp"),Ma(o,c),o.m&&o.o&&hh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=wl(jn(c)),f.m=null,f.P=!0,Dg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Dl(this),dh(this),De(19))};function xl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function ip(o,c){var f=null;if(o.g==c){xl(o),mh(o),o.g=null;var p=2}else if(uh(o.h,c))f=c.D,kg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=o.B;p=Wr(),ae(p,new wg(p,f)),Nl(o)}else ep(o);else if(D=c.s,D==3||D==0&&0<c.X||!(p==1&&hb(o,c)||p==2&&dh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),D){case 1:gr(o,5);break;case 4:gr(o,10);break;case 3:gr(o,6);break;default:gr(o,2)}}}function rp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function gr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const D=!p;p=new mr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bl(p,"https"),wl(p),D?rb(p.toString(),f):sb(p.toString(),f)}else De(2);o.G=0,o.l&&o.l.sa(c),sp(o),Wg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function sp(o){if(o.G=0,o.ka=[],o.l){const c=Pg(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function ap(o,c,f){var p=f instanceof mr?jn(f):new mr(f);if(p.g!="")c&&(p.g=c+"."+p.g),Sl(p,p.s);else{var D=l.location;p=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new mr(null);p&&bl(O,p),c&&(O.g=c),D&&Sl(O,D),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&Ot(p,f,c),Ot(p,"VER",o.la),Ma(o,p),p}function op(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new qt(new Rl({eb:f})):new qt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function lp(){}e=lp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ol(){}Ol.prototype.g=function(o,c){return new Fe(o,c)};function Fe(o,c){se.call(this),this.g=new Zg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!T(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new es(this)}x(Fe,se),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){fh(this.g)},Fe.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=gt(o),o=f);c.i.push(new KA(c.Ya++,o)),c.G==3&&Nl(c)},Fe.prototype.N=function(){this.g.l=null,delete this.j,fh(this.g),delete this.g,Fe.aa.N.call(this)};function up(o){tn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(up,tn);function cp(){dn.call(this),this.status=1}x(cp,dn);function es(o){this.g=o}x(es,lp),es.prototype.ua=function(){ae(this.g,"a")},es.prototype.ta=function(o){ae(this.g,new up(o))},es.prototype.sa=function(o){ae(this.g,new cp)},es.prototype.ra=function(){ae(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,s1=function(){return new Ol},r1=function(){return Wr()},i1=He,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,vu=Tl,Rg.COMPLETE="complete",n1=Rg,fe.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",se.prototype.listen=se.prototype.K,Qa=fe,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,e1=qt}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Om("@firebase/firestore");function us(){return Lr.logLevel}function H(e,...t){if(Lr.logLevel<=ut.DEBUG){const n=t.map(Fm);Lr.debug(`Firestore (${ma}): ${e}`,...n)}}function hi(e,...t){if(Lr.logLevel<=ut.ERROR){const n=t.map(Fm);Lr.error(`Firestore (${ma}): ${e}`,...n)}}function $s(e,...t){if(Lr.logLevel<=ut.WARN){const n=t.map(Fm);Lr.warn(`Firestore (${ma}): ${e}`,...n)}}function Fm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,a1(e,i,n)}function a1(e,t,n){let i=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw hi(i),new Error(i)}function At(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||a1(t,r,i)}function it(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends mi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class ZC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(t){this.t=t,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){At(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string",31837,{l:i}),new o1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string",2055,{h:t}),new be(t)}}class JC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=be.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tD{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new JC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){At(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=nD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function st(e,t){return e<t?-1:e>t?1:0}function gd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return st(i,r);{const s=l1(),a=iD(s.encode(m_(e,n)),s.encode(m_(t,n)));return a!==0?a:st(i,r)}}n+=i>65535?2:1}return st(e.length,t.length)}function m_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function iD(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return st(e[n],t[n]);return st(e.length,t.length)}function Zs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,p_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*p_);return new ee(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<g_)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-g_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(t){return new nt(t)}static min(){return new nt(new ee(0,0))}static max(){return new nt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Sn{constructor(t,n,i){n===void 0?n=0:n>t.length&&X(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&X(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Sn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Sn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=Sn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return st(t.length,n.length)}static compareSegments(t,n){const i=Sn.isNumericId(t),r=Sn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Sn.extractNumericId(t).compare(Sn.extractNumericId(n)):gd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xi.fromString(t.substring(4,t.length-2))}}class Mt extends Sn{construct(t,n,i){return new Mt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends Sn{construct(t,n,i){return new ye(t,n,i)}static isValidIdentifier(t){return rD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new ye([y_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(n)}static emptyPath(){return new ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.path=t}static fromPath(t){return new Y(Mt.fromString(t))}static fromName(t){return new Y(Mt.fromString(t).popFirst(5))}static empty(){return new Y(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Mt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Y(new Mt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=-1;function sD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=nt.fromTimestamp(i===1e9?new ee(n+1,0):new ee(n,i));return new er(r,Y.empty(),t)}function aD(e){return new er(e.readTime,e.key,Vo)}class er{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new er(nt.min(),Y.empty(),Vo)}static max(){return new er(nt.max(),Y.empty(),Vo)}}function oD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Y.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==lD)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function cD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function Hc(e){return e==null}function uc(e){return e===0&&1/e==-1/0}function hD(e){return typeof e=="number"&&Number.isInteger(e)&&!uc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function fD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=__(t)),t=dD(e.get(n),t);return __(t)}function dD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case c1:n+="";break;default:n+=s}}return n}function __(e){return e+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function h1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t,n){this.comparator=t,this.root=n||ge.EMPTY}insert(t,n){return new Bt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ge.BLACK,null,null))}remove(t){return new Bt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zl(this.root,t,this.comparator,!0)}}class Zl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ge{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ge.RED,this.left=r??ge.EMPTY,this.right=s??ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ge(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ge.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw X(27949);return t+(this.isRed()?0:1)}}ge.EMPTY=null,ge.RED=!0,ge.BLACK=!1;ge.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.comparator=t,this.data=new Bt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(t){return new T_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ne(this.comparator);return n.data=t,n}}class T_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new yn([])}unionWith(t){let n=new ne(ye.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new f1("Invalid base64 string: "+s):s}}(t);return new ve(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new ve(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(e){if(At(!!e,39018),typeof e=="string"){let t=0;const n=mD.exec(e);if(At(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yt(e.seconds),nanos:Yt(e.nanos)}}function Yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ir(e){return typeof e=="string"?ve.fromBase64String(e):ve.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",m1="__type__",g1="__previous_value__",p1="__local_write_time__";function Qm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[m1])===null||n===void 0?void 0:n.stringValue)===d1}function Fc(e){const t=e.mapValue.fields[g1];return Qm(t)?Fc(t):t}function ko(e){const t=nr(e.mapValue.fields[p1].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const cc="(default)";class Po{constructor(t,n){this.projectId=t,this.database=n||cc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===cc}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__type__",pD="__max__",Wl={mapValue:{}},_1="__vector__",hc="value";function rr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qm(e)?4:_D(e)?9007199254740991:yD(e)?10:11:X(28295,{value:e})}function kn(e,t){if(e===t)return!0;const n=rr(e);if(n!==rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ko(e).isEqual(ko(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=nr(r.timestampValue),l=nr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return ir(r.bytesValue).isEqual(ir(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Yt(r.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Yt(r.integerValue)===Yt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Yt(r.doubleValue),l=Yt(s.doubleValue);return a===l?uc(a)===uc(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Zs(e.arrayValue.values||[],t.arrayValue.values||[],kn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(v_(a)!==v_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!kn(a[u],l[u])))return!1;return!0}(e,t);default:return X(52216,{left:e})}}function Lo(e,t){return(e.values||[]).find(n=>kn(n,t))!==void 0}function Ws(e,t){if(e===t)return 0;const n=rr(e),i=rr(t);if(n!==i)return st(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Yt(s.integerValue||s.doubleValue),u=Yt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return E_(e.timestampValue,t.timestampValue);case 4:return E_(ko(e),ko(t));case 5:return gd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=ir(s),u=ir(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=st(l[h],u[h]);if(d!==0)return d}return st(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=st(Yt(s.latitude),Yt(a.latitude));return l!==0?l:st(Yt(s.longitude),Yt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return A_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},v=(l=g[hc])===null||l===void 0?void 0:l.arrayValue,x=(u=m[hc])===null||u===void 0?void 0:u.arrayValue,M=st(((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:A_(v,x)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Wl.mapValue&&a===Wl.mapValue)return 0;if(s===Wl.mapValue)return 1;if(a===Wl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=gd(u[g],d[g]);if(m!==0)return m;const v=Ws(l[u[g]],h[d[g]]);if(v!==0)return v}return st(u.length,d.length)}(e.mapValue,t.mapValue);default:throw X(23264,{Pe:n})}}function E_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=nr(e),i=nr(t),r=st(n.seconds,i.seconds);return r!==0?r:st(n.nanos,i.nanos)}function A_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Ws(n[r],i[r]);if(s)return s}return st(n.length,i.length)}function Js(e){return pd(e)}function pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=nr(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ir(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Y.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=pd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${pd(n.fields[a])}`;return r+"}"}(e.mapValue):X(61005,{value:e})}function Tu(e){switch(rr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fc(e);return t?16+Tu(t):16;case 5:return 2*e.stringValue.length;case 6:return ir(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Tu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Hr(i.fields,(s,a)=>{r+=s.length+Tu(a)}),r}(e.mapValue);default:throw X(13486,{value:e})}}function b_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function yd(e){return!!e&&"integerValue"in e}function Ym(e){return!!e&&"arrayValue"in e}function S_(e){return!!e&&"nullValue"in e}function w_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eu(e){return!!e&&"mapValue"in e}function yD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[y1])===null||n===void 0?void 0:n.stringValue)===_1}function mo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=mo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _D(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Eu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(n)}setAll(t){let n=ye.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=mo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Eu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Hr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new un(mo(this.value))}}function v1(e){const t=[];return Hr(e.fields,(n,i)=>{const r=new ye([n]);if(Eu(i)){const s=v1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Se(t,0,nt.min(),nt.min(),nt.min(),un.empty(),0)}static newFoundDocument(t,n,i,r){return new Se(t,1,n,nt.min(),i,r,0)}static newNoDocument(t,n){return new Se(t,2,n,nt.min(),nt.min(),un.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,nt.min(),nt.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n){this.position=t,this.inclusive=n}}function R_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=Ws(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function I_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n="asc"){this.field=t,this.dir=n}}function vD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Zt extends T1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new ED(t,n,i):n==="array-contains"?new SD(t,i):n==="in"?new wD(t,i):n==="not-in"?new RD(t,i):n==="array-contains-any"?new ID(t,i):new Zt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new AD(t,i):new bD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ws(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends T1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new vn(t,n)}matches(t){return E1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function E1(e){return e.op==="and"}function A1(e){return TD(e)&&E1(e)}function TD(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function _d(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+Js(e.value);if(A1(e))return e.filters.map(t=>_d(t)).join(",");{const t=e.filters.map(n=>_d(n)).join(",");return`${e.op}(${t})`}}function b1(e,t){return e instanceof Zt?function(i,r){return r instanceof Zt&&i.op===r.op&&i.field.isEqual(r.field)&&kn(i.value,r.value)}(e,t):e instanceof vn?function(i,r){return r instanceof vn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&b1(a,r.filters[l]),!0):!1}(e,t):void X(19439)}function S1(e){return e instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(S1).join(" ,")+"}"}(e):"Filter"}class ED extends Zt{constructor(t,n,i){super(t,n,i),this.key=Y.fromName(i.referenceValue)}matches(t){const n=Y.comparator(t.key,this.key);return this.matchesComparison(n)}}class AD extends Zt{constructor(t,n){super(t,"in",n),this.keys=w1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bD extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=w1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function w1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class SD extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ym(n)&&Lo(n.arrayValue,this.value)}}class wD extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lo(this.value.arrayValue,n)}}class RD extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lo(this.value.arrayValue,n)}}class ID extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Lo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function C_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new CD(e,t,n,i,r,s,a)}function Km(e){const t=it(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_d(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Hc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Js(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Js(i)).join(",")),t.Ie=n}return t.Ie}function Xm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!b1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!I_(e.startAt,t.startAt)&&I_(e.endAt,t.endAt)}function vd(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function DD(e,t,n,i,r,s,a,l){return new ul(e,t,n,i,r,s,a,l)}function Gc(e){return new ul(e)}function D_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function R1(e){return e.collectionGroup!==null}function go(e){const t=it(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ne(ye.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new dc(s,i))}),n.has(ye.keyField().canonicalString())||t.Ee.push(new dc(ye.keyField(),i))}return t.Ee}function On(e){const t=it(e);return t.de||(t.de=ND(t,go(e))),t.de}function ND(e,t){if(e.limitType==="F")return C_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new dc(r.field,s)});const n=e.endAt?new fc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fc(e.startAt.position,e.startAt.inclusive):null;return C_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Td(e,t){const n=e.filters.concat([t]);return new ul(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ed(e,t,n){return new ul(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qc(e,t){return Xm(On(e),On(t))&&e.limitType===t.limitType}function I1(e){return`${Km(On(e))}|lt:${e.limitType}`}function cs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>S1(r)).join(", ")}]`),Hc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Js(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Js(r)).join(",")),`Target(${i})`}(On(e))}; limitType=${e.limitType})`}function Yc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Y.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of go(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=R_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,go(i),r)||i.endAt&&!function(a,l,u){const h=R_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,go(i),r))}(e,t)}function xD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function C1(e){return(t,n)=>{let i=!1;for(const r of go(e)){const s=OD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function OD(e,t,n){const i=e.field.isKeyField()?Y.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Ws(u,h):X(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Bt(Y.comparator);function fi(){return MD}const D1=new Bt(Y.comparator);function Ya(...e){let t=D1;for(const n of e)t=t.insert(n.key,n);return t}function N1(e){let t=D1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ar(){return po()}function x1(){return po()}function po(){return new Fr(e=>e.toString(),(e,t)=>e.isEqual(t))}const VD=new Bt(Y.comparator),kD=new ne(Y.comparator);function ct(...e){let t=kD;for(const n of e)t=t.add(n);return t}const PD=new ne(st);function LD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(t)?"-0":t}}function O1(e){return{integerValue:""+e}}function UD(e,t){return hD(t)?O1(t):$m(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function jD(e,t,n){return e instanceof mc?function(r,s){const a={fields:{[m1]:{stringValue:d1},[p1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Qm(s)&&(s=Fc(s)),s&&(a.fields[g1]=s),{mapValue:a}}(n,t):e instanceof Uo?V1(e,t):e instanceof jo?k1(e,t):function(r,s){const a=M1(r,s),l=N_(a)+N_(r.Re);return yd(a)&&yd(r.Re)?O1(l):$m(r.serializer,l)}(e,t)}function zD(e,t,n){return e instanceof Uo?V1(e,t):e instanceof jo?k1(e,t):n}function M1(e,t){return e instanceof gc?function(i){return yd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class mc extends Kc{}class Uo extends Kc{constructor(t){super(),this.elements=t}}function V1(e,t){const n=P1(t);for(const i of e.elements)n.some(r=>kn(r,i))||n.push(i);return{arrayValue:{values:n}}}class jo extends Kc{constructor(t){super(),this.elements=t}}function k1(e,t){let n=P1(t);for(const i of e.elements)n=n.filter(r=>!kn(r,i));return{arrayValue:{values:n}}}class gc extends Kc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function N_(e){return Yt(e.integerValue||e.doubleValue)}function P1(e){return Ym(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function BD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Uo&&r instanceof Uo||i instanceof jo&&r instanceof jo?Zs(i.elements,r.elements,kn):i instanceof gc&&r instanceof gc?kn(i.Re,r.Re):i instanceof mc&&r instanceof mc}(e.transform,t.transform)}class qD{constructor(t,n){this.version=t,this.transformResults=n}}class Mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Mn}static exists(t){return new Mn(void 0,t)}static updateTime(t){return new Mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Au(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xc{}function L1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zm(e.key,Mn.none()):new cl(e.key,e.data,Mn.none());{const n=e.data,i=un.empty();let r=new ne(ye.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Gr(e.key,i,new yn(r.toArray()),Mn.none())}}function HD(e,t,n){e instanceof cl?function(r,s,a){const l=r.value.clone(),u=O_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Gr?function(r,s,a){if(!Au(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=O_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(U1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function yo(e,t,n,i){return e instanceof cl?function(s,a,l,u){if(!Au(s.precondition,a))return l;const h=s.value.clone(),d=M_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Gr?function(s,a,l,u){if(!Au(s.precondition,a))return l;const h=M_(s.fieldTransforms,u,a),d=a.data;return d.setAll(U1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return Au(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function FD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=M1(i.transform,r||null);s!=null&&(n===null&&(n=un.empty()),n.set(i.field,s))}return n||null}function x_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Zs(i,r,(s,a)=>BD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cl extends Xc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gr extends Xc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function O_(e,t,n){const i=new Map;At(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,zD(a,l,n[r]))}return i}function M_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,jD(s,a,t))}return i}class Zm extends Xc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends Xc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&HD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=yo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=yo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=x1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=L1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(nt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ct())}isEqual(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,(n,i)=>x_(n,i))&&Zs(this.baseMutations,t.baseMutations,(n,i)=>x_(n,i))}}class Wm{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){At(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return VD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Wm(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ft;function XD(e){switch(e){case L.OK:return X(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return X(15467,{code:e})}}function j1(e){if(e===void 0)return hi("GRPC error has no .code"),L.UNKNOWN;switch(e){case Xt.OK:return L.OK;case Xt.CANCELLED:return L.CANCELLED;case Xt.UNKNOWN:return L.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return L.INTERNAL;case Xt.UNAVAILABLE:return L.UNAVAILABLE;case Xt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Xt.NOT_FOUND:return L.NOT_FOUND;case Xt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Xt.ABORTED:return L.ABORTED;case Xt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Xt.DATA_LOSS:return L.DATA_LOSS;default:return X(39323,{code:e})}}(ft=Xt||(Xt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Xi([4294967295,4294967295],0);function V_(e){const t=l1().encode(e),n=new t1;return n.update(t),new Uint8Array(n.digest())}function k_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xi([n,i],0),new Xi([r,s],0)]}class Jm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(i<0)throw new Ka(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Xi.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Xi.fromNumber(i)));return r.compare($D)===1&&(r=new Xi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=V_(t),[i,r]=k_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Jm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=V_(t),[i,r]=k_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,hl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new $c(nt.min(),r,new Bt(st),fi(),ct())}}class hl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new hl(i,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class z1{constructor(t,n){this.targetId=t,this.Ce=n}}class B1{constructor(t,n,i=ve.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class P_{constructor(){this.Fe=0,this.Me=L_(),this.xe=ve.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ct(),n=ct(),i=ct();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new hl(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=L_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,At(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ZD{constructor(t){this.ze=t,this.je=new Map,this.He=fi(),this.Je=Jl(),this.Ye=Jl(),this.Ze=new Bt(st)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:X(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(vd(s))if(i===0){const a=new Y(s.path);this.tt(n,a,Se.newNoDocument(a,nt.min()))}else At(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=ir(i).toUint8Array()}catch(u){if(u instanceof f1)return $s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Jm(a,r,s)}catch(u){return $s(u instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&vd(l.target)){const u=new Y(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Se.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ct();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new $c(t,n,this.Ze,this.He,i);return this.He=fi(),this.Je=Jl(),this.Ye=Jl(),this.Ze=new Bt(st),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new P_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new ne(st),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new ne(st),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new P_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Jl(){return new Bt(Y.comparator)}function L_(){return new Bt(Y.comparator)}const WD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class eN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ad(e,t){return e.useProto3Json||Hc(t)?t:{value:t}}function pc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nN(e,t){return pc(e,t.toTimestamp())}function Vn(e){return At(!!e,49232),nt.fromTimestamp(function(n){const i=nr(n);return new ee(i.seconds,i.nanos)}(e))}function tg(e,t){return bd(e,t).canonicalString()}function bd(e,t){const n=function(r){return new Mt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function H1(e){const t=Mt.fromString(e);return At(K1(t),10190,{key:t.toString()}),t}function Sd(e,t){return tg(e.databaseId,t.path)}function sf(e,t){const n=H1(t);if(n.get(1)!==e.databaseId.projectId)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(G1(n))}function F1(e,t){return tg(e.databaseId,t)}function iN(e){const t=H1(e);return t.length===4?Mt.emptyPath():G1(t)}function wd(e){return new Mt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function G1(e){return At(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function U_(e,t,n){return{name:Sd(e,t),fields:n.value.mapValue.fields}}function rN(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(At(d===void 0||typeof d=="string",58123),ve.fromBase64String(d||"")):(At(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ve.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:j1(h.code);return new F(d,h.message||"")}(a);n=new B1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=sf(e,i.document.name),s=Vn(i.document.updateTime),a=i.document.createTime?Vn(i.document.createTime):nt.min(),l=new un({mapValue:{fields:i.document.fields}}),u=Se.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new bu(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=sf(e,i.document),s=i.readTime?Vn(i.readTime):nt.min(),a=Se.newNoDocument(r,s),l=i.removedTargetIds||[];n=new bu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=sf(e,i.document),s=i.removedTargetIds||[];n=new bu([],s,r,null)}else{if(!("filter"in t))return X(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new KD(r,s),l=i.targetId;n=new z1(l,a)}}return n}function sN(e,t){let n;if(t instanceof cl)n={update:U_(e,t.key,t.value)};else if(t instanceof Zm)n={delete:Sd(e,t.key)};else if(t instanceof Gr)n={update:U_(e,t.key,t.data),updateMask:mN(t.fieldMask)};else{if(!(t instanceof GD))return X(16599,{ft:t.type});n={verify:Sd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof mc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw X(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:nN(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(e,t.precondition)),n}function aN(e,t){return e&&e.length>0?(At(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Vn(r.updateTime):Vn(s);return a.isEqual(nt.min())&&(a=Vn(s)),new qD(a,r.transformResults||[])}(n,t))):[]}function oN(e,t){return{documents:[F1(e,t.path)]}}function lN(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=F1(e,r);const s=function(h){if(h.length!==0)return Y1(vn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:hs(m.field),direction:hN(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Ad(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function uN(e){let t=iN(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){At(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=Q1(g);return m instanceof vn&&A1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(x){return new dc(fs(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Hc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,v=g.values||[];return new fc(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,v=g.values||[];return new fc(v,m)}(n.endAt)),DD(t,r,a,s,l,"F",u,h)}function cN(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Q1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=fs(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=fs(n.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fs(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fs(n.unaryFilter.field);return Zt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(e):e.fieldFilter!==void 0?function(n){return Zt.create(fs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(i=>Q1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(e):X(30097,{filter:e})}function hN(e){return WD[e]}function fN(e){return JD[e]}function dN(e){return tN[e]}function hs(e){return{fieldPath:e.canonicalString()}}function fs(e){return ye.fromServerFormat(e.fieldPath)}function Y1(e){return e instanceof Zt?function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:fN(n.op),value:n.value}}}(e):e instanceof vn?function(n){const i=n.getFilters().map(r=>Y1(r));return i.length===1?i[0]:{compositeFilter:{op:dN(n.op),filters:i}}}(e):X(54877,{filter:e})}function mN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function K1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,n,i,r,s=nt.min(),a=nt.min(),l=ve.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Li(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.wt=t}}function pN(e){const t=uN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ed(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.Cn=new _N}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(er.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(er.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class _N{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ne(Mt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ne(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class je{static withCacheSize(t){return new je(t,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */je.DEFAULT_COLLECTION_PERCENTILE=10,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,je.DEFAULT=new je(X1,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),je.DISABLED=new je(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ta(0)}static lr(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",vN=1048576;function B_([e,t],[n,i]){const r=st(e,n);return r===0?st(t,i):r}class TN{constructor(t){this.Er=t,this.buffer=new ne(B_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();B_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(z_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pa(n)?H(z_,"Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.mr(3e5)})}}class AN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(qc.le);const i=new TN(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(j_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),us()<=ut.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function bN(e,t){return new AN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.changes=new Fr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&yo(i.mutation,r,yn.empty(),ee.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ct()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ct()){const r=Ar();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Ya();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Ar();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ct()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=fi();const a=po(),l=function(){return po()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Gr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),yo(d.mutation,h,d.mutation.getFieldMask(),ee.now())):a.set(h.key,yn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new wN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=po();let r=new Bt((a,l)=>a-l),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||yn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ct()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=x1();d.forEach(m=>{if(!s.has(m)){const v=L1(n.get(m),i.get(m));v!==null&&g.set(m,v),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Y.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):R1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(Ar());let l=Vo,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ct())).next(d=>({batchId:l,changes:N1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Y(n)).next(i=>{let r=Ya();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Ya();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new ul(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Se.newInvalidDocument(d)))});let l=Ya();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&yo(d.mutation,h,yn.empty(),ee.now()),Yc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Vn(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:pN(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.overlays=new Bt(Y.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ar();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=Ar(),s=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Bt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Ar(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new YD(n,i));let s=this.Qr.get(n);s===void 0&&(s=ct(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.$r=new ne(oe.Ur),this.Kr=new ne(oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new oe(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new oe(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Y(new Mt([])),i=new oe(n,t),r=new oe(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Y(new Mt([])),i=new oe(n,t),r=new oe(n,t+1);let s=ct();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new oe(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class oe{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Y.comparator(t.key,n.key)||st(t.Zr,n.Zr)}static Wr(t,n){return st(t.Zr,n.Zr)||Y.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ne(oe.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new oe(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Gm:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new oe(n,0),r=new oe(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ne(st);return n.forEach(r=>{const s=new oe(r,0),a=new oe(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Y.isDocumentKey(s)||(s=s.child(""));const a=new oe(new Y(s),0);let l=new ne(st);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){At(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new oe(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new oe(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.ii=t,this.docs=function(){return new Bt(Y.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=fi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Se.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=fi();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||oD(aD(d),i)<=0||(r.has(d.key)||Yc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){X(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new ON(this)}getSize(t){return k.resolve(this.size)}}class ON extends SN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.persistence=t,this.oi=new Fr(n=>Km(n),Xm),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this._i=0,this.ai=new eg,this.targetCount=0,this.ui=ta.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ta(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n){this.ci={},this.overlays={},this.li=new qc(0),this.hi=!1,this.hi=!0,this.Pi=new DN,this.referenceDelegate=t(this),this.Ti=new MN(this),this.indexManager=new yN,this.remoteDocumentCache=function(r){return new xN(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new gN(n),this.Ei=new IN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new NN(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new VN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class VN extends uD{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.Vi=new eg,this.mi=null}static fi(t){return new ng(t)}get gi(){if(this.mi)return this.mi;throw X(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=Y.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,nt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class yc{constructor(t,n){this.persistence=t,this.yi=new Fr(i=>fD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=bN(this,n)}static fi(t,n){return new yc(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,nt.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tu(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ct(),r=ct();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ig(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return C2()?8:cD(Ie())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new kN;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(us()<=ut.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(us()<=ut.DEBUG&&H("QueryEngine","Query:",cs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(us()<=ut.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,On(n))):k.resolve())}ws(t,n){if(D_(n))return k.resolve(null);let i=On(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ed(n,null,"F"),i=On(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ct(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,Ed(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return D_(n)||r.isEqual(nt.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(us()<=ut.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cs(n)),this.Fs(t,a,n,sD(r,Vo)).next(l=>l))})}vs(t,n){let i=new ne(C1(t));return n.forEach((r,s)=>{Yc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return us()<=ut.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",cs(n)),this.ys.getDocumentsMatchingQuery(t,n,er.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",LN=3e8;class UN{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Bt(st),this.Os=new Fr(s=>Km(s),Xm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function jN(e,t,n,i){return new UN(e,t,n,i)}async function Z1(e,t){const n=it(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ct();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function zN(e,t){const n=it(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let v=k.resolve();return m.forEach(x=>{v=v.next(()=>d.getEntry(u,x)).next(M=>{const V=h.docVersions.get(x);At(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ct();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function W1(e){const t=it(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function BN(e,t){const n=it(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(ve.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(g,v),function(M,V,w){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=LN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&l.push(n.Ti.updateTargetData(s,v))});let u=fi(),h=ct();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(qN(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(nt.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function qN(e,t,n){let i=ct(),r=ct();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=fi();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(nt.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(rg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function HN(e,t){const n=it(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function FN(e,t){const n=it(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Li(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function Rd(e,t,n){const i=it(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!pa(a))throw a;H(rg,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function q_(e,t,n){const i=it(e);let r=nt.min(),s=ct();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=it(u),m=g.Os.get(d);return m!==void 0?k.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,On(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:nt.min(),n?s:ct())).next(l=>(GN(i,xD(t),l),{documents:l,$s:s})))}function GN(e,t,n){let i=e.Ns.get(t)||nt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class H_{constructor(){this.activeTargetIds=LD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QN{constructor(){this.xo=new H_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new H_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class G_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(F_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(F_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function Id(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===cc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Id(),l=this.jo(t,n.toUriEncodedString());H(af,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=ha(h);return this.Jo(t,l,u,i,d).then(g=>(H(af,`Received RPC '${t}' ${a}: `,g),g),g=>{throw $s(af,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=KN[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae="WebChannelConnection";class ZN extends XN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Id();return new Promise((l,u)=>{const h=new e1;h.setWithCredentials(!0),h.listenOnce(n1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case vu.NO_ERROR:const g=h.getResponseJson();H(Ae,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case vu.TIMEOUT:H(Ae,`RPC '${t}' ${a} timed out`),u(new F(L.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:const m=h.getStatus();if(H(Ae,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const M=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(T)>=0?T:L.UNKNOWN}(x.status);u(new F(M,x.message))}else u(new F(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(L.UNAVAILABLE,"Connection failed."));break;default:X(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(Ae,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(Ae,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Id(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=s1(),l=r1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(Ae,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,v=!1;const x=new $N({Zo:V=>{v?H(Ae,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(Ae,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(Ae,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,w,T)=>{V.listen(w,S=>{try{T(S)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,Qa.EventType.OPEN,()=>{v||(H(Ae,`RPC '${t}' stream ${r} transport opened.`),x.__())}),M(g,Qa.EventType.CLOSE,()=>{v||(v=!0,H(Ae,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(g))}),M(g,Qa.EventType.ERROR,V=>{v||(v=!0,$s(Ae,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),x.u_(new F(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,Qa.EventType.MESSAGE,V=>{var w;if(!v){const T=V.data[0];At(!!T,16349);const S=T,N=(S==null?void 0:S.error)||((w=S[0])===null||w===void 0?void 0:w.error);if(N){H(Ae,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let z=function(A){const b=Xt[A];if(b!==void 0)return j1(b)}(U),E=N.message;z===void 0&&(z=L.INTERNAL,E="Unknown error status: "+U+" with message "+N.message),v=!0,x.u_(new F(z,E)),g.close()}else H(Ae,`RPC '${t}' stream ${r} received:`,T),x.c_(T)}}),M(l,i1.STAT_EVENT,V=>{V.stat===md.PROXY?H(Ae,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===md.NOPROXY&&H(Ae,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e){return new eN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class tA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new J1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new F(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(Q_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WN extends tA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=rN(this.serializer,t),i=function(s){if(!("targetChange"in s))return nt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?Vn(a.readTime):nt.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=wd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=vd(u)?{documents:oN(s,u)}:{query:lN(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=q1(s,a.resumeToken);const h=Ad(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(nt.min())>0){l.readTime=pc(s,a.snapshotVersion.toTimestamp());const h=Ad(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=cN(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=wd(this.serializer),n.removeTarget=t,this.Q_(n)}}class JN extends tA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return At(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,At(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){At(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=aN(t.writeResults,t.commitTime),i=Vn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=wd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>sN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{}class e4 extends t4{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,bd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,bd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class n4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hi(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class i4{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Qr(this)&&(H(Ur,"Restarting streams for network reachability change."),await async function(u){const h=it(u);h.da.add(4),await fl(h),h.Va.set("Unknown"),h.da.delete(4),await Wc(h)}(this))})}),this.Va=new n4(i,r)}}async function Wc(e){if(Qr(e))for(const t of e.Aa)await t(!0)}async function fl(e){for(const t of e.Aa)await t(!1)}function eA(e,t){const n=it(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),lg(n)?og(n):ya(n).N_()&&ag(n,t))}function sg(e,t){const n=it(e),i=ya(n);n.Ea.delete(t),i.N_()&&nA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Qr(n)&&n.Va.set("Unknown"))}function ag(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ya(e).Z_(t)}function nA(e,t){e.ma.Ke(t),ya(e).X_(t)}function og(e){e.ma=new ZD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ya(e).start(),e.Va.ca()}function lg(e){return Qr(e)&&!ya(e).O_()&&e.Ea.size>0}function Qr(e){return it(e).da.size===0}function iA(e){e.ma=void 0}async function r4(e){e.Va.set("Online")}async function s4(e){e.Ea.forEach((t,n)=>{ag(e,t)})}async function a4(e,t){iA(e),lg(e)?(e.Va.Pa(t),og(e)):e.Va.set("Unknown")}async function o4(e,t,n){if(e.Va.set("Online"),t instanceof B1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(Ur,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _c(e,i)}else if(t instanceof bu?e.ma.Xe(t):t instanceof z1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(nt.min()))try{const i=await W1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(ve.EMPTY_BYTE_STRING,d.snapshotVersion)),nA(s,u);const g=new Li(d.target,u,h,d.sequenceNumber);ag(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(Ur,"Failed to raise snapshot:",i),await _c(e,i)}}async function _c(e,t,n){if(!pa(t))throw t;e.da.add(1),await fl(e),e.Va.set("Offline"),n||(n=()=>W1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(Ur,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Wc(e)})}function rA(e,t){return t().catch(n=>_c(e,n,t))}async function Jc(e){const t=it(e),n=sr(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Gm;for(;l4(t);)try{const r=await HN(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,u4(t,r)}catch(r){await _c(t,r)}sA(t)&&aA(t)}function l4(e){return Qr(e)&&e.Ia.length<10}function u4(e,t){e.Ia.push(t);const n=sr(e);n.N_()&&n.ea&&n.ta(t.mutations)}function sA(e){return Qr(e)&&!sr(e).O_()&&e.Ia.length>0}function aA(e){sr(e).start()}async function c4(e){sr(e).ia()}async function h4(e){const t=sr(e);for(const n of e.Ia)t.ta(n.mutations)}async function f4(e,t,n){const i=e.Ia.shift(),r=Wm.from(i,t,n);await rA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Jc(e)}async function d4(e,t){t&&sr(e).ea&&await async function(i,r){if(function(a){return XD(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();sr(i).L_(),await rA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Jc(i)}}(e,t),sA(e)&&aA(e)}async function Y_(e,t){const n=it(e);n.asyncQueue.verifyOperationInProgress(),H(Ur,"RemoteStore received new credentials");const i=Qr(n);n.da.add(3),await fl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Wc(n)}async function m4(e,t){const n=it(e);t?(n.da.delete(2),await Wc(n)):t||(n.da.add(2),await fl(n),n.Va.set("Unknown"))}function ya(e){return e.fa||(e.fa=function(n,i,r){const s=it(n);return s.oa(),new WN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:r4.bind(null,e),n_:s4.bind(null,e),i_:a4.bind(null,e),Y_:o4.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),lg(e)?og(e):e.Va.set("Unknown")):(await e.fa.stop(),iA(e))})),e.fa}function sr(e){return e.ga||(e.ga=function(n,i,r){const s=it(n);return s.oa(),new JN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:c4.bind(null,e),i_:d4.bind(null,e),na:h4.bind(null,e),ra:f4.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Jc(e)):(await e.ga.stop(),e.Ia.length>0&&(H(Ur,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new ug(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(e,t){if(hi("AsyncQueue",`${t}: ${e}`),pa(e))return new F(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(t){return new Ls(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=Ya(),this.sortedSet=new Bt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ls)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ls;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.pa=new Bt(Y.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):X(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class ea{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ea(t,n,Ls.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class p4{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=it(n),s=r.queries;r.queries=X_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(L.ABORTED,"Firestore shutting down"))}}function X_(){return new Fr(e=>I1(e),Qc)}async function oA(e,t){const n=it(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new g4,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=cg(a,`Initialization of query '${cs(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&hg(n)}async function lA(e,t){const n=it(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function y4(e,t){const n=it(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&hg(n)}function _4(e,t,n){const i=it(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function hg(e){e.Ca.forEach(t=>{t.next()})}var Cd,$_;($_=Cd||(Cd={})).xa="default",$_.Cache="cache";class uA{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ea(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ea.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.key=t}}class hA{constructor(t){this.key=t}}class v4{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ct(),this.mutatedKeys=ct(),this.Za=C1(t),this.Xa=new Ls(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new K_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),v=Yc(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let V=!1;m&&v?m.data.isEqual(v.data)?x!==M&&(i.track({type:3,doc:v}),V=!0):this.ru(m,v)||(i.track({type:2,doc:v}),V=!0,(u&&this.Za(v,u)>0||h&&this.Za(v,h)<0)&&(l=!0)):!m&&v?(i.track({type:0,doc:v}),V=!0):m&&!v&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(v?(a=a.add(v),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(v,x){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:V})}};return M(v)-M(x)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new ea(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ct(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new hA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new cA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ct();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ea.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const fg="SyncEngine";class T4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class E4{constructor(t){this.key=t,this.cu=!1}}class A4{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Fr(l=>I1(l),Qc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(Y.comparator),this.Eu=new Map,this.du=new eg,this.Au={},this.Ru=new Map,this.Vu=ta.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function b4(e,t,n=!0){const i=yA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await fA(i,t,n,!0),r}async function S4(e,t){const n=yA(e);await fA(n,t,!0,!1)}async function fA(e,t,n,i){const r=await FN(e.localStore,On(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await w4(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&eA(e.remoteStore,r),l}async function w4(e,t,n,i,r){e.fu=(g,m,v)=>async function(M,V,w,T){let S=V.view.tu(w);S.Cs&&(S=await q_(M.localStore,V.query,!1).then(({documents:E})=>V.view.tu(E,S)));const N=T&&T.targetChanges.get(V.targetId),U=T&&T.targetMismatches.get(V.targetId)!=null,z=V.view.applyChanges(S,M.isPrimaryClient,N,U);return W_(M,V.targetId,z.ou),z.snapshot}(e,g,m,v);const s=await q_(e.localStore,t,!0),a=new v4(t,s.$s),l=a.tu(s.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);W_(e,n,h.ou);const d=new T4(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function R4(e,t,n){const i=it(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Qc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Rd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&sg(i.remoteStore,r.targetId),Dd(i,r.targetId)}).catch(ga)):(Dd(i,r.targetId),await Rd(i.localStore,r.targetId,!0))}async function I4(e,t){const n=it(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sg(n.remoteStore,i.targetId))}async function C4(e,t,n){const i=k4(e);try{const r=await function(a,l){const u=it(a),h=ee.now(),d=l.reduce((v,x)=>v.add(x.key),ct());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=fi(),M=ct();return u.Bs.getEntries(v,d).next(V=>{x=V,x.forEach((w,T)=>{T.isValidDocument()||(M=M.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,x)).next(V=>{g=V;const w=[];for(const T of l){const S=FD(T,g.get(T.key).overlayedDocument);S!=null&&w.push(new Gr(T.key,S,v1(S.value.mapValue),Mn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,w,l)}).next(V=>{m=V;const w=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(v,V.batchId,w)})}).then(()=>({batchId:m.batchId,changes:N1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Bt(st)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await dl(i,r.changes),await Jc(i.remoteStore)}catch(r){const s=cg(r,"Failed to persist write");n.reject(s)}}async function dA(e,t){const n=it(e);try{const i=await BN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?At(a.cu,14607):r.removedDocuments.size>0&&(At(a.cu,42227),a.cu=!1))}),await dl(n,i,t)}catch(i){await ga(i)}}function Z_(e,t,n){const i=it(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=it(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&hg(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function D4(e,t,n){const i=it(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Bt(Y.comparator);a=a.insert(s,Se.newNoDocument(s,nt.min()));const l=ct().add(s),u=new $c(nt.min(),new Map,new Bt(st),a,l);await dA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),dg(i)}else await Rd(i.localStore,t,!1).then(()=>Dd(i,t,n)).catch(ga)}async function N4(e,t){const n=it(e),i=t.batch.batchId;try{const r=await zN(n.localStore,t);gA(n,i,null),mA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dl(n,r)}catch(r){await ga(r)}}async function x4(e,t,n){const i=it(e);try{const r=await function(a,l){const u=it(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(At(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);gA(i,t,n),mA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await dl(i,r)}catch(r){await ga(r)}}function mA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function gA(e,t,n){const i=it(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Dd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||pA(e,i)})}function pA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(sg(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),dg(e))}function W_(e,t,n){for(const i of n)i instanceof cA?(e.du.addReference(i.key,t),O4(e,i)):i instanceof hA?(H(fg,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||pA(e,i.key)):X(19791,{pu:i})}function O4(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(fg,"New document in limbo: "+n),e.Tu.add(i),dg(e))}function dg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Y(Mt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new E4(n)),e.Iu=e.Iu.insert(n,i),eA(e.remoteStore,new Li(On(Gc(n.path)),i,"TargetPurposeLimboResolution",qc.le))}}async function dl(e,t,n){const i=it(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=ig.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=it(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.ds,v=>d.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>k.forEach(m.As,v=>d.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!pa(g))throw g;H(rg,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const v=d.xs.get(m),x=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function M4(e,t){const n=it(e);if(!n.currentUser.isEqual(t)){H(fg,"User change. New user:",t.toKey());const i=await Z1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await dl(n,i.ks)}}function V4(e,t){const n=it(e),i=n.Eu.get(t);if(i&&i.cu)return ct().add(i.key);{let r=ct();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function yA(e){const t=it(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=D4.bind(null,t),t.lu.Y_=y4.bind(null,t.eventManager),t.lu.gu=_4.bind(null,t.eventManager),t}function k4(e){const t=it(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=N4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,t),t}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return jN(this.persistence,new PN,t.initialUser,this.serializer)}Su(t){return new $1(ng.fi,this.serializer)}bu(t){return new QN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class P4 extends vc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){At(this.persistence.referenceDelegate instanceof yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new EN(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?je.withCacheSize(this.cacheSizeBytes):je.DEFAULT;return new $1(i=>yc.fi(i,n),this.serializer)}}class Nd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new p4}()}createDatastore(t){const n=Zc(t.databaseInfo.databaseId),i=function(s){return new ZN(s)}(t.databaseInfo);return function(s,a,l,u){return new e4(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new i4(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Z_(this.syncEngine,n,0),function(){return G_.C()?new G_:new YN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new A4(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=it(r);H(Ur,"RemoteStore shutting down."),s.da.add(5),await fl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):hi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class L4{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=be.UNAUTHENTICATED,this.clientId=u1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(ar,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(ar,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=cg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function lf(e,t){e.asyncQueue.verifyOperationInProgress(),H(ar,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Z1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function J_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await U4(e);H(ar,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Y_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>Y_(t.remoteStore,r)),e._onlineComponents=t}async function U4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(ar,"Using user provided OfflineComponentProvider");try{await lf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await lf(e,new vc)}}else H(ar,"Using default OfflineComponentProvider"),await lf(e,new P4(void 0));return e._offlineComponents}async function vA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(ar,"Using user provided OnlineComponentProvider"),await J_(e,e._uninitializedComponentsProvider._online)):(H(ar,"Using default OnlineComponentProvider"),await J_(e,new Nd))),e._onlineComponents}function j4(e){return vA(e).then(t=>t.syncEngine)}async function xd(e){const t=await vA(e),n=t.eventManager;return n.onListen=b4.bind(null,t.syncEngine),n.onUnlisten=R4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=S4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=I4.bind(null,t.syncEngine),n}function z4(e,t,n={}){const i=new $i;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new _A({next:m=>{d.xu(),a.enqueueAndForget(()=>lA(s,g));const v=m.docs.has(l);!v&&m.fromCache?h.reject(new F(L.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?h.reject(new F(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new uA(Gc(l.path),d,{includeMetadataChanges:!0,Qa:!0});return oA(s,g)}(await xd(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e,t,n){if(!n)throw new F(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function B4(e,t,n,i){if(t===!0&&i===!0)throw new F(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ev(e){if(!Y.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nv(e){if(Y.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function th(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":X(12329,{type:typeof e})}function ni(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=th(e);throw new F(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",iv=!0;class rv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=iv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vN)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}B4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $C;switch(i.type){case"firstParty":return new tD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=tv.get(n);i&&(H("ComponentProvider","Removing Datastore"),tv.delete(n),i.terminate())}(this),Promise.resolve()}}function q4(e,t,n,i={}){var r;e=ni(e,eh);const s=ha(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(gE(`https://${u}`),pE("Firestore",!0)),a.host!==AA&&a.host!==u&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Vr(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=be.MOCK_USER;else{d=v2(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new be(m)}e._authCredentials=new ZC(new o1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _a(this.firestore,t,this._query)}}class Oe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}}class Zi extends _a{constructor(t,n,i){super(t,n,Gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new Y(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function uf(e,t,...n){if(e=Be(e),EA("collection","path",t),e instanceof eh){const i=Mt.fromString(t,...n);return nv(i),new Zi(e,null,i)}{if(!(e instanceof Oe||e instanceof Zi))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return nv(i),new Zi(e.firestore,null,i)}}function yr(e,t,...n){if(e=Be(e),arguments.length===1&&(t=u1.newId()),EA("doc","path",t),e instanceof eh){const i=Mt.fromString(t,...n);return ev(i),new Oe(e,null,new Y(i))}{if(!(e instanceof Oe||e instanceof Zi))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return ev(i),new Oe(e.firestore,e instanceof Zi?e.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class av{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new J1(this,"async_queue_retry"),this.rc=()=>{const i=of();i&&H(sv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new $i;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!pa(t))throw t;H(sv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,hi("INTERNAL UNHANDLED ERROR: ",ov(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=ug.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&X(47125,{cc:ov(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function ov(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class na extends eh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new av,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new av(t),this._firestoreClient=void 0,await t}}}function H4(e,t){const n=typeof e=="object"?e:TE(),i=typeof e=="string"?e:cc,r=Vm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=y2("firestore");s&&q4(r,...s)}return r}function mg(e){if(e._terminated)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||F4(e),e._firestoreClient}function F4(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new gD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new L4(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ia(ve.fromBase64String(t))}catch(n){throw new F(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ia(ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=/^__.*__$/;class Q4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms):new cl(t,this.data,n,this.fieldTransforms)}}function SA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ic:e})}}class _g{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new _g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Tc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(SA(this.Ic)&&G4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class Y4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Zc(t)}bc(t,n,i,r=!1){return new _g({Ic:t,methodName:n,wc:i,path:ye.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(e){const t=e._freezeSettings(),n=Zc(e._databaseId);return new Y4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function K4(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);CA("Data must be an object, but it was:",a,i);const l=RA(i,a);let u,h;if(s.merge)u=new yn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=$4(t,g,n);if(!a.contains(m))throw new F(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);W4(d,m)||d.push(m)}u=new yn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new Q4(new un(l),u,h)}function X4(e,t,n,i=!1){return vg(n,e.bc(i?4:3,t))}function vg(e,t){if(IA(e=Be(e)))return CA("Unsupported field value:",t,e),RA(e,t);if(e instanceof bA)return function(i,r){if(!SA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=vg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Be(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ee.fromDate(i);return{timestampValue:pc(r.serializer,s)}}if(i instanceof ee){const s=new ee(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pc(r.serializer,s)}}if(i instanceof pg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ia)return{bytesValue:q1(r.serializer,i._byteString)};if(i instanceof Oe){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof yg)return function(a,l){return{mapValue:{fields:{[y1]:{stringValue:_1},[hc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return $m(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${th(i)}`)}(e,t)}function RA(e,t){const n={};return h1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(e,(i,r)=>{const s=vg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function IA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ee||e instanceof pg||e instanceof ia||e instanceof Oe||e instanceof bA||e instanceof yg)}function CA(e,t,n){if(!IA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=th(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function $4(e,t,n){if((t=Be(t))instanceof gg)return t._internalPath;if(typeof t=="string")return DA(e,t);throw Tc("Field path arguments must be of type string or ",e,!1,void 0,n)}const Z4=new RegExp("[~\\*/\\[\\]]");function DA(e,t,n){if(t.search(Z4)>=0)throw Tc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gg(...t.split("."))._internalPath}catch{throw Tc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(L.INVALID_ARGUMENT,l+e+u)}function W4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J4 extends NA{data(){return super.data()}}function xA(e,t){return typeof t=="string"?DA(e,t):t instanceof gg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class ex extends Tg{}function nx(e,t,...n){let i=[];t instanceof Tg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof Ag).length,l=s.filter(u=>u instanceof Eg).length;if(a>1||a>0&&l>0)throw new F(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Eg extends ex{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Eg(t,n,i)}_apply(t){const n=this._parse(t);return OA(t._query,n),new _a(t.firestore,t.converter,Td(t._query,n))}_parse(t){const n=wA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cv(g,d);const x=[];for(const M of g)x.push(uv(u,s,M));m={arrayValue:{values:x}}}else m=uv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cv(g,d),m=X4(l,a,g,d==="in"||d==="not-in");return Zt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends Tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ag(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)OA(a,u),a=Td(a,u)}(t._query,n),new _a(t.firestore,t.converter,Td(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uv(e,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new F(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R1(t)&&n.indexOf("/")!==-1)throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Mt.fromString(n));if(!Y.isDocumentKey(i))throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return b_(e,new Y(i))}if(n instanceof Oe)return b_(e,n._key);throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(n)}.`)}function cv(e,t){if(!Array.isArray(e)||e.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ix{convertValue(t,n="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw X(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Hr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[hc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Yt(a.doubleValue));return new yg(s)}convertGeoPoint(t){return new pg(Yt(t.latitude),Yt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Fc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const n=nr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Mt.fromString(t);At(K1(i),9688,{name:t});const r=new Po(i.get(1),i.get(3)),s=new Y(i.popFirst(5));return r.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class MA extends NA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(xA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Su extends MA{data(t={}){return super.data(t)}}class sx{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Xa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Su(this._firestore,this._userDataWriter,i.key,i,new Xa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:ax(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ax(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e){e=ni(e,Oe);const t=ni(e.firestore,na);return z4(mg(t),e._key).then(n=>PA(t,e,n))}class VA extends ix{constructor(t){super(),this.firestore=t}convertBytes(t){return new ia(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function cf(e,t,n){e=ni(e,Oe);const i=ni(e.firestore,na),r=rx(e.converter,t);return kA(i,[K4(wA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Mn.none())])}function lx(e){return kA(ni(e.firestore,na),[new Zm(e._key,Mn.none())])}function ux(e,...t){var n,i,r;e=Be(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||lv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(lv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Oe)h=ni(e.firestore,na),d=Gc(e._key.path),u={next:g=>{t[a]&&t[a](PA(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=ni(e,_a);h=ni(g.firestore,na),d=g._query;const m=new VA(h);u={next:v=>{t[a]&&t[a](new sx(h,m,g,v))},error:t[a+1],complete:t[a+2]},tx(e._query)}return function(m,v,x,M){const V=new _A(M),w=new uA(v,V,x);return m.asyncQueue.enqueueAndForget(async()=>oA(await xd(m),w)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>lA(await xd(m),w))}}(mg(h),d,l,u)}function kA(e,t){return function(i,r){const s=new $i;return i.asyncQueue.enqueueAndForget(async()=>C4(await j4(i),r,s)),s.promise}(mg(e),t)}function PA(e,t,n){const i=n.docs.get(t._key),r=new VA(e);return new MA(e,r,t._key,i,new Xa(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){ma=r})(fa),Xs(new kr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new na(new WC(i.getProvider("auth-internal")),new eD(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ki(h_,f_,t),Ki(h_,f_,"esm2017")})();const cx="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",hx="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",fx="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",dx="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",mx="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",gx="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",px="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",yx="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",_x="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",vx="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",Tx="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",Ex="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",Ax="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",bx="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",Sx="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",wx="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",Rx="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",Ix="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",Gn="https://art.pixilart.com/sr2a947c8f967b8.png",et={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},LA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},UA={normal:cx,fire:hx,water:fx,electric:dx,grass:mx,ice:gx,fighting:px,poison:yx,ground:_x,flying:vx,psychic:Tx,bug:Ex,rock:Ax,ghost:bx,dragon:Sx,dark:wx,steel:Rx,fairy:Ix},eu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},Cx=()=>R.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),Dx=()=>R.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),jA=({className:e="w-6 h-6",isFavorite:t})=>R.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":et.textMuted},children:[" ",R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),zA=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",R.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),Nx=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),xx=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",R.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),Ox=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),BA=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),qA=()=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Mx=()=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),R.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),R.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),R.jsx("path",{d:"M3 12h6"}),R.jsx("path",{d:"M15 12h6"})]}),Vx=()=>R.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),kx=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),Px=()=>R.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),Lx=()=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),Od=({type:e})=>R.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:LA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),Ux={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Ei="pokemonTeamBuilder",jx=(e,t)=>{const[n,i]=K.useState(e);return K.useEffect(()=>{const r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),n},zx=Ev.memo(({pokemon:e,onAdd:t,onShowDetails:n,details:i,lastRef:r})=>{const s=l=>{l.stopPropagation(),t(i)},a=l=>{l.stopPropagation(),n(i)};return i?R.jsxs("div",{ref:r,onClick:s,className:"rounded-lg p-3 text-center group relative cursor-pointer",style:{backgroundColor:et.cardLight},children:[R.jsx("img",{src:i.sprite||Gn,onError:l=>{l.currentTarget.src=Gn},alt:i.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),R.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:i.name}),R.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:i.types.map(l=>R.jsx("img",{src:UA[l],alt:l,className:"w-5 h-5"},l))}),R.jsx("button",{onClick:a,className:`
            absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
            opacity-100     
            lg:opacity-0    
            lg:group-hover:opacity-100 
            lg:transition-opacity
            `,children:R.jsx(qA,{})})]}):R.jsxs("div",{ref:r,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:et.cardLight},children:[R.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),R.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),R.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:R.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),Bx=({stat:e,value:t})=>{const n={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},i=t/255*100;return R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",children:e.replace("-"," ")}),R.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-4",children:R.jsx("div",{className:`${n[e]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${i}%`},children:t})})]})},qx=({pokemon:e,onClose:t,onAdd:n})=>{var i,r;return e?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:R.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",onClick:s=>s.stopPropagation(),children:[R.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:R.jsx(BA,{})}),R.jsxs("div",{className:"text-center",children:[R.jsx("img",{src:e.animatedSprite||e.sprite,alt:e.name,className:"mx-auto h-32 w-32 image-pixelated"}),R.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",children:[e.name," ",R.jsxs("span",{className:"text-gray-400",children:["#",e.id]})]}),R.jsx("div",{className:"flex justify-center gap-2 mt-2",children:e.types.map(s=>R.jsx(Od,{type:s},s))})]}),R.jsxs("div",{className:"mt-6",children:[R.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Base Stats"}),R.jsx("div",{className:"space-y-2",children:(i=e.stats)==null?void 0:i.map(s=>R.jsx(Bx,{stat:s.stat.name,value:s.base_stat},s.stat.name))})]}),R.jsxs("div",{className:"mt-6",children:[R.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),R.jsx("div",{className:"text-center space-x-2",children:(r=e.abilities)==null?void 0:r.map(s=>R.jsx("span",{className:"capitalize inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:s.ability.name.replace("-"," ")},s.ability.name))})]}),R.jsx("div",{className:"mt-8 flex justify-center",children:R.jsxs("button",{onClick:()=>{n(e),t()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[R.jsx(xx,{})," Add to Team"]})})]})}):null},Hx=({currentTeam:e,teamName:t,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,favoriteTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,teamAnalysis:m,searchInput:v,setSearchInput:x,selectedGeneration:M,setSelectedGeneration:V,generations:w,isInitialLoading:T,isFiltering:S,availablePokemons:N,pokemonDetailsCache:U,handleAddPokemonToTeam:z,lastPokemonElementRef:E,isFetchingMore:y,visibleCount:A,selectedTypes:b,handleTypeSelection:I,showDetails:C})=>R.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[R.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:et.primary},children:"Current Team"}),R.jsx("input",{type:"text",value:t,onChange:_=>n(_.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[e.map(_=>R.jsxs("div",{className:"text-center relative group cursor-pointer",children:[R.jsx("img",{src:_.animatedSprite||_.sprite||Gn,onError:_t=>{_t.currentTarget.src=_.sprite||Gn},alt:_.name,className:"mx-auto h-20 w-20"}),R.jsx("p",{className:"text-xs capitalize truncate",children:_.name}),R.jsx("button",{onClick:_t=>{_t.stopPropagation(),C(_)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-5 w-5 flex items-center justify-center transition-opacity text-sm",children:R.jsx(qA,{})}),R.jsx("button",{onClick:_t=>{_t.stopPropagation(),i(_.id)},className:`
                            absolute top-1 right-1 bg-red-600 text-white rounded-full h-5 w-5 flex items-center justify-center text-sm
                            opacity-100 visible
                            lg:opacity-0 lg:invisible
                            lg:group-hover:opacity-100 lg:group-hover:visible
                            transition-opacity duration-200
                        `,children:"X"})]},_.id)),Array.from({length:6-e.length}).map((_,_t)=>R.jsx("div",{className:"flex items-center justify-center",children:R.jsx("img",{src:Gn,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},_t))]}),R.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[R.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:et.primary,color:et.background},children:[" ",R.jsx(Nx,{})," ",s?"Update":"Save"," "]}),R.jsx("button",{onClick:g,className:"p-2 rounded-lg bg-green-600 hover:bg-green-700 text-white",title:"Share Team",children:R.jsx(Lx,{})}),R.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Clear Team",children:R.jsx(zA,{})})]})]}),R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Favorite Teams"}),R.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),R.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:l.length>0?l.map(_=>R.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:et.cardLight},children:[R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"font-bold text-lg truncate",children:_.name}),R.jsx("div",{className:"flex mt-1",children:_.pokemons.map(_t=>R.jsx("img",{src:_t.sprite||Gn,onError:Ce=>{Ce.currentTarget.src=Gn},alt:_t.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:et.cardLight,backgroundColor:et.card}},_t.id))})]}),R.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[R.jsx("button",{onClick:()=>h(_),title:"Favorite",children:R.jsx(jA,{isFavorite:_.isFavorite})}),R.jsx("button",{onClick:()=>d(_),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},_.id)):R.jsx("p",{className:"text-center py-4",style:{color:et.textMuted},children:"No favorite teams yet."})})]})]}),R.jsx("div",{className:"lg:col-span-6",children:R.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:et.card},children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokmon!"}),R.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[R.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:v,onChange:_=>x(_.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsxs("select",{value:M,onChange:_=>V(_.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:et.cardLight,borderColor:"transparent"},children:[R.jsx("option",{value:"all",children:"All Generations"}),w.map(_=>R.jsx("option",{value:_.name,className:"capitalize",children:_.name.replace("-"," ")},_.name))]})]})]}),R.jsx("div",{className:"relative flex-grow h-[60vh]",children:T?R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:et.primary}})}):R.jsxs(R.Fragment,{children:[S&&R.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:et.primary}})}),R.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[R.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:N.slice(0,A).map((_,_t)=>R.jsx(zx,{pokemon:_,details:U[_.id],onAdd:z,onShowDetails:C,lastRef:_t===A-1?E:null},_.id))}),y&&R.jsx("div",{className:"flex justify-center py-4",children:R.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:et.primary}})}),N.length===0&&!S&&R.jsx("p",{className:"text-center py-8",style:{color:et.textMuted},children:"No Pokmon found with these filters. :("})]})]})})]})}),R.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),R.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-5 gap-1.5",children:Object.keys(LA).map(_=>R.jsx("button",{onClick:()=>I(_),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${b.has(_)?"ring-2 ring-white":""}`,title:_,children:R.jsx("img",{src:UA[_],alt:_,className:"w-full h-full object-contain"})},_))})]}),e.length>0&&R.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),R.jsx("div",{className:"flex flex-wrap gap-1",children:m.strengths.size>0?Array.from(m.strengths).sort().map(_=>R.jsx(Od,{type:_},_)):R.jsx("p",{className:"text-sm",style:{color:et.textMuted},children:"No type advantages found."})})]}),R.jsxs("div",{className:"mt-4",children:[R.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),R.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(m.weaknesses).length>0?Object.entries(m.weaknesses).sort(([,_],[,_t])=>_t-_).map(([_,_t])=>R.jsxs("div",{className:"flex items-center",children:[R.jsx(Od,{type:_}),R.jsxs("span",{className:"text-xs text-red-300",children:["(",_t,"x)"]})]},_)):R.jsx("p",{className:"text-sm",style:{color:et.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),Fx=({teams:e,onEdit:t,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s})=>R.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:et.card},children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),R.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:a=>s(a.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:et.cardLight,borderColor:"transparent"}}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0?e.map(a=>R.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:et.cardLight},children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("p",{className:"font-bold text-xl truncate mb-2",children:a.name}),R.jsx("button",{onClick:()=>i(a),title:"Favorite",children:R.jsx(jA,{isFavorite:a.isFavorite})})]}),R.jsx("div",{className:"flex my-2",children:a.pokemons.map(l=>R.jsx("img",{src:l.sprite||Gn,onError:u=>{u.currentTarget.src=Gn},alt:l.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:et.cardLight,backgroundColor:et.card}},l.id))}),R.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[R.jsx("button",{onClick:()=>t(a),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),R.jsx("button",{onClick:()=>n(a.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:R.jsx(zA,{})})]})]},a.id)):R.jsx("p",{className:"col-span-full text-center py-8",style:{color:et.textMuted},children:"No teams found."})})]});function Gx(){const[e,t]=K.useState(null),[n,i]=K.useState(null),[r,s]=K.useState([]),[a,l]=K.useState([]),[u,h]=K.useState({}),[d,g]=K.useState([]),[m,v]=K.useState("all"),[x,M]=K.useState(new Set),[V,w]=K.useState(""),T=jx(V,300),[S,N]=K.useState([]),[U,z]=K.useState([]),[E,y]=K.useState(""),[A,b]=K.useState(null),[I,C]=K.useState({strengths:new Set,weaknesses:{}}),[_,_t]=K.useState(!0),[Ce,B]=K.useState(!1),[Z,W]=K.useState(!1),[It,kt]=K.useState([]),[En,re]=K.useState("builder"),[Pt,Ve]=K.useState(!1),[Kt,nh]=K.useState(!1),[Un,ih]=K.useState(""),[ur,cr]=K.useState(50),[Yr,Kr]=K.useState(null),ht=K.useCallback((q,G="info")=>{const J=Date.now();kt(Q=>[...Q,{id:J,message:q,type:G}]),setTimeout(()=>kt(Q=>Q.filter(gt=>gt.id!==J)),3e3)},[]),An=K.useMemo(()=>{const q=new Set(S.map(G=>G.id));return a.filter(G=>!q.has(G.id))},[a,S]),va=K.useMemo(()=>U.filter(q=>q.isFavorite).sort((q,G)=>new Date(G.createdAt)-new Date(q.createdAt)).slice(0,5),[U]),ml=K.useMemo(()=>{let q=[...U].sort((G,J)=>J.isFavorite-G.isFavorite||new Date(J.createdAt)-new Date(G.createdAt));return Un&&(q=q.filter(G=>G.name.toLowerCase().includes(Un.toLowerCase()))),q},[U,Un]),gl=K.useCallback(async q=>{if(!n)return;ht("Loading shared team...","info");const G=yr(n,`artifacts/${Ei}/public/data/teams`,q);try{const J=await ox(G);if(J.exists()){const Q=J.data(),gt=Q.pokemons.map(async mt=>{var fe,ke,tn,dn,He,fr;if(u[mt.id])return u[mt.id];const Ct=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${mt.id}`)).json();return{id:Ct.id,name:Ct.name,sprite:(fe=Ct.sprites)==null?void 0:fe.front_default,types:Ct.types.map(Wr=>Wr.type.name),animatedSprite:(fr=(He=(dn=(tn=(ke=Ct.sprites)==null?void 0:ke.versions)==null?void 0:tn["generation-v"])==null?void 0:dn["black-white"])==null?void 0:He.animated)==null?void 0:fr.front_default,stats:Ct.stats,abilities:Ct.abilities}}),pt=await Promise.all(gt);h(mt=>({...mt,...pt.reduce((Et,Ct)=>({...Et,[Ct.id]:Ct}),{})})),N(pt.filter(Boolean)),y(Q.name),b(null),ht(`Loaded team: ${Q.name}`,"success")}else ht("Shared team not found.","error")}catch{ht("Failed to load shared team.","error")}},[n,u,ht]);K.useEffect(()=>{try{const q=vE(Ux),G=KC(q);i(H4(q));const J=LI(G,gt=>{gt&&t(gt.uid)});return(async()=>{if(!G.currentUser)try{const gt=typeof __initial_auth_token<"u"?__initial_auth_token:null;gt?await VI(G,gt):await DI(G)}catch{ht("Authentication failed. Please refresh.","error")}})(),()=>J()}catch{ht("Failed to connect to services.","error")}},[]),K.useEffect(()=>{(async()=>{try{const[G,J]=await Promise.all([fetch("https://pokeapi.co/api/v2/generation"),fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")]),[Q,gt]=await Promise.all([G.json(),J.json()]);g(Q.results);const pt=gt.results.map(mt=>({id:parseInt(mt.url.split("/")[6]),name:mt.name,url:mt.url}));s(pt),l(pt)}catch{ht("Failed to load Pokmon data.","error")}finally{_t(!1)}})()},[]),K.useEffect(()=>{if(!n||_)return;const G=new URLSearchParams(window.location.search).get("team");G&&gl(G)},[n,_,gl]),K.useEffect(()=>{(async()=>{if(_)return;B(!0);let G=[...r];const J={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(m!=="all"&&J[m]){const[Q,gt]=J[m];G=G.filter(pt=>pt.id>=Q&&pt.id<=gt)}if(T&&(G=G.filter(Q=>Q.name.toLowerCase().includes(T.toLowerCase()))),x.size>0)try{const Q=Array.from(x).map(mt=>fetch(`https://pokeapi.co/api/v2/type/${mt.toLowerCase()}`).then(Et=>Et.json()).then(Et=>new Set(Et.pokemon.map(Ct=>Ct.pokemon.name)))),pt=(await Promise.all(Q)).reduce((mt,Et)=>new Set([...mt].filter(Ct=>Et.has(Ct))));G=G.filter(mt=>pt.has(mt.name))}catch{ht("Failed to apply type filter.","error")}l(G),cr(50),B(!1)})()},[m,x,T,r,_]),K.useEffect(()=>{let q=!0;const G=async()=>{const Q=An.slice(0,ur).filter(gt=>!u[gt.id]);if(Q.length!==0){W(!0);try{const gt=await Promise.all(Q.map(mt=>fetch(mt.url).then(Et=>Et.json())));if(!q)return;const pt=gt.reduce((mt,Et)=>{var Ct,fe,ke,tn,dn,He;return mt[Et.id]={id:Et.id,name:Et.name,sprite:(Ct=Et.sprites)==null?void 0:Ct.front_default,animatedSprite:(He=(dn=(tn=(ke=(fe=Et.sprites)==null?void 0:fe.versions)==null?void 0:ke["generation-v"])==null?void 0:tn["black-white"])==null?void 0:dn.animated)==null?void 0:He.front_default,types:Et.types.map(fr=>fr.type.name),stats:Et.stats,abilities:Et.abilities},mt},{});h(mt=>({...mt,...pt}))}catch{}finally{q&&W(!1)}}};return An.length>0&&G(),()=>{q=!1}},[An,ur,u]),K.useEffect(()=>{if(!e||!n)return;const q=nx(uf(n,`artifacts/${Ei}/users/${e}/teams`));return ux(q,J=>{z(J.docs.map(Q=>({id:Q.id,...Q.data()})))},()=>ht("Could not load saved teams.","error"))},[e,n]),K.useEffect(()=>{const q=S.map(Q=>u[Q.id]).filter(Boolean);if(q.length<S.length||q.length===0){C({strengths:new Set,weaknesses:{}});return}const G={},J=new Set;q.flatMap(Q=>Q.types).forEach(Q=>{var gt;Object.entries(((gt=eu[Q])==null?void 0:gt.damageDealt)||{}).forEach(([pt,mt])=>{mt>1&&J.add(pt)})}),Object.keys(eu).forEach(Q=>{if(q.reduce((pt,mt)=>pt*mt.types.reduce((Et,Ct)=>{var fe;return Et*(((fe=eu[Ct])==null?void 0:fe.damageTaken[Q])??1)},1),1)>1){const pt=q.filter(mt=>mt.types.reduce((Et,Ct)=>{var fe;return Et*(((fe=eu[Ct])==null?void 0:fe.damageTaken[Q])??1)},1)>1).length;pt>0&&(G[Q]=pt)}}),C({strengths:J,weaknesses:G})},[S,u]);const Xr=K.useRef(),pl=K.useCallback(q=>{Z||Ce||(Xr.current&&Xr.current.disconnect(),Xr.current=new IntersectionObserver(G=>{G[0].isIntersecting&&An.length>ur&&cr(J=>J+50)}),q&&Xr.current.observe(q))},[Z,Ce,An,ur]),$r=K.useCallback(q=>{if(S.length>=6)return ht("Your team is full (6 Pokmon)!","warning");if(S.find(G=>G.id===q.id))return ht("This Pokmon is already on your team.","warning");N(G=>[...G,q])},[S,ht]),yl=K.useCallback(q=>{N(G=>G.filter(J=>J.id!==q))},[]),hr=K.useCallback(()=>{N([]),y(""),b(null)},[]),Ta=K.useCallback(async()=>{var J;if(!n||!e)return ht("Database connection not ready.","error");if(S.length===0)return ht("Your team is empty!","warning");if(!E.trim())return ht("Please name your team.","warning");const q=A||yr(uf(n,`artifacts/${Ei}/users/${e}/teams`)).id,G={name:E,pokemons:S.map(Q=>({id:Q.id,name:Q.name,sprite:Q.sprite})),isFavorite:((J=U.find(Q=>Q.id===A))==null?void 0:J.isFavorite)||!1,createdAt:new Date().toISOString()};try{await cf(yr(n,`artifacts/${Ei}/users/${e}/teams`,q),G),ht(`Team "${E}" saved!`,"success"),hr()}catch{ht("Error saving team.","error")}},[n,e,S,E,A,U,ht,hr]),Ea=K.useCallback(async()=>{if(!n)return ht("Database not ready.","error");if(S.length===0)return ht("Cannot share an empty team!","warning");const q=yr(uf(n,`artifacts/${Ei}/public/data/teams`)).id,G={name:E||"Unnamed Team",pokemons:S.map(J=>({id:J.id,name:J.name,sprite:J.sprite}))};try{await cf(yr(n,`artifacts/${Ei}/public/data/teams`,q),G);const J=`${window.location.origin}${window.location.pathname}?team=${q}`,Q=document.createElement("textarea");Q.value=J,document.body.appendChild(Q),Q.focus(),Q.select();try{document.execCommand("copy"),ht("Share link copied to clipboard!","success")}catch{ht("Failed to copy link.","error")}document.body.removeChild(Q)}catch{ht("Could not generate share link.","error")}},[n,S,E,ht]),Aa=K.useCallback(async q=>{const G=q.pokemons.map(async Q=>{var mt,Et,Ct,fe,ke,tn;if(u[Q.id])return u[Q.id];const pt=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${Q.id}`)).json();return{id:pt.id,name:pt.name,sprite:(mt=pt.sprites)==null?void 0:mt.front_default,types:pt.types.map(dn=>dn.type.name),animatedSprite:(tn=(ke=(fe=(Ct=(Et=pt.sprites)==null?void 0:Et.versions)==null?void 0:Ct["generation-v"])==null?void 0:fe["black-white"])==null?void 0:ke.animated)==null?void 0:tn.front_default,stats:pt.stats,abilities:pt.abilities}}),J=await Promise.all(G);h(Q=>({...Q,...J.reduce((gt,pt)=>({...gt,[pt.id]:pt}),{})})),N(J.filter(Boolean)),y(q.name),b(q.id),re("builder"),Ve(!1),window.scrollTo({top:0,behavior:"smooth"})},[u]),se=K.useCallback(async q=>{if(!(!n||!e))try{await lx(yr(n,`artifacts/${Ei}/users/${e}/teams`,q)),A===q&&hr(),ht("Team deleted.","info")}catch{ht("Error deleting team.","error")}},[n,e,A,hr,ht]),ae=K.useCallback(async q=>{if(!(!n||!e))try{await cf(yr(n,`artifacts/${Ei}/users/${e}/teams`,q.id),{...q,isFavorite:!q.isFavorite})}catch{ht("Could not update favorite status.","error")}},[n,e,ht]),Zr=K.useCallback(q=>{M(G=>{const J=new Set(G);return J.has(q)?J.delete(q):J.add(q),J})},[]),_l=K.useCallback(q=>{Kr(q)},[]),vl=()=>{switch(En){case"allTeams":return R.jsx(Fx,{teams:ml,onEdit:Aa,onDelete:se,onToggleFavorite:ae,searchTerm:Un,setSearchTerm:ih});default:return R.jsx(Hx,{currentTeam:S,teamName:E,setTeamName:y,handleRemoveFromTeam:yl,handleSaveTeam:Ta,editingTeamId:A,handleClearTeam:hr,favoriteTeams:va,setCurrentPage:re,handleToggleFavorite:ae,handleEditTeam:Aa,handleShareTeam:Ea,teamAnalysis:I,searchInput:V,setSearchInput:w,selectedGeneration:m,setSelectedGeneration:v,generations:d,isInitialLoading:_,isFiltering:Ce,availablePokemons:An,pokemonDetailsCache:u,handleAddPokemonToTeam:$r,lastPokemonElementRef:pl,isFetchingMore:Z,visibleCount:ur,selectedTypes:x,handleTypeSelection:Zr,showDetails:_l})}};return R.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:et.background},children:[R.jsx(qx,{pokemon:Yr,onClose:()=>Kr(null),onAdd:$r}),R.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:It.map(q=>R.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${q.type==="success"?"bg-green-600":q.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:q.message},q.id))}),R.jsxs("div",{className:"flex min-h-screen",children:[R.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Kt?"lg:w-20":"w-64"} ${Pt?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:et.card},children:R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsxs("div",{className:`flex items-center h-16 p-4 ${Kt?"justify-center":"justify-between"}`,children:[R.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${Kt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"Menu"}),R.jsx("button",{onClick:()=>nh(!Kt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:et.textMuted},children:Kt?R.jsx(Px,{}):R.jsx(kx,{})})]}),R.jsx("nav",{className:"px-4 flex-grow",children:R.jsxs("ul",{children:[R.jsx("li",{children:R.jsxs("button",{onClick:()=>{re("builder"),Ve(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${En==="builder"?"bg-purple-500/30":""} ${Kt?"justify-center":""}`,children:[R.jsx(Mx,{})," ",R.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Kt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),R.jsx("li",{children:R.jsxs("button",{onClick:()=>{re("allTeams"),Ve(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${En==="allTeams"?"bg-purple-500/30":""} ${Kt?"justify-center":""}`,children:[R.jsx(Vx,{})," ",R.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Kt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"All Teams"})]})})]})})]})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsxs("header",{className:"relative flex items-center justify-center pt-4 px-4 h-24",children:[R.jsx("button",{onClick:()=>Ve(!Pt),className:"lg:hidden absolute top-1/2 -translate-y-1/2 left-5 p-2 rounded-md",style:{backgroundColor:et.cardLight},children:Pt?R.jsx(BA,{}):R.jsx(Ox,{})}),R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-base sm:text-xl lg:text-3xl font-bold tracking-wider",style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"Pokmon Team Builder"}),R.jsx("p",{className:"text-sm sm:text-base md:text-lg mt-2",style:{fontFamily:"'Press Start 2P'",color:et.primary},children:"By: Enzo Esmeraldo"})]})]}),R.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:vl()}),R.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:et.cardLight},children:[R.jsx("p",{className:"text-sm",style:{color:et.textMuted},children:"Developed and built by Enzo Esmeraldo"}),R.jsxs("p",{className:"text-xs mt-2",style:{color:et.textMuted},children:["Using the ",R.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]}),R.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[R.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:et.textMuted},children:R.jsx(Cx,{})}),R.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:et.textMuted},children:R.jsx(Dx,{})})]})]})]})]}),R.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: ${et.card}; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${et.primary}; border-radius: 20px; border: 3px solid ${et.card}; } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } `})]})}l2.createRoot(document.getElementById("root")).render(R.jsx(Ev.StrictMode,{children:R.jsx(Gx,{})}));
