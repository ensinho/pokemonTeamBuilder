(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function uv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cv={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=Symbol.for("react.transitional.element"),rb=Symbol.for("react.fragment");function hv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:ib,type:e,key:i,ref:t!==void 0?t:null,props:n}}sc.Fragment=rb;sc.jsx=hv;sc.jsxs=hv;cv.exports=sc;var N=cv.exports,fv={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.transitional.element"),sb=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),ub=Symbol.for("react.consumer"),cb=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),np=Symbol.iterator;function mb(e){return e===null||typeof e!="object"?null:(e=np&&e[np]||e["@@iterator"],typeof e=="function"?e:null)}var mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gv=Object.assign,pv={};function Hs(e,t,n){this.props=e,this.context=t,this.refs=pv,this.updater=n||mv}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yv(){}yv.prototype=Hs.prototype;function Ed(e,t,n){this.props=e,this.context=t,this.refs=pv,this.updater=n||mv}var Ad=Ed.prototype=new yv;Ad.constructor=Ed;gv(Ad,Hs.prototype);Ad.isPureReactComponent=!0;var ip=Array.isArray,xt={H:null,A:null,T:null,S:null,V:null},_v=Object.prototype.hasOwnProperty;function bd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Td,type:e,key:t,ref:n!==void 0?n:null,props:s}}function gb(e,t){return bd(e.type,t,void 0,void 0,void 0,e.props)}function Sd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Td}function pb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rp=/\/+/g;function ah(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pb(""+e.key):t.toString(36)}function sp(){}function yb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(sp,sp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Gr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Td:case sb:a=!0;break;case dv:return a=e._init,Gr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+ah(e,0):i,ip(r)?(n="",a!=null&&(n=a.replace(rp,"$&/")+"/"),Gr(r,t,n,"",function(h){return h})):r!=null&&(Sd(r)&&(r=gb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(rp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(ip(e))for(var u=0;u<e.length;u++)i=e[u],s=l+ah(i,u),a+=Gr(i,t,n,s,r);else if(u=mb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+ah(i,u++),a+=Gr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Gr(yb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function _l(e,t,n){if(e==null)return e;var i=[],r=0;return Gr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function _b(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ap=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vb(){}et.Children={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Sd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=Hs;et.Fragment=ab;et.Profiler=lb;et.PureComponent=Ed;et.StrictMode=ob;et.Suspense=fb;et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;et.__COMPILER_RUNTIME={__proto__:null,c:function(e){return xt.H.useMemoCache(e)}};et.cache=function(e){return function(){return e.apply(null,arguments)}};et.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=gv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!_v.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return bd(e.type,r,void 0,void 0,s,i)};et.createContext=function(e){return e={$$typeof:cb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ub,_context:e},e};et.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)_v.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return bd(e,s,void 0,void 0,null,r)};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:hb,render:e}};et.isValidElement=Sd;et.lazy=function(e){return{$$typeof:dv,_payload:{_status:-1,_result:e},_init:_b}};et.memo=function(e,t){return{$$typeof:db,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=xt.T,n={};xt.T=n;try{var i=e(),r=xt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(vb,ap)}catch(s){ap(s)}finally{xt.T=t}};et.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()};et.use=function(e){return xt.H.use(e)};et.useActionState=function(e,t,n){return xt.H.useActionState(e,t,n)};et.useCallback=function(e,t){return xt.H.useCallback(e,t)};et.useContext=function(e){return xt.H.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e,t){return xt.H.useDeferredValue(e,t)};et.useEffect=function(e,t,n){var i=xt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};et.useId=function(){return xt.H.useId()};et.useImperativeHandle=function(e,t,n){return xt.H.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return xt.H.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return xt.H.useLayoutEffect(e,t)};et.useMemo=function(e,t){return xt.H.useMemo(e,t)};et.useOptimistic=function(e,t){return xt.H.useOptimistic(e,t)};et.useReducer=function(e,t,n){return xt.H.useReducer(e,t,n)};et.useRef=function(e){return xt.H.useRef(e)};et.useState=function(e){return xt.H.useState(e)};et.useSyncExternalStore=function(e,t,n){return xt.H.useSyncExternalStore(e,t,n)};et.useTransition=function(){return xt.H.useTransition()};et.version="19.1.0";fv.exports=et;var ht=fv.exports;const Tb=uv(ht);var vv={exports:{}},ac={},Tv={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,Z){var K=q.length;q.push(Z);t:for(;0<K;){var gt=K-1>>>1,It=q[gt];if(0<r(It,Z))q[gt]=Z,q[K]=It,K=gt;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var Z=q[0],K=q.pop();if(K!==Z){q[0]=K;t:for(var gt=0,It=q.length,on=It>>>1;gt<on;){var Vt=2*(gt+1)-1,Lt=q[Vt],Ie=Vt+1,Ke=q[Ie];if(0>r(Lt,K))Ie<It&&0>r(Ke,Lt)?(q[gt]=Ke,q[Ie]=K,gt=Ie):(q[gt]=Lt,q[Vt]=K,gt=Vt);else if(Ie<It&&0>r(Ke,K))q[gt]=Ke,q[Ie]=K,gt=Ie;else break t}}return Z}function r(q,Z){var K=q.sortIndex-Z.sortIndex;return K!==0?K:q.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,O=!1,M=!1,V=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=q)i(h),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(h)}}function z(q){if(M=!1,D(q),!O)if(n(u)!==null)O=!0,B||(B=!0,I());else{var Z=n(h);Z!==null&&Ye(z,Z.startTime-q)}}var B=!1,T=-1,y=5,E=-1;function A(){return V?!0:!(e.unstable_now()-E<y)}function R(){if(V=!1,B){var q=e.unstable_now();E=q;var Z=!0;try{t:{O=!1,M&&(M=!1,v(T),T=-1),_=!0;var K=m;try{e:{for(D(q),g=n(u);g!==null&&!(g.expirationTime>q&&A());){var gt=g.callback;if(typeof gt=="function"){g.callback=null,m=g.priorityLevel;var It=gt(g.expirationTime<=q);if(q=e.unstable_now(),typeof It=="function"){g.callback=It,D(q),Z=!0;break e}g===n(u)&&i(u),D(q)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var on=n(h);on!==null&&Ye(z,on.startTime-q),Z=!1}}break t}finally{g=null,m=K,_=!1}Z=void 0}}finally{Z?I():B=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Ee=S.port2;S.port1.onmessage=R,I=function(){Ee.postMessage(null)}}else I=function(){b(R,0)};function Ye(q,Z){T=b(function(){q(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var K=m;m=Z;try{return q()}finally{m=K}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=m;m=q;try{return Z()}finally{m=K}},e.unstable_scheduleCallback=function(q,Z,K){var gt=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?gt+K:gt):K=gt,q){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=K+It,q={id:d++,callback:Z,priorityLevel:q,startTime:K,expirationTime:It,sortIndex:-1},K>gt?(q.sortIndex=K,t(h,q),n(u)===null&&q===n(h)&&(M?(v(T),T=-1):M=!0,Ye(z,K-gt))):(q.sortIndex=It,t(u,q),O||_||(O=!0,B||(B=!0,I()))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var Z=m;return function(){var K=m;m=Z;try{return q.apply(this,arguments)}finally{m=K}}}})(Ev);Tv.exports=Ev;var Eb=Tv.exports,Av={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=ht;function bv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ai(){}var we={d:{f:ai,r:function(){throw Error(bv(522))},D:ai,C:ai,L:ai,m:ai,X:ai,S:ai,M:ai},p:0,findDOMNode:null},bb=Symbol.for("react.portal");function Sb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ua=Ab.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function oc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(bv(299));return Sb(e,t,null,n)};Re.flushSync=function(e){var t=Ua.T,n=we.p;try{if(Ua.T=null,we.p=2,e)return e()}finally{Ua.T=t,we.p=n,we.d.f()}};Re.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,we.d.C(e,t))};Re.prefetchDNS=function(e){typeof e=="string"&&we.d.D(e)};Re.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=oc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?we.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&we.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Re.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=oc(t.as,t.crossOrigin);we.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&we.d.M(e)};Re.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=oc(n,t.crossOrigin);we.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Re.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=oc(t.as,t.crossOrigin);we.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else we.d.m(e)};Re.requestFormReset=function(e){we.d.r(e)};Re.unstable_batchedUpdates=function(e,t){return e(t)};Re.useFormState=function(e,t,n){return Ua.H.useFormState(e,t,n)};Re.useFormStatus=function(){return Ua.H.useHostTransitionStatus()};Re.version="19.1.0";function Sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sv)}catch(e){console.error(e)}}Sv(),Av.exports=Re;var wb=Av.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=Eb,wv=ht,Rb=wb;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Do(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Iv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function op(e){if(Do(e)!==e)throw Error(P(188))}function Ib(e){var t=e.alternate;if(!t){if(t=Do(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return op(r),e;if(s===i)return op(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Cv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Cv(e),t!==null)return t;e=e.sibling}return null}var Nt=Object.assign,Cb=Symbol.for("react.element"),vl=Symbol.for("react.transitional.element"),Na=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Nv=Symbol.for("react.consumer"),Ln=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),nf=Symbol.for("react.activity"),Nb=Symbol.for("react.memo_cache_sentinel"),lp=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var Ob=Symbol.for("react.client.reference");function rf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ob?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Jh:return"Profiler";case Dv:return"StrictMode";case tf:return"Suspense";case ef:return"SuspenseList";case nf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Na:return"Portal";case Ln:return(e.displayName||"Context")+".Provider";case Nv:return(e._context.displayName||"Context")+".Consumer";case wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rd:return t=e.displayName||null,t!==null?t:rf(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return rf(e(t))}catch{}}return null}var Oa=Array.isArray,X=wv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=Rb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ur={pending:!1,data:null,method:null,action:null},sf=[],ts=-1;function Dn(e){return{current:e}}function re(e){0>ts||(e.current=sf[ts],sf[ts]=null,ts--)}function Mt(e,t){ts++,sf[ts]=e.current,e.current=t}var Tn=Dn(null),so=Dn(null),wi=Dn(null),uu=Dn(null);function cu(e,t){switch(Mt(wi,t),Mt(so,e),Mt(Tn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dy(t),e=YT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(Tn),Mt(Tn,e)}function Ss(){re(Tn),re(so),re(wi)}function af(e){e.memoizedState!==null&&Mt(uu,e);var t=Tn.current,n=YT(t,e.type);t!==n&&(Mt(so,e),Mt(Tn,n))}function hu(e){so.current===e&&(re(Tn),re(so)),uu.current===e&&(re(uu),po._currentValue=ur)}var of=Object.prototype.hasOwnProperty,Id=Jt.unstable_scheduleCallback,oh=Jt.unstable_cancelCallback,xb=Jt.unstable_shouldYield,Mb=Jt.unstable_requestPaint,En=Jt.unstable_now,Vb=Jt.unstable_getCurrentPriorityLevel,Ov=Jt.unstable_ImmediatePriority,xv=Jt.unstable_UserBlockingPriority,fu=Jt.unstable_NormalPriority,kb=Jt.unstable_LowPriority,Mv=Jt.unstable_IdlePriority,Pb=Jt.log,Lb=Jt.unstable_setDisableYieldValue,No=null,qe=null;function Ti(e){if(typeof Pb=="function"&&Lb(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(No,e)}catch{}}var He=Math.clz32?Math.clz32:jb,Ub=Math.log,zb=Math.LN2;function jb(e){return e>>>=0,e===0?32:31-(Ub(e)/zb|0)|0}var Tl=256,El=4194304;function rr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=rr(i):(a&=l,a!==0?r=rr(a):n||(n=l&~e,n!==0&&(r=rr(n))))):(l=i&~s,l!==0?r=rr(l):a!==0?r=rr(a):n||(n=i&~e,n!==0&&(r=rr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Oo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vv(){var e=Tl;return Tl<<=1,!(Tl&4194048)&&(Tl=256),e}function kv(){var e=El;return El<<=1,!(El&62914560)&&(El=4194304),e}function lh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-He(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Pv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Pv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-He(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Lv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-He(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Cd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Uv(){var e=mt.p;return e!==0?e:(e=window.event,e===void 0?32:iE(e.type))}function Hb(e,t){var n=mt.p;try{return mt.p=e,t()}finally{mt.p=n}}var Xi=Math.random().toString(36).slice(2),_e="__reactFiber$"+Xi,Me="__reactProps$"+Xi,Fs="__reactContainer$"+Xi,lf="__reactEvents$"+Xi,Fb="__reactListeners$"+Xi,Gb="__reactHandles$"+Xi,up="__reactResources$"+Xi,Mo="__reactMarker$"+Xi;function Nd(e){delete e[_e],delete e[Me],delete e[lf],delete e[Fb],delete e[Gb]}function es(e){var t=e[_e];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[_e]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=py(e);e!==null;){if(n=e[_e])return n;e=py(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){if(e=e[_e]||e[Fs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function xa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function fs(e){var t=e[up];return t||(t=e[up]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ne(e){e[Mo]=!0}var zv=new Set,jv={};function Ir(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(jv[e]=t,e=0;e<t.length;e++)zv.add(t[e])}var Qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cp={},hp={};function Yb(e){return of.call(hp,e)?!0:of.call(cp,e)?!1:Qb.test(e)?hp[e]=!0:(cp[e]=!0,!1)}function jl(e,t,n){if(Yb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Al(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var uh,fp;function Qr(e){if(uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uh=t&&t[1]||"",fp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uh+e+fp}var ch=!1;function hh(e,t){if(!e||ch)return"";ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{ch=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qr(n):""}function Kb(e){switch(e.tag){case 26:case 27:case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return hh(e.type,!1);case 11:return hh(e.type.render,!1);case 1:return hh(e.type,!0);case 31:return Qr("Activity");default:return""}}function dp(e){try{var t="";do t+=Kb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xb(e){var t=Bv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=Xb(e))}function qv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Bv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $b=/[\n"\\]/g;function tn(e){return e.replace($b,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ze(t)):e.value!==""+Ze(t)&&(e.value=""+Ze(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?cf(e,a,Ze(t)):n!=null?cf(e,a,Ze(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ze(l):e.removeAttribute("name")}function Hv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Ze(n):"",t=t!=null?""+Ze(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function cf(e,t,n){t==="number"&&mu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ds(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ze(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Fv(e,t,n){if(t!=null&&(t=""+Ze(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ze(n):""}function Gv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Oa(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ze(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Zb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&mp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&mp(e,s,t[s])}function Od(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hf=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,ms=null;function gp(e){var t=Gs(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;t:switch(e=t.stateNode,t.type){case"input":if(uf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Me]||null;if(!r)throw Error(P(90));uf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&qv(i)}break t;case"textarea":Fv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ds(e,!!n.multiple,t,!1)}}}var fh=!1;function Yv(e,t,n){if(fh)return e(t,n);fh=!0;try{var i=e(t);return i}finally{if(fh=!1,(ns!==null||ms!==null)&&(_c(),ns&&(t=ns,e=ms,ms=ns=null,gp(t),e)))for(t=0;t<e.length;t++)gp(e[t])}}function ao(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Me]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=!1;if(Qn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){ff=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{ff=!1}var Ei=null,Md=null,ql=null;function Kv(){if(ql)return ql;var e,t=Md,n=t.length,i,r="value"in Ei?Ei.value:Ei.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return ql=r.slice(e,1<i?1-i:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function pp(){return!1}function ke(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bl:pp,this.isPropagationStopped=pp,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=ke(Cr),Vo=Nt({},Cr,{view:0,detail:0}),tS=ke(Vo),dh,mh,ba,cc=Nt({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ba&&(ba&&e.type==="mousemove"?(dh=e.screenX-ba.screenX,mh=e.screenY-ba.screenY):mh=dh=0,ba=e),dh)},movementY:function(e){return"movementY"in e?e.movementY:mh}}),yp=ke(cc),eS=Nt({},cc,{dataTransfer:0}),nS=ke(eS),iS=Nt({},Vo,{relatedTarget:0}),gh=ke(iS),rS=Nt({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=ke(rS),aS=Nt({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oS=ke(aS),lS=Nt({},Cr,{data:0}),_p=ke(lS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hS[e])?!!t[e]:!1}function Vd(){return fS}var dS=Nt({},Vo,{key:function(e){if(e.key){var t=uS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=ke(dS),gS=Nt({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=ke(gS),pS=Nt({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),yS=ke(pS),_S=Nt({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=ke(_S),TS=Nt({},cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=ke(TS),AS=Nt({},Cr,{newState:0,oldState:0}),bS=ke(AS),SS=[9,13,27,32],kd=Qn&&"CompositionEvent"in window,za=null;Qn&&"documentMode"in document&&(za=document.documentMode);var wS=Qn&&"TextEvent"in window&&!za,Xv=Qn&&(!kd||za&&8<za&&11>=za),Tp=" ",Ep=!1;function $v(e,t){switch(e){case"keyup":return SS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function RS(e,t){switch(e){case"compositionend":return Zv(t);case"keypress":return t.which!==32?null:(Ep=!0,Tp);case"textInput":return e=t.data,e===Tp&&Ep?null:e;default:return null}}function IS(e,t){if(is)return e==="compositionend"||!kd&&$v(e,t)?(e=Kv(),ql=Md=Ei=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xv&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function Wv(e,t,n,i){ns?ms?ms.push(i):ms=[i]:ns=i,t=xu(t,"onChange"),0<t.length&&(n=new uc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ja=null,oo=null;function DS(e){FT(e,0)}function hc(e){var t=xa(e);if(qv(t))return e}function bp(e,t){if(e==="change")return t}var Jv=!1;if(Qn){var ph;if(Qn){var yh="oninput"in document;if(!yh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),yh=typeof Sp.oninput=="function"}ph=yh}else ph=!1;Jv=ph&&(!document.documentMode||9<document.documentMode)}function wp(){ja&&(ja.detachEvent("onpropertychange",t0),oo=ja=null)}function t0(e){if(e.propertyName==="value"&&hc(oo)){var t=[];Wv(t,oo,e,xd(e)),Yv(DS,t)}}function NS(e,t,n){e==="focusin"?(wp(),ja=t,oo=n,ja.attachEvent("onpropertychange",t0)):e==="focusout"&&wp()}function OS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hc(oo)}function xS(e,t){if(e==="click")return hc(t)}function MS(e,t){if(e==="input"||e==="change")return hc(t)}function VS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:VS;function lo(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!of.call(t,r)||!Qe(e[r],t[r]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ip(e,t){var n=Rp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Rp(n)}}function e0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function n0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mu(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kS=Qn&&"documentMode"in document&&11>=document.documentMode,rs=null,df=null,Ba=null,mf=!1;function Cp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||rs==null||rs!==mu(i)||(i=rs,"selectionStart"in i&&Pd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ba&&lo(Ba,i)||(Ba=i,i=xu(df,"onSelect"),0<i.length&&(t=new uc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=rs)))}function ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},_h={},i0={};Qn&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Dr(e){if(_h[e])return _h[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in i0)return _h[e]=t[n];return e}var r0=Dr("animationend"),s0=Dr("animationiteration"),a0=Dr("animationstart"),PS=Dr("transitionrun"),LS=Dr("transitionstart"),US=Dr("transitioncancel"),o0=Dr("transitionend"),l0=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function gn(e,t){l0.set(e,t),Ir(t,[e])}var Dp=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var n=Dp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dp(t)},Dp.set(e,t),t)}return{value:e,source:t,stack:dp(t)}}var $e=[],as=0,Ld=0;function fc(){for(var e=as,t=Ld=as=0;t<e;){var n=$e[t];$e[t++]=null;var i=$e[t];$e[t++]=null;var r=$e[t];$e[t++]=null;var s=$e[t];if($e[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&u0(n,r,s)}}function dc(e,t,n,i){$e[as++]=e,$e[as++]=t,$e[as++]=n,$e[as++]=i,Ld|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ud(e,t,n,i){return dc(e,t,n,i),gu(e)}function Qs(e,t){return dc(e,null,null,t),gu(e)}function u0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-He(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function gu(e){if(50<Za)throw Za=0,Pf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var os={};function zS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,i){return new zS(e,t,n,i)}function zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function c0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")zd(e)&&(a=1);else if(typeof e=="string")a=B2(e,n,Tn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case nf:return e=Be(31,n,t,r),e.elementType=nf,e.lanes=s,e;case Jr:return cr(n.children,r,s,t);case Dv:a=8,r|=24;break;case Jh:return e=Be(12,n,t,r|2),e.elementType=Jh,e.lanes=s,e;case tf:return e=Be(13,n,t,r),e.elementType=tf,e.lanes=s,e;case ef:return e=Be(19,n,t,r),e.elementType=ef,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Db:case Ln:a=10;break t;case Nv:a=9;break t;case wd:a=11;break t;case Rd:a=14;break t;case ci:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Be(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function cr(e,t,n,i){return e=Be(7,e,i,t),e.lanes=n,e}function vh(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function Th(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ls=[],us=0,pu=null,yu=0,We=[],Je=0,hr=null,Un=1,zn="";function sr(e,t){ls[us++]=yu,ls[us++]=pu,pu=e,yu=t}function h0(e,t,n){We[Je++]=Un,We[Je++]=zn,We[Je++]=hr,hr=e;var i=Un;e=zn;var r=32-He(i)-1;i&=~(1<<r),n+=1;var s=32-He(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Un=1<<32-He(t)+r|n<<r|i,zn=s+e}else Un=1<<s|n<<r|i,zn=e}function jd(e){e.return!==null&&(sr(e,1),h0(e,1,0))}function Bd(e){for(;e===pu;)pu=ls[--us],ls[us]=null,yu=ls[--us],ls[us]=null;for(;e===hr;)hr=We[--Je],We[Je]=null,zn=We[--Je],We[Je]=null,Un=We[--Je],We[Je]=null}var Se=null,jt=null,dt=!1,fr=null,_n=!1,pf=Error(P(519));function _r(e){var t=Error(P(418,""));throw uo(en(t,e)),pf}function Np(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[_e]=e,t[Me]=i,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<fo.length;n++)rt(fo[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),Hv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),du(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),Gv(t,i.value,i.defaultValue,i.children),du(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||QT(t.textContent,n)?(i.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),i.onScroll!=null&&rt("scroll",t),i.onScrollEnd!=null&&rt("scrollend",t),i.onClick!=null&&(t.onclick=Ec),t=!0):t=!1,t||_r(e)}function Op(e){for(Se=e.return;Se;)switch(Se.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Se=Se.return}}function Sa(e){if(e!==Se)return!1;if(!dt)return Op(e),dt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qf(e.type,e.memoizedProps)),n=!n),n&&jt&&_r(e),Op(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){jt=dn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}jt=null}}else t===27?(t=jt,$i(e.type)?(e=Gf,Gf=null,jt=e):jt=t):jt=Se?dn(e.stateNode.nextSibling):null;return!0}function ko(){jt=Se=null,dt=!1}function xp(){var e=fr;return e!==null&&(Ne===null?Ne=e:Ne.push.apply(Ne,e),fr=null),e}function uo(e){fr===null?fr=[e]:fr.push(e)}var yf=Dn(null),Nr=null,jn=null;function fi(e,t,n){Mt(yf,t._currentValue),t._currentValue=n}function Gn(e){e._currentValue=yf.current,re(yf)}function _f(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function vf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_f(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),_f(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Po(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Qe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===uu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}r=r.return}e!==null&&vf(t,e,n,i),t.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!Qe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vr(e){Nr=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ve(e){return f0(Nr,e)}function Sl(e,t){return Nr===null&&vr(e),f0(e,t)}function f0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jn===null){if(e===null)throw Error(P(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return n}var jS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},BS=Jt.unstable_scheduleCallback,qS=Jt.unstable_NormalPriority,Xt={$$typeof:Ln,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new jS,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&BS(qS,function(){e.controller.abort()})}var qa=null,Tf=0,Is=0,gs=null;function HS(e,t){if(qa===null){var n=qa=[];Tf=0,Is=hm(),gs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Tf++,t.then(Mp,Mp),t}function Mp(){if(--Tf===0&&qa!==null){gs!==null&&(gs.status="fulfilled");var e=qa;qa=null,Is=0,gs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function FS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Vp=X.S;X.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&HS(e,t),Vp!==null&&Vp(e,t)};var dr=Dn(null);function Hd(){var e=dr.current;return e!==null?e:Rt.pooledCache}function Gl(e,t){t===null?Mt(dr,dr.current):Mt(dr,t.pool)}function d0(){var e=Hd();return e===null?null:{parent:Xt._currentValue,pool:e}}var Uo=Error(P(460)),m0=Error(P(474)),mc=Error(P(542)),Ef={then:function(){}};function kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wl(){}function g0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(wl,wl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lp(e),e;default:if(typeof t.status=="string")t.then(wl,wl);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lp(e),e}throw Ha=t,Uo}}var Ha=null;function Pp(){if(Ha===null)throw Error(P(459));var e=Ha;return Ha=null,e}function Lp(e){if(e===Uo||e===mc)throw Error(P(483))}var hi=!1;function Fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,vt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=gu(e),u0(e,null,n),t}return dc(e,i,t,n),gu(e)}function Fa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Lv(e,n)}}function Eh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bf=!1;function Ga(){if(bf){var e=gs;if(e!==null)throw e}}function Qa(e,t,n,i){bf=!1;var r=e.updateQueue;hi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(ct&m)===m:(i&m)===m){m!==0&&m===Is&&(bf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var O=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(O=M.payload,typeof O=="function"){g=O.call(V,g,m);break t}g=O;break t;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,m=typeof O=="function"?O.call(V,g,m):O,m==null)break t;g=Nt({},g,m);break t;case 2:hi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Bi|=a,e.lanes=a,e.memoizedState=g}}function p0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function y0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)p0(n[e],t)}var Cs=Dn(null),vu=Dn(0);function Up(e,t){e=Xn,Mt(vu,e),Mt(Cs,t),Xn=e|t.baseLanes}function Sf(){Mt(vu,Xn),Mt(Cs,Cs.current)}function Gd(){Xn=vu.current,re(Cs),re(vu)}var zi=0,it=null,At=null,Qt=null,Tu=!1,ps=!1,Tr=!1,Eu=0,co=0,ys=null,GS=0;function qt(){throw Error(P(321))}function Qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function Yd(e,t,n,i,r,s){return zi=s,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?K0:X0,Tr=!1,s=n(i,r),Tr=!1,ps&&(s=v0(t,n,i,r)),_0(e),s}function _0(e){X.H=Au;var t=At!==null&&At.next!==null;if(zi=0,Qt=At=it=null,Tu=!1,co=0,ys=null,t)throw Error(P(300));e===null||ie||(e=e.dependencies,e!==null&&_u(e)&&(ie=!0))}function v0(e,t,n,i){it=e;var r=0;do{if(ps&&(ys=null),co=0,ps=!1,25<=r)throw Error(P(301));if(r+=1,Qt=At=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}X.H=WS,s=t(n,i)}while(ps);return s}function QS(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?zo(t):t,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(it.flags|=1024),t}function Kd(){var e=Eu!==0;return Eu=0,e}function Xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $d(e){if(Tu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tu=!1}zi=0,Qt=At=it=null,ps=!1,co=Eu=0,ys=null}function Ce(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?it.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Kt(){if(At===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Qt===null?it.memoizedState:Qt.next;if(t!==null)Qt=t,At=e;else{if(e===null)throw it.alternate===null?Error(P(467)):Error(P(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Qt===null?it.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var t=co;return co+=1,ys===null&&(ys=[]),e=g0(ys,e,t),t=it,(Qt===null?t.memoizedState:Qt.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?K0:X0),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===Ln)return ve(e)}throw Error(P(438,String(e)))}function Wd(e){var t=null,n=it.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=it.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Zd(),it.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Nb;return t.index++,n}function Yn(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Kt();return Jd(t,At,e)}function Jd(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(ct&g)===g:(zi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Is&&(d=!0);else if((zi&m)===m){h=h.next,m===Is&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,it.lanes|=m,Bi|=m;g=h.action,Tr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,it.lanes|=g,Bi|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Qe(s,e.memoizedState)&&(ie=!0,d&&(n=gs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ah(e){var t=Kt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Qe(s,t.memoizedState)||(ie=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function T0(e,t,n){var i=it,r=Kt(),s=dt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!Qe((At||r).memoizedState,n);a&&(r.memoizedState=n,ie=!0),r=r.queue;var l=b0.bind(null,i,r,e);if(jo(2048,8,l,[e]),r.getSnapshot!==t||a||Qt!==null&&Qt.memoizedState.tag&1){if(i.flags|=2048,Ds(9,pc(),A0.bind(null,i,r,n,t),null),Rt===null)throw Error(P(349));s||zi&124||E0(i,t,n)}return n}function E0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t=Zd(),it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function A0(e,t,n,i){t.value=n,t.getSnapshot=i,S0(t)&&w0(e)}function b0(e,t,n){return n(function(){S0(t)&&w0(e)})}function S0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function w0(e){var t=Qs(e,2);t!==null&&Ge(t,e,2)}function wf(e){var t=Ce();if(typeof e=="function"){var n=e;if(e=n(),Tr){Ti(!0);try{n()}finally{Ti(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t}function R0(e,t,n,i){return e.baseState=n,Jd(e,At,typeof i=="function"?i:Yn)}function YS(e,t,n,i,r){if(yc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};X.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,I0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function I0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=X.T,a={};X.T=a;try{var l=n(r,i),u=X.S;u!==null&&u(a,l),zp(e,t,l)}catch(h){Rf(e,t,h)}finally{X.T=s}}else try{s=n(r,i),zp(e,t,s)}catch(h){Rf(e,t,h)}}function zp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){jp(e,t,i)},function(i){return Rf(e,t,i)}):jp(e,t,n)}function jp(e,t,n){t.status="fulfilled",t.value=n,C0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,I0(e,n)))}function Rf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,C0(t),t=t.next;while(t!==i)}e.action=null}function C0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function D0(e,t){return t}function Bp(e,t){if(dt){var n=Rt.formState;if(n!==null){t:{var i=it;if(dt){if(jt){e:{for(var r=jt,s=_n;r.nodeType!==8;){if(!s){r=null;break e}if(r=dn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){jt=dn(r.nextSibling),i=r.data==="F!";break t}}_r(i)}i=!1}i&&(t=n[0])}}return n=Ce(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:t},n.queue=i,n=G0.bind(null,it,i),i.dispatch=n,i=wf(!1),s=im.bind(null,it,!1,i.queue),i=Ce(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=YS.bind(null,it,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function qp(e){var t=Kt();return N0(t,At,e)}function N0(e,t,n){if(t=Jd(e,t,D0)[0],e=Ql(Yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=zo(t)}catch(a){throw a===Uo?mc:a}else i=t;t=Kt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(it.flags|=2048,Ds(9,pc(),KS.bind(null,r,n),null)),[i,s,e]}function KS(e,t){e.action=t}function Hp(e){var t=Kt(),n=At;if(n!==null)return N0(t,n,e);Kt(),t=t.memoizedState,n=Kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ds(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=it.updateQueue,t===null&&(t=Zd(),it.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function pc(){return{destroy:void 0,resource:void 0}}function O0(){return Kt().memoizedState}function Yl(e,t,n,i){var r=Ce();i=i===void 0?null:i,it.flags|=e,r.memoizedState=Ds(1|t,pc(),n,i)}function jo(e,t,n,i){var r=Kt();i=i===void 0?null:i;var s=r.memoizedState.inst;At!==null&&i!==null&&Qd(i,At.memoizedState.deps)?r.memoizedState=Ds(t,s,n,i):(it.flags|=e,r.memoizedState=Ds(1|t,s,n,i))}function Fp(e,t){Yl(8390656,8,e,t)}function x0(e,t){jo(2048,8,e,t)}function M0(e,t){return jo(4,2,e,t)}function V0(e,t){return jo(4,4,e,t)}function k0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P0(e,t,n){n=n!=null?n.concat([e]):null,jo(4,4,k0.bind(null,t,e),n)}function tm(){}function L0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Qd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function U0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Qd(t,i[1]))return i[0];if(i=e(),Tr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i}function em(e,t,n){return n===void 0||zi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=CT(),it.lanes|=e,Bi|=e,n)}function z0(e,t,n,i){return Qe(n,t)?n:Cs.current!==null?(e=em(e,n,i),Qe(e,t)||(ie=!0),e):zi&42?(e=CT(),it.lanes|=e,Bi|=e,t):(ie=!0,e.memoizedState=n)}function j0(e,t,n,i,r){var s=mt.p;mt.p=s!==0&&8>s?s:8;var a=X.T,l={};X.T=l,im(e,!1,t,n);try{var u=r(),h=X.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=FS(u,i);Ya(e,t,d,Fe(e))}else Ya(e,t,i,Fe(e))}catch(g){Ya(e,t,{then:function(){},status:"rejected",reason:g},Fe())}finally{mt.p=s,X.T=a}}function XS(){}function If(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=B0(e).queue;j0(e,r,t,ur,n===null?XS:function(){return q0(e),n(i)})}function B0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ur,baseState:ur,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:ur},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function q0(e){var t=B0(e).next.queue;Ya(e,t,{},Fe())}function nm(){return ve(po)}function H0(){return Kt().memoizedState}function F0(){return Kt().memoizedState}function $S(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Fe();e=Ri(n);var i=Ii(t,e,n);i!==null&&(Ge(i,t,n),Fa(i,t,n)),t={cache:qd()},e.payload=t;return}t=t.return}}function ZS(e,t,n){var i=Fe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},yc(e)?Q0(t,n):(n=Ud(e,t,n,i),n!==null&&(Ge(n,e,i),Y0(n,t,i)))}function G0(e,t,n){var i=Fe();Ya(e,t,n,i)}function Ya(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(yc(e))Q0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Qe(l,a))return dc(e,t,r,0),Rt===null&&fc(),!1}catch{}finally{}if(n=Ud(e,t,r,i),n!==null)return Ge(n,e,i),Y0(n,t,i),!0}return!1}function im(e,t,n,i){if(i={lane:2,revertLane:hm(),action:i,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(t)throw Error(P(479))}else t=Ud(e,n,i,2),t!==null&&Ge(t,e,2)}function yc(e){var t=e.alternate;return e===it||t!==null&&t===it}function Q0(e,t){ps=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Lv(e,n)}}var Au={readContext:ve,use:gc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},K0={readContext:ve,use:gc,useCallback:function(e,t){return Ce().memoizedState=[e,t===void 0?null:t],e},useContext:ve,useEffect:Fp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yl(4194308,4,k0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yl(4194308,4,e,t)},useInsertionEffect:function(e,t){Yl(4,2,e,t)},useMemo:function(e,t){var n=Ce();t=t===void 0?null:t;var i=e();if(Tr){Ti(!0);try{e()}finally{Ti(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ce();if(n!==void 0){var r=n(t);if(Tr){Ti(!0);try{n(t)}finally{Ti(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=ZS.bind(null,it,e),[i.memoizedState,e]},useRef:function(e){var t=Ce();return e={current:e},t.memoizedState=e},useState:function(e){e=wf(e);var t=e.queue,n=G0.bind(null,it,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tm,useDeferredValue:function(e,t){var n=Ce();return em(n,e,t)},useTransition:function(){var e=wf(!1);return e=j0.bind(null,it,e.queue,!0,!1),Ce().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=it,r=Ce();if(dt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Rt===null)throw Error(P(349));ct&124||E0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Fp(b0.bind(null,i,s,e),[e]),i.flags|=2048,Ds(9,pc(),A0.bind(null,i,s,n,t),null),n},useId:function(){var e=Ce(),t=Rt.identifierPrefix;if(dt){var n=zn,i=Un;n=(i&~(1<<32-He(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Eu++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=GS++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:nm,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var t=Ce();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=im.bind(null,it,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wd,useCacheRefresh:function(){return Ce().memoizedState=$S.bind(null,it)}},X0={readContext:ve,use:gc,useCallback:L0,useContext:ve,useEffect:x0,useImperativeHandle:P0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:U0,useReducer:Ql,useRef:O0,useState:function(){return Ql(Yn)},useDebugValue:tm,useDeferredValue:function(e,t){var n=Kt();return z0(n,At.memoizedState,e,t)},useTransition:function(){var e=Ql(Yn)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:T0,useId:H0,useHostTransitionStatus:nm,useFormState:qp,useActionState:qp,useOptimistic:function(e,t){var n=Kt();return R0(n,At,e,t)},useMemoCache:Wd,useCacheRefresh:F0},WS={readContext:ve,use:gc,useCallback:L0,useContext:ve,useEffect:x0,useImperativeHandle:P0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:U0,useReducer:Ah,useRef:O0,useState:function(){return Ah(Yn)},useDebugValue:tm,useDeferredValue:function(e,t){var n=Kt();return At===null?em(n,e,t):z0(n,At.memoizedState,e,t)},useTransition:function(){var e=Ah(Yn)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:zo(e),t]},useSyncExternalStore:T0,useId:H0,useHostTransitionStatus:nm,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,t){var n=Kt();return At!==null?R0(n,At,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:F0},_s=null,ho=0;function Rl(e){var t=ho;return ho+=1,_s===null&&(_s=[]),g0(_s,e,t)}function wa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Il(e,t){throw t.$$typeof===Cb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gp(e){var t=e._init;return t(e._payload)}function $0(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Fn(b,v),b.index=0,b.sibling=null,b}function s(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,D){return v===null||v.tag!==6?(v=vh(w,b.mode,D),v.return=b,v):(v=r(v,w),v.return=b,v)}function u(b,v,w,D){var z=w.type;return z===Jr?d(b,v,w.props.children,D,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Gp(z)===v.type)?(v=r(v,w.props),wa(v,w),v.return=b,v):(v=Fl(w.type,w.key,w.props,null,b.mode,D),wa(v,w),v.return=b,v)}function h(b,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Th(w,b.mode,D),v.return=b,v):(v=r(v,w.children||[]),v.return=b,v)}function d(b,v,w,D,z){return v===null||v.tag!==7?(v=cr(w,b.mode,D,z),v.return=b,v):(v=r(v,w),v.return=b,v)}function g(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=vh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vl:return w=Fl(v.type,v.key,v.props,null,b.mode,w),wa(w,v),w.return=b,w;case Na:return v=Th(v,b.mode,w),v.return=b,v;case ci:var D=v._init;return v=D(v._payload),g(b,v,w)}if(Oa(v)||Ea(v))return v=cr(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return g(b,Rl(v),w);if(v.$$typeof===Ln)return g(b,Sl(b,v),w);Il(b,v)}return null}function m(b,v,w,D){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:l(b,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:return w.key===z?u(b,v,w,D):null;case Na:return w.key===z?h(b,v,w,D):null;case ci:return z=w._init,w=z(w._payload),m(b,v,w,D)}if(Oa(w)||Ea(w))return z!==null?null:d(b,v,w,D,null);if(typeof w.then=="function")return m(b,v,Rl(w),D);if(w.$$typeof===Ln)return m(b,v,Sl(b,w),D);Il(b,w)}return null}function _(b,v,w,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return b=b.get(w)||null,l(v,b,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case vl:return b=b.get(D.key===null?w:D.key)||null,u(v,b,D,z);case Na:return b=b.get(D.key===null?w:D.key)||null,h(v,b,D,z);case ci:var B=D._init;return D=B(D._payload),_(b,v,w,D,z)}if(Oa(D)||Ea(D))return b=b.get(w)||null,d(v,b,D,z,null);if(typeof D.then=="function")return _(b,v,w,Rl(D),z);if(D.$$typeof===Ln)return _(b,v,w,Sl(v,D),z);Il(v,D)}return null}function O(b,v,w,D){for(var z=null,B=null,T=v,y=v=0,E=null;T!==null&&y<w.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var A=m(b,T,w[y],D);if(A===null){T===null&&(T=E);break}e&&T&&A.alternate===null&&t(b,T),v=s(A,v,y),B===null?z=A:B.sibling=A,B=A,T=E}if(y===w.length)return n(b,T),dt&&sr(b,y),z;if(T===null){for(;y<w.length;y++)T=g(b,w[y],D),T!==null&&(v=s(T,v,y),B===null?z=T:B.sibling=T,B=T);return dt&&sr(b,y),z}for(T=i(T);y<w.length;y++)E=_(T,b,y,w[y],D),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),B===null?z=E:B.sibling=E,B=E);return e&&T.forEach(function(R){return t(b,R)}),dt&&sr(b,y),z}function M(b,v,w,D){if(w==null)throw Error(P(151));for(var z=null,B=null,T=v,y=v=0,E=null,A=w.next();T!==null&&!A.done;y++,A=w.next()){T.index>y?(E=T,T=null):E=T.sibling;var R=m(b,T,A.value,D);if(R===null){T===null&&(T=E);break}e&&T&&R.alternate===null&&t(b,T),v=s(R,v,y),B===null?z=R:B.sibling=R,B=R,T=E}if(A.done)return n(b,T),dt&&sr(b,y),z;if(T===null){for(;!A.done;y++,A=w.next())A=g(b,A.value,D),A!==null&&(v=s(A,v,y),B===null?z=A:B.sibling=A,B=A);return dt&&sr(b,y),z}for(T=i(T);!A.done;y++,A=w.next())A=_(T,b,y,A.value,D),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?y:A.key),v=s(A,v,y),B===null?z=A:B.sibling=A,B=A);return e&&T.forEach(function(I){return t(b,I)}),dt&&sr(b,y),z}function V(b,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Jr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vl:t:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===Jr){if(v.tag===7){n(b,v.sibling),D=r(v,w.props.children),D.return=b,b=D;break t}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ci&&Gp(z)===v.type){n(b,v.sibling),D=r(v,w.props),wa(D,w),D.return=b,b=D;break t}n(b,v);break}else t(b,v);v=v.sibling}w.type===Jr?(D=cr(w.props.children,b.mode,D,w.key),D.return=b,b=D):(D=Fl(w.type,w.key,w.props,null,b.mode,D),wa(D,w),D.return=b,b=D)}return a(b);case Na:t:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),D=r(v,w.children||[]),D.return=b,b=D;break t}else{n(b,v);break}else t(b,v);v=v.sibling}D=Th(w,b.mode,D),D.return=b,b=D}return a(b);case ci:return z=w._init,w=z(w._payload),V(b,v,w,D)}if(Oa(w))return O(b,v,w,D);if(Ea(w)){if(z=Ea(w),typeof z!="function")throw Error(P(150));return w=z.call(w),M(b,v,w,D)}if(typeof w.then=="function")return V(b,v,Rl(w),D);if(w.$$typeof===Ln)return V(b,v,Sl(b,w),D);Il(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),D=r(v,w),D.return=b,b=D):(n(b,v),D=vh(w,b.mode,D),D.return=b,b=D),a(b)):n(b,v)}return function(b,v,w,D){try{ho=0;var z=V(b,v,w,D);return _s=null,z}catch(T){if(T===Uo||T===mc)throw T;var B=Be(29,T,null,b.mode);return B.lanes=D,B.return=b,B}finally{}}}var Ns=$0(!0),Z0=$0(!1),sn=Dn(null),An=null;function di(e){var t=e.alternate;Mt($t,$t.current&1),Mt(sn,e),An===null&&(t===null||Cs.current!==null||t.memoizedState!==null)&&(An=e)}function W0(e){if(e.tag===22){if(Mt($t,$t.current),Mt(sn,e),An===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(An=e)}}else mi()}function mi(){Mt($t,$t.current),Mt(sn,sn.current)}function Bn(e){re(sn),An===e&&(An=null),re($t)}var $t=Dn(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ff(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function bh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Fe(),r=Ri(i);r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Ge(t,e,i),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Fe(),r=Ri(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ii(e,r,i),t!==null&&(Ge(t,e,i),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),i=Ri(n);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,n),t!==null&&(Ge(t,e,n),Fa(t,e,n))}};function Qp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!lo(n,i)||!lo(r,s):!0}function Yp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function Er(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Nt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function J0(e){Su(e)}function tT(e){console.error(e)}function eT(e){Su(e)}function wu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Kp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Df(e,t,n){return n=Ri(n),n.tag=3,n.payload={element:null},n.callback=function(){wu(e,t)},n}function nT(e){return e=Ri(e),e.tag=3,e}function iT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Kp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Kp(t,n,i),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function JS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Po(t,n,r,!0),n=sn.current,n!==null){switch(n.tag){case 13:return An===null?Lf():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Ef?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Vh(e,i,r)),!1;case 22:return n.flags|=65536,i===Ef?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Vh(e,i,r)),!1}throw Error(P(435,n.tag))}return Vh(e,i,r),Lf(),!1}if(dt)return t=sn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==pf&&(e=Error(P(422),{cause:i}),uo(en(e,n)))):(i!==pf&&(t=Error(P(423),{cause:i}),uo(en(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=en(i,n),r=Df(e.stateNode,i,r),Eh(e,r),Bt!==4&&(Bt=2)),!1;var s=Error(P(520),{cause:i});if(s=en(s,n),$a===null?$a=[s]:$a.push(s),Bt!==4&&(Bt=2),t===null)return!0;i=en(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Df(n.stateNode,i,e),Eh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=nT(r),iT(r,e,n,i),Eh(n,r),!1}n=n.return}while(n!==null);return!1}var rT=Error(P(461)),ie=!1;function ae(e,t,n,i){t.child=e===null?Z0(t,null,n,i):Ns(t,e.child,n,i)}function Xp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return vr(t),i=Yd(e,t,n,a,s,r),l=Kd(),e!==null&&!ie?(Xd(e,t,r),Kn(e,t,r)):(dt&&l&&jd(t),t.flags|=1,ae(e,t,i,r),t.child)}function $p(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!zd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,sT(e,t,s,i,r)):(e=Fl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!rm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(a,i)&&e.ref===t.ref)return Kn(e,t,r)}return t.flags|=1,e=Fn(s,i),e.ref=t.ref,e.return=t,t.child=e}function sT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(lo(s,i)&&e.ref===t.ref)if(ie=!1,t.pendingProps=i=s,rm(e,r))e.flags&131072&&(ie=!0);else return t.lanes=e.lanes,Kn(e,t,r)}return Nf(e,t,n,i,r)}function aT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Zp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gl(t,s!==null?s.cachePool:null),s!==null?Up(t,s):Sf(),W0(t);else return t.lanes=t.childLanes=536870912,Zp(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Gl(t,s.cachePool),Up(t,s),mi(),t.memoizedState=null):(e!==null&&Gl(t,null),Sf(),mi());return ae(e,t,r,n),t.child}function Zp(e,t,n,i){var r=Hd();return r=r===null?null:{parent:Xt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Gl(t,null),Sf(),W0(t),e!==null&&Po(e,t,i,!0),null}function Kl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Nf(e,t,n,i,r){return vr(t),n=Yd(e,t,n,i,void 0,r),i=Kd(),e!==null&&!ie?(Xd(e,t,r),Kn(e,t,r)):(dt&&i&&jd(t),t.flags|=1,ae(e,t,n,r),t.child)}function Wp(e,t,n,i,r,s){return vr(t),t.updateQueue=null,n=v0(t,i,n,r),_0(e),i=Kd(),e!==null&&!ie?(Xd(e,t,s),Kn(e,t,s)):(dt&&i&&jd(t),t.flags|=1,ae(e,t,n,s),t.child)}function Jp(e,t,n,i,r){if(vr(t),t.stateNode===null){var s=os,a=n.contextType;typeof a=="object"&&a!==null&&(s=ve(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Fd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?ve(a):os,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(bh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Cf.enqueueReplaceState(s,s.state,null),Qa(t,i,s,r),Ga(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Er(n,l);s.props=u;var h=s.context,d=n.contextType;a=os,typeof d=="object"&&d!==null&&(a=ve(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Yp(t,s,i,a),hi=!1;var m=t.memoizedState;s.state=m,Qa(t,i,s,r),Ga(),h=t.memoizedState,l||m!==h||hi?(typeof g=="function"&&(bh(t,n,g,i),h=t.memoizedState),(u=hi||Qp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Af(e,t),a=t.memoizedProps,d=Er(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=os,typeof h=="object"&&h!==null&&(u=ve(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Yp(t,s,i,u),hi=!1,m=t.memoizedState,s.state=m,Qa(t,i,s,r),Ga();var _=t.memoizedState;a!==g||m!==_||hi||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof l=="function"&&(bh(t,n,l,i),_=t.memoizedState),(d=hi||Qp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Kl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ns(t,e.child,null,r),t.child=Ns(t,null,n,r)):ae(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Kn(e,t,r),e}function ty(e,t,n,i){return ko(),t.flags|=256,ae(e,t,n,i),t.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(e){return{baseLanes:e,cachePool:d0()}}function Rh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=rn),e}function oT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:($t.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(r?di(t):mi(),dt){var l=jt,u;if(u=l){t:{for(u=l,l=_n;u.nodeType!==8;){if(!l){l=null;break t}if(u=dn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:hr!==null?{id:Un,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},u=Be(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Se=t,jt=null,u=!0):u=!1}u||_r(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Ff(l)?t.lanes=32:t.lanes=536870912,null;Bn(t)}return l=i.children,i=i.fallback,r?(mi(),r=t.mode,l=Ru({mode:"hidden",children:l},r),i=cr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=wh(n),r.childLanes=Rh(e,a,n),t.memoizedState=Sh,i):(di(t),Of(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(di(t),t.flags&=-257,t=Ih(e,t,n)):t.memoizedState!==null?(mi(),t.child=e.child,t.flags|=128,t=null):(mi(),r=i.fallback,l=t.mode,i=Ru({mode:"visible",children:i.children},l),r=cr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ns(t,e.child,null,n),i=t.child,i.memoizedState=wh(n),i.childLanes=Rh(e,a,n),t.memoizedState=Sh,t=r);else if(di(t),Ff(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,uo({value:i,source:null,stack:null}),t=Ih(e,t,n)}else if(ie||Po(e,t,n,!1),a=(n&e.childLanes)!==0,ie||a){if(a=Rt,a!==null&&(i=n&-n,i=i&42?1:Cd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Qs(e,i),Ge(a,e,i),rT;l.data==="$?"||Lf(),t=Ih(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,jt=dn(l.nextSibling),Se=t,dt=!0,fr=null,_n=!1,e!==null&&(We[Je++]=Un,We[Je++]=zn,We[Je++]=hr,Un=e.id,zn=e.overflow,hr=t),t=Of(t,i.children),t.flags|=4096);return t}return r?(mi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Fn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Fn(h,r):(r=cr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=wh(n):(u=l.cachePool,u!==null?(h=Xt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=d0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Rh(e,a,n),t.memoizedState=Sh,i):(di(t),n=e.child,e=n.sibling,n=Fn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Of(e,t){return t=Ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ru(e,t){return e=Be(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ih(e,t,n){return Ns(t,e.child,null,n),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ey(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_f(e.return,t,n)}function Ch(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function lT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ae(e,t,i.children,n),i=$t.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,n,t);else if(e.tag===19)ey(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Mt($t,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&bu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ch(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&bu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ch(t,!0,n,null,s);break;case"together":Ch(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Po(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function t2(e,t,n){switch(t.tag){case 3:cu(t,t.stateNode.containerInfo),fi(t,Xt,e.memoizedState.cache),ko();break;case 27:case 5:af(t);break;case 4:cu(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?oT(e,t,n):(di(t),e=Kn(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Po(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return lT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Mt($t,$t.current),i)break;return null;case 22:case 23:return t.lanes=0,aT(e,t,n);case 24:fi(t,Xt,e.memoizedState.cache)}return Kn(e,t,n)}function uT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ie=!0;else{if(!rm(e,n)&&!(t.flags&128))return ie=!1,t2(e,t,n);ie=!!(e.flags&131072)}else ie=!1,dt&&t.flags&1048576&&h0(t,yu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")zd(i)?(e=Er(i,e),t.tag=1,t=Jp(null,t,i,e,n)):(t.tag=0,t=Nf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===wd){t.tag=11,t=Xp(null,t,i,e,n);break t}else if(r===Rd){t.tag=14,t=$p(null,t,i,e,n);break t}}throw t=rf(i)||i,Error(P(306,t,""))}}return t;case 0:return Nf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Er(i,t.pendingProps),Jp(e,t,i,r,n);case 3:t:{if(cu(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Af(e,t),Qa(t,i,null,n);var a=t.memoizedState;if(i=a.cache,fi(t,Xt,i),i!==s.cache&&vf(t,[Xt],n,!0),Ga(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=ty(e,t,i,n);break t}else if(i!==r){r=en(Error(P(424)),t),uo(r),t=ty(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(jt=dn(e.firstChild),Se=t,dt=!0,fr=null,_n=!0,n=Z0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ko(),i===r){t=Kn(e,t,n);break t}ae(e,t,i,n)}t=t.child}return t;case 26:return Kl(e,t),e===null?(n=_y(t.type,null,t.pendingProps,null))?t.memoizedState=n:dt||(n=t.type,e=t.pendingProps,i=Mu(wi.current).createElement(n),i[_e]=t,i[Me]=e,ce(i,n,e),ne(i),t.stateNode=i):t.memoizedState=_y(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return af(t),e===null&&dt&&(i=t.stateNode=XT(t.type,t.pendingProps,wi.current),Se=t,_n=!0,r=jt,$i(t.type)?(Gf=r,jt=dn(i.firstChild)):jt=r),ae(e,t,t.pendingProps.children,n),Kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((r=i=jt)&&(i=C2(i,t.type,t.pendingProps,_n),i!==null?(t.stateNode=i,Se=t,jt=dn(i.firstChild),_n=!1,r=!0):r=!1),r||_r(t)),af(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,qf(r,s)?i=null:a!==null&&qf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Yd(e,t,QS,null,null,n),po._currentValue=r),Kl(e,t),ae(e,t,i,n),t.child;case 6:return e===null&&dt&&((e=n=jt)&&(n=D2(n,t.pendingProps,_n),n!==null?(t.stateNode=n,Se=t,jt=null,e=!0):e=!1),e||_r(t)),null;case 13:return oT(e,t,n);case 4:return cu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ns(t,null,i,n):ae(e,t,i,n),t.child;case 11:return Xp(e,t,t.type,t.pendingProps,n);case 7:return ae(e,t,t.pendingProps,n),t.child;case 8:return ae(e,t,t.pendingProps.children,n),t.child;case 12:return ae(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,fi(t,t.type,i.value),ae(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,vr(t),r=ve(r),i=i(r),t.flags|=1,ae(e,t,i,n),t.child;case 14:return $p(e,t,t.type,t.pendingProps,n);case 15:return sT(e,t,t.type,t.pendingProps,n);case 19:return lT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Ru(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Fn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return aT(e,t,n);case 24:return vr(t),i=ve(Xt),e===null?(r=Hd(),r===null&&(r=Rt,s=qd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Fd(t),fi(t,Xt,r)):(e.lanes&n&&(Af(e,t),Qa(t,null,null,n),Ga()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),fi(t,Xt,i)):(i=s.cache,fi(t,Xt,i),i!==r.cache&&vf(t,[Xt],n,!0))),ae(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Vn(e){e.flags|=4}function ny(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!WT(t)){if(t=sn.current,t!==null&&((ct&4194048)===ct?An!==null:(ct&62914560)!==ct&&!(ct&536870912)||t!==An))throw Ha=Ef,m0;e.flags|=8192}}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kv():536870912,e.lanes|=t,Os|=t)}function Ra(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function e2(e,t,n){var i=t.pendingProps;switch(Bd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return kt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Gn(Xt),Ss(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sa(t)?Vn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xp())),kt(t),null;case 26:return n=t.memoizedState,e===null?(Vn(t),n!==null?(kt(t),ny(t,n)):(kt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Vn(t),kt(t),ny(t,n)):(kt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Vn(t),kt(t),t.flags&=-16777217),null;case 27:hu(t),n=wi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Vn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return kt(t),null}e=Tn.current,Sa(t)?Np(t):(e=XT(r,i,n),t.stateNode=e,Vn(t))}return kt(t),null;case 5:if(hu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Vn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return kt(t),null}if(e=Tn.current,Sa(t))Np(t);else{switch(r=Mu(wi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[_e]=t,e[Me]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(ce(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vn(t)}}return kt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Vn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=wi.current,Sa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Se,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[_e]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||QT(e.nodeValue,n)),e||_r(t)}else e=Mu(e).createTextNode(i),e[_e]=t,t.stateNode=e}return kt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Sa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[_e]=t}else ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),r=!1}else r=xp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Bn(t),t):(Bn(t),null)}if(Bn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Cl(t,t.updateQueue),kt(t),null;case 4:return Ss(),e===null&&fm(t.stateNode.containerInfo),kt(t),null;case 10:return Gn(t.type),kt(t),null;case 19:if(re($t),r=t.memoizedState,r===null)return kt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Ra(r,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bu(e),s!==null){for(t.flags|=128,Ra(r,!1),e=s.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)c0(n,e),n=n.sibling;return Mt($t,$t.current&1|2),t.child}e=e.sibling}r.tail!==null&&En()>Cu&&(t.flags|=128,i=!0,Ra(r,!1),t.lanes=4194304)}else{if(!i)if(e=bu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),Ra(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!dt)return kt(t),null}else 2*En()-r.renderingStartTime>Cu&&n!==536870912&&(t.flags|=128,i=!0,Ra(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=En(),t.sibling=null,e=$t.current,Mt($t,i?e&1|2:e&1),t):(kt(t),null);case 22:case 23:return Bn(t),Gd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),n=t.updateQueue,n!==null&&Cl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&re(dr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Gn(Xt),kt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function n2(e,t){switch(Bd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(Xt),Ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hu(t),null;case 13:if(Bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re($t),null;case 4:return Ss(),null;case 10:return Gn(t.type),null;case 22:case 23:return Bn(t),Gd(),e!==null&&re(dr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gn(Xt),null;case 25:return null;default:return null}}function cT(e,t){switch(Bd(t),t.tag){case 3:Gn(Xt),Ss();break;case 26:case 27:case 5:hu(t);break;case 4:Ss();break;case 13:Bn(t);break;case 19:re($t);break;case 10:Gn(t.type);break;case 22:case 23:Bn(t),Gd(),e!==null&&re(dr);break;case 24:Gn(Xt)}}function Bo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){St(t,t.return,l)}}function ji(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){St(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){St(t,t.return,d)}}function hT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{y0(t,n)}catch(i){St(e,e.return,i)}}}function fT(e,t,n){n.props=Er(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){St(e,t,i)}}function Ka(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){St(e,t,r)}}function vn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){St(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function dT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){St(e,e.return,r)}}function Dh(e,t,n){try{var i=e.stateNode;b2(i,e.type,n,t),i[Me]=t}catch(r){St(e,e.return,r)}}function mT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Nh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ec));else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(xf(e,t,n),e=e.sibling;e!==null;)xf(e,t,n),e=e.sibling}function Iu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&$i(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}function gT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ce(t,i,n),t[_e]=e,t[Me]=n}catch(s){St(e,e.return,s)}}var Pn=!1,Ht=!1,Oh=!1,iy=typeof WeakSet=="function"?WeakSet:Set,ee=null;function i2(e,t){if(e=e.containerInfo,jf=Lu,e=n0(e),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:e,selectionRange:n},Lu=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){switch(t=ee,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var O=Er(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(O,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){St(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}}function pT(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n),i&4&&Bo(5,n);break;case 1:if(oi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){St(n,n.return,a)}else{var r=Er(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){St(n,n.return,a)}}i&64&&hT(n),i&512&&Ka(n,n.return);break;case 3:if(oi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{y0(e,t)}catch(a){St(n,n.return,a)}}break;case 27:t===null&&i&4&&gT(n);case 26:case 5:oi(e,n),t===null&&i&4&&dT(n),i&512&&Ka(n,n.return);break;case 12:oi(e,n);break;case 13:oi(e,n),i&4&&vT(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=f2.bind(null,n),N2(e,n))));break;case 22:if(i=n.memoizedState!==null||Pn,!i){t=t!==null&&t.memoizedState!==null||Ht,r=Pn;var s=Ht;Pn=i,(Ht=t)&&!s?ui(e,n,(n.subtreeFlags&8772)!==0):oi(e,n),Pn=r,Ht=s}break;case 30:break;default:oi(e,n)}}function yT(e){var t=e.alternate;t!==null&&(e.alternate=null,yT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ot=null,De=!1;function kn(e,t,n){for(n=n.child;n!==null;)_T(e,t,n),n=n.sibling}function _T(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(No,n)}catch{}switch(n.tag){case 26:Ht||vn(n,t),kn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||vn(n,t);var i=Ot,r=De;$i(n.type)&&(Ot=n.stateNode,De=!1),kn(e,t,n),Wa(n.stateNode),Ot=i,De=r;break;case 5:Ht||vn(n,t);case 6:if(i=Ot,r=De,Ot=null,kn(e,t,n),Ot=i,De=r,Ot!==null)if(De)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(n.stateNode)}catch(s){St(n,t,s)}else try{Ot.removeChild(n.stateNode)}catch(s){St(n,t,s)}break;case 18:Ot!==null&&(De?(e=Ot,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vo(e)):gy(Ot,n.stateNode));break;case 4:i=Ot,r=De,Ot=n.stateNode.containerInfo,De=!0,kn(e,t,n),Ot=i,De=r;break;case 0:case 11:case 14:case 15:Ht||ji(2,n,t),Ht||ji(4,n,t),kn(e,t,n);break;case 1:Ht||(vn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&fT(n,t,i)),kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,kn(e,t,n),Ht=i;break;default:kn(e,t,n)}}function vT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vo(e)}catch(n){St(t,t.return,n)}}function r2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new iy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new iy),t;default:throw Error(P(435,e.tag))}}function xh(e,t){var n=r2(e);t.forEach(function(i){var r=d2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ue(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if($i(l.type)){Ot=l.stateNode,De=!1;break t}break;case 5:Ot=l.stateNode,De=!1;break t;case 3:case 4:Ot=l.stateNode.containerInfo,De=!0;break t}l=l.return}if(Ot===null)throw Error(P(160));_T(s,a,r),Ot=null,De=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)TT(t,e),t=t.sibling}var un=null;function TT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ue(t,e),ze(e),i&4&&(ji(3,e,e.return),Bo(3,e),ji(5,e,e.return));break;case 1:Ue(t,e),ze(e),i&512&&(Ht||n===null||vn(n,n.return)),i&64&&Pn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=un;if(Ue(t,e),ze(e),i&512&&(Ht||n===null||vn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Mo]||s[_e]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ce(s,i,n),s[_e]=e,ne(s),i=s;break t;case"link":var a=Ty("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),ce(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Ty("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),ce(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[_e]=e,ne(s),i=s}e.stateNode=i}else Ey(r,e.type,e.stateNode);else e.stateNode=vy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ey(r,e.type,e.stateNode):vy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Dh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ue(t,e),ze(e),i&512&&(Ht||n===null||vn(n,n.return)),n!==null&&i&4&&Dh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ue(t,e),ze(e),i&512&&(Ht||n===null||vn(n,n.return)),e.flags&32){r=e.stateNode;try{Rs(r,"")}catch(_){St(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Dh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Oh=!0);break;case 6:if(Ue(t,e),ze(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){St(e,e.return,_)}}break;case 3:if(Zl=null,r=un,un=Vu(t.containerInfo),Ue(t,e),un=r,ze(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(_){St(e,e.return,_)}Oh&&(Oh=!1,ET(e));break;case 4:i=un,un=Vu(e.stateNode.containerInfo),Ue(t,e),ze(e),un=i;break;case 12:Ue(t,e),ze(e);break;case 13:Ue(t,e),ze(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(um=En()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Pn,d=Ht;if(Pn=h||r,Ht=d||u,Ue(t,e),Ht=d,Pn=h,ze(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Pn||Ht||ar(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){St(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){St(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,xh(e,n))));break;case 19:Ue(t,e),ze(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xh(e,i)));break;case 30:break;case 21:break;default:Ue(t,e),ze(e)}}function ze(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(mT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Nh(e);Iu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Rs(a,""),n.flags&=-33);var l=Nh(e);Iu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Nh(e);xf(e,h,u);break;default:throw Error(P(161))}}catch(d){St(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ET(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ET(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function oi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pT(e,t.alternate,t),t=t.sibling}function ar(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ji(4,t,t.return),ar(t);break;case 1:vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&fT(t,t.return,n),ar(t);break;case 27:Wa(t.stateNode);case 26:case 5:vn(t,t.return),ar(t);break;case 22:t.memoizedState===null&&ar(t);break;case 30:ar(t);break;default:ar(t)}e=e.sibling}}function ui(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ui(r,s,n),Bo(4,s);break;case 1:if(ui(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){St(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)p0(u[r],l)}catch(h){St(i,i.return,h)}}n&&a&64&&hT(s),Ka(s,s.return);break;case 27:gT(s);case 26:case 5:ui(r,s,n),n&&i===null&&a&4&&dT(s),Ka(s,s.return);break;case 12:ui(r,s,n);break;case 13:ui(r,s,n),n&&a&4&&vT(r,s);break;case 22:s.memoizedState===null&&ui(r,s,n),Ka(s,s.return);break;case 30:break;default:ui(r,s,n)}t=t.sibling}}function sm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Lo(n))}function am(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lo(e))}function pn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)AT(e,t,n,i),t=t.sibling}function AT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,n,i),r&2048&&Bo(9,t);break;case 1:pn(e,t,n,i);break;case 3:pn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lo(e)));break;case 12:if(r&2048){pn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){St(t,t.return,u)}}else pn(e,t,n,i);break;case 13:pn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?pn(e,t,n,i):Xa(e,t):s._visibility&2?pn(e,t,n,i):(s._visibility|=2,Yr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&sm(a,t);break;case 24:pn(e,t,n,i),r&2048&&am(t.alternate,t);break;default:pn(e,t,n,i)}}function Yr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Yr(s,a,l,u,r),Bo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Yr(s,a,l,u,r):Xa(s,a):(d._visibility|=2,Yr(s,a,l,u,r)),r&&h&2048&&sm(a.alternate,a);break;case 24:Yr(s,a,l,u,r),r&&h&2048&&am(a.alternate,a);break;default:Yr(s,a,l,u,r)}t=t.sibling}}function Xa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Xa(n,i),r&2048&&sm(i.alternate,i);break;case 24:Xa(n,i),r&2048&&am(i.alternate,i);break;default:Xa(n,i)}t=t.sibling}}var Ma=8192;function Hr(e){if(e.subtreeFlags&Ma)for(e=e.child;e!==null;)bT(e),e=e.sibling}function bT(e){switch(e.tag){case 26:Hr(e),e.flags&Ma&&e.memoizedState!==null&&H2(un,e.memoizedState,e.memoizedProps);break;case 5:Hr(e);break;case 3:case 4:var t=un;un=Vu(e.stateNode.containerInfo),Hr(e),un=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ma,Ma=16777216,Hr(e),Ma=t):Hr(e));break;default:Hr(e)}}function ST(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ia(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ee=i,RT(i,e)}ST(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wT(e),e=e.sibling}function wT(e){switch(e.tag){case 0:case 11:case 15:Ia(e),e.flags&2048&&ji(9,e,e.return);break;case 3:Ia(e);break;case 12:Ia(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xl(e)):Ia(e);break;default:Ia(e)}}function Xl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ee=i,RT(i,e)}ST(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ji(8,t,t.return),Xl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function RT(e,t){for(;ee!==null;){var n=ee;switch(n.tag){case 0:case 11:case 15:ji(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Lo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ee=i;else t:for(n=e;ee!==null;){i=ee;var r=i.sibling,s=i.return;if(yT(i),i===n){ee=null;break t}if(r!==null){r.return=s,ee=r;break t}ee=s}}}var s2={getCacheForType:function(e){var t=ve(Xt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},a2=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,st=null,ct=0,_t=0,je=null,Ai=!1,Ys=!1,om=!1,Xn=0,Bt=0,Bi=0,mr=0,lm=0,rn=0,Os=0,$a=null,Ne=null,Mf=!1,um=0,Cu=1/0,Du=null,Ci=null,le=0,Di=null,xs=null,vs=0,Vf=0,kf=null,IT=null,Za=0,Pf=null;function Fe(){if(vt&2&&ct!==0)return ct&-ct;if(X.T!==null){var e=Is;return e!==0?e:hm()}return Uv()}function CT(){rn===0&&(rn=!(ct&536870912)||dt?Vv():536870912);var e=sn.current;return e!==null&&(e.flags|=32),rn}function Ge(e,t,n){(e===Rt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),bi(e,ct,rn,!1)),xo(e,n),(!(vt&2)||e!==Rt)&&(e===Rt&&(!(vt&2)&&(mr|=n),Bt===4&&bi(e,ct,rn,!1)),Nn(e))}function DT(e,t,n){if(vt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Oo(e,t),r=i?u2(e,t):Mh(e,t,!0),s=i;do{if(r===0){Ys&&!i&&bi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!o2(n)){r=Mh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=$a;var u=l.current.memoizedState.isDehydrated;if(u&&(Ms(l,a).flags|=256),a=Mh(l,a,!1),a!==2){if(om&&!u){l.errorRecoveryDisabledLanes|=s,mr|=s,r=4;break t}s=Ne,Ne=r,s!==null&&(Ne===null?Ne=s:Ne.push.apply(Ne,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ms(e,0),bi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:bi(i,t,rn,!Ai);break t;case 2:Ne=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=um+300-En(),10<r)){if(bi(i,t,rn,!Ai),lc(i,0,!0)!==0)break t;i.timeoutHandle=KT(ry.bind(null,i,n,Ne,Du,Mf,t,rn,mr,Os,Ai,s,2,-0,0),r);break t}ry(i,n,Ne,Du,Mf,t,rn,mr,Os,Ai,s,0,-0,0)}}break}while(!0);Nn(e)}function ry(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:q2},bT(t),g=F2(),g!==null)){e.cancelPendingCommit=g(ay.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),bi(e,s,a,!h);return}ay(e,t,s,n,i,r,a,l,u)}function o2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Qe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t,n,i){t&=~lm,t&=~mr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-He(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Pv(e,n,t)}function _c(){return vt&6?!0:(qo(0),!1)}function cm(){if(st!==null){if(_t===0)var e=st.return;else e=st,jn=Nr=null,$d(e),_s=null,ho=0,e=st;for(;e!==null;)cT(e.alternate,e),e=e.return;st=null}}function Ms(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,w2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cm(),Rt=e,st=n=Fn(e.current,null),ct=t,_t=0,je=null,Ai=!1,Ys=Oo(e,t),om=!1,Os=rn=lm=mr=Bi=Bt=0,Ne=$a=null,Mf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-He(i),s=1<<r;t|=e[r],i&=~s}return Xn=t,fc(),n}function NT(e,t){it=null,X.H=Au,t===Uo||t===mc?(t=Pp(),_t=3):t===m0?(t=Pp(),_t=4):_t=t===rT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,je=t,st===null&&(Bt=1,wu(e,en(t,e.current)))}function OT(){var e=X.H;return X.H=Au,e===null?Au:e}function xT(){var e=X.A;return X.A=s2,e}function Lf(){Bt=4,Ai||(ct&4194048)!==ct&&sn.current!==null||(Ys=!0),!(Bi&134217727)&&!(mr&134217727)||Rt===null||bi(Rt,ct,rn,!1)}function Mh(e,t,n){var i=vt;vt|=2;var r=OT(),s=xT();(Rt!==e||ct!==t)&&(Du=null,Ms(e,t)),t=!1;var a=Bt;t:do try{if(_t!==0&&st!==null){var l=st,u=je;switch(_t){case 8:cm(),a=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var h=_t;if(_t=0,je=null,cs(e,l,u,h),n&&Ys){a=0;break t}break;default:h=_t,_t=0,je=null,cs(e,l,u,h)}}l2(),a=Bt;break}catch(d){NT(e,d)}while(!0);return t&&e.shellSuspendCounter++,jn=Nr=null,vt=i,X.H=r,X.A=s,st===null&&(Rt=null,ct=0,fc()),a}function l2(){for(;st!==null;)MT(st)}function u2(e,t){var n=vt;vt|=2;var i=OT(),r=xT();Rt!==e||ct!==t?(Du=null,Cu=En()+500,Ms(e,t)):Ys=Oo(e,t);t:do try{if(_t!==0&&st!==null){t=st;var s=je;e:switch(_t){case 1:_t=0,je=null,cs(e,t,s,1);break;case 2:case 9:if(kp(s)){_t=0,je=null,sy(t);break}t=function(){_t!==2&&_t!==9||Rt!==e||(_t=7),Nn(e)},s.then(t,t);break t;case 3:_t=7;break t;case 4:_t=5;break t;case 7:kp(s)?(_t=0,je=null,sy(t)):(_t=0,je=null,cs(e,t,s,7));break;case 5:var a=null;switch(st.tag){case 26:a=st.memoizedState;case 5:case 27:var l=st;if(!a||WT(a)){_t=0,je=null;var u=l.sibling;if(u!==null)st=u;else{var h=l.return;h!==null?(st=h,vc(h)):st=null}break e}}_t=0,je=null,cs(e,t,s,5);break;case 6:_t=0,je=null,cs(e,t,s,6);break;case 8:cm(),Bt=6;break t;default:throw Error(P(462))}}c2();break}catch(d){NT(e,d)}while(!0);return jn=Nr=null,X.H=i,X.A=r,vt=n,st!==null?0:(Rt=null,ct=0,fc(),Bt)}function c2(){for(;st!==null&&!xb();)MT(st)}function MT(e){var t=uT(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?vc(e):st=t}function sy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wp(n,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=Wp(n,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:$d(t);default:cT(n,t),t=st=c0(t,Xn),t=uT(n,t,Xn)}e.memoizedProps=e.pendingProps,t===null?vc(e):st=t}function cs(e,t,n,i){jn=Nr=null,$d(t),_s=null,ho=0;var r=t.return;try{if(JS(e,r,t,n,ct)){Bt=1,wu(e,en(n,e.current)),st=null;return}}catch(s){if(r!==null)throw st=r,s;Bt=1,wu(e,en(n,e.current)),st=null;return}t.flags&32768?(dt||i===1?e=!0:Ys||ct&536870912?e=!1:(Ai=e=!0,(i===2||i===9||i===3||i===6)&&(i=sn.current,i!==null&&i.tag===13&&(i.flags|=16384))),VT(t,e)):vc(t)}function vc(e){var t=e;do{if(t.flags&32768){VT(t,Ai);return}e=t.return;var n=e2(t.alternate,t,Xn);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Bt===0&&(Bt=5)}function VT(e,t){do{var n=n2(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);Bt=6,st=null}function ay(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Tc();while(le!==0);if(vt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=Ld,qb(e,n,s,a,l,u),e===Rt&&(st=Rt=null,ct=0),xs=t,Di=e,vs=n,Vf=s,kf=r,IT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,m2(fu,function(){return zT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,r=mt.p,mt.p=2,a=vt,vt|=4;try{i2(e,t,n)}finally{vt=a,mt.p=r,X.T=i}}le=1,kT(),PT(),LT()}}function kT(){if(le===1){le=0;var e=Di,t=xs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=mt.p;mt.p=2;var r=vt;vt|=4;try{TT(t,e);var s=Bf,a=n0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&e0(l.ownerDocument.documentElement,l)){if(u!==null&&Pd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),O=l.textContent.length,M=Math.min(u.start,O),V=u.end===void 0?M:Math.min(u.end,O);!_.extend&&M>V&&(a=V,V=M,M=a);var b=Ip(l,M),v=Ip(l,V);if(b&&v&&(_.rangeCount!==1||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=g.createRange();w.setStart(b.node,b.offset),_.removeAllRanges(),M>V?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var D=g[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Lu=!!jf,Bf=jf=null}finally{vt=r,mt.p=i,X.T=n}}e.current=t,le=2}}function PT(){if(le===2){le=0;var e=Di,t=xs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=mt.p;mt.p=2;var r=vt;vt|=4;try{pT(e,t.alternate,t)}finally{vt=r,mt.p=i,X.T=n}}le=3}}function LT(){if(le===4||le===3){le=0,Mb();var e=Di,t=xs,n=vs,i=IT;t.subtreeFlags&10256||t.flags&10256?le=5:(le=0,xs=Di=null,UT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Dd(n),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(No,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,r=mt.p,mt.p=2,X.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{X.T=t,mt.p=r}}vs&3&&Tc(),Nn(e),r=e.pendingLanes,n&4194090&&r&42?e===Pf?Za++:(Za=0,Pf=e):Za=0,qo(0)}}function UT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lo(t)))}function Tc(e){return kT(),PT(),LT(),zT()}function zT(){if(le!==5)return!1;var e=Di,t=Vf;Vf=0;var n=Dd(vs),i=X.T,r=mt.p;try{mt.p=32>n?32:n,X.T=null,n=kf,kf=null;var s=Di,a=vs;if(le=0,xs=Di=null,vs=0,vt&6)throw Error(P(331));var l=vt;if(vt|=4,wT(s.current),AT(s,s.current,a,n),vt=l,qo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(No,s)}catch{}return!0}finally{mt.p=r,X.T=i,UT(e,t)}}function oy(e,t,n){t=en(n,t),t=Df(e.stateNode,t,2),e=Ii(e,t,2),e!==null&&(xo(e,2),Nn(e))}function St(e,t,n){if(e.tag===3)oy(e,e,n);else for(;t!==null;){if(t.tag===3){oy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ci===null||!Ci.has(i))){e=en(n,e),n=nT(2),i=Ii(t,n,2),i!==null&&(iT(n,i,t,e),xo(i,2),Nn(i));break}}t=t.return}}function Vh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new a2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(om=!0,r.add(n),e=h2.bind(null,e,t,n),t.then(e,e))}function h2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rt===e&&(ct&n)===n&&(Bt===4||Bt===3&&(ct&62914560)===ct&&300>En()-um?!(vt&2)&&Ms(e,0):lm|=n,Os===ct&&(Os=0)),Nn(e)}function jT(e,t){t===0&&(t=kv()),e=Qs(e,t),e!==null&&(xo(e,t),Nn(e))}function f2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jT(e,n)}function d2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),jT(e,n)}function m2(e,t){return Id(e,t)}var Nu=null,Kr=null,Uf=!1,Ou=!1,kh=!1,gr=0;function Nn(e){e!==Kr&&e.next===null&&(Kr===null?Nu=Kr=e:Kr=Kr.next=e),Ou=!0,Uf||(Uf=!0,p2())}function qo(e,t){if(!kh&&Ou){kh=!0;do for(var n=!1,i=Nu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-He(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,ly(i,s))}else s=ct,s=lc(i,i===Rt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Oo(i,s)||(n=!0,ly(i,s));i=i.next}while(n);kh=!1}}function g2(){BT()}function BT(){Ou=Uf=!1;var e=0;gr!==0&&(S2()&&(e=gr),gr=0);for(var t=En(),n=null,i=Nu;i!==null;){var r=i.next,s=qT(i,t);s===0?(i.next=null,n===null?Nu=r:n.next=r,r===null&&(Kr=n)):(n=i,(e!==0||s&3)&&(Ou=!0)),i=r}qo(e)}function qT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-He(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Bb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=Rt,n=ct,n=lc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&oh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Oo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&oh(i),Dd(n)){case 2:case 8:n=xv;break;case 32:n=fu;break;case 268435456:n=Mv;break;default:n=fu}return i=HT.bind(null,e),n=Id(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&oh(i),e.callbackPriority=2,e.callbackNode=null,2}function HT(e,t){if(le!==0&&le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var i=ct;return i=lc(e,e===Rt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(DT(e,i,t),qT(e,En()),e.callbackNode!=null&&e.callbackNode===n?HT.bind(null,e):null)}function ly(e,t){if(Tc())return null;DT(e,t,!0)}function p2(){R2(function(){vt&6?Id(Ov,g2):BT()})}function hm(){return gr===0&&(gr=Vv()),gr}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bl(""+e)}function cy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function y2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=uy((r[Me]||null).action),a=i.submitter;a&&(t=(t=a[Me]||null)?uy(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new uc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(gr!==0){var u=a?cy(r,a):new FormData(r);If(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?cy(r,a):new FormData(r),If(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Ph=0;Ph<gf.length;Ph++){var Lh=gf[Ph],_2=Lh.toLowerCase(),v2=Lh[0].toUpperCase()+Lh.slice(1);gn(_2,"on"+v2)}gn(r0,"onAnimationEnd");gn(s0,"onAnimationIteration");gn(a0,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(PS,"onTransitionRun");gn(LS,"onTransitionStart");gn(US,"onTransitionCancel");gn(o0,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function FT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Su(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Su(d)}r.currentTarget=null,s=u}}}}function rt(e,t){var n=t[lf];n===void 0&&(n=t[lf]=new Set);var i=e+"__bubble";n.has(i)||(GT(t,e,2,!1),n.add(i))}function Uh(e,t,n){var i=0;t&&(i|=4),GT(n,e,i,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function fm(e){if(!e[Dl]){e[Dl]=!0,zv.forEach(function(n){n!=="selectionchange"&&(T2.has(n)||Uh(n,!1,e),Uh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,Uh("selectionchange",!1,t))}}function GT(e,t,n,i){switch(iE(t)){case 2:var r=Y2;break;case 8:r=K2;break;default:r=pm}n=r.bind(null,t,n,e),r=void 0,!ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=es(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}Yv(function(){var h=s,d=xd(n),g=[];t:{var m=l0.get(e);if(m!==void 0){var _=uc,O=e;switch(e){case"keypress":if(Hl(n)===0)break t;case"keydown":case"keyup":_=mS;break;case"focusin":O="focus",_=gh;break;case"focusout":O="blur",_=gh;break;case"beforeblur":case"afterblur":_=gh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=yS;break;case r0:case s0:case a0:_=sS;break;case o0:_=vS;break;case"scroll":case"scrollend":_=tS;break;case"wheel":_=ES;break;case"copy":case"cut":case"paste":_=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=vp;break;case"toggle":case"beforetoggle":_=bS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),b=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,w;v!==null;){var D=v;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||b===null||(D=ao(v,b),D!=null&&M.push(mo(v,D,w))),V)break;v=v.return}0<M.length&&(m=new _(m,O,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==hf&&(O=n.relatedTarget||n.fromElement)&&(es(O)||O[Fs]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=h,O=O?es(O):null,O!==null&&(V=Do(O),M=O.tag,O!==V||M!==5&&M!==27&&M!==6)&&(O=null)):(_=null,O=h),_!==O)){if(M=yp,D="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=vp,D="onPointerLeave",b="onPointerEnter",v="pointer"),V=_==null?m:xa(_),w=O==null?m:xa(O),m=new M(D,v+"leave",_,n,d),m.target=V,m.relatedTarget=w,D=null,es(d)===h&&(M=new M(b,v+"enter",O,n,d),M.target=w,M.relatedTarget=V,D=M),V=D,_&&O)e:{for(M=_,b=O,v=0,w=M;w;w=Fr(w))v++;for(w=0,D=b;D;D=Fr(D))w++;for(;0<v-w;)M=Fr(M),v--;for(;0<w-v;)b=Fr(b),w--;for(;v--;){if(M===b||b!==null&&M===b.alternate)break e;M=Fr(M),b=Fr(b)}M=null}else M=null;_!==null&&hy(g,m,_,M,!1),O!==null&&V!==null&&hy(g,V,O,M,!0)}}t:{if(m=h?xa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=bp;else if(Ap(m))if(Jv)z=MS;else{z=OS;var B=NS}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Od(h.elementType)&&(z=bp):z=xS;if(z&&(z=z(e,h))){Wv(g,z,n,d);break t}B&&B(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&cf(m,"number",m.value)}switch(B=h?xa(h):window,e){case"focusin":(Ap(B)||B.contentEditable==="true")&&(rs=B,df=h,Ba=null);break;case"focusout":Ba=df=rs=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Cp(g,n,d);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":Cp(g,n,d)}var T;if(kd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else is?$v(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Xv&&n.locale!=="ko"&&(is||y!=="onCompositionStart"?y==="onCompositionEnd"&&is&&(T=Kv()):(Ei=d,Md="value"in Ei?Ei.value:Ei.textContent,is=!0)),B=xu(h,y),0<B.length&&(y=new _p(y,e,null,n,d),g.push({event:y,listeners:B}),T?y.data=T:(T=Zv(n),T!==null&&(y.data=T)))),(T=wS?RS(e,n):IS(e,n))&&(y=xu(h,"onBeforeInput"),0<y.length&&(B=new _p("onBeforeInput","beforeinput",null,n,d),g.push({event:B,listeners:y}),B.data=T)),y2(g,e,h,n,d)}FT(g,t)})}function mo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=ao(e,n),r!=null&&i.unshift(mo(e,r,s)),r=ao(e,t),r!=null&&i.push(mo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hy(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=ao(n,s),h!=null&&a.unshift(mo(n,h,u))):r||(h=ao(n,s),h!=null&&a.push(mo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var E2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(A2,"")}function QT(e,t){return t=fy(t),fy(e)===t}function Ec(){}function Et(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Rs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Rs(e,""+i);break;case"className":Al(e,"class",i);break;case"tabIndex":Al(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,n,i);break;case"style":Qv(e,i,s);break;case"data":if(t!=="object"){Al(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Bl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Et(e,t,"name",r.name,r,null),Et(e,t,"formEncType",r.formEncType,r,null),Et(e,t,"formMethod",r.formMethod,r,null),Et(e,t,"formTarget",r.formTarget,r,null)):(Et(e,t,"encType",r.encType,r,null),Et(e,t,"method",r.method,r,null),Et(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Bl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ec);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Bl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":rt("beforetoggle",e),rt("toggle",e),jl(e,"popover",i);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":jl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wb.get(n)||n,jl(e,n,i))}}function zf(e,t,n,i,r,s){switch(n){case"style":Qv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Rs(e,i):(typeof i=="number"||typeof i=="bigint")&&Rs(e,""+i);break;case"onScroll":i!=null&&rt("scroll",e);break;case"onScrollEnd":i!=null&&rt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Me]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):jl(e,n,i)}}}function ce(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Et(e,t,s,a,n,null)}}r&&Et(e,t,"srcSet",n.srcSet,n,null),i&&Et(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:Et(e,t,i,d,n,null)}}Hv(e,s,l,u,h,a,r,!1),du(e);return;case"select":rt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Et(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ds(e,!!i,t,!1):n!=null&&ds(e,!!i,n,!0);return;case"textarea":rt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Et(e,t,a,l,n,null)}Gv(e,i,r,s),du(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Et(e,t,u,i,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(i=0;i<fo.length;i++)rt(fo[i],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Et(e,t,h,i,n,null)}return;default:if(Od(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&zf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Et(e,t,l,i,n,null))}function b2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Et(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==g&&Et(e,t,m,_,i,g)}}uf(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Et(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Et(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?ds(e,!!n,m,!1):!!i!=!!n&&(t!=null?ds(e,!!n,t,!0):ds(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Et(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&Et(e,t,a,r,i,s)}Fv(e,m,_);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:Et(e,t,O,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Et(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Et(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:Et(e,t,h,m,i,_)}return;default:if(Od(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&zf(e,t,V,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||zf(e,t,d,m,i,_);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&Et(e,t,b,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Et(e,t,g,m,i,_)}var jf=null,Bf=null;function Mu(e){return e.nodeType===9?e:e.ownerDocument}function dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jh=null;function S2(){var e=window.event;return e&&e.type==="popstate"?e===jh?!1:(jh=e,!0):(jh=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(I2)}:KT;function I2(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function gy(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Wa(a.documentElement),n&2&&Wa(a.body),n&4)for(n=a.head,Wa(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Mo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),vo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);vo(t)}function Hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hf(n),Nd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function C2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Mo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function D2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=dn(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function N2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Gf=null;function py(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function XT(e,t,n){switch(t=Mu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Wa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nd(e)}var an=new Map,yy=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ei=mt.d;mt.d={f:O2,r:x2,D:M2,C:V2,L:k2,m:P2,X:U2,S:L2,M:z2};function O2(){var e=ei.f(),t=_c();return e||t}function x2(e){var t=Gs(e);t!==null&&t.tag===5&&t.type==="form"?q0(t):ei.r(e)}var Ks=typeof document>"u"?null:document;function $T(e,t,n){var i=Ks;if(i&&typeof t=="string"&&t){var r=tn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),yy.has(r)||(yy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ce(t,"link",e),ne(t),i.head.appendChild(t)))}}function M2(e){ei.D(e),$T("dns-prefetch",e,null)}function V2(e,t){ei.C(e,t),$T("preconnect",e,t)}function k2(e,t,n){ei.L(e,t,n);var i=Ks;if(i&&e&&t){var r='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+tn(n.imageSizes)+'"]')):r+='[href="'+tn(e)+'"]';var s=r;switch(t){case"style":s=Vs(e);break;case"script":s=Xs(e)}an.has(s)||(e=Nt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),an.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ho(s))||t==="script"&&i.querySelector(Fo(s))||(t=i.createElement("link"),ce(t,"link",e),ne(t),i.head.appendChild(t)))}}function P2(e,t){ei.m(e,t);var n=Ks;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+tn(i)+'"][href="'+tn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xs(e)}if(!an.has(s)&&(e=Nt({rel:"modulepreload",href:e},t),an.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fo(s)))return}i=n.createElement("link"),ce(i,"link",e),ne(i),n.head.appendChild(i)}}}function L2(e,t,n){ei.S(e,t,n);var i=Ks;if(i&&e){var r=fs(i).hoistableStyles,s=Vs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Ho(s)))l.loading=5;else{e=Nt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=an.get(s))&&dm(e,n);var u=a=i.createElement("link");ne(u),ce(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,$l(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function U2(e,t){ei.X(e,t);var n=Ks;if(n&&e){var i=fs(n).hoistableScripts,r=Xs(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=Nt({src:e,async:!0},t),(t=an.get(r))&&mm(e,t),s=n.createElement("script"),ne(s),ce(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function z2(e,t){ei.M(e,t);var n=Ks;if(n&&e){var i=fs(n).hoistableScripts,r=Xs(e),s=i.get(r);s||(s=n.querySelector(Fo(r)),s||(e=Nt({src:e,async:!0,type:"module"},t),(t=an.get(r))&&mm(e,t),s=n.createElement("script"),ne(s),ce(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function _y(e,t,n,i){var r=(r=wi.current)?Vu(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vs(n.href),n=fs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vs(n.href);var s=fs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Ho(e)))&&!s._p&&(a.instance=s,a.state.loading=5),an.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},an.set(e,n),s||j2(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(n),n=fs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function Vs(e){return'href="'+tn(e)+'"'}function Ho(e){return'link[rel="stylesheet"]['+e+"]"}function ZT(e){return Nt({},e,{"data-precedence":e.precedence,precedence:null})}function j2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ce(t,"link",n),ne(t),e.head.appendChild(t))}function Xs(e){return'[src="'+tn(e)+'"]'}function Fo(e){return"script[async]"+e}function vy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+tn(n.href)+'"]');if(i)return t.instance=i,ne(i),i;var r=Nt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ne(i),ce(i,"style",r),$l(i,n.precedence,e),t.instance=i;case"stylesheet":r=Vs(n.href);var s=e.querySelector(Ho(r));if(s)return t.state.loading|=4,t.instance=s,ne(s),s;i=ZT(n),(r=an.get(r))&&dm(i,r),s=(e.ownerDocument||e).createElement("link"),ne(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ce(s,"link",i),t.state.loading|=4,$l(s,n.precedence,e),t.instance=s;case"script":return s=Xs(n.src),(r=e.querySelector(Fo(s)))?(t.instance=r,ne(r),r):(i=n,(r=an.get(s))&&(i=Nt({},n),mm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ne(r),ce(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,$l(i,n.precedence,e));return t.instance}function $l(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zl=null;function Ty(e,t,n){if(Zl===null){var i=new Map,r=Zl=new Map;r.set(n,i)}else r=Zl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Mo]||s[_e]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ey(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function B2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function WT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var go=null;function q2(){}function H2(e,t,n){if(go===null)throw Error(P(475));var i=go;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Vs(n.href),s=e.querySelector(Ho(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=ku.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,ne(s);return}s=e.ownerDocument||e,n=ZT(n),(r=an.get(r))&&dm(n,r),s=s.createElement("link"),ne(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ce(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=ku.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function F2(){if(go===null)throw Error(P(475));var e=go;return e.stylesheets&&e.count===0&&Qf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Qf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pu=null;function Qf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pu=new Map,t.forEach(G2,e),Pu=null,ku.call(e))}function G2(e,t){if(!(t.state.loading&4)){var n=Pu.get(e);if(n)var i=n.get(null);else{n=new Map,Pu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=ku.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var po={$$typeof:Ln,Provider:null,Consumer:null,_currentValue:ur,_currentValue2:ur,_threadCount:0};function Q2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.hiddenUpdates=lh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function JT(e,t,n,i,r,s,a,l,u,h,d,g){return e=new Q2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=Be(3,null,null,t),e.current=s,s.stateNode=e,t=qd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Fd(s),e}function tE(e){return e?(e=os,e):os}function eE(e,t,n,i,r,s){r=tE(r),i.context===null?i.context=r:i.pendingContext=r,i=Ri(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ii(e,i,t),n!==null&&(Ge(n,e,t),Fa(n,e,t))}function Ay(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gm(e,t){Ay(e,t),(e=e.alternate)&&Ay(e,t)}function nE(e){if(e.tag===13){var t=Qs(e,67108864);t!==null&&Ge(t,e,67108864),gm(e,67108864)}}var Lu=!0;function Y2(e,t,n,i){var r=X.T;X.T=null;var s=mt.p;try{mt.p=2,pm(e,t,n,i)}finally{mt.p=s,X.T=r}}function K2(e,t,n,i){var r=X.T;X.T=null;var s=mt.p;try{mt.p=8,pm(e,t,n,i)}finally{mt.p=s,X.T=r}}function pm(e,t,n,i){if(Lu){var r=Yf(i);if(r===null)zh(e,t,i,Uu,n),by(e,i);else if($2(r,e,t,n,i))i.stopPropagation();else if(by(e,i),t&4&&-1<X2.indexOf(e)){for(;r!==null;){var s=Gs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=rr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-He(a);l.entanglements[1]|=u,a&=~u}Nn(s),!(vt&6)&&(Cu=En()+500,qo(0))}}break;case 13:l=Qs(s,2),l!==null&&Ge(l,s,2),_c(),gm(s,2)}if(s=Yf(i),s===null&&zh(e,t,i,Uu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else zh(e,t,i,null,n)}}function Yf(e){return e=xd(e),ym(e)}var Uu=null;function ym(e){if(Uu=null,e=es(e),e!==null){var t=Do(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Iv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Uu=e,null}function iE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vb()){case Ov:return 2;case xv:return 8;case fu:case kb:return 32;case Mv:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ni=null,Oi=null,xi=null,yo=new Map,_o=new Map,gi=[],X2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(t.pointerId)}}function Ca(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Gs(t),t!==null&&nE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $2(e,t,n,i,r){switch(t){case"focusin":return Ni=Ca(Ni,e,t,n,i,r),!0;case"dragenter":return Oi=Ca(Oi,e,t,n,i,r),!0;case"mouseover":return xi=Ca(xi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return yo.set(s,Ca(yo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,_o.set(s,Ca(_o.get(s)||null,e,t,n,i,r)),!0}return!1}function rE(e){var t=es(e.target);if(t!==null){var n=Do(t);if(n!==null){if(t=n.tag,t===13){if(t=Iv(n),t!==null){e.blockedOn=t,Hb(e.priority,function(){if(n.tag===13){var i=Fe();i=Cd(i);var r=Qs(n,i);r!==null&&Ge(r,n,i),gm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);hf=i,n.target.dispatchEvent(i),hf=null}else return t=Gs(n),t!==null&&nE(t),e.blockedOn=n,!1;t.shift()}return!0}function Sy(e,t,n){Wl(e)&&n.delete(t)}function Z2(){Kf=!1,Ni!==null&&Wl(Ni)&&(Ni=null),Oi!==null&&Wl(Oi)&&(Oi=null),xi!==null&&Wl(xi)&&(xi=null),yo.forEach(Sy),_o.forEach(Sy)}function Nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Kf||(Kf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Z2)))}var Ol=null;function wy(e){Ol!==e&&(Ol=e,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){Ol===e&&(Ol=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(ym(i||n)===null)continue;break}var s=Gs(n);s!==null&&(e.splice(t,3),t-=3,If(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function vo(e){function t(u){return Nl(u,e)}Ni!==null&&Nl(Ni,e),Oi!==null&&Nl(Oi,e),xi!==null&&Nl(xi,e),yo.forEach(t),_o.forEach(t);for(var n=0;n<gi.length;n++){var i=gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Me]||null;if(typeof s=="function")a||wy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Me]||null)l=a.formAction;else if(ym(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),wy(n)}}}function _m(e){this._internalRoot=e}Ac.prototype.render=_m.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=Fe();eE(n,i,e,t,null,null)};Ac.prototype.unmount=_m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eE(e.current,2,null,e,null,null),_c(),t[Fs]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&rE(e)}};var Ry=wv.version;if(Ry!=="19.1.0")throw Error(P(527,Ry,"19.1.0"));mt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Ib(t),e=e!==null?Cv(e):null,e=e===null?null:e.stateNode,e};var W2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{No=xl.inject(W2),qe=xl}catch{}}ac.createRoot=function(e,t){if(!Rv(e))throw Error(P(299));var n=!1,i="",r=J0,s=tT,a=eT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=JT(e,1,!1,null,null,n,i,r,s,a,l,null),e[Fs]=t.current,fm(e),new _m(t)};ac.hydrateRoot=function(e,t,n){if(!Rv(e))throw Error(P(299));var i=!1,r="",s=J0,a=tT,l=eT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=JT(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=tE(null),n=t.current,i=Fe(),i=Cd(i),r=Ri(i),r.callback=null,Ii(n,r,i),n=i,t.current.lanes=n,xo(t,n),Nn(t),e[Fs]=t.current,fm(e),new Ac(t)};ac.version="19.1.0";function sE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sE)}catch(e){console.error(e)}}sE(),vv.exports=ac;var J2=vv.exports;const tw=uv(J2),ew=()=>{};var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},nw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new iw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const O=h<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rw=function(e){const t=aE(e);return oE.encodeByteArray(t,!0)},zu=function(e){return rw(e).replace(/\./g,"")},lE=function(e){try{return oE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=()=>sw().__FIREBASE_DEFAULTS__,ow=()=>{if(typeof process>"u"||typeof Iy>"u")return;const e=Iy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&lE(e[1]);return t&&JSON.parse(t)},bc=()=>{try{return ew()||aw()||ow()||lw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uE=e=>{var t,n;return(n=(t=bc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uw=e=>{const t=uE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},cE=()=>{var e;return(e=bc())===null||e===void 0?void 0:e.config},hE=e=>{var t;return(t=bc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(e){return e.endsWith(".cloudworkstations.dev")}async function fE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zu(JSON.stringify(n)),zu(JSON.stringify(a)),""].join(".")}const Ja={};function fw(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ja))Ja[t]?e.emulator.push(t):e.prod.push(t);return e}function dw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Cy=!1;function dE(e,t){if(typeof window>"u"||typeof document>"u"||!$s(window.location.host)||Ja[e]===t||Ja[e]||Cy)return;Ja[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=fw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Cy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=dw(i),_=n("text"),O=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(V,M);const D=h();u(v,b),w.append(v,O,V,D),document.body.appendChild(w)}s?(O.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function gw(){var e;const t=(e=bc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vw(){const e=Te();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Tw(){return!gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ew(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="FirebaseError";class ni extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=bw,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?Sw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ni(r,l,i)}}function Sw(e,t){return e.replace(ww,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ww=/\{\$([^}]+)}/g;function Rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ar(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Dy(s)&&Dy(a)){if(!Ar(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Dy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Iw(e,t){const n=new Cw(e,t);return n.subscribe.bind(n)}class Cw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Dw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Bh),r.error===void 0&&(r.error=Bh),r.complete===void 0&&(r.complete=Bh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e){return e&&e._delegate?e._delegate:e}class br{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new cw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xw(t))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=or){return this.instances.has(t)}getOptions(t=or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=or){return this.component?this.component.multipleInstances?t:or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(e){return e===or?void 0:e}function xw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const Vw={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},kw=at.INFO,Pw={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Lw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Pw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=kw,this._logHandler=Lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const Uw=(e,t)=>t.some(n=>e instanceof n);let Ny,Oy;function zw(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,Xf=new WeakMap,gE=new WeakMap,qh=new WeakMap,Tm=new WeakMap;function Bw(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Mi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&mE.set(n,e)}).catch(()=>{}),Tm.set(t,e),t}function qw(e){if(Xf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Xf.set(e,t)}let $f={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Hw(e){$f=e($f)}function Fw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Hh(this),t,...n);return gE.set(i,t.sort?t.sort():[t]),Mi(i)}:jw().includes(e)?function(...t){return e.apply(Hh(this),t),Mi(mE.get(this))}:function(...t){return Mi(e.apply(Hh(this),t))}}function Gw(e){return typeof e=="function"?Fw(e):(e instanceof IDBTransaction&&qw(e),Uw(e,zw())?new Proxy(e,$f):e)}function Mi(e){if(e instanceof IDBRequest)return Bw(e);if(qh.has(e))return qh.get(e);const t=Gw(e);return t!==e&&(qh.set(e,t),Tm.set(t,e)),t}const Hh=e=>Tm.get(e);function Qw(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Mi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Mi(a.result),u.oldVersion,u.newVersion,Mi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Yw=["get","getKey","getAll","getAllKeys","count"],Kw=["put","add","delete","clear"],Fh=new Map;function xy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fh.get(t))return Fh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Kw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Yw.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Fh.set(t,s),s}Hw(e=>({...e,get:(t,n,i)=>xy(t,n)||e.get(t,n,i),has:(t,n)=>!!xy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($w(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $w(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zf="@firebase/app",My="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new vm("@firebase/app"),Zw="@firebase/app-compat",Ww="@firebase/analytics-compat",Jw="@firebase/analytics",tR="@firebase/app-check-compat",eR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",rR="@firebase/database",sR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",uR="@firebase/installations",cR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",mR="@firebase/performance-compat",gR="@firebase/remote-config",pR="@firebase/remote-config-compat",yR="@firebase/storage",_R="@firebase/storage-compat",vR="@firebase/firestore",TR="@firebase/ai",ER="@firebase/firestore-compat",AR="firebase",bR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",SR={[Zf]:"fire-core",[Zw]:"fire-core-compat",[Jw]:"fire-analytics",[Ww]:"fire-analytics-compat",[eR]:"fire-app-check",[tR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[rR]:"fire-rtdb",[sR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[uR]:"fire-iid",[cR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[mR]:"fire-perf-compat",[gR]:"fire-rc",[pR]:"fire-rc-compat",[yR]:"fire-gcs",[_R]:"fire-gcs-compat",[vR]:"fire-fst",[ER]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,wR=new Map,Jf=new Map;function Vy(e,t){try{e.container.addComponent(t)}catch(n){$n.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ks(e){const t=e.name;if(Jf.has(t))return $n.debug(`There were multiple attempts to register component ${t}.`),!1;Jf.set(t,e);for(const n of ju.values())Vy(n,e);for(const n of wR.values())Vy(n,e);return!0}function Em(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Go("app","Firebase",RR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=bR;function pE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Wf,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Vi.create("bad-app-name",{appName:String(r)});if(n||(n=cE()),!n)throw Vi.create("no-options");const s=ju.get(r);if(s){if(Ar(n,s.options)&&Ar(i,s.config))return s;throw Vi.create("duplicate-app",{appName:r})}const a=new Mw(r);for(const u of Jf.values())a.addComponent(u);const l=new IR(n,i,a);return ju.set(r,l),l}function yE(e=Wf){const t=ju.get(e);if(!t&&e===Wf&&cE())return pE();if(!t)throw Vi.create("no-app",{appName:e});return t}function ki(e,t,n){var i;let r=(i=SR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$n.warn(l.join(" "));return}ks(new br(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-heartbeat-database",DR=1,To="firebase-heartbeat-store";let Gh=null;function _E(){return Gh||(Gh=Qw(CR,DR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(To)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),Gh}async function NR(e){try{const n=(await _E()).transaction(To),i=await n.objectStore(To).get(vE(e));return await n.done,i}catch(t){if(t instanceof ni)$n.warn(t.message);else{const n=Vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$n.warn(n.message)}}}async function ky(e,t){try{const i=(await _E()).transaction(To,"readwrite");await i.objectStore(To).put(t,vE(e)),await i.done}catch(n){if(n instanceof ni)$n.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function vE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1024,xR=30;class MR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Py();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>xR){const a=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Py(),{heartbeatsToSend:i,unsentEntries:r}=VR(this._heartbeatsCache.heartbeats),s=zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}}}function Py(){return new Date().toISOString().substring(0,10)}function VR(e,t=OR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Ly(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ly(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class kR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ew()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ly(e){return zu(JSON.stringify({version:2,heartbeats:e})).length}function PR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(e){ks(new br("platform-logger",t=>new Xw(t),"PRIVATE")),ks(new br("heartbeat",t=>new MR(t),"PRIVATE")),ki(Zf,My,e),ki(Zf,My,"esm2017"),ki("fire-js","")}LR("");var UR="firebase",zR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(UR,zR,"app");function Am(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=TE,EE=new Go("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new vm("@firebase/auth");function BR(e,...t){Bu.logLevel<=at.WARN&&Bu.warn(`Auth (${Zs}): ${e}`,...t)}function Jl(e,...t){Bu.logLevel<=at.ERROR&&Bu.error(`Auth (${Zs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,...t){throw bm(e,...t)}function bn(e,...t){return bm(e,...t)}function AE(e,t,n){const i=Object.assign(Object.assign({},jR()),{[t]:n});return new Go("auth","Firebase",i).create(t,{appName:e.name})}function Pi(e){return AE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return EE.create(e,...t)}function $(e,t,...n){if(!e)throw bm(t,...n)}function qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jl(t),new Error(t)}function Wn(e,t){e||qn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function qR(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||yw()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wn(n>t,"Short delay should be less than long delay!"),this.isMobile=mw()||_w()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(e,t){Wn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Yo(3e4,6e4);function Sc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ws(e,t,n,i,r={}){return SE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Qo(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return pw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&$s(e.emulatorConfig.host)&&(h.credentials="include"),bE.fetch()(await RE(e,e.config.apiHost,n,l),h)})}async function SE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},GR),t);try{const r=new KR(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Ml(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ml(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ml(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw AE(e,d,h);Zn(e,d)}}catch(r){if(r instanceof ni)throw r;Zn(e,"network-request-failed",{message:String(r)})}}async function wE(e,t,n,i,r={}){const s=await Ws(e,t,n,i,r);return"mfaPendingCredential"in s&&Zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function RE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Sm(e.config,r):`${e.config.apiScheme}://${r}`;return QR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class KR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bn(this.auth,"network-request-failed")),YR.get())})}}function Ml(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=bn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(e,t){return Ws(e,"POST","/v1/accounts:delete",t)}async function qu(e,t){return Ws(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(e,t=!1){const n=Ve(e),i=await n.getIdToken(t),r=wm(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:to(Qh(r.auth_time)),issuedAtTime:to(Qh(r.iat)),expirationTime:to(Qh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qh(e){return Number(e)*1e3}function wm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Jl("JWT malformed, contained fewer than 3 sections"),null;try{const r=lE(n);return r?JSON.parse(r):(Jl("Failed to decode base64 JWT payload"),null)}catch(r){return Jl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function zy(e){const t=wm(e);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ni&&ZR(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ZR({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Eo(e,qu(n,{idToken:i}));$(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?IE(s.providerUserInfo):[],l=tI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ed(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function JR(e){const t=Ve(e);await Hu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function IE(e){return e.map(t=>{var{providerId:n}=t,i=Am(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(e,t){const n=await SE(e,{},async()=>{const i=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await RE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&$s(e.emulatorConfig.host)&&(u.credentials="include"),bE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nI(e,t){return Ws(e,"POST","/v2/accounts:revokeToken",Sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){$(t.length!==0,"internal-error");const n=zy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await eI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ts;return i&&($(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){$(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Am(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ed(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,t));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $R(this,t)}reload(){return JR(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Hu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Pi(this.auth));const t=await this.getIdToken();return await Eo(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:D,isAnonymous:z,providerData:B,stsTokenManager:T}=n;$(w&&T,t,"internal-error");const y=Ts.fromJSON(this.name,T);$(typeof w=="string",t,"internal-error"),li(g,t.name),li(m,t.name),$(typeof D=="boolean",t,"internal-error"),$(typeof z=="boolean",t,"internal-error"),li(_,t.name),li(O,t.name),li(M,t.name),li(V,t.name),li(b,t.name),li(v,t.name);const E=new hn({uid:w,auth:t,email:m,emailVerified:D,displayName:g,isAnonymous:z,photoURL:O,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:b,lastLoginAt:v});return B&&Array.isArray(B)&&(E.providerData=B.map(A=>Object.assign({},A))),V&&(E._redirectEventId=V),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ts;r.updateFromServerResponse(n);const s=new hn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Hu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?IE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ts;l.updateFromIdToken(i);const u=new hn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ed(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;function Hn(e){Wn(e instanceof Function,"Expected a class definition");let t=jy.get(e);return t?(Wn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CE.type="NONE";const By=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(e,t,n){return`firebase:${e}:${t}:${n}`}class Es{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=tu(this.userKey,r.apiKey,s),this.fullPersistenceKey=tu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await qu(this.auth,{idToken:t}).catch(()=>{});return n?hn._fromGetAccountInfoResponse(this.auth,n,t):null}return hn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Es(Hn(By),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Hn(By);const a=tu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await qu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await hn._fromGetAccountInfoResponse(t,m,d)}else g=hn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Es(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Es(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VE(t))return"Blackberry";if(kE(t))return"Webos";if(NE(t))return"Safari";if((t.includes("chrome/")||OE(t))&&!t.includes("edge/"))return"Chrome";if(ME(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function DE(e=Te()){return/firefox\//i.test(e)}function NE(e=Te()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OE(e=Te()){return/crios\//i.test(e)}function xE(e=Te()){return/iemobile/i.test(e)}function ME(e=Te()){return/android/i.test(e)}function VE(e=Te()){return/blackberry/i.test(e)}function kE(e=Te()){return/webos/i.test(e)}function Rm(e=Te()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function iI(e=Te()){var t;return Rm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rI(){return vw()&&document.documentMode===10}function PE(e=Te()){return Rm(e)||ME(e)||kE(e)||VE(e)||/windows phone/i.test(e)||xE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e,t=[]){let n;switch(e){case"Browser":n=qy(Te());break;case"Worker":n=`${qy(Te())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(e,t={}){return Ws(e,"GET","/v2/passwordPolicy",Sc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=6;class lI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:oI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new sI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Es.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await qu(this,{idToken:t}),i=await hn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Hu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(Pi(this));const n=t?Ve(t):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aI(this),n=new lI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Go("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await nI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hn(t)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await Es.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&BR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wc(e){return Ve(e)}class Hy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Iw(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cI(e){Im=e}function hI(e){return Im.loadJS(e)}function fI(){return Im.gapiScript}function dI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e,t){const n=Em(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ar(s,t??{}))return r;Zn(r,"already-initialized")}return n.initialize({options:t})}function gI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function pI(e,t,n){const i=wc(e);$(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=UE(t),{host:a,port:l}=yI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Ar(h,i.config.emulator)&&Ar(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,$s(a)?(fE(`${s}//${a}${u}`),dE("Auth",!0)):_I()}function UE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yI(e){const t=UE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Fy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Fy(a)}}}function Fy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _I(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(t){return qn("not implemented")}_linkToIdToken(t,n){return qn("not implemented")}_getReauthenticationResolver(t){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(e,t){return wE(e,"POST","/v1/accounts:signInWithIdp",Sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class Sr extends zE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Am(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Sr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return As(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,As(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,As(t,n)}buildRequest(){const t={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ko{constructor(){super("facebook.com")}static credential(t){return Sr._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sr._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ko{constructor(){super("github.com")}static credential(t){return Sr._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ko{constructor(){super("twitter.com")}static credential(t,n){return Sr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(e,t){return wE(e,"POST","/v1/accounts:signUp",Sc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await hn._fromIdTokenResponse(t,i,r),a=Gy(i);return new qi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Gy(i);return new qi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Gy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e){var t;if(cn(e.app))return Promise.reject(Pi(e));const n=wc(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new qi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await TI(n,{returnSecureToken:!0}),r=await qi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends ni{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Fu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Fu(t,n,i,r)}}function BE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fu._fromErrorAndOperation(e,s,t,i):s})}async function AI(e,t,n=!1){const i=await Eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(Pi(i));const r="reauthenticate";try{const s=await Eo(e,BE(i,r,t,e),n);$(s.idToken,i,"internal-error");const a=wm(s.idToken);$(a,i,"internal-error");const{sub:l}=a;return $(e.uid===l,i,"user-mismatch"),qi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(e,t,n=!1){if(cn(e.app))return Promise.reject(Pi(e));const i="signIn",r=await BE(e,i,t),s=await qi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function wI(e,t,n,i){return Ve(e).onIdTokenChanged(t,n,i)}function RI(e,t,n){return Ve(e).beforeAuthStateChanged(t,n)}function II(e,t,n,i){return Ve(e).onAuthStateChanged(t,n,i)}const Gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,DI=10;class HE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);rI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,DI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}HE.type="LOCAL";const NI=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}FE.type="SESSION";const GE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Rc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await OI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Cm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function MI(e){Sn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function VI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function PI(){return QE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebaseLocalStorageDb",LI=1,Qu="firebaseLocalStorage",KE="fbase_key";class Xo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ic(e,t){return e.transaction([Qu],t?"readwrite":"readonly").objectStore(Qu)}function UI(){const e=indexedDB.deleteDatabase(YE);return new Xo(e).toPromise()}function nd(){const e=indexedDB.open(YE,LI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Qu,{keyPath:KE})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Qu)?t(i):(i.close(),await UI(),t(await nd()))})})}async function Qy(e,t,n){const i=Ic(e,!0).put({[KE]:t,value:n});return new Xo(i).toPromise()}async function zI(e,t){const n=Ic(e,!1).get(t),i=await new Xo(n).toPromise();return i===void 0?null:i.value}function Yy(e,t){const n=Ic(e,!0).delete(t);return new Xo(n).toPromise()}const jI=800,BI=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>BI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rc._getInstance(PI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nd();return await Qy(t,Gu,"1"),await Yy(t,Gu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>zI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Ic(r,!1).getAll();return new Xo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const qI=XE;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t){return t?Hn(t):($(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends zE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return As(t,this._buildIdpRequest())}_linkToIdToken(t,n){return As(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return As(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FI(e){return SI(e.auth,new Dm(e),e.bypassAuthState)}function GI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),bI(n,new Dm(e),e.bypassAuthState)}async function QI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),AI(n,new Dm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:Zn(this.auth,"internal-error")}}resolve(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Yo(2e3,1e4);class hs extends $E{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YI.get())};t()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="pendingRedirect",eu=new Map;class XI extends $E{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=eu.get(this.auth._key());if(!t){try{const i=await $I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}eu.set(this.auth._key(),t)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $I(e,t){const n=JI(t),i=WI(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ZI(e,t){eu.set(e._key(),t)}function WI(e){return Hn(e._redirectPersistence)}function JI(e){return tu(KI,e.config.apiKey,e.name)}async function tC(e,t,n=!1){if(cn(e.app))return Promise.reject(Pi(e));const i=wc(e),r=HI(i,t),a=await new XI(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=10*60*1e3;class nC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!ZE(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ky(t))}saveEventToCache(t){this.cachedEventUids.add(Ky(t)),this.lastProcessedEventTime=Date.now()}}function Ky(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ZE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function iC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(e,t={}){return Ws(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rC(e);for(const n of t)try{if(lC(n))return}catch{}Zn(e,"unauthorized-domain")}function lC(e){const t=td(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!aC.test(n))return!1;if(sC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Yo(3e4,6e4);function Xy(){const e=Sn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function cC(e){return new Promise((t,n)=>{var i,r,s;function a(){Xy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xy(),n(bn(e,"network-request-failed"))},timeout:uC.get()})}if(!((r=(i=Sn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Sn().gapi)===null||s===void 0)&&s.load)a();else{const l=dI("iframefcb");return Sn()[l]=()=>{gapi.load?a():n(bn(e,"network-request-failed"))},hI(`${fI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw nu=null,t})}let nu=null;function hC(e){return nu=nu||cC(e),nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Yo(5e3,15e3),dC="__/auth/iframe",mC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(e){const t=e.config;$(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Sm(t,mC):`https://${e.config.authDomain}/${dC}`,i={apiKey:t.apiKey,appName:e.name,v:Zs},r=pC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Qo(i).slice(1)}`}async function _C(e){const t=await hC(e),n=Sn().gapi;return $(n,e,"internal-error"),t.open({where:document.body,url:yC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=bn(e,"network-request-failed"),l=Sn().setTimeout(()=>{s(a)},fC.get());function u(){Sn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,EC=600,AC="_blank",bC="http://localhost";class $y{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SC(e,t,n,i=TC,r=EC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},vC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Te().toLowerCase();n&&(l=OE(h)?AC:n),DE(h)&&(t=t||bC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,O])=>`${m}${_}=${O},`,"");if(iI(h)&&l!=="_self")return wC(t||"",l),new $y(null);const g=window.open(t||"",l,d);$(g,e,"popup-blocked");try{g.focus()}catch{}return new $y(g)}function wC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__/auth/handler",IC="emulator/auth/handler",CC=encodeURIComponent("fac");async function Zy(e,t,n,i,r,s){$(e.config.authDomain,e,"auth-domain-config-required"),$(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Zs,eventId:r};if(t instanceof jE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Rw(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Ko){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${CC}=${encodeURIComponent(u)}`:"";return`${DC(e)}?${Qo(l).slice(1)}${h}`}function DC({config:e}){return e.emulator?Sm(e,IC):`https://${e.authDomain}/${RC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=tC,this._overrideRedirectResult=ZI}async _openPopup(t,n,i,r){var s;Wn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Zy(t,n,i,td(),r);return SC(t,a,Cm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await Zy(t,n,i,td(),r);return MI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Wn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await _C(t),i=new nC(t);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Yh,{type:Yh},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Yh];a!==void 0&&n(!!a),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||NE()||Rm()}}const OC=NC;var Wy="@firebase/auth",Jy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(e){ks(new br("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(e)},h=new uI(i,r,s,u);return gI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ks(new br("auth-internal",t=>{const n=wc(t.getProvider("auth").getImmediate());return(i=>new xC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(Wy,Jy,MC(e)),ki(Wy,Jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=5*60,PC=hE("authIdTokenMaxAge")||kC;let t_=null;const LC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PC)return;const r=n==null?void 0:n.token;t_!==r&&(t_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function e_(e=yE()){const t=Em(e,"auth");if(t.isInitialized())return t.getImmediate();const n=mI(e,{popupRedirectResolver:OC,persistence:[qI,NI,GE]}),i=hE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=LC(s.toString());RI(n,a,()=>a(n.currentUser)),wI(n,l=>a(l))}}const r=uE("auth");return r&&pI(n,`http://${r}`),n}function UC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}cI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=bn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",UC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,WE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(A,R,I){for(var S=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)S[Ee-2]=arguments[Ee];return y.prototype[R].apply(A,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var A=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)A[R]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],R=T.g[2];var I=T.g[3],S=y+(I^E&(R^I))+A[0]+3614090360&4294967295;y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[1]+3905402710&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[2]+606105819&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[3]+3250441966&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[4]+4118548399&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[5]+1200080426&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[6]+2821735955&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[7]+4249261313&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[8]+1770035416&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[9]+2336552879&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[10]+4294925233&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[11]+2304563134&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[12]+1804603682&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[13]+4254626195&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[14]+2792965006&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[15]+1236535329&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(R^I&(E^R))+A[1]+4129170786&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[6]+3225465664&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[11]+643717713&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[0]+3921069994&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[5]+3593408605&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[10]+38016083&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[15]+3634488961&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[4]+3889429448&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[9]+568446438&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[14]+3275163606&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[3]+4107603335&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[8]+1163531501&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[13]+2850285829&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[2]+4243563512&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[7]+1735328473&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[12]+2368359562&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(E^R^I)+A[5]+4294588738&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[8]+2272392833&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[11]+1839030562&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[14]+4259657740&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[1]+2763975236&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[4]+1272893353&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[7]+4139469664&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[10]+3200236656&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[13]+681279174&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[0]+3936430074&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[3]+3572445317&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[6]+76029189&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[9]+3654602809&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[12]+3873151461&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[15]+530742520&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[2]+3299628645&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(R^(E|~I))+A[0]+4096336452&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[7]+1126891415&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[14]+2878612391&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[5]+4237533241&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[12]+1700485571&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[3]+2399980690&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[10]+4293915773&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[1]+2240044497&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[8]+1873313359&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[15]+4264355552&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[6]+2734768916&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[13]+1309151649&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[4]+4149444226&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[11]+3174756917&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[2]+718787259&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+I&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,A=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=E;)r(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<y;)if(A[R++]=T.charCodeAt(I++),R==this.blockSize){r(this,A),R=0;break}}else for(;I<y;)if(A[R++]=T[I++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var A=0;32>A;A+=8)T[E++]=this.g[y]>>>A&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],A=!0,R=T.length-1;0<=R;R--){var I=T[R]|0;A&&I==y||(E[R]=I,A=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return V(h(-T));for(var y=[],E=1,A=0;T>=E;A++)y[A]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return V(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),A=g,R=0;R<T.length;R+=8){var I=Math.min(8,T.length-R),S=parseInt(T.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),A=A.j(I).add(h(S))):(A=A.j(E),A=A.add(h(S)))}return A}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var A=this.i(E);T+=(0<=A?A:4294967296+A)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(M(this))return"-"+V(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,A="";;){var R=D(E,y).g;E=b(E,R.j(y));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=R,O(E))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=b(this,T),M(T)?-1:O(T)?0:1};function V(T){for(var y=T.g.length,E=[],A=0;A<y;A++)E[A]=~T.g[A];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0,R=0;R<=y;R++){var I=A+(this.i(R)&65535)+(T.i(R)&65535),S=(I>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);A=S>>>16,I&=65535,S&=65535,E[R]=S<<16|I}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(T,y){return T.add(V(y))}e.j=function(T){if(O(this)||O(T))return g;if(M(this))return M(T)?V(this).j(V(T)):V(V(this).j(T));if(M(T))return V(this.j(V(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],A=0;A<2*y;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<T.g.length;R++){var I=this.i(A)>>>16,S=this.i(A)&65535,Ee=T.i(R)>>>16,Ye=T.i(R)&65535;E[2*A+2*R]+=S*Ye,v(E,2*A+2*R),E[2*A+2*R+1]+=I*Ye,v(E,2*A+2*R+1),E[2*A+2*R+1]+=S*Ee,v(E,2*A+2*R+1),E[2*A+2*R+2]+=I*Ee,v(E,2*A+2*R+2)}for(A=0;A<y;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=y;A<2*y;A++)E[A]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function D(T,y){if(O(y))throw Error("division by zero");if(O(T))return new w(g,g);if(M(T))return y=D(V(T),y),new w(V(y.g),V(y.h));if(M(y))return y=D(T,V(y)),new w(V(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=y;0>=A.l(T);)E=z(E),A=z(A);var R=B(E,1),I=B(A,1);for(A=B(A,2),E=B(E,2);!O(A);){var S=I.add(A);0>=S.l(T)&&(R=R.add(E),I=S),A=B(A,1),E=B(E,1)}return y=b(T,R.j(y)),new w(R,y)}for(R=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=h(E),S=I.j(y);M(S)||0<S.l(T);)E-=A,I=h(E),S=I.j(y);O(I)&&(I=m),R=R.add(I),T=b(T,S)}return new w(R,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)&T.i(A);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)|T.i(A);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)^T.i(A);return new a(E,this.h^T.h)};function z(T){for(var y=T.g.length+1,E=[],A=0;A<y;A++)E[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(E,T.h)}function B(T,y){var E=y>>5;y%=32;for(var A=T.g.length-E,R=[],I=0;I<A;I++)R[I]=0<y?T.i(I+E)>>>y|T.i(I+E+1)<<32-y:T.i(I+E);return new a(R,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,WE=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Li=a}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Va,t1,iu,id,e1,n1,i1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in f))break t;f=f[C]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,C={next:function(){if(!p&&f<o.length){var x=f++;return{value:c(x,o[x]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function O(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,C,x){for(var j=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)j[bt-2]=arguments[bt];return c.prototype[C].apply(p,j)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const C=o.length||0,x=p.length||0;o.length=C+x;for(let j=0;j<x;j++)o[C+j]=p[j]}else o.push(p)}}class b{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function B(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)o[f]=p[f];for(let x=0;x<E.length;x++)f=E[x],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function S(){var o=gt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Ee{constructor(){this.h=this.g=null}add(c,f){const p=Ye.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Ye=new b(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,K=!1,gt=new Ee,It=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(on)}};var on=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(f){I(f)}var c=Ye;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}K=!1};function Vt(){this.s=this.s,this.C=this.C}Vt.prototype.s=!1,Vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Ke(o,c){if(Lt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(z){t:{try{D(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:fe[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ke.aa.h.call(this)}}O(Ke,Lt);var fe={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Zi="closure_listenable_"+(1e6*Math.random()|0),el=0;function Bc(o,c,f,p,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=C,this.key=++el,this.da=this.fa=!1}function kr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Pr(o){this.src=o,this.g={},this.h=0}Pr.prototype.add=function(o,c,f,p,C){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var j=ra(o,c,p,C);return-1<j?(c=o[j],f||(c.fa=!1)):(c=new Bc(c,this.src,x,!!p,C),c.fa=f,o.push(c)),c};function Wi(o,c){var f=c.type;if(f in o.g){var p=o.g[f],C=Array.prototype.indexOf.call(p,c,void 0),x;(x=0<=C)&&Array.prototype.splice.call(p,C,1),x&&(kr(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function ra(o,c,f,p){for(var C=0;C<o.length;++C){var x=o[C];if(!x.da&&x.listener==c&&x.capture==!!f&&x.ha==p)return C}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),sa={};function aa(o,c,f,p,C){if(Array.isArray(c)){for(var x=0;x<c.length;x++)aa(o,c[x],f,p,C);return null}return f=Ut(f),o&&o[Zi]?o.K(c,f,h(p)?!!p.capture:!1,C):qc(o,c,f,!1,p,C)}function qc(o,c,f,p,C,x){if(!c)throw Error("Invalid event type");var j=h(C)?!!C.capture:!!C,bt=lt(o);if(bt||(o[Lr]=bt=new Pr(o)),f=bt.add(c,f,p,j,x),f.proxy)return f;if(p=Hc(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Ie||(C=j),C===void 0&&(C=!1),o.addEventListener(c.toString(),p,C);else if(o.attachEvent)o.attachEvent(U(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Hc(){function o(f){return c.call(o.src,o.listener,f)}const c=G;return o}function nl(o,c,f,p,C){if(Array.isArray(c))for(var x=0;x<c.length;x++)nl(o,c[x],f,p,C);else p=h(p)?!!p.capture:!!p,f=Ut(f),o&&o[Zi]?(o=o.i,c=String(c).toString(),c in o.g&&(x=o.g[c],f=ra(x,f,p,C),-1<f&&(kr(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete o.g[c],o.h--)))):o&&(o=lt(o))&&(c=o.g[c.toString()],o=-1,c&&(o=ra(c,f,p,C)),(f=-1<o?c[o]:null)&&oa(f))}function oa(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Zi])Wi(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(U(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=lt(c))?(Wi(f,o),f.h==0&&(f.src=null,c[Lr]=null)):kr(o)}}}function U(o){return o in sa?sa[o]:sa[o]="on"+o}function G(o,c){if(o.da)o=!0;else{c=new Ke(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&oa(o),o=f.call(p,c)}return o}function lt(o){return o=o[Lr],o instanceof Pr?o:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(o){return typeof o=="function"?o:(o[Tt]||(o[Tt]=function(c){return o.handleEvent(c)}),o[Tt])}function wt(){Vt.call(this),this.i=new Pr(this),this.M=this,this.F=null}O(wt,Vt),wt.prototype[Zi]=!0,wt.prototype.removeEventListener=function(o,c,f,p){nl(this,o,c,f,p)};function pt(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Lt(c,o);else if(c instanceof Lt)c.target=c.target||o;else{var C=c;c=new Lt(p,o),A(c,C)}if(C=!0,f)for(var x=f.length-1;0<=x;x--){var j=c.g=f[x];C=Ae(j,p,!0,c)&&C}if(j=c.g=o,C=Ae(j,p,!0,c)&&C,C=Ae(j,p,!1,c)&&C,f)for(x=0;x<f.length;x++)j=c.g=f[x],C=Ae(j,p,!1,c)&&C}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)kr(f[p]);delete o.g[c],o.h--}}this.F=null},wt.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},wt.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Ae(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,x=0;x<c.length;++x){var j=c[x];if(j&&!j.da&&j.capture==f){var bt=j.listener,se=j.ha||j.src;j.fa&&Wi(o.i,j),C=bt.call(se,p)!==!1&&C}}return C&&!p.defaultPrevented}function Pe(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Xe(o){o.g=Pe(()=>{o.g=null,o.i&&(o.i=!1,Xe(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Ur extends Vt{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(o){Vt.call(this),this.h=o,this.g={}}O(la,Vt);var ug=[];function cg(o){B(o.g,function(c,f){this.g.hasOwnProperty(f)&&oa(c)},o),o.g={}}la.prototype.N=function(){la.aa.N.call(this),cg(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fc=l.JSON.stringify,xA=l.JSON.parse,MA=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Gc(){}Gc.prototype.h=null;function hg(o){return o.h||(o.h=o.i())}function fg(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qc(){Lt.call(this,"d")}O(Qc,Lt);function Yc(){Lt.call(this,"c")}O(Yc,Lt);var Ji={},dg=null;function il(){return dg=dg||new wt}Ji.La="serverreachability";function mg(o){Lt.call(this,Ji.La,o)}O(mg,Lt);function ca(o){const c=il();pt(c,new mg(c))}Ji.STAT_EVENT="statevent";function gg(o,c){Lt.call(this,Ji.STAT_EVENT,o),this.stat=c}O(gg,Lt);function be(o){const c=il();pt(c,new gg(c,o))}Ji.Ma="timingevent";function pg(o,c){Lt.call(this,Ji.Ma,o),this.size=c}O(pg,Lt);function ha(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function VA(o,c,f,p,C,x){o.info(function(){if(o.g)if(x)for(var j="",bt=x.split("&"),se=0;se<bt.length;se++){var ft=bt[se].split("=");if(1<ft.length){var de=ft[0];ft=ft[1];var me=de.split("_");j=2<=me.length&&me[1]=="type"?j+(de+"="+ft+"&"):j+(de+"=redacted&")}}else j=null;else j=x;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+f+`
`+j})}function kA(o,c,f,p,C,x,j){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+f+`
`+x+" "+j})}function zr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+LA(o,f)+(p?" "+p:"")})}function PA(o,c){o.info(function(){return"TIMEOUT: "+c})}fa.prototype.info=function(){};function LA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var x=C[0];if(x!="noop"&&x!="stop"&&x!="close")for(var j=1;j<C.length;j++)C[j]=""}}}}return Fc(f)}catch{return c}}var rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kc;function sl(){}O(sl,Gc),sl.prototype.g=function(){return new XMLHttpRequest},sl.prototype.i=function(){return{}},Kc=new sl;function ii(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _g}function _g(){this.i=null,this.g="",this.h=!1}var vg={},Xc={};function $c(o,c,f){o.L=1,o.v=ul(On(c)),o.m=f,o.P=!0,Tg(o,null)}function Tg(o,c){o.F=Date.now(),al(o),o.A=On(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Vg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new _g,o.g=Wg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Ur(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(ug[0]=C.toString()),C=ug);for(var x=0;x<C.length;x++){var j=aa(f,C[x],p||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),ca(),VA(o.i,o.u,o.A,o.l,o.R,o.m)}ii.prototype.ca=function(o){o=o.target;const c=this.M;c&&xn(o)==3?c.j():this.Y(o)},ii.prototype.Y=function(o){try{if(o==this.g)t:{const me=xn(this.g);var c=this.g.Ba();const qr=this.g.Z();if(!(3>me)&&(me!=3||this.g&&(this.h.h||this.g.oa()||Bg(this.g)))){this.J||me!=4||c==7||(c==8||0>=qr?ca(3):ca(2)),Zc(this);var f=this.g.Z();this.X=f;e:if(Eg(this)){var p=Bg(this.g);o="";var C=p.length,x=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),da(this);var j="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(x&&c==C-1)});p.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,kA(this.i,this.u,this.A,this.l,this.R,me,f),this.o){if(this.T&&!this.K){e:{if(this.g){var bt,se=this.g;if((bt=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(bt)){var ft=bt;break e}}ft=null}if(f=ft)zr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wc(this,f);else{this.o=!1,this.s=3,be(12),tr(this),da(this);break t}}if(this.P){f=!0;let ln;for(;!this.J&&this.C<j.length;)if(ln=UA(this,j),ln==Xc){me==4&&(this.s=4,be(14),f=!1),zr(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==vg){this.s=4,be(15),zr(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else zr(this.i,this.l,ln,null),Wc(this,ln);if(Eg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||j.length!=0||this.h.h||(this.s=1,be(16),f=!1),this.o=this.o&&f,!f)zr(this.i,this.l,j,"[Invalid Chunked Response]"),tr(this),da(this);else if(0<j.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),rh(de),de.M=!0,be(11))}}else zr(this.i,this.l,j,null),Wc(this,j);me==4&&tr(this),this.o&&!this.J&&(me==4?Kg(this.j,this):(this.o=!1,al(this)))}else eb(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),tr(this),da(this)}}}catch{}finally{}};function Eg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function UA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?Xc:(f=Number(c.substring(f,p)),isNaN(f)?vg:(p+=1,p+f>c.length?Xc:(c=c.slice(p,p+f),o.C=p+f,c)))}ii.prototype.cancel=function(){this.J=!0,tr(this)};function al(o){o.S=Date.now()+o.I,Ag(o,o.I)}function Ag(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ha(m(o.ba,o),c)}function Zc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ii.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(PA(this.i,this.A),this.L!=2&&(ca(),be(17)),tr(this),this.s=2,da(this)):Ag(this,this.S-o)};function da(o){o.j.G==0||o.J||Kg(o.j,o)}function tr(o){Zc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,cg(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Wc(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Jc(f.h,o))){if(!o.K&&Jc(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)gl(f),dl(f);else break t;ih(f),be(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(m(f.Za,f),6e3));if(1>=wg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else nr(f,11)}else if((o.K||f.g==o)&&gl(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let ft=C[c];if(f.T=ft[0],ft=ft[1],f.G==2)if(ft[0]=="c"){f.K=ft[1],f.ia=ft[2];const de=ft[3];de!=null&&(f.la=de,f.j.info("VER="+f.la));const me=ft[4];me!=null&&(f.Aa=me,f.j.info("SVER="+f.Aa));const qr=ft[5];qr!=null&&typeof qr=="number"&&0<qr&&(p=1.5*qr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const ln=o.g;if(ln){const yl=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yl){var x=p.h;x.g||yl.indexOf("spdy")==-1&&yl.indexOf("quic")==-1&&yl.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(th(x,x.h),x.h=null))}if(p.D){const sh=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;sh&&(p.ya=sh,Ct(p.I,p.D,sh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var j=o;if(p.qa=Zg(p,p.J?p.ia:null,p.W),j.K){Rg(p.h,j);var bt=j,se=p.L;se&&(bt.I=se),bt.B&&(Zc(bt),al(bt)),p.g=j}else Qg(p);0<f.i.length&&ml(f)}else ft[0]!="stop"&&ft[0]!="close"||nr(f,7);else f.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?nr(f,7):nh(f):ft[0]!="noop"&&f.l&&f.l.ta(ft),f.v=0)}}ca(4)}catch{}}var zA=class{constructor(o,c){this.g=o,this.map=c}};function bg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wg(o){return o.h?1:o.g?o.g.size:0}function Jc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function th(o,c){o.g?o.g.add(c):o.h=c}function Rg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}bg.prototype.cancel=function(){if(this.i=Ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ig(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function jA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function BA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Cg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=BA(o),p=jA(o),C=p.length,x=0;x<C;x++)c.call(void 0,p[x],f&&f[x],o)}var Dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),C=null;if(0<=p){var x=o[f].substring(0,p);C=o[f].substring(p+1)}else x=o[f];c(x,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function er(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof er){this.h=o.h,ol(this,o.j),this.o=o.o,this.g=o.g,ll(this,o.s),this.l=o.l;var c=o.i,f=new pa;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Ng(this,f),this.m=o.m}else o&&(c=String(o).match(Dg))?(this.h=!1,ol(this,c[1]||"",!0),this.o=ma(c[2]||""),this.g=ma(c[3]||"",!0),ll(this,c[4]),this.l=ma(c[5]||"",!0),Ng(this,c[6]||"",!0),this.m=ma(c[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}er.prototype.toString=function(){var o=[],c=this.j;c&&o.push(ga(c,Og,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ga(c,Og,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ga(f,f.charAt(0)=="/"?GA:FA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ga(f,YA)),o.join("")};function On(o){return new er(o)}function ol(o,c,f){o.j=f?ma(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function ll(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Ng(o,c,f){c instanceof pa?(o.i=c,KA(o.i,o.h)):(f||(c=ga(c,QA)),o.i=new pa(c,o.h))}function Ct(o,c,f){o.i.set(c,f)}function ul(o){return Ct(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ma(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ga(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,HA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function HA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Og=/[#\/\?@]/g,FA=/[#\?:]/g,GA=/[#\?]/g,QA=/[#\?@]/g,YA=/#/g;function pa(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function ri(o){o.g||(o.g=new Map,o.h=0,o.i&&qA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=pa.prototype,e.add=function(o,c){ri(this),this.i=null,o=jr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function xg(o,c){ri(o),c=jr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Mg(o,c){return ri(o),c=jr(o,c),o.g.has(c)}e.forEach=function(o,c){ri(this),this.g.forEach(function(f,p){f.forEach(function(C){o.call(c,C,p,this)},this)},this)},e.na=function(){ri(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const C=o[p];for(let x=0;x<C.length;x++)f.push(c[p])}return f},e.V=function(o){ri(this);let c=[];if(typeof o=="string")Mg(this,o)&&(c=c.concat(this.g.get(jr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return ri(this),this.i=null,o=jr(this,o),Mg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Vg(o,c,f){xg(o,c),0<f.length&&(o.i=null,o.g.set(jr(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const x=encodeURIComponent(String(p)),j=this.V(p);for(p=0;p<j.length;p++){var C=x;j[p]!==""&&(C+="="+encodeURIComponent(String(j[p]))),o.push(C)}}return this.i=o.join("&")};function jr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function KA(o,c){c&&!o.j&&(ri(o),o.i=null,o.g.forEach(function(f,p){var C=p.toLowerCase();p!=C&&(xg(this,p),Vg(this,C,f))},o)),o.j=c}function XA(o,c){const f=new fa;if(l.Image){const p=new Image;p.onload=_(si,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(si,f,"TestLoadImage: error",!1,c,p),p.onabort=_(si,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(si,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function $A(o,c){const f=new fa,p=new AbortController,C=setTimeout(()=>{p.abort(),si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(x=>{clearTimeout(C),x.ok?si(f,"TestPingServer: ok",!0,c):si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),si(f,"TestPingServer: error",!1,c)})}function si(o,c,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function ZA(){this.g=new MA}function WA(o,c,f){const p=f||"";try{Cg(o,function(C,x){let j=C;h(C)&&(j=Fc(C)),c.push(p+x+"="+encodeURIComponent(j))})}catch(C){throw c.push(p+"type="+encodeURIComponent("_badmap")),C}}function cl(o){this.l=o.Ub||null,this.j=o.eb||!1}O(cl,Gc),cl.prototype.g=function(){return new hl(this.l,this.j)},cl.prototype.i=function(o){return function(){return o}}({});function hl(o,c){wt.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(hl,wt),e=hl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,_a(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function kg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ya(this):_a(this),this.readyState==3&&kg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ya(this))},e.Qa=function(o){this.g&&(this.response=o,ya(this))},e.ga=function(){this.g&&ya(this)};function ya(o){o.readyState=4,o.l=null,o.j=null,o.v=null,_a(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function _a(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Pg(o){let c="";return B(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function eh(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Pg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ct(o,c,f))}function zt(o){wt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(zt,wt);var JA=/^https?$/i,tb=["POST","PUT"];e=zt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kc.g(),this.v=this.o?hg(this.o):hg(Kc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(x){Lg(this,x);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const x of p.keys())f.set(x,p.get(x));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(tb,c,void 0))||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,j]of f)this.g.setRequestHeader(x,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jg(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){Lg(this,x)}};function Lg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ug(o),fl(o)}function Ug(o){o.A||(o.A=!0,pt(o,"complete"),pt(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,pt(this,"complete"),pt(this,"abort"),fl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zg(this):this.bb())},e.bb=function(){zg(this)};function zg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||xn(o)!=4||o.Z()!=2)){if(o.u&&xn(o)==4)Pe(o.Ea,0,o);else if(pt(o,"readystatechange"),xn(o)==4){o.h=!1;try{const j=o.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=j===0){var C=String(o.D).match(Dg)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!JA.test(C?C.toLowerCase():"")}f=p}if(f)pt(o,"complete"),pt(o,"success");else{o.m=6;try{var x=2<xn(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",Ug(o)}}finally{fl(o)}}}}function fl(o,c){if(o.g){jg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||pt(o,"ready");try{f.onreadystatechange=p}catch{}}}function jg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function xn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),xA(c)}};function Bg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function eb(o){const c={};o=(o.g&&2<=xn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=R(o[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const x=c[C]||[];c[C]=x,x.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function qg(o){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,o),this.cb=va("retryDelaySeedMs",1e4,o),this.Wa=va("forwardChannelMaxRetries",2,o),this.wa=va("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new bg(o&&o.concurrentRequestLimit),this.Da=new ZA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=qg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){be(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=Zg(this,null,this.W),ml(this)};function nh(o){if(Hg(o),o.G==3){var c=o.U++,f=On(o.I);if(Ct(f,"SID",o.K),Ct(f,"RID",c),Ct(f,"TYPE","terminate"),Ta(o,f),c=new ii(o,o.j,c),c.L=2,c.v=ul(On(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Wg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),al(c)}$g(o)}function dl(o){o.g&&(rh(o),o.g.cancel(),o.g=null)}function Hg(o){dl(o),o.u&&(l.clearTimeout(o.u),o.u=null),gl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function ml(o){if(!Sg(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||It(),K||(Z(),K=!0),gt.add(c,o),o.B=0}}function nb(o,c){return wg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ha(m(o.Ga,o,c),Xg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new ii(this,this.j,o);let x=this.o;if(this.S&&(x?(x=y(x),A(x,this.S)):x=this.S),this.m!==null||this.O||(C.H=x,x=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Gg(this,C,c),f=On(this.I),Ct(f,"RID",o),Ct(f,"CVER",22),this.D&&Ct(f,"X-HTTP-Session-Id",this.D),Ta(this,f),x&&(this.O?c="headers="+encodeURIComponent(String(Pg(x)))+"&"+c:this.m&&eh(f,this.m,x)),th(this.h,C),this.Ua&&Ct(f,"TYPE","init"),this.P?(Ct(f,"$req",c),Ct(f,"SID","null"),C.T=!0,$c(C,f,null)):$c(C,f,c),this.G=2}}else this.G==3&&(o?Fg(this,o):this.i.length==0||Sg(this.h)||Fg(this))};function Fg(o,c){var f;c?f=c.l:f=o.U++;const p=On(o.I);Ct(p,"SID",o.K),Ct(p,"RID",f),Ct(p,"AID",o.T),Ta(o,p),o.m&&o.o&&eh(p,o.m,o.o),f=new ii(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Gg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),th(o.h,f),$c(f,p,c)}function Ta(o,c){o.H&&B(o.H,function(f,p){Ct(c,p,f)}),o.l&&Cg({},function(f,p){Ct(c,p,f)})}function Gg(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let x=-1;for(;;){const j=["count="+f];x==-1?0<f?(x=C[0].g,j.push("ofs="+x)):x=0:j.push("ofs="+x);let bt=!0;for(let se=0;se<f;se++){let ft=C[se].g;const de=C[se].map;if(ft-=x,0>ft)x=Math.max(0,C[se].g-100),bt=!1;else try{WA(de,j,"req"+ft+"_")}catch{p&&p(de)}}if(bt){p=j.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function Qg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||It(),K||(Z(),K=!0),gt.add(c,o),o.v=0}}function ih(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ha(m(o.Fa,o),Xg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Yg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ha(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),dl(this),Yg(this))};function rh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Yg(o){o.g=new ii(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=On(o.qa);Ct(c,"RID","rpc"),Ct(c,"SID",o.K),Ct(c,"AID",o.T),Ct(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ct(c,"TO",o.ja),Ct(c,"TYPE","xmlhttp"),Ta(o,c),o.m&&o.o&&eh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=ul(On(c)),f.m=null,f.P=!0,Tg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,dl(this),ih(this),be(19))};function gl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Kg(o,c){var f=null;if(o.g==c){gl(o),rh(o),o.g=null;var p=2}else if(Jc(o.h,c))f=c.D,Rg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;p=il(),pt(p,new pg(p,f)),ml(o)}else Qg(o);else if(C=c.s,C==3||C==0&&0<c.X||!(p==1&&nb(o,c)||p==2&&ih(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:nr(o,5);break;case 4:nr(o,10);break;case 3:nr(o,6);break;default:nr(o,2)}}}function Xg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function nr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const C=!p;p=new er(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ol(p,"https"),ul(p),C?XA(p.toString(),f):$A(p.toString(),f)}else be(2);o.G=0,o.l&&o.l.sa(c),$g(o),Hg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function $g(o){if(o.G=0,o.ka=[],o.l){const c=Ig(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Zg(o,c,f){var p=f instanceof er?On(f):new er(f);if(p.g!="")c&&(p.g=c+"."+p.g),ll(p,p.s);else{var C=l.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var x=new er(null);p&&ol(x,p),c&&(x.g=c),C&&ll(x,C),f&&(x.l=f),p=x}return f=o.D,c=o.ya,f&&c&&Ct(p,f,c),Ct(p,"VER",o.la),Ta(o,p),p}function Wg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new zt(new cl({eb:f})):new zt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jg(){}e=Jg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pl(){}pl.prototype.g=function(o,c){return new Le(o,c)};function Le(o,c){wt.call(this),this.g=new qg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Br(this)}O(Le,wt),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){nh(this.g)},Le.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Fc(o),o=f);c.i.push(new zA(c.Ya++,o)),c.G==3&&ml(c)},Le.prototype.N=function(){this.g.l=null,delete this.j,nh(this.g),delete this.g,Le.aa.N.call(this)};function tp(o){Qc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}O(tp,Qc);function ep(){Yc.call(this),this.status=1}O(ep,Yc);function Br(o){this.g=o}O(Br,Jg),Br.prototype.ua=function(){pt(this.g,"a")},Br.prototype.ta=function(o){pt(this.g,new tp(o))},Br.prototype.sa=function(o){pt(this.g,new ep)},Br.prototype.ra=function(){pt(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,i1=function(){return new pl},n1=function(){return il()},e1=Ji,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,iu=rl,yg.COMPLETE="complete",t1=yg,fg.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Va=fg,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,JE=zt}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",r_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pe.UNAUTHENTICATED=new pe(null),pe.GOOGLE_CREDENTIALS=new pe("google-credentials-uid"),pe.FIRST_PARTY=new pe("first-party-uid"),pe.MOCK_USER=new pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new vm("@firebase/firestore");function Xr(){return wr.logLevel}function H(e,...t){if(wr.logLevel<=at.DEBUG){const n=t.map(Nm);wr.debug(`Firestore (${Js}): ${e}`,...n)}}function Jn(e,...t){if(wr.logLevel<=at.ERROR){const n=t.map(Nm);wr.error(`Firestore (${Js}): ${e}`,...n)}}function Ps(e,...t){if(wr.logLevel<=at.WARN){const n=t.map(Nm);wr.warn(`Firestore (${Js}): ${e}`,...n)}}function Nm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r1(e,i,n)}function r1(e,t,n){let i=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Jn(i),new Error(i)}function yt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||r1(t,r,i)}function tt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ni{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pe.UNAUTHENTICATED))}shutdown(){}}class jC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BC{constructor(t){this.t=t,this.currentUser=pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){yt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new s1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string",2055,{h:t}),new pe(t)}}class qC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=pe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){yt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=GC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function nt(e,t){return e<t?-1:e>t?1:0}function rd(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return nt(i,r);{const s=a1(),a=QC(s.encode(a_(e,n)),s.encode(a_(t,n)));return a!==0?a:nt(i,r)}}n+=i>65535?2:1}return nt(e.length,t.length)}function a_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function QC(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return nt(e[n],t[n]);return nt(e.length,t.length)}function Ls(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,l_=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*l_);return new Zt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o_)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l_}_compareTo(t){return this.seconds===t.seconds?nt(this.nanoseconds,t.nanoseconds):nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-o_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(t){return new W(t)}static min(){return new W(new Zt(0,0))}static max(){return new W(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class yn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return yn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof yn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=yn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return nt(t.length,n.length)}static compareSegments(t,n){const i=yn.isNumericId(t),r=yn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?yn.extractNumericId(t).compare(yn.extractNumericId(n)):rd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Li.fromString(t.substring(4,t.length-2))}}class Dt extends yn{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const YC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends yn{construct(t,n,i){return new ue(t,n,i)}static isValidIdentifier(t){return YC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new ue([u_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new F(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ue(n)}static emptyPath(){return new ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(Dt.fromString(t))}static fromName(t){return new Q(Dt.fromString(t).popFirst(5))}static empty(){return new Q(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function KC(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=W.fromTimestamp(i===1e9?new Zt(n+1,0):new Zt(n,i));return new Hi(r,Q.empty(),t)}function XC(e){return new Hi(e.readTime,e.key,Ao)}class Hi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Hi(W.min(),Q.empty(),Ao)}static max(){return new Hi(W.max(),Q.empty(),Ao)}}function $C(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==ZC)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function JC(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Cc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function Dc(e){return e==null}function Yu(e){return e===0&&1/e==-1/0}function tD(e){return typeof e=="number"&&Number.isInteger(e)&&!Yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="";function eD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=c_(t)),t=nD(e.get(n),t);return c_(t)}function nD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case l1:n+="";break;default:n+=s}}return n}function c_(e){return e+l1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Or(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function u1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t,n){this.comparator=t,this.root=n||oe.EMPTY}insert(t,n){return new Pt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oe.BLACK,null,null))}remove(t){return new Pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kl(this.root,t,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kl(this.root,t,this.comparator,!0)}}class kl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class oe{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??oe.RED,this.left=r??oe.EMPTY,this.right=s??oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new oe(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return oe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return oe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}oe.EMPTY=null,oe.RED=!0,oe.BLACK=!1;oe.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new oe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.comparator=t,this.data=new Pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(t){return new f_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Wt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Wt(this.comparator);return n.data=t,n}}class f_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(ue.comparator)}static empty(){return new fn([])}unionWith(t){let n=new Wt(ue.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new fn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ls(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c1("Invalid base64 string: "+s):s}}(t);return new he(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new he(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}he.EMPTY_BYTE_STRING=new he("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(e){if(yt(!!e,39018),typeof e=="string"){let t=0;const n=iD.exec(e);if(yt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Gi(e){return typeof e=="string"?he.fromBase64String(e):he.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="server_timestamp",f1="__type__",d1="__previous_value__",m1="__local_write_time__";function xm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[f1])===null||n===void 0?void 0:n.stringValue)===h1}function Nc(e){const t=e.mapValue.fields[d1];return xm(t)?Nc(t):t}function bo(e){const t=Fi(e.mapValue.fields[m1].timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Ku="(default)";class So{constructor(t,n){this.projectId=t,this.database=n||Ku}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Ku}isEqual(t){return t instanceof So&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",sD="__max__",Pl={mapValue:{}},p1="__vector__",Xu="value";function Qi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xm(e)?4:oD(e)?9007199254740991:aD(e)?10:11:Y(28295,{value:e})}function Cn(e,t){if(e===t)return!0;const n=Qi(e);if(n!==Qi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bo(e).isEqual(bo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Fi(r.timestampValue),l=Fi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Gi(r.bytesValue).isEqual(Gi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Ft(r.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ft(r.integerValue)===Ft(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ft(r.doubleValue),l=Ft(s.doubleValue);return a===l?Yu(a)===Yu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Ls(e.arrayValue.values||[],t.arrayValue.values||[],Cn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(h_(a)!==h_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Cn(a[u],l[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function wo(e,t){return(e.values||[]).find(n=>Cn(n,t))!==void 0}function Us(e,t){if(e===t)return 0;const n=Qi(e),i=Qi(t);if(n!==i)return nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Ft(s.integerValue||s.doubleValue),u=Ft(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return d_(e.timestampValue,t.timestampValue);case 4:return d_(bo(e),bo(t));case 5:return rd(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Gi(s),u=Gi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=nt(l[h],u[h]);if(d!==0)return d}return nt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=nt(Ft(s.latitude),Ft(a.latitude));return l!==0?l:nt(Ft(s.longitude),Ft(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return m_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[Xu])===null||l===void 0?void 0:l.arrayValue,O=(u=m[Xu])===null||u===void 0?void 0:u.arrayValue,M=nt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=O==null?void 0:O.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:m_(_,O)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Pl.mapValue&&a===Pl.mapValue)return 0;if(s===Pl.mapValue)return 1;if(a===Pl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=rd(u[g],d[g]);if(m!==0)return m;const _=Us(l[u[g]],h[d[g]]);if(_!==0)return _}return nt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{Pe:n})}}function d_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return nt(e,t);const n=Fi(e),i=Fi(t),r=nt(n.seconds,i.seconds);return r!==0?r:nt(n.nanos,i.nanos)}function m_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Us(n[r],i[r]);if(s)return s}return nt(n.length,i.length)}function zs(e){return sd(e)}function sd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Fi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Gi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=sd(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${sd(n.fields[a])}`;return r+"}"}(e.mapValue):Y(61005,{value:e})}function ru(e){switch(Qi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nc(e);return t?16+ru(t):16;case 5:return 2*e.stringValue.length;case 6:return Gi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ru(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Or(i.fields,(s,a)=>{r+=s.length+ru(a)}),r}(e.mapValue);default:throw Y(13486,{value:e})}}function g_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ad(e){return!!e&&"integerValue"in e}function Mm(e){return!!e&&"arrayValue"in e}function p_(e){return!!e&&"nullValue"in e}function y_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function su(e){return!!e&&"mapValue"in e}function aD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===p1}function eo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Or(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=eo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=eo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!su(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=eo(n)}setAll(t){let n=ue.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=eo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Or(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new nn(eo(this.value))}}function y1(e){const t=[];return Or(e.fields,(n,i)=>{const r=new ue([n]);if(su(i)){const s=y1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ye(t,0,W.min(),W.min(),W.min(),nn.empty(),0)}static newFoundDocument(t,n,i,r){return new ye(t,1,n,W.min(),i,r,0)}static newNoDocument(t,n){return new ye(t,2,n,W.min(),W.min(),nn.empty(),0)}static newUnknownDocument(t,n){return new ye(t,3,n,W.min(),W.min(),nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n){this.position=t,this.inclusive=n}}function __(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=Us(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function v_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function lD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class Yt extends _1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new cD(t,n,i):n==="array-contains"?new dD(t,i):n==="in"?new mD(t,i):n==="not-in"?new gD(t,i):n==="array-contains-any"?new pD(t,i):new Yt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new hD(t,i):new fD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Us(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends _1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new mn(t,n)}matches(t){return v1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function v1(e){return e.op==="and"}function T1(e){return uD(e)&&v1(e)}function uD(e){for(const t of e.filters)if(t instanceof mn)return!1;return!0}function od(e){if(e instanceof Yt)return e.field.canonicalString()+e.op.toString()+zs(e.value);if(T1(e))return e.filters.map(t=>od(t)).join(",");{const t=e.filters.map(n=>od(n)).join(",");return`${e.op}(${t})`}}function E1(e,t){return e instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.field.isEqual(r.field)&&Cn(i.value,r.value)}(e,t):e instanceof mn?function(i,r){return r instanceof mn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&E1(a,r.filters[l]),!0):!1}(e,t):void Y(19439)}function A1(e){return e instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(e):e instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(A1).join(" ,")+"}"}(e):"Filter"}class cD extends Yt{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class hD extends Yt{constructor(t,n){super(t,"in",n),this.keys=b1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class fD extends Yt{constructor(t,n){super(t,"not-in",n),this.keys=b1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function b1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class dD extends Yt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Mm(n)&&wo(n.arrayValue,this.value)}}class mD extends Yt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wo(this.value.arrayValue,n)}}class gD extends Yt{constructor(t,n){super(t,"not-in",n)}matches(t){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wo(this.value.arrayValue,n)}}class pD extends Yt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function T_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new yD(e,t,n,i,r,s,a)}function Vm(e){const t=tt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>od(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Dc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>zs(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>zs(i)).join(",")),t.Ie=n}return t.Ie}function km(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!E1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!v_(e.startAt,t.startAt)&&v_(e.endAt,t.endAt)}function ld(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _D(e,t,n,i,r,s,a,l){return new $o(e,t,n,i,r,s,a,l)}function Pm(e){return new $o(e)}function E_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function S1(e){return e.collectionGroup!==null}function no(e){const t=tt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wt(ue.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new Zu(s,i))}),n.has(ue.keyField().canonicalString())||t.Ee.push(new Zu(ue.keyField(),i))}return t.Ee}function wn(e){const t=tt(e);return t.de||(t.de=vD(t,no(e))),t.de}function vD(e,t){if(e.limitType==="F")return T_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Zu(r.field,s)});const n=e.endAt?new $u(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $u(e.startAt.position,e.startAt.inclusive):null;return T_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function ud(e,t){const n=e.filters.concat([t]);return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cd(e,t,n){return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oc(e,t){return km(wn(e),wn(t))&&e.limitType===t.limitType}function w1(e){return`${Vm(wn(e))}|lt:${e.limitType}`}function $r(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>A1(r)).join(", ")}]`),Dc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zs(r)).join(",")),`Target(${i})`}(wn(e))}; limitType=${e.limitType})`}function xc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of no(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=__(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,no(i),r)||i.endAt&&!function(a,l,u){const h=__(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,no(i),r))}(e,t)}function TD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function R1(e){return(t,n)=>{let i=!1;for(const r of no(e)){const s=ED(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function ED(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Us(u,h):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Or(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Pt(Q.comparator);function ti(){return AD}const I1=new Pt(Q.comparator);function ka(...e){let t=I1;for(const n of e)t=t.insert(n.key,n);return t}function C1(e){let t=I1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function lr(){return io()}function D1(){return io()}function io(){return new xr(e=>e.toString(),(e,t)=>e.isEqual(t))}const bD=new Pt(Q.comparator),SD=new Wt(Q.comparator);function ot(...e){let t=SD;for(const n of e)t=t.add(n);return t}const wD=new Wt(nt);function RD(){return wD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(t)?"-0":t}}function N1(e){return{integerValue:""+e}}function ID(e,t){return tD(t)?N1(t):Lm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function CD(e,t,n){return e instanceof Wu?function(r,s){const a={fields:{[f1]:{stringValue:h1},[m1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&xm(s)&&(s=Nc(s)),s&&(a.fields[d1]=s),{mapValue:a}}(n,t):e instanceof Ro?x1(e,t):e instanceof Io?M1(e,t):function(r,s){const a=O1(r,s),l=A_(a)+A_(r.Re);return ad(a)&&ad(r.Re)?N1(l):Lm(r.serializer,l)}(e,t)}function DD(e,t,n){return e instanceof Ro?x1(e,t):e instanceof Io?M1(e,t):n}function O1(e,t){return e instanceof Ju?function(i){return ad(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Wu extends Mc{}class Ro extends Mc{constructor(t){super(),this.elements=t}}function x1(e,t){const n=V1(t);for(const i of e.elements)n.some(r=>Cn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Io extends Mc{constructor(t){super(),this.elements=t}}function M1(e,t){let n=V1(t);for(const i of e.elements)n=n.filter(r=>!Cn(r,i));return{arrayValue:{values:n}}}class Ju extends Mc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function A_(e){return Ft(e.integerValue||e.doubleValue)}function V1(e){return Mm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ND(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ro&&r instanceof Ro||i instanceof Io&&r instanceof Io?Ls(i.elements,r.elements,Cn):i instanceof Ju&&r instanceof Ju?Cn(i.Re,r.Re):i instanceof Wu&&r instanceof Wu}(e.transform,t.transform)}class OD{constructor(t,n){this.version=t,this.transformResults=n}}class Rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function au(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vc{}function k1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Um(e.key,Rn.none()):new Zo(e.key,e.data,Rn.none());{const n=e.data,i=nn.empty();let r=new Wt(ue.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Mr(e.key,i,new fn(r.toArray()),Rn.none())}}function xD(e,t,n){e instanceof Zo?function(r,s,a){const l=r.value.clone(),u=S_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Mr?function(r,s,a){if(!au(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=S_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(P1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ro(e,t,n,i){return e instanceof Zo?function(s,a,l,u){if(!au(s.precondition,a))return l;const h=s.value.clone(),d=w_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Mr?function(s,a,l,u){if(!au(s.precondition,a))return l;const h=w_(s.fieldTransforms,u,a),d=a.data;return d.setAll(P1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return au(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function MD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=O1(i.transform,r||null);s!=null&&(n===null&&(n=nn.empty()),n.set(i.field,s))}return n||null}function b_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ls(i,r,(s,a)=>ND(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zo extends Vc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends Vc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function S_(e,t,n){const i=new Map;yt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,DD(a,l,n[r]))}return i}function w_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,CD(s,a,t))}return i}class Um extends Vc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Vc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&xD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ro(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ro(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=D1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=k1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ot())}isEqual(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,(n,i)=>b_(n,i))&&Ls(this.baseMutations,t.baseMutations,(n,i)=>b_(n,i))}}class zm{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){yt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return bD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new zm(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,ut;function UD(e){switch(e){case L.OK:return Y(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function L1(e){if(e===void 0)return Jn("GRPC error has no .code"),L.UNKNOWN;switch(e){case Gt.OK:return L.OK;case Gt.CANCELLED:return L.CANCELLED;case Gt.UNKNOWN:return L.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return L.INTERNAL;case Gt.UNAVAILABLE:return L.UNAVAILABLE;case Gt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Gt.NOT_FOUND:return L.NOT_FOUND;case Gt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Gt.ABORTED:return L.ABORTED;case Gt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Gt.DATA_LOSS:return L.DATA_LOSS;default:return Y(39323,{code:e})}}(ut=Gt||(Gt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Li([4294967295,4294967295],0);function R_(e){const t=a1().encode(e),n=new WE;return n.update(t),new Uint8Array(n.digest())}function I_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Li([n,i],0),new Li([r,s],0)]}class jm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Li.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Li.fromNumber(i)));return r.compare(zD)===1&&(r=new Li([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=R_(t),[i,r]=I_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new jm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=R_(t),[i,r]=I_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Wo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new kc(W.min(),r,new Pt(nt),ti(),ot())}}class Wo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Wo(i,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class U1{constructor(t,n){this.targetId=t,this.Ce=n}}class z1{constructor(t,n,i=he.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class C_{constructor(){this.Fe=0,this.Me=D_(),this.xe=he.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ot(),n=ot(),i=ot();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new Wo(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=D_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jD{constructor(t){this.ze=t,this.je=new Map,this.He=ti(),this.Je=Ll(),this.Ye=Ll(),this.Ze=new Pt(nt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(ld(s))if(i===0){const a=new Q(s.path);this.tt(n,a,ye.newNoDocument(a,W.min()))}else yt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Gi(i).toUint8Array()}catch(u){if(u instanceof c1)return Ps("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jm(a,r,s)}catch(u){return Ps(u instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&ld(l.target)){const u=new Q(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,ye.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ot();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new kc(t,n,this.Ze,this.He,i);return this.He=ti(),this.Je=Ll(),this.Ye=Ll(),this.Ze=new Pt(nt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new C_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Wt(nt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Wt(nt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new C_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Ll(){return new Pt(Q.comparator)}function D_(){return new Pt(Q.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class FD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function hd(e,t){return e.useProto3Json||Dc(t)?t:{value:t}}function tc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function GD(e,t){return tc(e,t.toTimestamp())}function In(e){return yt(!!e,49232),W.fromTimestamp(function(n){const i=Fi(n);return new Zt(i.seconds,i.nanos)}(e))}function Bm(e,t){return fd(e,t).canonicalString()}function fd(e,t){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function B1(e){const t=Dt.fromString(e);return yt(Q1(t),10190,{key:t.toString()}),t}function dd(e,t){return Bm(e.databaseId,t.path)}function Kh(e,t){const n=B1(t);if(n.get(1)!==e.databaseId.projectId)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(H1(n))}function q1(e,t){return Bm(e.databaseId,t)}function QD(e){const t=B1(e);return t.length===4?Dt.emptyPath():H1(t)}function md(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function H1(e){return yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function N_(e,t,n){return{name:dd(e,t),fields:n.value.mapValue.fields}}function YD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(yt(d===void 0||typeof d=="string",58123),he.fromBase64String(d||"")):(yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),he.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:L1(h.code);return new F(d,h.message||"")}(a);n=new z1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Kh(e,i.document.name),s=In(i.document.updateTime),a=i.document.createTime?In(i.document.createTime):W.min(),l=new nn({mapValue:{fields:i.document.fields}}),u=ye.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new ou(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Kh(e,i.document),s=i.readTime?In(i.readTime):W.min(),a=ye.newNoDocument(r,s),l=i.removedTargetIds||[];n=new ou([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Kh(e,i.document),s=i.removedTargetIds||[];n=new ou([],s,r,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new LD(r,s),l=i.targetId;n=new U1(l,a)}}return n}function KD(e,t){let n;if(t instanceof Zo)n={update:N_(e,t.key,t.value)};else if(t instanceof Um)n={delete:dd(e,t.key)};else if(t instanceof Mr)n={update:N_(e,t.key,t.data),updateMask:iN(t.fieldMask)};else{if(!(t instanceof VD))return Y(16599,{ft:t.type});n={verify:dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Wu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ro)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Io)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ju)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Y(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:GD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(e,t.precondition)),n}function XD(e,t){return e&&e.length>0?(yt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?In(r.updateTime):In(s);return a.isEqual(W.min())&&(a=In(s)),new OD(a,r.transformResults||[])}(n,t))):[]}function $D(e,t){return{documents:[q1(e,t.path)]}}function ZD(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=q1(e,r);const s=function(h){if(h.length!==0)return G1(mn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Zr(m.field),direction:tN(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=hd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function WD(e){let t=QD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){yt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=F1(g);return m instanceof mn&&T1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(O){return new Zu(Wr(O.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Dc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new $u(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new $u(_,m)}(n.endAt)),_D(t,r,a,s,l,"F",u,h)}function JD(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function F1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Wr(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Wr(n.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wr(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wr(n.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Yt.create(Wr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(i=>F1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function tN(e){return BD[e]}function eN(e){return qD[e]}function nN(e){return HD[e]}function Zr(e){return{fieldPath:e.canonicalString()}}function Wr(e){return ue.fromServerFormat(e.fieldPath)}function G1(e){return e instanceof Yt?function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zr(n.field),op:eN(n.op),value:n.value}}}(e):e instanceof mn?function(n){const i=n.getFilters().map(r=>G1(r));return i.length===1?i[0]:{compositeFilter:{op:nN(n.op),filters:i}}}(e):Y(54877,{filter:e})}function iN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Q1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,i,r,s=W.min(),a=W.min(),l=he.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.wt=t}}function sN(e){const t=WD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Cn=new oN}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Hi.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Hi.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class oN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Wt(Dt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wt(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class Oe{static withCacheSize(t){return new Oe(t,Oe.DEFAULT_COLLECTION_PERCENTILE,Oe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oe.DEFAULT_COLLECTION_PERCENTILE=10,Oe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oe.DEFAULT=new Oe(Y1,Oe.DEFAULT_COLLECTION_PERCENTILE,Oe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oe.DISABLED=new Oe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new js(0)}static lr(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",lN=1048576;function M_([e,t],[n,i]){const r=nt(e,n);return r===0?nt(t,i):r}class uN{constructor(t){this.Er=t,this.buffer=new Wt(M_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();M_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(x_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?H(x_,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.mr(3e5)})}}class hN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Cc.le);const i=new uN(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(O_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Xr()<=at.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function fN(e,t){return new hN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.changes=new xr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&ro(i.mutation,r,fn.empty(),Zt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ot()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ot()){const r=lr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=ka();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=lr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ot()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=ti();const a=io(),l=function(){return io()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Mr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),ro(d.mutation,h,d.mutation.getFieldMask(),Zt.now())):a.set(h.key,fn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new mN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=io();let r=new Pt((a,l)=>a-l),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||fn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ot()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=D1();d.forEach(m=>{if(!s.has(m)){const _=k1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):S1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(lr());let l=Ao,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ot())).next(d=>({batchId:l,changes:C1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=ka();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=ka();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new $o(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ye.newInvalidDocument(d)))});let l=ka();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&ro(d.mutation,h,fn.empty(),Zt.now()),xc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:In(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:sN(r.bundledQuery),readTime:In(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.overlays=new Pt(Q.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=lr();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=lr(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Pt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=lr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=lr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new PD(n,i));let s=this.Qr.get(n);s===void 0&&(s=ot(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=he.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.$r=new Wt(te.Ur),this.Kr=new Wt(te.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new te(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new te(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Q(new Dt([])),i=new te(n,t),r=new te(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Q(new Dt([])),i=new te(n,t),r=new te(n,t+1);let s=ot();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new te(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class te{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Q.comparator(t.key,n.key)||nt(t.Zr,n.Zr)}static Wr(t,n){return nt(t.Zr,n.Zr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(te.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new kD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new te(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Om:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new te(n,0),r=new te(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Wt(nt);return n.forEach(r=>{const s=new te(r,0),a=new te(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new te(new Q(s),0);let l=new Wt(nt);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){yt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new te(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new te(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.ii=t,this.docs=function(){return new Pt(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ye.newInvalidDocument(n))}getEntries(t,n){let i=ti();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ye.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=ti();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||$C(XC(d),i)<=0||(r.has(d.key)||xc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Y(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new EN(this)}getSize(t){return k.resolve(this.size)}}class EN extends dN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.persistence=t,this.oi=new xr(n=>Vm(n),km),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this._i=0,this.ai=new qm,this.targetCount=0,this.ui=js.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new js(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n){this.ci={},this.overlays={},this.li=new Cc(0),this.hi=!1,this.hi=!0,this.Pi=new _N,this.referenceDelegate=t(this),this.Ti=new AN(this),this.indexManager=new aN,this.remoteDocumentCache=function(r){return new TN(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new rN(n),this.Ei=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new yN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new vN(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new bN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class bN extends WC{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Vi=new qm,this.mi=null}static fi(t){return new Hm(t)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=Q.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,W.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class ec{constructor(t,n){this.persistence=t,this.yi=new xr(i=>eD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=fN(this,n)}static fi(t,n){return new ec(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,W.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ru(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ot(),r=ot();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Fm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Tw()?8:JC(Te())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new SN;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(Xr()<=at.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",$r(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(Xr()<=at.DEBUG&&H("QueryEngine","Query:",$r(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Xr()<=at.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",$r(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wn(n))):k.resolve())}ws(t,n){if(E_(n))return k.resolve(null);let i=wn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=cd(n,null,"F"),i=wn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ot(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,cd(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return E_(n)||r.isEqual(W.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(Xr()<=at.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$r(n)),this.Fs(t,a,n,KC(r,Ao)).next(l=>l))})}vs(t,n){let i=new Wt(R1(t));return n.forEach((r,s)=>{xc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Xr()<=at.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",$r(n)),this.ys.getDocumentsMatchingQuery(t,n,Hi.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",RN=3e8;class IN{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Pt(nt),this.Os=new xr(s=>Vm(s),km),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function CN(e,t,n,i){return new IN(e,t,n,i)}async function X1(e,t){const n=tt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ot();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function DN(e,t){const n=tt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=k.resolve();return m.forEach(O=>{_=_.next(()=>d.getEntry(u,O)).next(M=>{const V=h.docVersions.get(O);yt(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ot();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function $1(e){const t=tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function NN(e,t){const n=tt(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(he.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,V,b){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=RN?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=ti(),h=ot();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(ON(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(W.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function ON(e,t,n){let i=ot(),r=ot();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=ti();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(W.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(Gm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function xN(e,t){const n=tt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function MN(e,t){const n=tt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Si(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function gd(e,t,n){const i=tt(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ea(a))throw a;H(Gm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function V_(e,t,n){const i=tt(e);let r=W.min(),s=ot();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=tt(u),m=g.Os.get(d);return m!==void 0?k.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,wn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:W.min(),n?s:ot())).next(l=>(VN(i,TD(t),l),{documents:l,$s:s})))}function VN(e,t,n){let i=e.Ns.get(t)||W.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class k_{constructor(){this.activeTargetIds=RD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kN{constructor(){this.xo=new k_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new k_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="ConnectivityMonitor";class L_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(P_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(P_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=null;function pd(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Ku?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=pd(),l=this.jo(t,n.toUriEncodedString());H(Xh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=$s(h);return this.Jo(t,l,u,i,d).then(g=>(H(Xh,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Ps(Xh,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=LN[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class jN extends UN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=pd();return new Promise((l,u)=>{const h=new JE;h.setWithCredentials(!0),h.listenOnce(t1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case iu.NO_ERROR:const g=h.getResponseJson();H(ge,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case iu.TIMEOUT:H(ge,`RPC '${t}' ${a} timed out`),u(new F(L.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:const m=h.getStatus();if(H(ge,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_==null?void 0:_.error;if(O&&O.status&&O.message){const M=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(O.status);u(new F(M,O.message))}else u(new F(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new F(L.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(ge,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(ge,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=pd(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=i1(),l=n1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(ge,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const O=new zN({Zo:V=>{_?H(ge,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(ge,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(ge,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,b,v)=>{V.listen(b,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return M(g,Va.EventType.OPEN,()=>{_||(H(ge,`RPC '${t}' stream ${r} transport opened.`),O.__())}),M(g,Va.EventType.CLOSE,()=>{_||(_=!0,H(ge,`RPC '${t}' stream ${r} transport closed`),O.u_(),this.d_(g))}),M(g,Va.EventType.ERROR,V=>{_||(_=!0,Ps(ge,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),O.u_(new F(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,Va.EventType.MESSAGE,V=>{var b;if(!_){const v=V.data[0];yt(!!v,16349);const w=v,D=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(D){H(ge,`RPC '${t}' stream ${r} received error:`,D);const z=D.status;let B=function(E){const A=Gt[E];if(A!==void 0)return L1(A)}(z),T=D.message;B===void 0&&(B=L.INTERNAL,T="Unknown error status: "+z+" with message "+D.message),_=!0,O.u_(new F(B,T)),g.close()}else H(ge,`RPC '${t}' stream ${r} received:`,v),O.c_(v)}}),M(l,e1.STAT_EVENT,V=>{V.stat===id.PROXY?H(ge,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===id.NOPROXY&&H(ge,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){return new FD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class W1{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Z1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new F(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(U_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BN extends W1{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=YD(this.serializer,t),i=function(s){if(!("targetChange"in s))return W.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?In(a.readTime):W.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=md(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=ld(u)?{documents:$D(s,u)}:{query:ZD(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=j1(s,a.resumeToken);const h=hd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(W.min())>0){l.readTime=tc(s,a.snapshotVersion.toTimestamp());const h=hd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=JD(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=md(this.serializer),n.removeTarget=t,this.Q_(n)}}class qN extends W1{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=XD(t.writeResults,t.commitTime),i=In(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=md(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>KD(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{}class FN extends HN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,fd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,fd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Jn(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="RemoteStore";class QN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Vr(this)&&(H(Rr,"Restarting streams for network reachability change."),await async function(u){const h=tt(u);h.da.add(4),await Jo(h),h.Va.set("Unknown"),h.da.delete(4),await Lc(h)}(this))})}),this.Va=new GN(i,r)}}async function Lc(e){if(Vr(e))for(const t of e.Aa)await t(!0)}async function Jo(e){for(const t of e.Aa)await t(!1)}function J1(e,t){const n=tt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Xm(n)?Km(n):na(n).N_()&&Ym(n,t))}function Qm(e,t){const n=tt(e),i=na(n);n.Ea.delete(t),i.N_()&&tA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Vr(n)&&n.Va.set("Unknown"))}function Ym(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(W.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}na(e).Z_(t)}function tA(e,t){e.ma.Ke(t),na(e).X_(t)}function Km(e){e.ma=new jD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),na(e).start(),e.Va.ca()}function Xm(e){return Vr(e)&&!na(e).O_()&&e.Ea.size>0}function Vr(e){return tt(e).da.size===0}function eA(e){e.ma=void 0}async function YN(e){e.Va.set("Online")}async function KN(e){e.Ea.forEach((t,n)=>{Ym(e,t)})}async function XN(e,t){eA(e),Xm(e)?(e.Va.Pa(t),Km(e)):e.Va.set("Unknown")}async function $N(e,t,n){if(e.Va.set("Online"),t instanceof z1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(Rr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await nc(e,i)}else if(t instanceof ou?e.ma.Xe(t):t instanceof U1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(W.min()))try{const i=await $1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(he.EMPTY_BYTE_STRING,d.snapshotVersion)),tA(s,u);const g=new Si(d.target,u,h,d.sequenceNumber);Ym(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(Rr,"Failed to raise snapshot:",i),await nc(e,i)}}async function nc(e,t,n){if(!ea(t))throw t;e.da.add(1),await Jo(e),e.Va.set("Offline"),n||(n=()=>$1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(Rr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Lc(e)})}function nA(e,t){return t().catch(n=>nc(e,n,t))}async function Uc(e){const t=tt(e),n=Yi(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Om;for(;ZN(t);)try{const r=await xN(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,WN(t,r)}catch(r){await nc(t,r)}iA(t)&&rA(t)}function ZN(e){return Vr(e)&&e.Ia.length<10}function WN(e,t){e.Ia.push(t);const n=Yi(e);n.N_()&&n.ea&&n.ta(t.mutations)}function iA(e){return Vr(e)&&!Yi(e).O_()&&e.Ia.length>0}function rA(e){Yi(e).start()}async function JN(e){Yi(e).ia()}async function t4(e){const t=Yi(e);for(const n of e.Ia)t.ta(n.mutations)}async function e4(e,t,n){const i=e.Ia.shift(),r=zm.from(i,t,n);await nA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Uc(e)}async function n4(e,t){t&&Yi(e).ea&&await async function(i,r){if(function(a){return UD(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();Yi(i).L_(),await nA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Uc(i)}}(e,t),iA(e)&&rA(e)}async function z_(e,t){const n=tt(e);n.asyncQueue.verifyOperationInProgress(),H(Rr,"RemoteStore received new credentials");const i=Vr(n);n.da.add(3),await Jo(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Lc(n)}async function i4(e,t){const n=tt(e);t?(n.da.delete(2),await Lc(n)):t||(n.da.add(2),await Jo(n),n.Va.set("Unknown"))}function na(e){return e.fa||(e.fa=function(n,i,r){const s=tt(n);return s.oa(),new BN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:YN.bind(null,e),n_:KN.bind(null,e),i_:XN.bind(null,e),Y_:$N.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Xm(e)?Km(e):e.Va.set("Unknown")):(await e.fa.stop(),eA(e))})),e.fa}function Yi(e){return e.ga||(e.ga=function(n,i,r){const s=tt(n);return s.oa(),new qN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:JN.bind(null,e),i_:n4.bind(null,e),na:t4.bind(null,e),ra:e4.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Uc(e)):(await e.ga.stop(),e.Ia.length>0&&(H(Rr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new $m(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(e,t){if(Jn("AsyncQueue",`${t}: ${e}`),ea(e))return new F(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(t){return new bs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=ka(),this.sortedSet=new Pt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new bs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.pa=new Pt(Q.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Bs{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Bs(t,n,bs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class s4{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=tt(n),s=r.queries;r.queries=B_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new F(L.ABORTED,"Firestore shutting down"))}}function B_(){return new xr(e=>w1(e),Oc)}async function a4(e,t){const n=tt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new r4,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Zm(a,`Initialization of query '${$r(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&Wm(n)}async function o4(e,t){const n=tt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function l4(e,t){const n=tt(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&Wm(n)}function u4(e,t,n){const i=tt(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Wm(e){e.Ca.forEach(t=>{t.next()})}var yd,q_;(q_=yd||(yd={})).xa="default",q_.Cache="cache";class c4{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Bs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Bs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.key=t}}class aA{constructor(t){this.key=t}}class h4{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.Za=R1(t),this.Xa=new bs(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new j_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=xc(this.query,g)?g:null,O=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;m&&_?m.data.isEqual(_.data)?O!==M&&(i.track({type:3,doc:_}),V=!0):this.ru(m,_)||(i.track({type:2,doc:_}),V=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),V=!0):m&&!_&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,O){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:V})}};return M(_)-M(O)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Bs(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new j_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ot(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new aA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new sA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ot();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Bs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Jm="SyncEngine";class f4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class d4{constructor(t){this.key=t,this.cu=!1}}class m4{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new xr(l=>w1(l),Oc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pt(Q.comparator),this.Eu=new Map,this.du=new qm,this.Au={},this.Ru=new Map,this.Vu=js.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function g4(e,t,n=!0){const i=fA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await oA(i,t,n,!0),r}async function p4(e,t){const n=fA(e);await oA(n,t,!0,!1)}async function oA(e,t,n,i){const r=await MN(e.localStore,wn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await y4(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&J1(e.remoteStore,r),l}async function y4(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,V,b,v){let w=V.view.tu(b);w.Cs&&(w=await V_(M.localStore,V.query,!1).then(({documents:T})=>V.view.tu(T,w)));const D=v&&v.targetChanges.get(V.targetId),z=v&&v.targetMismatches.get(V.targetId)!=null,B=V.view.applyChanges(w,M.isPrimaryClient,D,z);return F_(M,V.targetId,B.ou),B.snapshot}(e,g,m,_);const s=await V_(e.localStore,t,!0),a=new h4(t,s.$s),l=a.tu(s.documents),u=Wo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);F_(e,n,h.ou);const d=new f4(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function _4(e,t,n){const i=tt(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Oc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await gd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Qm(i.remoteStore,r.targetId),_d(i,r.targetId)}).catch(ta)):(_d(i,r.targetId),await gd(i.localStore,r.targetId,!0))}async function v4(e,t){const n=tt(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qm(n.remoteStore,i.targetId))}async function T4(e,t,n){const i=I4(e);try{const r=await function(a,l){const u=tt(a),h=Zt.now(),d=l.reduce((_,O)=>_.add(O.key),ot());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let O=ti(),M=ot();return u.Bs.getEntries(_,d).next(V=>{O=V,O.forEach((b,v)=>{v.isValidDocument()||(M=M.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,O)).next(V=>{g=V;const b=[];for(const v of l){const w=MD(v,g.get(v.key).overlayedDocument);w!=null&&b.push(new Mr(v.key,w,y1(w.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,b,l)}).next(V=>{m=V;const b=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,V.batchId,b)})}).then(()=>({batchId:m.batchId,changes:C1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Pt(nt)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await tl(i,r.changes),await Uc(i.remoteStore)}catch(r){const s=Zm(r,"Failed to persist write");n.reject(s)}}async function lA(e,t){const n=tt(e);try{const i=await NN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?yt(a.cu,14607):r.removedDocuments.size>0&&(yt(a.cu,42227),a.cu=!1))}),await tl(n,i,t)}catch(i){await ta(i)}}function H_(e,t,n){const i=tt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=tt(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&Wm(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function E4(e,t,n){const i=tt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Pt(Q.comparator);a=a.insert(s,ye.newNoDocument(s,W.min()));const l=ot().add(s),u=new kc(W.min(),new Map,new Pt(nt),a,l);await lA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),tg(i)}else await gd(i.localStore,t,!1).then(()=>_d(i,t,n)).catch(ta)}async function A4(e,t){const n=tt(e),i=t.batch.batchId;try{const r=await DN(n.localStore,t);cA(n,i,null),uA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tl(n,r)}catch(r){await ta(r)}}async function b4(e,t,n){const i=tt(e);try{const r=await function(a,l){const u=tt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(yt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);cA(i,t,n),uA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await tl(i,r)}catch(r){await ta(r)}}function uA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function cA(e,t,n){const i=tt(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function _d(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||hA(e,i)})}function hA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Qm(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),tg(e))}function F_(e,t,n){for(const i of n)i instanceof sA?(e.du.addReference(i.key,t),S4(e,i)):i instanceof aA?(H(Jm,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||hA(e,i.key)):Y(19791,{pu:i})}function S4(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Jm,"New document in limbo: "+n),e.Tu.add(i),tg(e))}function tg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Q(Dt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new d4(n)),e.Iu=e.Iu.insert(n,i),J1(e.remoteStore,new Si(wn(Pm(n.path)),i,"TargetPurposeLimboResolution",Cc.le))}}async function tl(e,t,n){const i=tt(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=Fm.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=tt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>k.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ea(g))throw g;H(Gm,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),O=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(O);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function w4(e,t){const n=tt(e);if(!n.currentUser.isEqual(t)){H(Jm,"User change. New user:",t.toKey());const i=await X1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new F(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await tl(n,i.ks)}}function R4(e,t){const n=tt(e),i=n.Eu.get(t);if(i&&i.cu)return ot().add(i.key);{let r=ot();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function fA(e){const t=tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E4.bind(null,t),t.lu.Y_=l4.bind(null,t.eventManager),t.lu.gu=u4.bind(null,t.eventManager),t}function I4(e){const t=tt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return CN(this.persistence,new wN,t.initialUser,this.serializer)}Su(t){return new K1(Hm.fi,this.serializer)}bu(t){return new kN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class C4 extends ic{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){yt(this.persistence.referenceDelegate instanceof ec,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new cN(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Oe.withCacheSize(this.cacheSizeBytes):Oe.DEFAULT;return new K1(i=>ec.fi(i,n),this.serializer)}}class vd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>H_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new s4}()}createDatastore(t){const n=Pc(t.databaseInfo.databaseId),i=function(s){return new jN(s)}(t.databaseInfo);return function(s,a,l,u){return new FN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new QN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>H_(this.syncEngine,n,0),function(){return L_.C()?new L_:new PN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new m4(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=tt(r);H(Rr,"RemoteStore shutting down."),s.da.add(5),await Jo(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Jn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class N4{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pe.UNAUTHENTICATED,this.clientId=o1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(Ki,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Ki,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Zm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Zh(e,t){e.asyncQueue.verifyOperationInProgress(),H(Ki,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await X1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function G_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await O4(e);H(Ki,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>z_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>z_(t.remoteStore,r)),e._onlineComponents=t}async function O4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Ki,"Using user provided OfflineComponentProvider");try{await Zh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ps("Error using user provided cache. Falling back to memory cache: "+n),await Zh(e,new ic)}}else H(Ki,"Using default OfflineComponentProvider"),await Zh(e,new C4(void 0));return e._offlineComponents}async function dA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Ki,"Using user provided OnlineComponentProvider"),await G_(e,e._uninitializedComponentsProvider._online)):(H(Ki,"Using default OnlineComponentProvider"),await G_(e,new vd))),e._onlineComponents}function x4(e){return dA(e).then(t=>t.syncEngine)}async function Q_(e){const t=await dA(e),n=t.eventManager;return n.onListen=g4.bind(null,t.syncEngine),n.onUnlisten=_4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=p4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(e,t,n){if(!n)throw new F(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function M4(e,t,n,i){if(t===!0&&i===!0)throw new F(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function K_(e){if(!Q.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function X_(e){if(Q.isDocumentKey(e))throw new F(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function yr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zc(e);throw new F(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firestore.googleapis.com",$_=!0;class Z_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new F(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=$_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:$_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lN)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zC;switch(i.type){case"firstParty":return new HC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Y_.get(n);i&&(H("ComponentProvider","Removing Datastore"),Y_.delete(n),i.terminate())}(this),Promise.resolve()}}function V4(e,t,n,i={}){var r;e=yr(e,jc);const s=$s(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(fE(`https://${u}`),dE("Firestore",!0)),a.host!==pA&&a.host!==u&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Ar(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=pe.MOCK_USER;else{d=hw(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pe(m)}e._authCredentials=new jC(new s1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ia(this.firestore,t,this._query)}}class xe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}}class Ui extends ia{constructor(t,n,i){super(t,n,Pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new Q(t))}withConverter(t){return new Ui(this.firestore,t,this._path)}}function W_(e,t,...n){if(e=Ve(e),gA("collection","path",t),e instanceof jc){const i=Dt.fromString(t,...n);return X_(i),new Ui(e,null,i)}{if(!(e instanceof xe||e instanceof Ui))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return X_(i),new Ui(e.firestore,null,i)}}function zl(e,t,...n){if(e=Ve(e),arguments.length===1&&(t=o1.newId()),gA("doc","path",t),e instanceof jc){const i=Dt.fromString(t,...n);return K_(i),new xe(e,null,new Q(i))}{if(!(e instanceof xe||e instanceof Ui))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return K_(i),new xe(e.firestore,e instanceof Ui?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class tv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Z1(this,"async_queue_retry"),this.rc=()=>{const i=$h();i&&H(J_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=$h();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=$h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new pr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ea(t))throw t;H(J_,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Jn("INTERNAL UNHANDLED ERROR: ",ev(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=$m.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Y(47125,{cc:ev(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function ev(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Co extends jc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new tv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tv(t),this._firestoreClient=void 0,await t}}}function k4(e,t){const n=typeof e=="object"?e:yE(),i=typeof e=="string"?e:Ku,r=Em(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=uw("firestore");s&&V4(r,...s)}return r}function yA(e){if(e._terminated)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||P4(e),e._firestoreClient}function P4(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new rD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new N4(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qs(he.fromBase64String(t))}catch(n){throw new F(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qs(he.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nt(this._lat,t._lat)||nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^__.*__$/;class U4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Mr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zo(t,this.data,n,this.fieldTransforms)}}function vA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:e})}}class rg{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new rg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return rc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(vA(this.Ic)&&L4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class z4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Pc(t)}bc(t,n,i,r=!1){return new rg({Ic:t,methodName:n,wc:i,path:ue.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TA(e){const t=e._freezeSettings(),n=Pc(e._databaseId);return new z4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function j4(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);bA("Data must be an object, but it was:",a,i);const l=EA(i,a);let u,h;if(s.merge)u=new fn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=q4(t,g,n);if(!a.contains(m))throw new F(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);F4(d,m)||d.push(m)}u=new fn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new U4(new nn(l),u,h)}function B4(e,t,n,i=!1){return sg(n,e.bc(i?4:3,t))}function sg(e,t){if(AA(e=Ve(e)))return bA("Unsupported field value:",t,e),EA(e,t);if(e instanceof _A)return function(i,r){if(!vA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=sg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ID(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Zt.fromDate(i);return{timestampValue:tc(r.serializer,s)}}if(i instanceof Zt){const s=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tc(r.serializer,s)}}if(i instanceof ng)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qs)return{bytesValue:j1(r.serializer,i._byteString)};if(i instanceof xe){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ig)return function(a,l){return{mapValue:{fields:{[g1]:{stringValue:p1},[Xu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Lm(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${zc(i)}`)}(e,t)}function EA(e,t){const n={};return u1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Or(e,(i,r)=>{const s=sg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function AA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Zt||e instanceof ng||e instanceof qs||e instanceof xe||e instanceof _A||e instanceof ig)}function bA(e,t,n){if(!AA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=zc(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function q4(e,t,n){if((t=Ve(t))instanceof eg)return t._internalPath;if(typeof t=="string")return SA(e,t);throw rc("Field path arguments must be of type string or ",e,!1,void 0,n)}const H4=new RegExp("[~\\*/\\[\\]]");function SA(e,t,n){if(t.search(H4)>=0)throw rc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new eg(...t.split("."))._internalPath}catch{throw rc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function rc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(L.INVALID_ARGUMENT,l+e+u)}function F4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(RA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G4 extends wA{data(){return super.data()}}function RA(e,t){return typeof t=="string"?SA(e,t):t instanceof eg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class Y4 extends ag{}function K4(e,t,...n){let i=[];t instanceof ag&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof lg).length,l=s.filter(u=>u instanceof og).length;if(a>1||a>0&&l>0)throw new F(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class og extends Y4{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new og(t,n,i)}_apply(t){const n=this._parse(t);return IA(t._query,n),new ia(t.firestore,t.converter,ud(t._query,n))}_parse(t){const n=TA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rv(g,d);const O=[];for(const M of g)O.push(iv(u,s,M));m={arrayValue:{values:O}}}else m=iv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rv(g,d),m=B4(l,a,g,d==="in"||d==="not-in");return Yt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class lg extends ag{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new lg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)IA(a,u),a=ud(a,u)}(t._query,n),new ia(t.firestore,t.converter,ud(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iv(e,t,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new F(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S1(t)&&n.indexOf("/")!==-1)throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Dt.fromString(n));if(!Q.isDocumentKey(i))throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g_(e,new Q(i))}if(n instanceof xe)return g_(e,n._key);throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(n)}.`)}function rv(e,t){if(!Array.isArray(e)||e.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class X4{convertValue(t,n="none"){switch(Qi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Or(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[Xu].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ft(a.doubleValue));return new ig(s)}convertGeoPoint(t){return new ng(Ft(t.latitude),Ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Nc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bo(t));default:return null}}convertTimestamp(t){const n=Fi(t);return new Zt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Dt.fromString(t);yt(Q1(i),9688,{name:t});const r=new So(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class CA extends wA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(RA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class lu extends CA{data(t={}){return super.data(t)}}class Z4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new La(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new lu(this._firestore,this._userDataWriter,i.key,i,new La(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new La(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new La(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:W4(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}class DA extends X4{constructor(t){super(),this.firestore=t}convertBytes(t){return new qs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function sv(e,t,n){e=yr(e,xe);const i=yr(e.firestore,Co),r=$4(e.converter,t);return NA(i,[j4(TA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Rn.none())])}function J4(e){return NA(yr(e.firestore,Co),[new Um(e._key,Rn.none())])}function tO(e,...t){var n,i,r;e=Ve(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||nv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof xe)h=yr(e.firestore,Co),d=Pm(e._key.path),u={next:g=>{t[a]&&t[a](eO(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=yr(e,ia);h=yr(g.firestore,Co),d=g._query;const m=new DA(h);u={next:_=>{t[a]&&t[a](new Z4(h,m,g,_))},error:t[a+1],complete:t[a+2]},Q4(e._query)}return function(m,_,O,M){const V=new D4(M),b=new c4(_,V,O);return m.asyncQueue.enqueueAndForget(async()=>a4(await Q_(m),b)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>o4(await Q_(m),b))}}(yA(h),d,l,u)}function NA(e,t){return function(i,r){const s=new pr;return i.asyncQueue.enqueueAndForget(async()=>T4(await x4(i),r,s)),s.promise}(yA(e),t)}function eO(e,t,n){const i=n.docs.get(t._key),r=new DA(e);return new CA(e,r,t._key,i,new La(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){Js=r})(Zs),ks(new br("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Co(new BC(i.getProvider("auth-internal")),new FC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ki(i_,r_,t),ki(i_,r_,"esm2017")})();const J={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},OA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},av={normal:"https://archives.bulbagarden.net/media/upload/c/cb/Normal_icon_LA.png?20220213053429",fire:"https://archives.bulbagarden.net/media/upload/4/48/Fire_icon_LA.png?20220213053749",water:"https://archives.bulbagarden.net/media/upload/5/5e/Water_icon_LA.png?20220213053800",electric:"https://archives.bulbagarden.net/media/upload/7/75/Electric_icon_LA.png?20220213053826",grass:"https://archives.bulbagarden.net/media/upload/1/1b/Grass_icon_LA.png?20220213053815",ice:"https://archives.bulbagarden.net/media/upload/7/70/Ice_icon_LA.png?20220213053853",fighting:"https://archives.bulbagarden.net/media/upload/6/68/Fighting_icon_LA.png?20220213053440",poison:"https://archives.bulbagarden.net/media/upload/b/b4/Poison_icon_LA.png?20220213053545",ground:"https://archives.bulbagarden.net/media/upload/4/45/Ground_icon_LA.png?20220213053610",flying:"https://archives.bulbagarden.net/media/upload/d/de/Flying_icon_LA.png?20220213053533",psychic:"https://archives.bulbagarden.net/media/upload/4/45/Psychic_icon_LA.png?20220213053708",bug:"https://archives.bulbagarden.net/media/upload/2/26/Bug_icon_LA.png?20220213053628",rock:"https://archives.bulbagarden.net/media/upload/8/85/Rock_icon_LA.png?20220213053620",ghost:"https://archives.bulbagarden.net/media/upload/b/b5/Ghost_icon_LA.png?20220213053637",dragon:"https://archives.bulbagarden.net/media/upload/2/28/Dragon_icon_LA.png?20220213053915",dark:"https://archives.bulbagarden.net/media/upload/7/7f/Dark_icon_LA.png?20220213053921",steel:"https://archives.bulbagarden.net/media/upload/f/f9/Steel_icon_LA.png?20220213053740",fairy:"https://archives.bulbagarden.net/media/upload/b/b1/Fairy_icon_LA.png?20220213053936"},Wh={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},nO=()=>N.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),iO=()=>N.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),ov=({className:e="w-6 h-6",isFavorite:t})=>N.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":J.textMuted},children:[" ",N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),rO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",N.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),sO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),aO=()=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",N.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),oO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),lO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),uO=()=>N.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),cO=()=>N.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),hO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),fO=()=>N.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),lv=({type:e})=>N.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:OA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),dO={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Da="pokemonTeamBuilder";function mO(){const[e,t]=ht.useState(null),[n,i]=ht.useState(null),[r,s]=ht.useState(!1),[a,l]=ht.useState([]),[u,h]=ht.useState([]),[d,g]=ht.useState({}),[m,_]=ht.useState([]),[O,M]=ht.useState("all"),[V,b]=ht.useState(new Set),[v,w]=ht.useState(""),[D,z]=ht.useState([]),[B,T]=ht.useState([]),[y,E]=ht.useState(""),[A,R]=ht.useState(null),[I,S]=ht.useState({strengths:new Set,weaknesses:{}}),[Ee,Ye]=ht.useState(!0),[q,Z]=ht.useState([]),[K,gt]=ht.useState("builder"),[It,on]=ht.useState(!1),[Vt,Lt]=ht.useState(!1),[Ie,Ke]=ht.useState(""),fe=ht.useCallback((U,G="info")=>{const lt=Date.now();Z(Tt=>[...Tt,{id:lt,message:U,type:G}]),setTimeout(()=>Z(Tt=>Tt.filter(Ut=>Ut.id!==lt)),3e3)},[]);ht.useEffect(()=>{try{const U=pE(dO);i(k4(U)),II(e_(U),async G=>{G?t(G.uid):await EI(e_(U)),s(!0)})}catch{fe("Failed to connect to services.","error")}},[]),ht.useEffect(()=>{(async()=>{Ye(!0);try{const lt=await(await fetch("https://pokeapi.co/api/v2/generation")).json();_(lt.results);const wt=(await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")).json()).results.map(Pe=>fetch(Pe.url).then(Xe=>Xe.json())),Ae=(await Promise.all(wt)).map(Pe=>{var Xe;return{id:Pe.id,name:Pe.name,sprite:((Xe=Pe.sprites)==null?void 0:Xe.front_default)||"https://via.placeholder.com/96",types:Pe.types.map(Ur=>Ur.type.name)}});l(Ae),h(Ae),g(Ae.reduce((Pe,Xe)=>({...Pe,[Xe.id]:Xe}),{}))}catch{fe("Failed to load Pokémon data.","error")}finally{Ye(!1)}})()},[]),ht.useEffect(()=>{(async()=>{if(a.length===0&&!Ee)return;let G=[...a];try{if(O!=="all"){const Tt={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]}[O];Tt&&(G=a.filter(Ut=>Ut.id>=Tt[0]&&Ut.id<=Tt[1]))}V.size>0&&(G=G.filter(lt=>lt.types.some(Tt=>V.has(Tt)))),v&&(G=G.filter(lt=>lt.name.toLowerCase().includes(v.toLowerCase())))}catch{fe("Failed to apply filters.","error")}h(G)})()},[O,V,v,a,Ee]),ht.useEffect(()=>{if(!r||!n||!e)return;const U=K4(W_(n,`artifacts/${Da}/users/${e}/teams`)),G=tO(U,lt=>{const Tt=lt.docs.map(Ut=>({id:Ut.id,...Ut.data()}));T(Tt)},()=>fe("Could not load saved teams.","error"));return()=>G()},[r,n,e]),ht.useEffect(()=>{const U=D.map(Ut=>d[Ut.id]).filter(Boolean);if(U.length===0){S({strengths:new Set,weaknesses:{}});return}const G=Object.keys(Wh),lt={},Tt=new Set;U.flatMap(Ut=>Ut.types).forEach(Ut=>{var wt;Object.entries(((wt=Wh[Ut])==null?void 0:wt.damageDealt)||{}).forEach(([pt,Ae])=>{Ae>1&&Tt.add(pt)})}),G.forEach(Ut=>{const wt=U.filter(pt=>pt.types.reduce((Pe,Xe)=>{var Ur;return Pe*(((Ur=Wh[Xe])==null?void 0:Ur.damageTaken[Ut])??1)},1)>1).length;wt>0&&(lt[Ut]=wt)}),S({strengths:Tt,weaknesses:lt})},[D,d]);const Zi=ht.useMemo(()=>{const U=new Set(D.map(G=>G.id));return u.filter(G=>!U.has(G.id))},[u,D]),el=ht.useMemo(()=>B.filter(U=>U.isFavorite).sort((U,G)=>new Date(G.createdAt)-new Date(U.createdAt)).slice(0,5),[B]),Bc=ht.useMemo(()=>{let U=[...B].sort((G,lt)=>lt.isFavorite-G.isFavorite||new Date(lt.createdAt)-new Date(G.createdAt));return Ie&&(U=U.filter(G=>G.name.toLowerCase().includes(Ie.toLowerCase()))),U},[B,Ie]),kr=U=>{if(D.length>=6)return fe("Your team is full (6 Pokémon)!","warning");if(D.find(G=>G.id===U.id))return fe("This Pokémon is already on your team.","warning");z([...D,U])},Pr=U=>z(D.filter(G=>G.id!==U)),Wi=()=>{z([]),E(""),R(null)},ra=async()=>{var lt;if(!n||!e)return fe("Database connection not ready.","error");if(D.length===0)return fe("Your team is empty!","warning");if(!y.trim())return fe("Please name your team.","warning");const U=A||zl(W_(n,`artifacts/${Da}/users/${e}/teams`)).id,G={name:y,pokemons:D.map(Tt=>({id:Tt.id,name:Tt.name,sprite:Tt.sprite})),isFavorite:((lt=B.find(Tt=>Tt.id===A))==null?void 0:lt.isFavorite)||!1,createdAt:new Date().toISOString()};try{await sv(zl(n,`artifacts/${Da}/users/${e}/teams`,U),G),fe(`Team "${y}" saved!`,"success"),Wi()}catch{fe("Error saving team.","error")}},Lr=U=>{const G=U.pokemons.map(lt=>d[lt.id]).filter(Boolean);z(G),E(U.name),R(U.id),gt("builder"),on(!1),window.scrollTo({top:0,behavior:"smooth"})},sa=async U=>{if(!(!n||!e))try{await J4(zl(n,`artifacts/${Da}/users/${e}/teams`,U)),A===U&&Wi(),fe("Team deleted.","info")}catch{fe("Error deleting team.","error")}},aa=async U=>{if(!(!n||!e))try{await sv(zl(n,`artifacts/${Da}/users/${e}/teams`,U.id),{...U,isFavorite:!U.isFavorite})}catch{fe("Could not update favorite status.","error")}},qc=U=>{b(G=>{const lt=new Set(G);return lt.has(U)?lt.delete(U):lt.add(U),lt})},Hc=()=>{switch(K){case"allTeams":return N.jsx(oa,{teams:Bc,onEdit:Lr,onDelete:sa,onToggleFavorite:aa,searchTerm:Ie,setSearchTerm:Ke});case"builder":default:return N.jsx(nl,{})}},nl=()=>N.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[N.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:J.card},children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:J.primary},children:"Current Team"}),N.jsx("input",{type:"text",value:y,onChange:U=>E(U.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:J.cardLight,borderColor:"transparent"}}),N.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[D.map(U=>N.jsxs("div",{className:"text-center relative group",children:[N.jsx("img",{src:U.sprite,alt:U.name,className:"mx-auto h-20 w-20"}),N.jsx("p",{className:"text-xs capitalize truncate",children:U.name}),N.jsx("button",{onClick:()=>Pr(U.id),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-sm",children:"X"})]},U.id)),Array.from({length:6-D.length}).map((U,G)=>N.jsx("div",{className:"border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:J.cardLight,backgroundColor:"transparent"},children:N.jsx("span",{className:"text-3xl font-bold",style:{color:J.textMuted},children:"?"})},G))]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[N.jsxs("button",{onClick:ra,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:J.primary,color:J.background},children:[" ",N.jsx(sO,{})," ",A?"Update":"Save"," Team "]}),N.jsx("button",{onClick:Wi,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg",children:"Clear"})]})]}),D.length>0&&N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:J.card},children:[N.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),N.jsx("div",{className:"flex flex-wrap gap-1",children:I.strengths.size>0?Array.from(I.strengths).sort().map(U=>N.jsx(lv,{type:U},U)):N.jsx("p",{className:"text-sm",style:{color:J.textMuted},children:"No type advantages found."})})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),N.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(I.weaknesses).length>0?Object.entries(I.weaknesses).sort(([,U],[,G])=>G-U).map(([U,G])=>N.jsxs("div",{className:"flex items-center",children:[N.jsx(lv,{},U),N.jsxs("span",{className:"text-xs text-red-300",children:["(",G,"x)"]})]},U)):N.jsx("p",{className:"text-sm",style:{color:J.textMuted},children:"Your team has no common weaknesses!"})})]})]}),N.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:J.card},children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Favorite Teams"}),N.jsx("button",{onClick:()=>gt("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),N.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:el.length>0?el.map(U=>N.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:J.cardLight},children:[N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"font-bold text-lg truncate",children:U.name}),N.jsx("div",{className:"flex mt-1",children:U.pokemons.map(G=>N.jsx("img",{src:G.sprite,alt:G.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:J.cardLight,backgroundColor:J.card}},G.id))})]}),N.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[N.jsx("button",{onClick:()=>aa(U),title:"Favorite",children:N.jsx(ov,{isFavorite:U.isFavorite})}),N.jsx("button",{onClick:()=>Lr(U),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},U.id)):N.jsx("p",{className:"text-center py-4",style:{color:J.textMuted},children:"No favorite teams yet."})})]})]}),N.jsx("div",{className:"lg:col-span-6",children:N.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:J.card},children:[N.jsxs("div",{className:"mb-4",children:[N.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokémon!"}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[N.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:v,onChange:U=>w(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:J.cardLight,borderColor:"transparent"}}),N.jsxs("select",{value:O,onChange:U=>M(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:J.cardLight,borderColor:"transparent"},children:[N.jsx("option",{value:"all",children:"All Generations"}),m.map(U=>N.jsx("option",{value:U.name,className:"capitalize",children:U.name.replace("-"," ")},U.name))]})]})]}),N.jsx("div",{className:"flex-grow h-[60vh] overflow-y-auto custom-scrollbar",children:Ee?N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:J.primary}})}):N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:Zi.length>0?Zi.map(U=>N.jsxs("div",{className:"rounded-lg p-3 text-center cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all group relative",style:{backgroundColor:J.cardLight},onClick:()=>kr(U),children:[N.jsx("img",{src:U.sprite,alt:U.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),N.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:U.name}),N.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:U.types.map(G=>N.jsx("img",{src:av[G],alt:G,className:"w-5 h-5"},G))}),N.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:N.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1",children:N.jsx(aO,{})})})]},U.id)):N.jsx("p",{className:"col-span-full text-center py-8",style:{color:J.textMuted},children:"No Pokémon found with these filters. :("})})})]})}),N.jsx("div",{className:"lg:col-span-3",children:N.jsxs("section",{className:"p-6 rounded-xl shadow-lg sticky top-8",style:{backgroundColor:J.card},children:[N.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),N.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(OA).map(U=>N.jsx("button",{onClick:()=>qc(U),className:`p-2 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${V.has(U)?"ring-2 ring-white":""}`,title:U,children:N.jsx("img",{src:av[U],alt:U,className:"w-full h-full object-contain"})},U))})]})})]}),oa=({teams:U,onEdit:G,onDelete:lt,onToggleFavorite:Tt,searchTerm:Ut,setSearchTerm:wt})=>N.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:J.card},children:[N.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),N.jsx("input",{type:"text",placeholder:"Search teams by name...",value:Ut,onChange:pt=>wt(pt.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:J.cardLight,borderColor:"transparent"}}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:U.length>0?U.map(pt=>N.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:J.cardLight},children:[N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsx("p",{className:"font-bold text-xl truncate mb-2",children:pt.name}),N.jsx("button",{onClick:()=>Tt(pt),title:"Favorite",children:N.jsx(ov,{isFavorite:pt.isFavorite})})]}),N.jsx("div",{className:"flex my-2",children:pt.pokemons.map(Ae=>N.jsx("img",{src:Ae.sprite,alt:Ae.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:J.cardLight,backgroundColor:J.card}},Ae.id))}),N.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[N.jsx("button",{onClick:()=>G(pt),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),N.jsx("button",{onClick:()=>lt(pt.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:N.jsx(rO,{})})]})]},pt.id)):N.jsx("p",{className:"col-span-full text-center py-8",style:{color:J.textMuted},children:"No teams found."})})]});return N.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:J.background},children:[N.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:q.map(U=>N.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${U.type==="success"?"bg-green-600":U.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:U.message},U.id))}),N.jsxs("div",{className:"flex min-h-screen",children:[N.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Vt?"lg:w-20":"w-64"} ${It?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:J.card},children:N.jsxs("div",{className:"flex flex-col h-full",children:[N.jsxs("div",{className:`flex items-center p-5 ${Vt?"justify-center":"justify-between"}`,children:[N.jsx("h2",{className:`text-xl md:text-2xl font-bold transition-opacity duration-200 whitespace-nowrap ${Vt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:J.primary},children:"Menu"}),N.jsx("button",{onClick:()=>Lt(!Vt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:J.textMuted},children:Vt?N.jsx(fO,{}):N.jsx(hO,{})})]}),N.jsx("nav",{className:"px-5 flex-grow",children:N.jsxs("ul",{children:[N.jsx("li",{children:N.jsxs("button",{onClick:()=>{gt("builder"),on(!1)},className:`w-full text-left p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${K==="builder"?"bg-purple-500/30":""} ${Vt?"justify-center":""}`,children:[N.jsx(uO,{})," ",N.jsx("span",{className:`ml-3 transition-opacity duration-200 ${Vt?"lg:opacity-0 lg:hidden":"opacity-100"}`,children:"Team Builder"})]})}),N.jsx("li",{children:N.jsxs("button",{onClick:()=>{gt("allTeams"),on(!1)},className:`w-full text-left p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${K==="allTeams"?"bg-purple-500/30":""} ${Vt?"justify-center":""}`,children:[N.jsx(cO,{})," ",N.jsx("span",{className:`ml-3 transition-opacity duration-200 ${Vt?"lg:opacity-0 lg:hidden":"opacity-100"}`,children:"All Teams"})]})})]})})]})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("header",{className:"text-center py-4 px-4",children:[N.jsx("button",{onClick:()=>on(!It),className:"lg:hidden absolute top-5 left-5 p-2 rounded-md",style:{backgroundColor:J.cardLight},children:It?N.jsx(lO,{}):N.jsx(oO,{})}),N.jsx("h1",{className:"text-xl sm:text-3xl lg:text-5xl font-bold tracking-wider",style:{fontFamily:"'Press Start 2P', cursive",color:J.primary},children:"Pokémon Team Builder"}),N.jsx("p",{className:"text-sm sm:text-base md:text-lg mt-2",style:{fontFamily:"'Press Start 2P', cursive",color:J.primary},children:"By: Enzo Esmeraldo"})]}),N.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Hc()}),N.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:J.cardLight},children:[N.jsx("p",{className:"text-sm",style:{color:J.textMuted},children:"Developed by Enzo Esmeraldo"}),N.jsxs("p",{className:"text-xs mt-2",style:{color:J.textMuted},children:["Using the ",N.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokéAPI"}),". Pokémon and their names are trademarks of Nintendo."]}),N.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[N.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:J.textMuted},children:N.jsx(nO,{})}),N.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:J.textMuted},children:N.jsx(iO,{})})]})]})]})]}),N.jsx("style",{children:`
          html {
            scroll-behavior: smooth;
          }
          @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
          .custom-scrollbar::-webkit-scrollbar { width: 8px; }
          .custom-scrollbar::-webkit-scrollbar-track { background: ${J.card}; }
          .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${J.primary}; border-radius: 20px; border: 3px solid ${J.card}; }
          @keyframes fade-in-out { 0% { opacity: 0; transform: translateY(-10px); } 10% { opacity: 1; transform: translateY(0); } 90% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-10px); } }
          .animate-fade-in-out { animation: fade-in-out 3s forwards; }
        `})]})}tw.createRoot(document.getElementById("root")).render(N.jsx(Tb.StrictMode,{children:N.jsx(mO,{})}));
