(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Av={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=Symbol.for("react.transitional.element"),m2=Symbol.for("react.fragment");function Sv(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:d2,type:t,key:i,ref:e!==void 0?e:null,props:n}}Bc.Fragment=m2;Bc.jsx=Sv;Bc.jsxs=Sv;Av.exports=Bc;var p=Av.exports,wv={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.transitional.element"),g2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),_2=Symbol.for("react.profiler"),v2=Symbol.for("react.consumer"),T2=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),b2=Symbol.for("react.suspense"),A2=Symbol.for("react.memo"),Rv=Symbol.for("react.lazy"),Ep=Symbol.iterator;function S2(t){return t===null||typeof t!="object"?null:(t=Ep&&t[Ep]||t["@@iterator"],typeof t=="function"?t:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cv=Object.assign,xv={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=xv,this.updater=n||Iv}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nv(){}Nv.prototype=Aa.prototype;function Wd(t,e,n){this.props=t,this.context=e,this.refs=xv,this.updater=n||Iv}var Jd=Wd.prototype=new Nv;Jd.constructor=Wd;Cv(Jd,Aa.prototype);Jd.isPureReactComponent=!0;var bp=Array.isArray,Le={H:null,A:null,T:null,S:null,V:null},Dv=Object.prototype.hasOwnProperty;function em(t,e,n,i,s,r){return n=r.ref,{$$typeof:Zd,type:t,key:e,ref:n!==void 0?n:null,props:r}}function w2(t,e){return em(t.type,e,void 0,void 0,void 0,t.props)}function tm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd}function R2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ap=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R2(""+t.key):e.toString(36)}function Sp(){}function I2(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Sp,Sp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Sr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zd:case g2:a=!0;break;case Rv:return a=t._init,Sr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+Mh(t,0):i,bp(s)?(n="",a!=null&&(n=a.replace(Ap,"$&/")+"/"),Sr(s,e,n,"",function(h){return h})):s!=null&&(tm(s)&&(s=w2(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Ap,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(bp(t))for(var u=0;u<t.length;u++)i=t[u],r=l+Mh(i,u),a+=Sr(i,e,n,r,s);else if(u=S2(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+Mh(i,u++),a+=Sr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return Sr(I2(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Jl(t,e,n){if(t==null)return t;var i=[],s=0;return Sr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function C2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function x2(){}re.Children={map:Jl,forEach:function(t,e,n){Jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jl(t,function(){e++}),e},toArray:function(t){return Jl(t,function(e){return e})||[]},only:function(t){if(!tm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Aa;re.Fragment=p2;re.Profiler=_2;re.PureComponent=Wd;re.StrictMode=y2;re.Suspense=b2;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;re.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Le.H.useMemoCache(t)}};re.cache=function(t){return function(){return t.apply(null,arguments)}};re.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Cv({},t.props),s=t.key,r=void 0;if(e!=null)for(a in e.ref!==void 0&&(r=void 0),e.key!==void 0&&(s=""+e.key),e)!Dv.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return em(t.type,s,void 0,void 0,r,i)};re.createContext=function(t){return t={$$typeof:T2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:v2,_context:t},t};re.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)Dv.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return em(t,r,void 0,void 0,null,s)};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:E2,render:t}};re.isValidElement=tm;re.lazy=function(t){return{$$typeof:Rv,_payload:{_status:-1,_result:t},_init:C2}};re.memo=function(t,e){return{$$typeof:A2,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Le.T,n={};Le.T=n;try{var i=t(),s=Le.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(x2,wp)}catch(r){wp(r)}finally{Le.T=e}};re.unstable_useCacheRefresh=function(){return Le.H.useCacheRefresh()};re.use=function(t){return Le.H.use(t)};re.useActionState=function(t,e,n){return Le.H.useActionState(t,e,n)};re.useCallback=function(t,e){return Le.H.useCallback(t,e)};re.useContext=function(t){return Le.H.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t,e){return Le.H.useDeferredValue(t,e)};re.useEffect=function(t,e,n){var i=Le.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};re.useId=function(){return Le.H.useId()};re.useImperativeHandle=function(t,e,n){return Le.H.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Le.H.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Le.H.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Le.H.useMemo(t,e)};re.useOptimistic=function(t,e){return Le.H.useOptimistic(t,e)};re.useReducer=function(t,e,n){return Le.H.useReducer(t,e,n)};re.useRef=function(t){return Le.H.useRef(t)};re.useState=function(t){return Le.H.useState(t)};re.useSyncExternalStore=function(t,e,n){return Le.H.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Le.H.useTransition()};re.version="19.1.0";wv.exports=re;var B=wv.exports;const nm=bv(B);var kv={exports:{}},qc={},Ov={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,U){var G=H.length;H.push(U);e:for(;0<G;){var he=G-1>>>1,je=H[he];if(0<s(je,U))H[he]=U,H[G]=je,G=he;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var U=H[0],G=H.pop();if(G!==U){H[0]=G;e:for(var he=0,je=H.length,Pt=je>>>1;he<Pt;){var ct=2*(he+1)-1,Te=H[ct],$t=ct+1,hn=H[$t];if(0>s(Te,G))$t<je&&0>s(hn,Te)?(H[he]=hn,H[$t]=G,he=$t):(H[he]=Te,H[ct]=G,he=ct);else if($t<je&&0>s(hn,G))H[he]=hn,H[$t]=G,he=$t;else break e}}return U}function s(H,U){var G=H.sortIndex-U.sortIndex;return G!==0?G:H.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,O=!1,k=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function x(H){for(var U=n(h);U!==null;){if(U.callback===null)i(h);else if(U.startTime<=H)i(h),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(h)}}function z(H){if(k=!1,x(H),!O)if(n(u)!==null)O=!0,F||(F=!0,C());else{var U=n(h);U!==null&&Y(z,U.startTime-H)}}var F=!1,b=-1,v=5,A=-1;function w(){return D?!0:!(t.unstable_now()-A<v)}function I(){if(D=!1,F){var H=t.unstable_now();A=H;var U=!0;try{e:{O=!1,k&&(k=!1,E(b),b=-1),_=!0;var G=m;try{t:{for(x(H),g=n(u);g!==null&&!(g.expirationTime>H&&w());){var he=g.callback;if(typeof he=="function"){g.callback=null,m=g.priorityLevel;var je=he(g.expirationTime<=H);if(H=t.unstable_now(),typeof je=="function"){g.callback=je,x(H),U=!0;break t}g===n(u)&&i(u),x(H)}else i(u);g=n(u)}if(g!==null)U=!0;else{var Pt=n(h);Pt!==null&&Y(z,Pt.startTime-H),U=!1}}break e}finally{g=null,m=G,_=!1}U=void 0}}finally{U?C():F=!1}}}var C;if(typeof S=="function")C=function(){S(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,It=R.port2;R.port1.onmessage=I,C=function(){It.postMessage(null)}}else C=function(){T(I,0)};function Y(H,U){b=T(function(){H(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var G=m;m=U;try{return H()}finally{m=G}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=m;m=H;try{return U()}finally{m=G}},t.unstable_scheduleCallback=function(H,U,G){var he=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?he+G:he):G=he,H){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=G+je,H={id:d++,callback:U,priorityLevel:H,startTime:G,expirationTime:je,sortIndex:-1},G>he?(H.sortIndex=G,e(h,H),n(u)===null&&H===n(h)&&(k?(E(b),b=-1):k=!0,Y(z,G-he))):(H.sortIndex=je,e(u,H),O||_||(O=!0,F||(F=!0,C()))),H},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(H){var U=m;return function(){var G=m;m=U;try{return H.apply(this,arguments)}finally{m=G}}}})(Mv);Ov.exports=Mv;var N2=Ov.exports,Vv={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2=B;function Pv(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ki(){}var Ut={d:{f:ki,r:function(){throw Error(Pv(522))},D:ki,C:ki,L:ki,m:ki,X:ki,S:ki,M:ki},p:0,findDOMNode:null},k2=Symbol.for("react.portal");function O2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k2,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var To=D2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Pv(299));return O2(t,e,null,n)};zt.flushSync=function(t){var e=To.T,n=Ut.p;try{if(To.T=null,Ut.p=2,t)return t()}finally{To.T=e,Ut.p=n,Ut.d.f()}};zt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ut.d.C(t,e))};zt.prefetchDNS=function(t){typeof t=="string"&&Ut.d.D(t)};zt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Fc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ut.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Ut.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};zt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Fc(e.as,e.crossOrigin);Ut.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ut.d.M(t)};zt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Fc(n,e.crossOrigin);Ut.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};zt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Fc(e.as,e.crossOrigin);Ut.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ut.d.m(t)};zt.requestFormReset=function(t){Ut.d.r(t)};zt.unstable_batchedUpdates=function(t,e){return t(e)};zt.useFormState=function(t,e,n){return To.H.useFormState(t,e,n)};zt.useFormStatus=function(){return To.H.useHostTransitionStatus()};zt.version="19.1.0";function Lv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lv)}catch(t){console.error(t)}}Lv(),Vv.exports=zt;var M2=Vv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=N2,Uv=B,V2=M2;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rp(t){if(ul(t)!==t)throw Error(P(188))}function P2(t){var e=t.alternate;if(!e){if(e=ul(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Rp(s),t;if(r===i)return Rp(s),e;r=r.sibling}throw Error(P(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Bv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Bv(t),e!==null)return e;t=t.sibling}return null}var Ve=Object.assign,L2=Symbol.for("react.element"),eu=Symbol.for("react.transitional.element"),ho=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),Fv=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),kf=Symbol.for("react.activity"),j2=Symbol.for("react.memo_cache_sentinel"),Ip=Symbol.iterator;function io(t){return t===null||typeof t!="object"?null:(t=Ip&&t[Ip]||t["@@iterator"],typeof t=="function"?t:null)}var z2=Symbol.for("react.client.reference");function Of(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===z2?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case xf:return"Profiler";case qv:return"StrictMode";case Nf:return"Suspense";case Df:return"SuspenseList";case kf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ho:return"Portal";case ii:return(t.displayName||"Context")+".Provider";case Fv:return(t._context.displayName||"Context")+".Consumer";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sm:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}var fo=Array.isArray,te=Uv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=V2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,js={pending:!1,data:null,method:null,action:null},Mf=[],Or=-1;function Qn(t){return{current:t}}function vt(t){0>Or||(t.current=Mf[Or],Mf[Or]=null,Or--)}function Ue(t,e){Or++,Mf[Or]=t.current,t.current=e}var Ln=Qn(null),Bo=Qn(null),Wi=Qn(null),Hu=Qn(null);function Gu(t,e){switch(Ue(Wi,e),Ue(Bo,t),Ue(Ln,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ky(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ky(e),t=aE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}vt(Ln),Ue(Ln,t)}function ia(){vt(Ln),vt(Bo),vt(Wi)}function Vf(t){t.memoizedState!==null&&Ue(Hu,t);var e=Ln.current,n=aE(e,t.type);e!==n&&(Ue(Bo,t),Ue(Ln,n))}function Qu(t){Bo.current===t&&(vt(Ln),vt(Bo)),Hu.current===t&&(vt(Hu),Zo._currentValue=js)}var Pf=Object.prototype.hasOwnProperty,rm=ut.unstable_scheduleCallback,Vh=ut.unstable_cancelCallback,B2=ut.unstable_shouldYield,q2=ut.unstable_requestPaint,Un=ut.unstable_now,F2=ut.unstable_getCurrentPriorityLevel,Hv=ut.unstable_ImmediatePriority,Gv=ut.unstable_UserBlockingPriority,Yu=ut.unstable_NormalPriority,H2=ut.unstable_LowPriority,Qv=ut.unstable_IdlePriority,G2=ut.log,Q2=ut.unstable_setDisableYieldValue,cl=null,an=null;function Yi(t){if(typeof G2=="function"&&Q2(t),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(cl,t)}catch{}}var on=Math.clz32?Math.clz32:X2,Y2=Math.log,K2=Math.LN2;function X2(t){return t>>>=0,t===0?32:31-(Y2(t)/K2|0)|0}var tu=256,nu=4194304;function Ms(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=Ms(i):(a&=l,a!==0?s=Ms(a):n||(n=l&~t,n!==0&&(s=Ms(n))))):(l=i&~r,l!==0?s=Ms(l):a!==0?s=Ms(a):n||(n=i&~t,n!==0&&(s=Ms(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function hl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $2(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(){var t=tu;return tu<<=1,!(tu&4194048)&&(tu=256),t}function Kv(){var t=nu;return nu<<=1,!(nu&62914560)&&(nu=4194304),t}function Ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z2(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-on(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Xv(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function Xv(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-on(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function $v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-on(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function am(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function om(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Zv(){var t=_e.p;return t!==0?t:(t=window.event,t===void 0?32:pE(t.type))}function W2(t,e){var n=_e.p;try{return _e.p=t,e()}finally{_e.p=n}}var Es=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Es,Yt="__reactProps$"+Es,Sa="__reactContainer$"+Es,Lf="__reactEvents$"+Es,J2="__reactListeners$"+Es,eA="__reactHandles$"+Es,Cp="__reactResources$"+Es,dl="__reactMarker$"+Es;function lm(t){delete t[Ot],delete t[Yt],delete t[Lf],delete t[J2],delete t[eA]}function Mr(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sa]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vy(t);t!==null;){if(n=t[Ot])return n;t=Vy(t)}return e}t=n,n=t.parentNode}return null}function wa(t){if(t=t[Ot]||t[Sa]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function mo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function Gr(t){var e=t[Cp];return e||(e=t[Cp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function yt(t){t[dl]=!0}var Wv=new Set,Jv={};function tr(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Jv[t]=e,t=0;t<e.length;t++)Wv.add(e[t])}var tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xp={},Np={};function nA(t){return Pf.call(Np,t)?!0:Pf.call(xp,t)?!1:tA.test(t)?Np[t]=!0:(xp[t]=!0,!1)}function Eu(t,e,n){if(nA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function iu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Jn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Lh,Dp;function wr(t){if(Lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lh=e&&e[1]||"",Dp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lh+t+Dp}var Uh=!1;function jh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(t,[],g)}else{try{g.call()}catch(_){m=_}t.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?wr(n):""}function iA(t){switch(t.tag){case 26:case 27:case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return jh(t.type,!1);case 11:return jh(t.type.render,!1);case 1:return jh(t.type,!0);case 31:return wr("Activity");default:return""}}function kp(t){try{var e="";do e+=iA(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sA(t){var e=e0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=sA(t))}function t0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=e0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rA=/[\n"\\]/g;function pn(t){return t.replace(rA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Uf(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+dn(e)):t.value!==""+dn(e)&&(t.value=""+dn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?jf(t,a,dn(e)):n!=null?jf(t,a,dn(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+dn(l):t.removeAttribute("name")}function n0(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+dn(n):"",e=e!=null?""+dn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function jf(t,e,n){e==="number"&&Xu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+dn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function i0(t,e,n){if(e!=null&&(e=""+dn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+dn(n):""}function s0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(P(92));if(fo(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=dn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||aA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function r0(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Op(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&Op(t,r,e[r])}function um(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bu(t){return lA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zf=null;function cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Yr=null;function Mp(t){var e=wa(t);if(e&&(t=e.stateNode)){var n=t[Yt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Uf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Yt]||null;if(!s)throw Error(P(90));Uf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&t0(i)}break e;case"textarea":i0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}}}var zh=!1;function a0(t,e,n){if(zh)return t(e,n);zh=!0;try{var i=t(e);return i}finally{if(zh=!1,(Vr!==null||Yr!==null)&&(eh(),Vr&&(e=Vr,t=Yr,Yr=Vr=null,Mp(e),t)))for(e=0;e<t.length;e++)Mp(t[e])}}function qo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Yt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=!1;if(mi)try{var so={};Object.defineProperty(so,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Bf=!1}var Ki=null,hm=null,Au=null;function o0(){if(Au)return Au;var t,e=hm,n=e.length,i,s="value"in Ki?Ki.value:Ki.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return Au=s.slice(t,1<i?1-i:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function su(){return!0}function Vp(){return!1}function Xt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?su:Vp,this.isPropagationStopped=Vp,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),e}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Xt(nr),ml=Ve({},nr,{view:0,detail:0}),uA=Xt(ml),Bh,qh,ro,Qc=Ve({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(Bh=t.screenX-ro.screenX,qh=t.screenY-ro.screenY):qh=Bh=0,ro=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Pp=Xt(Qc),cA=Ve({},Qc,{dataTransfer:0}),hA=Xt(cA),fA=Ve({},ml,{relatedTarget:0}),Fh=Xt(fA),dA=Ve({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=Xt(dA),gA=Ve({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pA=Xt(gA),yA=Ve({},nr,{data:0}),Lp=Xt(yA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function fm(){return EA}var bA=Ve({},ml,{key:function(t){if(t.key){var e=_A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AA=Xt(bA),SA=Ve({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=Xt(SA),wA=Ve({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),RA=Xt(wA),IA=Ve({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CA=Xt(IA),xA=Ve({},Qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=Xt(xA),DA=Ve({},nr,{newState:0,oldState:0}),kA=Xt(DA),OA=[9,13,27,32],dm=mi&&"CompositionEvent"in window,Eo=null;mi&&"documentMode"in document&&(Eo=document.documentMode);var MA=mi&&"TextEvent"in window&&!Eo,l0=mi&&(!dm||Eo&&8<Eo&&11>=Eo),jp=" ",zp=!1;function u0(t,e){switch(t){case"keyup":return OA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function VA(t,e){switch(t){case"compositionend":return c0(e);case"keypress":return e.which!==32?null:(zp=!0,jp);case"textInput":return t=e.data,t===jp&&zp?null:t;default:return null}}function PA(t,e){if(Pr)return t==="compositionend"||!dm&&u0(t,e)?(t=o0(),Au=hm=Ki=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l0&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function h0(t,e,n,i){Vr?Yr?Yr.push(i):Yr=[i]:Vr=i,e=dc(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var bo=null,Fo=null;function UA(t){iE(t,0)}function Yc(t){var e=mo(t);if(t0(e))return t}function qp(t,e){if(t==="change")return e}var f0=!1;if(mi){var Hh;if(mi){var Gh="oninput"in document;if(!Gh){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),Gh=typeof Fp.oninput=="function"}Hh=Gh}else Hh=!1;f0=Hh&&(!document.documentMode||9<document.documentMode)}function Hp(){bo&&(bo.detachEvent("onpropertychange",d0),Fo=bo=null)}function d0(t){if(t.propertyName==="value"&&Yc(Fo)){var e=[];h0(e,Fo,t,cm(t)),a0(UA,e)}}function jA(t,e,n){t==="focusin"?(Hp(),bo=e,Fo=n,bo.attachEvent("onpropertychange",d0)):t==="focusout"&&Hp()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yc(Fo)}function BA(t,e){if(t==="click")return Yc(e)}function qA(t,e){if(t==="input"||t==="change")return Yc(e)}function FA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:FA;function Ho(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Pf.call(e,s)||!cn(t[s],e[s]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,e){var n=Gp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gp(n)}}function m0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Xu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xu(t.document)}return e}function mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var HA=mi&&"documentMode"in document&&11>=document.documentMode,Lr=null,qf=null,Ao=null,Ff=!1;function Yp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||Lr==null||Lr!==Xu(i)||(i=Lr,"selectionStart"in i&&mm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ao&&Ho(Ao,i)||(Ao=i,i=dc(qf,"onSelect"),0<i.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Lr)))}function ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ur={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Qh={},p0={};mi&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function ir(t){if(Qh[t])return Qh[t];if(!Ur[t])return t;var e=Ur[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p0)return Qh[t]=e[n];return t}var y0=ir("animationend"),_0=ir("animationiteration"),v0=ir("animationstart"),GA=ir("transitionrun"),QA=ir("transitionstart"),YA=ir("transitioncancel"),T0=ir("transitionend"),E0=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function Nn(t,e){E0.set(t,e),tr(e,[t])}var Kp=new WeakMap;function yn(t,e){if(typeof t=="object"&&t!==null){var n=Kp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:kp(e)},Kp.set(t,e),e)}return{value:t,source:e,stack:kp(e)}}var fn=[],jr=0,gm=0;function Kc(){for(var t=jr,e=gm=jr=0;e<t;){var n=fn[e];fn[e++]=null;var i=fn[e];fn[e++]=null;var s=fn[e];fn[e++]=null;var r=fn[e];if(fn[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&b0(n,s,r)}}function Xc(t,e,n,i){fn[jr++]=t,fn[jr++]=e,fn[jr++]=n,fn[jr++]=i,gm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function pm(t,e,n,i){return Xc(t,e,n,i),$u(t)}function Ra(t,e){return Xc(t,null,null,e),$u(t)}function b0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-on(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function $u(t){if(50<Oo)throw Oo=0,hd=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var zr={};function KA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,i){return new KA(t,e,n,i)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function A0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function wu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")ym(t)&&(a=1);else if(typeof t=="string")a=$S(t,n,Ln.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case kf:return t=rn(31,n,e,s),t.elementType=kf,t.lanes=r,t;case kr:return zs(n.children,s,r,e);case qv:a=8,s|=24;break;case xf:return t=rn(12,n,e,s|2),t.elementType=xf,t.lanes=r,t;case Nf:return t=rn(13,n,e,s),t.elementType=Nf,t.lanes=r,t;case Df:return t=rn(19,n,e,s),t.elementType=Df,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U2:case ii:a=10;break e;case Fv:a=9;break e;case im:a=11;break e;case sm:a=14;break e;case Li:a=16,i=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),i=null}return e=rn(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function zs(t,e,n,i){return t=rn(7,t,i,e),t.lanes=n,t}function Yh(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Br=[],qr=0,Zu=null,Wu=0,mn=[],gn=0,Bs=null,si=1,ri="";function Vs(t,e){Br[qr++]=Wu,Br[qr++]=Zu,Zu=t,Wu=e}function S0(t,e,n){mn[gn++]=si,mn[gn++]=ri,mn[gn++]=Bs,Bs=t;var i=si;t=ri;var s=32-on(i)-1;i&=~(1<<s),n+=1;var r=32-on(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,si=1<<32-on(e)+s|n<<s|i,ri=r+t}else si=1<<r|n<<s|i,ri=t}function _m(t){t.return!==null&&(Vs(t,1),S0(t,1,0))}function vm(t){for(;t===Zu;)Zu=Br[--qr],Br[qr]=null,Wu=Br[--qr],Br[qr]=null;for(;t===Bs;)Bs=mn[--gn],mn[gn]=null,ri=mn[--gn],mn[gn]=null,si=mn[--gn],mn[gn]=null}var Lt=null,He=null,ye=!1,qs=null,Vn=!1,Gf=Error(P(519));function Qs(t){var e=Error(P(418,""));throw Go(yn(e,t)),Gf}function Xp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ot]=t,e[Yt]=i,n){case"dialog":ue("cancel",e),ue("close",e);break;case"iframe":case"object":case"embed":ue("load",e);break;case"video":case"audio":for(n=0;n<Ko.length;n++)ue(Ko[n],e);break;case"source":ue("error",e);break;case"img":case"image":case"link":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"input":ue("invalid",e),n0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ku(e);break;case"select":ue("invalid",e);break;case"textarea":ue("invalid",e),s0(e,i.value,i.defaultValue,i.children),Ku(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||rE(e.textContent,n)?(i.popover!=null&&(ue("beforetoggle",e),ue("toggle",e)),i.onScroll!=null&&ue("scroll",e),i.onScrollEnd!=null&&ue("scrollend",e),i.onClick!=null&&(e.onclick=ih),e=!0):e=!1,e||Qs(t)}function $p(t){for(Lt=t.return;Lt;)switch(Lt.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Lt=Lt.return}}function ao(t){if(t!==Lt)return!1;if(!ye)return $p(t),ye=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||yd(t.type,t.memoizedProps)),n=!n),n&&He&&Qs(t),$p(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){He=Cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}He=null}}else e===27?(e=He,bs(t.type)?(t=Td,Td=null,He=t):He=e):He=Lt?Cn(t.stateNode.nextSibling):null;return!0}function gl(){He=Lt=null,ye=!1}function Zp(){var t=qs;return t!==null&&(Gt===null?Gt=t:Gt.push.apply(Gt,t),qs=null),t}function Go(t){qs===null?qs=[t]:qs.push(t)}var Qf=Qn(null),sr=null,ai=null;function ji(t,e,n){Ue(Qf,e._currentValue),e._currentValue=n}function hi(t){t._currentValue=Qf.current,vt(Qf)}function Yf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Kf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Yf(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(P(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Yf(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function pl(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=s.type;cn(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===Hu.current){if(a=s.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Zo):t=[Zo])}s=s.return}t!==null&&Kf(e,t,n,i),e.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){sr=t,ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mt(t){return w0(sr,t)}function ru(t,e){return sr===null&&Ys(t),w0(t,e)}function w0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ai===null){if(t===null)throw Error(P(308));ai=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ai=ai.next=e;return n}var XA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},$A=ut.unstable_scheduleCallback,ZA=ut.unstable_NormalPriority,rt={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new XA,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&$A(ZA,function(){t.controller.abort()})}var So=null,Xf=0,aa=0,Kr=null;function WA(t,e){if(So===null){var n=So=[];Xf=0,aa=Fm(),Kr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Xf++,e.then(Wp,Wp),e}function Wp(){if(--Xf===0&&So!==null){Kr!==null&&(Kr.status="fulfilled");var t=So;So=null,aa=0,Kr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JA(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Jp=te.S;te.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&WA(t,e),Jp!==null&&Jp(t,e)};var Fs=Qn(null);function Em(){var t=Fs.current;return t!==null?t:De.pooledCache}function Ru(t,e){e===null?Ue(Fs,Fs.current):Ue(Fs,e.pool)}function R0(){var t=Em();return t===null?null:{parent:rt._currentValue,pool:t}}var _l=Error(P(460)),I0=Error(P(474)),$c=Error(P(542)),$f={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function au(){}function C0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(au,au),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ny(t),t;default:if(typeof e.status=="string")e.then(au,au);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ny(t),t}throw wo=e,_l}}var wo=null;function ty(){if(wo===null)throw Error(P(459));var t=wo;return wo=null,t}function ny(t){if(t===_l||t===$c)throw Error(P(483))}var Ui=!1;function bm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,be&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=$u(t),b0(t,null,n),e}return Xc(t,i,e,n),$u(t)}function Ro(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$v(t,n)}}function Xh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Wf=!1;function Io(){if(Wf){var t=Kr;if(t!==null)throw t}}function Co(t,e,n,i){Wf=!1;var s=t.updateQueue;Ui=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(r!==null){var g=s.baseState;a=0,d=h=u=null,l=r;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(ge&m)===m:(i&m)===m){m!==0&&m===aa&&(Wf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var O=t,k=l;m=e;var D=n;switch(k.tag){case 1:if(O=k.payload,typeof O=="function"){g=O.call(D,g,m);break e}g=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=k.payload,m=typeof O=="function"?O.call(D,g,m):O,m==null)break e;g=Ve({},g,m);break e;case 2:Ui=!0}}m=l.callback,m!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;_=l,l=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);d===null&&(u=g),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),ms|=a,t.lanes=a,t.memoizedState=g}}function x0(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function N0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)x0(n[t],e)}var oa=Qn(null),ec=Qn(0);function iy(t,e){t=yi,Ue(ec,t),Ue(oa,e),yi=t|e.baseLanes}function Jf(){Ue(ec,yi),Ue(oa,oa.current)}function Am(){yi=ec.current,vt(oa),vt(ec)}var fs=0,le=null,Ce=null,tt=null,tc=!1,Xr=!1,Ks=!1,nc=0,Qo=0,$r=null,eS=0;function Xe(){throw Error(P(321))}function Sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function wm(t,e,n,i,s,r){return fs=r,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,te.H=t===null||t.memoizedState===null?oT:lT,Ks=!1,r=n(i,s),Ks=!1,Xr&&(r=k0(e,n,i,s)),D0(t),r}function D0(t){te.H=ic;var e=Ce!==null&&Ce.next!==null;if(fs=0,tt=Ce=le=null,tc=!1,Qo=0,$r=null,e)throw Error(P(300));t===null||_t||(t=t.dependencies,t!==null&&Ju(t)&&(_t=!0))}function k0(t,e,n,i){le=t;var s=0;do{if(Xr&&($r=null),Qo=0,Xr=!1,25<=s)throw Error(P(301));if(s+=1,tt=Ce=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}te.H=oS,r=e(n,i)}while(Xr);return r}function tS(){var t=te.H,e=t.useState()[0];return e=typeof e.then=="function"?vl(e):e,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(le.flags|=1024),e}function Rm(){var t=nc!==0;return nc=0,t}function Im(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Cm(t){if(tc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}tc=!1}fs=0,tt=Ce=le=null,Xr=!1,Qo=nc=0,$r=null}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?le.memoizedState=tt=t:tt=tt.next=t,tt}function it(){if(Ce===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=tt===null?le.memoizedState:tt.next;if(e!==null)tt=e,Ce=t;else{if(t===null)throw le.alternate===null?Error(P(467)):Error(P(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},tt===null?le.memoizedState=tt=t:tt=tt.next=t}return tt}function xm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var e=Qo;return Qo+=1,$r===null&&($r=[]),t=C0($r,t,e),e=le,(tt===null?e.memoizedState:tt.next)===null&&(e=e.alternate,te.H=e===null||e.memoizedState===null?oT:lT),t}function Zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ii)return Mt(t)}throw Error(P(438,String(t)))}function Nm(t){var e=null,n=le.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=xm(),le.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=j2;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function Iu(t){var e=it();return Dm(e,Ce,t)}function Dm(t,e,n){var i=t.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,h=e,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(ge&g)===g:(fs&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===aa&&(d=!0);else if((fs&m)===m){h=h.next,m===aa&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,le.lanes|=m,ms|=m;g=h.action,Ks&&n(r,g),r=h.hasEagerState?h.eagerState:n(r,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=r):u=u.next=m,le.lanes|=g,ms|=g;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=l,!cn(r,t.memoizedState)&&(_t=!0,d&&(n=Kr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function $h(t){var e=it(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);cn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function O0(t,e,n){var i=le,s=it(),r=ye;if(r){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!cn((Ce||s).memoizedState,n);a&&(s.memoizedState=n,_t=!0),s=s.queue;var l=P0.bind(null,i,s,t);if(Tl(2048,8,l,[t]),s.getSnapshot!==e||a||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,la(9,Wc(),V0.bind(null,i,s,n,e),null),De===null)throw Error(P(349));r||fs&124||M0(i,e,n)}return n}function M0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e=xm(),le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V0(t,e,n,i){e.value=n,e.getSnapshot=i,L0(e)&&U0(t)}function P0(t,e,n){return n(function(){L0(e)&&U0(t)})}function L0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function U0(t){var e=Ra(t,2);e!==null&&un(e,t,2)}function ed(t){var e=Ft();if(typeof t=="function"){var n=t;if(t=n(),Ks){Yi(!0);try{n()}finally{Yi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function j0(t,e,n,i){return t.baseState=n,Dm(t,Ce,typeof i=="function"?i:gi)}function nS(t,e,n,i,s){if(Jc(t))throw Error(P(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};te.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,z0(e,r)):(r.next=n.next,e.pending=n.next=r)}}function z0(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=te.T,a={};te.T=a;try{var l=n(s,i),u=te.S;u!==null&&u(a,l),sy(t,e,l)}catch(h){td(t,e,h)}finally{te.T=r}}else try{r=n(s,i),sy(t,e,r)}catch(h){td(t,e,h)}}function sy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ry(t,e,i)},function(i){return td(t,e,i)}):ry(t,e,n)}function ry(t,e,n){e.status="fulfilled",e.value=n,B0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,z0(t,n)))}function td(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,B0(e),e=e.next;while(e!==i)}t.action=null}function B0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function q0(t,e){return e}function ay(t,e){if(ye){var n=De.formState;if(n!==null){e:{var i=le;if(ye){if(He){t:{for(var s=He,r=Vn;s.nodeType!==8;){if(!r){s=null;break t}if(s=Cn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){He=Cn(s.nextSibling),i=s.data==="F!";break e}}Qs(i)}i=!1}i&&(e=n[0])}}return n=Ft(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:e},n.queue=i,n=sT.bind(null,le,i),i.dispatch=n,i=ed(!1),r=Vm.bind(null,le,!1,i.queue),i=Ft(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=nS.bind(null,le,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function oy(t){var e=it();return F0(e,Ce,t)}function F0(t,e,n){if(e=Dm(t,e,q0)[0],t=Iu(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=vl(e)}catch(a){throw a===_l?$c:a}else i=e;e=it();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(le.flags|=2048,la(9,Wc(),iS.bind(null,s,n),null)),[i,r,t]}function iS(t,e){t.action=e}function ly(t){var e=it(),n=Ce;if(n!==null)return F0(e,n,t);it(),e=e.memoizedState,n=it();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function la(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=le.updateQueue,e===null&&(e=xm(),le.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Wc(){return{destroy:void 0,resource:void 0}}function H0(){return it().memoizedState}function Cu(t,e,n,i){var s=Ft();i=i===void 0?null:i,le.flags|=t,s.memoizedState=la(1|e,Wc(),n,i)}function Tl(t,e,n,i){var s=it();i=i===void 0?null:i;var r=s.memoizedState.inst;Ce!==null&&i!==null&&Sm(i,Ce.memoizedState.deps)?s.memoizedState=la(e,r,n,i):(le.flags|=t,s.memoizedState=la(1|e,r,n,i))}function uy(t,e){Cu(8390656,8,t,e)}function G0(t,e){Tl(2048,8,t,e)}function Q0(t,e){return Tl(4,2,t,e)}function Y0(t,e){return Tl(4,4,t,e)}function K0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X0(t,e,n){n=n!=null?n.concat([t]):null,Tl(4,4,K0.bind(null,e,t),n)}function km(){}function $0(t,e){var n=it();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Sm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Z0(t,e){var n=it();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Sm(e,i[1]))return i[0];if(i=t(),Ks){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[i,e],i}function Om(t,e,n){return n===void 0||fs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=BT(),le.lanes|=t,ms|=t,n)}function W0(t,e,n,i){return cn(n,e)?n:oa.current!==null?(t=Om(t,n,i),cn(t,e)||(_t=!0),t):fs&42?(t=BT(),le.lanes|=t,ms|=t,e):(_t=!0,t.memoizedState=n)}function J0(t,e,n,i,s){var r=_e.p;_e.p=r!==0&&8>r?r:8;var a=te.T,l={};te.T=l,Vm(t,!1,e,n);try{var u=s(),h=te.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=JA(u,i);xo(t,e,d,ln(t))}else xo(t,e,i,ln(t))}catch(g){xo(t,e,{then:function(){},status:"rejected",reason:g},ln())}finally{_e.p=r,te.T=a}}function sS(){}function nd(t,e,n,i){if(t.tag!==5)throw Error(P(476));var s=eT(t).queue;J0(t,s,e,js,n===null?sS:function(){return tT(t),n(i)})}function eT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:js,baseState:js,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:js},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function tT(t){var e=eT(t).next.queue;xo(t,e,{},ln())}function Mm(){return Mt(Zo)}function nT(){return it().memoizedState}function iT(){return it().memoizedState}function rS(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ln();t=Ji(n);var i=es(e,t,n);i!==null&&(un(i,e,n),Ro(i,e,n)),e={cache:Tm()},t.payload=e;return}e=e.return}}function aS(t,e,n){var i=ln();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Jc(t)?rT(e,n):(n=pm(t,e,n,i),n!==null&&(un(n,t,i),aT(n,e,i)))}function sT(t,e,n){var i=ln();xo(t,e,n,i)}function xo(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))rT(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,cn(l,a))return Xc(t,e,s,0),De===null&&Kc(),!1}catch{}finally{}if(n=pm(t,e,s,i),n!==null)return un(n,t,i),aT(n,e,i),!0}return!1}function Vm(t,e,n,i){if(i={lane:2,revertLane:Fm(),action:i,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(e)throw Error(P(479))}else e=pm(t,n,i,2),e!==null&&un(e,t,2)}function Jc(t){var e=t.alternate;return t===le||e!==null&&e===le}function rT(t,e){Xr=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$v(t,n)}}var ic={readContext:Mt,use:Zc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},oT={readContext:Mt,use:Zc,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:uy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Cu(4194308,4,K0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){Cu(4,2,t,e)},useMemo:function(t,e){var n=Ft();e=e===void 0?null:e;var i=t();if(Ks){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ft();if(n!==void 0){var s=n(e);if(Ks){Yi(!0);try{n(e)}finally{Yi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=aS.bind(null,le,t),[i.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:function(t){t=ed(t);var e=t.queue,n=sT.bind(null,le,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:km,useDeferredValue:function(t,e){var n=Ft();return Om(n,t,e)},useTransition:function(){var t=ed(!1);return t=J0.bind(null,le,t.queue,!0,!1),Ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=le,s=Ft();if(ye){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),De===null)throw Error(P(349));ge&124||M0(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,uy(P0.bind(null,i,r,t),[t]),i.flags|=2048,la(9,Wc(),V0.bind(null,i,r,n,e),null),n},useId:function(){var t=Ft(),e=De.identifierPrefix;if(ye){var n=ri,i=si;n=(i&~(1<<32-on(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=eS++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Mm,useFormState:ay,useActionState:ay,useOptimistic:function(t){var e=Ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Vm.bind(null,le,!0,n),n.dispatch=e,[t,e]},useMemoCache:Nm,useCacheRefresh:function(){return Ft().memoizedState=rS.bind(null,le)}},lT={readContext:Mt,use:Zc,useCallback:$0,useContext:Mt,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:Q0,useLayoutEffect:Y0,useMemo:Z0,useReducer:Iu,useRef:H0,useState:function(){return Iu(gi)},useDebugValue:km,useDeferredValue:function(t,e){var n=it();return W0(n,Ce.memoizedState,t,e)},useTransition:function(){var t=Iu(gi)[0],e=it().memoizedState;return[typeof t=="boolean"?t:vl(t),e]},useSyncExternalStore:O0,useId:nT,useHostTransitionStatus:Mm,useFormState:oy,useActionState:oy,useOptimistic:function(t,e){var n=it();return j0(n,Ce,t,e)},useMemoCache:Nm,useCacheRefresh:iT},oS={readContext:Mt,use:Zc,useCallback:$0,useContext:Mt,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:Q0,useLayoutEffect:Y0,useMemo:Z0,useReducer:$h,useRef:H0,useState:function(){return $h(gi)},useDebugValue:km,useDeferredValue:function(t,e){var n=it();return Ce===null?Om(n,t,e):W0(n,Ce.memoizedState,t,e)},useTransition:function(){var t=$h(gi)[0],e=it().memoizedState;return[typeof t=="boolean"?t:vl(t),e]},useSyncExternalStore:O0,useId:nT,useHostTransitionStatus:Mm,useFormState:ly,useActionState:ly,useOptimistic:function(t,e){var n=it();return Ce!==null?j0(n,Ce,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:iT},Zr=null,Yo=0;function ou(t){var e=Yo;return Yo+=1,Zr===null&&(Zr=[]),C0(Zr,t,e)}function oo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function lu(t,e){throw e.$$typeof===L2?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function cy(t){var e=t._init;return e(t._payload)}function uT(t){function e(T,E){if(t){var S=T.deletions;S===null?(T.deletions=[E],T.flags|=16):S.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function i(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function s(T,E){return T=ci(T,E),T.index=0,T.sibling=null,T}function r(T,E,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<E?(T.flags|=67108866,E):S):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,E,S,x){return E===null||E.tag!==6?(E=Yh(S,T.mode,x),E.return=T,E):(E=s(E,S),E.return=T,E)}function u(T,E,S,x){var z=S.type;return z===kr?d(T,E,S.props.children,x,S.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Li&&cy(z)===E.type)?(E=s(E,S.props),oo(E,S),E.return=T,E):(E=wu(S.type,S.key,S.props,null,T.mode,x),oo(E,S),E.return=T,E)}function h(T,E,S,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Kh(S,T.mode,x),E.return=T,E):(E=s(E,S.children||[]),E.return=T,E)}function d(T,E,S,x,z){return E===null||E.tag!==7?(E=zs(S,T.mode,x,z),E.return=T,E):(E=s(E,S),E.return=T,E)}function g(T,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Yh(""+E,T.mode,S),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case eu:return S=wu(E.type,E.key,E.props,null,T.mode,S),oo(S,E),S.return=T,S;case ho:return E=Kh(E,T.mode,S),E.return=T,E;case Li:var x=E._init;return E=x(E._payload),g(T,E,S)}if(fo(E)||io(E))return E=zs(E,T.mode,S,null),E.return=T,E;if(typeof E.then=="function")return g(T,ou(E),S);if(E.$$typeof===ii)return g(T,ru(T,E),S);lu(T,E)}return null}function m(T,E,S,x){var z=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return z!==null?null:l(T,E,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eu:return S.key===z?u(T,E,S,x):null;case ho:return S.key===z?h(T,E,S,x):null;case Li:return z=S._init,S=z(S._payload),m(T,E,S,x)}if(fo(S)||io(S))return z!==null?null:d(T,E,S,x,null);if(typeof S.then=="function")return m(T,E,ou(S),x);if(S.$$typeof===ii)return m(T,E,ru(T,S),x);lu(T,S)}return null}function _(T,E,S,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return T=T.get(S)||null,l(E,T,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:return T=T.get(x.key===null?S:x.key)||null,u(E,T,x,z);case ho:return T=T.get(x.key===null?S:x.key)||null,h(E,T,x,z);case Li:var F=x._init;return x=F(x._payload),_(T,E,S,x,z)}if(fo(x)||io(x))return T=T.get(S)||null,d(E,T,x,z,null);if(typeof x.then=="function")return _(T,E,S,ou(x),z);if(x.$$typeof===ii)return _(T,E,S,ru(E,x),z);lu(E,x)}return null}function O(T,E,S,x){for(var z=null,F=null,b=E,v=E=0,A=null;b!==null&&v<S.length;v++){b.index>v?(A=b,b=null):A=b.sibling;var w=m(T,b,S[v],x);if(w===null){b===null&&(b=A);break}t&&b&&w.alternate===null&&e(T,b),E=r(w,E,v),F===null?z=w:F.sibling=w,F=w,b=A}if(v===S.length)return n(T,b),ye&&Vs(T,v),z;if(b===null){for(;v<S.length;v++)b=g(T,S[v],x),b!==null&&(E=r(b,E,v),F===null?z=b:F.sibling=b,F=b);return ye&&Vs(T,v),z}for(b=i(b);v<S.length;v++)A=_(b,T,v,S[v],x),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?v:A.key),E=r(A,E,v),F===null?z=A:F.sibling=A,F=A);return t&&b.forEach(function(I){return e(T,I)}),ye&&Vs(T,v),z}function k(T,E,S,x){if(S==null)throw Error(P(151));for(var z=null,F=null,b=E,v=E=0,A=null,w=S.next();b!==null&&!w.done;v++,w=S.next()){b.index>v?(A=b,b=null):A=b.sibling;var I=m(T,b,w.value,x);if(I===null){b===null&&(b=A);break}t&&b&&I.alternate===null&&e(T,b),E=r(I,E,v),F===null?z=I:F.sibling=I,F=I,b=A}if(w.done)return n(T,b),ye&&Vs(T,v),z;if(b===null){for(;!w.done;v++,w=S.next())w=g(T,w.value,x),w!==null&&(E=r(w,E,v),F===null?z=w:F.sibling=w,F=w);return ye&&Vs(T,v),z}for(b=i(b);!w.done;v++,w=S.next())w=_(b,T,v,w.value,x),w!==null&&(t&&w.alternate!==null&&b.delete(w.key===null?v:w.key),E=r(w,E,v),F===null?z=w:F.sibling=w,F=w);return t&&b.forEach(function(C){return e(T,C)}),ye&&Vs(T,v),z}function D(T,E,S,x){if(typeof S=="object"&&S!==null&&S.type===kr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case eu:e:{for(var z=S.key;E!==null;){if(E.key===z){if(z=S.type,z===kr){if(E.tag===7){n(T,E.sibling),x=s(E,S.props.children),x.return=T,T=x;break e}}else if(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Li&&cy(z)===E.type){n(T,E.sibling),x=s(E,S.props),oo(x,S),x.return=T,T=x;break e}n(T,E);break}else e(T,E);E=E.sibling}S.type===kr?(x=zs(S.props.children,T.mode,x,S.key),x.return=T,T=x):(x=wu(S.type,S.key,S.props,null,T.mode,x),oo(x,S),x.return=T,T=x)}return a(T);case ho:e:{for(z=S.key;E!==null;){if(E.key===z)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(T,E.sibling),x=s(E,S.children||[]),x.return=T,T=x;break e}else{n(T,E);break}else e(T,E);E=E.sibling}x=Kh(S,T.mode,x),x.return=T,T=x}return a(T);case Li:return z=S._init,S=z(S._payload),D(T,E,S,x)}if(fo(S))return O(T,E,S,x);if(io(S)){if(z=io(S),typeof z!="function")throw Error(P(150));return S=z.call(S),k(T,E,S,x)}if(typeof S.then=="function")return D(T,E,ou(S),x);if(S.$$typeof===ii)return D(T,E,ru(T,S),x);lu(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(T,E.sibling),x=s(E,S),x.return=T,T=x):(n(T,E),x=Yh(S,T.mode,x),x.return=T,T=x),a(T)):n(T,E)}return function(T,E,S,x){try{Yo=0;var z=D(T,E,S,x);return Zr=null,z}catch(b){if(b===_l||b===$c)throw b;var F=rn(29,b,null,T.mode);return F.lanes=x,F.return=T,F}finally{}}}var ua=uT(!0),cT=uT(!1),En=Qn(null),jn=null;function zi(t){var e=t.alternate;Ue(at,at.current&1),Ue(En,t),jn===null&&(e===null||oa.current!==null||e.memoizedState!==null)&&(jn=t)}function hT(t){if(t.tag===22){if(Ue(at,at.current),Ue(En,t),jn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(jn=t)}}else Bi()}function Bi(){Ue(at,at.current),Ue(En,En.current)}function oi(t){vt(En),jn===t&&(jn=null),vt(at)}var at=Qn(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||vd(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Zh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ln(),s=Ji(i);s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(un(e,t,i),Ro(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ln(),s=Ji(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=es(t,s,i),e!==null&&(un(e,t,i),Ro(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),i=Ji(n);i.tag=2,e!=null&&(i.callback=e),e=es(t,i,n),e!==null&&(un(e,t,n),Ro(e,t,n))}};function hy(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,i)||!Ho(s,r):!0}function fy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function Xs(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ve({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fT(t){rc(t)}function dT(t){console.error(t)}function mT(t){rc(t)}function ac(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function dy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function sd(t,e,n){return n=Ji(n),n.tag=3,n.payload={element:null},n.callback=function(){ac(t,e)},n}function gT(t){return t=Ji(t),t.tag=3,t}function pT(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){dy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){dy(e,n,i),typeof s!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function lS(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&pl(e,n,s,!0),n=En.current,n!==null){switch(n.tag){case 13:return jn===null?fd():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===$f?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),uf(t,i,s)),!1;case 22:return n.flags|=65536,i===$f?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),uf(t,i,s)),!1}throw Error(P(435,n.tag))}return uf(t,i,s),fd(),!1}if(ye)return e=En.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Gf&&(t=Error(P(422),{cause:i}),Go(yn(t,n)))):(i!==Gf&&(e=Error(P(423),{cause:i}),Go(yn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=yn(i,n),s=sd(t.stateNode,i,s),Xh(t,s),Ge!==4&&(Ge=2)),!1;var r=Error(P(520),{cause:i});if(r=yn(r,n),ko===null?ko=[r]:ko.push(r),Ge!==4&&(Ge=2),e===null)return!0;i=yn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=sd(n.stateNode,i,t),Xh(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=gT(s),pT(s,t,n,i),Xh(n,s),!1}n=n.return}while(n!==null);return!1}var yT=Error(P(461)),_t=!1;function Et(t,e,n,i){e.child=t===null?cT(e,null,n,i):ua(e,t.child,n,i)}function my(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Ys(e),i=wm(t,e,n,a,r,s),l=Rm(),t!==null&&!_t?(Im(t,e,s),pi(t,e,s)):(ye&&l&&_m(e),e.flags|=1,Et(t,e,i,s),e.child)}function gy(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!ym(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,_T(t,e,r,i,s)):(t=wu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Pm(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(a,i)&&t.ref===e.ref)return pi(t,e,s)}return e.flags|=1,t=ci(r,i),t.ref=e.ref,t.return=e,e.child=t}function _T(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Ho(r,i)&&t.ref===e.ref)if(_t=!1,e.pendingProps=i=r,Pm(t,s))t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,pi(t,e,s)}return rd(t,e,n,i,s)}function vT(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return py(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(e,r!==null?r.cachePool:null),r!==null?iy(e,r):Jf(),hT(e);else return e.lanes=e.childLanes=536870912,py(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(Ru(e,r.cachePool),iy(e,r),Bi(),e.memoizedState=null):(t!==null&&Ru(e,null),Jf(),Bi());return Et(t,e,s,n),e.child}function py(t,e,n,i){var s=Em();return s=s===null?null:{parent:rt._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Ru(e,null),Jf(),hT(e),t!==null&&pl(t,e,i,!0),null}function xu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function rd(t,e,n,i,s){return Ys(e),n=wm(t,e,n,i,void 0,s),i=Rm(),t!==null&&!_t?(Im(t,e,s),pi(t,e,s)):(ye&&i&&_m(e),e.flags|=1,Et(t,e,n,s),e.child)}function yy(t,e,n,i,s,r){return Ys(e),e.updateQueue=null,n=k0(e,i,n,s),D0(t),i=Rm(),t!==null&&!_t?(Im(t,e,r),pi(t,e,r)):(ye&&i&&_m(e),e.flags|=1,Et(t,e,n,r),e.child)}function _y(t,e,n,i,s){if(Ys(e),e.stateNode===null){var r=zr,a=n.contextType;typeof a=="object"&&a!==null&&(r=Mt(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=id,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},bm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Mt(a):zr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Zh(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&id.enqueueReplaceState(r,r.state,null),Co(e,i,r,s),Io(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=Xs(n,l);r.props=u;var h=r.context,d=n.contextType;a=zr,typeof d=="object"&&d!==null&&(a=Mt(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&fy(e,r,i,a),Ui=!1;var m=e.memoizedState;r.state=m,Co(e,i,r,s),Io(),h=e.memoizedState,l||m!==h||Ui?(typeof g=="function"&&(Zh(e,n,g,i),h=e.memoizedState),(u=Ui||hy(e,n,u,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Zf(t,e),a=e.memoizedProps,d=Xs(n,a),r.props=d,g=e.pendingProps,m=r.context,h=n.contextType,u=zr,typeof h=="object"&&h!==null&&(u=Mt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==g||m!==u)&&fy(e,r,i,u),Ui=!1,m=e.memoizedState,r.state=m,Co(e,i,r,s),Io();var _=e.memoizedState;a!==g||m!==_||Ui||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof l=="function"&&(Zh(e,n,l,i),_=e.memoizedState),(d=Ui||hy(e,n,d,i,m,_,u)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),r.props=i,r.state=_,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,xu(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,n,s)):Et(t,e,n,s),e.memoizedState=r.state,t=e.child):t=pi(t,e,s),t}function vy(t,e,n,i){return gl(),e.flags|=256,Et(t,e,n,i),e.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(t){return{baseLanes:t,cachePool:R0()}}function ef(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Tn),t}function TT(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ye){if(s?zi(e):Bi(),ye){var l=He,u;if(u=l){e:{for(u=l,l=Vn;u.nodeType!==8;){if(!l){l=null;break e}if(u=Cn(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:Bs!==null?{id:si,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},u=rn(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Lt=e,He=null,u=!0):u=!1}u||Qs(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return vd(l)?e.lanes=32:e.lanes=536870912,null;oi(e)}return l=i.children,i=i.fallback,s?(Bi(),s=e.mode,l=oc({mode:"hidden",children:l},s),i=zs(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,s=e.child,s.memoizedState=Jh(n),s.childLanes=ef(t,a,n),e.memoizedState=Wh,i):(zi(e),ad(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(zi(e),e.flags&=-257,e=tf(t,e,n)):e.memoizedState!==null?(Bi(),e.child=t.child,e.flags|=128,e=null):(Bi(),s=i.fallback,l=e.mode,i=oc({mode:"visible",children:i.children},l),s=zs(s,l,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,ua(e,t.child,null,n),i=e.child,i.memoizedState=Jh(n),i.childLanes=ef(t,a,n),e.memoizedState=Wh,e=s);else if(zi(e),vd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Go({value:i,source:null,stack:null}),e=tf(t,e,n)}else if(_t||pl(t,e,n,!1),a=(n&t.childLanes)!==0,_t||a){if(a=De,a!==null&&(i=n&-n,i=i&42?1:am(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ra(t,i),un(a,t,i),yT;l.data==="$?"||fd(),e=tf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,He=Cn(l.nextSibling),Lt=e,ye=!0,qs=null,Vn=!1,t!==null&&(mn[gn++]=si,mn[gn++]=ri,mn[gn++]=Bs,si=t.id,ri=t.overflow,Bs=e),e=ad(e,i.children),e.flags|=4096);return e}return s?(Bi(),s=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=ci(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?s=ci(h,s):(s=zs(s,l,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=t.child.memoizedState,l===null?l=Jh(n):(u=l.cachePool,u!==null?(h=rt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=R0(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=ef(t,a,n),e.memoizedState=Wh,i):(zi(e),n=t.child,t=n.sibling,n=ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function ad(t,e){return e=oc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function oc(t,e){return t=rn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tf(t,e,n){return ua(e,t.child,null,n),t=ad(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ty(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Yf(t.return,e,n)}function nf(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function ET(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Et(t,e,i.children,n),i=at.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,n,e);else if(t.tag===19)Ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Ue(at,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nf(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nf(e,!0,n,null,r);break;case"together":nf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))if(t!==null){if(pl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function uS(t,e,n){switch(e.tag){case 3:Gu(e,e.stateNode.containerInfo),ji(e,rt,t.memoizedState.cache),gl();break;case 27:case 5:Vf(e);break;case 4:Gu(e,e.stateNode.containerInfo);break;case 10:ji(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(zi(e),e.flags|=128,null):n&e.child.childLanes?TT(t,e,n):(zi(e),t=pi(t,e,n),t!==null?t.sibling:null);zi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(pl(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return ET(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(at,at.current),i)break;return null;case 22:case 23:return e.lanes=0,vT(t,e,n);case 24:ji(e,rt,t.memoizedState.cache)}return pi(t,e,n)}function bT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)_t=!0;else{if(!Pm(t,n)&&!(e.flags&128))return _t=!1,uS(t,e,n);_t=!!(t.flags&131072)}else _t=!1,ye&&e.flags&1048576&&S0(e,Wu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")ym(i)?(t=Xs(i,t),e.tag=1,e=_y(null,e,i,t,n)):(e.tag=0,e=rd(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===im){e.tag=11,e=my(null,e,i,t,n);break e}else if(s===sm){e.tag=14,e=gy(null,e,i,t,n);break e}}throw e=Of(i)||i,Error(P(306,e,""))}}return e;case 0:return rd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Xs(i,e.pendingProps),_y(t,e,i,s,n);case 3:e:{if(Gu(e,e.stateNode.containerInfo),t===null)throw Error(P(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,Zf(t,e),Co(e,i,null,n);var a=e.memoizedState;if(i=a.cache,ji(e,rt,i),i!==r.cache&&Kf(e,[rt],n,!0),Io(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=vy(t,e,i,n);break e}else if(i!==s){s=yn(Error(P(424)),e),Go(s),e=vy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Cn(t.firstChild),Lt=e,ye=!0,qs=null,Vn=!0,n=cT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(gl(),i===s){e=pi(t,e,n);break e}Et(t,e,i,n)}e=e.child}return e;case 26:return xu(t,e),t===null?(n=Ly(e.type,null,e.pendingProps,null))?e.memoizedState=n:ye||(n=e.type,t=e.pendingProps,i=mc(Wi.current).createElement(n),i[Ot]=e,i[Yt]=t,wt(i,n,t),yt(i),e.stateNode=i):e.memoizedState=Ly(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Vf(e),t===null&&ye&&(i=e.stateNode=lE(e.type,e.pendingProps,Wi.current),Lt=e,Vn=!0,s=He,bs(e.type)?(Td=s,He=Cn(i.firstChild)):He=s),Et(t,e,e.pendingProps.children,n),xu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ye&&((s=i=He)&&(i=LS(i,e.type,e.pendingProps,Vn),i!==null?(e.stateNode=i,Lt=e,He=Cn(i.firstChild),Vn=!1,s=!0):s=!1),s||Qs(e)),Vf(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,yd(s,r)?i=null:a!==null&&yd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=wm(t,e,tS,null,null,n),Zo._currentValue=s),xu(t,e),Et(t,e,i,n),e.child;case 6:return t===null&&ye&&((t=n=He)&&(n=US(n,e.pendingProps,Vn),n!==null?(e.stateNode=n,Lt=e,He=null,t=!0):t=!1),t||Qs(e)),null;case 13:return TT(t,e,n);case 4:return Gu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ua(e,null,i,n):Et(t,e,i,n),e.child;case 11:return my(t,e,e.type,e.pendingProps,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,ji(e,e.type,i.value),Et(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Ys(e),s=Mt(s),i=i(s),e.flags|=1,Et(t,e,i,n),e.child;case 14:return gy(t,e,e.type,e.pendingProps,n);case 15:return _T(t,e,e.type,e.pendingProps,n);case 19:return ET(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=oc(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ci(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return vT(t,e,n);case 24:return Ys(e),i=Mt(rt),t===null?(s=Em(),s===null&&(s=De,r=Tm(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},bm(e),ji(e,rt,s)):(t.lanes&n&&(Zf(t,e),Co(e,null,null,n),Io()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),ji(e,rt,i)):(i=r.cache,ji(e,rt,i),i!==s.cache&&Kf(e,[rt],n,!0))),Et(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}function ei(t){t.flags|=4}function Ey(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!hE(e)){if(e=En.current,e!==null&&((ge&4194048)===ge?jn!==null:(ge&62914560)!==ge&&!(ge&536870912)||e!==jn))throw wo=$f,I0;t.flags|=8192}}function uu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Kv():536870912,t.lanes|=e,ca|=e)}function lo(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cS(t,e,n){var i=e.pendingProps;switch(vm(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return Be(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),hi(rt),ia(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ao(e)?ei(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zp())),Be(e),null;case 26:return n=e.memoizedState,t===null?(ei(e),n!==null?(Be(e),Ey(e,n)):(Be(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ei(e),Be(e),Ey(e,n)):(Be(e),e.flags&=-16777217):(t.memoizedProps!==i&&ei(e),Be(e),e.flags&=-16777217),null;case 27:Qu(e),n=Wi.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Be(e),null}t=Ln.current,ao(e)?Xp(e):(t=lE(s,i,n),e.stateNode=t,ei(e))}return Be(e),null;case 5:if(Qu(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Be(e),null}if(t=Ln.current,ao(e))Xp(e);else{switch(s=mc(Wi.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}t[Ot]=e,t[Yt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(wt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ei(e)}}return Be(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(t=Wi.current,ao(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Lt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Ot]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||rE(t.nodeValue,n)),t||Qs(e)}else t=mc(t).createTextNode(i),t[Ot]=e,e.stateNode=t}return Be(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ao(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Ot]=e}else gl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),s=!1}else s=Zp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(oi(e),e):(oi(e),null)}if(oi(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),uu(e,e.updateQueue),Be(e),null;case 4:return ia(),t===null&&Hm(e.stateNode.containerInfo),Be(e),null;case 10:return hi(e.type),Be(e),null;case 19:if(vt(at),s=e.memoizedState,s===null)return Be(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)lo(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=sc(t),r!==null){for(e.flags|=128,lo(s,!1),t=r.updateQueue,e.updateQueue=t,uu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)A0(n,t),n=n.sibling;return Ue(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&Un()>uc&&(e.flags|=128,i=!0,lo(s,!1),e.lanes=4194304)}else{if(!i)if(t=sc(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,uu(e,t),lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ye)return Be(e),null}else 2*Un()-s.renderingStartTime>uc&&n!==536870912&&(e.flags|=128,i=!0,lo(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Un(),e.sibling=null,t=at.current,Ue(at,i?t&1|2:t&1),e):(Be(e),null);case 22:case 23:return oi(e),Am(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),n=e.updateQueue,n!==null&&uu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&vt(Fs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),hi(rt),Be(e),null;case 25:return null;case 30:return null}throw Error(P(156,e.tag))}function hS(t,e){switch(vm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(rt),ia(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Qu(e),null;case 13:if(oi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));gl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(at),null;case 4:return ia(),null;case 10:return hi(e.type),null;case 22:case 23:return oi(e),Am(),t!==null&&vt(Fs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return hi(rt),null;case 25:return null;default:return null}}function AT(t,e){switch(vm(e),e.tag){case 3:hi(rt),ia();break;case 26:case 27:case 5:Qu(e);break;case 4:ia();break;case 13:oi(e);break;case 19:vt(at);break;case 10:hi(e.type);break;case 22:case 23:oi(e),Am(),t!==null&&vt(Fs);break;case 24:hi(rt)}}function El(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){Ne(e,e.return,l)}}function ds(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,h=l;try{h()}catch(d){Ne(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){Ne(e,e.return,d)}}function ST(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{N0(e,n)}catch(i){Ne(t,t.return,i)}}}function wT(t,e,n){n.props=Xs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ne(t,e,i)}}function No(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){Ne(t,e,s)}}function Pn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Ne(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ne(t,e,s)}else n.current=null}function RT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Ne(t,t.return,s)}}function sf(t,e,n){try{var i=t.stateNode;kS(i,t.type,n,e),i[Yt]=e}catch(s){Ne(t,t.return,s)}}function IT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bs(t.type)||t.tag===4}function rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ih));else if(i!==4&&(i===27&&bs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(od(t,e,n),t=t.sibling;t!==null;)od(t,e,n),t=t.sibling}function lc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&bs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function CT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);wt(e,i,n),e[Ot]=t,e[Yt]=n}catch(r){Ne(t,t.return,r)}}var ni=!1,$e=!1,af=!1,by=typeof WeakSet=="function"?WeakSet:Set,pt=null;function fS(t,e){if(t=t.containerInfo,gd=_c,t=g0(t),mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,g=t,m=null;t:for(;;){for(var _;g!==n||s!==0&&g.nodeType!==3||(l=a+s),g!==r||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++h===s&&(l=a),m===r&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},_c=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){switch(e=pt,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var O=Xs(n.type,s,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(O,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(k){Ne(n,n.return,k)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)_d(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}}function xT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Oi(t,n),i&4&&El(5,n);break;case 1:if(Oi(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ne(n,n.return,a)}else{var s=Xs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ne(n,n.return,a)}}i&64&&ST(n),i&512&&No(n,n.return);break;case 3:if(Oi(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{N0(t,e)}catch(a){Ne(n,n.return,a)}}break;case 27:e===null&&i&4&&CT(n);case 26:case 5:Oi(t,n),e===null&&i&4&&RT(n),i&512&&No(n,n.return);break;case 12:Oi(t,n);break;case 13:Oi(t,n),i&4&&kT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=ES.bind(null,n),jS(t,n))));break;case 22:if(i=n.memoizedState!==null||ni,!i){e=e!==null&&e.memoizedState!==null||$e,s=ni;var r=$e;ni=i,($e=e)&&!r?Pi(t,n,(n.subtreeFlags&8772)!==0):Oi(t,n),ni=s,$e=r}break;case 30:break;default:Oi(t,n)}}function NT(t){var e=t.alternate;e!==null&&(t.alternate=null,NT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,Ht=!1;function ti(t,e,n){for(n=n.child;n!==null;)DT(t,e,n),n=n.sibling}function DT(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 26:$e||Pn(n,e),ti(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:$e||Pn(n,e);var i=Pe,s=Ht;bs(n.type)&&(Pe=n.stateNode,Ht=!1),ti(t,e,n),Mo(n.stateNode),Pe=i,Ht=s;break;case 5:$e||Pn(n,e);case 6:if(i=Pe,s=Ht,Pe=null,ti(t,e,n),Pe=i,Ht=s,Pe!==null)if(Ht)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(r){Ne(n,e,r)}else try{Pe.removeChild(n.stateNode)}catch(r){Ne(n,e,r)}break;case 18:Pe!==null&&(Ht?(t=Pe,My(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),el(t)):My(Pe,n.stateNode));break;case 4:i=Pe,s=Ht,Pe=n.stateNode.containerInfo,Ht=!0,ti(t,e,n),Pe=i,Ht=s;break;case 0:case 11:case 14:case 15:$e||ds(2,n,e),$e||ds(4,n,e),ti(t,e,n);break;case 1:$e||(Pn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&wT(n,e,i)),ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:$e=(i=$e)||n.memoizedState!==null,ti(t,e,n),$e=i;break;default:ti(t,e,n)}}function kT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(n){Ne(e,e.return,n)}}function dS(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new by),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new by),e;default:throw Error(P(435,t.tag))}}function of(t,e){var n=dS(t);e.forEach(function(i){var s=bS.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function tn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(bs(l.type)){Pe=l.stateNode,Ht=!1;break e}break;case 5:Pe=l.stateNode,Ht=!1;break e;case 3:case 4:Pe=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Pe===null)throw Error(P(160));DT(r,a,s),Pe=null,Ht=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)OT(e,t),e=e.sibling}var Sn=null;function OT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:tn(e,t),nn(t),i&4&&(ds(3,t,t.return),El(3,t),ds(5,t,t.return));break;case 1:tn(e,t),nn(t),i&512&&($e||n===null||Pn(n,n.return)),i&64&&ni&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Sn;if(tn(e,t),nn(t),i&512&&($e||n===null||Pn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[dl]||r[Ot]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),wt(r,i,n),r[Ot]=t,yt(r),i=r;break e;case"link":var a=jy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),wt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=jy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),wt(r,i,n),s.head.appendChild(r);break;default:throw Error(P(468,i))}r[Ot]=t,yt(r),i=r}t.stateNode=i}else zy(s,t.type,t.stateNode);else t.stateNode=Uy(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?zy(s,t.type,t.stateNode):Uy(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&sf(t,t.memoizedProps,n.memoizedProps)}break;case 27:tn(e,t),nn(t),i&512&&($e||n===null||Pn(n,n.return)),n!==null&&i&4&&sf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(tn(e,t),nn(t),i&512&&($e||n===null||Pn(n,n.return)),t.flags&32){s=t.stateNode;try{ra(s,"")}catch(_){Ne(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,sf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(af=!0);break;case 6:if(tn(e,t),nn(t),i&4){if(t.stateNode===null)throw Error(P(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){Ne(t,t.return,_)}}break;case 3:if(ku=null,s=Sn,Sn=gc(e.containerInfo),tn(e,t),Sn=s,nn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(_){Ne(t,t.return,_)}af&&(af=!1,MT(t));break;case 4:i=Sn,Sn=gc(t.stateNode.containerInfo),tn(e,t),nn(t),Sn=i;break;case 12:tn(e,t),nn(t);break;case 13:tn(e,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bm=Un()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,of(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=ni,d=$e;if(ni=h||s,$e=d||u,tn(e,t),$e=d,ni=h,nn(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||ni||$e||Ps(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Ne(u,u.return,_)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(_){Ne(u,u.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,of(t,n))));break;case 19:tn(e,t),nn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,of(t,i)));break;case 30:break;case 21:break;default:tn(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(IT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var s=n.stateNode,r=rf(t);lc(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(ra(a,""),n.flags&=-33);var l=rf(t);lc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=rf(t);od(t,h,u);break;default:throw Error(P(161))}}catch(d){Ne(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;MT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Oi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)xT(t,e.alternate,e),e=e.sibling}function Ps(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ds(4,e,e.return),Ps(e);break;case 1:Pn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&wT(e,e.return,n),Ps(e);break;case 27:Mo(e.stateNode);case 26:case 5:Pn(e,e.return),Ps(e);break;case 22:e.memoizedState===null&&Ps(e);break;case 30:Ps(e);break;default:Ps(e)}t=t.sibling}}function Pi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(s,r,n),El(4,r);break;case 1:if(Pi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){Ne(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)x0(u[s],l)}catch(h){Ne(i,i.return,h)}}n&&a&64&&ST(r),No(r,r.return);break;case 27:CT(r);case 26:case 5:Pi(s,r,n),n&&i===null&&a&4&&RT(r),No(r,r.return);break;case 12:Pi(s,r,n);break;case 13:Pi(s,r,n),n&&a&4&&kT(s,r);break;case 22:r.memoizedState===null&&Pi(s,r,n),No(r,r.return);break;case 30:break;default:Pi(s,r,n)}e=e.sibling}}function Lm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&yl(n))}function Um(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yl(t))}function On(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)VT(t,e,n,i),e=e.sibling}function VT(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:On(t,e,n,i),s&2048&&El(9,e);break;case 1:On(t,e,n,i);break;case 3:On(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yl(t)));break;case 12:if(s&2048){On(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ne(e,e.return,u)}}else On(t,e,n,i);break;case 13:On(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?On(t,e,n,i):Do(t,e):r._visibility&2?On(t,e,n,i):(r._visibility|=2,Rr(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&Lm(a,e);break;case 24:On(t,e,n,i),s&2048&&Um(e.alternate,e);break;default:On(t,e,n,i)}}function Rr(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(r,a,l,u,s),El(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Rr(r,a,l,u,s):Do(r,a):(d._visibility|=2,Rr(r,a,l,u,s)),s&&h&2048&&Lm(a.alternate,a);break;case 24:Rr(r,a,l,u,s),s&&h&2048&&Um(a.alternate,a);break;default:Rr(r,a,l,u,s)}e=e.sibling}}function Do(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Do(n,i),s&2048&&Lm(i.alternate,i);break;case 24:Do(n,i),s&2048&&Um(i.alternate,i);break;default:Do(n,i)}e=e.sibling}}var go=8192;function br(t){if(t.subtreeFlags&go)for(t=t.child;t!==null;)PT(t),t=t.sibling}function PT(t){switch(t.tag){case 26:br(t),t.flags&go&&t.memoizedState!==null&&WS(Sn,t.memoizedState,t.memoizedProps);break;case 5:br(t);break;case 3:case 4:var e=Sn;Sn=gc(t.stateNode.containerInfo),br(t),Sn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=go,go=16777216,br(t),go=e):br(t));break;default:br(t)}}function LT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function uo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];pt=i,jT(i,t)}LT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)UT(t),t=t.sibling}function UT(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&ds(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Nu(t)):uo(t);break;default:uo(t)}}function Nu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];pt=i,jT(i,t)}LT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ds(8,e,e.return),Nu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Nu(e));break;default:Nu(e)}t=t.sibling}}function jT(t,e){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:ds(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:yl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,pt=i;else e:for(n=t;pt!==null;){i=pt;var s=i.sibling,r=i.return;if(NT(i),i===n){pt=null;break e}if(s!==null){s.return=r,pt=s;break e}pt=r}}}var mS={getCacheForType:function(t){var e=Mt(rt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},gS=typeof WeakMap=="function"?WeakMap:Map,be=0,De=null,ce=null,ge=0,Ee=0,sn=null,Xi=!1,Ia=!1,jm=!1,yi=0,Ge=0,ms=0,Hs=0,zm=0,Tn=0,ca=0,ko=null,Gt=null,ld=!1,Bm=0,uc=1/0,cc=null,ts=null,At=0,ns=null,ha=null,Wr=0,ud=0,cd=null,zT=null,Oo=0,hd=null;function ln(){if(be&2&&ge!==0)return ge&-ge;if(te.T!==null){var t=aa;return t!==0?t:Fm()}return Zv()}function BT(){Tn===0&&(Tn=!(ge&536870912)||ye?Yv():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function un(t,e,n){(t===De&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(fa(t,0),$i(t,ge,Tn,!1)),fl(t,n),(!(be&2)||t!==De)&&(t===De&&(!(be&2)&&(Hs|=n),Ge===4&&$i(t,ge,Tn,!1)),Yn(t))}function qT(t,e,n){if(be&6)throw Error(P(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||hl(t,e),s=i?_S(t,e):lf(t,e,!0),r=i;do{if(s===0){Ia&&!i&&$i(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!pS(n)){s=lf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=ko;var u=l.current.memoizedState.isDehydrated;if(u&&(fa(l,a).flags|=256),a=lf(l,a,!1),a!==2){if(jm&&!u){l.errorRecoveryDisabledLanes|=r,Hs|=r,s=4;break e}r=Gt,Gt=s,r!==null&&(Gt===null?Gt=r:Gt.push.apply(Gt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){fa(t,0),$i(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(P(345));case 4:if((e&4194048)!==e)break;case 6:$i(i,e,Tn,!Xi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(P(329))}if((e&62914560)===e&&(s=Bm+300-Un(),10<s)){if($i(i,e,Tn,!Xi),Hc(i,0,!0)!==0)break e;i.timeoutHandle=oE(Ay.bind(null,i,n,Gt,cc,ld,e,Tn,Hs,ca,Xi,r,2,-0,0),s);break e}Ay(i,n,Gt,cc,ld,e,Tn,Hs,ca,Xi,r,0,-0,0)}}break}while(!0);Yn(t)}function Ay(t,e,n,i,s,r,a,l,u,h,d,g,m,_){if(t.timeoutHandle=-1,g=e.subtreeFlags,(g&8192||(g&16785408)===16785408)&&($o={stylesheets:null,count:0,unsuspend:ZS},PT(e),g=JS(),g!==null)){t.cancelPendingCommit=g(wy.bind(null,t,e,r,n,i,s,a,l,u,d,1,m,_)),$i(t,r,a,!h);return}wy(t,e,r,n,i,s,a,l,u)}function pS(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!cn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e,n,i){e&=~zm,e&=~Hs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-on(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Xv(t,n,e)}function eh(){return be&6?!0:(bl(0),!1)}function qm(){if(ce!==null){if(Ee===0)var t=ce.return;else t=ce,ai=sr=null,Cm(t),Zr=null,Yo=0,t=ce;for(;t!==null;)AT(t.alternate,t),t=t.return;ce=null}}function fa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,MS(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),qm(),De=t,ce=n=ci(t.current,null),ge=e,Ee=0,sn=null,Xi=!1,Ia=hl(t,e),jm=!1,ca=Tn=zm=Hs=ms=Ge=0,Gt=ko=null,ld=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-on(i),r=1<<s;e|=t[s],i&=~r}return yi=e,Kc(),n}function FT(t,e){le=null,te.H=ic,e===_l||e===$c?(e=ty(),Ee=3):e===I0?(e=ty(),Ee=4):Ee=e===yT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,sn=e,ce===null&&(Ge=1,ac(t,yn(e,t.current)))}function HT(){var t=te.H;return te.H=ic,t===null?ic:t}function GT(){var t=te.A;return te.A=mS,t}function fd(){Ge=4,Xi||(ge&4194048)!==ge&&En.current!==null||(Ia=!0),!(ms&134217727)&&!(Hs&134217727)||De===null||$i(De,ge,Tn,!1)}function lf(t,e,n){var i=be;be|=2;var s=HT(),r=GT();(De!==t||ge!==e)&&(cc=null,fa(t,e)),e=!1;var a=Ge;e:do try{if(Ee!==0&&ce!==null){var l=ce,u=sn;switch(Ee){case 8:qm(),a=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(e=!0);var h=Ee;if(Ee=0,sn=null,Fr(t,l,u,h),n&&Ia){a=0;break e}break;default:h=Ee,Ee=0,sn=null,Fr(t,l,u,h)}}yS(),a=Ge;break}catch(d){FT(t,d)}while(!0);return e&&t.shellSuspendCounter++,ai=sr=null,be=i,te.H=s,te.A=r,ce===null&&(De=null,ge=0,Kc()),a}function yS(){for(;ce!==null;)QT(ce)}function _S(t,e){var n=be;be|=2;var i=HT(),s=GT();De!==t||ge!==e?(cc=null,uc=Un()+500,fa(t,e)):Ia=hl(t,e);e:do try{if(Ee!==0&&ce!==null){e=ce;var r=sn;t:switch(Ee){case 1:Ee=0,sn=null,Fr(t,e,r,1);break;case 2:case 9:if(ey(r)){Ee=0,sn=null,Sy(e);break}e=function(){Ee!==2&&Ee!==9||De!==t||(Ee=7),Yn(t)},r.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:ey(r)?(Ee=0,sn=null,Sy(e)):(Ee=0,sn=null,Fr(t,e,r,7));break;case 5:var a=null;switch(ce.tag){case 26:a=ce.memoizedState;case 5:case 27:var l=ce;if(!a||hE(a)){Ee=0,sn=null;var u=l.sibling;if(u!==null)ce=u;else{var h=l.return;h!==null?(ce=h,th(h)):ce=null}break t}}Ee=0,sn=null,Fr(t,e,r,5);break;case 6:Ee=0,sn=null,Fr(t,e,r,6);break;case 8:qm(),Ge=6;break e;default:throw Error(P(462))}}vS();break}catch(d){FT(t,d)}while(!0);return ai=sr=null,te.H=i,te.A=s,be=n,ce!==null?0:(De=null,ge=0,Kc(),Ge)}function vS(){for(;ce!==null&&!B2();)QT(ce)}function QT(t){var e=bT(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?th(t):ce=e}function Sy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=yy(n,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=yy(n,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:Cm(e);default:AT(n,e),e=ce=A0(e,yi),e=bT(n,e,yi)}t.memoizedProps=t.pendingProps,e===null?th(t):ce=e}function Fr(t,e,n,i){ai=sr=null,Cm(e),Zr=null,Yo=0;var s=e.return;try{if(lS(t,s,e,n,ge)){Ge=1,ac(t,yn(n,t.current)),ce=null;return}}catch(r){if(s!==null)throw ce=s,r;Ge=1,ac(t,yn(n,t.current)),ce=null;return}e.flags&32768?(ye||i===1?t=!0:Ia||ge&536870912?t=!1:(Xi=t=!0,(i===2||i===9||i===3||i===6)&&(i=En.current,i!==null&&i.tag===13&&(i.flags|=16384))),YT(e,t)):th(e)}function th(t){var e=t;do{if(e.flags&32768){YT(e,Xi);return}t=e.return;var n=cS(e.alternate,e,yi);if(n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);Ge===0&&(Ge=5)}function YT(t,e){do{var n=hS(t.alternate,t);if(n!==null){n.flags&=32767,ce=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ce=t;return}ce=t=n}while(t!==null);Ge=6,ce=null}function wy(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do nh();while(At!==0);if(be&6)throw Error(P(327));if(e!==null){if(e===t.current)throw Error(P(177));if(r=e.lanes|e.childLanes,r|=gm,Z2(t,n,r,a,l,u),t===De&&(ce=De=null,ge=0),ha=e,ns=t,Wr=n,ud=r,cd=s,zT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,AS(Yu,function(){return WT(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=te.T,te.T=null,s=_e.p,_e.p=2,a=be,be|=4;try{fS(t,e,n)}finally{be=a,_e.p=s,te.T=i}}At=1,KT(),XT(),$T()}}function KT(){if(At===1){At=0;var t=ns,e=ha,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=te.T,te.T=null;var i=_e.p;_e.p=2;var s=be;be|=4;try{OT(e,t);var r=pd,a=g0(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&m0(l.ownerDocument.documentElement,l)){if(u!==null&&mm(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),O=l.textContent.length,k=Math.min(u.start,O),D=u.end===void 0?k:Math.min(u.end,O);!_.extend&&k>D&&(a=D,D=k,k=a);var T=Qp(l,k),E=Qp(l,D);if(T&&E&&(_.rangeCount!==1||_.anchorNode!==T.node||_.anchorOffset!==T.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var S=g.createRange();S.setStart(T.node,T.offset),_.removeAllRanges(),k>D?(_.addRange(S),_.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),_.addRange(S))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var x=g[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}_c=!!gd,pd=gd=null}finally{be=s,_e.p=i,te.T=n}}t.current=e,At=2}}function XT(){if(At===2){At=0;var t=ns,e=ha,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=te.T,te.T=null;var i=_e.p;_e.p=2;var s=be;be|=4;try{xT(t,e.alternate,e)}finally{be=s,_e.p=i,te.T=n}}At=3}}function $T(){if(At===4||At===3){At=0,q2();var t=ns,e=ha,n=Wr,i=zT;e.subtreeFlags&10256||e.flags&10256?At=5:(At=0,ha=ns=null,ZT(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(ts=null),om(n),e=e.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=te.T,s=_e.p,_e.p=2,te.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{te.T=e,_e.p=s}}Wr&3&&nh(),Yn(t),s=t.pendingLanes,n&4194090&&s&42?t===hd?Oo++:(Oo=0,hd=t):Oo=0,bl(0)}}function ZT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,yl(e)))}function nh(t){return KT(),XT(),$T(),WT()}function WT(){if(At!==5)return!1;var t=ns,e=ud;ud=0;var n=om(Wr),i=te.T,s=_e.p;try{_e.p=32>n?32:n,te.T=null,n=cd,cd=null;var r=ns,a=Wr;if(At=0,ha=ns=null,Wr=0,be&6)throw Error(P(331));var l=be;if(be|=4,UT(r.current),VT(r,r.current,a,n),be=l,bl(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(cl,r)}catch{}return!0}finally{_e.p=s,te.T=i,ZT(t,e)}}function Ry(t,e,n){e=yn(n,e),e=sd(t.stateNode,e,2),t=es(t,e,2),t!==null&&(fl(t,2),Yn(t))}function Ne(t,e,n){if(t.tag===3)Ry(t,t,n);else for(;e!==null;){if(e.tag===3){Ry(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ts===null||!ts.has(i))){t=yn(n,t),n=gT(2),i=es(e,n,2),i!==null&&(pT(n,i,e,t),fl(i,2),Yn(i));break}}e=e.return}}function uf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new gS;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(jm=!0,s.add(n),t=TS.bind(null,t,e,n),e.then(t,t))}function TS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,De===t&&(ge&n)===n&&(Ge===4||Ge===3&&(ge&62914560)===ge&&300>Un()-Bm?!(be&2)&&fa(t,0):zm|=n,ca===ge&&(ca=0)),Yn(t)}function JT(t,e){e===0&&(e=Kv()),t=Ra(t,e),t!==null&&(fl(t,e),Yn(t))}function ES(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JT(t,n)}function bS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(e),JT(t,n)}function AS(t,e){return rm(t,e)}var hc=null,Ir=null,dd=!1,fc=!1,cf=!1,Gs=0;function Yn(t){t!==Ir&&t.next===null&&(Ir===null?hc=Ir=t:Ir=Ir.next=t),fc=!0,dd||(dd=!0,wS())}function bl(t,e){if(!cf&&fc){cf=!0;do for(var n=!1,i=hc;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-on(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Iy(i,r))}else r=ge,r=Hc(i,i===De?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||hl(i,r)||(n=!0,Iy(i,r));i=i.next}while(n);cf=!1}}function SS(){eE()}function eE(){fc=dd=!1;var t=0;Gs!==0&&(OS()&&(t=Gs),Gs=0);for(var e=Un(),n=null,i=hc;i!==null;){var s=i.next,r=tE(i,e);r===0?(i.next=null,n===null?hc=s:n.next=s,s===null&&(Ir=n)):(n=i,(t!==0||r&3)&&(fc=!0)),i=s}bl(t)}function tE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-on(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=$2(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=De,n=ge,n=Hc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Vh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||hl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Vh(i),om(n)){case 2:case 8:n=Gv;break;case 32:n=Yu;break;case 268435456:n=Qv;break;default:n=Yu}return i=nE.bind(null,t),n=rm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Vh(i),t.callbackPriority=2,t.callbackNode=null,2}function nE(t,e){if(At!==0&&At!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(nh()&&t.callbackNode!==n)return null;var i=ge;return i=Hc(t,t===De?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(qT(t,i,e),tE(t,Un()),t.callbackNode!=null&&t.callbackNode===n?nE.bind(null,t):null)}function Iy(t,e){if(nh())return null;qT(t,e,!0)}function wS(){VS(function(){be&6?rm(Hv,SS):eE()})}function Fm(){return Gs===0&&(Gs=Yv()),Gs}function Cy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bu(""+t)}function xy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function RS(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Cy((s[Yt]||null).action),a=i.submitter;a&&(e=(e=a[Yt]||null)?Cy(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new Gc("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Gs!==0){var u=a?xy(s,a):new FormData(s);nd(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?xy(s,a):new FormData(s),nd(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var hf=0;hf<Hf.length;hf++){var ff=Hf[hf],IS=ff.toLowerCase(),CS=ff[0].toUpperCase()+ff.slice(1);Nn(IS,"on"+CS)}Nn(y0,"onAnimationEnd");Nn(_0,"onAnimationIteration");Nn(v0,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(GA,"onTransitionRun");Nn(QA,"onTransitionStart");Nn(YA,"onTransitionCancel");Nn(T0,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){rc(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){rc(d)}s.currentTarget=null,r=u}}}}function ue(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var i=t+"__bubble";n.has(i)||(sE(e,t,2,!1),n.add(i))}function df(t,e,n){var i=0;e&&(i|=4),sE(n,t,i,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[cu]){t[cu]=!0,Wv.forEach(function(n){n!=="selectionchange"&&(xS.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,df("selectionchange",!1,e))}}function sE(t,e,n,i){switch(pE(e)){case 2:var s=nw;break;case 8:s=iw;break;default:s=Km}n=s.bind(null,e,n,t),s=void 0,!Bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Mr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}a0(function(){var h=r,d=cm(n),g=[];e:{var m=E0.get(t);if(m!==void 0){var _=Gc,O=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":_=AA;break;case"focusin":O="focus",_=Fh;break;case"focusout":O="blur",_=Fh;break;case"beforeblur":case"afterblur":_=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=RA;break;case y0:case _0:case v0:_=mA;break;case T0:_=CA;break;case"scroll":case"scrollend":_=uA;break;case"wheel":_=NA;break;case"copy":case"cut":case"paste":_=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Up;break;case"toggle":case"beforetoggle":_=kA}var k=(e&4)!==0,D=!k&&(t==="scroll"||t==="scrollend"),T=k?m!==null?m+"Capture":null:m;k=[];for(var E=h,S;E!==null;){var x=E;if(S=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||S===null||T===null||(x=qo(E,T),x!=null&&k.push(Xo(E,x,S))),D)break;E=E.return}0<k.length&&(m=new _(m,O,null,n,d),g.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==zf&&(O=n.relatedTarget||n.fromElement)&&(Mr(O)||O[Sa]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=h,O=O?Mr(O):null,O!==null&&(D=ul(O),k=O.tag,O!==D||k!==5&&k!==27&&k!==6)&&(O=null)):(_=null,O=h),_!==O)){if(k=Pp,x="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(k=Up,x="onPointerLeave",T="onPointerEnter",E="pointer"),D=_==null?m:mo(_),S=O==null?m:mo(O),m=new k(x,E+"leave",_,n,d),m.target=D,m.relatedTarget=S,x=null,Mr(d)===h&&(k=new k(T,E+"enter",O,n,d),k.target=S,k.relatedTarget=D,x=k),D=x,_&&O)t:{for(k=_,T=O,E=0,S=k;S;S=Ar(S))E++;for(S=0,x=T;x;x=Ar(x))S++;for(;0<E-S;)k=Ar(k),E--;for(;0<S-E;)T=Ar(T),S--;for(;E--;){if(k===T||T!==null&&k===T.alternate)break t;k=Ar(k),T=Ar(T)}k=null}else k=null;_!==null&&Ny(g,m,_,k,!1),O!==null&&D!==null&&Ny(g,D,O,k,!0)}}e:{if(m=h?mo(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=qp;else if(Bp(m))if(f0)z=qA;else{z=zA;var F=jA}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&um(h.elementType)&&(z=qp):z=BA;if(z&&(z=z(t,h))){h0(g,z,n,d);break e}F&&F(t,m,h),t==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&jf(m,"number",m.value)}switch(F=h?mo(h):window,t){case"focusin":(Bp(F)||F.contentEditable==="true")&&(Lr=F,qf=h,Ao=null);break;case"focusout":Ao=qf=Lr=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Yp(g,n,d);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":Yp(g,n,d)}var b;if(dm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pr?u0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(l0&&n.locale!=="ko"&&(Pr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Pr&&(b=o0()):(Ki=d,hm="value"in Ki?Ki.value:Ki.textContent,Pr=!0)),F=dc(h,v),0<F.length&&(v=new Lp(v,t,null,n,d),g.push({event:v,listeners:F}),b?v.data=b:(b=c0(n),b!==null&&(v.data=b)))),(b=MA?VA(t,n):PA(t,n))&&(v=dc(h,"onBeforeInput"),0<v.length&&(F=new Lp("onBeforeInput","beforeinput",null,n,d),g.push({event:F,listeners:v}),F.data=b)),RS(g,t,h,n,d)}iE(g,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=qo(t,n),s!=null&&i.unshift(Xo(t,s,r)),s=qo(t,e),s!=null&&i.push(Xo(t,s,r))),t.tag===3)return i;t=t.return}return[]}function Ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ny(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=qo(n,r),h!=null&&a.unshift(Xo(n,h,u))):s||(h=qo(n,r),h!=null&&a.push(Xo(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(DS,"")}function rE(t,e){return e=Dy(e),Dy(t)===e}function ih(){}function Ie(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ra(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ra(t,""+i);break;case"className":iu(t,"class",i);break;case"tabIndex":iu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":iu(t,n,i);break;case"style":r0(t,i,r);break;case"data":if(e!=="object"){iu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=bu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Ie(t,e,"name",s.name,s,null),Ie(t,e,"formEncType",s.formEncType,s,null),Ie(t,e,"formMethod",s.formMethod,s,null),Ie(t,e,"formTarget",s.formTarget,s,null)):(Ie(t,e,"encType",s.encType,s,null),Ie(t,e,"method",s.method,s,null),Ie(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=bu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ih);break;case"onScroll":i!=null&&ue("scroll",t);break;case"onScrollEnd":i!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=bu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ue("beforetoggle",t),ue("toggle",t),Eu(t,"popover",i);break;case"xlinkActuate":Jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Jn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Jn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Jn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Jn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Eu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oA.get(n)||n,Eu(t,n,i))}}function md(t,e,n,i,s,r){switch(n){case"style":r0(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ra(t,i):(typeof i=="number"||typeof i=="bigint")&&ra(t,""+i);break;case"onScroll":i!=null&&ue("scroll",t);break;case"onScrollEnd":i!=null&&ue("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Yt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Eu(t,n,i)}}}function wt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:Ie(t,e,r,a,n,null)}}s&&Ie(t,e,"srcSet",n.srcSet,n,null),i&&Ie(t,e,"src",n.src,n,null);return;case"input":ue("invalid",t);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,e));break;default:Ie(t,e,i,d,n,null)}}n0(t,r,l,u,h,a,s,!1),Ku(t);return;case"select":ue("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ie(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Qr(t,!!i,e,!1):n!=null&&Qr(t,!!i,n,!0);return;case"textarea":ue("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Ie(t,e,a,l,n,null)}s0(t,i,s,r),Ku(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ie(t,e,u,i,n,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(i=0;i<Ko.length;i++)ue(Ko[i],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:Ie(t,e,h,i,n,null)}return;default:if(um(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&md(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ie(t,e,l,i,n,null))}function kS(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Ie(t,e,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":r=_;break;case"name":s=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,e));break;default:_!==g&&Ie(t,e,m,_,i,g)}}Uf(t,a,l,u,h,d,r,s);return;case"select":_=a=l=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||Ie(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Ie(t,e,s,r,i,u)}e=l,n=a,i=_,m!=null?Qr(t,!!n,m,!1):!!i!=!!n&&(e!=null?Qr(t,!!n,e,!0):Qr(t,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ie(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(P(91));break;default:s!==r&&Ie(t,e,a,s,i,r)}i0(t,m,_);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":t.selected=!1;break;default:Ie(t,e,O,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ie(t,e,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!=null&&!i.hasOwnProperty(k)&&Ie(t,e,k,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,e));break;default:Ie(t,e,h,m,i,_)}return;default:if(um(e)){for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!==void 0&&!i.hasOwnProperty(D)&&md(t,e,D,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||md(t,e,d,m,i,_);return}}for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&Ie(t,e,T,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Ie(t,e,g,m,i,_)}var gd=null,pd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function yd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gf=null;function OS(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(PS)}:oE;function PS(t){setTimeout(function(){throw t})}function bs(t){return t==="head"}function My(t,e){var n=e,i=0,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&Mo(a.documentElement),n&2&&Mo(a.body),n&4)for(n=a.head,Mo(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[dl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(s===0){t.removeChild(r),el(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);el(e)}function _d(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_d(n),lm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function LS(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[dl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function US(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jS(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Td=null;function Vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function lE(t,e,n){switch(e=mc(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}function Mo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lm(t)}var bn=new Map,Py=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Si=_e.d;_e.d={f:zS,r:BS,D:qS,C:FS,L:HS,m:GS,X:YS,S:QS,M:KS};function zS(){var t=Si.f(),e=eh();return t||e}function BS(t){var e=wa(t);e!==null&&e.tag===5&&e.type==="form"?tT(e):Si.r(t)}var Ca=typeof document>"u"?null:document;function uE(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var s=pn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Py.has(s)||(Py.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),wt(e,"link",t),yt(e),i.head.appendChild(e)))}}function qS(t){Si.D(t),uE("dns-prefetch",t,null)}function FS(t,e){Si.C(t,e),uE("preconnect",t,e)}function HS(t,e,n){Si.L(t,e,n);var i=Ca;if(i&&t&&e){var s='link[rel="preload"][as="'+pn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(t)+'"]';var r=s;switch(e){case"style":r=da(t);break;case"script":r=xa(t)}bn.has(r)||(t=Ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),bn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Al(r))||e==="script"&&i.querySelector(Sl(r))||(e=i.createElement("link"),wt(e,"link",t),yt(e),i.head.appendChild(e)))}}function GS(t,e){Si.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+pn(i)+'"][href="'+pn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=xa(t)}if(!bn.has(r)&&(t=Ve({rel:"modulepreload",href:t},e),bn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sl(r)))return}i=n.createElement("link"),wt(i,"link",t),yt(i),n.head.appendChild(i)}}}function QS(t,e,n){Si.S(t,e,n);var i=Ca;if(i&&t){var s=Gr(i).hoistableStyles,r=da(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Al(r)))l.loading=5;else{t=Ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=bn.get(r))&&Gm(t,n);var u=a=i.createElement("link");yt(u),wt(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Du(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function YS(t,e){Si.X(t,e);var n=Ca;if(n&&t){var i=Gr(n).hoistableScripts,s=xa(t),r=i.get(s);r||(r=n.querySelector(Sl(s)),r||(t=Ve({src:t,async:!0},e),(e=bn.get(s))&&Qm(t,e),r=n.createElement("script"),yt(r),wt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function KS(t,e){Si.M(t,e);var n=Ca;if(n&&t){var i=Gr(n).hoistableScripts,s=xa(t),r=i.get(s);r||(r=n.querySelector(Sl(s)),r||(t=Ve({src:t,async:!0,type:"module"},e),(e=bn.get(s))&&Qm(t,e),r=n.createElement("script"),yt(r),wt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Ly(t,e,n,i){var s=(s=Wi.current)?gc(s):null;if(!s)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=da(n.href),n=Gr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=da(n.href);var r=Gr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(Al(t)))&&!r._p&&(a.instance=r,a.state.loading=5),bn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},bn.set(t,n),r||XS(s,t,n,a.state))),e&&i===null)throw Error(P(528,""));return a}if(e&&i!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xa(n),n=Gr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function da(t){return'href="'+pn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function cE(t){return Ve({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),wt(e,"link",n),yt(e),t.head.appendChild(e))}function xa(t){return'[src="'+pn(t)+'"]'}function Sl(t){return"script[async]"+t}function Uy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+pn(n.href)+'"]');if(i)return e.instance=i,yt(i),i;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),yt(i),wt(i,"style",s),Du(i,n.precedence,t),e.instance=i;case"stylesheet":s=da(n.href);var r=t.querySelector(Al(s));if(r)return e.state.loading|=4,e.instance=r,yt(r),r;i=cE(n),(s=bn.get(s))&&Gm(i,s),r=(t.ownerDocument||t).createElement("link"),yt(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(r,"link",i),e.state.loading|=4,Du(r,n.precedence,t),e.instance=r;case"script":return r=xa(n.src),(s=t.querySelector(Sl(r)))?(e.instance=s,yt(s),s):(i=n,(s=bn.get(r))&&(i=Ve({},n),Qm(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),yt(s),wt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Du(i,n.precedence,t));return e.instance}function Du(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Gm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ku=null;function jy(t,e,n){if(ku===null){var i=new Map,s=ku=new Map;s.set(n,i)}else s=ku,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[dl]||r[Ot]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function zy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $S(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function hE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var $o=null;function ZS(){}function WS(t,e,n){if($o===null)throw Error(P(475));var i=$o;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=da(n.href),r=t.querySelector(Al(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=pc.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,yt(r);return}r=t.ownerDocument||t,n=cE(n),(s=bn.get(s))&&Gm(n,s),r=r.createElement("link"),yt(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),wt(r,"link",n),e.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=pc.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function JS(){if($o===null)throw Error(P(475));var t=$o;return t.stylesheets&&t.count===0&&Ed(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Ed(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function pc(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function Ed(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,e.forEach(ew,t),yc=null,pc.call(t))}function ew(t,e){if(!(e.state.loading&4)){var n=yc.get(t);if(n)var i=n.get(null);else{n=new Map,yc.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=pc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Zo={$$typeof:ii,Provider:null,Consumer:null,_currentValue:js,_currentValue2:js,_threadCount:0};function tw(t,e,n,i,s,r,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fE(t,e,n,i,s,r,a,l,u,h,d,g){return t=new tw(t,e,n,a,l,u,h,g),e=1,r===!0&&(e|=24),r=rn(3,null,null,e),t.current=r,r.stateNode=t,e=Tm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},bm(r),t}function dE(t){return t?(t=zr,t):zr}function mE(t,e,n,i,s,r){s=dE(s),i.context===null?i.context=s:i.pendingContext=s,i=Ji(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=es(t,i,e),n!==null&&(un(n,t,e),Ro(n,t,e))}function By(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ym(t,e){By(t,e),(t=t.alternate)&&By(t,e)}function gE(t){if(t.tag===13){var e=Ra(t,67108864);e!==null&&un(e,t,67108864),Ym(t,67108864)}}var _c=!0;function nw(t,e,n,i){var s=te.T;te.T=null;var r=_e.p;try{_e.p=2,Km(t,e,n,i)}finally{_e.p=r,te.T=s}}function iw(t,e,n,i){var s=te.T;te.T=null;var r=_e.p;try{_e.p=8,Km(t,e,n,i)}finally{_e.p=r,te.T=s}}function Km(t,e,n,i){if(_c){var s=bd(i);if(s===null)mf(t,e,i,vc,n),qy(t,i);else if(rw(s,t,e,n,i))i.stopPropagation();else if(qy(t,i),e&4&&-1<sw.indexOf(t)){for(;s!==null;){var r=wa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Ms(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-on(a);l.entanglements[1]|=u,a&=~u}Yn(r),!(be&6)&&(uc=Un()+500,bl(0))}}break;case 13:l=Ra(r,2),l!==null&&un(l,r,2),eh(),Ym(r,2)}if(r=bd(i),r===null&&mf(t,e,i,vc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else mf(t,e,i,null,n)}}function bd(t){return t=cm(t),Xm(t)}var vc=null;function Xm(t){if(vc=null,t=Mr(t),t!==null){var e=ul(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=zv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vc=t,null}function pE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F2()){case Hv:return 2;case Gv:return 8;case Yu:case H2:return 32;case Qv:return 268435456;default:return 32}default:return 32}}var Ad=!1,is=null,ss=null,rs=null,Wo=new Map,Jo=new Map,qi=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function co(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=wa(e),e!==null&&gE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rw(t,e,n,i,s){switch(e){case"focusin":return is=co(is,t,e,n,i,s),!0;case"dragenter":return ss=co(ss,t,e,n,i,s),!0;case"mouseover":return rs=co(rs,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Wo.set(r,co(Wo.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Jo.set(r,co(Jo.get(r)||null,t,e,n,i,s)),!0}return!1}function yE(t){var e=Mr(t.target);if(e!==null){var n=ul(e);if(n!==null){if(e=n.tag,e===13){if(e=zv(n),e!==null){t.blockedOn=e,W2(t.priority,function(){if(n.tag===13){var i=ln();i=am(i);var s=Ra(n,i);s!==null&&un(s,n,i),Ym(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);zf=i,n.target.dispatchEvent(i),zf=null}else return e=wa(n),e!==null&&gE(e),t.blockedOn=n,!1;e.shift()}return!0}function Fy(t,e,n){Ou(t)&&n.delete(e)}function aw(){Ad=!1,is!==null&&Ou(is)&&(is=null),ss!==null&&Ou(ss)&&(ss=null),rs!==null&&Ou(rs)&&(rs=null),Wo.forEach(Fy),Jo.forEach(Fy)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ad||(Ad=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,aw)))}var fu=null;function Hy(t){fu!==t&&(fu=t,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,function(){fu===t&&(fu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Xm(i||n)===null)continue;break}var r=wa(n);r!==null&&(t.splice(e,3),e-=3,nd(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function el(t){function e(u){return hu(u,t)}is!==null&&hu(is,t),ss!==null&&hu(ss,t),rs!==null&&hu(rs,t),Wo.forEach(e),Jo.forEach(e);for(var n=0;n<qi.length;n++){var i=qi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)yE(n),n.blockedOn===null&&qi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Yt]||null;if(typeof r=="function")a||Hy(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Yt]||null)l=a.formAction;else if(Xm(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Hy(n)}}}function $m(t){this._internalRoot=t}sh.prototype.render=$m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,i=ln();mE(n,i,t,e,null,null)};sh.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mE(t.current,2,null,t,null,null),eh(),e[Sa]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qi.length&&e!==0&&e<qi[n].priority;n++);qi.splice(n,0,t),n===0&&yE(t)}};var Gy=Uv.version;if(Gy!=="19.1.0")throw Error(P(527,Gy,"19.1.0"));_e.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=P2(e),t=t!==null?Bv(t):null,t=t===null?null:t.stateNode,t};var ow={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{cl=du.inject(ow),an=du}catch{}}qc.createRoot=function(t,e){if(!jv(t))throw Error(P(299));var n=!1,i="",s=fT,r=dT,a=mT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=fE(t,1,!1,null,null,n,i,s,r,a,l,null),t[Sa]=e.current,Hm(t),new $m(e)};qc.hydrateRoot=function(t,e,n){if(!jv(t))throw Error(P(299));var i=!1,s="",r=fT,a=dT,l=mT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=fE(t,1,!0,e,n??null,i,s,r,a,l,u,h),e.context=dE(null),n=e.current,i=ln(),i=am(i),s=Ji(i),s.callback=null,es(n,s,i),n=i,e.current.lanes=n,fl(e,n),Yn(e),t[Sa]=e.current,Hm(t),new sh(e)};qc.version="19.1.0";function _E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_E)}catch(t){console.error(t)}}_E(),kv.exports=qc;var lw=kv.exports;const uw=bv(lw),cw=()=>{};var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=r>>2,g=(r&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||g==null)throw new fw;const m=r<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const O=h<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(t){const e=vE(t);return TE.encodeByteArray(e,!0)},Tc=function(t){return dw(t).replace(/\./g,"")},EE=function(t){try{return TE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=()=>mw().__FIREBASE_DEFAULTS__,pw=()=>{if(typeof process>"u"||typeof Qy>"u")return;const t=Qy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EE(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return cw()||gw()||pw()||yw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bE=t=>{var e,n;return(n=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_w=t=>{const e=bE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},AE=()=>{var t;return(t=rh())===null||t===void 0?void 0:t.config},SE=t=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return t.endsWith(".cloudworkstations.dev")}async function wE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(a)),""].join(".")}const Vo={};function Ew(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?t.emulator.push(e):t.prod.push(e);return t}function bw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yy=!1;function RE(t,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Vo[t]===e||Vo[t]||Yy)return;Vo[t]=e;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=Ew().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Yy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=bw(i),_=n("text"),O=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),D=document.getElementById(k)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),d(D,k);const x=h();u(E,T),S.append(E,O,D,x),document.body.appendChild(S)}r?(O.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Sw(){var t;const e=(t=rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Iw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cw(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xw(){return!Sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function Dw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="FirebaseError";class wi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kw,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?Ow(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new wi(s,l,i)}}function Ow(t,e){return t.replace(Mw,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Mw=/\{\$([^}]+)}/g;function Vw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(Ky(r)&&Ky(a)){if(!$s(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ky(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pw(t,e){const n=new Lw(t,e);return n.subscribe.bind(n)}class Lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Uw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=pf),s.error===void 0&&(s.error=pf),s.complete===void 0&&(s.complete=pf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bw(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zw(t){return t===Ls?void 0:t}function Bw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const Fw={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Hw=fe.INFO,Gw={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Qw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Gw[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=Hw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Yw=(t,e)=>e.some(n=>t instanceof n);let Xy,$y;function Kw(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xw(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,Sd=new WeakMap,CE=new WeakMap,yf=new WeakMap,Wm=new WeakMap;function $w(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(as(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function Zw(t){if(Sd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Sd.set(t,e)}let wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ww(t){wd=t(wd)}function Jw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_f(this),e,...n);return CE.set(i,e.sort?e.sort():[e]),as(i)}:Xw().includes(t)?function(...e){return t.apply(_f(this),e),as(IE.get(this))}:function(...e){return as(t.apply(_f(this),e))}}function eR(t){return typeof t=="function"?Jw(t):(t instanceof IDBTransaction&&Zw(t),Yw(t,Kw())?new Proxy(t,wd):t)}function as(t){if(t instanceof IDBRequest)return $w(t);if(yf.has(t))return yf.get(t);const e=eR(t);return e!==t&&(yf.set(t,e),Wm.set(e,t)),e}const _f=t=>Wm.get(t);function tR(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=as(a);return i&&a.addEventListener("upgradeneeded",u=>{i(as(a.result),u.oldVersion,u.newVersion,as(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],vf=new Map;function Zy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=iR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||nR.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return vf.set(e,r),r}Ww(t=>({...t,get:(e,n,i)=>Zy(e,n)||t.get(e,n,i),has:(e,n)=>!!Zy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rd="@firebase/app",Wy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Zm("@firebase/app"),aR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",dR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",pR="@firebase/functions",yR="@firebase/functions-compat",_R="@firebase/installations",vR="@firebase/installations-compat",TR="@firebase/messaging",ER="@firebase/messaging-compat",bR="@firebase/performance",AR="@firebase/performance-compat",SR="@firebase/remote-config",wR="@firebase/remote-config-compat",RR="@firebase/storage",IR="@firebase/storage-compat",CR="@firebase/firestore",xR="@firebase/ai",NR="@firebase/firestore-compat",DR="firebase",kR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",OR={[Rd]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[dR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[pR]:"fire-fn",[yR]:"fire-fn-compat",[_R]:"fire-iid",[vR]:"fire-iid-compat",[TR]:"fire-fcm",[ER]:"fire-fcm-compat",[bR]:"fire-perf",[AR]:"fire-perf-compat",[SR]:"fire-rc",[wR]:"fire-rc-compat",[RR]:"fire-gcs",[IR]:"fire-gcs-compat",[CR]:"fire-fst",[NR]:"fire-fst-compat",[xR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,MR=new Map,Cd=new Map;function Jy(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(Cd.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,t);for(const n of Ec.values())Jy(n,t);for(const n of MR.values())Jy(n,t);return!0}function Jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new wl("app","Firebase",VR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=kR;function xE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Id,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw os.create("bad-app-name",{appName:String(s)});if(n||(n=AE()),!n)throw os.create("no-options");const r=Ec.get(s);if(r){if($s(n,r.options)&&$s(i,r.config))return r;throw os.create("duplicate-app",{appName:s})}const a=new qw(s);for(const u of Cd.values())a.addComponent(u);const l=new PR(n,i,a);return Ec.set(s,l),l}function NE(t=Id){const e=Ec.get(t);if(!e&&t===Id&&AE())return xE();if(!e)throw os.create("no-app",{appName:t});return e}function ls(t,e,n){var i;let s=(i=OR[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(l.join(" "));return}ma(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",UR=1,tl="firebase-heartbeat-store";let Tf=null;function DE(){return Tf||(Tf=tR(LR,UR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function jR(t){try{const n=(await DE()).transaction(tl),i=await n.objectStore(tl).get(kE(t));return await n.done,i}catch(e){if(e instanceof wi)_i.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function e_(t,e){try{const i=(await DE()).transaction(tl,"readwrite");await i.objectStore(tl).put(e,kE(t)),await i.done}catch(n){if(n instanceof wi)_i.warn(n.message);else{const i=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(i.message)}}}function kE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,BR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>BR){const a=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:i,unsentEntries:s}=FR(this._heartbeatsCache.heartbeats),r=Tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return _i.warn(n),""}}}function t_(){return new Date().toISOString().substring(0,10)}function FR(t,e=zR){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),n_(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),n_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nw()?Dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n_(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function GR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){ma(new Zs("platform-logger",e=>new sR(e),"PRIVATE")),ma(new Zs("heartbeat",e=>new qR(e),"PRIVATE")),ls(Rd,Wy,t),ls(Rd,Wy,"esm2017"),ls("fire-js","")}QR("");var YR="firebase",KR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(YR,KR,"app");function eg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XR=OE,ME=new wl("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Zm("@firebase/auth");function $R(t,...e){bc.logLevel<=fe.WARN&&bc.warn(`Auth (${Da}): ${t}`,...e)}function Mu(t,...e){bc.logLevel<=fe.ERROR&&bc.error(`Auth (${Da}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw tg(t,...e)}function zn(t,...e){return tg(t,...e)}function VE(t,e,n){const i=Object.assign(Object.assign({},XR()),{[e]:n});return new wl("auth","Firebase",i).create(e,{appName:t.name})}function fi(t){return VE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ME.create(t,...e)}function ne(t,e,...n){if(!t)throw tg(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mu(e),new Error(e)}function Ti(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZR(){return i_()==="http:"||i_()==="https:"}function i_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||Rw()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=Aw()||Iw()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new Il(3e4,6e4);function Cl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ka(t,e,n,i,s={}){return LE(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=Rl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},r);return ww()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Na(t.emulatorConfig.host)&&(h.credentials="include"),PE.fetch()(await UE(t,t.config.apiHost,n,l),h)})}async function LE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},eI),e);try{const s=new iI(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw mu(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw mu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw VE(t,d,h);vi(t,d)}}catch(s){if(s instanceof wi)throw s;vi(t,"network-request-failed",{message:String(s)})}}async function ig(t,e,n,i,s={}){const r=await ka(t,e,n,i,s);return"mfaPendingCredential"in r&&vi(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function UE(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?ng(t.config,s):`${t.config.apiScheme}://${s}`;return tI.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class iI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zn(this.auth,"network-request-failed")),nI.get())})}}function mu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=zn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t,e){return ka(t,"POST","/v1/accounts:delete",e)}async function Ac(t,e){return ka(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(t,e=!1){const n=Kt(t),i=await n.getIdToken(e),s=sg(i);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Po(Ef(s.auth_time)),issuedAtTime:Po(Ef(s.iat)),expirationTime:Po(Ef(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ef(t){return Number(t)*1e3}function sg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{const s=EE(n);return s?JSON.parse(s):(Mu("Failed to decode base64 JWT payload"),null)}catch(s){return Mu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function s_(t){const e=sg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof wi&&aI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await nl(t,Ac(n,{idToken:i}));ne(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?jE(r.providerUserInfo):[],l=uI(t.providerData,a),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Nd(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function lI(t){const e=Kt(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uI(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function jE(t){return t.map(e=>{var{providerId:n}=e,i=eg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e){const n=await LE(t,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await UE(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Na(t.emulatorConfig.host)&&(u.credentials="include"),PE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hI(t,e){return ka(t,"POST","/v2/accounts:revokeToken",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=s_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await cI(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Jr;return i&&(ne(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(ne(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Nd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await nl(this,sI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,_=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,O=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:x,isAnonymous:z,providerData:F,stsTokenManager:b}=n;ne(S&&b,e,"internal-error");const v=Jr.fromJSON(this.name,b);ne(typeof S=="string",e,"internal-error"),Mi(g,e.name),Mi(m,e.name),ne(typeof x=="boolean",e,"internal-error"),ne(typeof z=="boolean",e,"internal-error"),Mi(_,e.name),Mi(O,e.name),Mi(k,e.name),Mi(D,e.name),Mi(T,e.name),Mi(E,e.name);const A=new Rn({uid:S,auth:e,email:m,emailVerified:x,displayName:g,isAnonymous:z,photoURL:O,phoneNumber:_,tenantId:k,stsTokenManager:v,createdAt:T,lastLoginAt:E});return F&&Array.isArray(F)&&(A.providerData=F.map(w=>Object.assign({},w))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,n,i=!1){const s=new Jr;s.updateFromServerResponse(n);const r=new Rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Sc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?jE(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Jr;l.updateFromIdToken(i);const u=new Rn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Nd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function ui(t){Ti(t instanceof Function,"Expected a class definition");let e=r_.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zE.type="NONE";const a_=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Vu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Vu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ac(this.auth,{idToken:e}).catch(()=>{});return n?Rn._fromGetAccountInfoResponse(this.auth,n,e):null}return Rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ea(ui(a_),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||ui(a_);const a=Vu(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await Ac(e,{idToken:d}).catch(()=>{});if(!m)break;g=await Rn._fromGetAccountInfoResponse(e,m,d)}else g=Rn._fromJSON(e,d);h!==r&&(l=g),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new ea(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new ea(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(YE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(GE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function BE(t=Vt()){return/firefox\//i.test(t)}function qE(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(t=Vt()){return/crios\//i.test(t)}function HE(t=Vt()){return/iemobile/i.test(t)}function GE(t=Vt()){return/android/i.test(t)}function QE(t=Vt()){return/blackberry/i.test(t)}function YE(t=Vt()){return/webos/i.test(t)}function rg(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fI(t=Vt()){var e;return rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dI(){return Cw()&&document.documentMode===10}function KE(t=Vt()){return rg(t)||GE(t)||YE(t)||QE(t)||/windows phone/i.test(t)||HE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e=[]){let n;switch(t){case"Browser":n=o_(Vt());break;case"Worker":n=`${o_(Vt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e={}){return ka(t,"GET","/v2/passwordPolicy",Cl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class yI{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ac(this,{idToken:e}),i=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(fi(this));const n=e?Kt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),n=new yI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$R(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xl(t){return Kt(t)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pw(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vI(t){ag=t}function TI(t){return ag.loadJS(t)}function EI(){return ag.gapiScript}function bI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){const n=Jm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if($s(r,e??{}))return s;vi(s,"already-initialized")}return n.initialize({options:e})}function SI(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wI(t,e,n){const i=xl(t);ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=$E(e),{host:a,port:l}=RI(e),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ne($s(h,i.config.emulator)&&$s(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Na(a)?(wE(`${r}//${a}${u}`),RE("Auth",!0)):II()}function $E(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RI(t){const e=$E(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:u_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:u_(a)}}}function u_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function II(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return ig(t,"POST","/v1/accounts:signInWithIdp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class Ws extends ZE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=eg(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ws(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ta(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends WE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Nl{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Hi.credential(n,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Nl{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Nl{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t,e){return ig(t,"POST","/v1/accounts:signUp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Rn._fromIdTokenResponse(e,i,s),a=c_(i);return new Ei({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=c_(i);return new Ei({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function c_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t){var e;if(_n(t.app))return Promise.reject(fi(t));const n=xl(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ei({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await xI(n,{returnSecureToken:!0}),s=await Ei._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends wi{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new wc(e,n,i,s)}}function JE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(t,r,e,i):r})}async function DI(t,e,n=!1){const i=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ei._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e,n=!1){const{auth:i}=t;if(_n(i.app))return Promise.reject(fi(i));const s="reauthenticate";try{const r=await nl(t,JE(i,s,e,t),n);ne(r.idToken,i,"internal-error");const a=sg(r.idToken);ne(a,i,"internal-error");const{sub:l}=a;return ne(t.uid===l,i,"user-mismatch"),Ei._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&vi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){if(_n(t.app))return Promise.reject(fi(t));const i="signIn",s=await JE(t,i,e),r=await Ei._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e){return ig(t,"POST","/v1/accounts:signInWithCustomToken",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e){if(_n(t.app))return Promise.reject(fi(t));const n=xl(t),i=await MI(n,{token:e,returnSecureToken:!0}),s=await Ei._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function PI(t,e,n,i){return Kt(t).onIdTokenChanged(e,n,i)}function LI(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function UI(t,e,n,i){return Kt(t).onAuthStateChanged(e,n,i)}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,zI=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);dI()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const BI=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n1.type="SESSION";const i1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await qI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=og("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(m.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function HI(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YI(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",KI=1,Ic="firebaseLocalStorage",a1="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function XI(){const t=indexedDB.deleteDatabase(r1);return new Dl(t).toPromise()}function Dd(){const t=indexedDB.open(r1,KI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ic,{keyPath:a1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ic)?e(i):(i.close(),await XI(),e(await Dd()))})})}async function h_(t,e,n){const i=oh(t,!0).put({[a1]:e,value:n});return new Dl(i).toPromise()}async function $I(t,e){const n=oh(t,!1).get(e),i=await new Dl(n).toPromise();return i===void 0?null:i.value}function f_(t,e){const n=oh(t,!0).delete(e);return new Dl(n).toPromise()}const ZI=800,WI=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>WI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dd();return await h_(e,Rc,"1"),await f_(e,Rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>h_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$I(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=oh(s,!1).getAll();return new Dl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const JI=o1;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){return e?ui(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends ZE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tC(t){return OI(t.auth,new lg(t),t.bypassAuthState)}function nC(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),kI(n,new lg(t),t.bypassAuthState)}async function iC(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),DI(n,new lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return nC;default:vi(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Il(2e3,1e4);class Hr extends l1{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Pu=new Map;class aC extends l1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const i=await oC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(t,e){const n=cC(e),i=uC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function lC(t,e){Pu.set(t._key(),e)}function uC(t){return ui(t._redirectPersistence)}function cC(t){return Vu(rC,t.config.apiKey,t.name)}async function hC(t,e,n=!1){if(_n(t.app))return Promise.reject(fi(t));const i=xl(t),s=eC(i,e),a=await new aC(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!u1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e={}){return ka(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function _C(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gC(t);for(const n of e)try{if(vC(n))return}catch{}vi(t,"unauthorized-domain")}function vC(t){const e=xd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!yC.test(n))return!1;if(pC.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Il(3e4,6e4);function m_(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EC(t){return new Promise((e,n)=>{var i,s,r;function a(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(zn(t,"network-request-failed"))},timeout:TC.get()})}if(!((s=(i=Bn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Bn().gapi)===null||r===void 0)&&r.load)a();else{const l=bI("iframefcb");return Bn()[l]=()=>{gapi.load?a():n(zn(t,"network-request-failed"))},TI(`${EI()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function bC(t){return Lu=Lu||EC(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Il(5e3,15e3),SC="__/auth/iframe",wC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ng(e,wC):`https://${t.config.authDomain}/${SC}`,i={apiKey:e.apiKey,appName:t.name,v:Da},s=IC.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Rl(i).slice(1)}`}async function xC(t){const e=await bC(t),n=Bn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:CC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=zn(t,"network-request-failed"),l=Bn().setTimeout(()=>{r(a)},AC.get());function u(){Bn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,kC=600,OC="_blank",MC="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(t,e,n,i=DC,s=kC){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},NC),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Vt().toLowerCase();n&&(l=FE(h)?OC:n),BE(h)&&(e=e||MC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,O])=>`${m}${_}=${O},`,"");if(fI(h)&&l!=="_self")return PC(e||"",l),new g_(null);const g=window.open(e||"",l,d);ne(g,t,"popup-blocked");try{g.focus()}catch{}return new g_(g)}function PC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",UC="emulator/auth/handler",jC=encodeURIComponent("fac");async function p_(t,e,n,i,s,r){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Da,eventId:s};if(e instanceof WE){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Vw(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof Nl){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${jC}=${encodeURIComponent(u)}`:"";return`${zC(t)}?${Rl(l).slice(1)}${h}`}function zC({config:t}){return t.emulator?ng(t,UC):`https://${t.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=hC,this._overrideRedirectResult=lC}async _openPopup(e,n,i,s){var r;Ti((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await p_(e,n,i,xd(),s);return VC(e,a,og())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await p_(e,n,i,xd(),s);return HI(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Ti(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xC(e),i=new dC(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bf,{type:bf},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[bf];a!==void 0&&n(!!a),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||qE()||rg()}}const qC=BC;var y_="@firebase/auth",__="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(t){ma(new Zs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(t)},h=new _I(i,s,r,u);return SI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ma(new Zs("auth-internal",e=>{const n=xl(e.getProvider("auth").getImmediate());return(i=>new FC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(y_,__,HC(t)),ls(y_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=5*60,YC=SE("authIdTokenMaxAge")||QC;let v_=null;const KC=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YC)return;const s=n==null?void 0:n.token;v_!==s&&(v_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XC(t=NE()){const e=Jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AI(t,{popupRedirectResolver:qC,persistence:[JI,BI,i1]}),i=SE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=KC(r.toString());LI(n,a,()=>a(n.currentUser)),PI(n,l=>a(l))}}const s=bE("auth");return s&&wI(n,`http://${s}`),n}function $C(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=zn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",$C().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,c1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,v){function A(){}A.prototype=v.prototype,b.D=v.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(w,I,C){for(var R=Array(arguments.length-2),It=2;It<arguments.length;It++)R[It-2]=arguments[It];return v.prototype[I].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,v,A){A||(A=0);var w=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)w[I]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(I=0;16>I;++I)w[I]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=b.g[0],A=b.g[1],I=b.g[2];var C=b.g[3],R=v+(C^A&(I^C))+w[0]+3614090360&4294967295;v=A+(R<<7&4294967295|R>>>25),R=C+(I^v&(A^I))+w[1]+3905402710&4294967295,C=v+(R<<12&4294967295|R>>>20),R=I+(A^C&(v^A))+w[2]+606105819&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(v^I&(C^v))+w[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=v+(C^A&(I^C))+w[4]+4118548399&4294967295,v=A+(R<<7&4294967295|R>>>25),R=C+(I^v&(A^I))+w[5]+1200080426&4294967295,C=v+(R<<12&4294967295|R>>>20),R=I+(A^C&(v^A))+w[6]+2821735955&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(v^I&(C^v))+w[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=v+(C^A&(I^C))+w[8]+1770035416&4294967295,v=A+(R<<7&4294967295|R>>>25),R=C+(I^v&(A^I))+w[9]+2336552879&4294967295,C=v+(R<<12&4294967295|R>>>20),R=I+(A^C&(v^A))+w[10]+4294925233&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(v^I&(C^v))+w[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=v+(C^A&(I^C))+w[12]+1804603682&4294967295,v=A+(R<<7&4294967295|R>>>25),R=C+(I^v&(A^I))+w[13]+4254626195&4294967295,C=v+(R<<12&4294967295|R>>>20),R=I+(A^C&(v^A))+w[14]+2792965006&4294967295,I=C+(R<<17&4294967295|R>>>15),R=A+(v^I&(C^v))+w[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=v+(I^C&(A^I))+w[1]+4129170786&4294967295,v=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(v^A))+w[6]+3225465664&4294967295,C=v+(R<<9&4294967295|R>>>23),R=I+(v^A&(C^v))+w[11]+643717713&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^v&(I^C))+w[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=v+(I^C&(A^I))+w[5]+3593408605&4294967295,v=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(v^A))+w[10]+38016083&4294967295,C=v+(R<<9&4294967295|R>>>23),R=I+(v^A&(C^v))+w[15]+3634488961&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^v&(I^C))+w[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=v+(I^C&(A^I))+w[9]+568446438&4294967295,v=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(v^A))+w[14]+3275163606&4294967295,C=v+(R<<9&4294967295|R>>>23),R=I+(v^A&(C^v))+w[3]+4107603335&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^v&(I^C))+w[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=v+(I^C&(A^I))+w[13]+2850285829&4294967295,v=A+(R<<5&4294967295|R>>>27),R=C+(A^I&(v^A))+w[2]+4243563512&4294967295,C=v+(R<<9&4294967295|R>>>23),R=I+(v^A&(C^v))+w[7]+1735328473&4294967295,I=C+(R<<14&4294967295|R>>>18),R=A+(C^v&(I^C))+w[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=v+(A^I^C)+w[5]+4294588738&4294967295,v=A+(R<<4&4294967295|R>>>28),R=C+(v^A^I)+w[8]+2272392833&4294967295,C=v+(R<<11&4294967295|R>>>21),R=I+(C^v^A)+w[11]+1839030562&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^v)+w[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=v+(A^I^C)+w[1]+2763975236&4294967295,v=A+(R<<4&4294967295|R>>>28),R=C+(v^A^I)+w[4]+1272893353&4294967295,C=v+(R<<11&4294967295|R>>>21),R=I+(C^v^A)+w[7]+4139469664&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^v)+w[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=v+(A^I^C)+w[13]+681279174&4294967295,v=A+(R<<4&4294967295|R>>>28),R=C+(v^A^I)+w[0]+3936430074&4294967295,C=v+(R<<11&4294967295|R>>>21),R=I+(C^v^A)+w[3]+3572445317&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^v)+w[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=v+(A^I^C)+w[9]+3654602809&4294967295,v=A+(R<<4&4294967295|R>>>28),R=C+(v^A^I)+w[12]+3873151461&4294967295,C=v+(R<<11&4294967295|R>>>21),R=I+(C^v^A)+w[15]+530742520&4294967295,I=C+(R<<16&4294967295|R>>>16),R=A+(I^C^v)+w[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=v+(I^(A|~C))+w[0]+4096336452&4294967295,v=A+(R<<6&4294967295|R>>>26),R=C+(A^(v|~I))+w[7]+1126891415&4294967295,C=v+(R<<10&4294967295|R>>>22),R=I+(v^(C|~A))+w[14]+2878612391&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~v))+w[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=v+(I^(A|~C))+w[12]+1700485571&4294967295,v=A+(R<<6&4294967295|R>>>26),R=C+(A^(v|~I))+w[3]+2399980690&4294967295,C=v+(R<<10&4294967295|R>>>22),R=I+(v^(C|~A))+w[10]+4293915773&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~v))+w[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=v+(I^(A|~C))+w[8]+1873313359&4294967295,v=A+(R<<6&4294967295|R>>>26),R=C+(A^(v|~I))+w[15]+4264355552&4294967295,C=v+(R<<10&4294967295|R>>>22),R=I+(v^(C|~A))+w[6]+2734768916&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~v))+w[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=v+(I^(A|~C))+w[4]+4149444226&4294967295,v=A+(R<<6&4294967295|R>>>26),R=C+(A^(v|~I))+w[11]+3174756917&4294967295,C=v+(R<<10&4294967295|R>>>22),R=I+(v^(C|~A))+w[2]+718787259&4294967295,I=C+(R<<15&4294967295|R>>>17),R=A+(C^(I|~v))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+I&4294967295,b.g[3]=b.g[3]+C&4294967295}i.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var A=v-this.blockSize,w=this.B,I=this.h,C=0;C<v;){if(I==0)for(;C<=A;)s(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<v;)if(w[I++]=b.charCodeAt(C++),I==this.blockSize){s(this,w),I=0;break}}else for(;C<v;)if(w[I++]=b[C++],I==this.blockSize){s(this,w),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var A=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=A&255,A/=256;for(this.u(b),b=Array(16),v=A=0;4>v;++v)for(var w=0;32>w;w+=8)b[A++]=this.g[v]>>>w&255;return b};function r(b,v){var A=l;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=v(b)}function a(b,v){this.h=v;for(var A=[],w=!0,I=b.length-1;0<=I;I--){var C=b[I]|0;w&&C==v||(A[I]=C,w=!1)}this.g=A}var l={};function u(b){return-128<=b&&128>b?r(b,function(v){return new a([v|0],0>v?-1:0)}):new a([b|0],0>b?-1:0)}function h(b){if(isNaN(b)||!isFinite(b))return g;if(0>b)return D(h(-b));for(var v=[],A=1,w=0;b>=A;w++)v[w]=b/A|0,A*=4294967296;return new a(v,0)}function d(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return D(d(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(v,8)),w=g,I=0;I<b.length;I+=8){var C=Math.min(8,b.length-I),R=parseInt(b.substring(I,I+C),v);8>C?(C=h(Math.pow(v,C)),w=w.j(C).add(h(R))):(w=w.j(A),w=w.add(h(R)))}return w}var g=u(0),m=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(k(this))return-D(this).m();for(var b=0,v=1,A=0;A<this.g.length;A++){var w=this.i(A);b+=(0<=w?w:4294967296+w)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O(this))return"0";if(k(this))return"-"+D(this).toString(b);for(var v=h(Math.pow(b,6)),A=this,w="";;){var I=x(A,v).g;A=T(A,I.j(v));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=I,O(A))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function O(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function k(b){return b.h==-1}t.l=function(b){return b=T(this,b),k(b)?-1:O(b)?0:1};function D(b){for(var v=b.g.length,A=[],w=0;w<v;w++)A[w]=~b.g[w];return new a(A,~b.h).add(m)}t.abs=function(){return k(this)?D(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],w=0,I=0;I<=v;I++){var C=w+(this.i(I)&65535)+(b.i(I)&65535),R=(C>>>16)+(this.i(I)>>>16)+(b.i(I)>>>16);w=R>>>16,C&=65535,R&=65535,A[I]=R<<16|C}return new a(A,A[A.length-1]&-2147483648?-1:0)};function T(b,v){return b.add(D(v))}t.j=function(b){if(O(this)||O(b))return g;if(k(this))return k(b)?D(this).j(D(b)):D(D(this).j(b));if(k(b))return D(this.j(D(b)));if(0>this.l(_)&&0>b.l(_))return h(this.m()*b.m());for(var v=this.g.length+b.g.length,A=[],w=0;w<2*v;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<b.g.length;I++){var C=this.i(w)>>>16,R=this.i(w)&65535,It=b.i(I)>>>16,Y=b.i(I)&65535;A[2*w+2*I]+=R*Y,E(A,2*w+2*I),A[2*w+2*I+1]+=C*Y,E(A,2*w+2*I+1),A[2*w+2*I+1]+=R*It,E(A,2*w+2*I+1),A[2*w+2*I+2]+=C*It,E(A,2*w+2*I+2)}for(w=0;w<v;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=v;w<2*v;w++)A[w]=0;return new a(A,0)};function E(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function S(b,v){this.g=b,this.h=v}function x(b,v){if(O(v))throw Error("division by zero");if(O(b))return new S(g,g);if(k(b))return v=x(D(b),v),new S(D(v.g),D(v.h));if(k(v))return v=x(b,D(v)),new S(D(v.g),v.h);if(30<b.g.length){if(k(b)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var A=m,w=v;0>=w.l(b);)A=z(A),w=z(w);var I=F(A,1),C=F(w,1);for(w=F(w,2),A=F(A,2);!O(w);){var R=C.add(w);0>=R.l(b)&&(I=I.add(A),C=R),w=F(w,1),A=F(A,1)}return v=T(b,I.j(v)),new S(I,v)}for(I=g;0<=b.l(v);){for(A=Math.max(1,Math.floor(b.m()/v.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=h(A),R=C.j(v);k(R)||0<R.l(b);)A-=w,C=h(A),R=C.j(v);O(C)&&(C=m),I=I.add(C),b=T(b,R)}return new S(I,b)}t.A=function(b){return x(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],w=0;w<v;w++)A[w]=this.i(w)&b.i(w);return new a(A,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],w=0;w<v;w++)A[w]=this.i(w)|b.i(w);return new a(A,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),A=[],w=0;w<v;w++)A[w]=this.i(w)^b.i(w);return new a(A,this.h^b.h)};function z(b){for(var v=b.g.length+1,A=[],w=0;w<v;w++)A[w]=b.i(w)<<1|b.i(w-1)>>>31;return new a(A,b.h)}function F(b,v){var A=v>>5;v%=32;for(var w=b.g.length-A,I=[],C=0;C<w;C++)I[C]=0<v?b.i(C+A)>>>v|b.i(C+A+1)<<32-v:b.i(C+A);return new a(I,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,us=a}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,po,f1,Uu,kd,d1,m1,g1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof gu=="object"&&gu];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)e:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var N=o[y];if(!(N in f))break e;f=f[N]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function r(o,c){o instanceof String&&(o+="");var f=0,y=!1,N={next:function(){if(!y&&f<o.length){var M=f++;return{value:c(M,o[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(o){return o||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),o.apply(c,N)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function O(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(y,N,M){for(var q=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)q[xe-2]=arguments[xe];return c.prototype[N].apply(y,q)}}function k(o){const c=o.length;if(0<c){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function D(o,c){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const N=o.length||0,M=y.length||0;o.length=N+M;for(let q=0;q<M;q++)o[N+q]=y[q]}else o.push(y)}}class T{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function x(o){return x[" "](o),o}x[" "]=function(){};var z=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function F(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function b(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,c){let f,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(f in y)o[f]=y[f];for(let M=0;M<A.length;M++)f=A[M],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function R(){var o=he;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class It{constructor(){this.h=this.g=null}add(c,f){const y=Y.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Y=new T(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let U,G=!1,he=new It,je=()=>{const o=l.Promise.resolve(void 0);U=()=>{o.then(Pt)}};var Pt=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(f){C(f)}var c=Y;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}G=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function hn(o,c){if(Te.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(z){e:{try{x(c.nodeName);var N=!0;break e}catch{}N=!1}N||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ll[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&hn.aa.h.call(this)}}O(hn,Te);var Ll={2:"touch",3:"pen",4:"mouse"};hn.prototype.h=function(){hn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),bh=0;function ur(o,c,f,y,N){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=N,this.key=++bh,this.da=this.fa=!1}function As(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Kn(o){this.src=o,this.g={},this.h=0}Kn.prototype.add=function(o,c,f,y,N){var M=o.toString();o=this.g[M],o||(o=this.g[M]=[],this.h++);var q=Ua(o,c,y,N);return-1<q?(c=o[q],f||(c.fa=!1)):(c=new ur(c,this.src,M,!!y,N),c.fa=f,o.push(c)),c};function cr(o,c){var f=c.type;if(f in o.g){var y=o.g[f],N=Array.prototype.indexOf.call(y,c,void 0),M;(M=0<=N)&&Array.prototype.splice.call(y,N,1),M&&(As(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ua(o,c,f,y){for(var N=0;N<o.length;++N){var M=o[N];if(!M.da&&M.listener==c&&M.capture==!!f&&M.ha==y)return N}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),Ae={};function Ri(o,c,f,y,N){if(Array.isArray(c)){for(var M=0;M<c.length;M++)Ri(o,c[M],f,y,N);return null}return f=Ba(f),o&&o[Zt]?o.K(c,f,h(y)?!!y.capture:!1,N):ja(o,c,f,!1,y,N)}function ja(o,c,f,y,N,M){if(!c)throw Error("Invalid event type");var q=h(N)?!!N.capture:!!N,xe=Dn(o);if(xe||(o[hr]=xe=new Kn(o)),f=xe.add(c,f,y,q,M),f.proxy)return f;if(y=Ss(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)$t||(N=q),N===void 0&&(N=!1),o.addEventListener(c.toString(),y,N);else if(o.attachEvent)o.attachEvent(ws(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ss(){function o(f){return c.call(o.src,o.listener,f)}const c=Ah;return o}function Bt(o,c,f,y,N){if(Array.isArray(c))for(var M=0;M<c.length;M++)Bt(o,c[M],f,y,N);else y=h(y)?!!y.capture:!!y,f=Ba(f),o&&o[Zt]?(o=o.i,c=String(c).toString(),c in o.g&&(M=o.g[c],f=Ua(M,f,y,N),-1<f&&(As(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete o.g[c],o.h--)))):o&&(o=Dn(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Ua(c,f,y,N)),(f=-1<o?c[o]:null)&&za(f))}function za(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Zt])cr(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(ws(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=Dn(c))?(cr(f,o),f.h==0&&(f.src=null,c[hr]=null)):As(o)}}}function ws(o){return o in Ae?Ae[o]:Ae[o]="on"+o}function Ah(o,c){if(o.da)o=!0;else{c=new hn(c,this);var f=o.listener,y=o.ha||o.src;o.fa&&za(o),o=f.call(y,c)}return o}function Dn(o){return o=o[hr],o instanceof Kn?o:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ba(o){return typeof o=="function"?o:(o[fr]||(o[fr]=function(c){return o.handleEvent(c)}),o[fr])}function st(){ct.call(this),this.i=new Kn(this),this.M=this,this.F=null}O(st,ct),st.prototype[Zt]=!0,st.prototype.removeEventListener=function(o,c,f,y){Bt(this,o,c,f,y)};function ht(o,c){var f,y=o.F;if(y)for(f=[];y;y=y.F)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new Te(c,o);else if(c instanceof Te)c.target=c.target||o;else{var N=c;c=new Te(y,o),w(c,N)}if(N=!0,f)for(var M=f.length-1;0<=M;M--){var q=c.g=f[M];N=Rs(q,y,!0,c)&&N}if(q=c.g=o,N=Rs(q,y,!0,c)&&N,N=Rs(q,y,!1,c)&&N,f)for(M=0;M<f.length;M++)q=c.g=f[M],N=Rs(q,y,!1,c)&&N}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],y=0;y<f.length;y++)As(f[y]);delete o.g[c],o.h--}}this.F=null},st.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},st.prototype.L=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function Rs(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,M=0;M<c.length;++M){var q=c[M];if(q&&!q.da&&q.capture==f){var xe=q.listener,Tt=q.ha||q.src;q.fa&&cr(o.i,q),N=xe.call(Tt,y)!==!1&&N}}return N&&!y.defaultPrevented}function Ul(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function qa(o){o.g=Ul(()=>{o.g=null,o.i&&(o.i=!1,qa(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class dr extends ct{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(o){ct.call(this),this.h=o,this.g={}}O(Xn,ct);var Fa=[];function jl(o){F(o.g,function(c,f){this.g.hasOwnProperty(f)&&za(c)},o),o.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),jl(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=l.JSON.stringify,Is=l.JSON.parse,Sh=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ha(){}Ha.prototype.h=null;function Ga(o){return o.h||(o.h=o.i())}function Ii(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){Te.call(this,"d")}O(mr,Te);function gr(){Te.call(this,"c")}O(gr,Te);var $n={},Ci=null;function pr(){return Ci=Ci||new st}$n.La="serverreachability";function Qa(o){Te.call(this,$n.La,o)}O(Qa,Te);function xi(o){const c=pr();ht(c,new Qa(c))}$n.STAT_EVENT="statevent";function Ya(o,c){Te.call(this,$n.STAT_EVENT,o),this.stat=c}O(Ya,Te);function ft(o){const c=pr();ht(c,new Ya(c,o))}$n.Ma="timingevent";function yr(o,c){Te.call(this,$n.Ma,o),this.size=c}O(yr,Te);function Cs(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function wh(o,c,f,y,N,M){o.info(function(){if(o.g)if(M)for(var q="",xe=M.split("&"),Tt=0;Tt<xe.length;Tt++){var pe=xe[Tt].split("=");if(1<pe.length){var Ct=pe[0];pe=pe[1];var xt=Ct.split("_");q=2<=xt.length&&xt[1]=="type"?q+(Ct+"="+pe+"&"):q+(Ct+"=redacted&")}}else q=null;else q=M;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+c+`
`+f+`
`+q})}function Rh(o,c,f,y,N,M,q){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+c+`
`+f+`
`+M+" "+q})}function j(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Z(o,f)+(y?" "+y:"")})}function X(o,c){o.info(function(){return"TIMEOUT: "+c})}xs.prototype.info=function(){};function Z(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var y=f[o];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(var q=1;q<N.length;q++)N[q]=""}}}}return ae(f)}catch{return c}}var $={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function ke(){}O(ke,Ha),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},Se=new ke;function we(o,c,f,y){this.j=o,this.i=c,this.l=f,this.R=y||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var mt={},Re={};function We(o,c,f){o.L=1,o.v=Hl(Zn(c)),o.m=f,o.P=!0,ze(o,null)}function ze(o,c){o.F=Date.now(),Je(o),o.A=Zn(o.v);var f=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),Jg(f.i,"t",y),o.C=0,f=o.j.J,o.h=new dt,o.g=yp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new dr(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,y=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(Fa[0]=N.toString()),N=Fa);for(var M=0;M<N.length;M++){var q=Ri(f,N[M],y||c.handleEvent,!1,c.h||c);if(!q)break;c.g[q.key]=q}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),xi(),wh(o.i,o.u,o.A,o.l,o.R,o.m)}we.prototype.ca=function(o){o=o.target;const c=this.M;c&&Wn(o)==3?c.j():this.Y(o)},we.prototype.Y=function(o){try{if(o==this.g)e:{const xt=Wn(this.g);var c=this.g.Ba();const Er=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||ap(this.g)))){this.J||xt!=4||c==7||(c==8||0>=Er?xi(3):xi(2)),Wt(this);var f=this.g.Z();this.X=f;t:if(Qe(this)){var y=ap(this.g);o="";var N=y.length,M=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),qt(this);var q="";break t}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,o+=this.h.i.decode(y[c],{stream:!(M&&c==N-1)});y.length=0,this.h.g+=o,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,Rh(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Tt=this.g;if((xe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xe)){var pe=xe;break t}}pe=null}if(f=pe)j(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,f);else{this.o=!1,this.s=3,ft(12),Jt(this),qt(this);break e}}if(this.P){f=!0;let An;for(;!this.J&&this.C<q.length;)if(An=Ye(this,q),An==Re){xt==4&&(this.s=4,ft(14),f=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(An==mt){this.s=4,ft(15),j(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else j(this.i,this.l,An,null),_r(this,An);if(Qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||q.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)j(this.i,this.l,q,"[Invalid Chunked Response]"),Jt(this),qt(this);else if(0<q.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),kh(Ct),Ct.M=!0,ft(11))}}else j(this.i,this.l,q,null),_r(this,q);xt==4&&Jt(this),this.o&&!this.J&&(xt==4?dp(this.j,this):(this.o=!1,Je(this)))}else h2(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Jt(this),qt(this)}}}catch{}finally{}};function Qe(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ye(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Re:(f=Number(c.substring(f,y)),isNaN(f)?mt:(y+=1,y+f>c.length?Re:(c=c.slice(y,y+f),o.C=y+f,c)))}we.prototype.cancel=function(){this.J=!0,Jt(this)};function Je(o){o.S=Date.now()+o.I,Ke(o,o.I)}function Ke(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Cs(m(o.ba,o),c)}function Wt(o){o.B&&(l.clearTimeout(o.B),o.B=null)}we.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(X(this.i,this.A),this.L!=2&&(xi(),ft(17)),Jt(this),this.s=2,qt(this)):Ke(this,this.S-o)};function qt(o){o.j.G==0||o.J||dp(o.j,o)}function Jt(o){Wt(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,jl(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function _r(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Ih(f.h,o))){if(!o.K&&Ih(f.h,o)&&f.G==3){try{var y=f.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)$l(f),Kl(f);else break e;Dh(f),ft(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=Cs(m(f.Za,f),6e3));if(1>=Bl(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ds(f,11)}else if((o.K||f.g==o)&&$l(f),!E(c))for(N=f.Da.g.parse(c),c=0;c<N.length;c++){let pe=N[c];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];const Ct=pe[3];Ct!=null&&(f.la=Ct,f.j.info("VER="+f.la));const xt=pe[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));const Er=pe[5];Er!=null&&typeof Er=="number"&&0<Er&&(y=1.5*Er,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const An=o.g;if(An){const Wl=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var M=y.h;M.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ch(M,M.h),M.h=null))}if(y.D){const Oh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Oh&&(y.ya=Oh,Oe(y.I,y.D,Oh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var q=o;if(y.qa=pp(y,y.J?y.ia:null,y.W),q.K){Gg(y.h,q);var xe=q,Tt=y.L;Tt&&(xe.I=Tt),xe.B&&(Wt(xe),Je(xe)),y.g=q}else hp(y);0<f.i.length&&Xl(f)}else pe[0]!="stop"&&pe[0]!="close"||Ds(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Ds(f,7):Nh(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}xi(4)}catch{}}var zl=class{constructor(o,c){this.g=o,this.map=c}};function Ka(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Bl(o){return o.h?1:o.g?o.g.size:0}function Ih(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Ch(o,c){o.g?o.g.add(c):o.h=c}function Gg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Ka.prototype.cancel=function(){if(this.i=Qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Qg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return k(o.i)}function $b(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,y=0;y<f;y++)c.push(o[y]);return c}c=[],f=0;for(y in o)c[f++]=o[y];return c}function Zb(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const y in o)c[f++]=y;return c}}}function Yg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=Zb(o),y=$b(o),N=y.length,M=0;M<N;M++)c.call(void 0,y[M],f&&f[M],o)}var Kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wb(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var y=o[f].indexOf("="),N=null;if(0<=y){var M=o[f].substring(0,y);N=o[f].substring(y+1)}else M=o[f];c(M,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ns(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ns){this.h=o.h,ql(this,o.j),this.o=o.o,this.g=o.g,Fl(this,o.s),this.l=o.l;var c=o.i,f=new Wa;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Xg(this,f),this.m=o.m}else o&&(c=String(o).match(Kg))?(this.h=!1,ql(this,c[1]||"",!0),this.o=$a(c[2]||""),this.g=$a(c[3]||"",!0),Fl(this,c[4]),this.l=$a(c[5]||"",!0),Xg(this,c[6]||"",!0),this.m=$a(c[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}Ns.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Za(c,$g,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Za(c,$g,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Za(f,f.charAt(0)=="/"?t2:e2,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Za(f,i2)),o.join("")};function Zn(o){return new Ns(o)}function ql(o,c,f){o.j=f?$a(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Fl(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Xg(o,c,f){c instanceof Wa?(o.i=c,s2(o.i,o.h)):(f||(c=Za(c,n2)),o.i=new Wa(c,o.h))}function Oe(o,c,f){o.i.set(c,f)}function Hl(o){return Oe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function $a(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Za(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,Jb),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Jb(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var $g=/[#\/\?@]/g,e2=/[#\?:]/g,t2=/[#\?]/g,n2=/[#\?@]/g,i2=/#/g;function Wa(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Ni(o){o.g||(o.g=new Map,o.h=0,o.i&&Wb(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Wa.prototype,t.add=function(o,c){Ni(this),this.i=null,o=vr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Zg(o,c){Ni(o),c=vr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Wg(o,c){return Ni(o),c=vr(o,c),o.g.has(c)}t.forEach=function(o,c){Ni(this),this.g.forEach(function(f,y){f.forEach(function(N){o.call(c,N,y,this)},this)},this)},t.na=function(){Ni(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let y=0;y<c.length;y++){const N=o[y];for(let M=0;M<N.length;M++)f.push(c[y])}return f},t.V=function(o){Ni(this);let c=[];if(typeof o=="string")Wg(this,o)&&(c=c.concat(this.g.get(vr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return Ni(this),this.i=null,o=vr(this,o),Wg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Jg(o,c,f){Zg(o,c),0<f.length&&(o.i=null,o.g.set(vr(o,c),k(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var y=c[f];const M=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var N=M;q[y]!==""&&(N+="="+encodeURIComponent(String(q[y]))),o.push(N)}}return this.i=o.join("&")};function vr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function s2(o,c){c&&!o.j&&(Ni(o),o.i=null,o.g.forEach(function(f,y){var N=y.toLowerCase();y!=N&&(Zg(this,y),Jg(this,N,f))},o)),o.j=c}function r2(o,c){const f=new xs;if(l.Image){const y=new Image;y.onload=_(Di,f,"TestLoadImage: loaded",!0,c,y),y.onerror=_(Di,f,"TestLoadImage: error",!1,c,y),y.onabort=_(Di,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=_(Di,f,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function a2(o,c){const f=new xs,y=new AbortController,N=setTimeout(()=>{y.abort(),Di(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(M=>{clearTimeout(N),M.ok?Di(f,"TestPingServer: ok",!0,c):Di(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),Di(f,"TestPingServer: error",!1,c)})}function Di(o,c,f,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(f)}catch{}}function o2(){this.g=new Sh}function l2(o,c,f){const y=f||"";try{Yg(o,function(N,M){let q=N;h(N)&&(q=ae(N)),c.push(y+M+"="+encodeURIComponent(q))})}catch(N){throw c.push(y+"type="+encodeURIComponent("_badmap")),N}}function Gl(o){this.l=o.Ub||null,this.j=o.eb||!1}O(Gl,Ha),Gl.prototype.g=function(){return new Ql(this.l,this.j)},Gl.prototype.i=function(o){return function(){return o}}({});function Ql(o,c){st.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ql,st),t=Ql.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,eo(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,eo(this)),this.g&&(this.readyState=3,eo(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ep(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ep(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ja(this):eo(this),this.readyState==3&&ep(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Ja(this))},t.Qa=function(o){this.g&&(this.response=o,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(o){o.readyState=4,o.l=null,o.j=null,o.v=null,eo(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function eo(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function tp(o){let c="";return F(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function xh(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=tp(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Oe(o,c,f))}function Fe(o){st.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Fe,st);var u2=/^https?$/i,c2=["POST","PUT"];t=Fe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?Ga(this.o):Ga(Se),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(M){np(this,M);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)f.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(c2,c,void 0))||y||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,q]of f)this.g.setRequestHeader(M,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rp(this),this.u=!0,this.g.send(o),this.u=!1}catch(M){np(this,M)}};function np(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,ip(o),Yl(o)}function ip(o){o.A||(o.A=!0,ht(o,"complete"),ht(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ht(this,"complete"),ht(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sp(this):this.bb())},t.bb=function(){sp(this)};function sp(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Wn(o)!=4||o.Z()!=2)){if(o.u&&Wn(o)==4)Ul(o.Ea,0,o);else if(ht(o,"readystatechange"),Wn(o)==4){o.h=!1;try{const q=o.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=q===0){var N=String(o.D).match(Kg)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),y=!u2.test(N?N.toLowerCase():"")}f=y}if(f)ht(o,"complete"),ht(o,"success");else{o.m=6;try{var M=2<Wn(o)?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.Z()+"]",ip(o)}}finally{Yl(o)}}}}function Yl(o,c){if(o.g){rp(o);const f=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ht(o,"ready");try{f.onreadystatechange=y}catch{}}}function rp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Wn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Is(c)}};function ap(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(o){const c={};o=(o.g&&2<=Wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(E(o[y]))continue;var f=I(o[y]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=c[N]||[];c[N]=M,M.push(f)}b(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function op(o){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,o),this.cb=to("retryDelaySeedMs",1e4,o),this.Wa=to("forwardChannelMaxRetries",2,o),this.wa=to("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ka(o&&o.concurrentRequestLimit),this.Da=new o2,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=op.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,y){ft(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=pp(this,null,this.W),Xl(this)};function Nh(o){if(lp(o),o.G==3){var c=o.U++,f=Zn(o.I);if(Oe(f,"SID",o.K),Oe(f,"RID",c),Oe(f,"TYPE","terminate"),no(o,f),c=new we(o,o.j,c),c.L=2,c.v=Hl(Zn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=yp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Je(c)}gp(o)}function Kl(o){o.g&&(kh(o),o.g.cancel(),o.g=null)}function lp(o){Kl(o),o.u&&(l.clearTimeout(o.u),o.u=null),$l(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Xl(o){if(!Xa(o.h)&&!o.s){o.s=!0;var c=o.Ga;U||je(),G||(U(),G=!0),he.add(c,o),o.B=0}}function f2(o,c){return Bl(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Cs(m(o.Ga,o,c),mp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new we(this,this.j,o);let M=this.o;if(this.S&&(M?(M=v(M),w(M,this.S)):M=this.S),this.m!==null||this.O||(N.H=M,M=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=cp(this,N,c),f=Zn(this.I),Oe(f,"RID",o),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),no(this,f),M&&(this.O?c="headers="+encodeURIComponent(String(tp(M)))+"&"+c:this.m&&xh(f,this.m,M)),Ch(this.h,N),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",c),Oe(f,"SID","null"),N.T=!0,We(N,f,null)):We(N,f,c),this.G=2}}else this.G==3&&(o?up(this,o):this.i.length==0||Xa(this.h)||up(this))};function up(o,c){var f;c?f=c.l:f=o.U++;const y=Zn(o.I);Oe(y,"SID",o.K),Oe(y,"RID",f),Oe(y,"AID",o.T),no(o,y),o.m&&o.o&&xh(y,o.m,o.o),f=new we(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=cp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ch(o.h,f),We(f,y,c)}function no(o,c){o.H&&F(o.H,function(f,y){Oe(c,y,f)}),o.l&&Yg({},function(f,y){Oe(c,y,f)})}function cp(o,c,f){f=Math.min(o.i.length,f);var y=o.l?m(o.l.Na,o.l,o):null;e:{var N=o.i;let M=-1;for(;;){const q=["count="+f];M==-1?0<f?(M=N[0].g,q.push("ofs="+M)):M=0:q.push("ofs="+M);let xe=!0;for(let Tt=0;Tt<f;Tt++){let pe=N[Tt].g;const Ct=N[Tt].map;if(pe-=M,0>pe)M=Math.max(0,N[Tt].g-100),xe=!1;else try{l2(Ct,q,"req"+pe+"_")}catch{y&&y(Ct)}}if(xe){y=q.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,y}function hp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;U||je(),G||(U(),G=!0),he.add(c,o),o.v=0}}function Dh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Cs(m(o.Fa,o),mp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Cs(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Kl(this),fp(this))};function kh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function fp(o){o.g=new we(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Zn(o.qa);Oe(c,"RID","rpc"),Oe(c,"SID",o.K),Oe(c,"AID",o.T),Oe(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Oe(c,"TO",o.ja),Oe(c,"TYPE","xmlhttp"),no(o,c),o.m&&o.o&&xh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Hl(Zn(c)),f.m=null,f.P=!0,ze(f,o)}t.Za=function(){this.C!=null&&(this.C=null,Kl(this),Dh(this),ft(19))};function $l(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function dp(o,c){var f=null;if(o.g==c){$l(o),kh(o),o.g=null;var y=2}else if(Ih(o.h,c))f=c.D,Gg(o.h,c),y=1;else return;if(o.G!=0){if(c.o)if(y==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var N=o.B;y=pr(),ht(y,new yr(y,f)),Xl(o)}else hp(o);else if(N=c.s,N==3||N==0&&0<c.X||!(y==1&&f2(o,c)||y==2&&Dh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),N){case 1:Ds(o,5);break;case 4:Ds(o,10);break;case 3:Ds(o,6);break;default:Ds(o,2)}}}function mp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Ds(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),y=o.Xa;const N=!y;y=new Ns(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ql(y,"https"),Hl(y),N?r2(y.toString(),f):a2(y.toString(),f)}else ft(2);o.G=0,o.l&&o.l.sa(c),gp(o),lp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function gp(o){if(o.G=0,o.ka=[],o.l){const c=Qg(o.h);(c.length!=0||o.i.length!=0)&&(D(o.ka,c),D(o.ka,o.i),o.h.i.length=0,k(o.i),o.i.length=0),o.l.ra()}}function pp(o,c,f){var y=f instanceof Ns?Zn(f):new Ns(f);if(y.g!="")c&&(y.g=c+"."+y.g),Fl(y,y.s);else{var N=l.location;y=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var M=new Ns(null);y&&ql(M,y),c&&(M.g=c),N&&Fl(M,N),f&&(M.l=f),y=M}return f=o.D,c=o.ya,f&&c&&Oe(y,f,c),Oe(y,"VER",o.la),no(o,y),y}function yp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Fe(new Gl({eb:f})):new Fe(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _p(){}t=_p.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zl(){}Zl.prototype.g=function(o,c){return new en(o,c)};function en(o,c){st.call(this),this.g=new op(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!E(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Tr(this)}O(en,st),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Nh(this.g)},en.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=ae(o),o=f);c.i.push(new zl(c.Ya++,o)),c.G==3&&Xl(c)},en.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,en.aa.N.call(this)};function vp(o){mr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}O(vp,mr);function Tp(){gr.call(this),this.status=1}O(Tp,gr);function Tr(o){this.g=o}O(Tr,_p),Tr.prototype.ua=function(){ht(this.g,"a")},Tr.prototype.ta=function(o){ht(this.g,new vp(o))},Tr.prototype.sa=function(o){ht(this.g,new Tp)},Tr.prototype.ra=function(){ht(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,g1=function(){return new Zl},m1=function(){return pr()},d1=$n,kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$.NO_ERROR=0,$.TIMEOUT=8,$.HTTP_ERROR=6,Uu=$,W.COMPLETE="complete",f1=W,Ii.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",st.prototype.listen=st.prototype.K,po=Ii,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,h1=Fe}).apply(typeof gu<"u"?gu:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",b_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Zm("@firebase/firestore");function Cr(){return Js.logLevel}function Q(t,...e){if(Js.logLevel<=fe.DEBUG){const n=e.map(ug);Js.debug(`Firestore (${Oa}): ${t}`,...n)}}function bi(t,...e){if(Js.logLevel<=fe.ERROR){const n=e.map(ug);Js.error(`Firestore (${Oa}): ${t}`,...n)}}function ga(t,...e){if(Js.logLevel<=fe.WARN){const n=e.map(ug);Js.warn(`Firestore (${Oa}): ${t}`,...n)}}function ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,p1(t,i,n)}function p1(t,e,n){let i=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw bi(i),new Error(i)}function ve(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||p1(e,s,i)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new cs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string",31837,{l:i}),new y1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class ex{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tx{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new ex(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const i=r=>{r.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=ix(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function Od(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return oe(i,s);{const r=_1(),a=sx(r.encode(S_(t,n)),r.encode(S_(e,n)));return a!==0?a:oe(i,s)}}n+=i>65535?2:1}return oe(t.length,e.length)}function S_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sx(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function pa(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,R_=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*R_);return new ot(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w_)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ot(0,0))}static max(){return new ie(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Mn{constructor(e,n,i){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Mn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return oe(e.length,n.length)}static compareSegments(e,n){const i=Mn.isNumericId(e),s=Mn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Od(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Me extends Mn{construct(e,n,i){return new Me(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Mn{construct(e,n,i){return new St(e,n,i)}static isValidIdentifier(e){return rx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new St([I_])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Me.fromString(e))}static fromName(e){return new J(Me.fromString(e).popFirst(5))}static empty(){return new J(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function ax(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new gs(s,J.empty(),e)}function ox(t){return new gs(t.readTime,t.key,il)}class gs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new gs(ie.min(),J.empty(),il)}static max(){return new gs(ie.max(),J.empty(),il)}}function lx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==ux)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,i)=>{n(e)})}static reject(e){return new V((n,i)=>{i(e)})}static waitFor(e){return new V((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=V.resolve(!1);for(const i of e)n=n.next(s=>s?V.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new V((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new V((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function hx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function uh(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function fx(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="";function dx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=C_(e)),e=mx(t.get(n),e);return C_(e)}function mx(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case T1:n+="";break;default:n+=r}}return n}function C_(t){return t+T1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??bt.RED,this.left=s??bt.EMPTY,this.right=r??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new bt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new In([])}unionWith(e){let n=new lt(St.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new b1("Invalid base64 string: "+r):r}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=gx.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",S1="__type__",w1="__previous_value__",R1="__local_write_time__";function hg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[S1])===null||n===void 0?void 0:n.stringValue)===A1}function ch(t){const e=t.mapValue.fields[w1];return hg(e)?ch(e):e}function sl(t){const e=ps(t.mapValue.fields[R1].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,i,s,r,a,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const xc="(default)";class rl{constructor(e,n){this.projectId=e,this.database=n||xc}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===xc}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__type__",yx="__max__",yu={mapValue:{}},C1="__vector__",Nc="value";function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hg(t)?4:vx(t)?9007199254740991:_x(t)?10:11:ee(28295,{value:t})}function Gn(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ps(s.timestampValue),l=ps(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ys(s.bytesValue).isEqual(ys(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ze(s.geoPointValue.latitude)===Ze(r.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ze(s.integerValue)===Ze(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Ze(s.doubleValue),l=Ze(r.doubleValue);return a===l?Cc(a)===Cc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(x_(a)!==x_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Gn(a[u],l[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function al(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function ya(t,e){if(t===e)return 0;const n=_s(t),i=_s(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Ze(r.integerValue||r.doubleValue),u=Ze(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(sl(t),sl(e));case 5:return Od(t.stringValue,e.stringValue);case 6:return function(r,a){const l=ys(r),u=ys(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=oe(l[h],u[h]);if(d!==0)return d}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=oe(Ze(r.latitude),Ze(a.latitude));return l!==0?l:oe(Ze(r.longitude),Ze(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,u,h,d;const g=r.fields||{},m=a.fields||{},_=(l=g[Nc])===null||l===void 0?void 0:l.arrayValue,O=(u=m[Nc])===null||u===void 0?void 0:u.arrayValue,k=oe(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=O==null?void 0:O.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:k_(_,O)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===yu.mapValue&&a===yu.mapValue)return 0;if(r===yu.mapValue)return 1;if(a===yu.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=Od(u[g],d[g]);if(m!==0)return m;const _=ya(l[u[g]],h[d[g]]);if(_!==0)return _}return oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{Pe:n})}}function D_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=ps(t),i=ps(e),s=oe(n.seconds,i.seconds);return s!==0?s:oe(n.nanos,i.nanos)}function k_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=ya(n[s],i[s]);if(r)return r}return oe(n.length,i.length)}function _a(t){return Md(t)}function Md(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ps(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Md(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Md(n.fields[a])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function ju(t){switch(_s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(t);return e?16+ju(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+ju(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return rr(i.fields,(r,a)=>{s+=r.length+ju(a)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vd(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function M_(t){return!!t&&"nullValue"in t}function V_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zu(t){return!!t&&"mapValue"in t}function _x(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[I1])===null||n===void 0?void 0:n.stringValue)===C1}function Lo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Lo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(n)}setAll(e){let n=St.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Lo(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){rr(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new vn(Lo(this.value))}}function x1(t){const e=[];return rr(t.fields,(n,i)=>{const s=new St([n]);if(zu(i)){const r=x1(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,ie.min(),ie.min(),ie.min(),vn.empty(),0)}static newFoundDocument(e,n,i,s){return new kt(e,1,n,ie.min(),i,s,0)}static newNoDocument(e,n){return new kt(e,2,n,ie.min(),ie.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ie.min(),ie.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.position=e,this.inclusive=n}}function P_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=J.comparator(J.fromName(a.referenceValue),n.key):i=ya(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function L_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class nt extends N1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new bx(e,n,i):n==="array-contains"?new wx(e,i):n==="in"?new Rx(e,i):n==="not-in"?new Ix(e,i):n==="array-contains-any"?new Cx(e,i):new nt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Ax(e,i):new Sx(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ya(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new xn(e,n)}matches(e){return D1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function D1(t){return t.op==="and"}function k1(t){return Ex(t)&&D1(t)}function Ex(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function Pd(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(k1(t))return t.filters.map(e=>Pd(e)).join(",");{const e=t.filters.map(n=>Pd(n)).join(",");return`${t.op}(${e})`}}function O1(t,e){return t instanceof nt?function(i,s){return s instanceof nt&&i.op===s.op&&i.field.isEqual(s.field)&&Gn(i.value,s.value)}(t,e):t instanceof xn?function(i,s){return s instanceof xn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&O1(a,s.filters[l]),!0):!1}(t,e):void ee(19439)}function M1(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"}(t):"Filter"}class bx extends nt{constructor(e,n,i){super(e,n,i),this.key=J.fromName(i.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ax extends nt{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sx extends nt{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>J.fromName(i.referenceValue))}class wx extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&al(n.arrayValue,this.value)}}class Rx extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class Ix extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!al(this.value.arrayValue,n)}}class Cx extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function U_(t,e=null,n=[],i=[],s=null,r=null,a=null){return new xx(t,e,n,i,s,r,a)}function dg(t){const e=se(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Pd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>_a(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>_a(i)).join(",")),e.Ie=n}return e.Ie}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L_(t.startAt,e.startAt)&&L_(t.endAt,e.endAt)}function Ld(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nx(t,e,n,i,s,r,a,l){return new kl(t,e,n,i,s,r,a,l)}function hh(t){return new kl(t)}function j_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P1(t){return t.collectionGroup!==null}function Uo(t){const e=se(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new lt(St.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new kc(r,i))}),n.has(St.keyField().canonicalString())||e.Ee.push(new kc(St.keyField(),i))}return e.Ee}function qn(t){const e=se(t);return e.de||(e.de=Dx(e,Uo(t))),e.de}function Dx(t,e){if(t.limitType==="F")return U_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new kc(s.field,r)});const n=t.endAt?new Dc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Dc(t.startAt.position,t.startAt.inclusive):null;return U_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ud(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jd(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return mg(qn(t),qn(e))&&t.limitType===e.limitType}function L1(t){return`${dg(qn(t))}|lt:${t.limitType}`}function xr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>M1(s)).join(", ")}]`),uh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>_a(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>_a(s)).join(",")),`Target(${i})`}(qn(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):J.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Uo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=P_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Uo(i),s)||i.endAt&&!function(a,l,u){const h=P_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Uo(i),s))}(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U1(t){return(e,n)=>{let i=!1;for(const s of Uo(t)){const r=Ox(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Ox(t,e,n){const i=t.field.isKeyField()?J.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?ya(u,h):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new qe(J.comparator);function Ai(){return Mx}const j1=new qe(J.comparator);function yo(...t){let e=j1;for(const n of t)e=e.insert(n.key,n);return e}function z1(t){let e=j1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Us(){return jo()}function B1(){return jo()}function jo(){return new ar(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vx=new qe(J.comparator),Px=new lt(J.comparator);function de(...t){let e=Px;for(const n of t)e=e.add(n);return e}const Lx=new lt(oe);function Ux(){return Lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function q1(t){return{integerValue:""+t}}function jx(t,e){return fx(e)?q1(e):gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function zx(t,e,n){return t instanceof Oc?function(s,r){const a={fields:{[S1]:{stringValue:A1},[R1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&hg(r)&&(r=ch(r)),r&&(a.fields[w1]=r),{mapValue:a}}(n,e):t instanceof ol?H1(t,e):t instanceof ll?G1(t,e):function(s,r){const a=F1(s,r),l=z_(a)+z_(s.Re);return Vd(a)&&Vd(s.Re)?q1(l):gg(s.serializer,l)}(t,e)}function Bx(t,e,n){return t instanceof ol?H1(t,e):t instanceof ll?G1(t,e):n}function F1(t,e){return t instanceof Mc?function(i){return Vd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Oc extends mh{}class ol extends mh{constructor(e){super(),this.elements=e}}function H1(t,e){const n=Q1(e);for(const i of t.elements)n.some(s=>Gn(s,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends mh{constructor(e){super(),this.elements=e}}function G1(t,e){let n=Q1(e);for(const i of t.elements)n=n.filter(s=>!Gn(s,i));return{arrayValue:{values:n}}}class Mc extends mh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function z_(t){return Ze(t.integerValue||t.doubleValue)}function Q1(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qx(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof ol&&s instanceof ol||i instanceof ll&&s instanceof ll?pa(i.elements,s.elements,Gn):i instanceof Mc&&s instanceof Mc?Gn(i.Re,s.Re):i instanceof Oc&&s instanceof Oc}(t.transform,e.transform)}class Fx{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function Y1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pg(t.key,Fn.none()):new Ol(t.key,t.data,Fn.none());{const n=t.data,i=vn.empty();let s=new lt(St.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new or(t.key,i,new In(s.toArray()),Fn.none())}}function Hx(t,e,n){t instanceof Ol?function(s,r,a){const l=s.value.clone(),u=q_(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof or?function(s,r,a){if(!Bu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=q_(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(K1(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function zo(t,e,n,i){return t instanceof Ol?function(r,a,l,u){if(!Bu(r.precondition,a))return l;const h=r.value.clone(),d=F_(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof or?function(r,a,l,u){if(!Bu(r.precondition,a))return l;const h=F_(r.fieldTransforms,u,a),d=a.data;return d.setAll(K1(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(r,a,l){return Bu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Gx(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=F1(i.transform,s||null);r!=null&&(n===null&&(n=vn.empty()),n.set(i.field,r))}return n||null}function B_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&pa(i,s,(r,a)=>qx(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends gh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class or extends gh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function K1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function q_(t,e,n){const i=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,Bx(a,l,n[s]))}return i}function F_(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,zx(r,a,e))}return i}class pg extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qx extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&Hx(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=zo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=zo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=B1();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=Y1(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,i)=>B_(n,i))&&pa(this.baseMutations,e.baseMutations,(n,i)=>B_(n,i))}}class yg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ve(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return Vx}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new yg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,me;function $x(t){switch(t){case L.OK:return ee(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function X1(t){if(t===void 0)return bi("GRPC error has no .code"),L.UNKNOWN;switch(t){case et.OK:return L.OK;case et.CANCELLED:return L.CANCELLED;case et.UNKNOWN:return L.UNKNOWN;case et.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case et.INTERNAL:return L.INTERNAL;case et.UNAVAILABLE:return L.UNAVAILABLE;case et.UNAUTHENTICATED:return L.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case et.NOT_FOUND:return L.NOT_FOUND;case et.ALREADY_EXISTS:return L.ALREADY_EXISTS;case et.PERMISSION_DENIED:return L.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case et.ABORTED:return L.ABORTED;case et.OUT_OF_RANGE:return L.OUT_OF_RANGE;case et.UNIMPLEMENTED:return L.UNIMPLEMENTED;case et.DATA_LOSS:return L.DATA_LOSS;default:return ee(39323,{code:t})}}(me=et||(et={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new us([4294967295,4294967295],0);function H_(t){const e=_1().encode(t),n=new c1;return n.update(e),new Uint8Array(n.digest())}function G_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new us([n,i],0),new us([s,r],0)]}class _g{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(i<0)throw new _o(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=us.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(us.fromNumber(i)));return s.compare(Zx)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=H_(e),[i,s]=G_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new _g(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=H_(e),[i,s]=G_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ph(ie.min(),s,new qe(oe),Ai(),de())}}class Ml{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ml(i,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class $1{constructor(e,n){this.targetId=e,this.Ce=n}}class Z1{constructor(e,n,i=Rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Q_{constructor(){this.Fe=0,this.Me=Y_(),this.xe=Rt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=de(),n=de(),i=de();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ee(38017,{changeType:r})}}),new Ml(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=Y_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Wx{constructor(e){this.ze=e,this.je=new Map,this.He=Ai(),this.Je=_u(),this.Ye=_u(),this.Ze=new qe(oe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const r=s.target;if(Ld(r))if(i===0){const a=new J(r.path);this.tt(n,a,kt.newNoDocument(a,ie.min()))}else ve(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=ys(i).toUint8Array()}catch(u){if(u instanceof b1)return ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new _g(a,s,r)}catch(u){return ga(u instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),s++)}),s}It(e){const n=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&Ld(l.target)){const u=new J(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,kt.newNoDocument(u,e))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=de();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(e));const s=new ph(e,n,this.Ze,this.He,i);return this.He=Ai(),this.Je=_u(),this.Ye=_u(),this.Ze=new qe(oe),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Q_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new lt(oe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new lt(oe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Q_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _u(){return new qe(J.comparator)}function Y_(){return new qe(J.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class nN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zd(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function Vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iN(t,e){return Vc(t,e.toTimestamp())}function Hn(t){return ve(!!t,49232),ie.fromTimestamp(function(n){const i=ps(n);return new ot(i.seconds,i.nanos)}(t))}function vg(t,e){return Bd(t,e).canonicalString()}function Bd(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J1(t){const e=Me.fromString(t);return ve(sb(e),10190,{key:e.toString()}),e}function qd(t,e){return vg(t.databaseId,e.path)}function Af(t,e){const n=J1(e);if(n.get(1)!==t.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(tb(n))}function eb(t,e){return vg(t.databaseId,e)}function sN(t){const e=J1(t);return e.length===4?Me.emptyPath():tb(e)}function Fd(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tb(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function K_(t,e,n){return{name:qd(t,e),fields:n.value.mapValue.fields}}function rN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(ve(d===void 0||typeof d=="string",58123),Rt.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Rt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:X1(h.code);return new K(d,h.message||"")}(a);n=new Z1(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Af(t,i.document.name),r=Hn(i.document.updateTime),a=i.document.createTime?Hn(i.document.createTime):ie.min(),l=new vn({mapValue:{fields:i.document.fields}}),u=kt.newFoundDocument(s,r,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new qu(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Af(t,i.document),r=i.readTime?Hn(i.readTime):ie.min(),a=kt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new qu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Af(t,i.document),r=i.removedTargetIds||[];n=new qu([],r,s,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new Xx(s,r),l=i.targetId;n=new $1(l,a)}}return n}function aN(t,e){let n;if(e instanceof Ol)n={update:K_(t,e.key,e.value)};else if(e instanceof pg)n={delete:qd(t,e.key)};else if(e instanceof or)n={update:K_(t,e.key,e.data),updateMask:gN(e.fieldMask)};else{if(!(e instanceof Qx))return ee(16599,{ft:e.type});n={verify:qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Oc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ol)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ll)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw ee(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:iN(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ee(27497)}(t,e.precondition)),n}function oN(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Hn(s.updateTime):Hn(r);return a.isEqual(ie.min())&&(a=Hn(r)),new Fx(a,s.transformResults||[])}(n,e))):[]}function lN(t,e){return{documents:[eb(t,e.path)]}}function uN(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=eb(t,s);const r=function(h){if(h.length!==0)return ib(xn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Nr(m.field),direction:fN(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=zd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function cN(t){let e=sN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ve(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(g){const m=nb(g);return m instanceof xn&&k1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(O){return new kc(Dr(O.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,uh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Dc(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new Dc(_,m)}(n.endAt)),Nx(e,s,a,r,l,"F",u,h)}function hN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Dr(n.unaryFilter.field);return nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Dr(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dr(n.unaryFilter.field);return nt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Dr(n.unaryFilter.field);return nt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Dr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(i=>nb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function fN(t){return Jx[t]}function dN(t){return eN[t]}function mN(t){return tN[t]}function Nr(t){return{fieldPath:t.canonicalString()}}function Dr(t){return St.fromServerFormat(t.fieldPath)}function ib(t){return t instanceof nt?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NAN"}};if(M_(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NOT_NAN"}};if(M_(n.value))return{unaryFilter:{field:Nr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(n.field),op:dN(n.op),value:n.value}}}(t):t instanceof xn?function(n){const i=n.getFilters().map(s=>ib(s));return i.length===1?i[0]:{compositeFilter:{op:mN(n.op),filters:i}}}(t):ee(54877,{filter:t})}function gN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,s,r=ie.min(),a=ie.min(),l=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.wt=e}}function yN(t){const e=cN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Cn=new vN}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(gs.min())}updateCollectionGroup(e,n,i){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class vN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new lt(Me.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new lt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(rb,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new va(0)}static lr(){return new va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",TN=1048576;function Z_([t,e],[n,i]){const s=oe(t,n);return s===0?oe(e,i):s}class EN{constructor(e){this.Er=e,this.buffer=new lt(Z_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Z_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Q($_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Va(n)?Q($_,"Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.mr(3e5)})}}class AN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return V.resolve(lh.le);const i=new EN(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(X_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,r,a,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(h=Date.now(),Cr()<=fe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:g})))}}function SN(t,e){return new AN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&zo(i.mutation,s,In.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,de()).next(()=>i))}getLocalViewOfDocuments(e,n,i=de()){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=yo();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,de()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=Ai();const a=jo(),l=function(){return jo()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof or)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),zo(d.mutation,h,d.mutation.getFieldMask(),ot.now())):a.set(h.key,In.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new RN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const i=jo();let s=new qe((a,l)=>a-l),r=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||In.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(s.get(l.batchId)||de()).add(u);s=s.insert(l.batchId,g)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=B1();d.forEach(m=>{if(!r.has(m)){const _=Y1(n.get(m),i.get(m));_!==null&&g.set(m,_),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return V.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return J.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):V.resolve(Us());let l=il,u=r;return a.next(h=>V.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),r.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,de())).next(d=>({batchId:l,changes:z1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(i=>{let s=yo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=yo();return this.indexManager.getCollectionParents(e,r).next(l=>V.forEach(l,u=>{const h=function(g,m){return new kl(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,kt.newInvalidDocument(d)))});let l=yo();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&zo(d.mutation,h,In.empty(),ot.now()),dh(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return V.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hn(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:yN(s.bundledQuery),readTime:Hn(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.overlays=new qe(J.comparator),this.Qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Us();return V.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.St(e,n,r)}),V.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),V.resolve()}getOverlaysForCollection(e,n,i){const s=Us(),r=n.length+1,a=new J(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new qe((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=Us(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Us(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return V.resolve(l)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Kx(n,i));let r=this.Qr.get(n);r===void 0&&(r=de(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.$r=new lt(gt.Ur),this.Kr=new lt(gt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new gt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new gt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new J(new Me([])),i=new gt(n,e),s=new gt(n,e+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new J(new Me([])),i=new gt(n,e),s=new gt(n,e+1);let r=de();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new gt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class gt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return J.comparator(e.key,n.key)||oe(e.Zr,n.Zr)}static Wr(e,n){return oe(e.Zr,n.Zr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new lt(gt.Ur)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yx(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new gt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return V.resolve(a)}lookupMutationBatch(e,n){return V.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return V.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?cg:this.nr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),V.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new lt(oe);return n.forEach(s=>{const r=new gt(s,0),a=new gt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),V.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;J.isDocumentKey(r)||(r=r.child(""));const a=new gt(new J(r),0);let l=new lt(oe);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Zr)),!0)},a),V.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return V.forEach(n.mutations,s=>{const r=new gt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new gt(n,0),s=this.Xr.firstAfterOrEqual(i);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.ii=e,this.docs=function(){return new qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let i=Ai();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():kt.newInvalidDocument(s))}),V.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ai();const a=n.path,l=new J(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||lx(ox(d),i)<=0||(s.has(d.key)||dh(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return V.resolve(r)}getAllFromCollectionGroup(e,n,i,s){ee(9500)}si(e,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ON(this)}getSize(e){return V.resolve(this.size)}}class ON extends wN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),V.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.persistence=e,this.oi=new ar(n=>dg(n),mg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Tg,this.targetCount=0,this.ui=va.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),V.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new va(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Tr(n),V.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),V.waitFor(r).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return V.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),V.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),V.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return V.resolve(i)}containsKey(e,n){return V.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.ci={},this.overlays={},this.li=new lh(0),this.hi=!1,this.hi=!0,this.Pi=new NN,this.referenceDelegate=e(this),this.Ti=new MN(this),this.indexManager=new _N,this.remoteDocumentCache=function(s){return new kN(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new pN(n),this.Ei=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new DN(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){Q("MemoryPersistence","Starting transaction:",e);const s=new VN(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,n){return V.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class VN extends cx{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new Tg,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw ee(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),V.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,i=>{const s=J.fromPath(i);return this.pi(e,s).next(r=>{r||n.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return V.or([()=>V.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Pc{constructor(e,n){this.persistence=e,this.yi=new ar(i=>dx(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=SN(this,n)}static fi(e,n){return new Pc(e,n)}di(){}Ai(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return V.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?V.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,ie.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),V.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ju(e.data.value)),n}Dr(e,n,i){return V.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return V.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=de(),s=de();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new bg(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xw()?8:hx(Vt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ws(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new PN;return this.Ss(e,n,a).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>r.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(Cr()<=fe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",xr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(Cr()<=fe.DEBUG&&Q("QueryEngine","Query:",xr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Cr()<=fe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",xr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):V.resolve())}ws(e,n){if(j_(n))return V.resolve(null);let i=qn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jd(n,null,"F"),i=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=de(...r);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(e,jd(n,null,"F")):this.Fs(e,h,n,u)}))})))}bs(e,n,i,s){return j_(n)||s.isEqual(ie.min())?V.resolve(null):this.ys.getDocuments(e,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?V.resolve(null):(Cr()<=fe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xr(n)),this.Fs(e,a,n,ax(s,il)).next(l=>l))})}vs(e,n){let i=new lt(U1(e));return n.forEach((s,r)=>{dh(e,r)&&(i=i.add(r))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,n,i){return Cr()<=fe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",xr(n)),this.ys.getDocumentsMatchingQuery(e,n,gs.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",UN=3e8;class jN{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new qe(oe),this.Os=new ar(r=>dg(r),mg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function zN(t,e,n,i){return new jN(t,e,n,i)}async function ob(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=de();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function BN(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=V.resolve();return m.forEach(O=>{_=_.next(()=>d.getEntry(u,O)).next(k=>{const D=h.docVersions.get(O);ve(D!==null,48541),k.version.compareTo(D)<0&&(g.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),d.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=de();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function lb(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function qN(t,e){const n=se(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,g)=>{const m=s.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(r,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(r,d.addedDocuments,g)));let _=m.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Rt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),s=s.insert(g,_),function(k,D,T){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=UN?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(r,_))});let u=Ai(),h=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(FN(r,a,e.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(ie.min())){const d=n.Ti.getLastRemoteSnapshotVersion(r).next(g=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(d)}return V.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.xs=s,r))}function FN(t,e,n){let i=de(),s=de();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Ai();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Q(Ag,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:s}})}function HN(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function GN(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(r=>r?(s=r,V.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new Zi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Hd(t,e,n){const i=se(t),s=i.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Va(a))throw a;Q(Ag,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function W_(t,e,n){const i=se(t);let s=ie.min(),r=de();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=se(u),m=g.Os.get(d);return m!==void 0?V.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,qn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,n?s:ie.min(),n?r:de())).next(l=>(QN(i,kx(e),l),{documents:l,$s:r})))}function QN(t,e,n){let i=t.Ns.get(e)||ie.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ns.set(e,i)}class J_{constructor(){this.activeTargetIds=Ux()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YN{constructor(){this.xo=new J_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new J_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="ConnectivityMonitor";class tv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Q(ev,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Q(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function Gd(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",XN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $N{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===xc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,r){const a=Gd(),l=this.jo(e,n.toUriEncodedString());Q(Sf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,r);const{host:h}=new URL(l),d=Na(h);return this.Jo(e,l,u,i,d).then(g=>(Q(Sf,`Received RPC '${e}' ${a}: `,g),g),g=>{throw ga(Sf,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(e,n,i,s,r,a){return this.zo(e,n,i,s,r)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,n){const i=XN[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class WN extends $N{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,r){const a=Gd();return new Promise((l,u)=>{const h=new h1;h.setWithCredentials(!0),h.listenOnce(f1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Uu.NO_ERROR:const g=h.getResponseJson();Q(Nt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Uu.TIMEOUT:Q(Nt,`RPC '${e}' ${a} timed out`),u(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const m=h.getStatus();if(Q(Nt,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_==null?void 0:_.error;if(O&&O.status&&O.message){const k=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(E)>=0?E:L.UNKNOWN}(O.status);u(new K(k,O.message))}else u(new K(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(L.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Q(Nt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Q(Nt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}I_(e,n,i){const s=Gd(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=g1(),l=m1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=r.join("");Q(Nt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const O=new ZN({Zo:D=>{_?Q(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(m||(Q(Nt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),Q(Nt,`RPC '${e}' stream ${s} sending:`,D),g.send(D))},Xo:()=>g.close()}),k=(D,T,E)=>{D.listen(T,S=>{try{E(S)}catch(x){setTimeout(()=>{throw x},0)}})};return k(g,po.EventType.OPEN,()=>{_||(Q(Nt,`RPC '${e}' stream ${s} transport opened.`),O.__())}),k(g,po.EventType.CLOSE,()=>{_||(_=!0,Q(Nt,`RPC '${e}' stream ${s} transport closed`),O.u_(),this.d_(g))}),k(g,po.EventType.ERROR,D=>{_||(_=!0,ga(Nt,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),O.u_(new K(L.UNAVAILABLE,"The operation could not be completed")))}),k(g,po.EventType.MESSAGE,D=>{var T;if(!_){const E=D.data[0];ve(!!E,16349);const S=E,x=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(x){Q(Nt,`RPC '${e}' stream ${s} received error:`,x);const z=x.status;let F=function(A){const w=et[A];if(w!==void 0)return X1(w)}(z),b=x.message;F===void 0&&(F=L.INTERNAL,b="Unknown error status: "+z+" with message "+x.message),_=!0,O.u_(new K(F,b)),g.close()}else Q(Nt,`RPC '${e}' stream ${s} received:`,E),O.c_(E)}}),k(l,d1.STAT_EVENT,D=>{D.stat===kd.PROXY?Q(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===kd.NOPROXY&&Q(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new nN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class cb{constructor(e,n,i,s,r,a,l,u){this.xi=e,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ub(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{e(()=>{const s=new K(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Q(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Q(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends cb{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=rN(this.serializer,e),i=function(r){if(!("targetChange"in r))return ie.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Hn(a.readTime):ie.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=Fd(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=Ld(u)?{documents:lN(r,u)}:{query:uN(r,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=W1(r,a.resumeToken);const h=zd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ie.min())>0){l.readTime=Vc(r,a.snapshotVersion.toTimestamp());const h=zd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=hN(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=Fd(this.serializer),n.removeTarget=e,this.Q_(n)}}class e4 extends cb{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oN(e.writeResults,e.commitTime),i=Hn(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=Fd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>aN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{}class n4 extends t4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(e,Bd(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(L.UNKNOWN,r.toString())})}Yo(e,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Bd(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class i4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(bi(n),this.ua=!1):Q("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="RemoteStore";class s4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{lr(this)&&(Q(er,"Restarting streams for network reachability change."),await async function(u){const h=se(u);h.da.add(4),await Vl(h),h.Va.set("Unknown"),h.da.delete(4),await _h(h)}(this))})}),this.Va=new i4(i,s)}}async function _h(t){if(lr(t))for(const e of t.Aa)await e(!0)}async function Vl(t){for(const e of t.Aa)await e(!1)}function hb(t,e){const n=se(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Ig(n)?Rg(n):Pa(n).N_()&&wg(n,e))}function Sg(t,e){const n=se(t),i=Pa(n);n.Ea.delete(e),i.N_()&&fb(n,e),n.Ea.size===0&&(i.N_()?i.k_():lr(n)&&n.Va.set("Unknown"))}function wg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Z_(e)}function fb(t,e){t.ma.Ke(e),Pa(t).X_(e)}function Rg(t){t.ma=new Wx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Va.ca()}function Ig(t){return lr(t)&&!Pa(t).O_()&&t.Ea.size>0}function lr(t){return se(t).da.size===0}function db(t){t.ma=void 0}async function r4(t){t.Va.set("Online")}async function a4(t){t.Ea.forEach((e,n)=>{wg(t,e)})}async function o4(t,e){db(t),Ig(t)?(t.Va.Pa(e),Rg(t)):t.Va.set("Unknown")}async function l4(t,e,n){if(t.Va.set("Online"),e instanceof Z1&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(i){Q(er,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lc(t,i)}else if(e instanceof qu?t.ma.Xe(e):e instanceof $1?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ie.min()))try{const i=await lb(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=r.Ea.get(u);if(!d)return;r.Ea.set(u,d.withResumeToken(Rt.EMPTY_BYTE_STRING,d.snapshotVersion)),fb(r,u);const g=new Zi(d.target,u,h,d.sequenceNumber);wg(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Q(er,"Failed to raise snapshot:",i),await Lc(t,i)}}async function Lc(t,e,n){if(!Va(e))throw e;t.da.add(1),await Vl(t),t.Va.set("Offline"),n||(n=()=>lb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(er,"Retrying IndexedDB access"),await n(),t.da.delete(1),await _h(t)})}function mb(t,e){return e().catch(n=>Lc(t,n,e))}async function vh(t){const e=se(t),n=vs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cg;for(;u4(e);)try{const s=await HN(e.localStore,i);if(s===null){e.Ia.length===0&&n.k_();break}i=s.batchId,c4(e,s)}catch(s){await Lc(e,s)}gb(e)&&pb(e)}function u4(t){return lr(t)&&t.Ia.length<10}function c4(t,e){t.Ia.push(e);const n=vs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function gb(t){return lr(t)&&!vs(t).O_()&&t.Ia.length>0}function pb(t){vs(t).start()}async function h4(t){vs(t).ia()}async function f4(t){const e=vs(t);for(const n of t.Ia)e.ta(n.mutations)}async function d4(t,e,n){const i=t.Ia.shift(),s=yg.from(i,e,n);await mb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vh(t)}async function m4(t,e){e&&vs(t).ea&&await async function(i,s){if(function(a){return $x(a)&&a!==L.ABORTED}(s.code)){const r=i.Ia.shift();vs(i).L_(),await mb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await vh(i)}}(t,e),gb(t)&&pb(t)}async function iv(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),Q(er,"RemoteStore received new credentials");const i=lr(n);n.da.add(3),await Vl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await _h(n)}async function g4(t,e){const n=se(t);e?(n.da.delete(2),await _h(n)):e||(n.da.add(2),await Vl(n),n.Va.set("Unknown"))}function Pa(t){return t.fa||(t.fa=function(n,i,s){const r=se(n);return r.oa(),new JN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:r4.bind(null,t),n_:a4.bind(null,t),i_:o4.bind(null,t),Y_:l4.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Ig(t)?Rg(t):t.Va.set("Unknown")):(await t.fa.stop(),db(t))})),t.fa}function vs(t){return t.ga||(t.ga=function(n,i,s){const r=se(n);return r.oa(),new e4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:h4.bind(null,t),i_:m4.bind(null,t),na:f4.bind(null,t),ra:d4.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await vh(t)):(await t.ga.stop(),t.Ia.length>0&&(Q(er,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new Cg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Va(t))return new K(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||J.comparator(n.key,i.key):(n,i)=>J.comparator(n.key,i.key),this.keyedMap=yo(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new na;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.pa=new qe(J.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ta{constructor(e,n,i,s,r,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ta(e,n,na.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y4{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=se(n),r=s.queries;s.queries=rv(),r.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new K(L.ABORTED,"Firestore shutting down"))}}function rv(){return new ar(t=>L1(t),fh)}async function yb(t,e){const n=se(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Da()&&e.va()&&(i=2):(r=new p4,i=e.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=xg(a,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&Ng(n)}async function _b(t,e){const n=se(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.va()?0:1:!r.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _4(t,e){const n=se(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Ma(s)&&(i=!0);a.ba=s}}i&&Ng(n)}function v4(t,e,n){const i=se(t),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(e)}function Ng(t){t.Ca.forEach(e=>{e.next()})}var Qd,av;(av=Qd||(Qd={})).xa="default",av.Cache="cache";class vb{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.key=e}}class Eb{constructor(e){this.key=e}}class T4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=de(),this.mutatedKeys=de(),this.Za=U1(e),this.Xa=new na(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new sv,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,g)=>{const m=s.get(d),_=dh(this.query,g)?g:null,O=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;m&&_?m.data.isEqual(_.data)?O!==k&&(i.track({type:3,doc:_}),D=!0):this.ru(m,_)||(i.track({type:2,doc:_}),D=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),D=!0):m&&!_&&(i.track({type:1,doc:m}),D=!0,(u||h)&&(l=!0)),D&&(_?(a=a.add(_),r=k?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,g)=>function(_,O){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:D})}};return k(_)-k(O)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),s=s!=null&&s;const l=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Ta(this.query,e.Xa,r,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=de(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Eb(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new Tb(i))}),n}au(e){this.Ha=e.$s,this.Ya=de();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ta.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dg="SyncEngine";class E4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class b4{constructor(e){this.key=e,this.cu=!1}}class A4{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new ar(l=>L1(l),fh),this.Pu=new Map,this.Tu=new Set,this.Iu=new qe(J.comparator),this.Eu=new Map,this.du=new Tg,this.Au={},this.Ru=new Map,this.Vu=va.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function S4(t,e,n=!0){const i=Ib(t);let s;const r=i.hu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await bb(i,e,n,!0),s}async function w4(t,e){const n=Ib(t);await bb(n,e,!0,!1)}async function bb(t,e,n,i){const s=await GN(t.localStore,qn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await R4(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&hb(t.remoteStore,s),l}async function R4(t,e,n,i,s){t.fu=(g,m,_)=>async function(k,D,T,E){let S=D.view.tu(T);S.Cs&&(S=await W_(k.localStore,D.query,!1).then(({documents:b})=>D.view.tu(b,S)));const x=E&&E.targetChanges.get(D.targetId),z=E&&E.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(S,k.isPrimaryClient,x,z);return lv(k,D.targetId,F.ou),F.snapshot}(t,g,m,_);const r=await W_(t.localStore,e,!0),a=new T4(e,r.$s),l=a.tu(r.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,u);lv(t,n,h.ou);const d=new E4(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function I4(t,e,n){const i=se(t),s=i.hu.get(e),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!fh(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Hd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Sg(i.remoteStore,s.targetId),Yd(i,s.targetId)}).catch(Ma)):(Yd(i,s.targetId),await Hd(i.localStore,s.targetId,!0))}async function C4(t,e){const n=se(t),i=n.hu.get(e),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Sg(n.remoteStore,i.targetId))}async function x4(t,e,n){const i=P4(t);try{const s=await function(a,l){const u=se(a),h=ot.now(),d=l.reduce((_,O)=>_.add(O.key),de());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let O=Ai(),k=de();return u.Bs.getEntries(_,d).next(D=>{O=D,O.forEach((T,E)=>{E.isValidDocument()||(k=k.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,O)).next(D=>{g=D;const T=[];for(const E of l){const S=Gx(E,g.get(E.key).overlayedDocument);S!=null&&T.push(new or(E.key,S,x1(S.value.mapValue),Fn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,T,l)}).next(D=>{m=D;const T=D.applyToLocalDocumentSet(g,k);return u.documentOverlayCache.saveOverlays(_,D.batchId,T)})}).then(()=>({batchId:m.batchId,changes:z1(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new qe(oe)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,s.batchId,n),await Pl(i,s.changes),await vh(i.remoteStore)}catch(s){const r=xg(s,"Failed to persist write");n.reject(r)}}async function Ab(t,e){const n=se(t);try{const i=await qN(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?ve(a.cu,14607):s.removedDocuments.size>0&&(ve(a.cu,42227),a.cu=!1))}),await Pl(n,i,e)}catch(i){await Ma(i)}}function ov(t,e,n){const i=se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=se(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&Ng(u)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function N4(t,e,n){const i=se(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new qe(J.comparator);a=a.insert(r,kt.newNoDocument(r,ie.min()));const l=de().add(r),u=new ph(ie.min(),new Map,new qe(oe),a,l);await Ab(i,u),i.Iu=i.Iu.remove(r),i.Eu.delete(e),kg(i)}else await Hd(i.localStore,e,!1).then(()=>Yd(i,e,n)).catch(Ma)}async function D4(t,e){const n=se(t),i=e.batch.batchId;try{const s=await BN(n.localStore,e);wb(n,i,null),Sb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(n,s)}catch(s){await Ma(s)}}async function k4(t,e,n){const i=se(t);try{const s=await function(a,l){const u=se(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(ve(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);wb(i,e,n),Sb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pl(i,s)}catch(s){await Ma(s)}}function Sb(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function wb(t,e,n){const i=se(t);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||Rb(t,i)})}function Rb(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Sg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),kg(t))}function lv(t,e,n){for(const i of n)i instanceof Tb?(t.du.addReference(i.key,e),O4(t,i)):i instanceof Eb?(Q(Dg,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||Rb(t,i.key)):ee(19791,{pu:i})}function O4(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(Q(Dg,"New document in limbo: "+n),t.Tu.add(i),kg(t))}function kg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new J(Me.fromString(e)),i=t.Vu.next();t.Eu.set(i,new b4(n)),t.Iu=t.Iu.insert(n,i),hb(t.remoteStore,new Zi(qn(hh(n.path)),i,"TargetPurposeLimboResolution",lh.le))}}async function Pl(t,e,n){const i=se(t),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=bg.Rs(u.targetId,h);r.push(g)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(u,h){const d=se(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(h,m=>V.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>V.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!Va(g))throw g;Q(Ag,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),O=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(O);d.xs=d.xs.insert(m,k)}}}(i.localStore,r))}async function M4(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){Q(Dg,"User change. New user:",e.toKey());const i=await ob(n.localStore,e);n.currentUser=e,function(r,a){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new K(L.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(n,i.ks)}}function V4(t,e){const n=se(t),i=n.Eu.get(e);if(i&&i.cu)return de().add(i.key);{let s=de();const r=n.Pu.get(e);if(!r)return s;for(const a of r){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function Ib(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N4.bind(null,e),e.lu.Y_=_4.bind(null,e.eventManager),e.lu.gu=v4.bind(null,e.eventManager),e}function P4(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return zN(this.persistence,new LN,e.initialUser,this.serializer)}Su(e){return new ab(Eg.fi,this.serializer)}bu(e){return new YN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class L4 extends Uc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof Pc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bN(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new ab(i=>Pc.fi(i,n),this.serializer)}}class Kd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await g4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y4}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),i=function(r){return new WN(r)}(e.databaseInfo);return function(r,a,l,u){return new n4(r,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new s4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ov(this.syncEngine,n,0),function(){return tv.C()?new tv:new KN}())}createSyncEngine(e,n){return function(s,r,a,l,u,h,d){const g=new A4(s,r,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=se(s);Q(er,"RemoteStore shutting down."),r.da.add(5),await Vl(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class U4{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=v1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Q(Ts,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Q(Ts,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=xg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rf(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ob(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j4(t);Q(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>iv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>iv(e.remoteStore,s)),t._onlineComponents=e}async function j4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Ts,"Using user provided OfflineComponentProvider");try{await Rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===L.FAILED_PRECONDITION||s.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await Rf(t,new Uc)}}else Q(Ts,"Using default OfflineComponentProvider"),await Rf(t,new L4(void 0));return t._offlineComponents}async function xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Ts,"Using user provided OnlineComponentProvider"),await uv(t,t._uninitializedComponentsProvider._online)):(Q(Ts,"Using default OnlineComponentProvider"),await uv(t,new Kd))),t._onlineComponents}function z4(t){return xb(t).then(e=>e.syncEngine)}async function Xd(t){const e=await xb(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=I4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C4.bind(null,e.syncEngine),n}function B4(t,e,n={}){const i=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const d=new Cb({next:m=>{d.xu(),a.enqueueAndForget(()=>_b(r,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new vb(hh(l.path),d,{includeMetadataChanges:!0,Qa:!0});return yb(r,g)}(await Xd(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e,n){if(!n)throw new K(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q4(t,e,n,i){if(e===!0&&i===!0)throw new K(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hv(t){if(!J.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fv(t){if(J.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",dv=!0;class mv{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=dv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TN)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZC;switch(i.type){case"firstParty":return new tx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=cv.get(n);i&&(Q("ComponentProvider","Removing Datastore"),cv.delete(n),i.terminate())}(this),Promise.resolve()}}function F4(t,e,n,i={}){var s;t=di(t,Eh);const r=Na(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;r&&(wE(`https://${u}`),RE("Firestore",!0)),a.host!==kb&&a.host!==u&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!$s(h,l)&&(t._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Dt.MOCK_USER;else{d=Tw(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Dt(m)}t._authCredentials=new WC(new y1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class hs extends La{constructor(e,n,i){super(e,n,hh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new J(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function If(t,e,...n){if(t=Kt(t),Db("collection","path",e),t instanceof Eh){const i=Me.fromString(e,...n);return fv(i),new hs(t,null,i)}{if(!(t instanceof jt||t instanceof hs))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return fv(i),new hs(t.firestore,null,i)}}function Os(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=v1.newId()),Db("doc","path",e),t instanceof Eh){const i=Me.fromString(e,...n);return hv(i),new jt(t,null,new J(i))}{if(!(t instanceof jt||t instanceof hs))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return hv(i),new jt(t.firestore,t instanceof hs?t.converter:null,new J(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ub(this,"async_queue_retry"),this.rc=()=>{const i=wf();i&&Q(gv,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new cs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Va(e))throw e;Q(gv,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,bi("INTERNAL UNHANDLED ERROR: ",yv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Cg.createAndSchedule(this,e,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&ee(47125,{cc:yv(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ea extends Eh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new pv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function H4(t,e){const n=typeof t=="object"?t:NE(),i=typeof t=="string"?t:xc,s=Jm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=_w("firestore");r&&F4(s,...r)}return s}function Og(t){if(t._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G4(t),t._firestoreClient}function G4(t){var e,n,i;const s=t._freezeSettings(),r=function(l,u,h,d){return new px(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new U4(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Rt.fromBase64String(e))}catch(n){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class Y4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}function Mb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ic:t})}}class Lg{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Mb(this.Ic)&&Q4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class K4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||yh(e)}bc(e,n,i,s=!1){return new Lg({Ic:e,methodName:n,wc:i,path:St.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new K4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function X4(t,e,n,i,s,r={}){const a=t.bc(r.merge||r.mergeFields?2:0,e,n,s);Ub("Data must be an object, but it was:",a,i);const l=Pb(i,a);let u,h;if(r.merge)u=new In(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const g of r.mergeFields){const m=Z4(e,g,n);if(!a.contains(m))throw new K(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);J4(d,m)||d.push(m)}u=new In(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new Y4(new vn(l),u,h)}function $4(t,e,n,i=!1){return Ug(n,t.bc(i?4:3,e))}function Ug(t,e){if(Lb(t=Kt(t)))return Ub("Unsupported field value:",e,t),Pb(t,e);if(t instanceof Ob)return function(i,s){if(!Mb(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=Ug(l,s.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jx(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=ot.fromDate(i);return{timestampValue:Vc(s.serializer,r)}}if(i instanceof ot){const r=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vc(s.serializer,r)}}if(i instanceof Vg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ba)return{bytesValue:W1(s.serializer,i._byteString)};if(i instanceof jt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vg(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Pg)return function(a,l){return{mapValue:{fields:{[I1]:{stringValue:C1},[Nc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return gg(l.serializer,h)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Th(i)}`)}(t,e)}function Pb(t,e){const n={};return E1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(t,(i,s)=>{const r=Ug(s,e.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Lb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Vg||t instanceof ba||t instanceof jt||t instanceof Ob||t instanceof Pg)}function Ub(t,e,n){if(!Lb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Th(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function Z4(t,e,n){if((e=Kt(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return jb(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const W4=new RegExp("[~\\*/\\[\\]]");function jb(t,e,n){if(e.search(W4)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new K(L.INVALID_ARGUMENT,l+t+u)}function J4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eD extends zb{data(){return super.data()}}function Bb(t,e){return typeof e=="string"?jb(t,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class nD extends jg{}function iD(t,e,...n){let i=[];e instanceof jg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof Bg).length,l=r.filter(u=>u instanceof zg).length;if(a>1||a>0&&l>0)throw new K(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class zg extends nD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new zg(e,n,i)}_apply(e){const n=this._parse(e);return qb(e._query,n),new La(e.firestore,e.converter,Ud(e._query,n))}_parse(e){const n=Vb(e.firestore);return function(r,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Tv(g,d);const O=[];for(const k of g)O.push(vv(u,r,k));m={arrayValue:{values:O}}}else m=vv(u,r,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Tv(g,d),m=$4(l,a,g,d==="in"||d==="not-in");return nt.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)qb(a,u),a=Ud(a,u)}(e._query,n),new La(e.firestore,e.converter,Ud(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vv(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&n.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Me.fromString(n));if(!J.isDocumentKey(i))throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return O_(t,new J(i))}if(n instanceof jt)return O_(t,n._key);throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function Tv(t,e){if(!Array.isArray(t)||t.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sD{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return rr(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Nc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Ze(a.doubleValue));return new Pg(r)}convertGeoPoint(e){return new Vg(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ch(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=ps(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Me.fromString(e);ve(sb(i),9688,{name:e});const s=new rl(i.get(1),i.get(3)),r=new J(i.popFirst(5));return s.isEqual(n)||bi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fb extends zb{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Bb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fu extends Fb{data(e={}){return super.data(e)}}class aD{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Fu(this._firestore,this._userDataWriter,i.key,i,new vo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Fu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Fu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:oD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){t=di(t,jt);const e=di(t.firestore,Ea);return B4(Og(e),t._key).then(n=>Qb(e,t,n))}class Hb extends sD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Cf(t,e,n){t=di(t,jt);const i=di(t.firestore,Ea),s=rD(t.converter,e,n);return Gb(i,[X4(Vb(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fn.none())])}function uD(t){return Gb(di(t.firestore,Ea),[new pg(t._key,Fn.none())])}function cD(t,...e){var n,i,s;t=Kt(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(r=e[a],a++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(_v(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[a+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let u,h,d;if(t instanceof jt)h=di(t.firestore,Ea),d=hh(t._key.path),u={next:g=>{e[a]&&e[a](Qb(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=di(t,La);h=di(g.firestore,Ea),d=g._query;const m=new Hb(h);u={next:_=>{e[a]&&e[a](new aD(h,m,g,_))},error:e[a+1],complete:e[a+2]},tD(t._query)}return function(m,_,O,k){const D=new Cb(k),T=new vb(_,D,O);return m.asyncQueue.enqueueAndForget(async()=>yb(await Xd(m),T)),()=>{D.xu(),m.asyncQueue.enqueueAndForget(async()=>_b(await Xd(m),T))}}(Og(h),d,l,u)}function Gb(t,e){return function(i,s){const r=new cs;return i.asyncQueue.enqueueAndForget(async()=>x4(await z4(i),s,r)),r.promise}(Og(t),e)}function Qb(t,e,n){const i=n.docs.get(e._key),s=new Hb(t);return new Fb(t,s,e._key,i,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Oa=s})(Da),ma(new Zs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Ea(new JC(i.getProvider("auth-internal")),new nx(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(h.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),ls(E_,b_,e),ls(E_,b_,"esm2017")})();const hD="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",fD="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",dD="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",mD="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",gD="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",pD="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",yD="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",_D="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",vD="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",TD="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",ED="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",bD="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",AD="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",SD="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",wD="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",RD="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",ID="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",CD="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",wn="https://art.pixilart.com/sr2a947c8f967b8.png",xD={dark:{primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",text:"#FFFFFF",textMuted:"#9CA3AF"},light:{primary:"#6353b3",background:"#F3F4F6",card:"#FFFFFF",cardLight:"#E5E7EB",text:"#1F2937",textMuted:"#6B7280"}},qg={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},Fg={normal:hD,fire:fD,water:dD,electric:mD,grass:gD,ice:pD,fighting:yD,poison:_D,ground:vD,flying:TD,psychic:ED,bug:bD,rock:AD,ghost:SD,dragon:wD,dark:RD,steel:ID,fairy:CD},Tu={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},ND=({color:t})=>p.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:p.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),DD=({color:t})=>p.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",style:{color:t},children:p.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),Yb=({className:t="w-6 h-6",isFavorite:e,color:n})=>p.jsxs("svg",{className:t,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:e?"#FBBF24":n},children:[" ",p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),$d=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",p.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),kD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),Kb=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),OD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",p.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),MD=()=>p.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Hg=()=>p.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),VD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),p.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),p.jsx("path",{d:"M3 12h6"}),p.jsx("path",{d:"M15 12h6"})]}),PD=()=>p.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),LD=()=>p.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),UD=()=>p.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),jD=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.35a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),zD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),p.jsx("path",{d:"M9 12l2 2l4 -4"})]}),BD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),p.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),qD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),p.jsx("path",{d:"M12 8v4"}),p.jsx("path",{d:"M12 16h.01"})]}),FD=({color:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sun",style:{color:t},children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),p.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),HD=({color:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-moon",style:{color:t},children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})]}),GD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-swords",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z"}),p.jsx("path",{d:"M5 13l6 6"}),p.jsx("path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365"}),p.jsx("path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5"})]}),QD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[p.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),p.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),YD=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-sparkles",children:[p.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),p.jsx("path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z"})]}),zc=({type:t,colors:e})=>p.jsxs("span",{className:"text-xs text-white font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full shadow-sm",style:{backgroundColor:qg[t]||"#777"},children:[" ",t.toUpperCase()," "]}),KD={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Vi="pokemonTeamBuilder",Ev=(t,e)=>{const[n,i]=B.useState(t);return B.useEffect(()=>{const s=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(s)}},[t,e]),n},Xb=nm.memo(({onCardClick:t,details:e,lastRef:n,isSuggested:i,colors:s})=>{const r=a=>{a.stopPropagation(),t(e)};return e?p.jsxs("div",{ref:n,onClick:r,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${i?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:s.cardLight},children:[i&&p.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),p.jsx("img",{src:e.sprite||wn,onError:a=>{a.currentTarget.src=wn},alt:e.name,className:"mx-auto w-full h-auto max-w-[120px] group-hover:scale-110 transition-transform"}),p.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",style:{color:s.text},children:e.name}),p.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:e.types.map(a=>p.jsx("img",{src:Fg[a],alt:a,className:"w-5 h-5"},a))})]}):p.jsxs("div",{ref:n,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:s.cardLight},children:[p.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),p.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),p.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:p.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),XD=({stat:t,value:e,colors:n})=>{const i={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},s=e/255*100;return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",style:{color:n.text},children:t.replace("-"," ")}),p.jsx("div",{className:"w-2/3 rounded-full h-4",style:{backgroundColor:n.cardLight},children:p.jsx("div",{className:`${i[t]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${s}%`},children:e})})]})},$D=({ability:t})=>{const[e,n]=B.useState(""),[i,s]=B.useState(!1),[r,a]=B.useState(!1),l=B.useRef(null),u=B.useCallback(async()=>{if(!(e||r)){a(!0);try{const k=(await(await fetch(t.ability.url)).json()).effect_entries.find(D=>D.language.name==="en");n((k==null?void 0:k.short_effect)||"No description available.")}catch{n("Could not load description.")}finally{a(!1)}}},[t.ability.url,e,r]),h=()=>{u(),s(!0)},d=()=>{s(!1)},g=()=>{u(),l.current=setTimeout(()=>{s(!0)},300)},m=()=>{clearTimeout(l.current),setTimeout(()=>{s(!1)},2e3)};return p.jsxs("span",{className:"relative capitalize text-white inline-block bg-gray-700 px-3 py-1 rounded-full text-sm cursor-pointer",onMouseEnter:h,onMouseLeave:d,onTouchStart:g,onTouchEnd:m,children:[t.ability.name.replace("-"," "),i&&p.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-gray-700 text-white text-xs rounded-md shadow-lg z-20",children:r?"Loading...":e})]})},ZD=({pokemon:t,onClose:e,onAdd:n,currentTeam:i,colors:s,showPokemonDetails:r,pokemonDetailsCache:a})=>{var O,k;const[l,u]=B.useState(!1),[h,d]=B.useState([]);B.useEffect(()=>{if(!t||!t.evolution_chain_url)return;(async()=>{try{const E=await(await fetch(t.evolution_chain_url)).json(),S=[];let x=E.chain;do S.push(x.species.name),x=x.evolves_to[0];while(x&&x.hasOwnProperty("evolves_to"));d(S)}catch(T){console.error("Failed to fetch evolution chain",T)}})()},[t]);const g=D=>{e();const T=Object.values(a).find(E=>E.name===D);T&&r(T)};if(!t)return null;const m=i.some(D=>D.id===t.id),_=l?t.shinySprite:t.animatedSprite||t.sprite;return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",style:{backgroundColor:s.card},onClick:D=>D.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:p.jsx(Hg,{})}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"relative inline-block",children:[p.jsx("img",{src:_||wn,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),p.jsx("button",{onClick:()=>u(!l),className:`absolute bottom-0 right-0 p-1 rounded-full ${l?"bg-yellow-500":"bg-gray-700"}`,style:{color:s.text},title:"Toggle Shiny",children:p.jsx(YD,{})})]}),p.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:s.text},children:[t.name," ",p.jsxs("span",{style:{color:s.textMuted},children:["#",t.id]})]}),p.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(D=>p.jsx(zc,{type:D,colors:s},D))})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Base Stats"}),p.jsx("div",{className:"space-y-2",children:(O=t.stats)==null?void 0:O.map(D=>p.jsx(XD,{stat:D.stat.name,value:D.base_stat,colors:s},D.stat.name))})]}),h.length>1&&p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-3 text-center",style:{color:s.text},children:"Evolution Line"}),p.jsx("div",{className:"flex justify-center items-center gap-2 flex-wrap",children:h.map((D,T)=>{const E=Object.values(a).find(S=>S.name===D);return p.jsxs(nm.Fragment,{children:[p.jsxs("div",{onClick:()=>g(D),className:"text-center cursor-pointer p-2 rounded-lg hover:bg-purple-500/30",children:[p.jsx("img",{src:(E==null?void 0:E.sprite)||wn,alt:D,className:"h-20 w-20 mx-auto"}),p.jsx("p",{className:"text-sm capitalize",style:{color:s.text},children:D})]}),T<h.length-1&&p.jsx("span",{className:"text-2xl",style:{color:s.textMuted},children:"→"})]},D)})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),p.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(k=t.abilities)==null?void 0:k.map((D,T)=>p.jsx($D,{ability:D},T))})]}),p.jsx("div",{className:"mt-8 flex justify-center",children:!m&&n&&p.jsxs("button",{onClick:()=>{n(t),e()},className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[p.jsx(OD,{})," Add to Team"]})})]})})},WD=({pokemon:t,onClose:e,onSave:n,colors:i})=>{const[s,r]=B.useState(t.customization),[a,l]=B.useState(510),[u,h]=B.useState(""),d=["hp","attack","defense","special-attack","special-defense","speed"];B.useEffect(()=>{const T=Object.values(s.evs).reduce((E,S)=>E+S,0);l(510-T)},[s.evs]);const g=(T,E)=>{const S=Number(E),z={...s.evs}[T],F=S-z;S>252||a-F<0||r(b=>({...b,evs:{...b.evs,[T]:S}}))},m=T=>{r(E=>({...E,ability:T.target.value}))},_=T=>{r(E=>{const S=E.moves,x=S.includes(T)?S.filter(z=>z!==T):[...S,T];return x.length>4?E:{...E,moves:x}})},O=()=>{n(t.id,s),e()},k=(T,E,S)=>S==="hp"?Math.floor(T*2+31+Math.floor(E/4))+110:Math.floor(Math.floor(T*2+31+Math.floor(E/4))+5),D=B.useMemo(()=>u?t.moves.filter(T=>T.move.name.toLowerCase().includes(u.toLowerCase())):t.moves,[u,t.moves]);return t?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:p.jsxs("div",{className:"rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar p-6 relative animate-fade-in",style:{backgroundColor:i.card,"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},onClick:T=>T.stopPropagation(),children:[p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",children:p.jsx(Hg,{})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("img",{src:t.animatedSprite||t.sprite,alt:t.name,className:"mx-auto h-32 w-36 image-pixelated"}),p.jsx("h2",{className:"text-3xl font-bold capitalize mt-2",style:{color:i.text},children:t.name}),p.jsx("div",{className:"flex justify-center gap-2 mt-2",children:t.types.map(T=>p.jsx(zc,{type:T,colors:i},T))}),p.jsxs("div",{className:"w-full mt-6",children:[p.jsx("label",{className:"block text-lg font-bold mb-2",style:{color:i.text},children:"Ability"}),p.jsx("select",{value:s.ability,onChange:m,className:"w-full p-3 rounded-lg border-2 focus:outline-none capitalize",style:{backgroundColor:i.cardLight,borderColor:"transparent",color:i.text},children:t.abilities.map(({ability:T})=>p.jsx("option",{value:T.name,className:"capitalize",children:T.name.replace(/-/g," ")},T.name))})]}),p.jsxs("div",{className:"w-full mt-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Selected Moves"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 min-h-[80px]",children:[s.moves.map(T=>p.jsx("div",{className:"p-2 rounded-lg text-center capitalize",style:{backgroundColor:i.cardLight,color:i.text},children:T.replace(/-/g," ")},T)),Array.from({length:4-s.moves.length}).map((T,E)=>p.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i.background},children:p.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:i.cardLight}})},E))]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold",style:{color:i.text},children:"Stats & EVs"}),p.jsxs("p",{className:"text-sm mb-2",style:{color:i.textMuted},children:["Remaining EVs: ",p.jsx("span",{className:"font-bold text-lg",style:{color:i.primary},children:a})]}),p.jsx("div",{className:"space-y-3",children:d.map((T,E)=>{const S=t.stats[E].base_stat,x=s.evs[T],z=k(S,x,T);return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center capitalize text-sm",children:[p.jsx("span",{style:{color:i.text},children:T.replace(/-/g," ")}),p.jsxs("span",{style:{color:i.textMuted},children:[x," / ",z]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("input",{type:"range",min:"0",max:"252",value:x,step:"4",onChange:F=>g(T,F.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{backgroundColor:i.cardLight}})})]},T)})}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:i.text},children:"Move Selection"}),p.jsx("input",{type:"text",placeholder:"Search moves...",value:u,onChange:T=>h(T.target.value),className:"w-full p-2 rounded-lg mb-2",style:{backgroundColor:i.cardLight,color:i.text}}),p.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",style:{"--scrollbar-track-color":i.card,"--scrollbar-thumb-color":i.primary,"--scrollbar-thumb-border-color":i.card},children:D.map(({move:T})=>p.jsx("button",{onClick:()=>_(T.name),className:`p-2 rounded-lg text-sm capitalize transition-colors ${s.moves.includes(T.name)?"bg-primary text-white":"hover:bg-purple-500/30"}`,style:s.moves.includes(T.name)?{}:{backgroundColor:i.cardLight,color:i.text},children:T.name.replace(/-/g," ")},T.name))})]})]})]}),p.jsx("div",{className:"mt-8 flex justify-end",children:p.jsxs("button",{onClick:O,className:"bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[p.jsx(Kb,{})," Confirm Changes"]})})]})}):null},JD=({currentTeam:t,teamName:e,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:s,editingTeamId:r,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,handleDeleteTeam:m,teamAnalysis:_,searchInput:O,setSearchInput:k,selectedGeneration:D,setSelectedGeneration:T,generations:E,isInitialLoading:S,isFiltering:x,availablePokemons:z,pokemonDetailsCache:F,handleAddPokemonToTeam:b,lastPokemonElementRef:v,isFetchingMore:A,visibleCount:w,selectedTypes:I,handleTypeSelection:C,showDetails:R,suggestedPokemonIds:It,colors:Y,onEditTeamPokemon:H})=>p.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:Y.card},children:[p.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:Y.primary,color:Y.text},children:"Current Team"}),p.jsx("input",{type:"text",value:e,onChange:U=>n(U.target.value),placeholder:"Team Name",className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:Y.cardLight,borderColor:"transparent",color:Y.text}}),p.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:Y.background},children:[t.map(U=>p.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:()=>H(U),children:[p.jsx("img",{src:U.animatedSprite||U.sprite||wn,onError:G=>{G.currentTarget.src=U.sprite||wn},alt:U.name,className:"mx-auto h-20 w-20"}),p.jsx("p",{className:"text-xs capitalize truncate",style:{color:Y.text},children:U.name}),p.jsx("button",{onClick:G=>{G.stopPropagation(),H(U)},className:"absolute top-1 left-1 bg-gray-700 bg-opacity-50 text-white rounded-full h-6 w-6 flex items-center justify-center transition-opacity text-sm opacity-100 visible lg:opacity-0 lg:invisible lg:group-hover:opacity-100 lg:group-hover:visible",children:p.jsx(QD,{})}),p.jsx("button",{onClick:G=>{G.stopPropagation(),i(U.id)},className:`
                                absolute top-1 right-1 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center text-sm
                                opacity-100 visible
                                lg:opacity-0 lg:invisible
                                lg:group-hover:opacity-100 lg:group-hover:visible
                                transition-opacity duration-200 
                            `,children:p.jsx($d,{})})]},U.id)),Array.from({length:6-t.length}).map((U,G)=>p.jsx("div",{className:"flex items-center justify-center",children:p.jsx("img",{src:wn,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},G))]}),p.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg hover:opacity-90",style:{backgroundColor:Y.primary,color:Y.background},children:[" ",p.jsx(Kb,{})," ",r?"Update":"Save"," "]}),p.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:Y.cardLight,color:Y.text},title:"Share Team",children:p.jsx(jD,{})}),p.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:opacity-80",style:{backgroundColor:Y.cardLight,color:Y.text},title:"Clear Team",children:p.jsx(kD,{})})]})]}),p.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:Y.card},children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'",color:Y.text},children:"Recent Teams"}),p.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm hover:underline",style:{color:Y.primary},children:"View All"})]}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",style:{"--scrollbar-track-color":Y.card,"--scrollbar-thumb-color":Y.primary,"--scrollbar-thumb-border-color":Y.card},children:l.length>0?l.map(U=>p.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:Y.cardLight},children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-bold text-lg truncate",style:{color:Y.text},children:U.name}),p.jsx("div",{className:"flex mt-1",children:U.pokemons.map(G=>p.jsx("img",{src:G.sprite||wn,onError:he=>{he.currentTarget.src=wn},alt:G.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:Y.cardLight,backgroundColor:Y.card}},G.id))})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[p.jsx("button",{onClick:()=>h(U),title:"Favorite",children:p.jsx(Yb,{isFavorite:U.isFavorite,color:Y.textMuted})}),p.jsx("button",{onClick:()=>d(U),className:"text-xs font-bold py-1 px-3 rounded-full",style:{backgroundColor:Y.primary,color:Y.background},children:"Edit"}),p.jsx("button",{onClick:()=>m(U.id),className:"bg-red-600 p-1 hover:bg-red-700 text-white rounded-lg",children:p.jsx($d,{})})]})]},U.id)):p.jsx("p",{className:"text-center py-4",style:{color:Y.textMuted},children:"No recent teams yet."})})]})]}),p.jsx("div",{className:"lg:col-span-6",children:p.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:Y.card},children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:Y.text},children:"Choose your Pokémon!"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:O,onChange:U=>k(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:Y.cardLight,borderColor:"transparent",color:Y.text}}),p.jsxs("select",{value:D,onChange:U=>T(U.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:Y.cardLight,borderColor:"transparent",color:Y.text},children:[p.jsx("option",{value:"all",style:{color:Y.text},children:"All Generations"}),E.map(U=>p.jsx("option",{value:U.name,className:"capitalize",style:{color:Y.text},children:U.name.replace("-"," ")},U.name))]})]})]}),p.jsx("div",{className:"relative flex-grow h-[60vh]",children:S?p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:Y.primary}})}):p.jsxs(p.Fragment,{children:[x&&p.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:Y.primary}})}),p.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":Y.card,"--scrollbar-thumb-color":Y.primary,"--scrollbar-thumb-border-color":Y.card},children:[p.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:z.slice(0,w).map((U,G)=>p.jsx(Xb,{details:F[U.id],onCardClick:b,lastRef:G===w-1?v:null,isSuggested:It.has(U.id),colors:Y},U.id))}),A&&p.jsx("div",{className:"flex justify-center py-4",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:Y.primary}})}),z.length===0&&!x&&p.jsx("p",{className:"text-center py-8",style:{color:Y.textMuted},children:"No Pokémon found with these filters. :("})]})]})})]})}),p.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[p.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:Y.card},children:[p.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:Y.text},children:"Filter by Type"}),p.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(qg).map(U=>p.jsx("button",{onClick:()=>C(U),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${I.has(U)?"ring-2 ring-purple":""}`,style:{backgroundColor:Y.cardLight},title:U,children:p.jsx("img",{src:Fg[U],alt:U,className:"w-full h-full object-contain"})},U))})]}),t.length>0&&p.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:Y.card},children:[p.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",style:{color:Y.text},children:"Team Analysis"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:_.strengths.size>0?Array.from(_.strengths).sort().map(U=>p.jsx(zc,{type:U,colors:Y},U)):p.jsx("p",{className:"text-sm",style:{color:Y.textMuted},children:"No type advantages found."})})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(_.weaknesses).length>0?Object.entries(_.weaknesses).sort(([,U],[,G])=>G-U).map(([U,G])=>p.jsxs("div",{className:"flex items-center",children:[p.jsx(zc,{type:U,colors:Y}),p.jsxs("span",{className:"text-xs text-red-300",children:["(",G,"x)"]})]},U)):p.jsx("p",{className:"text-sm",style:{color:Y.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),e6=({teams:t,onEdit:e,onDelete:n,onToggleFavorite:i,searchTerm:s,setSearchTerm:r,colors:a})=>p.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:a.card},children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",style:{color:a.text},children:"All Saved Teams"}),p.jsx("input",{type:"text",placeholder:"Search teams by name...",value:s,onChange:l=>r(l.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:a.cardLight,borderColor:"transparent",color:a.text}}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length>0?t.map(l=>p.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:a.cardLight},children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("p",{className:"font-bold text-xl truncate mb-2",style:{color:a.text},children:l.name}),p.jsx("button",{onClick:()=>i(l),title:"Favorite",children:p.jsx(Yb,{isFavorite:l.isFavorite,color:a.textMuted})})]}),p.jsx("div",{className:"flex my-2",children:l.pokemons.map(u=>p.jsx("img",{src:u.sprite||wn,onError:h=>{h.currentTarget.src=wn},alt:u.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:a.cardLight,backgroundColor:a.card}},u.id))}),p.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[p.jsx("button",{onClick:()=>e(l),className:"w-full bg-primary hover:bg-purple-500/30 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),p.jsx("button",{onClick:()=>n(l.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:p.jsx($d,{})})]})]},l.id)):p.jsx("p",{className:"col-span-full text-center py-8",style:{color:a.textMuted},children:"No teams found."})})]}),t6=({pokemons:t,pokemonDetailsCache:e,showDetails:n,lastPokemonElementRef:i,isFetchingMore:s,visibleCount:r,searchInput:a,setSearchInput:l,selectedTypes:u,handleTypeSelection:h,selectedGeneration:d,setSelectedGeneration:g,generations:m,isFiltering:_,isInitialLoading:O,colors:k})=>p.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[p.jsx("div",{className:"lg:col-span-9",children:p.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:k.card},children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'",color:k.text},children:"Pokédex"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:a,onChange:D=>l(D.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:k.cardLight,borderColor:"transparent",color:k.text}}),p.jsxs("select",{value:d,onChange:D=>g(D.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:k.cardLight,borderColor:"transparent",color:k.text},children:[p.jsx("option",{value:"all",style:{color:k.text},children:"All Generations"}),m.map(D=>p.jsx("option",{value:D.name,className:"capitalize",style:{color:k.text},children:D.name.replace("-"," ")},D.name))]})]})]}),p.jsx("div",{className:"relative flex-grow h-[75vh]",children:O?p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:k.primary}})}):p.jsxs(p.Fragment,{children:[_&&p.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:k.primary}})}),p.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",style:{"--scrollbar-track-color":k.card,"--scrollbar-thumb-color":k.primary,"--scrollbar-thumb-border-color":k.card},children:[p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 p-2",children:t.slice(0,r).map((D,T)=>p.jsx(Xb,{details:e[D.id],onCardClick:n,lastRef:T===r-1?i:null,colors:k},D.id))}),s&&p.jsx("div",{className:"flex justify-center py-4",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:k.primary}})}),t.length===0&&!_&&p.jsx("p",{className:"text-center py-8",style:{color:k.textMuted},children:"No Pokémon found."})]})]})})]})}),p.jsx("div",{className:"lg:col-span-3 space-y-8",children:p.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:k.card},children:[p.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'",color:k.text},children:"Filter by Type"}),p.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-5 gap-1.5",children:Object.keys(qg).map(D=>p.jsx("button",{onClick:()=>h(D),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:opacity-75 ${u.has(D)?"ring-2 ring-purple":""}`,style:{backgroundColor:k.cardLight},title:D,children:p.jsx("img",{src:Fg[D],alt:D,className:"w-full h-full object-contain"})},D))})]})})]});function n6(){const[t,e]=B.useState("light"),n=xD[t],[i,s]=B.useState(null),[r,a]=B.useState(null),[l,u]=B.useState(!1),[h,d]=B.useState([]),[g,m]=B.useState([]),[_,O]=B.useState({}),[k,D]=B.useState({}),[T,E]=B.useState([]),[S,x]=B.useState("all"),[z,F]=B.useState(new Set),[b,v]=B.useState(""),A=Ev(b,300),[w,I]=B.useState("all"),[C,R]=B.useState(new Set),[It,Y]=B.useState(""),H=Ev(It,300),[U,G]=B.useState([]),[he,je]=B.useState([]),[Pt,ct]=B.useState(""),[Te,$t]=B.useState(null),[hn,Ll]=B.useState({strengths:new Set,weaknesses:{}}),[Zt,bh]=B.useState(!0),[ur,As]=B.useState(!1),[Kn,cr]=B.useState(!1),[Ua,hr]=B.useState([]),[Ae,Ri]=B.useState("builder"),[ja,Ss]=B.useState(!1),[Bt,za]=B.useState(!1),[ws,Ah]=B.useState(""),[Dn,fr]=B.useState(50),[Ba,st]=B.useState(null),[ht,Rs]=B.useState(null),[Ul,qa]=B.useState(3),[dr,Xn]=B.useState(new Set),[Fa,jl]=B.useState(!1);B.useEffect(()=>{const j=()=>{window.innerWidth<768?qa(2):qa(3)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const ae=B.useCallback((j,X="info")=>{const Z=Date.now();hr($=>[...$,{id:Z,message:j,type:X}]),setTimeout(()=>hr($=>$.filter(W=>W.id!==Z)),3e3)},[]),Is=B.useMemo(()=>{const j=new Set(U.map(Z=>Z.id));return g.filter(Z=>!j.has(Z.id)).sort((Z,$)=>{const W=dr.has(Z.id),Se=dr.has($.id);return W&&!Se?-1:!W&&Se?1:Z.id-$.id})},[g,U,dr]),Sh=B.useMemo(()=>he.sort((j,X)=>new Date(X.updatedAt||X.createdAt)-new Date(j.updatedAt||j.createdAt)).slice(0,3),[he]),Ha=B.useMemo(()=>{let j=[...he].sort((X,Z)=>Z.isFavorite-X.isFavorite||new Date(Z.updatedAt||X.createdAt)-new Date(X.updatedAt||X.createdAt));return ws&&(j=j.filter(X=>X.name.toLowerCase().includes(ws.toLowerCase()))),j},[he,ws]),Ga=B.useCallback(async j=>{if(!r||Fa)return;jl(!0),ae("Loading shared team...","info");const X=Os(r,`artifacts/${Vi}/public/data/teams`,j);try{const Z=await lD(X);if(Z.exists()){const $=Z.data(),W=$.pokemons.map(we=>Ii(we.id)),ke=(await Promise.all(W)).map((we,dt)=>({...we,instanceId:$.pokemons[dt].instanceId,customization:$.pokemons[dt].customization}));G(ke.filter(Boolean)),ct($.name),$t(null),ae(`Loaded team: ${$.name}`,"success")}else ae("Shared team not found.","error")}catch{ae("Failed to load shared team.","error")}},[r,ae,Fa]),Ii=B.useCallback(async j=>{var X,Z,$,W,Se,ke,we,dt,mt,Re,We,ze;if(_[j])return _[j];try{const Ye=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${j}`)).json(),Ke=await(await fetch(Ye.species.url)).json(),Wt={id:Ye.id,name:Ye.name,sprite:(X=Ye.sprites)==null?void 0:X.front_default,shinySprite:(Z=Ye.sprites)==null?void 0:Z.front_shiny,animatedSprite:(we=(ke=(Se=(W=($=Ye.sprites)==null?void 0:$.versions)==null?void 0:W["generation-v"])==null?void 0:Se["black-white"])==null?void 0:ke.animated)==null?void 0:we.front_default,animatedShinySprite:(ze=(We=(Re=(mt=(dt=Ye.sprites)==null?void 0:dt.versions)==null?void 0:mt["generation-v"])==null?void 0:Re["black-white"])==null?void 0:We.animated)==null?void 0:ze.front_shiny,types:Ye.types.map(qt=>qt.type.name),stats:Ye.stats,abilities:Ye.abilities,moves:Ye.moves,evolution_chain_url:Ke.evolution_chain.url};return O(qt=>({...qt,[j]:Wt})),Wt}catch{return ae(`Could not load details for Pokémon ID: ${j}`,"error"),null}},[_,ae]);B.useEffect(()=>{try{const j=xE(KD),X=XC(j);a(H4(j));const Z=UI(X,async $=>{if($)s($.uid),u(!0);else try{const W=typeof __initial_auth_token<"u"?__initial_auth_token:null;W?await VI(X,W):await NI(X),s(X.currentUser.uid)}catch{ae("Authentication failed. Please refresh.","error")}finally{u(!0)}});return()=>Z()}catch{ae("Failed to connect to services.","error")}},[]),B.useEffect(()=>{(async()=>{try{const $=(await(await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=1025")).json()).results.map(Re=>fetch(Re.url).then(We=>We.json())),Se=(await Promise.all($)).flatMap(Re=>Re.varieties.map(We=>({name:We.pokemon.name,url:We.pokemon.url}))),we=Array.from(new Map(Se.map(Re=>[Re.url,Re])).values()).map(Re=>({id:parseInt(Re.url.split("/")[6]),name:Re.name,url:Re.url}));d(we),m(we);const mt=await(await fetch("https://pokeapi.co/api/v2/generation")).json();E(mt.results)}catch{ae("Failed to load Pokémon data.","error")}finally{bh(!1)}})()},[]),B.useEffect(()=>{if(!r||Zt||!l)return;const X=new URLSearchParams(window.location.search).get("team");X&&Ga(X)},[r,Zt,l,Ga]),B.useEffect(()=>{(async()=>{if(Zt)return;As(!0);let X=[...h];const Z={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]},$=Ae==="pokedex"?w:S,W=Ae==="pokedex"?H:A,Se=Ae==="pokedex"?C:z;if($!=="all"&&Z[$]){const[ke,we]=Z[$];X=X.filter(dt=>dt.id>=ke&&dt.id<=we)}if(W&&(X=X.filter(ke=>ke.name.toLowerCase().includes(W.toLowerCase()))),Se.size>0)try{const ke=Array.from(Se).map(mt=>fetch(`https://pokeapi.co/api/v2/type/${mt.toLowerCase()}`).then(Re=>Re.json()).then(Re=>new Set(Re.pokemon.map(We=>We.pokemon.name)))),dt=(await Promise.all(ke)).reduce((mt,Re)=>new Set([...mt].filter(We=>Re.has(We))));X=X.filter(mt=>dt.has(mt.name))}catch{ae("Failed to apply type filter.","error")}m(X),fr(50),As(!1)})()},[S,z,A,w,C,H,h,Zt,Ae]),B.useEffect(()=>{let j=!0;return Zt||(async()=>{const W=(Ae==="pokedex"?g:Is).slice(0,Dn).filter(Se=>!_[Se.id]).map(Se=>Se.id);W.length!==0&&(cr(!0),await Promise.all(W.map(Se=>Ii(Se))),j&&cr(!1))})(),()=>{j=!1}},[Is,g,Dn,Ae,Zt,Ii]),B.useEffect(()=>{if(!i||!r)return;const j=iD(If(r,`artifacts/${Vi}/users/${i}/teams`));return cD(j,Z=>{je(Z.docs.map($=>({id:$.id,...$.data()})))},()=>ae("Could not load saved teams.","error"))},[i,r]),B.useEffect(()=>{const j=U.map(W=>_[W.id]).filter(Boolean);if(j.length<U.length||j.length===0){Ll({strengths:new Set,weaknesses:{}}),Xn(new Set);return}const X={},Z=new Set;j.flatMap(W=>W.types).forEach(W=>{var Se;Object.entries(((Se=Tu[W])==null?void 0:Se.damageDealt)||{}).forEach(([ke,we])=>{we>1&&Z.add(ke.toLowerCase())})}),Object.keys(Tu).forEach(W=>{const Se=W.charAt(0).toUpperCase()+W.slice(1);let ke=0,we=0;j.forEach(dt=>{const mt=dt.types.reduce((Re,We)=>{var ze;return Re*(((ze=Tu[We])==null?void 0:ze.damageTaken[Se])??1)},1);mt>1?ke++:mt<1&&we++}),ke>0&&ke>we&&(X[W]=ke)}),Ll({strengths:Z,weaknesses:X}),(async()=>{const W=Object.keys(X);if(W.length===0||h.length===0){Xn(new Set);return}const Se=async ze=>{if(k[ze])return k[ze];try{let Je=(await(await fetch(ze)).json()).chain;for(;Je&&Je.evolves_to.length>0;)Je=Je.evolves_to[0];const Ke=Je.species.name;return D(Wt=>({...Wt,[ze]:Ke})),Ke}catch{return null}},we=h.filter(ze=>{const Qe=_[ze.id];return Qe?W.some(Ye=>{const Je=Ye.charAt(0).toUpperCase()+Ye.slice(1);return Qe.types.reduce((Wt,qt)=>{var Jt;return Wt*(((Jt=Tu[qt])==null?void 0:Jt.damageTaken[Je])??1)},1)<1}):!1}).map(async ze=>{const Qe=_[ze.id];return Qe!=null&&Qe.evolution_chain_url?await Se(Qe.evolution_chain_url):null}),dt=await Promise.all(we),mt=[...new Set(dt.filter(Boolean))],Re=new Set(mt.map(ze=>{var Qe;return(Qe=h.find(Ye=>Ye.name===ze))==null?void 0:Qe.id}).filter(Boolean)),We=Array.from(Re).filter(ze=>!_[ze]);if(We.length>0){const ze=We.map(Qe=>`https://pokeapi.co/api/v2/pokemon/${Qe}/`);try{const Ye=(await Promise.all(ze.map(Je=>fetch(Je).then(Ke=>Ke.json())))).reduce((Je,Ke)=>{var Wt,qt,Jt,_r,zl,Ka,Xa;return Je[Ke.id]={id:Ke.id,name:Ke.name,sprite:(Wt=Ke.sprites)==null?void 0:Wt.front_default,animatedSprite:(Ka=(zl=(_r=(Jt=(qt=Ke.sprites)==null?void 0:qt.versions)==null?void 0:Jt["generation-v"])==null?void 0:_r["black-white"])==null?void 0:zl.animated)==null?void 0:Ka.front_default,shinySprite:(Xa=Ke.sprites)==null?void 0:Xa.front_shiny,types:Ke.types.map(Bl=>Bl.type.name),stats:Ke.stats,abilities:Ke.abilities,evolution_chain_url:Ke.species.url},Je},{});O(Je=>({...Je,...Ye}))}catch(Qe){console.error("Failed to fetch suggestion details:",Qe)}}Xn(Re)})()},[U,_,h,k]);const kn=B.useRef(),mr=B.useCallback(j=>{Kn||ur||(kn.current&&kn.current.disconnect(),kn.current=new IntersectionObserver(X=>{const Z=Ae==="pokedex"?g:Is;X[0].isIntersecting&&Z.length>Dn&&fr($=>$+50)}),j&&kn.current.observe(j))},[Kn,ur,Is,g,Dn,Ae]),gr=B.useCallback(j=>{if(U.length>=6)return ae("Your team is full (6 Pokémon)!","warning");const X={...j,instanceId:`${j.id}-${Date.now()}`,customization:{ability:j.abilities[0].ability.name,moves:j.moves.slice(0,4).map(Z=>Z.move.name),evs:{hp:0,attack:0,defense:0,"special-attack":0,"special-defense":0,speed:0}}};G(Z=>[...Z,X])},[U,ae]),$n=B.useCallback(j=>{G(X=>X.filter(Z=>Z.id!==j))},[]),Ci=B.useCallback(()=>{G([]),ct(""),$t(null)},[]),pr=B.useCallback(async()=>{var Z,$;if(!r||!i)return ae("Database connection not ready.","error");if(U.length===0)return ae("Your team is empty!","warning");if(!Pt.trim())return ae("Please name your team.","warning");if(he.some(W=>W.name===Pt&&W.id!==Te))return ae("A team with this name already exists.","warning");const j=Te||Os(If(r,`artifacts/${Vi}/users/${i}/teams`)).id,X={name:Pt,pokemons:U.map(W=>({id:W.id,name:W.name,sprite:W.sprite,instanceId:W.instanceId,customization:W.customization})),isFavorite:((Z=he.find(W=>W.id===Te))==null?void 0:Z.isFavorite)||!1,createdAt:(($=he.find(W=>W.id===Te))==null?void 0:$.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await Cf(Os(r,`artifacts/${Vi}/users/${i}/teams`,j),X),ae(`Team "${Pt}" saved!`,"success"),Ci()}catch{ae("Error saving team.","error")}},[r,i,U,Pt,Te,he,ae,Ci]);B.useCallback(async()=>{if(!r||!l)return ae("Database not ready.","error");if(U.length===0)return ae("Cannot share an empty team!","warning");const j=Os(If(r,`artifacts/${Vi}/public/data/teams`)).id,X={name:Pt||"Unnamed Team",pokemons:U.map(Z=>({id:Z.id,name:Z.name,sprite:Z.sprite||""}))};try{await Cf(Os(r,`artifacts/${Vi}/public/data/teams`,j),X);const Z=`${window.location.origin}${window.location.pathname}?team=${j}`,$=document.createElement("textarea");$.value=Z,document.body.appendChild($),$.focus(),$.select();try{document.execCommand("copy")?ae("Share link copied to clipboard!","success"):ae("Failed to copy link.","error")}catch{ae("Failed to copy link.","error")}document.body.removeChild($)}catch{ae("Could not generate share link.","error")}},[r,U,Pt,ae,l]);const Qa=B.useCallback(async j=>{ae(`Loading team: ${j.name}...`,"info");const Z=(await Promise.all(j.pokemons.map($=>Ii($.id)))).map(($,W)=>({...$,instanceId:j.pokemons[W].instanceId,customization:j.pokemons[W].customization}));G(Z.filter(Boolean)),ct(j.name),$t(j.id),Ri("builder"),Ss(!1),window.scrollTo({top:0,behavior:"smooth"})},[Ii,ae]),xi=B.useCallback(async j=>{if(!(!r||!i))try{await uD(Os(r,`artifacts/${Vi}/users/${i}/teams`,j)),Te===j&&Ci(),ae("Team deleted.","info")}catch{ae("Error deleting team.","error")}},[r,i,Te,Ci,ae]),Ya=B.useCallback(async j=>{if(!(!r||!i))try{await Cf(Os(r,`artifacts/${Vi}/users/${i}/teams`,j.id),{...j,isFavorite:!j.isFavorite},{merge:!0})}catch{ae("Could not update favorite status.","error")}},[r,i,ae]),ft=B.useCallback(j=>{(Ae==="pokedex"?R:F)(Z=>{const $=new Set(Z);return $.has(j)?$.delete(j):$.add(j),$})},[Ae]),yr=B.useCallback(j=>{st(j)},[]),Cs=B.useCallback(j=>{Rs(j)},[]),xs=B.useCallback((j,X)=>{G(Z=>Z.map($=>$.id===j?{...$,customization:X}:$))},[]),wh=B.useCallback(()=>{e(j=>{const X=j==="dark"?"light":"dark";return localStorage.setItem("theme",X),X})},[]);B.useEffect(()=>{const j=localStorage.getItem("theme");j&&e(j)},[]);const Rh=()=>{switch(Ae){case"allTeams":return p.jsx(e6,{teams:Ha,onEdit:Qa,onDelete:xi,onToggleFavorite:Ya,searchTerm:ws,setSearchTerm:Ah,colors:n});case"pokedex":return p.jsx(t6,{pokemons:g,pokemonDetailsCache:_,showDetails:yr,lastPokemonElementRef:mr,isFetchingMore:Kn,visibleCount:Dn,searchInput:It,setSearchInput:Y,selectedTypes:C,handleTypeSelection:ft,selectedGeneration:w,setSelectedGeneration:I,generations:T,isFiltering:ur,isInitialLoading:Zt,colors:n});default:return p.jsx(JD,{currentTeam:U,teamName:Pt,setTeamName:ct,handleRemoveFromTeam:$n,handleSaveTeam:pr,editingTeamId:Te,handleClearTeam:Ci,recentTeams:Sh,setCurrentPage:Ri,handleToggleFavorite:Ya,handleEditTeam:Qa,handleDeleteTeam:xi,handleShareTeam:()=>{},teamAnalysis:hn,searchInput:b,setSearchInput:v,selectedGeneration:S,setSelectedGeneration:x,generations:T,isInitialLoading:Zt,isFiltering:ur,availablePokemons:Is,pokemonDetailsCache:_,handleAddPokemonToTeam:gr,lastPokemonElementRef:mr,isFetchingMore:Kn,visibleCount:Dn,selectedTypes:z,handleTypeSelection:ft,showDetails:yr,suggestedPokemonIds:dr,onEditTeamPokemon:Cs,colors:n})}};return p.jsxs("div",{className:"min-h-screen font-sans",style:{backgroundColor:n.background,color:n.text},children:[Ba&&p.jsx(ZD,{pokemon:Ba,onClose:()=>st(null),onAdd:Ae==="builder"?gr:null,currentTeam:U,colors:n,showPokemonDetails:yr,pokemonDetailsCache:_}),ht&&p.jsx(WD,{pokemon:ht,onClose:()=>Rs(null),onSave:xs,colors:n}),p.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Ua.slice(0,Ul).map(j=>p.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${j.type==="success"?"bg-green-600":j.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[j.type==="success"&&p.jsx(zD,{}),j.type==="error"&&p.jsx(BD,{}),j.type==="warning"&&p.jsx(qD,{}),j.message]},j.id))}),p.jsxs("div",{className:"flex min-h-screen",children:[p.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${Bt?"lg:w-20":"w-64"} ${ja?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:n.card},children:p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:`flex items-center h-16 p-4 ${Bt?"justify-center":"justify-between"}`,children:[p.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${Bt?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Menu"}),p.jsx("button",{onClick:()=>za(!Bt),className:"p-1 rounded-lg hidden lg:block transition-colors hover:opacity-80",style:{color:n.textMuted},children:Bt?p.jsx(UD,{}):p.jsx(LD,{})})]}),p.jsx("nav",{className:"px-4 flex-grow",children:p.jsxs("ul",{children:[p.jsx("li",{children:p.jsxs("button",{onClick:()=>{Ri("builder"),Ss(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ae==="builder"?"bg-primary":""} ${Bt?"justify-center":""}`,style:{color:Ae==="builder"?"white":n.text},children:[p.jsx(GD,{className:`${Ae==="builder"?"text-white":""}`}),p.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Bt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ae==="builder"?"text-white":""}`,children:"Team Builder"})]})}),p.jsx("li",{className:"mt-2",children:p.jsxs("button",{onClick:()=>{Ri("pokedex"),Ss(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ae==="pokedex"?"bg-primary":""} ${Bt?"justify-center":""}`,style:{color:Ae==="pokedex"?"white":n.text},children:[p.jsx(VD,{className:`${Ae==="builder"?"text-white":""}`}),p.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Bt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ae==="pokedex"?"text-white":""}`,children:"Pokédex"})]})}),p.jsx("li",{className:"mt-2",children:p.jsxs("button",{onClick:()=>{Ri("allTeams"),Ss(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/60 ${Ae==="allTeams"?"bg-primary":""} ${Bt?"justify-center":""}`,style:{color:Ae==="allTeams"?"white":n.text},children:[p.jsx(PD,{className:`${Ae==="allTeams"?"text-white":""}`}),p.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${Bt?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"} ${Ae==="allTeams"?"text-white":""}`,children:"Saved Teams"})]})})]})})]})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[p.jsx("button",{onClick:()=>Ss(!ja),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:ja?p.jsx(Hg,{}):p.jsx(MD,{})}),p.jsxs("div",{className:"flex-1 text-center px-2 marginLeft",children:[p.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"Pokémon Team Builder"}),p.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:n.primary},children:"By: Enzo Esmeraldo"})]}),p.jsx("div",{className:"flex items-center gap-2 lg:mr-4 sm:mr-0",children:p.jsx("button",{onClick:wh,className:"p-2 rounded-md",style:{backgroundColor:n.cardLight,color:n.text},children:t==="dark"?p.jsx(FD,{color:n.text}):p.jsx(HD,{color:n.text})})})]}),p.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:Rh()}),p.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:n.cardLight},children:[p.jsxs("p",{className:"text-sm",style:{color:n.textMuted},children:["Developed and built by ",p.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"Enzo Esmeraldo"})]}),p.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[p.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:p.jsx(ND,{color:n.textMuted})}),p.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80",style:{color:n.textMuted},children:p.jsx(DD,{color:n.textMuted})})]}),p.jsxs("p",{className:"text-xs mt-2",style:{color:n.textMuted},children:["Using the ",p.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",style:{color:n.text},children:"PokéAPI"}),". Pokémon and their names are trademarks of Nintendo."]})]})]})]}),p.jsx("style",{children:" @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: var(--scrollbar-track-color); } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 20px; border: 3px solid var(--scrollbar-thumb-border-color); } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } .bg-primary { background-color: #7d65e1; } "})]})}uw.createRoot(document.getElementById("root")).render(p.jsx(nm.StrictMode,{children:p.jsx(n6,{})}));
