(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function cv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hv={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=Symbol.for("react.transitional.element"),rb=Symbol.for("react.fragment");function fv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:ib,type:e,key:i,ref:t!==void 0?t:null,props:n}}gc.Fragment=rb;gc.jsx=fv;gc.jsxs=fv;hv.exports=gc;var D=hv.exports,dv={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.transitional.element"),sb=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),ub=Symbol.for("react.consumer"),cb=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),mv=Symbol.for("react.lazy"),sp=Symbol.iterator;function mb(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pv=Object.assign,yv={};function Fs(e,t,n){this.props=e,this.context=t,this.refs=yv,this.updater=n||gv}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _v(){}_v.prototype=Fs.prototype;function wd(e,t,n){this.props=e,this.context=t,this.refs=yv,this.updater=n||gv}var Rd=wd.prototype=new _v;Rd.constructor=wd;pv(Rd,Fs.prototype);Rd.isPureReactComponent=!0;var ap=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},vv=Object.prototype.hasOwnProperty;function Id(e,t,n,i,r,s){return n=s.ref,{$$typeof:Sd,type:e,key:t,ref:n!==void 0?n:null,props:s}}function gb(e,t){return Id(e.type,t,void 0,void 0,void 0,e.props)}function Cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sd}function pb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var op=/\/+/g;function hh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pb(""+e.key):t.toString(36)}function lp(){}function yb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(lp,lp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Qr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sd:case sb:a=!0;break;case mv:return a=e._init,Qr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+hh(e,0):i,ap(r)?(n="",a!=null&&(n=a.replace(op,"$&/")+"/"),Qr(r,t,n,"",function(h){return h})):r!=null&&(Cd(r)&&(r=gb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(op,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(ap(e))for(var u=0;u<e.length;u++)i=e[u],s=l+hh(i,u),a+=Qr(i,t,n,s,r);else if(u=mb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+hh(i,u++),a+=Qr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Qr(yb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Cl(e,t,n){if(e==null)return e;var i=[],r=0;return Qr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function _b(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var up=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vb(){}it.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!Cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Fs;it.Fragment=ab;it.Profiler=lb;it.PureComponent=wd;it.StrictMode=ob;it.Suspense=fb;it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;it.__COMPILER_RUNTIME={__proto__:null,c:function(e){return kt.H.useMemoCache(e)}};it.cache=function(e){return function(){return e.apply(null,arguments)}};it.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=pv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!vv.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Id(e.type,r,void 0,void 0,s,i)};it.createContext=function(e){return e={$$typeof:cb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ub,_context:e},e};it.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)vv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Id(e,s,void 0,void 0,null,r)};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:hb,render:e}};it.isValidElement=Cd;it.lazy=function(e){return{$$typeof:mv,_payload:{_status:-1,_result:e},_init:_b}};it.memo=function(e,t){return{$$typeof:db,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=kt.T,n={};kt.T=n;try{var i=e(),r=kt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(vb,up)}catch(s){up(s)}finally{kt.T=t}};it.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};it.use=function(e){return kt.H.use(e)};it.useActionState=function(e,t,n){return kt.H.useActionState(e,t,n)};it.useCallback=function(e,t){return kt.H.useCallback(e,t)};it.useContext=function(e){return kt.H.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e,t){return kt.H.useDeferredValue(e,t)};it.useEffect=function(e,t,n){var i=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};it.useId=function(){return kt.H.useId()};it.useImperativeHandle=function(e,t,n){return kt.H.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return kt.H.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return kt.H.useLayoutEffect(e,t)};it.useMemo=function(e,t){return kt.H.useMemo(e,t)};it.useOptimistic=function(e,t){return kt.H.useOptimistic(e,t)};it.useReducer=function(e,t,n){return kt.H.useReducer(e,t,n)};it.useRef=function(e){return kt.H.useRef(e)};it.useState=function(e){return kt.H.useState(e)};it.useSyncExternalStore=function(e,t,n){return kt.H.useSyncExternalStore(e,t,n)};it.useTransition=function(){return kt.H.useTransition()};it.version="19.1.0";dv.exports=it;var at=dv.exports;const Tv=cv(at);var Ev={exports:{}},pc={},Av={exports:{}},bv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var Z=q.length;q.push(K);t:for(;0<Z;){var Et=Z-1>>>1,Dt=q[Et];if(0<r(Dt,K))q[Et]=K,q[Z]=Dt,Z=Et;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var K=q[0],Z=q.pop();if(Z!==K){q[0]=Z;t:for(var Et=0,Dt=q.length,ln=Dt>>>1;Et<ln;){var le=2*(Et+1)-1,Nt=q[le],$t=le+1,Xe=q[$t];if(0>r(Nt,Z))$t<Dt&&0>r(Xe,Nt)?(q[Et]=Xe,q[$t]=Z,Et=$t):(q[Et]=Nt,q[le]=Z,Et=le);else if($t<Dt&&0>r(Xe,Z))q[Et]=Xe,q[$t]=Z,Et=$t;else break t}}return K}function r(q,K){var Z=q.sortIndex-K.sortIndex;return Z!==0?Z:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,O=!1,M=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var K=n(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=q)i(h),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(h)}}function z(q){if(M=!1,N(q),!O)if(n(u)!==null)O=!0,j||(j=!0,I());else{var K=n(h);K!==null&&Ke(z,K.startTime-q)}}var j=!1,T=-1,y=5,E=-1;function A(){return k?!0:!(e.unstable_now()-E<y)}function R(){if(k=!1,j){var q=e.unstable_now();E=q;var K=!0;try{t:{O=!1,M&&(M=!1,v(T),T=-1),_=!0;var Z=m;try{e:{for(N(q),g=n(u);g!==null&&!(g.expirationTime>q&&A());){var Et=g.callback;if(typeof Et=="function"){g.callback=null,m=g.priorityLevel;var Dt=Et(g.expirationTime<=q);if(q=e.unstable_now(),typeof Dt=="function"){g.callback=Dt,N(q),K=!0;break e}g===n(u)&&i(u),N(q)}else i(u);g=n(u)}if(g!==null)K=!0;else{var ln=n(h);ln!==null&&Ke(z,ln.startTime-q),K=!1}}break t}finally{g=null,m=Z,_=!1}K=void 0}}finally{K?I():j=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pe=S.port2;S.port1.onmessage=R,I=function(){pe.postMessage(null)}}else I=function(){b(R,0)};function Ke(q,K){T=b(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Z=m;m=K;try{return q()}finally{m=Z}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=m;m=q;try{return K()}finally{m=Z}},e.unstable_scheduleCallback=function(q,K,Z){var Et=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Et+Z:Et):Z=Et,q){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=Z+Dt,q={id:d++,callback:K,priorityLevel:q,startTime:Z,expirationTime:Dt,sortIndex:-1},Z>Et?(q.sortIndex=Z,t(h,q),n(u)===null&&q===n(h)&&(M?(v(T),T=-1):M=!0,Ke(z,Z-Et))):(q.sortIndex=Dt,t(u,q),O||_||(O=!0,j||(j=!0,I()))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var K=m;return function(){var Z=m;m=K;try{return q.apply(this,arguments)}finally{m=Z}}}})(bv);Av.exports=bv;var Tb=Av.exports,Sv={exports:{}},Ce={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=at;function wv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hi(){}var Ie={d:{f:hi,r:function(){throw Error(wv(522))},D:hi,C:hi,L:hi,m:hi,X:hi,S:hi,M:hi},p:0,findDOMNode:null},Ab=Symbol.for("react.portal");function bb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ab,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ba=Eb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;Ce.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(wv(299));return bb(e,t,null,n)};Ce.flushSync=function(e){var t=Ba.T,n=Ie.p;try{if(Ba.T=null,Ie.p=2,e)return e()}finally{Ba.T=t,Ie.p=n,Ie.d.f()}};Ce.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ie.d.C(e,t))};Ce.prefetchDNS=function(e){typeof e=="string"&&Ie.d.D(e)};Ce.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=yc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ie.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Ie.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ce.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=yc(t.as,t.crossOrigin);Ie.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ie.d.M(e)};Ce.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=yc(n,t.crossOrigin);Ie.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ce.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=yc(t.as,t.crossOrigin);Ie.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ie.d.m(e)};Ce.requestFormReset=function(e){Ie.d.r(e)};Ce.unstable_batchedUpdates=function(e,t){return e(t)};Ce.useFormState=function(e,t,n){return Ba.H.useFormState(e,t,n)};Ce.useFormStatus=function(){return Ba.H.useHostTransitionStatus()};Ce.version="19.1.0";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),Sv.exports=Ce;var Sb=Sv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=Tb,Iv=at,wb=Sb;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cp(e){if(xo(e)!==e)throw Error(L(188))}function Rb(e){var t=e.alternate;if(!t){if(t=xo(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return cp(r),e;if(s===i)return cp(r),t;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Nv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Nv(e),t!==null)return t;e=e.sibling}return null}var Mt=Object.assign,Ib=Symbol.for("react.element"),Dl=Symbol.for("react.transitional.element"),Ma=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),Cb=Symbol.for("react.provider"),xv=Symbol.for("react.consumer"),Un=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),of=Symbol.for("react.activity"),Db=Symbol.for("react.memo_cache_sentinel"),hp=Symbol.iterator;function ba(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var Nb=Symbol.for("react.client.reference");function lf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Nb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case rf:return"Profiler";case Ov:return"StrictMode";case sf:return"Suspense";case af:return"SuspenseList";case of:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ma:return"Portal";case Un:return(e.displayName||"Context")+".Provider";case xv:return(e._context.displayName||"Context")+".Consumer";case Dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nd:return t=e.displayName||null,t!==null?t:lf(e.type)||"Memo";case gi:t=e._payload,e=e._init;try{return lf(e(t))}catch{}}return null}var Va=Array.isArray,X=Iv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=wb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,cr={pending:!1,data:null,method:null,action:null},uf=[],es=-1;function Nn(e){return{current:e}}function oe(e){0>es||(e.current=uf[es],uf[es]=null,es--)}function Pt(e,t){es++,uf[es]=e.current,e.current=t}var En=Nn(null),lo=Nn(null),Ni=Nn(null),vu=Nn(null);function Tu(e,t){switch(Pt(Ni,t),Pt(lo,e),Pt(En,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?py(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=py(t),e=XT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(En),Pt(En,e)}function ws(){oe(En),oe(lo),oe(Ni)}function cf(e){e.memoizedState!==null&&Pt(vu,e);var t=En.current,n=XT(t,e.type);t!==n&&(Pt(lo,e),Pt(En,n))}function Eu(e){lo.current===e&&(oe(En),oe(lo)),vu.current===e&&(oe(vu),vo._currentValue=cr)}var hf=Object.prototype.hasOwnProperty,Od=ee.unstable_scheduleCallback,fh=ee.unstable_cancelCallback,Ob=ee.unstable_shouldYield,xb=ee.unstable_requestPaint,An=ee.unstable_now,Mb=ee.unstable_getCurrentPriorityLevel,Mv=ee.unstable_ImmediatePriority,Vv=ee.unstable_UserBlockingPriority,Au=ee.unstable_NormalPriority,Vb=ee.unstable_LowPriority,kv=ee.unstable_IdlePriority,kb=ee.log,Pb=ee.unstable_setDisableYieldValue,Mo=null,He=null;function wi(e){if(typeof kb=="function"&&Pb(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Mo,e)}catch{}}var Fe=Math.clz32?Math.clz32:zb,Lb=Math.log,Ub=Math.LN2;function zb(e){return e>>>=0,e===0?32:31-(Lb(e)/Ub|0)|0}var Nl=256,Ol=4194304;function sr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _c(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=sr(i):(a&=l,a!==0?r=sr(a):n||(n=l&~e,n!==0&&(r=sr(n))))):(l=i&~s,l!==0?r=sr(l):a!==0?r=sr(a):n||(n=i&~e,n!==0&&(r=sr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Vo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pv(){var e=Nl;return Nl<<=1,!(Nl&4194048)&&(Nl=256),e}function Lv(){var e=Ol;return Ol<<=1,!(Ol&62914560)&&(Ol=4194304),e}function dh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Fe(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Uv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Uv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Fe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Fe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function xd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Md(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function jv(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:sE(e.type))}function qb(e,t){var n=yt.p;try{return yt.p=e,t()}finally{yt.p=n}}var Wi=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Wi,Ve="__reactProps$"+Wi,Gs="__reactContainer$"+Wi,ff="__reactEvents$"+Wi,Hb="__reactListeners$"+Wi,Fb="__reactHandles$"+Wi,fp="__reactResources$"+Wi,Po="__reactMarker$"+Wi;function Vd(e){delete e[Ae],delete e[Ve],delete e[ff],delete e[Hb],delete e[Fb]}function ns(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gs]||n[Ae]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vy(e);e!==null;){if(n=e[Ae])return n;e=vy(e)}return t}e=n,n=e.parentNode}return null}function Qs(e){if(e=e[Ae]||e[Gs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ka(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function ds(e){var t=e[fp];return t||(t=e[fp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function se(e){e[Po]=!0}var Bv=new Set,qv={};function Cr(e,t){Rs(e,t),Rs(e+"Capture",t)}function Rs(e,t){for(qv[e]=t,e=0;e<t.length;e++)Bv.add(t[e])}var Gb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dp={},mp={};function Qb(e){return hf.call(mp,e)?!0:hf.call(dp,e)?!1:Gb.test(e)?mp[e]=!0:(dp[e]=!0,!1)}function $l(e,t,n){if(Qb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Vn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var mh,gp;function Yr(e){if(mh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mh=t&&t[1]||"",gp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mh+e+gp}var gh=!1;function ph(e,t){if(!e||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yr(n):""}function Yb(e){switch(e.tag){case 26:case 27:case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return ph(e.type,!1);case 11:return ph(e.type.render,!1);case 1:return ph(e.type,!0);case 31:return Yr("Activity");default:return""}}function pp(e){try{var t="";do t+=Yb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kb(e){var t=Hv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=Kb(e))}function Fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Hv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xb=/[\n"\\]/g;function tn(e){return e.replace(Xb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function df(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ze(t)):e.value!==""+Ze(t)&&(e.value=""+Ze(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?mf(e,a,Ze(t)):n!=null?mf(e,a,Ze(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Ze(l):e.removeAttribute("name")}function Gv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Ze(n):"",t=t!=null?""+Ze(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function mf(e,t,n){t==="number"&&Su(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ms(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ze(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Qv(e,t,n){if(t!=null&&(t=""+Ze(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ze(n):""}function Yv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Va(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ze(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Is(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||$b.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kv(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&yp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&yp(e,s,t[s])}function kd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(e){return Wb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gf=null;function Pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,gs=null;function _p(e){var t=Qs(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;t:switch(e=t.stateNode,t.type){case"input":if(df(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ve]||null;if(!r)throw Error(L(90));df(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Fv(i)}break t;case"textarea":Qv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}}}var yh=!1;function Xv(e,t,n){if(yh)return e(t,n);yh=!0;try{var i=e(t);return i}finally{if(yh=!1,(is!==null||gs!==null)&&(Cc(),is&&(t=is,e=gs,gs=is=null,_p(t),e)))for(t=0;t<e.length;t++)_p(e[t])}}function uo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ve]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=!1;if(Kn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){pf=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{pf=!1}var Ri=null,Ld=null,Wl=null;function $v(){if(Wl)return Wl;var e,t=Ld,n=t.length,i,r="value"in Ri?Ri.value:Ri.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return Wl=r.slice(e,1<i?1-i:void 0)}function Jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function vp(){return!1}function Pe(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:vp,this.isPropagationStopped=vp,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=Pe(Dr),Lo=Mt({},Dr,{view:0,detail:0}),Jb=Pe(Lo),_h,vh,wa,Tc=Mt({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(_h=e.screenX-wa.screenX,vh=e.screenY-wa.screenY):vh=_h=0,wa=e),_h)},movementY:function(e){return"movementY"in e?e.movementY:vh}}),Tp=Pe(Tc),tS=Mt({},Tc,{dataTransfer:0}),eS=Pe(tS),nS=Mt({},Lo,{relatedTarget:0}),Th=Pe(nS),iS=Mt({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),rS=Pe(iS),sS=Mt({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aS=Pe(sS),oS=Mt({},Dr,{data:0}),Ep=Pe(oS),lS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cS[e])?!!t[e]:!1}function Ud(){return hS}var fS=Mt({},Lo,{key:function(e){if(e.key){var t=lS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ud,charCode:function(e){return e.type==="keypress"?Jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dS=Pe(fS),mS=Mt({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=Pe(mS),gS=Mt({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ud}),pS=Pe(gS),yS=Mt({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Pe(yS),vS=Mt({},Tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=Pe(vS),ES=Mt({},Dr,{newState:0,oldState:0}),AS=Pe(ES),bS=[9,13,27,32],zd=Kn&&"CompositionEvent"in window,qa=null;Kn&&"documentMode"in document&&(qa=document.documentMode);var SS=Kn&&"TextEvent"in window&&!qa,Zv=Kn&&(!zd||qa&&8<qa&&11>=qa),bp=" ",Sp=!1;function Wv(e,t){switch(e){case"keyup":return bS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function wS(e,t){switch(e){case"compositionend":return Jv(t);case"keypress":return t.which!==32?null:(Sp=!0,bp);case"textInput":return e=t.data,e===bp&&Sp?null:e;default:return null}}function RS(e,t){if(rs)return e==="compositionend"||!zd&&Wv(e,t)?(e=$v(),Wl=Ld=Ri=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zv&&t.locale!=="ko"?null:t.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IS[e.type]:t==="textarea"}function t0(e,t,n,i){is?gs?gs.push(i):gs=[i]:is=i,t=qu(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ha=null,co=null;function CS(e){QT(e,0)}function Ec(e){var t=ka(e);if(Fv(t))return e}function Rp(e,t){if(e==="change")return t}var e0=!1;if(Kn){var Eh;if(Kn){var Ah="oninput"in document;if(!Ah){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Ah=typeof Ip.oninput=="function"}Eh=Ah}else Eh=!1;e0=Eh&&(!document.documentMode||9<document.documentMode)}function Cp(){Ha&&(Ha.detachEvent("onpropertychange",n0),co=Ha=null)}function n0(e){if(e.propertyName==="value"&&Ec(co)){var t=[];t0(t,co,e,Pd(e)),Xv(CS,t)}}function DS(e,t,n){e==="focusin"?(Cp(),Ha=t,co=n,Ha.attachEvent("onpropertychange",n0)):e==="focusout"&&Cp()}function NS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(co)}function OS(e,t){if(e==="click")return Ec(t)}function xS(e,t){if(e==="input"||e==="change")return Ec(t)}function MS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:MS;function ho(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!hf.call(t,r)||!Ye(e[r],t[r]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,t){var n=Dp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Dp(n)}}function i0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Su(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Su(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var VS=Kn&&"documentMode"in document&&11>=document.documentMode,ss=null,yf=null,Fa=null,_f=!1;function Op(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||ss==null||ss!==Su(i)||(i=ss,"selectionStart"in i&&jd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fa&&ho(Fa,i)||(Fa=i,i=qu(yf,"onSelect"),0<i.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ss)))}function rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var as={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},bh={},s0={};Kn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Nr(e){if(bh[e])return bh[e];if(!as[e])return e;var t=as[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s0)return bh[e]=t[n];return e}var a0=Nr("animationend"),o0=Nr("animationiteration"),l0=Nr("animationstart"),kS=Nr("transitionrun"),PS=Nr("transitionstart"),LS=Nr("transitioncancel"),u0=Nr("transitionend"),c0=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function pn(e,t){c0.set(e,t),Cr(t,[e])}var xp=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var n=xp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pp(t)},xp.set(e,t),t)}return{value:e,source:t,stack:pp(t)}}var $e=[],os=0,Bd=0;function Ac(){for(var e=os,t=Bd=os=0;t<e;){var n=$e[t];$e[t++]=null;var i=$e[t];$e[t++]=null;var r=$e[t];$e[t++]=null;var s=$e[t];if($e[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&h0(n,r,s)}}function bc(e,t,n,i){$e[os++]=e,$e[os++]=t,$e[os++]=n,$e[os++]=i,Bd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qd(e,t,n,i){return bc(e,t,n,i),wu(e)}function Ys(e,t){return bc(e,null,null,t),wu(e)}function h0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Fe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function wu(e){if(50<to)throw to=0,jf=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ls={};function US(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,i){return new US(e,t,n,i)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gn(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function f0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function tu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Hd(e)&&(a=1);else if(typeof e=="string")a=j2(e,n,En.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case of:return e=qe(31,n,t,r),e.elementType=of,e.lanes=s,e;case ts:return hr(n.children,r,s,t);case Ov:a=8,r|=24;break;case rf:return e=qe(12,n,t,r|2),e.elementType=rf,e.lanes=s,e;case sf:return e=qe(13,n,t,r),e.elementType=sf,e.lanes=s,e;case af:return e=qe(19,n,t,r),e.elementType=af,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cb:case Un:a=10;break t;case xv:a=9;break t;case Dd:a=11;break t;case Nd:a=14;break t;case gi:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=qe(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function hr(e,t,n,i){return e=qe(7,e,i,t),e.lanes=n,e}function Sh(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function wh(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var us=[],cs=0,Ru=null,Iu=0,We=[],Je=0,fr=null,zn=1,jn="";function ar(e,t){us[cs++]=Iu,us[cs++]=Ru,Ru=e,Iu=t}function d0(e,t,n){We[Je++]=zn,We[Je++]=jn,We[Je++]=fr,fr=e;var i=zn;e=jn;var r=32-Fe(i)-1;i&=~(1<<r),n+=1;var s=32-Fe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,zn=1<<32-Fe(t)+r|n<<r|i,jn=s+e}else zn=1<<s|n<<r|i,jn=e}function Fd(e){e.return!==null&&(ar(e,1),d0(e,1,0))}function Gd(e){for(;e===Ru;)Ru=us[--cs],us[cs]=null,Iu=us[--cs],us[cs]=null;for(;e===fr;)fr=We[--Je],We[Je]=null,jn=We[--Je],We[Je]=null,zn=We[--Je],We[Je]=null}var Re=null,jt=null,pt=!1,dr=null,vn=!1,Tf=Error(L(519));function vr(e){var t=Error(L(418,""));throw fo(en(t,e)),Tf}function Mp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ae]=e,t[Ve]=i,n){case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":case"embed":ot("load",t);break;case"video":case"audio":for(n=0;n<po.length;n++)ot(po[n],t);break;case"source":ot("error",t);break;case"img":case"image":case"link":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"input":ot("invalid",t),Gv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),bu(t);break;case"select":ot("invalid",t);break;case"textarea":ot("invalid",t),Yv(t,i.value,i.defaultValue,i.children),bu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||KT(t.textContent,n)?(i.popover!=null&&(ot("beforetoggle",t),ot("toggle",t)),i.onScroll!=null&&ot("scroll",t),i.onScrollEnd!=null&&ot("scrollend",t),i.onClick!=null&&(t.onclick=Oc),t=!0):t=!1,t||vr(e)}function Vp(e){for(Re=e.return;Re;)switch(Re.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Re=Re.return}}function Ra(e){if(e!==Re)return!1;if(!pt)return Vp(e),pt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Qf(e.type,e.memoizedProps)),n=!n),n&&jt&&vr(e),Vp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){jt=mn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}jt=null}}else t===27?(t=jt,Ji(e.type)?(e=Xf,Xf=null,jt=e):jt=t):jt=Re?mn(e.stateNode.nextSibling):null;return!0}function Uo(){jt=Re=null,pt=!1}function kp(){var e=dr;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),dr=null),e}function fo(e){dr===null?dr=[e]:dr.push(e)}var Ef=Nn(null),Or=null,Bn=null;function yi(e,t,n){Pt(Ef,t._currentValue),t._currentValue=n}function Qn(e){e._currentValue=Ef.current,oe(Ef)}function Af(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function bf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Af(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Af(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function zo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ye(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===vu.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(vo):e=[vo])}r=r.return}e!==null&&bf(t,e,n,i),t.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!Ye(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tr(e){Or=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function be(e){return m0(Or,e)}function Vl(e,t){return Or===null&&Tr(e),m0(e,t)}function m0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bn===null){if(e===null)throw Error(L(308));Bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bn=Bn.next=t;return n}var zS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},jS=ee.unstable_scheduleCallback,BS=ee.unstable_NormalPriority,Zt={$$typeof:Un,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new zS,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&jS(BS,function(){e.controller.abort()})}var Ga=null,Sf=0,Cs=0,ps=null;function qS(e,t){if(Ga===null){var n=Ga=[];Sf=0,Cs=gm(),ps={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Sf++,t.then(Pp,Pp),t}function Pp(){if(--Sf===0&&Ga!==null){ps!==null&&(ps.status="fulfilled");var e=Ga;Ga=null,Cs=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Lp=X.S;X.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&qS(e,t),Lp!==null&&Lp(e,t)};var mr=Nn(null);function Yd(){var e=mr.current;return e!==null?e:Ct.pooledCache}function eu(e,t){t===null?Pt(mr,mr.current):Pt(mr,t.pool)}function g0(){var e=Yd();return e===null?null:{parent:Zt._currentValue,pool:e}}var Bo=Error(L(460)),p0=Error(L(474)),Sc=Error(L(542)),wf={then:function(){}};function Up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kl(){}function y0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kl,kl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jp(e),e;default:if(typeof t.status=="string")t.then(kl,kl);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jp(e),e}throw Qa=t,Bo}}var Qa=null;function zp(){if(Qa===null)throw Error(L(459));var e=Qa;return Qa=null,e}function jp(e){if(e===Bo||e===Sc)throw Error(L(483))}var pi=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Tt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=wu(e),h0(e,null,n),t}return bc(e,i,t,n),wu(e)}function Ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}function Rh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var If=!1;function Ka(){if(If){var e=ps;if(e!==null)throw e}}function Xa(e,t,n,i){If=!1;var r=e.updateQueue;pi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(mt&m)===m:(i&m)===m){m!==0&&m===Cs&&(If=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var O=e,M=l;m=t;var k=n;switch(M.tag){case 1:if(O=M.payload,typeof O=="function"){g=O.call(k,g,m);break t}g=O;break t;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,m=typeof O=="function"?O.call(k,g,m):O,m==null)break t;g=Mt({},g,m);break t;case 2:pi=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Gi|=a,e.lanes=a,e.memoizedState=g}}function _0(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function v0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)_0(n[e],t)}var Ds=Nn(null),Du=Nn(0);function Bp(e,t){e=Zn,Pt(Du,e),Pt(Ds,t),Zn=e|t.baseLanes}function Cf(){Pt(Du,Zn),Pt(Ds,Ds.current)}function Xd(){Zn=Du.current,oe(Ds),oe(Du)}var Hi=0,st=null,bt=null,Yt=null,Nu=!1,ys=!1,Er=!1,Ou=0,mo=0,_s=null,FS=0;function qt(){throw Error(L(321))}function $d(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function Zd(e,t,n,i,r,s){return Hi=s,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?$0:Z0,Er=!1,s=n(i,r),Er=!1,ys&&(s=E0(t,n,i,r)),T0(e),s}function T0(e){X.H=xu;var t=bt!==null&&bt.next!==null;if(Hi=0,Yt=bt=st=null,Nu=!1,mo=0,_s=null,t)throw Error(L(300));e===null||ae||(e=e.dependencies,e!==null&&Cu(e)&&(ae=!0))}function E0(e,t,n,i){st=e;var r=0;do{if(ys&&(_s=null),mo=0,ys=!1,25<=r)throw Error(L(301));if(r+=1,Yt=bt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}X.H=ZS,s=t(n,i)}while(ys);return s}function GS(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?qo(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(st.flags|=1024),t}function Wd(){var e=Ou!==0;return Ou=0,e}function Jd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function tm(e){if(Nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nu=!1}Hi=0,Yt=bt=st=null,ys=!1,mo=Ou=0,_s=null}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?st.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function Xt(){if(bt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Yt===null?st.memoizedState:Yt.next;if(t!==null)Yt=t,bt=e;else{if(e===null)throw st.alternate===null?Error(L(467)):Error(L(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Yt===null?st.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var t=mo;return mo+=1,_s===null&&(_s=[]),e=y0(_s,e,t),t=st,(Yt===null?t.memoizedState:Yt.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?$0:Z0),e}function wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===Un)return be(e)}throw Error(L(438,String(e)))}function nm(e){var t=null,n=st.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=st.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=em(),st.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Db;return t.index++,n}function Xn(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=Xt();return im(t,bt,e)}function im(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(mt&g)===g:(Hi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Cs&&(d=!0);else if((Hi&m)===m){h=h.next,m===Cs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,st.lanes|=m,Gi|=m;g=h.action,Er&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,st.lanes|=g,Gi|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Ye(s,e.memoizedState)&&(ae=!0,d&&(n=ps,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ih(e){var t=Xt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Ye(s,t.memoizedState)||(ae=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function A0(e,t,n){var i=st,r=Xt(),s=pt;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!Ye((bt||r).memoizedState,n);a&&(r.memoizedState=n,ae=!0),r=r.queue;var l=w0.bind(null,i,r,e);if(Ho(2048,8,l,[e]),r.getSnapshot!==t||a||Yt!==null&&Yt.memoizedState.tag&1){if(i.flags|=2048,Ns(9,Rc(),S0.bind(null,i,r,n,t),null),Ct===null)throw Error(L(349));s||Hi&124||b0(i,t,n)}return n}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t=em(),st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function S0(e,t,n,i){t.value=n,t.getSnapshot=i,R0(t)&&I0(e)}function w0(e,t,n){return n(function(){R0(t)&&I0(e)})}function R0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function I0(e){var t=Ys(e,2);t!==null&&Qe(t,e,2)}function Df(e){var t=De();if(typeof e=="function"){var n=e;if(e=n(),Er){wi(!0);try{n()}finally{wi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t}function C0(e,t,n,i){return e.baseState=n,im(e,bt,typeof i=="function"?i:Xn)}function QS(e,t,n,i,r){if(Ic(e))throw Error(L(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};X.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,D0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function D0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=X.T,a={};X.T=a;try{var l=n(r,i),u=X.S;u!==null&&u(a,l),qp(e,t,l)}catch(h){Nf(e,t,h)}finally{X.T=s}}else try{s=n(r,i),qp(e,t,s)}catch(h){Nf(e,t,h)}}function qp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Hp(e,t,i)},function(i){return Nf(e,t,i)}):Hp(e,t,n)}function Hp(e,t,n){t.status="fulfilled",t.value=n,N0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,D0(e,n)))}function Nf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,N0(t),t=t.next;while(t!==i)}e.action=null}function N0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function O0(e,t){return t}function Fp(e,t){if(pt){var n=Ct.formState;if(n!==null){t:{var i=st;if(pt){if(jt){e:{for(var r=jt,s=vn;r.nodeType!==8;){if(!s){r=null;break e}if(r=mn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){jt=mn(r.nextSibling),i=r.data==="F!";break t}}vr(i)}i=!1}i&&(t=n[0])}}return n=De(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:t},n.queue=i,n=Y0.bind(null,st,i),i.dispatch=n,i=Df(!1),s=om.bind(null,st,!1,i.queue),i=De(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=QS.bind(null,st,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Gp(e){var t=Xt();return x0(t,bt,e)}function x0(e,t,n){if(t=im(e,t,O0)[0],e=nu(Xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=qo(t)}catch(a){throw a===Bo?Sc:a}else i=t;t=Xt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(st.flags|=2048,Ns(9,Rc(),YS.bind(null,r,n),null)),[i,s,e]}function YS(e,t){e.action=t}function Qp(e){var t=Xt(),n=bt;if(n!==null)return x0(t,n,e);Xt(),t=t.memoizedState,n=Xt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ns(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=st.updateQueue,t===null&&(t=em(),st.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Rc(){return{destroy:void 0,resource:void 0}}function M0(){return Xt().memoizedState}function iu(e,t,n,i){var r=De();i=i===void 0?null:i,st.flags|=e,r.memoizedState=Ns(1|t,Rc(),n,i)}function Ho(e,t,n,i){var r=Xt();i=i===void 0?null:i;var s=r.memoizedState.inst;bt!==null&&i!==null&&$d(i,bt.memoizedState.deps)?r.memoizedState=Ns(t,s,n,i):(st.flags|=e,r.memoizedState=Ns(1|t,s,n,i))}function Yp(e,t){iu(8390656,8,e,t)}function V0(e,t){Ho(2048,8,e,t)}function k0(e,t){return Ho(4,2,e,t)}function P0(e,t){return Ho(4,4,e,t)}function L0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U0(e,t,n){n=n!=null?n.concat([e]):null,Ho(4,4,L0.bind(null,t,e),n)}function rm(){}function z0(e,t){var n=Xt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&$d(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function j0(e,t){var n=Xt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&$d(t,i[1]))return i[0];if(i=e(),Er){wi(!0);try{e()}finally{wi(!1)}}return n.memoizedState=[i,t],i}function sm(e,t,n){return n===void 0||Hi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=NT(),st.lanes|=e,Gi|=e,n)}function B0(e,t,n,i){return Ye(n,t)?n:Ds.current!==null?(e=sm(e,n,i),Ye(e,t)||(ae=!0),e):Hi&42?(e=NT(),st.lanes|=e,Gi|=e,t):(ae=!0,e.memoizedState=n)}function q0(e,t,n,i,r){var s=yt.p;yt.p=s!==0&&8>s?s:8;var a=X.T,l={};X.T=l,om(e,!1,t,n);try{var u=r(),h=X.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=HS(u,i);$a(e,t,d,Ge(e))}else $a(e,t,i,Ge(e))}catch(g){$a(e,t,{then:function(){},status:"rejected",reason:g},Ge())}finally{yt.p=s,X.T=a}}function KS(){}function Of(e,t,n,i){if(e.tag!==5)throw Error(L(476));var r=H0(e).queue;q0(e,r,t,cr,n===null?KS:function(){return F0(e),n(i)})}function H0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:cr,baseState:cr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:cr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function F0(e){var t=H0(e).next.queue;$a(e,t,{},Ge())}function am(){return be(vo)}function G0(){return Xt().memoizedState}function Q0(){return Xt().memoizedState}function XS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ge();e=Oi(n);var i=xi(t,e,n);i!==null&&(Qe(i,t,n),Ya(i,t,n)),t={cache:Qd()},e.payload=t;return}t=t.return}}function $S(e,t,n){var i=Ge();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ic(e)?K0(t,n):(n=qd(e,t,n,i),n!==null&&(Qe(n,e,i),X0(n,t,i)))}function Y0(e,t,n){var i=Ge();$a(e,t,n,i)}function $a(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ic(e))K0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ye(l,a))return bc(e,t,r,0),Ct===null&&Ac(),!1}catch{}finally{}if(n=qd(e,t,r,i),n!==null)return Qe(n,e,i),X0(n,t,i),!0}return!1}function om(e,t,n,i){if(i={lane:2,revertLane:gm(),action:i,hasEagerState:!1,eagerState:null,next:null},Ic(e)){if(t)throw Error(L(479))}else t=qd(e,n,i,2),t!==null&&Qe(t,e,2)}function Ic(e){var t=e.alternate;return e===st||t!==null&&t===st}function K0(e,t){ys=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function X0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}var xu={readContext:be,use:wc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},$0={readContext:be,use:wc,useCallback:function(e,t){return De().memoizedState=[e,t===void 0?null:t],e},useContext:be,useEffect:Yp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,iu(4194308,4,L0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iu(4194308,4,e,t)},useInsertionEffect:function(e,t){iu(4,2,e,t)},useMemo:function(e,t){var n=De();t=t===void 0?null:t;var i=e();if(Er){wi(!0);try{e()}finally{wi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=De();if(n!==void 0){var r=n(t);if(Er){wi(!0);try{n(t)}finally{wi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=$S.bind(null,st,e),[i.memoizedState,e]},useRef:function(e){var t=De();return e={current:e},t.memoizedState=e},useState:function(e){e=Df(e);var t=e.queue,n=Y0.bind(null,st,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rm,useDeferredValue:function(e,t){var n=De();return sm(n,e,t)},useTransition:function(){var e=Df(!1);return e=q0.bind(null,st,e.queue,!0,!1),De().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=st,r=De();if(pt){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ct===null)throw Error(L(349));mt&124||b0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Yp(w0.bind(null,i,s,e),[e]),i.flags|=2048,Ns(9,Rc(),S0.bind(null,i,s,n,t),null),n},useId:function(){var e=De(),t=Ct.identifierPrefix;if(pt){var n=jn,i=zn;n=(i&~(1<<32-Fe(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Ou++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=FS++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:am,useFormState:Fp,useActionState:Fp,useOptimistic:function(e){var t=De();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=om.bind(null,st,!0,n),n.dispatch=t,[e,t]},useMemoCache:nm,useCacheRefresh:function(){return De().memoizedState=XS.bind(null,st)}},Z0={readContext:be,use:wc,useCallback:z0,useContext:be,useEffect:V0,useImperativeHandle:U0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:j0,useReducer:nu,useRef:M0,useState:function(){return nu(Xn)},useDebugValue:rm,useDeferredValue:function(e,t){var n=Xt();return B0(n,bt.memoizedState,e,t)},useTransition:function(){var e=nu(Xn)[0],t=Xt().memoizedState;return[typeof e=="boolean"?e:qo(e),t]},useSyncExternalStore:A0,useId:G0,useHostTransitionStatus:am,useFormState:Gp,useActionState:Gp,useOptimistic:function(e,t){var n=Xt();return C0(n,bt,e,t)},useMemoCache:nm,useCacheRefresh:Q0},ZS={readContext:be,use:wc,useCallback:z0,useContext:be,useEffect:V0,useImperativeHandle:U0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:j0,useReducer:Ih,useRef:M0,useState:function(){return Ih(Xn)},useDebugValue:rm,useDeferredValue:function(e,t){var n=Xt();return bt===null?sm(n,e,t):B0(n,bt.memoizedState,e,t)},useTransition:function(){var e=Ih(Xn)[0],t=Xt().memoizedState;return[typeof e=="boolean"?e:qo(e),t]},useSyncExternalStore:A0,useId:G0,useHostTransitionStatus:am,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,t){var n=Xt();return bt!==null?C0(n,bt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:nm,useCacheRefresh:Q0},vs=null,go=0;function Pl(e){var t=go;return go+=1,vs===null&&(vs=[]),y0(vs,e,t)}function Ia(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ll(e,t){throw t.$$typeof===Ib?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kp(e){var t=e._init;return t(e._payload)}function W0(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Gn(b,v),b.index=0,b.sibling=null,b}function s(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,N){return v===null||v.tag!==6?(v=Sh(w,b.mode,N),v.return=b,v):(v=r(v,w),v.return=b,v)}function u(b,v,w,N){var z=w.type;return z===ts?d(b,v,w.props.children,N,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===gi&&Kp(z)===v.type)?(v=r(v,w.props),Ia(v,w),v.return=b,v):(v=tu(w.type,w.key,w.props,null,b.mode,N),Ia(v,w),v.return=b,v)}function h(b,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=wh(w,b.mode,N),v.return=b,v):(v=r(v,w.children||[]),v.return=b,v)}function d(b,v,w,N,z){return v===null||v.tag!==7?(v=hr(w,b.mode,N,z),v.return=b,v):(v=r(v,w),v.return=b,v)}function g(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Sh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:return w=tu(v.type,v.key,v.props,null,b.mode,w),Ia(w,v),w.return=b,w;case Ma:return v=wh(v,b.mode,w),v.return=b,v;case gi:var N=v._init;return v=N(v._payload),g(b,v,w)}if(Va(v)||ba(v))return v=hr(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return g(b,Pl(v),w);if(v.$$typeof===Un)return g(b,Vl(b,v),w);Ll(b,v)}return null}function m(b,v,w,N){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:l(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dl:return w.key===z?u(b,v,w,N):null;case Ma:return w.key===z?h(b,v,w,N):null;case gi:return z=w._init,w=z(w._payload),m(b,v,w,N)}if(Va(w)||ba(w))return z!==null?null:d(b,v,w,N,null);if(typeof w.then=="function")return m(b,v,Pl(w),N);if(w.$$typeof===Un)return m(b,v,Vl(b,w),N);Ll(b,w)}return null}function _(b,v,w,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return b=b.get(w)||null,l(v,b,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Dl:return b=b.get(N.key===null?w:N.key)||null,u(v,b,N,z);case Ma:return b=b.get(N.key===null?w:N.key)||null,h(v,b,N,z);case gi:var j=N._init;return N=j(N._payload),_(b,v,w,N,z)}if(Va(N)||ba(N))return b=b.get(w)||null,d(v,b,N,z,null);if(typeof N.then=="function")return _(b,v,w,Pl(N),z);if(N.$$typeof===Un)return _(b,v,w,Vl(v,N),z);Ll(v,N)}return null}function O(b,v,w,N){for(var z=null,j=null,T=v,y=v=0,E=null;T!==null&&y<w.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var A=m(b,T,w[y],N);if(A===null){T===null&&(T=E);break}e&&T&&A.alternate===null&&t(b,T),v=s(A,v,y),j===null?z=A:j.sibling=A,j=A,T=E}if(y===w.length)return n(b,T),pt&&ar(b,y),z;if(T===null){for(;y<w.length;y++)T=g(b,w[y],N),T!==null&&(v=s(T,v,y),j===null?z=T:j.sibling=T,j=T);return pt&&ar(b,y),z}for(T=i(T);y<w.length;y++)E=_(T,b,y,w[y],N),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),j===null?z=E:j.sibling=E,j=E);return e&&T.forEach(function(R){return t(b,R)}),pt&&ar(b,y),z}function M(b,v,w,N){if(w==null)throw Error(L(151));for(var z=null,j=null,T=v,y=v=0,E=null,A=w.next();T!==null&&!A.done;y++,A=w.next()){T.index>y?(E=T,T=null):E=T.sibling;var R=m(b,T,A.value,N);if(R===null){T===null&&(T=E);break}e&&T&&R.alternate===null&&t(b,T),v=s(R,v,y),j===null?z=R:j.sibling=R,j=R,T=E}if(A.done)return n(b,T),pt&&ar(b,y),z;if(T===null){for(;!A.done;y++,A=w.next())A=g(b,A.value,N),A!==null&&(v=s(A,v,y),j===null?z=A:j.sibling=A,j=A);return pt&&ar(b,y),z}for(T=i(T);!A.done;y++,A=w.next())A=_(T,b,y,A.value,N),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?y:A.key),v=s(A,v,y),j===null?z=A:j.sibling=A,j=A);return e&&T.forEach(function(I){return t(b,I)}),pt&&ar(b,y),z}function k(b,v,w,N){if(typeof w=="object"&&w!==null&&w.type===ts&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Dl:t:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===ts){if(v.tag===7){n(b,v.sibling),N=r(v,w.props.children),N.return=b,b=N;break t}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===gi&&Kp(z)===v.type){n(b,v.sibling),N=r(v,w.props),Ia(N,w),N.return=b,b=N;break t}n(b,v);break}else t(b,v);v=v.sibling}w.type===ts?(N=hr(w.props.children,b.mode,N,w.key),N.return=b,b=N):(N=tu(w.type,w.key,w.props,null,b.mode,N),Ia(N,w),N.return=b,b=N)}return a(b);case Ma:t:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),N=r(v,w.children||[]),N.return=b,b=N;break t}else{n(b,v);break}else t(b,v);v=v.sibling}N=wh(w,b.mode,N),N.return=b,b=N}return a(b);case gi:return z=w._init,w=z(w._payload),k(b,v,w,N)}if(Va(w))return O(b,v,w,N);if(ba(w)){if(z=ba(w),typeof z!="function")throw Error(L(150));return w=z.call(w),M(b,v,w,N)}if(typeof w.then=="function")return k(b,v,Pl(w),N);if(w.$$typeof===Un)return k(b,v,Vl(b,w),N);Ll(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),N=r(v,w),N.return=b,b=N):(n(b,v),N=Sh(w,b.mode,N),N.return=b,b=N),a(b)):n(b,v)}return function(b,v,w,N){try{go=0;var z=k(b,v,w,N);return vs=null,z}catch(T){if(T===Bo||T===Sc)throw T;var j=qe(29,T,null,b.mode);return j.lanes=N,j.return=b,j}finally{}}}var Os=W0(!0),J0=W0(!1),an=Nn(null),bn=null;function _i(e){var t=e.alternate;Pt(Wt,Wt.current&1),Pt(an,e),bn===null&&(t===null||Ds.current!==null||t.memoizedState!==null)&&(bn=e)}function tT(e){if(e.tag===22){if(Pt(Wt,Wt.current),Pt(an,e),bn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(bn=e)}}else vi()}function vi(){Pt(Wt,Wt.current),Pt(an,an.current)}function qn(e){oe(an),bn===e&&(bn=null),oe(Wt)}var Wt=Nn(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Kf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ch(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ge(),r=Oi(i);r.payload=t,n!=null&&(r.callback=n),t=xi(e,r,i),t!==null&&(Qe(t,e,i),Ya(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ge(),r=Oi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=xi(e,r,i),t!==null&&(Qe(t,e,i),Ya(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),i=Oi(n);i.tag=2,t!=null&&(i.callback=t),t=xi(e,i,n),t!==null&&(Qe(t,e,n),Ya(t,e,n))}};function Xp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!ho(n,i)||!ho(r,s):!0}function $p(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function Ar(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Mt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eT(e){Vu(e)}function nT(e){console.error(e)}function iT(e){Vu(e)}function ku(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Zp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Mf(e,t,n){return n=Oi(n),n.tag=3,n.payload={element:null},n.callback=function(){ku(e,t)},n}function rT(e){return e=Oi(e),e.tag=3,e}function sT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Zp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Zp(t,n,i),typeof r!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function WS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&zo(t,n,r,!0),n=an.current,n!==null){switch(n.tag){case 13:return bn===null?Bf():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===wf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),zh(e,i,r)),!1;case 22:return n.flags|=65536,i===wf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),zh(e,i,r)),!1}throw Error(L(435,n.tag))}return zh(e,i,r),Bf(),!1}if(pt)return t=an.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Tf&&(e=Error(L(422),{cause:i}),fo(en(e,n)))):(i!==Tf&&(t=Error(L(423),{cause:i}),fo(en(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=en(i,n),r=Mf(e.stateNode,i,r),Rh(e,r),Bt!==4&&(Bt=2)),!1;var s=Error(L(520),{cause:i});if(s=en(s,n),Ja===null?Ja=[s]:Ja.push(s),Bt!==4&&(Bt=2),t===null)return!0;i=en(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Mf(n.stateNode,i,e),Rh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Mi===null||!Mi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=rT(r),sT(r,e,n,i),Rh(n,r),!1}n=n.return}while(n!==null);return!1}var aT=Error(L(461)),ae=!1;function ce(e,t,n,i){t.child=e===null?J0(t,null,n,i):Os(t,e.child,n,i)}function Wp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Tr(t),i=Zd(e,t,n,a,s,r),l=Wd(),e!==null&&!ae?(Jd(e,t,r),$n(e,t,r)):(pt&&l&&Fd(t),t.flags|=1,ce(e,t,i,r),t.child)}function Jp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Hd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,oT(e,t,s,i,r)):(e=tu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!lm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ho,n(a,i)&&e.ref===t.ref)return $n(e,t,r)}return t.flags|=1,e=Gn(s,i),e.ref=t.ref,e.return=t,t.child=e}function oT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(ho(s,i)&&e.ref===t.ref)if(ae=!1,t.pendingProps=i=s,lm(e,r))e.flags&131072&&(ae=!0);else return t.lanes=e.lanes,$n(e,t,r)}return Vf(e,t,n,i,r)}function lT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return ty(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&eu(t,s!==null?s.cachePool:null),s!==null?Bp(t,s):Cf(),tT(t);else return t.lanes=t.childLanes=536870912,ty(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(eu(t,s.cachePool),Bp(t,s),vi(),t.memoizedState=null):(e!==null&&eu(t,null),Cf(),vi());return ce(e,t,r,n),t.child}function ty(e,t,n,i){var r=Yd();return r=r===null?null:{parent:Zt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&eu(t,null),Cf(),tT(t),e!==null&&zo(e,t,i,!0),null}function ru(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vf(e,t,n,i,r){return Tr(t),n=Zd(e,t,n,i,void 0,r),i=Wd(),e!==null&&!ae?(Jd(e,t,r),$n(e,t,r)):(pt&&i&&Fd(t),t.flags|=1,ce(e,t,n,r),t.child)}function ey(e,t,n,i,r,s){return Tr(t),t.updateQueue=null,n=E0(t,i,n,r),T0(e),i=Wd(),e!==null&&!ae?(Jd(e,t,s),$n(e,t,s)):(pt&&i&&Fd(t),t.flags|=1,ce(e,t,n,s),t.child)}function ny(e,t,n,i,r){if(Tr(t),t.stateNode===null){var s=ls,a=n.contextType;typeof a=="object"&&a!==null&&(s=be(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Kd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?be(a):ls,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ch(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&xf.enqueueReplaceState(s,s.state,null),Xa(t,i,s,r),Ka(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Ar(n,l);s.props=u;var h=s.context,d=n.contextType;a=ls,typeof d=="object"&&d!==null&&(a=be(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&$p(t,s,i,a),pi=!1;var m=t.memoizedState;s.state=m,Xa(t,i,s,r),Ka(),h=t.memoizedState,l||m!==h||pi?(typeof g=="function"&&(Ch(t,n,g,i),h=t.memoizedState),(u=pi||Xp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Rf(e,t),a=t.memoizedProps,d=Ar(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=ls,typeof h=="object"&&h!==null&&(u=be(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&$p(t,s,i,u),pi=!1,m=t.memoizedState,s.state=m,Xa(t,i,s,r),Ka();var _=t.memoizedState;a!==g||m!==_||pi||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof l=="function"&&(Ch(t,n,l,i),_=t.memoizedState),(d=pi||Xp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,ru(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Os(t,e.child,null,r),t.child=Os(t,null,n,r)):ce(e,t,n,r),t.memoizedState=s.state,e=t.child):e=$n(e,t,r),e}function iy(e,t,n,i){return Uo(),t.flags|=256,ce(e,t,n,i),t.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(e){return{baseLanes:e,cachePool:g0()}}function Oh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=sn),e}function uT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Wt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(pt){if(r?_i(t):vi(),pt){var l=jt,u;if(u=l){t:{for(u=l,l=vn;u.nodeType!==8;){if(!l){l=null;break t}if(u=mn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:fr!==null?{id:zn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},u=qe(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Re=t,jt=null,u=!0):u=!1}u||vr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Kf(l)?t.lanes=32:t.lanes=536870912,null;qn(t)}return l=i.children,i=i.fallback,r?(vi(),r=t.mode,l=Pu({mode:"hidden",children:l},r),i=hr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=Nh(n),r.childLanes=Oh(e,a,n),t.memoizedState=Dh,i):(_i(t),kf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(_i(t),t.flags&=-257,t=xh(e,t,n)):t.memoizedState!==null?(vi(),t.child=e.child,t.flags|=128,t=null):(vi(),r=i.fallback,l=t.mode,i=Pu({mode:"visible",children:i.children},l),r=hr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Os(t,e.child,null,n),i=t.child,i.memoizedState=Nh(n),i.childLanes=Oh(e,a,n),t.memoizedState=Dh,t=r);else if(_i(t),Kf(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,fo({value:i,source:null,stack:null}),t=xh(e,t,n)}else if(ae||zo(e,t,n,!1),a=(n&e.childLanes)!==0,ae||a){if(a=Ct,a!==null&&(i=n&-n,i=i&42?1:xd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ys(e,i),Qe(a,e,i),aT;l.data==="$?"||Bf(),t=xh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,jt=mn(l.nextSibling),Re=t,pt=!0,dr=null,vn=!1,e!==null&&(We[Je++]=zn,We[Je++]=jn,We[Je++]=fr,zn=e.id,jn=e.overflow,fr=t),t=kf(t,i.children),t.flags|=4096);return t}return r?(vi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Gn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Gn(h,r):(r=hr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=Nh(n):(u=l.cachePool,u!==null?(h=Zt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=g0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Oh(e,a,n),t.memoizedState=Dh,i):(_i(t),n=e.child,e=n.sibling,n=Gn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function kf(e,t){return t=Pu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pu(e,t){return e=qe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xh(e,t,n){return Os(t,e.child,null,n),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ry(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Af(e.return,t,n)}function Mh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function cT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ce(e,t,i.children,n),i=Wt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,n,t);else if(e.tag===19)ry(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Pt(Wt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Mh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Mu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Mh(t,!0,n,null,s);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gi|=t.lanes,!(n&t.childLanes))if(e!==null){if(zo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function JS(e,t,n){switch(t.tag){case 3:Tu(t,t.stateNode.containerInfo),yi(t,Zt,e.memoizedState.cache),Uo();break;case 27:case 5:cf(t);break;case 4:Tu(t,t.stateNode.containerInfo);break;case 10:yi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(_i(t),t.flags|=128,null):n&t.child.childLanes?uT(e,t,n):(_i(t),e=$n(e,t,n),e!==null?e.sibling:null);_i(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(zo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return cT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pt(Wt,Wt.current),i)break;return null;case 22:case 23:return t.lanes=0,lT(e,t,n);case 24:yi(t,Zt,e.memoizedState.cache)}return $n(e,t,n)}function hT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ae=!0;else{if(!lm(e,n)&&!(t.flags&128))return ae=!1,JS(e,t,n);ae=!!(e.flags&131072)}else ae=!1,pt&&t.flags&1048576&&d0(t,Iu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Hd(i)?(e=Ar(i,e),t.tag=1,t=ny(null,t,i,e,n)):(t.tag=0,t=Vf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Dd){t.tag=11,t=Wp(null,t,i,e,n);break t}else if(r===Nd){t.tag=14,t=Jp(null,t,i,e,n);break t}}throw t=lf(i)||i,Error(L(306,t,""))}}return t;case 0:return Vf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Ar(i,t.pendingProps),ny(e,t,i,r,n);case 3:t:{if(Tu(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Rf(e,t),Xa(t,i,null,n);var a=t.memoizedState;if(i=a.cache,yi(t,Zt,i),i!==s.cache&&bf(t,[Zt],n,!0),Ka(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=iy(e,t,i,n);break t}else if(i!==r){r=en(Error(L(424)),t),fo(r),t=iy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(jt=mn(e.firstChild),Re=t,pt=!0,dr=null,vn=!0,n=J0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Uo(),i===r){t=$n(e,t,n);break t}ce(e,t,i,n)}t=t.child}return t;case 26:return ru(e,t),e===null?(n=Ey(t.type,null,t.pendingProps,null))?t.memoizedState=n:pt||(n=t.type,e=t.pendingProps,i=Hu(Ni.current).createElement(n),i[Ae]=t,i[Ve]=e,me(i,n,e),se(i),t.stateNode=i):t.memoizedState=Ey(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return cf(t),e===null&&pt&&(i=t.stateNode=ZT(t.type,t.pendingProps,Ni.current),Re=t,vn=!0,r=jt,Ji(t.type)?(Xf=r,jt=mn(i.firstChild)):jt=r),ce(e,t,t.pendingProps.children,n),ru(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pt&&((r=i=jt)&&(i=I2(i,t.type,t.pendingProps,vn),i!==null?(t.stateNode=i,Re=t,jt=mn(i.firstChild),vn=!1,r=!0):r=!1),r||vr(t)),cf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Qf(r,s)?i=null:a!==null&&Qf(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Zd(e,t,GS,null,null,n),vo._currentValue=r),ru(e,t),ce(e,t,i,n),t.child;case 6:return e===null&&pt&&((e=n=jt)&&(n=C2(n,t.pendingProps,vn),n!==null?(t.stateNode=n,Re=t,jt=null,e=!0):e=!1),e||vr(t)),null;case 13:return uT(e,t,n);case 4:return Tu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Os(t,null,i,n):ce(e,t,i,n),t.child;case 11:return Wp(e,t,t.type,t.pendingProps,n);case 7:return ce(e,t,t.pendingProps,n),t.child;case 8:return ce(e,t,t.pendingProps.children,n),t.child;case 12:return ce(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,yi(t,t.type,i.value),ce(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Tr(t),r=be(r),i=i(r),t.flags|=1,ce(e,t,i,n),t.child;case 14:return Jp(e,t,t.type,t.pendingProps,n);case 15:return oT(e,t,t.type,t.pendingProps,n);case 19:return cT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Pu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Gn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return lT(e,t,n);case 24:return Tr(t),i=be(Zt),e===null?(r=Yd(),r===null&&(r=Ct,s=Qd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Kd(t),yi(t,Zt,r)):(e.lanes&n&&(Rf(e,t),Xa(t,null,null,n),Ka()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),yi(t,Zt,i)):(i=s.cache,yi(t,Zt,i),i!==r.cache&&bf(t,[Zt],n,!0))),ce(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function kn(e){e.flags|=4}function sy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!tE(t)){if(t=an.current,t!==null&&((mt&4194048)===mt?bn!==null:(mt&62914560)!==mt&&!(mt&536870912)||t!==bn))throw Qa=wf,p0;e.flags|=8192}}function Ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lv():536870912,e.lanes|=t,xs|=t)}function Ca(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function t2(e,t,n){var i=t.pendingProps;switch(Gd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return Lt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Qn(Zt),ws(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?kn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kp())),Lt(t),null;case 26:return n=t.memoizedState,e===null?(kn(t),n!==null?(Lt(t),sy(t,n)):(Lt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(kn(t),Lt(t),sy(t,n)):(Lt(t),t.flags&=-16777217):(e.memoizedProps!==i&&kn(t),Lt(t),t.flags&=-16777217),null;case 27:Eu(t),n=Ni.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Lt(t),null}e=En.current,Ra(t)?Mp(t):(e=ZT(r,i,n),t.stateNode=e,kn(t))}return Lt(t),null;case 5:if(Eu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return Lt(t),null}if(e=En.current,Ra(t))Mp(t);else{switch(r=Hu(Ni.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Ae]=t,e[Ve]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(me(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&kn(t)}}return Lt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Ni.current,Ra(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Re,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ae]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||KT(e.nodeValue,n)),e||vr(t)}else e=Hu(e).createTextNode(i),e[Ae]=t,t.stateNode=e}return Lt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ra(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Ae]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),r=!1}else r=kp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(qn(t),t):(qn(t),null)}if(qn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ul(t,t.updateQueue),Lt(t),null;case 4:return ws(),e===null&&pm(t.stateNode.containerInfo),Lt(t),null;case 10:return Qn(t.type),Lt(t),null;case 19:if(oe(Wt),r=t.memoizedState,r===null)return Lt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Ca(r,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mu(e),s!==null){for(t.flags|=128,Ca(r,!1),e=s.updateQueue,t.updateQueue=e,Ul(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)f0(n,e),n=n.sibling;return Pt(Wt,Wt.current&1|2),t.child}e=e.sibling}r.tail!==null&&An()>Uu&&(t.flags|=128,i=!0,Ca(r,!1),t.lanes=4194304)}else{if(!i)if(e=Mu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ul(t,e),Ca(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!pt)return Lt(t),null}else 2*An()-r.renderingStartTime>Uu&&n!==536870912&&(t.flags|=128,i=!0,Ca(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=An(),t.sibling=null,e=Wt.current,Pt(Wt,i?e&1|2:e&1),t):(Lt(t),null);case 22:case 23:return qn(t),Xd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),n=t.updateQueue,n!==null&&Ul(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&oe(mr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qn(Zt),Lt(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function e2(e,t){switch(Gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(Zt),ws(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Eu(t),null;case 13:if(qn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(Wt),null;case 4:return ws(),null;case 10:return Qn(t.type),null;case 22:case 23:return qn(t),Xd(),e!==null&&oe(mr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qn(Zt),null;case 25:return null;default:return null}}function fT(e,t){switch(Gd(t),t.tag){case 3:Qn(Zt),ws();break;case 26:case 27:case 5:Eu(t);break;case 4:ws();break;case 13:qn(t);break;case 19:oe(Wt);break;case 10:Qn(t.type);break;case 22:case 23:qn(t),Xd(),e!==null&&oe(mr);break;case 24:Qn(Zt)}}function Fo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Rt(t,t.return,l)}}function Fi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Rt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Rt(t,t.return,d)}}function dT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{v0(t,n)}catch(i){Rt(e,e.return,i)}}}function mT(e,t,n){n.props=Ar(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Rt(e,t,i)}}function Za(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Rt(e,t,r)}}function Tn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Rt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Rt(e,t,r)}else n.current=null}function gT(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Rt(e,e.return,r)}}function Vh(e,t,n){try{var i=e.stateNode;A2(i,e.type,n,t),i[Ve]=t}catch(r){Rt(e,e.return,r)}}function pT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function kh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||pT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oc));else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Pf(e,t,n),e=e.sibling;e!==null;)Pf(e,t,n),e=e.sibling}function Lu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Lu(e,t,n),e=e.sibling;e!==null;)Lu(e,t,n),e=e.sibling}function yT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);me(t,i,n),t[Ae]=e,t[Ve]=n}catch(s){Rt(e,e.return,s)}}var Ln=!1,Ht=!1,Ph=!1,ay=typeof WeakSet=="function"?WeakSet:Set,re=null;function n2(e,t){if(e=e.containerInfo,Ff=Yu,e=r0(e),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:e,selectionRange:n},Yu=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){switch(t=re,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var O=Ar(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(O,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Rt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}}function _T(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:fi(e,n),i&4&&Fo(5,n);break;case 1:if(fi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Rt(n,n.return,a)}else{var r=Ar(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Rt(n,n.return,a)}}i&64&&dT(n),i&512&&Za(n,n.return);break;case 3:if(fi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{v0(e,t)}catch(a){Rt(n,n.return,a)}}break;case 27:t===null&&i&4&&yT(n);case 26:case 5:fi(e,n),t===null&&i&4&&gT(n),i&512&&Za(n,n.return);break;case 12:fi(e,n);break;case 13:fi(e,n),i&4&&ET(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=h2.bind(null,n),D2(e,n))));break;case 22:if(i=n.memoizedState!==null||Ln,!i){t=t!==null&&t.memoizedState!==null||Ht,r=Ln;var s=Ht;Ln=i,(Ht=t)&&!s?mi(e,n,(n.subtreeFlags&8772)!==0):fi(e,n),Ln=r,Ht=s}break;case 30:break;default:fi(e,n)}}function vT(e){var t=e.alternate;t!==null&&(e.alternate=null,vT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,Ne=!1;function Pn(e,t,n){for(n=n.child;n!==null;)TT(e,t,n),n=n.sibling}function TT(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 26:Ht||Tn(n,t),Pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||Tn(n,t);var i=Vt,r=Ne;Ji(n.type)&&(Vt=n.stateNode,Ne=!1),Pn(e,t,n),eo(n.stateNode),Vt=i,Ne=r;break;case 5:Ht||Tn(n,t);case 6:if(i=Vt,r=Ne,Vt=null,Pn(e,t,n),Vt=i,Ne=r,Vt!==null)if(Ne)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(n.stateNode)}catch(s){Rt(n,t,s)}else try{Vt.removeChild(n.stateNode)}catch(s){Rt(n,t,s)}break;case 18:Vt!==null&&(Ne?(e=Vt,_y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ao(e)):_y(Vt,n.stateNode));break;case 4:i=Vt,r=Ne,Vt=n.stateNode.containerInfo,Ne=!0,Pn(e,t,n),Vt=i,Ne=r;break;case 0:case 11:case 14:case 15:Ht||Fi(2,n,t),Ht||Fi(4,n,t),Pn(e,t,n);break;case 1:Ht||(Tn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&mT(n,t,i)),Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,Pn(e,t,n),Ht=i;break;default:Pn(e,t,n)}}function ET(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ao(e)}catch(n){Rt(t,t.return,n)}}function i2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ay),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ay),t;default:throw Error(L(435,e.tag))}}function Lh(e,t){var n=i2(e);t.forEach(function(i){var r=f2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function ze(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Ji(l.type)){Vt=l.stateNode,Ne=!1;break t}break;case 5:Vt=l.stateNode,Ne=!1;break t;case 3:case 4:Vt=l.stateNode.containerInfo,Ne=!0;break t}l=l.return}if(Vt===null)throw Error(L(160));TT(s,a,r),Vt=null,Ne=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)AT(t,e),t=t.sibling}var hn=null;function AT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ze(t,e),je(e),i&4&&(Fi(3,e,e.return),Fo(3,e),Fi(5,e,e.return));break;case 1:ze(t,e),je(e),i&512&&(Ht||n===null||Tn(n,n.return)),i&64&&Ln&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=hn;if(ze(t,e),je(e),i&512&&(Ht||n===null||Tn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Po]||s[Ae]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),me(s,i,n),s[Ae]=e,se(s),i=s;break t;case"link":var a=by("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),me(s,i,n),r.head.appendChild(s);break;case"meta":if(a=by("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),me(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[Ae]=e,se(s),i=s}e.stateNode=i}else Sy(r,e.type,e.stateNode);else e.stateNode=Ay(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Sy(r,e.type,e.stateNode):Ay(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Vh(e,e.memoizedProps,n.memoizedProps)}break;case 27:ze(t,e),je(e),i&512&&(Ht||n===null||Tn(n,n.return)),n!==null&&i&4&&Vh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ze(t,e),je(e),i&512&&(Ht||n===null||Tn(n,n.return)),e.flags&32){r=e.stateNode;try{Is(r,"")}catch(_){Rt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Vh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Ph=!0);break;case 6:if(ze(t,e),je(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){Rt(e,e.return,_)}}break;case 3:if(ou=null,r=hn,hn=Fu(t.containerInfo),ze(t,e),hn=r,je(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(t.containerInfo)}catch(_){Rt(e,e.return,_)}Ph&&(Ph=!1,bT(e));break;case 4:i=hn,hn=Fu(e.stateNode.containerInfo),ze(t,e),je(e),hn=i;break;case 12:ze(t,e),je(e);break;case 13:ze(t,e),je(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dm=An()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Lh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Ln,d=Ht;if(Ln=h||r,Ht=d||u,ze(t,e),Ht=d,Ln=h,je(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Ln||Ht||or(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Rt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){Rt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Lh(e,n))));break;case 19:ze(t,e),je(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Lh(e,i)));break;case 30:break;case 21:break;default:ze(t,e),je(e)}}function je(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(pT(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=kh(e);Lu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Is(a,""),n.flags&=-33);var l=kh(e);Lu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=kh(e);Pf(e,h,u);break;default:throw Error(L(161))}}catch(d){Rt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_T(e,t.alternate,t),t=t.sibling}function or(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fi(4,t,t.return),or(t);break;case 1:Tn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&mT(t,t.return,n),or(t);break;case 27:eo(t.stateNode);case 26:case 5:Tn(t,t.return),or(t);break;case 22:t.memoizedState===null&&or(t);break;case 30:or(t);break;default:or(t)}e=e.sibling}}function mi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:mi(r,s,n),Fo(4,s);break;case 1:if(mi(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Rt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)_0(u[r],l)}catch(h){Rt(i,i.return,h)}}n&&a&64&&dT(s),Za(s,s.return);break;case 27:yT(s);case 26:case 5:mi(r,s,n),n&&i===null&&a&4&&gT(s),Za(s,s.return);break;case 12:mi(r,s,n);break;case 13:mi(r,s,n),n&&a&4&&ET(r,s);break;case 22:s.memoizedState===null&&mi(r,s,n),Za(s,s.return);break;case 30:break;default:mi(r,s,n)}t=t.sibling}}function um(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&jo(n))}function cm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jo(e))}function yn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ST(e,t,n,i),t=t.sibling}function ST(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,i),r&2048&&Fo(9,t);break;case 1:yn(e,t,n,i);break;case 3:yn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jo(e)));break;case 12:if(r&2048){yn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Rt(t,t.return,u)}}else yn(e,t,n,i);break;case 13:yn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?yn(e,t,n,i):Wa(e,t):s._visibility&2?yn(e,t,n,i):(s._visibility|=2,Kr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&um(a,t);break;case 24:yn(e,t,n,i),r&2048&&cm(t.alternate,t);break;default:yn(e,t,n,i)}}function Kr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Kr(s,a,l,u,r),Fo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Kr(s,a,l,u,r):Wa(s,a):(d._visibility|=2,Kr(s,a,l,u,r)),r&&h&2048&&um(a.alternate,a);break;case 24:Kr(s,a,l,u,r),r&&h&2048&&cm(a.alternate,a);break;default:Kr(s,a,l,u,r)}t=t.sibling}}function Wa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Wa(n,i),r&2048&&um(i.alternate,i);break;case 24:Wa(n,i),r&2048&&cm(i.alternate,i);break;default:Wa(n,i)}t=t.sibling}}var Pa=8192;function Fr(e){if(e.subtreeFlags&Pa)for(e=e.child;e!==null;)wT(e),e=e.sibling}function wT(e){switch(e.tag){case 26:Fr(e),e.flags&Pa&&e.memoizedState!==null&&q2(hn,e.memoizedState,e.memoizedProps);break;case 5:Fr(e);break;case 3:case 4:var t=hn;hn=Fu(e.stateNode.containerInfo),Fr(e),hn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Pa,Pa=16777216,Fr(e),Pa=t):Fr(e));break;default:Fr(e)}}function RT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Da(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];re=i,CT(i,e)}RT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)IT(e),e=e.sibling}function IT(e){switch(e.tag){case 0:case 11:case 15:Da(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:Da(e);break;case 12:Da(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,su(e)):Da(e);break;default:Da(e)}}function su(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];re=i,CT(i,e)}RT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fi(8,t,t.return),su(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,su(t));break;default:su(t)}e=e.sibling}}function CT(e,t){for(;re!==null;){var n=re;switch(n.tag){case 0:case 11:case 15:Fi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:jo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,re=i;else t:for(n=e;re!==null;){i=re;var r=i.sibling,s=i.return;if(vT(i),i===n){re=null;break t}if(r!==null){r.return=s,re=r;break t}re=s}}}var r2={getCacheForType:function(e){var t=be(Zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},s2=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ct=null,lt=null,mt=0,vt=0,Be=null,Ii=!1,Ks=!1,hm=!1,Zn=0,Bt=0,Gi=0,gr=0,fm=0,sn=0,xs=0,Ja=null,Oe=null,Lf=!1,dm=0,Uu=1/0,zu=null,Mi=null,fe=0,Vi=null,Ms=null,Ts=0,Uf=0,zf=null,DT=null,to=0,jf=null;function Ge(){if(Tt&2&&mt!==0)return mt&-mt;if(X.T!==null){var e=Cs;return e!==0?e:gm()}return jv()}function NT(){sn===0&&(sn=!(mt&536870912)||pt?Pv():536870912);var e=an.current;return e!==null&&(e.flags|=32),sn}function Qe(e,t,n){(e===Ct&&(vt===2||vt===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),Ci(e,mt,sn,!1)),ko(e,n),(!(Tt&2)||e!==Ct)&&(e===Ct&&(!(Tt&2)&&(gr|=n),Bt===4&&Ci(e,mt,sn,!1)),On(e))}function OT(e,t,n){if(Tt&6)throw Error(L(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Vo(e,t),r=i?l2(e,t):Uh(e,t,!0),s=i;do{if(r===0){Ks&&!i&&Ci(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!a2(n)){r=Uh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Ja;var u=l.current.memoizedState.isDehydrated;if(u&&(Vs(l,a).flags|=256),a=Uh(l,a,!1),a!==2){if(hm&&!u){l.errorRecoveryDisabledLanes|=s,gr|=s,r=4;break t}s=Oe,Oe=r,s!==null&&(Oe===null?Oe=s:Oe.push.apply(Oe,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Vs(e,0),Ci(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Ci(i,t,sn,!Ii);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(r=dm+300-An(),10<r)){if(Ci(i,t,sn,!Ii),_c(i,0,!0)!==0)break t;i.timeoutHandle=$T(oy.bind(null,i,n,Oe,zu,Lf,t,sn,gr,xs,Ii,s,2,-0,0),r);break t}oy(i,n,Oe,zu,Lf,t,sn,gr,xs,Ii,s,0,-0,0)}}break}while(!0);On(e)}function oy(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(_o={stylesheets:null,count:0,unsuspend:B2},wT(t),g=H2(),g!==null)){e.cancelPendingCommit=g(uy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),Ci(e,s,a,!h);return}uy(e,t,s,n,i,r,a,l,u)}function a2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ye(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t,n,i){t&=~fm,t&=~gr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Fe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Uv(e,n,t)}function Cc(){return Tt&6?!0:(Go(0),!1)}function mm(){if(lt!==null){if(vt===0)var e=lt.return;else e=lt,Bn=Or=null,tm(e),vs=null,go=0,e=lt;for(;e!==null;)fT(e.alternate,e),e=e.return;lt=null}}function Vs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,S2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mm(),Ct=e,lt=n=Gn(e.current,null),mt=t,vt=0,Be=null,Ii=!1,Ks=Vo(e,t),hm=!1,xs=sn=fm=gr=Gi=Bt=0,Oe=Ja=null,Lf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Fe(i),s=1<<r;t|=e[r],i&=~s}return Zn=t,Ac(),n}function xT(e,t){st=null,X.H=xu,t===Bo||t===Sc?(t=zp(),vt=3):t===p0?(t=zp(),vt=4):vt=t===aT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Be=t,lt===null&&(Bt=1,ku(e,en(t,e.current)))}function MT(){var e=X.H;return X.H=xu,e===null?xu:e}function VT(){var e=X.A;return X.A=r2,e}function Bf(){Bt=4,Ii||(mt&4194048)!==mt&&an.current!==null||(Ks=!0),!(Gi&134217727)&&!(gr&134217727)||Ct===null||Ci(Ct,mt,sn,!1)}function Uh(e,t,n){var i=Tt;Tt|=2;var r=MT(),s=VT();(Ct!==e||mt!==t)&&(zu=null,Vs(e,t)),t=!1;var a=Bt;t:do try{if(vt!==0&&lt!==null){var l=lt,u=Be;switch(vt){case 8:mm(),a=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(t=!0);var h=vt;if(vt=0,Be=null,hs(e,l,u,h),n&&Ks){a=0;break t}break;default:h=vt,vt=0,Be=null,hs(e,l,u,h)}}o2(),a=Bt;break}catch(d){xT(e,d)}while(!0);return t&&e.shellSuspendCounter++,Bn=Or=null,Tt=i,X.H=r,X.A=s,lt===null&&(Ct=null,mt=0,Ac()),a}function o2(){for(;lt!==null;)kT(lt)}function l2(e,t){var n=Tt;Tt|=2;var i=MT(),r=VT();Ct!==e||mt!==t?(zu=null,Uu=An()+500,Vs(e,t)):Ks=Vo(e,t);t:do try{if(vt!==0&&lt!==null){t=lt;var s=Be;e:switch(vt){case 1:vt=0,Be=null,hs(e,t,s,1);break;case 2:case 9:if(Up(s)){vt=0,Be=null,ly(t);break}t=function(){vt!==2&&vt!==9||Ct!==e||(vt=7),On(e)},s.then(t,t);break t;case 3:vt=7;break t;case 4:vt=5;break t;case 7:Up(s)?(vt=0,Be=null,ly(t)):(vt=0,Be=null,hs(e,t,s,7));break;case 5:var a=null;switch(lt.tag){case 26:a=lt.memoizedState;case 5:case 27:var l=lt;if(!a||tE(a)){vt=0,Be=null;var u=l.sibling;if(u!==null)lt=u;else{var h=l.return;h!==null?(lt=h,Dc(h)):lt=null}break e}}vt=0,Be=null,hs(e,t,s,5);break;case 6:vt=0,Be=null,hs(e,t,s,6);break;case 8:mm(),Bt=6;break t;default:throw Error(L(462))}}u2();break}catch(d){xT(e,d)}while(!0);return Bn=Or=null,X.H=i,X.A=r,Tt=n,lt!==null?0:(Ct=null,mt=0,Ac(),Bt)}function u2(){for(;lt!==null&&!Ob();)kT(lt)}function kT(e){var t=hT(e.alternate,e,Zn);e.memoizedProps=e.pendingProps,t===null?Dc(e):lt=t}function ly(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ey(n,t,t.pendingProps,t.type,void 0,mt);break;case 11:t=ey(n,t,t.pendingProps,t.type.render,t.ref,mt);break;case 5:tm(t);default:fT(n,t),t=lt=f0(t,Zn),t=hT(n,t,Zn)}e.memoizedProps=e.pendingProps,t===null?Dc(e):lt=t}function hs(e,t,n,i){Bn=Or=null,tm(t),vs=null,go=0;var r=t.return;try{if(WS(e,r,t,n,mt)){Bt=1,ku(e,en(n,e.current)),lt=null;return}}catch(s){if(r!==null)throw lt=r,s;Bt=1,ku(e,en(n,e.current)),lt=null;return}t.flags&32768?(pt||i===1?e=!0:Ks||mt&536870912?e=!1:(Ii=e=!0,(i===2||i===9||i===3||i===6)&&(i=an.current,i!==null&&i.tag===13&&(i.flags|=16384))),PT(t,e)):Dc(t)}function Dc(e){var t=e;do{if(t.flags&32768){PT(t,Ii);return}e=t.return;var n=t2(t.alternate,t,Zn);if(n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);Bt===0&&(Bt=5)}function PT(e,t){do{var n=e2(e.alternate,e);if(n!==null){n.flags&=32767,lt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=n}while(e!==null);Bt=6,lt=null}function uy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Nc();while(fe!==0);if(Tt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(s=t.lanes|t.childLanes,s|=Bd,Bb(e,n,s,a,l,u),e===Ct&&(lt=Ct=null,mt=0),Ms=t,Vi=e,Ts=n,Uf=s,zf=r,DT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,d2(Au,function(){return BT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,r=yt.p,yt.p=2,a=Tt,Tt|=4;try{n2(e,t,n)}finally{Tt=a,yt.p=r,X.T=i}}fe=1,LT(),UT(),zT()}}function LT(){if(fe===1){fe=0;var e=Vi,t=Ms,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=yt.p;yt.p=2;var r=Tt;Tt|=4;try{AT(t,e);var s=Gf,a=r0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&i0(l.ownerDocument.documentElement,l)){if(u!==null&&jd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),O=l.textContent.length,M=Math.min(u.start,O),k=u.end===void 0?M:Math.min(u.end,O);!_.extend&&M>k&&(a=k,k=M,M=a);var b=Np(l,M),v=Np(l,k);if(b&&v&&(_.rangeCount!==1||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=g.createRange();w.setStart(b.node,b.offset),_.removeAllRanges(),M>k?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Yu=!!Ff,Gf=Ff=null}finally{Tt=r,yt.p=i,X.T=n}}e.current=t,fe=2}}function UT(){if(fe===2){fe=0;var e=Vi,t=Ms,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=yt.p;yt.p=2;var r=Tt;Tt|=4;try{_T(e,t.alternate,t)}finally{Tt=r,yt.p=i,X.T=n}}fe=3}}function zT(){if(fe===4||fe===3){fe=0,xb();var e=Vi,t=Ms,n=Ts,i=DT;t.subtreeFlags&10256||t.flags&10256?fe=5:(fe=0,Ms=Vi=null,jT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Mi=null),Md(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,r=yt.p,yt.p=2,X.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{X.T=t,yt.p=r}}Ts&3&&Nc(),On(e),r=e.pendingLanes,n&4194090&&r&42?e===jf?to++:(to=0,jf=e):to=0,Go(0)}}function jT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jo(t)))}function Nc(e){return LT(),UT(),zT(),BT()}function BT(){if(fe!==5)return!1;var e=Vi,t=Uf;Uf=0;var n=Md(Ts),i=X.T,r=yt.p;try{yt.p=32>n?32:n,X.T=null,n=zf,zf=null;var s=Vi,a=Ts;if(fe=0,Ms=Vi=null,Ts=0,Tt&6)throw Error(L(331));var l=Tt;if(Tt|=4,IT(s.current),ST(s,s.current,a,n),Tt=l,Go(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Mo,s)}catch{}return!0}finally{yt.p=r,X.T=i,jT(e,t)}}function cy(e,t,n){t=en(n,t),t=Mf(e.stateNode,t,2),e=xi(e,t,2),e!==null&&(ko(e,2),On(e))}function Rt(e,t,n){if(e.tag===3)cy(e,e,n);else for(;t!==null;){if(t.tag===3){cy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Mi===null||!Mi.has(i))){e=en(n,e),n=rT(2),i=xi(t,n,2),i!==null&&(sT(n,i,t,e),ko(i,2),On(i));break}}t=t.return}}function zh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new s2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(hm=!0,r.add(n),e=c2.bind(null,e,t,n),t.then(e,e))}function c2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ct===e&&(mt&n)===n&&(Bt===4||Bt===3&&(mt&62914560)===mt&&300>An()-dm?!(Tt&2)&&Vs(e,0):fm|=n,xs===mt&&(xs=0)),On(e)}function qT(e,t){t===0&&(t=Lv()),e=Ys(e,t),e!==null&&(ko(e,t),On(e))}function h2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qT(e,n)}function f2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),qT(e,n)}function d2(e,t){return Od(e,t)}var ju=null,Xr=null,qf=!1,Bu=!1,jh=!1,pr=0;function On(e){e!==Xr&&e.next===null&&(Xr===null?ju=Xr=e:Xr=Xr.next=e),Bu=!0,qf||(qf=!0,g2())}function Go(e,t){if(!jh&&Bu){jh=!0;do for(var n=!1,i=ju;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Fe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,hy(i,s))}else s=mt,s=_c(i,i===Ct?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Vo(i,s)||(n=!0,hy(i,s));i=i.next}while(n);jh=!1}}function m2(){HT()}function HT(){Bu=qf=!1;var e=0;pr!==0&&(b2()&&(e=pr),pr=0);for(var t=An(),n=null,i=ju;i!==null;){var r=i.next,s=FT(i,t);s===0?(i.next=null,n===null?ju=r:n.next=r,r===null&&(Xr=n)):(n=i,(e!==0||s&3)&&(Bu=!0)),i=r}Go(e)}function FT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Fe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=jb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=Ct,n=mt,n=_c(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(vt===2||vt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&fh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Vo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&fh(i),Md(n)){case 2:case 8:n=Vv;break;case 32:n=Au;break;case 268435456:n=kv;break;default:n=Au}return i=GT.bind(null,e),n=Od(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&fh(i),e.callbackPriority=2,e.callbackNode=null,2}function GT(e,t){if(fe!==0&&fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var i=mt;return i=_c(e,e===Ct?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(OT(e,i,t),FT(e,An()),e.callbackNode!=null&&e.callbackNode===n?GT.bind(null,e):null)}function hy(e,t){if(Nc())return null;OT(e,t,!0)}function g2(){w2(function(){Tt&6?Od(Mv,m2):HT()})}function gm(){return pr===0&&(pr=Pv()),pr}function fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zl(""+e)}function dy(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function p2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=fy((r[Ve]||null).action),a=i.submitter;a&&(t=(t=a[Ve]||null)?fy(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new vc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(pr!==0){var u=a?dy(r,a):new FormData(r);Of(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?dy(r,a):new FormData(r),Of(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Bh=0;Bh<vf.length;Bh++){var qh=vf[Bh],y2=qh.toLowerCase(),_2=qh[0].toUpperCase()+qh.slice(1);pn(y2,"on"+_2)}pn(a0,"onAnimationEnd");pn(o0,"onAnimationIteration");pn(l0,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(kS,"onTransitionRun");pn(PS,"onTransitionStart");pn(LS,"onTransitionCancel");pn(u0,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function QT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Vu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Vu(d)}r.currentTarget=null,s=u}}}}function ot(e,t){var n=t[ff];n===void 0&&(n=t[ff]=new Set);var i=e+"__bubble";n.has(i)||(YT(t,e,2,!1),n.add(i))}function Hh(e,t,n){var i=0;t&&(i|=4),YT(n,e,i,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function pm(e){if(!e[zl]){e[zl]=!0,Bv.forEach(function(n){n!=="selectionchange"&&(v2.has(n)||Hh(n,!1,e),Hh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,Hh("selectionchange",!1,t))}}function YT(e,t,n,i){switch(sE(t)){case 2:var r=Q2;break;case 8:r=Y2;break;default:r=Tm}n=r.bind(null,t,n,e),r=void 0,!pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Fh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ns(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}Xv(function(){var h=s,d=Pd(n),g=[];t:{var m=c0.get(e);if(m!==void 0){var _=vc,O=e;switch(e){case"keypress":if(Jl(n)===0)break t;case"keydown":case"keyup":_=dS;break;case"focusin":O="focus",_=Th;break;case"focusout":O="blur",_=Th;break;case"beforeblur":case"afterblur":_=Th;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=eS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=pS;break;case a0:case o0:case l0:_=rS;break;case u0:_=_S;break;case"scroll":case"scrollend":_=Jb;break;case"wheel":_=TS;break;case"copy":case"cut":case"paste":_=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ap;break;case"toggle":case"beforetoggle":_=AS}var M=(t&4)!==0,k=!M&&(e==="scroll"||e==="scrollend"),b=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,w;v!==null;){var N=v;if(w=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||w===null||b===null||(N=uo(v,b),N!=null&&M.push(yo(v,N,w))),k)break;v=v.return}0<M.length&&(m=new _(m,O,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==gf&&(O=n.relatedTarget||n.fromElement)&&(ns(O)||O[Gs]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=h,O=O?ns(O):null,O!==null&&(k=xo(O),M=O.tag,O!==k||M!==5&&M!==27&&M!==6)&&(O=null)):(_=null,O=h),_!==O)){if(M=Tp,N="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=Ap,N="onPointerLeave",b="onPointerEnter",v="pointer"),k=_==null?m:ka(_),w=O==null?m:ka(O),m=new M(N,v+"leave",_,n,d),m.target=k,m.relatedTarget=w,N=null,ns(d)===h&&(M=new M(b,v+"enter",O,n,d),M.target=w,M.relatedTarget=k,N=M),k=N,_&&O)e:{for(M=_,b=O,v=0,w=M;w;w=Gr(w))v++;for(w=0,N=b;N;N=Gr(N))w++;for(;0<v-w;)M=Gr(M),v--;for(;0<w-v;)b=Gr(b),w--;for(;v--;){if(M===b||b!==null&&M===b.alternate)break e;M=Gr(M),b=Gr(b)}M=null}else M=null;_!==null&&my(g,m,_,M,!1),O!==null&&k!==null&&my(g,k,O,M,!0)}}t:{if(m=h?ka(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=Rp;else if(wp(m))if(e0)z=xS;else{z=NS;var j=DS}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&kd(h.elementType)&&(z=Rp):z=OS;if(z&&(z=z(e,h))){t0(g,z,n,d);break t}j&&j(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&mf(m,"number",m.value)}switch(j=h?ka(h):window,e){case"focusin":(wp(j)||j.contentEditable==="true")&&(ss=j,yf=h,Fa=null);break;case"focusout":Fa=yf=ss=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Op(g,n,d);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Op(g,n,d)}var T;if(zd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else rs?Wv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Zv&&n.locale!=="ko"&&(rs||y!=="onCompositionStart"?y==="onCompositionEnd"&&rs&&(T=$v()):(Ri=d,Ld="value"in Ri?Ri.value:Ri.textContent,rs=!0)),j=qu(h,y),0<j.length&&(y=new Ep(y,e,null,n,d),g.push({event:y,listeners:j}),T?y.data=T:(T=Jv(n),T!==null&&(y.data=T)))),(T=SS?wS(e,n):RS(e,n))&&(y=qu(h,"onBeforeInput"),0<y.length&&(j=new Ep("onBeforeInput","beforeinput",null,n,d),g.push({event:j,listeners:y}),j.data=T)),p2(g,e,h,n,d)}QT(g,t)})}function yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=uo(e,n),r!=null&&i.unshift(yo(e,r,s)),r=uo(e,t),r!=null&&i.push(yo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function my(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=uo(n,s),h!=null&&a.unshift(yo(n,h,u))):r||(h=uo(n,s),h!=null&&a.push(yo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var T2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function gy(e){return(typeof e=="string"?e:""+e).replace(T2,`
`).replace(E2,"")}function KT(e,t){return t=gy(t),gy(e)===t}function Oc(){}function At(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Is(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Is(e,""+i);break;case"className":xl(e,"class",i);break;case"tabIndex":xl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(e,n,i);break;case"style":Kv(e,i,s);break;case"data":if(t!=="object"){xl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Zl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&At(e,t,"name",r.name,r,null),At(e,t,"formEncType",r.formEncType,r,null),At(e,t,"formMethod",r.formMethod,r,null),At(e,t,"formTarget",r.formTarget,r,null)):(At(e,t,"encType",r.encType,r,null),At(e,t,"method",r.method,r,null),At(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Zl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Oc);break;case"onScroll":i!=null&&ot("scroll",e);break;case"onScrollEnd":i!=null&&ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Zl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ot("beforetoggle",e),ot("toggle",e),$l(e,"popover",i);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":$l(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zb.get(n)||n,$l(e,n,i))}}function Hf(e,t,n,i,r,s){switch(n){case"style":Kv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Is(e,i):(typeof i=="number"||typeof i=="bigint")&&Is(e,""+i);break;case"onScroll":i!=null&&ot("scroll",e);break;case"onScrollEnd":i!=null&&ot("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ve]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):$l(e,n,i)}}}function me(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",e),ot("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:At(e,t,s,a,n,null)}}r&&At(e,t,"srcSet",n.srcSet,n,null),i&&At(e,t,"src",n.src,n,null);return;case"input":ot("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:At(e,t,i,d,n,null)}}Gv(e,s,l,u,h,a,r,!1),bu(e);return;case"select":ot("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:At(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ms(e,!!i,t,!1):n!=null&&ms(e,!!i,n,!0);return;case"textarea":ot("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:At(e,t,a,l,n,null)}Yv(e,i,r,s),bu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:At(e,t,u,i,n,null)}return;case"dialog":ot("beforetoggle",e),ot("toggle",e),ot("cancel",e),ot("close",e);break;case"iframe":case"object":ot("load",e);break;case"video":case"audio":for(i=0;i<po.length;i++)ot(po[i],e);break;case"image":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"embed":case"source":case"link":ot("error",e),ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:At(e,t,h,i,n,null)}return;default:if(kd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Hf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&At(e,t,l,i,n,null))}function A2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||At(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,t));break;default:_!==g&&At(e,t,m,_,i,g)}}df(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||At(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&At(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?ms(e,!!n,m,!1):!!i!=!!n&&(t!=null?ms(e,!!n,t,!0):ms(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:At(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&At(e,t,a,r,i,s)}Qv(e,m,_);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:At(e,t,O,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:At(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&At(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:At(e,t,h,m,i,_)}return;default:if(kd(t)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&Hf(e,t,k,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Hf(e,t,d,m,i,_);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&At(e,t,b,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||At(e,t,g,m,i,_)}var Ff=null,Gf=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gh=null;function b2(){var e=window.event;return e&&e.type==="popstate"?e===Gh?!1:(Gh=e,!0):(Gh=null,!1)}var $T=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(R2)}:$T;function R2(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function _y(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&eo(a.documentElement),n&2&&eo(a.body),n&4)for(n=a.head,eo(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Po]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),Ao(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Ao(t)}function Yf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yf(n),Vd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function I2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Po])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function C2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=mn(e.nextSibling),e===null))return null;return e}function Kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function D2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Xf=null;function vy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function ZT(e,t,n){switch(t=Hu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function eo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vd(e)}var on=new Map,Ty=new Set;function Fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ri=yt.d;yt.d={f:N2,r:O2,D:x2,C:M2,L:V2,m:k2,X:L2,S:P2,M:U2};function N2(){var e=ri.f(),t=Cc();return e||t}function O2(e){var t=Qs(e);t!==null&&t.tag===5&&t.type==="form"?F0(t):ri.r(e)}var Xs=typeof document>"u"?null:document;function WT(e,t,n){var i=Xs;if(i&&typeof t=="string"&&t){var r=tn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Ty.has(r)||(Ty.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),me(t,"link",e),se(t),i.head.appendChild(t)))}}function x2(e){ri.D(e),WT("dns-prefetch",e,null)}function M2(e,t){ri.C(e,t),WT("preconnect",e,t)}function V2(e,t,n){ri.L(e,t,n);var i=Xs;if(i&&e&&t){var r='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+tn(n.imageSizes)+'"]')):r+='[href="'+tn(e)+'"]';var s=r;switch(t){case"style":s=ks(e);break;case"script":s=$s(e)}on.has(s)||(e=Mt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),on.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Qo(s))||t==="script"&&i.querySelector(Yo(s))||(t=i.createElement("link"),me(t,"link",e),se(t),i.head.appendChild(t)))}}function k2(e,t){ri.m(e,t);var n=Xs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+tn(i)+'"][href="'+tn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=$s(e)}if(!on.has(s)&&(e=Mt({rel:"modulepreload",href:e},t),on.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yo(s)))return}i=n.createElement("link"),me(i,"link",e),se(i),n.head.appendChild(i)}}}function P2(e,t,n){ri.S(e,t,n);var i=Xs;if(i&&e){var r=ds(i).hoistableStyles,s=ks(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Qo(s)))l.loading=5;else{e=Mt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=on.get(s))&&ym(e,n);var u=a=i.createElement("link");se(u),me(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,au(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function L2(e,t){ri.X(e,t);var n=Xs;if(n&&e){var i=ds(n).hoistableScripts,r=$s(e),s=i.get(r);s||(s=n.querySelector(Yo(r)),s||(e=Mt({src:e,async:!0},t),(t=on.get(r))&&_m(e,t),s=n.createElement("script"),se(s),me(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function U2(e,t){ri.M(e,t);var n=Xs;if(n&&e){var i=ds(n).hoistableScripts,r=$s(e),s=i.get(r);s||(s=n.querySelector(Yo(r)),s||(e=Mt({src:e,async:!0,type:"module"},t),(t=on.get(r))&&_m(e,t),s=n.createElement("script"),se(s),me(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Ey(e,t,n,i){var r=(r=Ni.current)?Fu(r):null;if(!r)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ks(n.href),n=ds(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ks(n.href);var s=ds(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Qo(e)))&&!s._p&&(a.instance=s,a.state.loading=5),on.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},on.set(e,n),s||z2(r,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$s(n),n=ds(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function ks(e){return'href="'+tn(e)+'"'}function Qo(e){return'link[rel="stylesheet"]['+e+"]"}function JT(e){return Mt({},e,{"data-precedence":e.precedence,precedence:null})}function z2(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),me(t,"link",n),se(t),e.head.appendChild(t))}function $s(e){return'[src="'+tn(e)+'"]'}function Yo(e){return"script[async]"+e}function Ay(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+tn(n.href)+'"]');if(i)return t.instance=i,se(i),i;var r=Mt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),se(i),me(i,"style",r),au(i,n.precedence,e),t.instance=i;case"stylesheet":r=ks(n.href);var s=e.querySelector(Qo(r));if(s)return t.state.loading|=4,t.instance=s,se(s),s;i=JT(n),(r=on.get(r))&&ym(i,r),s=(e.ownerDocument||e).createElement("link"),se(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),me(s,"link",i),t.state.loading|=4,au(s,n.precedence,e),t.instance=s;case"script":return s=$s(n.src),(r=e.querySelector(Yo(s)))?(t.instance=r,se(r),r):(i=n,(r=on.get(s))&&(i=Mt({},n),_m(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),se(r),me(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,au(i,n.precedence,e));return t.instance}function au(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ym(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _m(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ou=null;function by(e,t,n){if(ou===null){var i=new Map,r=ou=new Map;r.set(n,i)}else r=ou,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Po]||s[Ae]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Sy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function j2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var _o=null;function B2(){}function q2(e,t,n){if(_o===null)throw Error(L(475));var i=_o;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ks(n.href),s=e.querySelector(Qo(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Gu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,se(s);return}s=e.ownerDocument||e,n=JT(n),(r=on.get(r))&&ym(n,r),s=s.createElement("link"),se(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),me(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Gu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function H2(){if(_o===null)throw Error(L(475));var e=_o;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qu=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qu=new Map,t.forEach(F2,e),Qu=null,Gu.call(e))}function F2(e,t){if(!(t.state.loading&4)){var n=Qu.get(e);if(n)var i=n.get(null);else{n=new Map,Qu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Gu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var vo={$$typeof:Un,Provider:null,Consumer:null,_currentValue:cr,_currentValue2:cr,_threadCount:0};function G2(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.hiddenUpdates=dh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function eE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new G2(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=qe(3,null,null,t),e.current=s,s.stateNode=e,t=Qd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Kd(s),e}function nE(e){return e?(e=ls,e):ls}function iE(e,t,n,i,r,s){r=nE(r),i.context===null?i.context=r:i.pendingContext=r,i=Oi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=xi(e,i,t),n!==null&&(Qe(n,e,t),Ya(n,e,t))}function wy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vm(e,t){wy(e,t),(e=e.alternate)&&wy(e,t)}function rE(e){if(e.tag===13){var t=Ys(e,67108864);t!==null&&Qe(t,e,67108864),vm(e,67108864)}}var Yu=!0;function Q2(e,t,n,i){var r=X.T;X.T=null;var s=yt.p;try{yt.p=2,Tm(e,t,n,i)}finally{yt.p=s,X.T=r}}function Y2(e,t,n,i){var r=X.T;X.T=null;var s=yt.p;try{yt.p=8,Tm(e,t,n,i)}finally{yt.p=s,X.T=r}}function Tm(e,t,n,i){if(Yu){var r=Zf(i);if(r===null)Fh(e,t,i,Ku,n),Ry(e,i);else if(X2(r,e,t,n,i))i.stopPropagation();else if(Ry(e,i),t&4&&-1<K2.indexOf(e)){for(;r!==null;){var s=Qs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=sr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Fe(a);l.entanglements[1]|=u,a&=~u}On(s),!(Tt&6)&&(Uu=An()+500,Go(0))}}break;case 13:l=Ys(s,2),l!==null&&Qe(l,s,2),Cc(),vm(s,2)}if(s=Zf(i),s===null&&Fh(e,t,i,Ku,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fh(e,t,i,null,n)}}function Zf(e){return e=Pd(e),Em(e)}var Ku=null;function Em(e){if(Ku=null,e=ns(e),e!==null){var t=xo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Dv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ku=e,null}function sE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mb()){case Mv:return 2;case Vv:return 8;case Au:case Vb:return 32;case kv:return 268435456;default:return 32}default:return 32}}var Wf=!1,ki=null,Pi=null,Li=null,To=new Map,Eo=new Map,Ti=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(e,t){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":To.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function Na(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Qs(t),t!==null&&rE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function X2(e,t,n,i,r){switch(t){case"focusin":return ki=Na(ki,e,t,n,i,r),!0;case"dragenter":return Pi=Na(Pi,e,t,n,i,r),!0;case"mouseover":return Li=Na(Li,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return To.set(s,Na(To.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Eo.set(s,Na(Eo.get(s)||null,e,t,n,i,r)),!0}return!1}function aE(e){var t=ns(e.target);if(t!==null){var n=xo(t);if(n!==null){if(t=n.tag,t===13){if(t=Dv(n),t!==null){e.blockedOn=t,qb(e.priority,function(){if(n.tag===13){var i=Ge();i=xd(i);var r=Ys(n,i);r!==null&&Qe(r,n,i),vm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);gf=i,n.target.dispatchEvent(i),gf=null}else return t=Qs(n),t!==null&&rE(t),e.blockedOn=n,!1;t.shift()}return!0}function Iy(e,t,n){lu(e)&&n.delete(t)}function $2(){Wf=!1,ki!==null&&lu(ki)&&(ki=null),Pi!==null&&lu(Pi)&&(Pi=null),Li!==null&&lu(Li)&&(Li=null),To.forEach(Iy),Eo.forEach(Iy)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,$2)))}var Bl=null;function Cy(e){Bl!==e&&(Bl=e,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Em(i||n)===null)continue;break}var s=Qs(n);s!==null&&(e.splice(t,3),t-=3,Of(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Ao(e){function t(u){return jl(u,e)}ki!==null&&jl(ki,e),Pi!==null&&jl(Pi,e),Li!==null&&jl(Li,e),To.forEach(t),Eo.forEach(t);for(var n=0;n<Ti.length;n++){var i=Ti[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)aE(n),n.blockedOn===null&&Ti.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ve]||null;if(typeof s=="function")a||Cy(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ve]||null)l=a.formAction;else if(Em(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Cy(n)}}}function Am(e){this._internalRoot=e}xc.prototype.render=Am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Ge();iE(n,i,e,t,null,null)};xc.prototype.unmount=Am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;iE(e.current,2,null,e,null,null),Cc(),t[Gs]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ti.length&&t!==0&&t<Ti[n].priority;n++);Ti.splice(n,0,e),n===0&&aE(e)}};var Dy=Iv.version;if(Dy!=="19.1.0")throw Error(L(527,Dy,"19.1.0"));yt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Rb(t),e=e!==null?Nv(e):null,e=e===null?null:e.stateNode,e};var Z2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Mo=ql.inject(Z2),He=ql}catch{}}pc.createRoot=function(e,t){if(!Cv(e))throw Error(L(299));var n=!1,i="",r=eT,s=nT,a=iT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=eE(e,1,!1,null,null,n,i,r,s,a,l,null),e[Gs]=t.current,pm(e),new Am(t)};pc.hydrateRoot=function(e,t,n){if(!Cv(e))throw Error(L(299));var i=!1,r="",s=eT,a=nT,l=iT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=eE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=nE(null),n=t.current,i=Ge(),i=xd(i),r=Oi(i),r.callback=null,xi(n,r,i),n=i,t.current.lanes=n,ko(t,n),On(t),e[Gs]=t.current,pm(e),new xc(t)};pc.version="19.1.0";function oE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oE)}catch(e){console.error(e)}}oE(),Ev.exports=pc;var W2=Ev.exports;const J2=cv(W2),tw=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ew=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ew(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new nw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const O=h<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iw=function(e){const t=lE(e);return uE.encodeByteArray(t,!0)},Xu=function(e){return iw(e).replace(/\./g,"")},cE=function(e){try{return uE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=()=>rw().__FIREBASE_DEFAULTS__,aw=()=>{if(typeof process>"u"||typeof Ny>"u")return;const e=Ny.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ow=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&cE(e[1]);return t&&JSON.parse(t)},Mc=()=>{try{return tw()||sw()||aw()||ow()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hE=e=>{var t,n;return(n=(t=Mc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lw=e=>{const t=hE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},fE=()=>{var e;return(e=Mc())===null||e===void 0?void 0:e.config},dE=e=>{var t;return(t=Mc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e){return e.endsWith(".cloudworkstations.dev")}async function mE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xu(JSON.stringify(n)),Xu(JSON.stringify(a)),""].join(".")}const no={};function hw(){const e={prod:[],emulator:[]};for(const t of Object.keys(no))no[t]?e.emulator.push(t):e.prod.push(t);return e}function fw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Oy=!1;function gE(e,t){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||no[e]===t||no[e]||Oy)return;no[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=hw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Oy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=fw(i),_=n("text"),O=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(k,M);const N=h();u(v,b),w.append(v,O,k,N),document.body.appendChild(w)}s?(O.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function mw(){var e;const t=(e=Mc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _w(){const e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vw(){return!mw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ew(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="FirebaseError";class si extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Aw,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?bw(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new si(r,l,i)}}function bw(e,t){return e.replace(Sw,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Sw=/\{\$([^}]+)}/g;function ww(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function br(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(xy(s)&&xy(a)){if(!br(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function xy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Rw(e,t){const n=new Iw(e,t);return n.subscribe.bind(n)}class Iw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Cw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Qh),r.error===void 0&&(r.error=Qh),r.complete===void 0&&(r.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e){return e&&e._delegate?e._delegate:e}class Sr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new uw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ow(t))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lr){return this.instances.has(t)}getOptions(t=lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nw(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=lr){return this.component?this.component.multipleInstances?t:lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nw(e){return e===lr?void 0:e}function Ow(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Dw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ht||(ht={}));const Mw={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},Vw=ht.INFO,kw={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},Pw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=kw[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=Vw,this._logHandler=Pw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const Lw=(e,t)=>t.some(n=>e instanceof n);let My,Vy;function Uw(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zw(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Jf=new WeakMap,yE=new WeakMap,Yh=new WeakMap,Sm=new WeakMap;function jw(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ui(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&pE.set(n,e)}).catch(()=>{}),Sm.set(t,e),t}function Bw(e){if(Jf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Jf.set(e,t)}let td={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Jf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function qw(e){td=e(td)}function Hw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Kh(this),t,...n);return yE.set(i,t.sort?t.sort():[t]),Ui(i)}:zw().includes(e)?function(...t){return e.apply(Kh(this),t),Ui(pE.get(this))}:function(...t){return Ui(e.apply(Kh(this),t))}}function Fw(e){return typeof e=="function"?Hw(e):(e instanceof IDBTransaction&&Bw(e),Lw(e,Uw())?new Proxy(e,td):e)}function Ui(e){if(e instanceof IDBRequest)return jw(e);if(Yh.has(e))return Yh.get(e);const t=Fw(e);return t!==e&&(Yh.set(e,t),Sm.set(t,e)),t}const Kh=e=>Sm.get(e);function Gw(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ui(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ui(a.result),u.oldVersion,u.newVersion,Ui(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Qw=["get","getKey","getAll","getAllKeys","count"],Yw=["put","add","delete","clear"],Xh=new Map;function ky(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Xh.get(t))return Xh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Yw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Qw.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Xh.set(t,s),s}qw(e=>({...e,get:(t,n,i)=>ky(t,n)||e.get(t,n,i),has:(t,n)=>!!ky(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Xw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ed="@firebase/app",Py="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new bm("@firebase/app"),$w="@firebase/app-compat",Zw="@firebase/analytics-compat",Ww="@firebase/analytics",Jw="@firebase/app-check-compat",tR="@firebase/app-check",eR="@firebase/auth",nR="@firebase/auth-compat",iR="@firebase/database",rR="@firebase/data-connect",sR="@firebase/database-compat",aR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",uR="@firebase/installations-compat",cR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",mR="@firebase/remote-config",gR="@firebase/remote-config-compat",pR="@firebase/storage",yR="@firebase/storage-compat",_R="@firebase/firestore",vR="@firebase/ai",TR="@firebase/firestore-compat",ER="firebase",AR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",bR={[ed]:"fire-core",[$w]:"fire-core-compat",[Ww]:"fire-analytics",[Zw]:"fire-analytics-compat",[tR]:"fire-app-check",[Jw]:"fire-app-check-compat",[eR]:"fire-auth",[nR]:"fire-auth-compat",[iR]:"fire-rtdb",[rR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[aR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[uR]:"fire-iid-compat",[cR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[mR]:"fire-rc",[gR]:"fire-rc-compat",[pR]:"fire-gcs",[yR]:"fire-gcs-compat",[_R]:"fire-fst",[TR]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,SR=new Map,id=new Map;function Ly(e,t){try{e.container.addComponent(t)}catch(n){Wn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ps(e){const t=e.name;if(id.has(t))return Wn.debug(`There were multiple attempts to register component ${t}.`),!1;id.set(t,e);for(const n of $u.values())Ly(n,e);for(const n of SR.values())Ly(n,e);return!0}function wm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Ko("app","Firebase",wR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=AR;function _E(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:nd,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw zi.create("bad-app-name",{appName:String(r)});if(n||(n=fE()),!n)throw zi.create("no-options");const s=$u.get(r);if(s){if(br(n,s.options)&&br(i,s.config))return s;throw zi.create("duplicate-app",{appName:r})}const a=new xw(r);for(const u of id.values())a.addComponent(u);const l=new RR(n,i,a);return $u.set(r,l),l}function vE(e=nd){const t=$u.get(e);if(!t&&e===nd&&fE())return _E();if(!t)throw zi.create("no-app",{appName:e});return t}function ji(e,t,n){var i;let r=(i=bR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wn.warn(l.join(" "));return}Ps(new Sr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebase-heartbeat-database",CR=1,bo="firebase-heartbeat-store";let $h=null;function TE(){return $h||($h=Gw(IR,CR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(e=>{throw zi.create("idb-open",{originalErrorMessage:e.message})})),$h}async function DR(e){try{const n=(await TE()).transaction(bo),i=await n.objectStore(bo).get(EE(e));return await n.done,i}catch(t){if(t instanceof si)Wn.warn(t.message);else{const n=zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wn.warn(n.message)}}}async function Uy(e,t){try{const i=(await TE()).transaction(bo,"readwrite");await i.objectStore(bo).put(t,EE(e)),await i.done}catch(n){if(n instanceof si)Wn.warn(n.message);else{const i=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(i.message)}}}function EE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,OR=30;class xR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>OR){const a=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zy(),{heartbeatsToSend:i,unsentEntries:r}=MR(this._heartbeatsCache.heartbeats),s=Xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wn.warn(n),""}}}function zy(){return new Date().toISOString().substring(0,10)}function MR(e,t=NR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),jy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),jy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class VR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tw()?Ew().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function jy(e){return Xu(JSON.stringify({version:2,heartbeats:e})).length}function kR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(e){Ps(new Sr("platform-logger",t=>new Kw(t),"PRIVATE")),Ps(new Sr("heartbeat",t=>new xR(t),"PRIVATE")),ji(ed,Py,e),ji(ed,Py,"esm2017"),ji("fire-js","")}PR("");var LR="firebase",UR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(LR,UR,"app");function Rm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=AE,bE=new Ko("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new bm("@firebase/auth");function jR(e,...t){Zu.logLevel<=ht.WARN&&Zu.warn(`Auth (${Ws}): ${e}`,...t)}function uu(e,...t){Zu.logLevel<=ht.ERROR&&Zu.error(`Auth (${Ws}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,...t){throw Im(e,...t)}function Sn(e,...t){return Im(e,...t)}function SE(e,t,n){const i=Object.assign(Object.assign({},zR()),{[t]:n});return new Ko("auth","Firebase",i).create(t,{appName:e.name})}function Yn(e){return SE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return bE.create(e,...t)}function $(e,t,...n){if(!e)throw Im(t,...n)}function Hn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uu(t),new Error(t)}function ti(e,t){e||Hn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function BR(){return By()==="http:"||By()==="https:"}function By(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||pw()||"connection"in navigator)?navigator.onLine:!0}function HR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n){this.shortDelay=t,this.longDelay=n,ti(n>t,"Short delay should be less than long delay!"),this.isMobile=dw()||yw()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e,t){ti(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QR=new $o(3e4,6e4);function Zo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Js(e,t,n,i,r={}){return RE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Xo(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return gw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Zs(e.emulatorConfig.host)&&(h.credentials="include"),wE.fetch()(await IE(e,e.config.apiHost,n,l),h)})}async function RE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},FR),t);try{const r=new YR(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Hl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Hl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Hl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw SE(e,d,h);Jn(e,d)}}catch(r){if(r instanceof si)throw r;Jn(e,"network-request-failed",{message:String(r)})}}async function Dm(e,t,n,i,r={}){const s=await Js(e,t,n,i,r);return"mfaPendingCredential"in s&&Jn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function IE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Cm(e.config,r):`${e.config.apiScheme}://${r}`;return GR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class YR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Sn(this.auth,"network-request-failed")),QR.get())})}}function Hl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Sn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(e,t){return Js(e,"POST","/v1/accounts:delete",t)}async function Wu(e,t){return Js(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XR(e,t=!1){const n=ke(e),i=await n.getIdToken(t),r=Nm(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:io(Zh(r.auth_time)),issuedAtTime:io(Zh(r.iat)),expirationTime:io(Zh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zh(e){return Number(e)*1e3}function Nm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return uu("JWT malformed, contained fewer than 3 sections"),null;try{const r=cE(n);return r?JSON.parse(r):(uu("Failed to decode base64 JWT payload"),null)}catch(r){return uu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function qy(e){const t=Nm(e);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof si&&$R(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function $R({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(e){var t;const n=e.auth,i=await e.getIdToken(),r=await So(e,Wu(n,{idToken:i}));$(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?CE(s.providerUserInfo):[],l=JR(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new sd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function WR(e){const t=ke(e);await Ju(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JR(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function CE(e){return e.map(t=>{var{providerId:n}=t,i=Rm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(e,t){const n=await RE(e,{},async()=>{const i=Xo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await IE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Zs(e.emulatorConfig.host)&&(u.credentials="include"),wE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eI(e,t){return Js(e,"POST","/v2/accounts:revokeToken",Zo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){$(t.length!==0,"internal-error");const n=qy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await tI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Es;return i&&($(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Es,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e,t){$(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Rm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await So(this,this.stsTokenManager.getToken(this.auth,t));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XR(this,t)}reload(){return WR(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Yn(this.auth));const t=await this.getIdToken();return await So(this,KR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:N,isAnonymous:z,providerData:j,stsTokenManager:T}=n;$(w&&T,t,"internal-error");const y=Es.fromJSON(this.name,T);$(typeof w=="string",t,"internal-error"),di(g,t.name),di(m,t.name),$(typeof N=="boolean",t,"internal-error"),$(typeof z=="boolean",t,"internal-error"),di(_,t.name),di(O,t.name),di(M,t.name),di(k,t.name),di(b,t.name),di(v,t.name);const E=new fn({uid:w,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:z,photoURL:O,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:b,lastLoginAt:v});return j&&Array.isArray(j)&&(E.providerData=j.map(A=>Object.assign({},A))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Es;r.updateFromServerResponse(n);const s=new fn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ju(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?CE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Es;l.updateFromIdToken(i);const u=new fn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new sd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Fn(e){ti(e instanceof Function,"Expected a class definition");let t=Hy.get(e);return t?(ti(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}DE.type="NONE";const Fy=DE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e,t,n){return`firebase:${e}:${t}:${n}`}class As{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=cu(this.userKey,r.apiKey,s),this.fullPersistenceKey=cu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wu(this.auth,{idToken:t}).catch(()=>{});return n?fn._fromGetAccountInfoResponse(this.auth,n,t):null}return fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new As(Fn(Fy),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Fn(Fy);const a=cu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await Wu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await fn._fromGetAccountInfoResponse(t,m,d)}else g=fn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new As(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new As(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ME(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kE(t))return"Blackberry";if(PE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||xE(t))&&!t.includes("edge/"))return"Chrome";if(VE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function NE(e=Se()){return/firefox\//i.test(e)}function OE(e=Se()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xE(e=Se()){return/crios\//i.test(e)}function ME(e=Se()){return/iemobile/i.test(e)}function VE(e=Se()){return/android/i.test(e)}function kE(e=Se()){return/blackberry/i.test(e)}function PE(e=Se()){return/webos/i.test(e)}function Om(e=Se()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nI(e=Se()){var t;return Om(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iI(){return _w()&&document.documentMode===10}function LE(e=Se()){return Om(e)||VE(e)||PE(e)||kE(e)||/windows phone/i.test(e)||ME(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e,t=[]){let n;switch(e){case"Browser":n=Gy(Se());break;case"Worker":n=`${Gy(Se())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(e,t={}){return Js(e,"GET","/v2/passwordPolicy",Zo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=6;class oI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:aI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await As.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wu(this,{idToken:t}),i=await fn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(nn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ju(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(nn(this.app))return Promise.reject(Yn(this));const n=t?ke(t):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return nn(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sI(this),n=new oI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ko("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await eI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fn(t)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await As.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&jR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(e){return ke(e)}class Qy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rw(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uI(e){xm=e}function cI(e){return xm.loadJS(e)}function hI(){return xm.gapiScript}function fI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t){const n=wm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(br(s,t??{}))return r;Jn(r,"already-initialized")}return n.initialize({options:t})}function mI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function gI(e,t,n){const i=Wo(e);$(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=zE(t),{host:a,port:l}=pI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(br(h,i.config.emulator)&&br(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Zs(a)?(mE(`${s}//${a}${u}`),gE("Auth",!0)):yI()}function zE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pI(e){const t=zE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Yy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Yy(a)}}}function Yy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function yI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(t){return Hn("not implemented")}_linkToIdToken(t,n){return Hn("not implemented")}_getReauthenticationResolver(t){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(e,t){return Dm(e,"POST","/v1/accounts:signInWithIdp",Zo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="http://localhost";class wr extends jE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=Rm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new wr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return bs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,bs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bs(t,n)}buildRequest(){const t={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Jo{constructor(){super("facebook.com")}static credential(t){return wr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Jo{constructor(){super("github.com")}static credential(t){return wr._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Jo{constructor(){super("twitter.com")}static credential(t,n){return wr._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Si.credential(n,i)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(e,t){return Dm(e,"POST","/v1/accounts:signUp",Zo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await fn._fromIdTokenResponse(t,i,r),a=Ky(i);return new ei({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Ky(i);return new ei({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Ky(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(e){var t;if(nn(e.app))return Promise.reject(Yn(e));const n=Wo(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new ei({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await vI(n,{returnSecureToken:!0}),r=await ei._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends si{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new tc(t,n,i,r)}}function qE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(e,s,t,i):s})}async function EI(e,t,n=!1){const i=await So(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ei._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(e,t,n=!1){const{auth:i}=e;if(nn(i.app))return Promise.reject(Yn(i));const r="reauthenticate";try{const s=await So(e,qE(i,r,t,e),n);$(s.idToken,i,"internal-error");const a=Nm(s.idToken);$(a,i,"internal-error");const{sub:l}=a;return $(e.uid===l,i,"user-mismatch"),ei._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(e,t,n=!1){if(nn(e.app))return Promise.reject(Yn(e));const i="signIn",r=await qE(e,i,t),s=await ei._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(e,t){return Dm(e,"POST","/v1/accounts:signInWithCustomToken",Zo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(e,t){if(nn(e.app))return Promise.reject(Yn(e));const n=Wo(e),i=await SI(n,{token:t,returnSecureToken:!0}),r=await ei._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function RI(e,t,n,i){return ke(e).onIdTokenChanged(t,n,i)}function II(e,t,n){return ke(e).beforeAuthStateChanged(t,n)}function CI(e,t,n,i){return ke(e).onAuthStateChanged(t,n,i)}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1e3,NI=10;class FE extends HE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);iI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,NI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FE.type="LOCAL";const OI=FE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends HE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}GE.type="SESSION";const QE=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Vc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await xI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Mm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function VI(e){wn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function kI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function LI(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",UI=1,nc="firebaseLocalStorage",XE="fbase_key";class tl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kc(e,t){return e.transaction([nc],t?"readwrite":"readonly").objectStore(nc)}function zI(){const e=indexedDB.deleteDatabase(KE);return new tl(e).toPromise()}function ad(){const e=indexedDB.open(KE,UI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(nc,{keyPath:XE})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(nc)?t(i):(i.close(),await zI(),t(await ad()))})})}async function Xy(e,t,n){const i=kc(e,!0).put({[XE]:t,value:n});return new tl(i).toPromise()}async function jI(e,t){const n=kc(e,!1).get(t),i=await new tl(n).toPromise();return i===void 0?null:i.value}function $y(e,t){const n=kc(e,!0).delete(t);return new tl(n).toPromise()}const BI=800,qI=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ad(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>qI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(LI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await kI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ad();return await Xy(t,ec,"1"),await $y(t,ec),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>jI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$y(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=kc(r,!1).getAll();return new tl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const HI=$E;new $o(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t){return t?Fn(t):($(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends jE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function GI(e){return bI(e.auth,new Vm(e),e.bypassAuthState)}function QI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),AI(n,new Vm(e),e.bypassAuthState)}async function YI(e){const{auth:t,user:n}=e;return $(n,t,"internal-error"),EI(n,new Vm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:Jn(this.auth,"internal-error")}}resolve(t){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new $o(2e3,1e4);class fs extends ZE{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="pendingRedirect",hu=new Map;class $I extends ZE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=hu.get(this.auth._key());if(!t){try{const i=await ZI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}hu.set(this.auth._key(),t)}return this.bypassAuthState||hu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(e,t){const n=tC(t),i=JI(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function WI(e,t){hu.set(e._key(),t)}function JI(e){return Fn(e._redirectPersistence)}function tC(e){return cu(XI,e.config.apiKey,e.name)}async function eC(e,t,n=!1){if(nn(e.app))return Promise.reject(Yn(e));const i=Wo(e),r=FI(i,t),a=await new $I(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=10*60*1e3;class iC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!WE(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(t))}saveEventToCache(t){this.cachedEventUids.add(Zy(t)),this.lastProcessedEventTime=Date.now()}}function Zy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function WE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(e,t={}){return Js(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sC(e);for(const n of t)try{if(uC(n))return}catch{}Jn(e,"unauthorized-domain")}function uC(e){const t=rd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!oC.test(n))return!1;if(aC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new $o(3e4,6e4);function Wy(){const e=wn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function hC(e){return new Promise((t,n)=>{var i,r,s;function a(){Wy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wy(),n(Sn(e,"network-request-failed"))},timeout:cC.get()})}if(!((r=(i=wn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=wn().gapi)===null||s===void 0)&&s.load)a();else{const l=fI("iframefcb");return wn()[l]=()=>{gapi.load?a():n(Sn(e,"network-request-failed"))},cI(`${hI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw fu=null,t})}let fu=null;function fC(e){return fu=fu||hC(e),fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new $o(5e3,15e3),mC="__/auth/iframe",gC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(e){const t=e.config;$(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cm(t,gC):`https://${e.config.authDomain}/${mC}`,i={apiKey:t.apiKey,appName:e.name,v:Ws},r=yC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Xo(i).slice(1)}`}async function vC(e){const t=await fC(e),n=wn().gapi;return $(n,e,"internal-error"),t.open({where:document.body,url:_C(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Sn(e,"network-request-failed"),l=wn().setTimeout(()=>{s(a)},dC.get());function u(){wn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,AC=600,bC="_blank",SC="http://localhost";class Jy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(e,t,n,i=EC,r=AC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},TC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Se().toLowerCase();n&&(l=xE(h)?bC:n),NE(h)&&(t=t||SC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,O])=>`${m}${_}=${O},`,"");if(nI(h)&&l!=="_self")return RC(t||"",l),new Jy(null);const g=window.open(t||"",l,d);$(g,e,"popup-blocked");try{g.focus()}catch{}return new Jy(g)}function RC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="__/auth/handler",CC="emulator/auth/handler",DC=encodeURIComponent("fac");async function t_(e,t,n,i,r,s){$(e.config.authDomain,e,"auth-domain-config-required"),$(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ws,eventId:r};if(t instanceof BE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ww(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Jo){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${DC}=${encodeURIComponent(u)}`:"";return`${NC(e)}?${Xo(l).slice(1)}${h}`}function NC({config:e}){return e.emulator?Cm(e,CC):`https://${e.authDomain}/${IC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=eC,this._overrideRedirectResult=WI}async _openPopup(t,n,i,r){var s;ti((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await t_(t,n,i,rd(),r);return wC(t,a,Mm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await t_(t,n,i,rd(),r);return VI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ti(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await vC(t),i=new iC(t);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wh,{type:Wh},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Wh];a!==void 0&&n(!!a),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LE()||OE()||Om()}}const xC=OC;var e_="@firebase/auth",n_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(e){Ps(new Sr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(e)},h=new lI(i,r,s,u);return mI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ps(new Sr("auth-internal",t=>{const n=Wo(t.getProvider("auth").getImmediate());return(i=>new MC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(e_,n_,VC(e)),ji(e_,n_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=5*60,LC=dE("authIdTokenMaxAge")||PC;let i_=null;const UC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>LC)return;const r=n==null?void 0:n.token;i_!==r&&(i_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function zC(e=vE()){const t=wm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=dI(e,{popupRedirectResolver:xC,persistence:[HI,OI,QE]}),i=dE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=UC(s.toString());II(n,a,()=>a(n.currentUser)),RI(n,l=>a(l))}}const r=hE("auth");return r&&gI(n,`http://${r}`),n}function jC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}uI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Sn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",jC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,JE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(A,R,I){for(var S=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)S[pe-2]=arguments[pe];return y.prototype[R].apply(A,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var A=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)A[R]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(R=0;16>R;++R)A[R]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],R=T.g[2];var I=T.g[3],S=y+(I^E&(R^I))+A[0]+3614090360&4294967295;y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[1]+3905402710&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[2]+606105819&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[3]+3250441966&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[4]+4118548399&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[5]+1200080426&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[6]+2821735955&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[7]+4249261313&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[8]+1770035416&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[9]+2336552879&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[10]+4294925233&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[11]+2304563134&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(I^E&(R^I))+A[12]+1804603682&4294967295,y=E+(S<<7&4294967295|S>>>25),S=I+(R^y&(E^R))+A[13]+4254626195&4294967295,I=y+(S<<12&4294967295|S>>>20),S=R+(E^I&(y^E))+A[14]+2792965006&4294967295,R=I+(S<<17&4294967295|S>>>15),S=E+(y^R&(I^y))+A[15]+1236535329&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(R^I&(E^R))+A[1]+4129170786&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[6]+3225465664&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[11]+643717713&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[0]+3921069994&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[5]+3593408605&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[10]+38016083&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[15]+3634488961&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[4]+3889429448&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[9]+568446438&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[14]+3275163606&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[3]+4107603335&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[8]+1163531501&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^I&(E^R))+A[13]+2850285829&4294967295,y=E+(S<<5&4294967295|S>>>27),S=I+(E^R&(y^E))+A[2]+4243563512&4294967295,I=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(I^y))+A[7]+1735328473&4294967295,R=I+(S<<14&4294967295|S>>>18),S=E+(I^y&(R^I))+A[12]+2368359562&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(E^R^I)+A[5]+4294588738&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[8]+2272392833&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[11]+1839030562&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[14]+4259657740&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[1]+2763975236&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[4]+1272893353&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[7]+4139469664&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[10]+3200236656&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[13]+681279174&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[0]+3936430074&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[3]+3572445317&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[6]+76029189&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^I)+A[9]+3654602809&4294967295,y=E+(S<<4&4294967295|S>>>28),S=I+(y^E^R)+A[12]+3873151461&4294967295,I=y+(S<<11&4294967295|S>>>21),S=R+(I^y^E)+A[15]+530742520&4294967295,R=I+(S<<16&4294967295|S>>>16),S=E+(R^I^y)+A[2]+3299628645&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(R^(E|~I))+A[0]+4096336452&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[7]+1126891415&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[14]+2878612391&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[5]+4237533241&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[12]+1700485571&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[3]+2399980690&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[10]+4293915773&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[1]+2240044497&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[8]+1873313359&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[15]+4264355552&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[6]+2734768916&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[13]+1309151649&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~I))+A[4]+4149444226&4294967295,y=E+(S<<6&4294967295|S>>>26),S=I+(E^(y|~R))+A[11]+3174756917&4294967295,I=y+(S<<10&4294967295|S>>>22),S=R+(y^(I|~E))+A[2]+718787259&4294967295,R=I+(S<<15&4294967295|S>>>17),S=E+(I^(R|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+I&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,A=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=E;)r(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<y;)if(A[R++]=T.charCodeAt(I++),R==this.blockSize){r(this,A),R=0;break}}else for(;I<y;)if(A[R++]=T[I++],R==this.blockSize){r(this,A),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var A=0;32>A;A+=8)T[E++]=this.g[y]>>>A&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],A=!0,R=T.length-1;0<=R;R--){var I=T[R]|0;A&&I==y||(E[R]=I,A=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(h(-T));for(var y=[],E=1,A=0;T>=E;A++)y[A]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return k(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),A=g,R=0;R<T.length;R+=8){var I=Math.min(8,T.length-R),S=parseInt(T.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),A=A.j(I).add(h(S))):(A=A.j(E),A=A.add(h(S)))}return A}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-k(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var A=this.i(E);T+=(0<=A?A:4294967296+A)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(M(this))return"-"+k(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,A="";;){var R=N(E,y).g;E=b(E,R.j(y));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=R,O(E))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=b(this,T),M(T)?-1:O(T)?0:1};function k(T){for(var y=T.g.length,E=[],A=0;A<y;A++)E[A]=~T.g[A];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?k(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0,R=0;R<=y;R++){var I=A+(this.i(R)&65535)+(T.i(R)&65535),S=(I>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);A=S>>>16,I&=65535,S&=65535,E[R]=S<<16|I}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(T,y){return T.add(k(y))}e.j=function(T){if(O(this)||O(T))return g;if(M(this))return M(T)?k(this).j(k(T)):k(k(this).j(T));if(M(T))return k(this.j(k(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],A=0;A<2*y;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<T.g.length;R++){var I=this.i(A)>>>16,S=this.i(A)&65535,pe=T.i(R)>>>16,Ke=T.i(R)&65535;E[2*A+2*R]+=S*Ke,v(E,2*A+2*R),E[2*A+2*R+1]+=I*Ke,v(E,2*A+2*R+1),E[2*A+2*R+1]+=S*pe,v(E,2*A+2*R+1),E[2*A+2*R+2]+=I*pe,v(E,2*A+2*R+2)}for(A=0;A<y;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=y;A<2*y;A++)E[A]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function N(T,y){if(O(y))throw Error("division by zero");if(O(T))return new w(g,g);if(M(T))return y=N(k(T),y),new w(k(y.g),k(y.h));if(M(y))return y=N(T,k(y)),new w(k(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=y;0>=A.l(T);)E=z(E),A=z(A);var R=j(E,1),I=j(A,1);for(A=j(A,2),E=j(E,2);!O(A);){var S=I.add(A);0>=S.l(T)&&(R=R.add(E),I=S),A=j(A,1),E=j(E,1)}return y=b(T,R.j(y)),new w(R,y)}for(R=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=h(E),S=I.j(y);M(S)||0<S.l(T);)E-=A,I=h(E),S=I.j(y);O(I)&&(I=m),R=R.add(I),T=b(T,S)}return new w(R,T)}e.A=function(T){return N(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)&T.i(A);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)|T.i(A);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)^T.i(A);return new a(E,this.h^T.h)};function z(T){for(var y=T.g.length+1,E=[],A=0;A<y;A++)E[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(E,T.h)}function j(T,y){var E=y>>5;y%=32;for(var A=T.g.length-E,R=[],I=0;I<A;I++)R[I]=0<y?T.i(I+E)>>>y|T.i(I+E+1)<<32-y:T.i(I+E);return new a(R,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,JE=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Bi=a}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t1,La,e1,du,od,n1,i1,r1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fl=="object"&&Fl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var C=o[p];if(!(C in f))break t;f=f[C]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,C={next:function(){if(!p&&f<o.length){var x=f++;return{value:c(x,o[x]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function O(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,C,x){for(var B=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)B[wt-2]=arguments[wt];return c.prototype[C].apply(p,B)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const C=o.length||0,x=p.length||0;o.length=C+x;for(let B=0;B<x;B++)o[C+B]=p[B]}else o.push(p)}}class b{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function j(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)o[f]=p[f];for(let x=0;x<E.length;x++)f=E[x],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function S(){var o=Et;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class pe{constructor(){this.h=this.g=null}add(c,f){const p=Ke.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var Ke=new b(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Z=!1,Et=new pe,Dt=()=>{const o=l.Promise.resolve(void 0);K=()=>{o.then(ln)}};var ln=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(f){I(f)}var c=Ke;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}Z=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Xe(o,c){if(Nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(z){t:{try{N(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Pr[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Xe.aa.h.call(this)}}O(Xe,Nt);var Pr={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Lr="closure_listenable_"+(1e6*Math.random()|0),ai=0;function al(o,c,f,p,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=C,this.key=++ai,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Le(o){this.src=o,this.g={},this.h=0}Le.prototype.add=function(o,c,f,p,C){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var B=sa(o,c,p,C);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new al(c,this.src,x,!!p,C),c.fa=f,o.push(c)),c};function Ur(o,c){var f=c.type;if(f in o.g){var p=o.g[f],C=Array.prototype.indexOf.call(p,c,void 0),x;(x=0<=C)&&Array.prototype.splice.call(p,C,1),x&&(Gt(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function sa(o,c,f,p){for(var C=0;C<o.length;++C){var x=o[C];if(!x.da&&x.listener==c&&x.capture==!!f&&x.ha==p)return C}return-1}var oi="closure_lm_"+(1e6*Math.random()|0),aa={};function ol(o,c,f,p,C){if(Array.isArray(c)){for(var x=0;x<c.length;x++)ol(o,c[x],f,p,C);return null}return f=hl(f),o&&o[Lr]?o.K(c,f,h(p)?!!p.capture:!1,C):Xc(o,c,f,!1,p,C)}function Xc(o,c,f,p,C,x){if(!c)throw Error("Invalid event type");var B=h(C)?!!C.capture:!!C,wt=la(o);if(wt||(o[oi]=wt=new Le(o)),f=wt.add(c,f,p,B,x),f.proxy)return f;if(p=oa(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)$t||(C=B),C===void 0&&(C=!1),o.addEventListener(c.toString(),p,C);else if(o.attachEvent)o.attachEvent(ul(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oa(){function o(f){return c.call(o.src,o.listener,f)}const c=cl;return o}function ll(o,c,f,p,C){if(Array.isArray(c))for(var x=0;x<c.length;x++)ll(o,c[x],f,p,C);else p=h(p)?!!p.capture:!!p,f=hl(f),o&&o[Lr]?(o=o.i,c=String(c).toString(),c in o.g&&(x=o.g[c],f=sa(x,f,p,C),-1<f&&(Gt(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete o.g[c],o.h--)))):o&&(o=la(o))&&(c=o.g[c.toString()],o=-1,c&&(o=sa(c,f,p,C)),(f=-1<o?c[o]:null)&&zr(f))}function zr(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Lr])Ur(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(ul(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=la(c))?(Ur(f,o),f.h==0&&(f.src=null,c[oi]=null)):Gt(o)}}}function ul(o){return o in aa?aa[o]:aa[o]="on"+o}function cl(o,c){if(o.da)o=!0;else{c=new Xe(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&zr(o),o=f.call(p,c)}return o}function la(o){return o=o[oi],o instanceof Le?o:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function hl(o){return typeof o=="function"?o:(o[ua]||(o[ua]=function(c){return o.handleEvent(c)}),o[ua])}function ne(){le.call(this),this.i=new Le(this),this.M=this,this.F=null}O(ne,le),ne.prototype[Lr]=!0,ne.prototype.removeEventListener=function(o,c,f,p){ll(this,o,c,f,p)};function V(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Nt(c,o);else if(c instanceof Nt)c.target=c.target||o;else{var C=c;c=new Nt(p,o),A(c,C)}if(C=!0,f)for(var x=f.length-1;0<=x;x--){var B=c.g=f[x];C=F(B,p,!0,c)&&C}if(B=c.g=o,C=F(B,p,!0,c)&&C,C=F(B,p,!1,c)&&C,f)for(x=0;x<f.length;x++)B=c.g=f[x],C=F(B,p,!1,c)&&C}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)Gt(f[p]);delete o.g[c],o.h--}}this.F=null},ne.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},ne.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function F(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,x=0;x<c.length;++x){var B=c[x];if(B&&!B.da&&B.capture==f){var wt=B.listener,ue=B.ha||B.src;B.fa&&Ur(o.i,B),C=wt.call(ue,p)!==!1&&C}}return C&&!p.defaultPrevented}function et(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function ut(o){o.g=et(()=>{o.g=null,o.i&&(o.i=!1,ut(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class ct extends le{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(o){le.call(this),this.h=o,this.g={}}O(It,le);var nt=[];function St(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&zr(c)},o),o.g={}}It.prototype.N=function(){It.aa.N.call(this),St(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=l.JSON.stringify,ca=l.JSON.parse,fl=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function $c(){}$c.prototype.h=null;function mg(o){return o.h||(o.h=o.i())}function gg(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zc(){Nt.call(this,"d")}O(Zc,Nt);function Wc(){Nt.call(this,"c")}O(Wc,Nt);var tr={},pg=null;function dl(){return pg=pg||new ne}tr.La="serverreachability";function yg(o){Nt.call(this,tr.La,o)}O(yg,Nt);function fa(o){const c=dl();V(c,new yg(c))}tr.STAT_EVENT="statevent";function _g(o,c){Nt.call(this,tr.STAT_EVENT,o),this.stat=c}O(_g,Nt);function we(o){const c=dl();V(c,new _g(c,o))}tr.Ma="timingevent";function vg(o,c){Nt.call(this,tr.Ma,o),this.size=c}O(vg,Nt);function da(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function VA(o,c,f,p,C,x){o.info(function(){if(o.g)if(x)for(var B="",wt=x.split("&"),ue=0;ue<wt.length;ue++){var gt=wt[ue].split("=");if(1<gt.length){var ye=gt[0];gt=gt[1];var _e=ye.split("_");B=2<=_e.length&&_e[1]=="type"?B+(ye+"="+gt+"&"):B+(ye+"=redacted&")}}else B=null;else B=x;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+f+`
`+B})}function kA(o,c,f,p,C,x,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+f+`
`+x+" "+B})}function jr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+LA(o,f)+(p?" "+p:"")})}function PA(o,c){o.info(function(){return"TIMEOUT: "+c})}ma.prototype.info=function(){};function LA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var x=C[0];if(x!="noop"&&x!="stop"&&x!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return un(f)}catch{return c}}var ml={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jc;function gl(){}O(gl,$c),gl.prototype.g=function(){return new XMLHttpRequest},gl.prototype.i=function(){return{}},Jc=new gl;function li(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new It(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eg}function Eg(){this.i=null,this.g="",this.h=!1}var Ag={},th={};function eh(o,c,f){o.L=1,o.v=vl(xn(c)),o.m=f,o.P=!0,bg(o,null)}function bg(o,c){o.F=Date.now(),pl(o),o.A=xn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Lg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Eg,o.g=ep(o.j,f?c:null,!o.m),0<o.O&&(o.M=new ct(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(nt[0]=C.toString()),C=nt);for(var x=0;x<C.length;x++){var B=ol(f,C[x],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),fa(),VA(o.i,o.u,o.A,o.l,o.R,o.m)}li.prototype.ca=function(o){o=o.target;const c=this.M;c&&Mn(o)==3?c.j():this.Y(o)},li.prototype.Y=function(o){try{if(o==this.g)t:{const _e=Mn(this.g);var c=this.g.Ba();const Hr=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||Fg(this.g)))){this.J||_e!=4||c==7||(c==8||0>=Hr?fa(3):fa(2)),nh(this);var f=this.g.Z();this.X=f;e:if(Sg(this)){var p=Fg(this.g);o="";var C=p.length,x=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ga(this);var B="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(x&&c==C-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,kA(this.i,this.u,this.A,this.l,this.R,_e,f),this.o){if(this.T&&!this.K){e:{if(this.g){var wt,ue=this.g;if((wt=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(wt)){var gt=wt;break e}}gt=null}if(f=gt)jr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ih(this,f);else{this.o=!1,this.s=3,we(12),er(this),ga(this);break t}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<B.length;)if(cn=UA(this,B),cn==th){_e==4&&(this.s=4,we(14),f=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Ag){this.s=4,we(15),jr(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else jr(this.i,this.l,cn,null),ih(this,cn);if(Sg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||B.length!=0||this.h.h||(this.s=1,we(16),f=!1),this.o=this.o&&f,!f)jr(this.i,this.l,B,"[Invalid Chunked Response]"),er(this),ga(this);else if(0<B.length&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.ba&&!ye.M&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),uh(ye),ye.M=!0,we(11))}}else jr(this.i,this.l,B,null),ih(this,B);_e==4&&er(this),this.o&&!this.J&&(_e==4?Zg(this.j,this):(this.o=!1,pl(this)))}else eb(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),er(this),ga(this)}}}catch{}finally{}};function Sg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function UA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?th:(f=Number(c.substring(f,p)),isNaN(f)?Ag:(p+=1,p+f>c.length?th:(c=c.slice(p,p+f),o.C=p+f,c)))}li.prototype.cancel=function(){this.J=!0,er(this)};function pl(o){o.S=Date.now()+o.I,wg(o,o.I)}function wg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=da(m(o.ba,o),c)}function nh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}li.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(PA(this.i,this.A),this.L!=2&&(fa(),we(17)),er(this),this.s=2,ga(this)):wg(this,this.S-o)};function ga(o){o.j.G==0||o.J||Zg(o.j,o)}function er(o){nh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,St(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function ih(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||rh(f.h,o))){if(!o.K&&rh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)wl(f),bl(f);else break t;lh(f),we(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=da(m(f.Za,f),6e3));if(1>=Cg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ir(f,11)}else if((o.K||f.g==o)&&wl(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let gt=C[c];if(f.T=gt[0],gt=gt[1],f.G==2)if(gt[0]=="c"){f.K=gt[1],f.ia=gt[2];const ye=gt[3];ye!=null&&(f.la=ye,f.j.info("VER="+f.la));const _e=gt[4];_e!=null&&(f.Aa=_e,f.j.info("SVER="+f.Aa));const Hr=gt[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(p=1.5*Hr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const cn=o.g;if(cn){const Il=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Il){var x=p.h;x.g||Il.indexOf("spdy")==-1&&Il.indexOf("quic")==-1&&Il.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(sh(x,x.h),x.h=null))}if(p.D){const ch=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(p.ya=ch,Ot(p.I,p.D,ch))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=tp(p,p.J?p.ia:null,p.W),B.K){Dg(p.h,B);var wt=B,ue=p.L;ue&&(wt.I=ue),wt.B&&(nh(wt),pl(wt)),p.g=B}else Xg(p);0<f.i.length&&Sl(f)}else gt[0]!="stop"&&gt[0]!="close"||ir(f,7);else f.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ir(f,7):oh(f):gt[0]!="noop"&&f.l&&f.l.ta(gt),f.v=0)}}fa(4)}catch{}}var zA=class{constructor(o,c){this.g=o,this.map=c}};function Rg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ig(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Cg(o){return o.h?1:o.g?o.g.size:0}function rh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function sh(o,c){o.g?o.g.add(c):o.h=c}function Dg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Rg.prototype.cancel=function(){if(this.i=Ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ng(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function jA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function BA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function Og(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=BA(o),p=jA(o),C=p.length,x=0;x<C;x++)c.call(void 0,p[x],f&&f[x],o)}var xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),C=null;if(0<=p){var x=o[f].substring(0,p);C=o[f].substring(p+1)}else x=o[f];c(x,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function nr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof nr){this.h=o.h,yl(this,o.j),this.o=o.o,this.g=o.g,_l(this,o.s),this.l=o.l;var c=o.i,f=new _a;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Mg(this,f),this.m=o.m}else o&&(c=String(o).match(xg))?(this.h=!1,yl(this,c[1]||"",!0),this.o=pa(c[2]||""),this.g=pa(c[3]||"",!0),_l(this,c[4]),this.l=pa(c[5]||"",!0),Mg(this,c[6]||"",!0),this.m=pa(c[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}nr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(ya(c,Vg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ya(c,Vg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ya(f,f.charAt(0)=="/"?GA:FA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ya(f,YA)),o.join("")};function xn(o){return new nr(o)}function yl(o,c,f){o.j=f?pa(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function _l(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Mg(o,c,f){c instanceof _a?(o.i=c,KA(o.i,o.h)):(f||(c=ya(c,QA)),o.i=new _a(c,o.h))}function Ot(o,c,f){o.i.set(c,f)}function vl(o){return Ot(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pa(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ya(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,HA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function HA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Vg=/[#\/\?@]/g,FA=/[#\?:]/g,GA=/[#\?]/g,QA=/[#\?@]/g,YA=/#/g;function _a(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function ui(o){o.g||(o.g=new Map,o.h=0,o.i&&qA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=_a.prototype,e.add=function(o,c){ui(this),this.i=null,o=Br(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function kg(o,c){ui(o),c=Br(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Pg(o,c){return ui(o),c=Br(o,c),o.g.has(c)}e.forEach=function(o,c){ui(this),this.g.forEach(function(f,p){f.forEach(function(C){o.call(c,C,p,this)},this)},this)},e.na=function(){ui(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const C=o[p];for(let x=0;x<C.length;x++)f.push(c[p])}return f},e.V=function(o){ui(this);let c=[];if(typeof o=="string")Pg(this,o)&&(c=c.concat(this.g.get(Br(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return ui(this),this.i=null,o=Br(this,o),Pg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Lg(o,c,f){kg(o,c),0<f.length&&(o.i=null,o.g.set(Br(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const x=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var C=x;B[p]!==""&&(C+="="+encodeURIComponent(String(B[p]))),o.push(C)}}return this.i=o.join("&")};function Br(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function KA(o,c){c&&!o.j&&(ui(o),o.i=null,o.g.forEach(function(f,p){var C=p.toLowerCase();p!=C&&(kg(this,p),Lg(this,C,f))},o)),o.j=c}function XA(o,c){const f=new ma;if(l.Image){const p=new Image;p.onload=_(ci,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(ci,f,"TestLoadImage: error",!1,c,p),p.onabort=_(ci,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(ci,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function $A(o,c){const f=new ma,p=new AbortController,C=setTimeout(()=>{p.abort(),ci(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(x=>{clearTimeout(C),x.ok?ci(f,"TestPingServer: ok",!0,c):ci(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),ci(f,"TestPingServer: error",!1,c)})}function ci(o,c,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function ZA(){this.g=new fl}function WA(o,c,f){const p=f||"";try{Og(o,function(C,x){let B=C;h(C)&&(B=un(C)),c.push(p+x+"="+encodeURIComponent(B))})}catch(C){throw c.push(p+"type="+encodeURIComponent("_badmap")),C}}function Tl(o){this.l=o.Ub||null,this.j=o.eb||!1}O(Tl,$c),Tl.prototype.g=function(){return new El(this.l,this.j)},Tl.prototype.i=function(o){return function(){return o}}({});function El(o,c){ne.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(El,ne),e=El.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Ta(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ug(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ug(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?va(this):Ta(this),this.readyState==3&&Ug(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,va(this))},e.Qa=function(o){this.g&&(this.response=o,va(this))},e.ga=function(){this.g&&va(this)};function va(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ta(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Ta(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function zg(o){let c="";return j(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function ah(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=zg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ot(o,c,f))}function zt(o){ne.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(zt,ne);var JA=/^https?$/i,tb=["POST","PUT"];e=zt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jc.g(),this.v=this.o?mg(this.o):mg(Jc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(x){jg(this,x);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const x of p.keys())f.set(x,p.get(x));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(tb,c,void 0))||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,B]of f)this.g.setRequestHeader(x,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hg(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){jg(this,x)}};function jg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Bg(o),Al(o)}function Bg(o){o.A||(o.A=!0,V(o,"complete"),V(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,V(this,"complete"),V(this,"abort"),Al(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),zt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qg(this):this.bb())},e.bb=function(){qg(this)};function qg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Mn(o)!=4||o.Z()!=2)){if(o.u&&Mn(o)==4)et(o.Ea,0,o);else if(V(o,"readystatechange"),Mn(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var C=String(o.D).match(xg)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),p=!JA.test(C?C.toLowerCase():"")}f=p}if(f)V(o,"complete"),V(o,"success");else{o.m=6;try{var x=2<Mn(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",Bg(o)}}finally{Al(o)}}}}function Al(o,c){if(o.g){Hg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||V(o,"ready");try{f.onreadystatechange=p}catch{}}}function Hg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Mn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),ca(c)}};function Fg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function eb(o){const c={};o=(o.g&&2<=Mn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=R(o[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const x=c[C]||[];c[C]=x,x.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Gg(o){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,o),this.cb=Ea("retryDelaySeedMs",1e4,o),this.Wa=Ea("forwardChannelMaxRetries",2,o),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Rg(o&&o.concurrentRequestLimit),this.Da=new ZA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Gg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){we(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=tp(this,null,this.W),Sl(this)};function oh(o){if(Qg(o),o.G==3){var c=o.U++,f=xn(o.I);if(Ot(f,"SID",o.K),Ot(f,"RID",c),Ot(f,"TYPE","terminate"),Aa(o,f),c=new li(o,o.j,c),c.L=2,c.v=vl(xn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=ep(c.j,null),c.g.ea(c.v)),c.F=Date.now(),pl(c)}Jg(o)}function bl(o){o.g&&(uh(o),o.g.cancel(),o.g=null)}function Qg(o){bl(o),o.u&&(l.clearTimeout(o.u),o.u=null),wl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Sl(o){if(!Ig(o.h)&&!o.s){o.s=!0;var c=o.Ga;K||Dt(),Z||(K(),Z=!0),Et.add(c,o),o.B=0}}function nb(o,c){return Cg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=da(m(o.Ga,o,c),Wg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new li(this,this.j,o);let x=this.o;if(this.S&&(x?(x=y(x),A(x,this.S)):x=this.S),this.m!==null||this.O||(C.H=x,x=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Kg(this,C,c),f=xn(this.I),Ot(f,"RID",o),Ot(f,"CVER",22),this.D&&Ot(f,"X-HTTP-Session-Id",this.D),Aa(this,f),x&&(this.O?c="headers="+encodeURIComponent(String(zg(x)))+"&"+c:this.m&&ah(f,this.m,x)),sh(this.h,C),this.Ua&&Ot(f,"TYPE","init"),this.P?(Ot(f,"$req",c),Ot(f,"SID","null"),C.T=!0,eh(C,f,null)):eh(C,f,c),this.G=2}}else this.G==3&&(o?Yg(this,o):this.i.length==0||Ig(this.h)||Yg(this))};function Yg(o,c){var f;c?f=c.l:f=o.U++;const p=xn(o.I);Ot(p,"SID",o.K),Ot(p,"RID",f),Ot(p,"AID",o.T),Aa(o,p),o.m&&o.o&&ah(p,o.m,o.o),f=new li(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Kg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),sh(o.h,f),eh(f,p,c)}function Aa(o,c){o.H&&j(o.H,function(f,p){Ot(c,p,f)}),o.l&&Og({},function(f,p){Ot(c,p,f)})}function Kg(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let x=-1;for(;;){const B=["count="+f];x==-1?0<f?(x=C[0].g,B.push("ofs="+x)):x=0:B.push("ofs="+x);let wt=!0;for(let ue=0;ue<f;ue++){let gt=C[ue].g;const ye=C[ue].map;if(gt-=x,0>gt)x=Math.max(0,C[ue].g-100),wt=!1;else try{WA(ye,B,"req"+gt+"_")}catch{p&&p(ye)}}if(wt){p=B.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function Xg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;K||Dt(),Z||(K(),Z=!0),Et.add(c,o),o.v=0}}function lh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=da(m(o.Fa,o),Wg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,$g(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=da(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),bl(this),$g(this))};function uh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function $g(o){o.g=new li(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=xn(o.qa);Ot(c,"RID","rpc"),Ot(c,"SID",o.K),Ot(c,"AID",o.T),Ot(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ot(c,"TO",o.ja),Ot(c,"TYPE","xmlhttp"),Aa(o,c),o.m&&o.o&&ah(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=vl(xn(c)),f.m=null,f.P=!0,bg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,bl(this),lh(this),we(19))};function wl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Zg(o,c){var f=null;if(o.g==c){wl(o),uh(o),o.g=null;var p=2}else if(rh(o.h,c))f=c.D,Dg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;p=dl(),V(p,new vg(p,f)),Sl(o)}else Xg(o);else if(C=c.s,C==3||C==0&&0<c.X||!(p==1&&nb(o,c)||p==2&&lh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:ir(o,5);break;case 4:ir(o,10);break;case 3:ir(o,6);break;default:ir(o,2)}}}function Wg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function ir(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const C=!p;p=new nr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yl(p,"https"),vl(p),C?XA(p.toString(),f):$A(p.toString(),f)}else we(2);o.G=0,o.l&&o.l.sa(c),Jg(o),Qg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Jg(o){if(o.G=0,o.ka=[],o.l){const c=Ng(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function tp(o,c,f){var p=f instanceof nr?xn(f):new nr(f);if(p.g!="")c&&(p.g=c+"."+p.g),_l(p,p.s);else{var C=l.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var x=new nr(null);p&&yl(x,p),c&&(x.g=c),C&&_l(x,C),f&&(x.l=f),p=x}return f=o.D,c=o.ya,f&&c&&Ot(p,f,c),Ot(p,"VER",o.la),Aa(o,p),p}function ep(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new zt(new Tl({eb:f})):new zt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function np(){}e=np.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Rl(){}Rl.prototype.g=function(o,c){return new Ue(o,c)};function Ue(o,c){ne.call(this),this.g=new Gg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new qr(this)}O(Ue,ne),Ue.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){oh(this.g)},Ue.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=un(o),o=f);c.i.push(new zA(c.Ya++,o)),c.G==3&&Sl(c)},Ue.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,Ue.aa.N.call(this)};function ip(o){Zc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}O(ip,Zc);function rp(){Wc.call(this),this.status=1}O(rp,Wc);function qr(o){this.g=o}O(qr,np),qr.prototype.ua=function(){V(this.g,"a")},qr.prototype.ta=function(o){V(this.g,new ip(o))},qr.prototype.sa=function(o){V(this.g,new rp)},qr.prototype.ra=function(){V(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,r1=function(){return new Rl},i1=function(){return dl()},n1=tr,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,du=ml,Tg.COMPLETE="complete",e1=Tg,gg.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",ne.prototype.listen=ne.prototype.K,La=gg,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,t1=zt}).apply(typeof Fl<"u"?Fl:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore",a_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new bm("@firebase/firestore");function $r(){return Rr.logLevel}function H(e,...t){if(Rr.logLevel<=ht.DEBUG){const n=t.map(km);Rr.debug(`Firestore (${ta}): ${e}`,...n)}}function ni(e,...t){if(Rr.logLevel<=ht.ERROR){const n=t.map(km);Rr.error(`Firestore (${ta}): ${e}`,...n)}}function Ls(e,...t){if(Rr.logLevel<=ht.WARN){const n=t.map(km);Rr.warn(`Firestore (${ta}): ${e}`,...n)}}function km(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,s1(e,i,n)}function s1(e,t,n){let i=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ni(i),new Error(i)}function _t(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||s1(t,r,i)}function tt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends si{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class qC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HC{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_t(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new a1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new Te(t)}}class FC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new FC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_t(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=YC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function rt(e,t){return e<t?-1:e>t?1:0}function ld(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return rt(i,r);{const s=o1(),a=KC(s.encode(l_(e,n)),s.encode(l_(t,n)));return a!==0?a:rt(i,r)}}n+=i>65535?2:1}return rt(e.length,t.length)}function l_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function KC(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return rt(e[n],t[n]);return rt(e.length,t.length)}function Us(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-62135596800,c_=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*c_);return new Jt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<u_)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-u_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(t){return new J(t)}static min(){return new J(new Jt(0,0))}static max(){return new J(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class _n{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return _n.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _n?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=_n.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return rt(t.length,n.length)}static compareSegments(t,n){const i=_n.isNumericId(t),r=_n.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?_n.extractNumericId(t).compare(_n.extractNumericId(n)):ld(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bi.fromString(t.substring(4,t.length-2))}}class xt extends _n{construct(t,n,i){return new xt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class de extends _n{construct(t,n,i){return new de(t,n,i)}static isValidIdentifier(t){return XC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),de.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new de([h_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new de(n)}static emptyPath(){return new de([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(xt.fromString(t))}static fromName(t){return new Q(xt.fromString(t).popFirst(5))}static empty(){return new Q(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new xt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=-1;function $C(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new Jt(n+1,0):new Jt(n,i));return new Qi(r,Q.empty(),t)}function ZC(e){return new Qi(e.readTime,e.key,wo)}class Qi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Qi(J.min(),Q.empty(),wo)}static max(){return new Qi(J.max(),Q.empty(),wo)}}function WC(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==JC)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new P((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):P.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):P.reject(n)}static resolve(t){return new P((n,i)=>{n(t)})}static reject(t){return new P((n,i)=>{i(t)})}static waitFor(t){return new P((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=P.resolve(!1);for(const i of t)n=n.next(r=>r?P.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new P((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new P((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function eD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Pc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=-1;function Lc(e){return e==null}function ic(e){return e===0&&1/e==-1/0}function nD(e){return typeof e=="number"&&Number.isInteger(e)&&!ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function iD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=f_(t)),t=rD(e.get(n),t);return f_(t)}function rD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case u1:n+="";break;default:n+=s}}return n}function f_(e){return e+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function c1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||he.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,he.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,he.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gl(this.root,t,this.comparator,!0)}}class Gl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class he{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??he.RED,this.left=r??he.EMPTY,this.right=s??he.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new he(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return he.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return he.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,he.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,he.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}he.EMPTY=null,he.RED=!0,he.BLACK=!1;he.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new he(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new m_(this.data.getIterator())}getIteratorFrom(t){return new m_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new te(this.comparator);return n.data=t,n}}class m_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.fields=t,t.sort(de.comparator)}static empty(){return new dn([])}unionWith(t){let n=new te(de.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Us(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h1("Invalid base64 string: "+s):s}}(t);return new ge(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ge.EMPTY_BYTE_STRING=new ge("");const sD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(e){if(_t(!!e,39018),typeof e=="string"){let t=0;const n=sD.exec(e);if(_t(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ki(e){return typeof e=="string"?ge.fromBase64String(e):ge.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",m1="__previous_value__",g1="__local_write_time__";function Lm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[d1])===null||n===void 0?void 0:n.stringValue)===f1}function Uc(e){const t=e.mapValue.fields[m1];return Lm(t)?Uc(t):t}function Ro(e){const t=Yi(e.mapValue.fields[g1].timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const rc="(default)";class Io{constructor(t,n){this.projectId=t,this.database=n||rc}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===rc}isEqual(t){return t instanceof Io&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",oD="__max__",Ql={mapValue:{}},y1="__vector__",sc="value";function Xi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lm(e)?4:uD(e)?9007199254740991:lD(e)?10:11:Y(28295,{value:e})}function Dn(e,t){if(e===t)return!0;const n=Xi(e);if(n!==Xi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ro(e).isEqual(Ro(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Yi(r.timestampValue),l=Yi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Ki(r.bytesValue).isEqual(Ki(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Ft(r.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ft(r.integerValue)===Ft(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ft(r.doubleValue),l=Ft(s.doubleValue);return a===l?ic(a)===ic(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Us(e.arrayValue.values||[],t.arrayValue.values||[],Dn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(d_(a)!==d_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Dn(a[u],l[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function Co(e,t){return(e.values||[]).find(n=>Dn(n,t))!==void 0}function zs(e,t){if(e===t)return 0;const n=Xi(e),i=Xi(t);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Ft(s.integerValue||s.doubleValue),u=Ft(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return g_(e.timestampValue,t.timestampValue);case 4:return g_(Ro(e),Ro(t));case 5:return ld(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Ki(s),u=Ki(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=rt(l[h],u[h]);if(d!==0)return d}return rt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=rt(Ft(s.latitude),Ft(a.latitude));return l!==0?l:rt(Ft(s.longitude),Ft(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return p_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[sc])===null||l===void 0?void 0:l.arrayValue,O=(u=m[sc])===null||u===void 0?void 0:u.arrayValue,M=rt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=O==null?void 0:O.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:p_(_,O)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Ql.mapValue&&a===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(a===Ql.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=ld(u[g],d[g]);if(m!==0)return m;const _=zs(l[u[g]],h[d[g]]);if(_!==0)return _}return rt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{Pe:n})}}function g_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=Yi(e),i=Yi(t),r=rt(n.seconds,i.seconds);return r!==0?r:rt(n.nanos,i.nanos)}function p_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=zs(n[r],i[r]);if(s)return s}return rt(n.length,i.length)}function js(e){return ud(e)}function ud(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Yi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ki(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=ud(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${ud(n.fields[a])}`;return r+"}"}(e.mapValue):Y(61005,{value:e})}function mu(e){switch(Xi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uc(e);return t?16+mu(t):16;case 5:return 2*e.stringValue.length;case 6:return Ki(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+mu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return xr(i.fields,(s,a)=>{r+=s.length+mu(a)}),r}(e.mapValue);default:throw Y(13486,{value:e})}}function y_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function cd(e){return!!e&&"integerValue"in e}function Um(e){return!!e&&"arrayValue"in e}function __(e){return!!e&&"nullValue"in e}function v_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gu(e){return!!e&&"mapValue"in e}function lD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[p1])===null||n===void 0?void 0:n.stringValue)===y1}function ro(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ro(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ro(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===oD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!gu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ro(n)}setAll(t){let n=de.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=ro(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];gu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){xr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new rn(ro(this.value))}}function _1(e){const t=[];return xr(e.fields,(n,i)=>{const r=new de([n]);if(gu(i)){const s=_1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ee(t,0,J.min(),J.min(),J.min(),rn.empty(),0)}static newFoundDocument(t,n,i,r){return new Ee(t,1,n,J.min(),i,r,0)}static newNoDocument(t,n){return new Ee(t,2,n,J.min(),J.min(),rn.empty(),0)}static newUnknownDocument(t,n){return new Ee(t,3,n,J.min(),J.min(),rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ee&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n){this.position=t,this.inclusive=n}}function T_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=zs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function E_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n="asc"){this.field=t,this.dir=n}}function cD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class Kt extends v1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new fD(t,n,i):n==="array-contains"?new gD(t,i):n==="in"?new pD(t,i):n==="not-in"?new yD(t,i):n==="array-contains-any"?new _D(t,i):new Kt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new dD(t,i):new mD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends v1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new gn(t,n)}matches(t){return T1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function T1(e){return e.op==="and"}function E1(e){return hD(e)&&T1(e)}function hD(e){for(const t of e.filters)if(t instanceof gn)return!1;return!0}function hd(e){if(e instanceof Kt)return e.field.canonicalString()+e.op.toString()+js(e.value);if(E1(e))return e.filters.map(t=>hd(t)).join(",");{const t=e.filters.map(n=>hd(n)).join(",");return`${e.op}(${t})`}}function A1(e,t){return e instanceof Kt?function(i,r){return r instanceof Kt&&i.op===r.op&&i.field.isEqual(r.field)&&Dn(i.value,r.value)}(e,t):e instanceof gn?function(i,r){return r instanceof gn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&A1(a,r.filters[l]),!0):!1}(e,t):void Y(19439)}function b1(e){return e instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(e):e instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"}(e):"Filter"}class fD extends Kt{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class dD extends Kt{constructor(t,n){super(t,"in",n),this.keys=S1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class mD extends Kt{constructor(t,n){super(t,"not-in",n),this.keys=S1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function S1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class gD extends Kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Um(n)&&Co(n.arrayValue,this.value)}}class pD extends Kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Co(this.value.arrayValue,n)}}class yD extends Kt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Co(this.value.arrayValue,n)}}class _D extends Kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Co(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function A_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new vD(e,t,n,i,r,s,a)}function zm(e){const t=tt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>hd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Lc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>js(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>js(i)).join(",")),t.Ie=n}return t.Ie}function jm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!A1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!E_(e.startAt,t.startAt)&&E_(e.endAt,t.endAt)}function fd(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TD(e,t,n,i,r,s,a,l){return new el(e,t,n,i,r,s,a,l)}function Bm(e){return new el(e)}function b_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function w1(e){return e.collectionGroup!==null}function so(e){const t=tt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new te(de.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new oc(s,i))}),n.has(de.keyField().canonicalString())||t.Ee.push(new oc(de.keyField(),i))}return t.Ee}function Rn(e){const t=tt(e);return t.de||(t.de=ED(t,so(e))),t.de}function ED(e,t){if(e.limitType==="F")return A_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new oc(r.field,s)});const n=e.endAt?new ac(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ac(e.startAt.position,e.startAt.inclusive):null;return A_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function dd(e,t){const n=e.filters.concat([t]);return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function md(e,t,n){return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zc(e,t){return jm(Rn(e),Rn(t))&&e.limitType===t.limitType}function R1(e){return`${zm(Rn(e))}|lt:${e.limitType}`}function Zr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>b1(r)).join(", ")}]`),Lc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>js(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>js(r)).join(",")),`Target(${i})`}(Rn(e))}; limitType=${e.limitType})`}function jc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of so(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=T_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,so(i),r)||i.endAt&&!function(a,l,u){const h=T_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,so(i),r))}(e,t)}function AD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function I1(e){return(t,n)=>{let i=!1;for(const r of so(e)){const s=bD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function bD(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?zs(u,h):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Ut(Q.comparator);function ii(){return SD}const C1=new Ut(Q.comparator);function Ua(...e){let t=C1;for(const n of e)t=t.insert(n.key,n);return t}function D1(e){let t=C1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ur(){return ao()}function N1(){return ao()}function ao(){return new Mr(e=>e.toString(),(e,t)=>e.isEqual(t))}const wD=new Ut(Q.comparator),RD=new te(Q.comparator);function ft(...e){let t=RD;for(const n of e)t=t.add(n);return t}const ID=new te(rt);function CD(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function O1(e){return{integerValue:""+e}}function DD(e,t){return nD(t)?O1(t):qm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function ND(e,t,n){return e instanceof lc?function(r,s){const a={fields:{[d1]:{stringValue:f1},[g1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Lm(s)&&(s=Uc(s)),s&&(a.fields[m1]=s),{mapValue:a}}(n,t):e instanceof Do?M1(e,t):e instanceof No?V1(e,t):function(r,s){const a=x1(r,s),l=S_(a)+S_(r.Re);return cd(a)&&cd(r.Re)?O1(l):qm(r.serializer,l)}(e,t)}function OD(e,t,n){return e instanceof Do?M1(e,t):e instanceof No?V1(e,t):n}function x1(e,t){return e instanceof uc?function(i){return cd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class lc extends Bc{}class Do extends Bc{constructor(t){super(),this.elements=t}}function M1(e,t){const n=k1(t);for(const i of e.elements)n.some(r=>Dn(r,i))||n.push(i);return{arrayValue:{values:n}}}class No extends Bc{constructor(t){super(),this.elements=t}}function V1(e,t){let n=k1(t);for(const i of e.elements)n=n.filter(r=>!Dn(r,i));return{arrayValue:{values:n}}}class uc extends Bc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function S_(e){return Ft(e.integerValue||e.doubleValue)}function k1(e){return Um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function xD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Do&&r instanceof Do||i instanceof No&&r instanceof No?Us(i.elements,r.elements,Dn):i instanceof uc&&r instanceof uc?Dn(i.Re,r.Re):i instanceof lc&&r instanceof lc}(e.transform,t.transform)}class MD{constructor(t,n){this.version=t,this.transformResults=n}}class In{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new In}static exists(t){return new In(void 0,t)}static updateTime(t){return new In(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qc{}function P1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hm(e.key,In.none()):new nl(e.key,e.data,In.none());{const n=e.data,i=rn.empty();let r=new te(de.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Vr(e.key,i,new dn(r.toArray()),In.none())}}function VD(e,t,n){e instanceof nl?function(r,s,a){const l=r.value.clone(),u=R_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Vr?function(r,s,a){if(!pu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=R_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(L1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function oo(e,t,n,i){return e instanceof nl?function(s,a,l,u){if(!pu(s.precondition,a))return l;const h=s.value.clone(),d=I_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Vr?function(s,a,l,u){if(!pu(s.precondition,a))return l;const h=I_(s.fieldTransforms,u,a),d=a.data;return d.setAll(L1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return pu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function kD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=x1(i.transform,r||null);s!=null&&(n===null&&(n=rn.empty()),n.set(i.field,s))}return n||null}function w_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Us(i,r,(s,a)=>xD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nl extends qc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vr extends qc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function R_(e,t,n){const i=new Map;_t(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,OD(a,l,n[r]))}return i}function I_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,ND(s,a,t))}return i}class Hm extends qc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends qc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&VD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=oo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=oo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=N1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=P1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ft())}isEqual(t){return this.batchId===t.batchId&&Us(this.mutations,t.mutations,(n,i)=>w_(n,i))&&Us(this.baseMutations,t.baseMutations,(n,i)=>w_(n,i))}}class Fm{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){_t(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return wD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Fm(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,dt;function jD(e){switch(e){case U.OK:return Y(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function U1(e){if(e===void 0)return ni("GRPC error has no .code"),U.UNKNOWN;switch(e){case Qt.OK:return U.OK;case Qt.CANCELLED:return U.CANCELLED;case Qt.UNKNOWN:return U.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return U.INTERNAL;case Qt.UNAVAILABLE:return U.UNAVAILABLE;case Qt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qt.NOT_FOUND:return U.NOT_FOUND;case Qt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qt.ABORTED:return U.ABORTED;case Qt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qt.DATA_LOSS:return U.DATA_LOSS;default:return Y(39323,{code:e})}}(dt=Qt||(Qt={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Bi([4294967295,4294967295],0);function C_(e){const t=o1().encode(e),n=new JE;return n.update(t),new Uint8Array(n.digest())}function D_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Bi([n,i],0),new Bi([r,s],0)]}class Gm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(i<0)throw new za(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Bi.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(Bi.fromNumber(i)));return r.compare(BD)===1&&(r=new Bi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=C_(t),[i,r]=D_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Gm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=C_(t),[i,r]=D_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,il.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Hc(J.min(),r,new Ut(rt),ii(),ft())}}class il{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new il(i,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class z1{constructor(t,n){this.targetId=t,this.Ce=n}}class j1{constructor(t,n,i=ge.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class N_{constructor(){this.Fe=0,this.Me=O_(),this.xe=ge.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ft(),n=ft(),i=ft();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:s})}}),new il(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=O_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qD{constructor(t){this.ze=t,this.je=new Map,this.He=ii(),this.Je=Yl(),this.Ye=Yl(),this.Ze=new Ut(rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(fd(s))if(i===0){const a=new Q(s.path);this.tt(n,a,Ee.newNoDocument(a,J.min()))}else _t(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Ki(i).toUint8Array()}catch(u){if(u instanceof h1)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Gm(a,r,s)}catch(u){return Ls(u instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&fd(l.target)){const u=new Q(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Ee.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ft();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new Hc(t,n,this.Ze,this.He,i);return this.He=ii(),this.Je=Yl(),this.Ye=Yl(),this.Ze=new Ut(rt),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new N_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new te(rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new te(rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new N_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Yl(){return new Ut(Q.comparator)}function O_(){return new Ut(Q.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},FD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GD={and:"AND",or:"OR"};class QD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gd(e,t){return e.useProto3Json||Lc(t)?t:{value:t}}function cc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function YD(e,t){return cc(e,t.toTimestamp())}function Cn(e){return _t(!!e,49232),J.fromTimestamp(function(n){const i=Yi(n);return new Jt(i.seconds,i.nanos)}(e))}function Qm(e,t){return pd(e,t).canonicalString()}function pd(e,t){const n=function(r){return new xt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function q1(e){const t=xt.fromString(e);return _t(Y1(t),10190,{key:t.toString()}),t}function yd(e,t){return Qm(e.databaseId,t.path)}function Jh(e,t){const n=q1(t);if(n.get(1)!==e.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(F1(n))}function H1(e,t){return Qm(e.databaseId,t)}function KD(e){const t=q1(e);return t.length===4?xt.emptyPath():F1(t)}function _d(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function F1(e){return _t(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function x_(e,t,n){return{name:yd(e,t),fields:n.value.mapValue.fields}}function XD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(_t(d===void 0||typeof d=="string",58123),ge.fromBase64String(d||"")):(_t(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ge.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?U.UNKNOWN:U1(h.code);return new G(d,h.message||"")}(a);n=new j1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Jh(e,i.document.name),s=Cn(i.document.updateTime),a=i.document.createTime?Cn(i.document.createTime):J.min(),l=new rn({mapValue:{fields:i.document.fields}}),u=Ee.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new yu(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Jh(e,i.document),s=i.readTime?Cn(i.readTime):J.min(),a=Ee.newNoDocument(r,s),l=i.removedTargetIds||[];n=new yu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Jh(e,i.document),s=i.removedTargetIds||[];n=new yu([],s,r,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new zD(r,s),l=i.targetId;n=new z1(l,a)}}return n}function $D(e,t){let n;if(t instanceof nl)n={update:x_(e,t.key,t.value)};else if(t instanceof Hm)n={delete:yd(e,t.key)};else if(t instanceof Vr)n={update:x_(e,t.key,t.data),updateMask:sN(t.fieldMask)};else{if(!(t instanceof PD))return Y(16599,{ft:t.type});n={verify:yd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof lc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Do)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof No)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof uc)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Y(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:YD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(e,t.precondition)),n}function ZD(e,t){return e&&e.length>0?(_t(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Cn(r.updateTime):Cn(s);return a.isEqual(J.min())&&(a=Cn(s)),new MD(a,r.transformResults||[])}(n,t))):[]}function WD(e,t){return{documents:[H1(e,t.path)]}}function JD(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=H1(e,r);const s=function(h){if(h.length!==0)return Q1(gn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Wr(m.field),direction:nN(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=gd(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function tN(e){let t=KD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){_t(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=G1(g);return m instanceof gn&&E1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(O){return new oc(Jr(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Lc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new ac(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new ac(_,m)}(n.endAt)),TD(t,r,a,s,l,"F",u,h)}function eN(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function G1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Jr(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jr(n.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jr(n.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Jr(n.unaryFilter.field);return Kt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Kt.create(Jr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(i=>G1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function nN(e){return HD[e]}function iN(e){return FD[e]}function rN(e){return GD[e]}function Wr(e){return{fieldPath:e.canonicalString()}}function Jr(e){return de.fromServerFormat(e.fieldPath)}function Q1(e){return e instanceof Kt?function(n){if(n.op==="=="){if(v_(n.value))return{unaryFilter:{field:Wr(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:Wr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v_(n.value))return{unaryFilter:{field:Wr(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:Wr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wr(n.field),op:iN(n.op),value:n.value}}}(e):e instanceof gn?function(n){const i=n.getFilters().map(r=>Q1(r));return i.length===1?i[0]:{compositeFilter:{op:rN(n.op),filters:i}}}(e):Y(54877,{filter:e})}function sN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Y1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,n,i,r,s=J.min(),a=J.min(),l=ge.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Di(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.wt=t}}function oN(e){const t=tN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Cn=new uN}addToCollectionParentIndex(t,n){return this.Cn.add(n),P.resolve()}getCollectionParents(t,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return P.resolve()}deleteFieldIndex(t,n){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,n){return P.resolve()}getDocumentsMatchingTarget(t,n){return P.resolve(null)}getIndexType(t,n){return P.resolve(0)}getFieldIndexes(t,n){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,n){return P.resolve(Qi.min())}getMinOffsetFromCollectionGroup(t,n){return P.resolve(Qi.min())}updateCollectionGroup(t,n,i){return P.resolve()}updateIndexEntries(t,n){return P.resolve()}}class uN{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new te(xt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new te(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class xe{static withCacheSize(t){return new xe(t,xe.DEFAULT_COLLECTION_PERCENTILE,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.DEFAULT_COLLECTION_PERCENTILE=10,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xe.DEFAULT=new xe(K1,xe.DEFAULT_COLLECTION_PERCENTILE,xe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xe.DISABLED=new xe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Bs(0)}static lr(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",cN=1048576;function k_([e,t],[n,i]){const r=rt(e,n);return r===0?rt(t,i):r}class hN{constructor(t){this.Er=t,this.buffer=new te(k_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();k_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(V_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?H(V_,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.mr(3e5)})}}class dN{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return P.resolve(Pc.le);const i=new hN(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(M_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),$r()<=ht.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function mN(e,t){return new dN(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new Mr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ee.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?P.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&oo(i.mutation,r,dn.empty(),Jt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ft()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ft()){const r=ur();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Ua();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ur();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ft()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=ii();const a=ao(),l=function(){return ao()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Vr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),oo(d.mutation,h,d.mutation.getFieldMask(),Jt.now())):a.set(h.key,dn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new pN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=ao();let r=new Ut((a,l)=>a-l),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||dn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ft()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=N1();d.forEach(m=>{if(!s.has(m)){const _=P1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):w1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):P.resolve(ur());let l=wo,u=s;return a.next(h=>P.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?P.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ft())).next(d=>({batchId:l,changes:D1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=Ua();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Ua();return this.indexManager.getCollectionParents(t,s).next(l=>P.forEach(l,u=>{const h=function(g,m){return new el(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Ee.newInvalidDocument(d)))});let l=Ua();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&oo(d.mutation,h,dn.empty(),Jt.now()),jc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Cn(r.createTime)}}(n)),P.resolve()}getNamedQuery(t,n){return P.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:oN(r.bundledQuery),readTime:Cn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new Ut(Q.comparator),this.Qr=new Map}getOverlay(t,n){return P.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ur();return P.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),P.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),P.resolve()}getOverlaysForCollection(t,n,i){const r=ur(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return P.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ut((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=ur(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=ur(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return P.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new UD(n,i));let s=this.Qr.get(n);s===void 0&&(s=ft(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=ge.EMPTY_BYTE_STRING}getSessionToken(t){return P.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,P.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.$r=new te(ie.Ur),this.Kr=new te(ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ie(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ie(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new Q(new xt([])),i=new ie(n,t),r=new ie(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Q(new xt([])),i=new ie(n,t),r=new ie(n,t+1);let s=ft();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ie(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ie{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Q.comparator(t.key,n.key)||rt(t.Zr,n.Zr)}static Wr(t,n){return rt(t.Zr,n.Zr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new te(ie.Ur)}checkEmpty(t){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new LD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new ie(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return P.resolve(a)}lookupMutationBatch(t,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Pm:this.nr-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ie(n,0),r=new ie(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new te(rt);return n.forEach(r=>{const s=new ie(r,0),a=new ie(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),P.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new ie(new Q(s),0);let l=new te(rt);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),P.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){_t(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return P.forEach(n.mutations,r=>{const s=new ie(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ie(n,0),r=this.Xr.firstAfterOrEqual(i);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,P.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.ii=t,this.docs=function(){return new Ut(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return P.resolve(i?i.document.mutableCopy():Ee.newInvalidDocument(n))}getEntries(t,n){let i=ii();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ee.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=ii();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||WC(ZC(d),i)<=0||(r.has(d.key)||jc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Y(9500)}si(t,n){return P.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new bN(this)}getSize(t){return P.resolve(this.size)}}class bN extends gN{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),P.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.persistence=t,this.oi=new Mr(n=>zm(n),jm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this._i=0,this.ai=new Ym,this.targetCount=0,this.ui=Bs.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),P.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Bs(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(t,n){return this.Tr(n),P.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return P.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),P.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),P.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return P.resolve(i)}containsKey(t,n){return P.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.ci={},this.overlays={},this.li=new Pc(0),this.hi=!1,this.hi=!0,this.Pi=new TN,this.referenceDelegate=t(this),this.Ti=new SN(this),this.indexManager=new lN,this.remoteDocumentCache=function(r){return new AN(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new aN(n),this.Ei=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new vN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new EN(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new wN(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return P.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class wN extends tD{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Vi=new Ym,this.mi=null}static fi(t){return new Km(t)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),P.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),P.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,i=>{const r=Q.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,J.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class hc{constructor(t,n){this.persistence=t,this.yi=new Mr(i=>iD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=mN(this,n)}static fi(t,n){return new hc(t,n)}di(){}Ai(t){return P.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return P.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?P.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,J.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),P.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),P.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),P.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),P.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mu(t.data.value)),n}Dr(t,n,i){return P.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ft(),r=ft();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Xm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vw()?8:eD(Se())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new RN;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?($r()<=ht.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Zr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):($r()<=ht.DEBUG&&H("QueryEngine","Query:",Zr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?($r()<=ht.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Zr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(n))):P.resolve())}ws(t,n){if(b_(n))return P.resolve(null);let i=Rn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=md(n,null,"F"),i=Rn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ft(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,md(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return b_(n)||r.isEqual(J.min())?P.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?P.resolve(null):($r()<=ht.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zr(n)),this.Fs(t,a,n,$C(r,wo)).next(l=>l))})}vs(t,n){let i=new te(I1(t));return n.forEach((r,s)=>{jc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return $r()<=ht.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Zr(n)),this.ys.getDocumentsMatchingQuery(t,n,Qi.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",CN=3e8;class DN{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Ut(rt),this.Os=new Mr(s=>zm(s),jm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function NN(e,t,n,i){return new DN(e,t,n,i)}async function $1(e,t){const n=tt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ft();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function ON(e,t){const n=tt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=P.resolve();return m.forEach(O=>{_=_.next(()=>d.getEntry(u,O)).next(M=>{const k=h.docVersions.get(O);_t(k!==null,48541),M.version.compareTo(k)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ft();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function Z1(e){const t=tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function xN(e,t){const n=tt(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(ge.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,k,b){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=CN?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=ii(),h=ft();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(MN(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(J.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return P.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function MN(e,t,n){let i=ft(),r=ft();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=ii();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H($m,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function VN(e,t){const n=tt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Pm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function kN(e,t){const n=tt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,P.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new Di(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function vd(e,t,n){const i=tt(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!na(a))throw a;H($m,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function P_(e,t,n){const i=tt(e);let r=J.min(),s=ft();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=tt(u),m=g.Os.get(d);return m!==void 0?P.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,Rn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:J.min(),n?s:ft())).next(l=>(PN(i,AD(t),l),{documents:l,$s:s})))}function PN(e,t,n){let i=e.Ns.get(t)||J.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class L_{constructor(){this.activeTargetIds=CD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LN{constructor(){this.xo=new L_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new L_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="ConnectivityMonitor";class z_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(U_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(U_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=null;function Td(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="RestConnection",zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===rc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Td(),l=this.jo(t,n.toUriEncodedString());H(tf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=Zs(h);return this.Jo(t,l,u,i,d).then(g=>(H(tf,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Ls(tf,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=zN[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve="WebChannelConnection";class qN extends jN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Td();return new Promise((l,u)=>{const h=new t1;h.setWithCredentials(!0),h.listenOnce(e1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case du.NO_ERROR:const g=h.getResponseJson();H(ve,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case du.TIMEOUT:H(ve,`RPC '${t}' ${a} timed out`),u(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const m=h.getStatus();if(H(ve,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const O=_==null?void 0:_.error;if(O&&O.status&&O.message){const M=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(O.status);u(new G(M,O.message))}else u(new G(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(U.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(ve,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(ve,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Td(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=r1(),l=i1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(ve,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const O=new BN({Zo:k=>{_?H(ve,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(m||(H(ve,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(ve,`RPC '${t}' stream ${r} sending:`,k),g.send(k))},Xo:()=>g.close()}),M=(k,b,v)=>{k.listen(b,w=>{try{v(w)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,La.EventType.OPEN,()=>{_||(H(ve,`RPC '${t}' stream ${r} transport opened.`),O.__())}),M(g,La.EventType.CLOSE,()=>{_||(_=!0,H(ve,`RPC '${t}' stream ${r} transport closed`),O.u_(),this.d_(g))}),M(g,La.EventType.ERROR,k=>{_||(_=!0,Ls(ve,`RPC '${t}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),O.u_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),M(g,La.EventType.MESSAGE,k=>{var b;if(!_){const v=k.data[0];_t(!!v,16349);const w=v,N=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(N){H(ve,`RPC '${t}' stream ${r} received error:`,N);const z=N.status;let j=function(E){const A=Qt[E];if(A!==void 0)return U1(A)}(z),T=N.message;j===void 0&&(j=U.INTERNAL,T="Unknown error status: "+z+" with message "+N.message),_=!0,O.u_(new G(j,T)),g.close()}else H(ve,`RPC '${t}' stream ${r} received:`,v),O.c_(v)}}),M(l,n1.STAT_EVENT,k=>{k.stat===od.PROXY?H(ve,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===od.NOPROXY&&H(ve,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){return new QD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class J1{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new W1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new G(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(j_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HN extends J1{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=XD(this.serializer,t),i=function(s){if(!("targetChange"in s))return J.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?Cn(a.readTime):J.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=_d(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=fd(u)?{documents:WD(s,u)}:{query:JD(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=B1(s,a.resumeToken);const h=gd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=cc(s,a.snapshotVersion.toTimestamp());const h=gd(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=eN(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=_d(this.serializer),n.removeTarget=t,this.Q_(n)}}class FN extends J1{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=ZD(t.writeResults,t.commitTime),i=Cn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=_d(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>$D(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{}class QN extends GN{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,pd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,pd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ni(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="RemoteStore";class KN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{kr(this)&&(H(Ir,"Restarting streams for network reachability change."),await async function(u){const h=tt(u);h.da.add(4),await rl(h),h.Va.set("Unknown"),h.da.delete(4),await Gc(h)}(this))})}),this.Va=new YN(i,r)}}async function Gc(e){if(kr(e))for(const t of e.Aa)await t(!0)}async function rl(e){for(const t of e.Aa)await t(!1)}function tA(e,t){const n=tt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),tg(n)?Jm(n):ia(n).N_()&&Wm(n,t))}function Zm(e,t){const n=tt(e),i=ia(n);n.Ea.delete(t),i.N_()&&eA(n,t),n.Ea.size===0&&(i.N_()?i.k_():kr(n)&&n.Va.set("Unknown"))}function Wm(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ia(e).Z_(t)}function eA(e,t){e.ma.Ke(t),ia(e).X_(t)}function Jm(e){e.ma=new qD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ia(e).start(),e.Va.ca()}function tg(e){return kr(e)&&!ia(e).O_()&&e.Ea.size>0}function kr(e){return tt(e).da.size===0}function nA(e){e.ma=void 0}async function XN(e){e.Va.set("Online")}async function $N(e){e.Ea.forEach((t,n)=>{Wm(e,t)})}async function ZN(e,t){nA(e),tg(e)?(e.Va.Pa(t),Jm(e)):e.Va.set("Unknown")}async function WN(e,t,n){if(e.Va.set("Online"),t instanceof j1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(Ir,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await fc(e,i)}else if(t instanceof yu?e.ma.Xe(t):t instanceof z1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(J.min()))try{const i=await Z1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(ge.EMPTY_BYTE_STRING,d.snapshotVersion)),eA(s,u);const g=new Di(d.target,u,h,d.sequenceNumber);Wm(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(Ir,"Failed to raise snapshot:",i),await fc(e,i)}}async function fc(e,t,n){if(!na(t))throw t;e.da.add(1),await rl(e),e.Va.set("Offline"),n||(n=()=>Z1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(Ir,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Gc(e)})}function iA(e,t){return t().catch(n=>fc(e,n,t))}async function Qc(e){const t=tt(e),n=$i(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Pm;for(;JN(t);)try{const r=await VN(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,t4(t,r)}catch(r){await fc(t,r)}rA(t)&&sA(t)}function JN(e){return kr(e)&&e.Ia.length<10}function t4(e,t){e.Ia.push(t);const n=$i(e);n.N_()&&n.ea&&n.ta(t.mutations)}function rA(e){return kr(e)&&!$i(e).O_()&&e.Ia.length>0}function sA(e){$i(e).start()}async function e4(e){$i(e).ia()}async function n4(e){const t=$i(e);for(const n of e.Ia)t.ta(n.mutations)}async function i4(e,t,n){const i=e.Ia.shift(),r=Fm.from(i,t,n);await iA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Qc(e)}async function r4(e,t){t&&$i(e).ea&&await async function(i,r){if(function(a){return jD(a)&&a!==U.ABORTED}(r.code)){const s=i.Ia.shift();$i(i).L_(),await iA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qc(i)}}(e,t),rA(e)&&sA(e)}async function B_(e,t){const n=tt(e);n.asyncQueue.verifyOperationInProgress(),H(Ir,"RemoteStore received new credentials");const i=kr(n);n.da.add(3),await rl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Gc(n)}async function s4(e,t){const n=tt(e);t?(n.da.delete(2),await Gc(n)):t||(n.da.add(2),await rl(n),n.Va.set("Unknown"))}function ia(e){return e.fa||(e.fa=function(n,i,r){const s=tt(n);return s.oa(),new HN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:XN.bind(null,e),n_:$N.bind(null,e),i_:ZN.bind(null,e),Y_:WN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),tg(e)?Jm(e):e.Va.set("Unknown")):(await e.fa.stop(),nA(e))})),e.fa}function $i(e){return e.ga||(e.ga=function(n,i,r){const s=tt(n);return s.oa(),new FN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:e4.bind(null,e),i_:r4.bind(null,e),na:n4.bind(null,e),ra:i4.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Qc(e)):(await e.ga.stop(),e.Ia.length>0&&(H(Ir,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new eg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(e,t){if(ni("AsyncQueue",`${t}: ${e}`),na(e))return new G(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(t){return new Ss(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=Ua(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ss;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.pa=new Ut(Q.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class qs{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new qs(t,n,Ss.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class o4{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=tt(n),s=r.queries;r.queries=H_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function H_(){return new Mr(e=>R1(e),zc)}async function l4(e,t){const n=tt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new a4,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=ng(a,`Initialization of query '${Zr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&ig(n)}async function u4(e,t){const n=tt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function c4(e,t){const n=tt(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&ig(n)}function h4(e,t,n){const i=tt(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function ig(e){e.Ca.forEach(t=>{t.next()})}var Ed,F_;(F_=Ed||(Ed={})).xa="default",F_.Cache="cache";class f4{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new qs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=qs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.key=t}}class oA{constructor(t){this.key=t}}class d4{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.Za=I1(t),this.Xa=new Ss(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new q_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=jc(this.query,g)?g:null,O=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?O!==M&&(i.track({type:3,doc:_}),k=!0):this.ru(m,_)||(i.track({type:2,doc:_}),k=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),k=!0):m&&!_&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,O){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:k})}};return M(_)-M(O)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new qs(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ft(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new oA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new aA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ft();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return qs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const rg="SyncEngine";class m4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class g4{constructor(t){this.key=t,this.cu=!1}}class p4{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Mr(l=>R1(l),zc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut(Q.comparator),this.Eu=new Map,this.du=new Ym,this.Au={},this.Ru=new Map,this.Vu=Bs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function y4(e,t,n=!0){const i=dA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await lA(i,t,n,!0),r}async function _4(e,t){const n=dA(e);await lA(n,t,!0,!1)}async function lA(e,t,n,i){const r=await kN(e.localStore,Rn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await v4(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&tA(e.remoteStore,r),l}async function v4(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,k,b,v){let w=k.view.tu(b);w.Cs&&(w=await P_(M.localStore,k.query,!1).then(({documents:T})=>k.view.tu(T,w)));const N=v&&v.targetChanges.get(k.targetId),z=v&&v.targetMismatches.get(k.targetId)!=null,j=k.view.applyChanges(w,M.isPrimaryClient,N,z);return Q_(M,k.targetId,j.ou),j.snapshot}(e,g,m,_);const s=await P_(e.localStore,t,!0),a=new d4(t,s.$s),l=a.tu(s.documents),u=il.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);Q_(e,n,h.ou);const d=new m4(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function T4(e,t,n){const i=tt(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!zc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await vd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Zm(i.remoteStore,r.targetId),Ad(i,r.targetId)}).catch(ea)):(Ad(i,r.targetId),await vd(i.localStore,r.targetId,!0))}async function E4(e,t){const n=tt(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zm(n.remoteStore,i.targetId))}async function A4(e,t,n){const i=D4(e);try{const r=await function(a,l){const u=tt(a),h=Jt.now(),d=l.reduce((_,O)=>_.add(O.key),ft());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let O=ii(),M=ft();return u.Bs.getEntries(_,d).next(k=>{O=k,O.forEach((b,v)=>{v.isValidDocument()||(M=M.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,O)).next(k=>{g=k;const b=[];for(const v of l){const w=kD(v,g.get(v.key).overlayedDocument);w!=null&&b.push(new Vr(v.key,w,_1(w.value.mapValue),In.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,b,l)}).next(k=>{m=k;const b=k.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,k.batchId,b)})}).then(()=>({batchId:m.batchId,changes:D1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Ut(rt)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await sl(i,r.changes),await Qc(i.remoteStore)}catch(r){const s=ng(r,"Failed to persist write");n.reject(s)}}async function uA(e,t){const n=tt(e);try{const i=await xN(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(_t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?_t(a.cu,14607):r.removedDocuments.size>0&&(_t(a.cu,42227),a.cu=!1))}),await sl(n,i,t)}catch(i){await ea(i)}}function G_(e,t,n){const i=tt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=tt(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&ig(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function b4(e,t,n){const i=tt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Ut(Q.comparator);a=a.insert(s,Ee.newNoDocument(s,J.min()));const l=ft().add(s),u=new Hc(J.min(),new Map,new Ut(rt),a,l);await uA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),sg(i)}else await vd(i.localStore,t,!1).then(()=>Ad(i,t,n)).catch(ea)}async function S4(e,t){const n=tt(e),i=t.batch.batchId;try{const r=await ON(n.localStore,t);hA(n,i,null),cA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sl(n,r)}catch(r){await ea(r)}}async function w4(e,t,n){const i=tt(e);try{const r=await function(a,l){const u=tt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(_t(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);hA(i,t,n),cA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await sl(i,r)}catch(r){await ea(r)}}function cA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function hA(e,t,n){const i=tt(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Ad(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||fA(e,i)})}function fA(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Zm(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),sg(e))}function Q_(e,t,n){for(const i of n)i instanceof aA?(e.du.addReference(i.key,t),R4(e,i)):i instanceof oA?(H(rg,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||fA(e,i.key)):Y(19791,{pu:i})}function R4(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(rg,"New document in limbo: "+n),e.Tu.add(i),sg(e))}function sg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Q(xt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new g4(n)),e.Iu=e.Iu.insert(n,i),tA(e.remoteStore,new Di(Rn(Bm(n.path)),i,"TargetPurposeLimboResolution",Pc.le))}}async function sl(e,t,n){const i=tt(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=Xm.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=tt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>P.forEach(h,m=>P.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>P.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!na(g))throw g;H($m,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),O=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(O);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function I4(e,t){const n=tt(e);if(!n.currentUser.isEqual(t)){H(rg,"User change. New user:",t.toKey());const i=await $1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new G(U.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sl(n,i.ks)}}function C4(e,t){const n=tt(e),i=n.Eu.get(t);if(i&&i.cu)return ft().add(i.key);{let r=ft();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function dA(e){const t=tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b4.bind(null,t),t.lu.Y_=c4.bind(null,t.eventManager),t.lu.gu=h4.bind(null,t.eventManager),t}function D4(e){const t=tt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,t),t}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fc(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return NN(this.persistence,new IN,t.initialUser,this.serializer)}Su(t){return new X1(Km.fi,this.serializer)}bu(t){return new LN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class N4 extends dc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){_t(this.persistence.referenceDelegate instanceof hc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fN(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?xe.withCacheSize(this.cacheSizeBytes):xe.DEFAULT;return new X1(i=>hc.fi(i,n),this.serializer)}}class bd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>G_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I4.bind(null,this.syncEngine),await s4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new o4}()}createDatastore(t){const n=Fc(t.databaseInfo.databaseId),i=function(s){return new qN(s)}(t.databaseInfo);return function(s,a,l,u){return new QN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new KN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return z_.C()?new z_:new UN}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new p4(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=tt(r);H(Ir,"RemoteStore shutting down."),s.da.add(5),await rl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bd.provider={build:()=>new bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ni("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class x4{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Te.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(Zi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Zi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ng(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function nf(e,t){e.asyncQueue.verifyOperationInProgress(),H(Zi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await $1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Y_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await M4(e);H(Zi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>B_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>B_(t.remoteStore,r)),e._onlineComponents=t}async function M4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Zi,"Using user provided OfflineComponentProvider");try{await nf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await nf(e,new dc)}}else H(Zi,"Using default OfflineComponentProvider"),await nf(e,new N4(void 0));return e._offlineComponents}async function mA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Zi,"Using user provided OnlineComponentProvider"),await Y_(e,e._uninitializedComponentsProvider._online)):(H(Zi,"Using default OnlineComponentProvider"),await Y_(e,new bd))),e._onlineComponents}function V4(e){return mA(e).then(t=>t.syncEngine)}async function K_(e){const t=await mA(e),n=t.eventManager;return n.onListen=y4.bind(null,t.syncEngine),n.onUnlisten=T4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=E4.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e,t,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function k4(e,t,n,i){if(t===!0&&i===!0)throw new G(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $_(e){if(!Q.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Z_(e){if(Q.isDocumentKey(e))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function _r(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yc(e);throw new G(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",W_=!0;class J_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=W_}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:W_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cN)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BC;switch(i.type){case"firstParty":return new GC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=X_.get(n);i&&(H("ComponentProvider","Removing Datastore"),X_.delete(n),i.terminate())}(this),Promise.resolve()}}function P4(e,t,n,i={}){var r;e=_r(e,Kc);const s=Zs(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(mE(`https://${u}`),gE("Firestore",!0)),a.host!==yA&&a.host!==u&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!br(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Te.MOCK_USER;else{d=cw(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Te(m)}e._authCredentials=new qC(new a1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ra(this.firestore,t,this._query)}}class Me{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}}class qi extends ra{constructor(t,n,i){super(t,n,Bm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Q(t))}withConverter(t){return new qi(this.firestore,t,this._path)}}function tv(e,t,...n){if(e=ke(e),pA("collection","path",t),e instanceof Kc){const i=xt.fromString(t,...n);return Z_(i),new qi(e,null,i)}{if(!(e instanceof Me||e instanceof qi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xt.fromString(t,...n));return Z_(i),new qi(e.firestore,null,i)}}function Xl(e,t,...n){if(e=ke(e),arguments.length===1&&(t=l1.newId()),pA("doc","path",t),e instanceof Kc){const i=xt.fromString(t,...n);return $_(i),new Me(e,null,new Q(i))}{if(!(e instanceof Me||e instanceof qi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(xt.fromString(t,...n));return $_(i),new Me(e.firestore,e instanceof qi?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="AsyncQueue";class nv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new W1(this,"async_queue_retry"),this.rc=()=>{const i=ef();i&&H(ev,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new yr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!na(t))throw t;H(ev,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,ni("INTERNAL UNHANDLED ERROR: ",iv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=eg.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&Y(47125,{cc:iv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function iv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Oo extends Kc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new nv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nv(t),this._firestoreClient=void 0,await t}}}function L4(e,t){const n=typeof e=="object"?e:vE(),i=typeof e=="string"?e:rc,r=wm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=lw("firestore");s&&P4(r,...s)}return r}function _A(e){if(e._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||U4(e),e._firestoreClient}function U4(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new aD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new x4(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hs(ge.fromBase64String(t))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Hs(ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new de(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class j4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Vr(t,this.data,this.fieldMask,n,this.fieldTransforms):new nl(t,this.data,n,this.fieldTransforms)}}function TA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:e})}}class ug{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return mc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(TA(this.Ic)&&z4.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class B4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Fc(t)}bc(t,n,i,r=!1){return new ug({Ic:t,methodName:n,wc:i,path:de.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EA(e){const t=e._freezeSettings(),n=Fc(e._databaseId);return new B4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function q4(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);SA("Data must be an object, but it was:",a,i);const l=AA(i,a);let u,h;if(s.merge)u=new dn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=F4(t,g,n);if(!a.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Q4(d,m)||d.push(m)}u=new dn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new j4(new rn(l),u,h)}function H4(e,t,n,i=!1){return cg(n,e.bc(i?4:3,t))}function cg(e,t){if(bA(e=ke(e)))return SA("Unsupported field value:",t,e),AA(e,t);if(e instanceof vA)return function(i,r){if(!TA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=cg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Jt.fromDate(i);return{timestampValue:cc(r.serializer,s)}}if(i instanceof Jt){const s=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cc(r.serializer,s)}}if(i instanceof og)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hs)return{bytesValue:B1(r.serializer,i._byteString)};if(i instanceof Me){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof lg)return function(a,l){return{mapValue:{fields:{[p1]:{stringValue:y1},[sc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return qm(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${Yc(i)}`)}(e,t)}function AA(e,t){const n={};return c1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(e,(i,r)=>{const s=cg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function bA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jt||e instanceof og||e instanceof Hs||e instanceof Me||e instanceof vA||e instanceof lg)}function SA(e,t,n){if(!bA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Yc(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function F4(e,t,n){if((t=ke(t))instanceof ag)return t._internalPath;if(typeof t=="string")return wA(e,t);throw mc("Field path arguments must be of type string or ",e,!1,void 0,n)}const G4=new RegExp("[~\\*/\\[\\]]");function wA(e,t,n){if(t.search(G4)>=0)throw mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ag(...t.split("."))._internalPath}catch{throw mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(U.INVALID_ARGUMENT,l+e+u)}function Q4(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(IA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y4 extends RA{data(){return super.data()}}function IA(e,t){return typeof t=="string"?wA(e,t):t instanceof ag?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class X4 extends hg{}function $4(e,t,...n){let i=[];t instanceof hg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof dg).length,l=s.filter(u=>u instanceof fg).length;if(a>1||a>0&&l>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class fg extends X4{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new fg(t,n,i)}_apply(t){const n=this._parse(t);return CA(t._query,n),new ra(t.firestore,t.converter,dd(t._query,n))}_parse(t){const n=EA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){av(g,d);const O=[];for(const M of g)O.push(sv(u,s,M));m={arrayValue:{values:O}}}else m=sv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||av(g,d),m=H4(l,a,g,d==="in"||d==="not-in");return Kt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class dg extends hg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new dg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:gn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)CA(a,u),a=dd(a,u)}(t._query,n),new ra(t.firestore,t.converter,dd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sv(e,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(t)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(xt.fromString(n));if(!Q.isDocumentKey(i))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return y_(e,new Q(i))}if(n instanceof Me)return y_(e,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(n)}.`)}function av(e,t){if(!Array.isArray(e)||e.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Z4{convertValue(t,n="none"){switch(Xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ki(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return xr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[sc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Ft(a.doubleValue));return new lg(s)}convertGeoPoint(t){return new og(Ft(t.latitude),Ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Uc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ro(t));default:return null}}convertTimestamp(t){const n=Yi(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=xt.fromString(t);_t(Y1(i),9688,{name:t});const r=new Io(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DA extends RA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(IA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class _u extends DA{data(t={}){return super.data(t)}}class J4{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new _u(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new _u(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new _u(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:tO(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}class NA extends Z4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function ov(e,t,n){e=_r(e,Me);const i=_r(e.firestore,Oo),r=W4(e.converter,t);return OA(i,[q4(EA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,In.none())])}function eO(e){return OA(_r(e.firestore,Oo),[new Hm(e._key,In.none())])}function nO(e,...t){var n,i,r;e=ke(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||rv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof Me)h=_r(e.firestore,Oo),d=Bm(e._key.path),u={next:g=>{t[a]&&t[a](iO(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=_r(e,ra);h=_r(g.firestore,Oo),d=g._query;const m=new NA(h);u={next:_=>{t[a]&&t[a](new J4(h,m,g,_))},error:t[a+1],complete:t[a+2]},K4(e._query)}return function(m,_,O,M){const k=new O4(M),b=new f4(_,k,O);return m.asyncQueue.enqueueAndForget(async()=>l4(await K_(m),b)),()=>{k.xu(),m.asyncQueue.enqueueAndForget(async()=>u4(await K_(m),b))}}(_A(h),d,l,u)}function OA(e,t){return function(i,r){const s=new yr;return i.asyncQueue.enqueueAndForget(async()=>A4(await V4(i),r,s)),s.promise}(_A(e),t)}function iO(e,t,n){const i=n.docs.get(t._key),r=new NA(e);return new DA(e,r,t._key,i,new ja(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){ta=r})(Ws),Ps(new Sr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Oo(new HC(i.getProvider("auth-internal")),new QC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ji(s_,a_,t),ji(s_,a_,"esm2017")})();const W={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},xA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},MA={normal:"https://archives.bulbagarden.net/media/upload/c/cb/Normal_icon_LA.png?20220213053429",fire:"https://archives.bulbagarden.net/media/upload/4/48/Fire_icon_LA.png?20220213053749",water:"https://archives.bulbagarden.net/media/upload/5/5e/Water_icon_LA.png?20220213053800",electric:"https://archives.bulbagarden.net/media/upload/7/75/Electric_icon_LA.png?20220213053826",grass:"https://archives.bulbagarden.net/media/upload/1/1b/Grass_icon_LA.png?20220213053815",ice:"https://archives.bulbagarden.net/media/upload/7/70/Ice_icon_LA.png?20220213053853",fighting:"https://archives.bulbagarden.net/media/upload/6/68/Fighting_icon_LA.png?20220213053440",poison:"https://archives.bulbagarden.net/media/upload/b/b4/Poison_icon_LA.png?20220213053545",ground:"https://archives.bulbagarden.net/media/upload/4/45/Ground_icon_LA.png?20220213053610",flying:"https://archives.bulbagarden.net/media/upload/d/de/Flying_icon_LA.png?20220213053533",psychic:"https://archives.bulbagarden.net/media/upload/4/45/Psychic_icon_LA.png?20220213053708",bug:"https://archives.bulbagarden.net/media/upload/2/26/Bug_icon_LA.png?20220213053628",rock:"https://archives.bulbagarden.net/media/upload/8/85/Rock_icon_LA.png?20220213053620",ghost:"https://archives.bulbagarden.net/media/upload/b/b5/Ghost_icon_LA.png?20220213053637",dragon:"https://archives.bulbagarden.net/media/upload/2/28/Dragon_icon_LA.png?20220213053915",dark:"https://archives.bulbagarden.net/media/upload/7/7f/Dark_icon_LA.png?20220213053921",steel:"https://archives.bulbagarden.net/media/upload/f/f9/Steel_icon_LA.png?20220213053740",fairy:"https://archives.bulbagarden.net/media/upload/b/b1/Fairy_icon_LA.png?20220213053936"},Oa={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},rO=()=>D.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),sO=()=>D.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),lv=({className:e="w-6 h-6",isFavorite:t})=>D.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":W.textMuted},children:[" ",D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),aO=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",D.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),oO=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),lO=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",D.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),uO=()=>D.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),cO=()=>D.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),hO=()=>D.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),fO=()=>D.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),dO=()=>D.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),mO=()=>D.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),uv=({type:e})=>D.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:xA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),gO=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},xa=typeof __app_id<"u"?__app_id:"default-pokemon-app",pO=Tv.memo(({pokemon:e,onAdd:t,details:n,lastRef:i})=>n?D.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center cursor-pointer hover:shadow-xl transform hover:-translate-y-1 transition-all group relative",style:{backgroundColor:W.cardLight},onClick:()=>t(n),children:[D.jsx("img",{src:n.sprite,alt:n.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),D.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:n.name}),D.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:n.types.map(r=>D.jsx("img",{src:MA[r],alt:r,className:"w-5 h-5"},r))}),D.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:D.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1",children:D.jsx(lO,{})})})]}):D.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:W.cardLight},children:[D.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),D.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),D.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:D.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]}));function yO(){const[e,t]=at.useState(null),[n,i]=at.useState(null),[r,s]=at.useState(null),[a,l]=at.useState(!1),[u,h]=at.useState([]),[d,g]=at.useState([]),[m,_]=at.useState({}),[O,M]=at.useState([]),[k,b]=at.useState("all"),[v,w]=at.useState(new Set),[N,z]=at.useState(""),[j,T]=at.useState([]),[y,E]=at.useState([]),[A,R]=at.useState(""),[I,S]=at.useState(null),[pe,Ke]=at.useState({strengths:new Set,weaknesses:{}}),[q,K]=at.useState(!0),[Z,Et]=at.useState([]),[Dt,ln]=at.useState("builder"),[le,Nt]=at.useState(!1),[$t,Xe]=at.useState(!1),[Pr,Lr]=at.useState(""),[ai,al]=at.useState(40),Gt=at.useCallback((V,F="info")=>{const et=Date.now();Et(ut=>[...ut,{id:et,message:V,type:F}]),setTimeout(()=>Et(ut=>ut.filter(ct=>ct.id!==et)),3e3)},[]),Le=at.useMemo(()=>{const V=new Set(j.map(F=>F.id));return d.filter(F=>!V.has(F.id))},[d,j]),Ur=at.useMemo(()=>y.filter(V=>V.isFavorite).sort((V,F)=>new Date(F.createdAt)-new Date(V.createdAt)).slice(0,5),[y]),sa=at.useMemo(()=>{let V=[...y].sort((F,et)=>et.isFavorite-F.isFavorite||new Date(et.createdAt)-new Date(F.createdAt));return Pr&&(V=V.filter(F=>F.name.toLowerCase().includes(Pr.toLowerCase()))),V},[y,Pr]);at.useEffect(()=>{try{const V=_E(gO),F=zC(V);i(L4(V)),s(F),CI(F,async et=>{if(et)t(et.uid),l(!0);else try{typeof __initial_auth_token<"u"&&__initial_auth_token?await wI(F,__initial_auth_token):await TI(F),l(!0)}catch{Gt("Authentication failed.","error")}})}catch{Gt("Failed to connect to services.","error")}},[]),at.useEffect(()=>{(async()=>{K(!0);try{const[F,et]=await Promise.all([fetch("https://pokeapi.co/api/v2/generation"),fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")]),ut=await F.json();M(ut.results);const It=(await et.json()).results.map(nt=>{const St=nt.url.split("/");return{id:parseInt(St[St.length-2]),name:nt.name,url:nt.url}});h(It),g(It)}catch{Gt("Failed to load Pokémon data.","error")}finally{K(!1)}})()},[]),at.useEffect(()=>{if(u.length===0)return;(async()=>{K(!0);let F=[...u];const et={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(k!=="all"){const ut=et[k];ut&&(F=F.filter(ct=>ct.id>=ut[0]&&ct.id<=ut[1]))}if(v.size>0)try{const ut=Array.from(v).map(It=>fetch(`https://pokeapi.co/api/v2/type/${It.toLowerCase()}`).then(nt=>nt.json()).then(nt=>new Set(nt.pokemon.map(St=>St.pokemon.name)))),ct=await Promise.all(ut);if(ct.length>0){const It=ct.reduce((nt,St)=>nt===null?St:new Set([...nt].filter(un=>St.has(un))),new Set(u.map(nt=>nt.name)));F=F.filter(nt=>It.has(nt.name))}}catch{Gt("Failed to apply type filter.","error")}N&&(F=F.filter(ut=>ut.name.toLowerCase().includes(N.toLowerCase()))),g(F),al(40),K(!1)})()},[k,v,N,u]),at.useEffect(()=>{const V=async()=>{const et=Le.slice(0,ai).filter(ut=>!m[ut.id]);if(et.length!==0)try{const ut=et.map(nt=>fetch(nt.url).then(St=>St.json())),It=(await Promise.all(ut)).reduce((nt,St)=>{var un;return nt[St.id]={id:St.id,name:St.name,sprite:((un=St.sprites)==null?void 0:un.front_default)||"https://via.placeholder.com/96",types:St.types.map(ca=>ca.type.name)},nt},{});_(nt=>({...nt,...It}))}catch{}};Le.length>0&&V()},[Le,ai]);const oi=at.useRef(),aa=at.useCallback(V=>{q||(oi.current&&oi.current.disconnect(),oi.current=new IntersectionObserver(F=>{F[0].isIntersecting&&Le.length>ai&&al(et=>et+40)}),V&&oi.current.observe(V))},[q,Le,ai]);at.useEffect(()=>{if(!a||!n||!e)return;const V=$4(tv(n,`artifacts/${xa}/users/${e}/teams`)),F=nO(V,et=>{const ut=et.docs.map(ct=>({id:ct.id,...ct.data()}));E(ut)},()=>Gt("Could not load saved teams.","error"));return()=>F()},[a,n,e]),at.useEffect(()=>{const V=j.map(ct=>m[ct.id]).filter(Boolean);if(V.length===0||V.length<j.length){Ke({strengths:new Set,weaknesses:{}});return}const F=Object.keys(Oa),et={},ut=new Set;V.flatMap(ct=>ct.types).forEach(ct=>{Oa[ct]&&Oa[ct].damageDealt&&Object.entries(Oa[ct].damageDealt).forEach(([It,nt])=>{nt>1&&ut.add(It)})}),F.forEach(ct=>{const It=V.filter(nt=>nt.types.reduce((un,ca)=>{var fl;return un*(((fl=Oa[ca])==null?void 0:fl.damageTaken[ct])??1)},1)>1).length;It>0&&(et[ct]=It)}),Ke({strengths:ut,weaknesses:et})},[j,m]);const ol=V=>{if(j.length>=6)return Gt("Your team is full (6 Pokémon)!","warning");if(j.find(F=>F.id===V.id))return Gt("This Pokémon is already on your team.","warning");T([...j,V])},Xc=V=>T(j.filter(F=>F.id!==V)),oa=()=>{T([]),R(""),S(null)},ll=async()=>{var ut;if(!n||!e)return Gt("Database connection not ready.","error");if(j.length===0)return Gt("Your team is empty!","warning");if(!A.trim())return Gt("Please name your team.","warning");const V=j.map(ct=>({id:ct.id,name:ct.name,sprite:ct.sprite})),F=I||Xl(tv(n,`artifacts/${xa}/users/${e}/teams`)).id,et={name:A,pokemons:V,isFavorite:((ut=y.find(ct=>ct.id===I))==null?void 0:ut.isFavorite)||!1,createdAt:new Date().toISOString()};try{await ov(Xl(n,`artifacts/${xa}/users/${e}/teams`,F),et),Gt(`Team "${A}" saved!`,"success"),oa()}catch{Gt("Error saving team.","error")}},zr=async V=>{const F=await Promise.all(V.pokemons.map(async et=>{var ut;if(m[et.id])return m[et.id];try{const It=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${et.id}`)).json(),nt={id:It.id,name:It.name,sprite:((ut=It.sprites)==null?void 0:ut.front_default)||"https://via.placeholder.com/96",types:It.types.map(St=>St.type.name)};return _(St=>({...St,[et.id]:nt})),nt}catch{return null}}));T(F.filter(Boolean)),R(V.name),S(V.id),ln("builder"),Nt(!1),window.scrollTo({top:0,behavior:"smooth"})},ul=async V=>{if(!(!n||!e))try{await eO(Xl(n,`artifacts/${xa}/users/${e}/teams`,V)),I===V&&oa(),Gt("Team deleted.","info")}catch{Gt("Error deleting team.","error")}},cl=async V=>{if(!(!n||!e))try{await ov(Xl(n,`artifacts/${xa}/users/${e}/teams`,V.id),{...V,isFavorite:!V.isFavorite})}catch{Gt("Could not update favorite status.","error")}},la=V=>{w(F=>{const et=new Set(F);return et.has(V)?et.delete(V):et.add(V),et})},ua=()=>{switch(Dt){case"allTeams":return D.jsx(ne,{teams:sa,onEdit:zr,onDelete:ul,onToggleFavorite:cl,searchTerm:Pr,setSearchTerm:Lr});case"builder":default:return D.jsx(hl,{})}},hl=()=>D.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[D.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[D.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:W.card},children:[D.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:W.primary},children:"Current Team"}),D.jsx("input",{type:"text",value:A,onChange:V=>R(V.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:W.cardLight,borderColor:"transparent"}}),D.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[j.map(V=>D.jsxs("div",{className:"text-center relative group",children:[D.jsx("img",{src:V.sprite,alt:V.name,className:"mx-auto h-20 w-20"}),D.jsx("p",{className:"text-xs capitalize truncate",children:V.name}),D.jsx("button",{onClick:()=>Xc(V.id),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-sm",children:"X"})]},V.id)),Array.from({length:6-j.length}).map((V,F)=>D.jsx("div",{className:"border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:W.cardLight,backgroundColor:"transparent"},children:D.jsx("span",{className:"text-3xl font-bold",style:{color:W.textMuted},children:"?"})},F))]}),D.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[D.jsxs("button",{onClick:ll,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:W.primary,color:W.background},children:[" ",D.jsx(oO,{})," ",I?"Update":"Save"," Team "]}),D.jsx("button",{onClick:oa,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg",children:"Clear"})]})]}),j.length>0&&D.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:W.card},children:[D.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),D.jsx("div",{className:"flex flex-wrap gap-1",children:pe.strengths.size>0?Array.from(pe.strengths).sort().map(V=>D.jsx(uv,{type:V},V)):D.jsx("p",{className:"text-sm",style:{color:W.textMuted},children:"No type advantages found."})})]}),D.jsxs("div",{className:"mt-4",children:[D.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),D.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(pe.weaknesses).length>0?Object.entries(pe.weaknesses).sort(([,V],[,F])=>F-V).map(([V,F])=>D.jsxs("div",{className:"flex items-center",children:[D.jsx(uv,{type:V}),D.jsxs("span",{className:"text-xs text-red-300",children:["(",F,"x)"]})]},V)):D.jsx("p",{className:"text-sm",style:{color:W.textMuted},children:"Your team has no common weaknesses!"})})]})]}),D.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:W.card},children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h2",{className:"text-xl md:text-2xl font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Favorite Teams"}),D.jsx("button",{onClick:()=>ln("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),D.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:Ur.length>0?Ur.map(V=>D.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:W.cardLight},children:[D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("p",{className:"font-bold text-lg truncate",children:V.name}),D.jsx("div",{className:"flex mt-1",children:V.pokemons.map(F=>D.jsx("img",{src:F.sprite,alt:F.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:W.cardLight,backgroundColor:W.card}},F.id))})]}),D.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[D.jsx("button",{onClick:()=>cl(V),title:"Favorite",children:D.jsx(lv,{isFavorite:V.isFavorite})}),D.jsx("button",{onClick:()=>zr(V),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},V.id)):D.jsx("p",{className:"text-center py-4",style:{color:W.textMuted},children:"No favorite teams yet."})})]})]}),D.jsx("div",{className:"lg:col-span-6",children:D.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:W.card},children:[D.jsxs("div",{className:"mb-4",children:[D.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokémon!"}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[D.jsx("input",{type:"text",placeholder:"Search Pokémon...",value:N,onChange:V=>z(V.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:W.cardLight,borderColor:"transparent"}}),D.jsxs("select",{value:k,onChange:V=>b(V.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:W.cardLight,borderColor:"transparent"},children:[D.jsx("option",{value:"all",children:"All Generations"}),O.map(V=>D.jsx("option",{value:V.name,className:"capitalize",children:V.name.replace("-"," ")},V.name))]})]})]}),D.jsx("div",{className:"flex-grow h-[52vh] overflow-y-auto custom-scrollbar",children:q?D.jsx("div",{className:"flex items-center justify-center h-full",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:W.primary}})}):D.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:[Le.slice(0,ai).map((V,F)=>{const et=F===ai-1||F===Le.length-1;return D.jsx(pO,{pokemon:V,details:m[V.id],onAdd:ol,lastRef:et?aa:null},V.id)}),Le.length===0&&D.jsx("p",{className:"col-span-full text-center py-8",style:{color:W.textMuted},children:"No Pokémon found with these filters. :("})]})})]})}),D.jsx("div",{className:"lg:col-span-3",children:D.jsxs("section",{className:"p-6 rounded-xl shadow-lg top-8",style:{backgroundColor:W.card},children:[D.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),D.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(xA).map(V=>D.jsx("button",{onClick:()=>la(V),className:`p-2 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${v.has(V)?"ring-2 ring-white":""}`,title:V,children:D.jsx("img",{src:MA[V],alt:V,className:"w-full h-full object-contain"})},V))})]})})]}),ne=({teams:V,onEdit:F,onDelete:et,onToggleFavorite:ut,searchTerm:ct,setSearchTerm:It})=>D.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:W.card},children:[D.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),D.jsx("input",{type:"text",placeholder:"Search teams by name...",value:ct,onChange:nt=>It(nt.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:W.cardLight,borderColor:"transparent"}}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:V.length>0?V.map(nt=>D.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:W.cardLight},children:[D.jsxs("div",{className:"flex justify-between items-start",children:[D.jsx("p",{className:"font-bold text-xl truncate mb-2",children:nt.name}),D.jsx("button",{onClick:()=>ut(nt),title:"Favorite",children:D.jsx(lv,{isFavorite:nt.isFavorite})})]}),D.jsx("div",{className:"flex my-2",children:nt.pokemons.map(St=>D.jsx("img",{src:St.sprite,alt:St.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:W.cardLight,backgroundColor:W.card}},St.id))}),D.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[D.jsx("button",{onClick:()=>F(nt),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),D.jsx("button",{onClick:()=>et(nt.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:D.jsx(aO,{})})]})]},nt.id)):D.jsx("p",{className:"col-span-full text-center py-8",style:{color:W.textMuted},children:"No teams found."})})]});return D.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:W.background},children:[D.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:Z.map(V=>D.jsx("div",{className:`px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${V.type==="success"?"bg-green-600":V.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:V.message},V.id))}),D.jsxs("div",{className:"flex min-h-screen",children:[D.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${$t?"lg:w-20":"w-58"} ${le?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:W.card},children:D.jsxs("div",{className:"flex flex-col h-full",children:[D.jsxs("div",{className:`flex items-center p-5 ${$t?"justify-center":"justify-between"}`,children:[D.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${$t?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:W.primary},children:"Menu"}),D.jsx("button",{onClick:()=>Xe(!$t),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:W.textMuted},children:$t?D.jsx(mO,{}):D.jsx(dO,{})})]}),D.jsx("nav",{className:"px-5 flex-grow",children:D.jsxs("ul",{children:[D.jsx("li",{children:D.jsxs("button",{onClick:()=>{ln("builder"),Nt(!1)},className:`w-full text-left p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${Dt==="builder"?"bg-purple-500/30":""} ${$t?"justify-center":""}`,children:[D.jsx(hO,{})," ",D.jsx("span",{className:`ml-3 whitespace-nowrap overflow-hidden transition-all duration-300 ${$t?"lg:opacity-0 lg:max-w-0":"opacity-100 lg:max-w-xs"}`,children:"Team Builder"})]})}),D.jsx("li",{children:D.jsxs("button",{onClick:()=>{ln("allTeams"),Nt(!1)},className:`w-full text-left p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${Dt==="allTeams"?"bg-purple-500/30":""} ${$t?"justify-center":""}`,children:[D.jsx(fO,{})," ",D.jsx("span",{className:`ml-3 whitespace-nowrap overflow-hidden transition-all duration-300 ${$t?"lg:opacity-0 lg:max-w-0":"opacity-100 lg:max-w-xs"}`,children:"All Teams"})]})})]})})]})}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsxs("header",{className:"text-center py-4 px-4",children:[D.jsx("button",{onClick:()=>Nt(!le),className:"lg:hidden absolute top-5 left-5 p-2 rounded-md",style:{backgroundColor:W.cardLight},children:le?D.jsx(cO,{}):D.jsx(uO,{})}),D.jsx("h1",{className:"text-xl sm:text-3xl lg:text-5xl font-bold tracking-wider",style:{fontFamily:"'Press Start 2P', cursive",color:W.primary},children:"Pokémon Team Builder"}),D.jsx("p",{className:"text-sm sm:text-base md:text-lg mt-2",style:{fontFamily:"'Press Start 2P', cursive",color:W.primary},children:"By: Enzo Esmeraldo"})]}),D.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:ua()}),D.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:W.cardLight},children:[D.jsx("p",{className:"text-sm",style:{color:W.textMuted},children:"Developed by Enzo Esmeraldo"}),D.jsxs("p",{className:"text-xs mt-2",style:{color:W.textMuted},children:["Using the ",D.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokéAPI"}),". Pokémon and their names are trademarks of Nintendo."]}),D.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[D.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:W.textMuted},children:D.jsx(rO,{})}),D.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:W.textMuted},children:D.jsx(sO,{})})]})]})]})]}),D.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
          .custom-scrollbar::-webkit-scrollbar { width: 12px; }
          .custom-scrollbar::-webkit-scrollbar-track { background: ${W.card}; }
          .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${W.primary}; border-radius: 20px; border: 3px solid ${W.card}; }
          @keyframes fade-in-out { 0% { opacity: 0; transform: translateY(-10px); } 10% { opacity: 1; transform: translateY(0); } 90% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-10px); } }
          .animate-fade-in-out { animation: fade-in-out 3s forwards; }
        `})]})}J2.createRoot(document.getElementById("root")).render(D.jsx(Tv.StrictMode,{children:D.jsx(yO,{})}));
