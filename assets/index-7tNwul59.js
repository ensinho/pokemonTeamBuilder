(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mv={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb=Symbol.for("react.transitional.element"),fb=Symbol.for("react.fragment");function gv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:hb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Sc.Fragment=fb;Sc.jsx=gv;Sc.jsxs=gv;mv.exports=Sc;var b=mv.exports,pv={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=Symbol.for("react.transitional.element"),db=Symbol.for("react.portal"),mb=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),yb=Symbol.for("react.consumer"),_b=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Eb=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),dp=Symbol.iterator;function Ab(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var _v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vv=Object.assign,Tv={};function aa(e,t,n){this.props=e,this.context=t,this.refs=Tv,this.updater=n||_v}aa.prototype.isReactComponent={};aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ev(){}Ev.prototype=aa.prototype;function jd(e,t,n){this.props=e,this.context=t,this.refs=Tv,this.updater=n||_v}var zd=jd.prototype=new Ev;zd.constructor=jd;vv(zd,aa.prototype);zd.isPureReactComponent=!0;var mp=Array.isArray,Ft={H:null,A:null,T:null,S:null,V:null},Av=Object.prototype.hasOwnProperty;function Bd(e,t,n,i,r,s){return n=s.ref,{$$typeof:Ud,type:e,key:t,ref:n!==void 0?n:null,props:s}}function bb(e,t){return Bd(e.type,t,void 0,void 0,void 0,e.props)}function qd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ud}function Sb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gp=/\/+/g;function Eh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sb(""+e.key):t.toString(36)}function pp(){}function wb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pp,pp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function os(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ud:case db:a=!0;break;case yv:return a=e._init,os(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Eh(e,0):i,mp(r)?(n="",a!=null&&(n=a.replace(gp,"$&/")+"/"),os(r,t,n,"",function(h){return h})):r!=null&&(qd(r)&&(r=bb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(gp,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(mp(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Eh(i,u),a+=os(i,t,n,s,r);else if(u=Ab(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Eh(i,u++),a+=os(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return os(wb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ll(e,t,n){if(e==null)return e;var i=[],r=0;return os(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Rb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ib(){}at.Children={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!qd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=aa;at.Fragment=mb;at.Profiler=pb;at.PureComponent=jd;at.StrictMode=gb;at.Suspense=Tb;at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ft;at.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ft.H.useMemoCache(e)}};at.cache=function(e){return function(){return e.apply(null,arguments)}};at.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=vv({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Av.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Bd(e.type,r,void 0,void 0,s,i)};at.createContext=function(e){return e={$$typeof:_b,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:yb,_context:e},e};at.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Av.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Bd(e,s,void 0,void 0,null,r)};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:vb,render:e}};at.isValidElement=qd;at.lazy=function(e){return{$$typeof:yv,_payload:{_status:-1,_result:e},_init:Rb}};at.memo=function(e,t){return{$$typeof:Eb,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=Ft.T,n={};Ft.T=n;try{var i=e(),r=Ft.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Ib,yp)}catch(s){yp(s)}finally{Ft.T=t}};at.unstable_useCacheRefresh=function(){return Ft.H.useCacheRefresh()};at.use=function(e){return Ft.H.use(e)};at.useActionState=function(e,t,n){return Ft.H.useActionState(e,t,n)};at.useCallback=function(e,t){return Ft.H.useCallback(e,t)};at.useContext=function(e){return Ft.H.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e,t){return Ft.H.useDeferredValue(e,t)};at.useEffect=function(e,t,n){var i=Ft.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};at.useId=function(){return Ft.H.useId()};at.useImperativeHandle=function(e,t,n){return Ft.H.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return Ft.H.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return Ft.H.useLayoutEffect(e,t)};at.useMemo=function(e,t){return Ft.H.useMemo(e,t)};at.useOptimistic=function(e,t){return Ft.H.useOptimistic(e,t)};at.useReducer=function(e,t,n){return Ft.H.useReducer(e,t,n)};at.useRef=function(e){return Ft.H.useRef(e)};at.useState=function(e){return Ft.H.useState(e)};at.useSyncExternalStore=function(e,t,n){return Ft.H.useSyncExternalStore(e,t,n)};at.useTransition=function(){return Ft.H.useTransition()};at.version="19.1.0";pv.exports=at;var Y=pv.exports;const bv=dv(Y);var Sv={exports:{}},wc={},wv={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,W){var J=q.length;q.push(W);t:for(;0<J;){var Rt=J-1>>>1,Bt=q[Rt];if(0<r(Bt,W))q[Rt]=W,q[J]=Bt,J=Rt;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],J=q.pop();if(J!==W){q[0]=J;t:for(var Rt=0,Bt=q.length,_i=Bt>>>1;Rt<_i;){var be=2*(Rt+1)-1,qt=q[be],Le=be+1,Ue=q[Le];if(0>r(qt,J))Le<Bt&&0>r(Ue,qt)?(q[Rt]=Ue,q[Le]=J,Rt=Le):(q[Rt]=qt,q[be]=J,Rt=be);else if(Le<Bt&&0>r(Ue,J))q[Rt]=Ue,q[Le]=J,Rt=Le;else break t}}return W}function r(q,W){var J=q.sortIndex-W.sortIndex;return J!==0?J:q.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,x=!1,M=!1,V=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=q)i(h),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(h)}}function U(q){if(M=!1,N(q),!x)if(n(u)!==null)x=!0,z||(z=!0,C());else{var W=n(h);W!==null&&dt(U,W.startTime-q)}}var z=!1,T=-1,y=5,E=-1;function A(){return V?!0:!(e.unstable_now()-E<y)}function I(){if(V=!1,z){var q=e.unstable_now();E=q;var W=!0;try{t:{x=!1,M&&(M=!1,v(T),T=-1),_=!0;var J=m;try{e:{for(N(q),g=n(u);g!==null&&!(g.expirationTime>q&&A());){var Rt=g.callback;if(typeof Rt=="function"){g.callback=null,m=g.priorityLevel;var Bt=Rt(g.expirationTime<=q);if(q=e.unstable_now(),typeof Bt=="function"){g.callback=Bt,N(q),W=!0;break e}g===n(u)&&i(u),N(q)}else i(u);g=n(u)}if(g!==null)W=!0;else{var _i=n(h);_i!==null&&dt(U,_i.startTime-q),W=!1}}break t}finally{g=null,m=J,_=!1}W=void 0}}finally{W?C():z=!1}}}var C;if(typeof R=="function")C=function(){R(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Q=w.port2;w.port1.onmessage=I,C=function(){Q.postMessage(null)}}else C=function(){S(I,0)};function dt(q,W){T=S(function(){q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var J=m;m=W;try{return q()}finally{m=J}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=m;m=q;try{return W()}finally{m=J}},e.unstable_scheduleCallback=function(q,W,J){var Rt=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Rt+J:Rt):J=Rt,q){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=J+Bt,q={id:d++,callback:W,priorityLevel:q,startTime:J,expirationTime:Bt,sortIndex:-1},J>Rt?(q.sortIndex=J,t(h,q),n(u)===null&&q===n(h)&&(M?(v(T),T=-1):M=!0,dt(U,J-Rt))):(q.sortIndex=Bt,t(u,q),x||_||(x=!0,z||(z=!0,C()))),q},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(q){var W=m;return function(){var J=m;m=W;try{return q.apply(this,arguments)}finally{m=J}}}})(Rv);wv.exports=Rv;var Cb=wv.exports,Iv={exports:{}},Pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=Y;function Cv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bi(){}var Ve={d:{f:bi,r:function(){throw Error(Cv(522))},D:bi,C:bi,L:bi,m:bi,X:bi,S:bi,M:bi},p:0,findDOMNode:null},Nb=Symbol.for("react.portal");function xb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Wa=Db.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Rc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;Pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Cv(299));return xb(e,t,null,n)};Pe.flushSync=function(e){var t=Wa.T,n=Ve.p;try{if(Wa.T=null,Ve.p=2,e)return e()}finally{Wa.T=t,Ve.p=n,Ve.d.f()}};Pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ve.d.C(e,t))};Pe.prefetchDNS=function(e){typeof e=="string"&&Ve.d.D(e)};Pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Rc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Ve.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Rc(t.as,t.crossOrigin);Ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ve.d.M(e)};Pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Rc(n,t.crossOrigin);Ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Rc(t.as,t.crossOrigin);Ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ve.d.m(e)};Pe.requestFormReset=function(e){Ve.d.r(e)};Pe.unstable_batchedUpdates=function(e,t){return e(t)};Pe.useFormState=function(e,t,n){return Wa.H.useFormState(e,t,n)};Pe.useFormStatus=function(){return Wa.H.useHostTransitionStatus()};Pe.version="19.1.0";function Dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dv)}catch(e){console.error(e)}}Dv(),Iv.exports=Pe;var Ob=Iv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue=Cb,Nv=Y,Mb=Ob;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ov(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _p(e){if(qo(e)!==e)throw Error(P(188))}function Vb(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return _p(r),e;if(s===i)return _p(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Mv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Mv(e),t!==null)return t;e=e.sibling}return null}var zt=Object.assign,kb=Symbol.for("react.element"),Ul=Symbol.for("react.transitional.element"),Fa=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),kv=Symbol.for("react.consumer"),Xn=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Fd=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),vf=Symbol.for("react.activity"),Lb=Symbol.for("react.memo_cache_sentinel"),vp=Symbol.iterator;function Pa(e){return e===null||typeof e!="object"?null:(e=vp&&e[vp]||e["@@iterator"],typeof e=="function"?e:null)}var Ub=Symbol.for("react.client.reference");function Tf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ub?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case pf:return"Profiler";case Vv:return"StrictMode";case yf:return"Suspense";case _f:return"SuspenseList";case vf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Fa:return"Portal";case Xn:return(e.displayName||"Context")+".Provider";case kv:return(e._context.displayName||"Context")+".Consumer";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fd:return t=e.displayName||null,t!==null?t:Tf(e.type)||"Memo";case Ci:t=e._payload,e=e._init;try{return Tf(e(t))}catch{}}return null}var Ga=Array.isArray,Z=Nv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt=Mb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wr={pending:!1,data:null,method:null,action:null},Ef=[],ps=-1;function zn(e){return{current:e}}function me(e){0>ps||(e.current=Ef[ps],Ef[ps]=null,ps--)}function Gt(e,t){ps++,Ef[ps]=e.current,e.current=t}var xn=zn(null),To=zn(null),Hi=zn(null),Cu=zn(null);function Du(e,t){switch(Gt(Hi,t),Gt(To,e),Gt(xn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sy(t),e=WT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}me(xn),Gt(xn,e)}function zs(){me(xn),me(To),me(Hi)}function Af(e){e.memoizedState!==null&&Gt(Cu,e);var t=xn.current,n=WT(t,e.type);t!==n&&(Gt(To,e),Gt(xn,n))}function Nu(e){To.current===e&&(me(xn),me(To)),Cu.current===e&&(me(Cu),No._currentValue=wr)}var bf=Object.prototype.hasOwnProperty,Gd=ue.unstable_scheduleCallback,Ah=ue.unstable_cancelCallback,jb=ue.unstable_shouldYield,zb=ue.unstable_requestPaint,On=ue.unstable_now,Bb=ue.unstable_getCurrentPriorityLevel,Pv=ue.unstable_ImmediatePriority,Lv=ue.unstable_UserBlockingPriority,xu=ue.unstable_NormalPriority,qb=ue.unstable_LowPriority,Uv=ue.unstable_IdlePriority,Hb=ue.log,Fb=ue.unstable_setDisableYieldValue,Ho=null,Je=null;function Ui(e){if(typeof Hb=="function"&&Fb(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Ho,e)}catch{}}var tn=Math.clz32?Math.clz32:Yb,Gb=Math.log,Qb=Math.LN2;function Yb(e){return e>>>=0,e===0?32:31-(Gb(e)/Qb|0)|0}var jl=256,zl=4194304;function Tr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ic(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Tr(i):(a&=l,a!==0?r=Tr(a):n||(n=l&~e,n!==0&&(r=Tr(n))))):(l=i&~s,l!==0?r=Tr(l):a!==0?r=Tr(a):n||(n=i&~e,n!==0&&(r=Tr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Fo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jv(){var e=jl;return jl<<=1,!(jl&4194048)&&(jl=256),e}function zv(){var e=zl;return zl<<=1,!(zl&62914560)&&(zl=4194304),e}function bh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Go(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xb(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-tn(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Bv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Bv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-tn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function qv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-tn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Qd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Hv(){var e=bt.p;return e!==0?e:(e=window.event,e===void 0?32:lE(e.type))}function $b(e,t){var n=bt.p;try{return bt.p=e,t()}finally{bt.p=n}}var fr=Math.random().toString(36).slice(2),Ne="__reactFiber$"+fr,Ge="__reactProps$"+fr,oa="__reactContainer$"+fr,Sf="__reactEvents$"+fr,Zb="__reactListeners$"+fr,Wb="__reactHandles$"+fr,Tp="__reactResources$"+fr,Qo="__reactMarker$"+fr;function Kd(e){delete e[Ne],delete e[Ge],delete e[Sf],delete e[Zb],delete e[Wb]}function ys(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[Ne]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iy(e);e!==null;){if(n=e[Ne])return n;e=Iy(e)}return t}e=n,n=e.parentNode}return null}function la(e){if(e=e[Ne]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function Cs(e){var t=e[Tp];return t||(t=e[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function fe(e){e[Qo]=!0}var Fv=new Set,Gv={};function Br(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(Gv[e]=t,e=0;e<t.length;e++)Fv.add(t[e])}var Jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ep={},Ap={};function tS(e){return bf.call(Ap,e)?!0:bf.call(Ep,e)?!1:Jb.test(e)?Ap[e]=!0:(Ep[e]=!0,!1)}function su(e,t,n){if(tS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Sh,bp;function ls(e){if(Sh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sh=t&&t[1]||"",bp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sh+e+bp}var wh=!1;function Rh(e,t){if(!e||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ls(n):""}function eS(e){switch(e.tag){case 26:case 27:case 5:return ls(e.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return Rh(e.type,!1);case 11:return Rh(e.type.render,!1);case 1:return Rh(e.type,!0);case 31:return ls("Activity");default:return""}}function Sp(e){try{var t="";do t+=eS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nS(e){var t=Qv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ou(e){e._valueTracker||(e._valueTracker=nS(e))}function Yv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Qv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iS=/[\n"\\]/g;function cn(e){return e.replace(iS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wf(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+on(t)):e.value!==""+on(t)&&(e.value=""+on(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Rf(e,a,on(t)):n!=null?Rf(e,a,on(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+on(l):e.removeAttribute("name")}function Kv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+on(n):"",t=t!=null?""+on(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Rf(e,t,n){t==="number"&&Mu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ds(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Xv(e,t,n){if(t!=null&&(t=""+on(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+on(n):""}function $v(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ga(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=on(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||rS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&wp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&wp(e,s,t[s])}function Xd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(e){return aS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var If=null;function $d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Ns=null;function Rp(e){var t=la(e);if(t&&(e=t.stateNode)){var n=e[Ge]||null;t:switch(e=t.stateNode,t.type){case"input":if(wf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ge]||null;if(!r)throw Error(P(90));wf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Yv(i)}break t;case"textarea":Xv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ds(e,!!n.multiple,t,!1)}}}var Ih=!1;function Wv(e,t,n){if(Ih)return e(t,n);Ih=!0;try{var i=e(t);return i}finally{if(Ih=!1,(_s!==null||Ns!==null)&&(Lc(),_s&&(t=_s,e=Ns,Ns=_s=null,Rp(t),e)))for(t=0;t<e.length;t++)Rp(e[t])}}function Eo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ge]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=!1;if(ai)try{var La={};Object.defineProperty(La,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Cf=!1}var ji=null,Zd=null,ou=null;function Jv(){if(ou)return ou;var e,t=Zd,n=t.length,i,r="value"in ji?ji.value:ji.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return ou=r.slice(e,1<i?1-i:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function Ip(){return!1}function Ye(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ql:Ip,this.isPropagationStopped=Ip,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=Ye(qr),Yo=zt({},qr,{view:0,detail:0}),oS=Ye(Yo),Ch,Dh,Ua,Dc=zt({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(Ch=e.screenX-Ua.screenX,Dh=e.screenY-Ua.screenY):Dh=Ch=0,Ua=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:Dh}}),Cp=Ye(Dc),lS=zt({},Dc,{dataTransfer:0}),uS=Ye(lS),cS=zt({},Yo,{relatedTarget:0}),Nh=Ye(cS),hS=zt({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=Ye(hS),dS=zt({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=Ye(dS),gS=zt({},qr,{data:0}),Dp=Ye(gS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_S[e])?!!t[e]:!1}function Wd(){return vS}var TS=zt({},Yo,{key:function(e){if(e.key){var t=pS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wd,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=Ye(TS),AS=zt({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=Ye(AS),bS=zt({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wd}),SS=Ye(bS),wS=zt({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=Ye(wS),IS=zt({},Dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=Ye(IS),DS=zt({},qr,{newState:0,oldState:0}),NS=Ye(DS),xS=[9,13,27,32],Jd=ai&&"CompositionEvent"in window,Ja=null;ai&&"documentMode"in document&&(Ja=document.documentMode);var OS=ai&&"TextEvent"in window&&!Ja,t0=ai&&(!Jd||Ja&&8<Ja&&11>=Ja),xp=" ",Op=!1;function e0(e,t){switch(e){case"keyup":return xS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function MS(e,t){switch(e){case"compositionend":return n0(t);case"keypress":return t.which!==32?null:(Op=!0,xp);case"textInput":return e=t.data,e===xp&&Op?null:e;default:return null}}function VS(e,t){if(vs)return e==="compositionend"||!Jd&&e0(e,t)?(e=Jv(),ou=Zd=ji=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t0&&t.locale!=="ko"?null:t.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kS[e.type]:t==="textarea"}function i0(e,t,n,i){_s?Ns?Ns.push(i):Ns=[i]:_s=i,t=Zu(t,"onChange"),0<t.length&&(n=new Cc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var to=null,Ao=null;function PS(e){XT(e,0)}function Nc(e){var t=Qa(e);if(Yv(t))return e}function Vp(e,t){if(e==="change")return t}var r0=!1;if(ai){var xh;if(ai){var Oh="oninput"in document;if(!Oh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Oh=typeof kp.oninput=="function"}xh=Oh}else xh=!1;r0=xh&&(!document.documentMode||9<document.documentMode)}function Pp(){to&&(to.detachEvent("onpropertychange",s0),Ao=to=null)}function s0(e){if(e.propertyName==="value"&&Nc(Ao)){var t=[];i0(t,Ao,e,$d(e)),Wv(PS,t)}}function LS(e,t,n){e==="focusin"?(Pp(),to=t,Ao=n,to.attachEvent("onpropertychange",s0)):e==="focusout"&&Pp()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nc(Ao)}function jS(e,t){if(e==="click")return Nc(t)}function zS(e,t){if(e==="input"||e==="change")return Nc(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:BS;function bo(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!bf.call(t,r)||!rn(e[r],t[r]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,t){var n=Lp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Lp(n)}}function a0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mu(e.document)}return t}function tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qS=ai&&"documentMode"in document&&11>=document.documentMode,Ts=null,Df=null,eo=null,Nf=!1;function jp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||Ts==null||Ts!==Mu(i)||(i=Ts,"selectionStart"in i&&tm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),eo&&bo(eo,i)||(eo=i,i=Zu(Df,"onSelect"),0<i.length&&(t=new Cc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ts)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Es={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Mh={},l0={};ai&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Hr(e){if(Mh[e])return Mh[e];if(!Es[e])return e;var t=Es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l0)return Mh[e]=t[n];return e}var u0=Hr("animationend"),c0=Hr("animationiteration"),h0=Hr("animationstart"),HS=Hr("transitionrun"),FS=Hr("transitionstart"),GS=Hr("transitioncancel"),f0=Hr("transitionend"),d0=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function bn(e,t){d0.set(e,t),Br(t,[e])}var zp=new WeakMap;function hn(e,t){if(typeof e=="object"&&e!==null){var n=zp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Sp(t)},zp.set(e,t),t)}return{value:e,source:t,stack:Sp(t)}}var an=[],As=0,em=0;function xc(){for(var e=As,t=em=As=0;t<e;){var n=an[t];an[t++]=null;var i=an[t];an[t++]=null;var r=an[t];an[t++]=null;var s=an[t];if(an[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&m0(n,r,s)}}function Oc(e,t,n,i){an[As++]=e,an[As++]=t,an[As++]=n,an[As++]=i,em|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function nm(e,t,n,i){return Oc(e,t,n,i),Vu(e)}function ua(e,t){return Oc(e,null,null,t),Vu(e)}function m0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-tn(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Vu(e){if(50<ho)throw ho=0,Wf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bs={};function QS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,i){return new QS(e,t,n,i)}function im(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function g0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function uu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")im(e)&&(a=1);else if(typeof e=="string")a=Kw(e,n,xn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case vf:return e=We(31,n,t,r),e.elementType=vf,e.lanes=s,e;case gs:return Rr(n.children,r,s,t);case Vv:a=8,r|=24;break;case pf:return e=We(12,n,t,r|2),e.elementType=pf,e.lanes=s,e;case yf:return e=We(13,n,t,r),e.elementType=yf,e.lanes=s,e;case _f:return e=We(19,n,t,r),e.elementType=_f,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pb:case Xn:a=10;break t;case kv:a=9;break t;case Hd:a=11;break t;case Fd:a=14;break t;case Ci:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=We(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Rr(e,t,n,i){return e=We(7,e,i,t),e.lanes=n,e}function Vh(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function kh(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ss=[],ws=0,ku=null,Pu=0,ln=[],un=0,Ir=null,$n=1,Zn="";function Er(e,t){Ss[ws++]=Pu,Ss[ws++]=ku,ku=e,Pu=t}function p0(e,t,n){ln[un++]=$n,ln[un++]=Zn,ln[un++]=Ir,Ir=e;var i=$n;e=Zn;var r=32-tn(i)-1;i&=~(1<<r),n+=1;var s=32-tn(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,$n=1<<32-tn(t)+r|n<<r|i,Zn=s+e}else $n=1<<s|n<<r|i,Zn=e}function rm(e){e.return!==null&&(Er(e,1),p0(e,1,0))}function sm(e){for(;e===ku;)ku=Ss[--ws],Ss[ws]=null,Pu=Ss[--ws],Ss[ws]=null;for(;e===Ir;)Ir=ln[--un],ln[un]=null,Zn=ln[--un],ln[un]=null,$n=ln[--un],ln[un]=null}var Me=null,Xt=null,At=!1,Cr=null,Dn=!1,Of=Error(P(519));function Or(e){var t=Error(P(418,""));throw So(hn(t,e)),Of}function Bp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ne]=e,t[Ge]=i,n){case"dialog":ut("cancel",t),ut("close",t);break;case"iframe":case"object":case"embed":ut("load",t);break;case"video":case"audio":for(n=0;n<Io.length;n++)ut(Io[n],t);break;case"source":ut("error",t);break;case"img":case"image":case"link":ut("error",t),ut("load",t);break;case"details":ut("toggle",t);break;case"input":ut("invalid",t),Kv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ou(t);break;case"select":ut("invalid",t);break;case"textarea":ut("invalid",t),$v(t,i.value,i.defaultValue,i.children),Ou(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||ZT(t.textContent,n)?(i.popover!=null&&(ut("beforetoggle",t),ut("toggle",t)),i.onScroll!=null&&ut("scroll",t),i.onScrollEnd!=null&&ut("scrollend",t),i.onClick!=null&&(t.onclick=zc),t=!0):t=!1,t||Or(e)}function qp(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Me=Me.return}}function ja(e){if(e!==Me)return!1;if(!At)return qp(e),At=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||rd(e.type,e.memoizedProps)),n=!n),n&&Xt&&Or(e),qp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Xt=En(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Xt=null}}else t===27?(t=Xt,dr(e.type)?(e=od,od=null,Xt=e):Xt=t):Xt=Me?En(e.stateNode.nextSibling):null;return!0}function Ko(){Xt=Me=null,At=!1}function Hp(){var e=Cr;return e!==null&&(He===null?He=e:He.push.apply(He,e),Cr=null),e}function So(e){Cr===null?Cr=[e]:Cr.push(e)}var Mf=zn(null),Fr=null,Wn=null;function Ni(e,t,n){Gt(Mf,t._currentValue),t._currentValue=n}function ii(e){e._currentValue=Mf.current,me(Mf)}function Vf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function kf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Vf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Xo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;rn(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Cu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(No):e=[No])}r=r.return}e!==null&&kf(t,e,n,i),t.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Fr=e,Wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xe(e){return y0(Fr,e)}function Hl(e,t){return Fr===null&&Mr(e),y0(e,t)}function y0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wn===null){if(e===null)throw Error(P(308));Wn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wn=Wn.next=t;return n}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},KS=ue.unstable_scheduleCallback,XS=ue.unstable_NormalPriority,se={$$typeof:Xn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new YS,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&KS(XS,function(){e.controller.abort()})}var no=null,Pf=0,Hs=0,xs=null;function $S(e,t){if(no===null){var n=no=[];Pf=0,Hs=Dm(),xs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Pf++,t.then(Fp,Fp),t}function Fp(){if(--Pf===0&&no!==null){xs!==null&&(xs.status="fulfilled");var e=no;no=null,Hs=0,xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ZS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Gp=Z.S;Z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&$S(e,t),Gp!==null&&Gp(e,t)};var Dr=zn(null);function om(){var e=Dr.current;return e!==null?e:kt.pooledCache}function cu(e,t){t===null?Gt(Dr,Dr.current):Gt(Dr,t.pool)}function _0(){var e=om();return e===null?null:{parent:se._currentValue,pool:e}}var Zo=Error(P(460)),v0=Error(P(474)),Mc=Error(P(542)),Lf={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fl(){}function T0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Fl,Fl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kp(e),e;default:if(typeof t.status=="string")t.then(Fl,Fl);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kp(e),e}throw io=t,Zo}}var io=null;function Yp(){if(io===null)throw Error(P(459));var e=io;return io=null,e}function Kp(e){if(e===Zo||e===Mc)throw Error(P(483))}var Di=!1;function lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Dt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Vu(e),m0(e,null,n),t}return Oc(e,i,t,n),Vu(e)}function ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,qv(e,n)}}function Ph(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jf=!1;function so(){if(jf){var e=xs;if(e!==null)throw e}}function ao(e,t,n,i){jf=!1;var r=e.updateQueue;Di=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(yt&m)===m:(i&m)===m){m!==0&&m===Hs&&(jf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var x=e,M=l;m=t;var V=n;switch(M.tag){case 1:if(x=M.payload,typeof x=="function"){g=x.call(V,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=M.payload,m=typeof x=="function"?x.call(V,g,m):x,m==null)break t;g=zt({},g,m);break t;case 2:Di=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),sr|=a,e.lanes=a,e.memoizedState=g}}function E0(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function A0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)E0(n[e],t)}var Fs=zn(null),Uu=zn(0);function Xp(e,t){e=ui,Gt(Uu,e),Gt(Fs,t),ui=e|t.baseLanes}function zf(){Gt(Uu,ui),Gt(Fs,Fs.current)}function um(){ui=Uu.current,me(Fs),me(Uu)}var ir=0,lt=null,xt=null,ee=null,ju=!1,Os=!1,Vr=!1,zu=0,wo=0,Ms=null,WS=0;function Zt(){throw Error(P(321))}function cm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function hm(e,t,n,i,r,s){return ir=s,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?J0:tT,Vr=!1,s=n(i,r),Vr=!1,Os&&(s=S0(t,n,i,r)),b0(e),s}function b0(e){Z.H=Bu;var t=xt!==null&&xt.next!==null;if(ir=0,ee=xt=lt=null,ju=!1,wo=0,Ms=null,t)throw Error(P(300));e===null||de||(e=e.dependencies,e!==null&&Lu(e)&&(de=!0))}function S0(e,t,n,i){lt=e;var r=0;do{if(Os&&(Ms=null),wo=0,Os=!1,25<=r)throw Error(P(301));if(r+=1,ee=xt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Z.H=sw,s=t(n,i)}while(Os);return s}function JS(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?Wo(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(lt.flags|=1024),t}function fm(){var e=zu!==0;return zu=0,e}function dm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mm(e){if(ju){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ju=!1}ir=0,ee=xt=lt=null,Os=!1,wo=zu=0,Ms=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?lt.memoizedState=ee=e:ee=ee.next=e,ee}function ie(){if(xt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=ee===null?lt.memoizedState:ee.next;if(t!==null)ee=t,xt=e;else{if(e===null)throw lt.alternate===null?Error(P(467)):Error(P(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},ee===null?lt.memoizedState=ee=e:ee=ee.next=e}return ee}function gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var t=wo;return wo+=1,Ms===null&&(Ms=[]),e=T0(Ms,e,t),t=lt,(ee===null?t.memoizedState:ee.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?J0:tT),e}function Vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===Xn)return xe(e)}throw Error(P(438,String(e)))}function pm(e){var t=null,n=lt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=lt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gm(),lt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Lb;return t.index++,n}function oi(e,t){return typeof t=="function"?t(e):t}function hu(e){var t=ie();return ym(t,xt,e)}function ym(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(yt&g)===g:(ir&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Hs&&(d=!0);else if((ir&m)===m){h=h.next,m===Hs&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,lt.lanes|=m,sr|=m;g=h.action,Vr&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,lt.lanes|=g,sr|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!rn(s,e.memoizedState)&&(de=!0,d&&(n=xs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Lh(e){var t=ie(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);rn(s,t.memoizedState)||(de=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function w0(e,t,n){var i=lt,r=ie(),s=At;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!rn((xt||r).memoizedState,n);a&&(r.memoizedState=n,de=!0),r=r.queue;var l=C0.bind(null,i,r,e);if(Jo(2048,8,l,[e]),r.getSnapshot!==t||a||ee!==null&&ee.memoizedState.tag&1){if(i.flags|=2048,Gs(9,kc(),I0.bind(null,i,r,n,t),null),kt===null)throw Error(P(349));s||ir&124||R0(i,t,n)}return n}function R0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t=gm(),lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function I0(e,t,n,i){t.value=n,t.getSnapshot=i,D0(t)&&N0(e)}function C0(e,t,n){return n(function(){D0(t)&&N0(e)})}function D0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function N0(e){var t=ua(e,2);t!==null&&nn(t,e,2)}function Bf(e){var t=Be();if(typeof e=="function"){var n=e;if(e=n(),Vr){Ui(!0);try{n()}finally{Ui(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},t}function x0(e,t,n,i){return e.baseState=n,ym(e,xt,typeof i=="function"?i:oi)}function tw(e,t,n,i,r){if(Pc(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Z.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,O0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function O0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Z.T,a={};Z.T=a;try{var l=n(r,i),u=Z.S;u!==null&&u(a,l),$p(e,t,l)}catch(h){qf(e,t,h)}finally{Z.T=s}}else try{s=n(r,i),$p(e,t,s)}catch(h){qf(e,t,h)}}function $p(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Zp(e,t,i)},function(i){return qf(e,t,i)}):Zp(e,t,n)}function Zp(e,t,n){t.status="fulfilled",t.value=n,M0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,O0(e,n)))}function qf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,M0(t),t=t.next;while(t!==i)}e.action=null}function M0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function V0(e,t){return t}function Wp(e,t){if(At){var n=kt.formState;if(n!==null){t:{var i=lt;if(At){if(Xt){e:{for(var r=Xt,s=Dn;r.nodeType!==8;){if(!s){r=null;break e}if(r=En(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Xt=En(r.nextSibling),i=r.data==="F!";break t}}Or(i)}i=!1}i&&(t=n[0])}}return n=Be(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:t},n.queue=i,n=$0.bind(null,lt,i),i.dispatch=n,i=Bf(!1),s=Em.bind(null,lt,!1,i.queue),i=Be(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=tw.bind(null,lt,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Jp(e){var t=ie();return k0(t,xt,e)}function k0(e,t,n){if(t=ym(e,t,V0)[0],e=hu(oi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Wo(t)}catch(a){throw a===Zo?Mc:a}else i=t;t=ie();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(lt.flags|=2048,Gs(9,kc(),ew.bind(null,r,n),null)),[i,s,e]}function ew(e,t){e.action=t}function ty(e){var t=ie(),n=xt;if(n!==null)return k0(t,n,e);ie(),t=t.memoizedState,n=ie();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Gs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=lt.updateQueue,t===null&&(t=gm(),lt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function kc(){return{destroy:void 0,resource:void 0}}function P0(){return ie().memoizedState}function fu(e,t,n,i){var r=Be();i=i===void 0?null:i,lt.flags|=e,r.memoizedState=Gs(1|t,kc(),n,i)}function Jo(e,t,n,i){var r=ie();i=i===void 0?null:i;var s=r.memoizedState.inst;xt!==null&&i!==null&&cm(i,xt.memoizedState.deps)?r.memoizedState=Gs(t,s,n,i):(lt.flags|=e,r.memoizedState=Gs(1|t,s,n,i))}function ey(e,t){fu(8390656,8,e,t)}function L0(e,t){Jo(2048,8,e,t)}function U0(e,t){return Jo(4,2,e,t)}function j0(e,t){return Jo(4,4,e,t)}function z0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B0(e,t,n){n=n!=null?n.concat([e]):null,Jo(4,4,z0.bind(null,t,e),n)}function _m(){}function q0(e,t){var n=ie();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&cm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=ie();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&cm(t,i[1]))return i[0];if(i=e(),Vr){Ui(!0);try{e()}finally{Ui(!1)}}return n.memoizedState=[i,t],i}function vm(e,t,n){return n===void 0||ir&1073741824?e.memoizedState=t:(e.memoizedState=n,e=MT(),lt.lanes|=e,sr|=e,n)}function F0(e,t,n,i){return rn(n,t)?n:Fs.current!==null?(e=vm(e,n,i),rn(e,t)||(de=!0),e):ir&42?(e=MT(),lt.lanes|=e,sr|=e,t):(de=!0,e.memoizedState=n)}function G0(e,t,n,i,r){var s=bt.p;bt.p=s!==0&&8>s?s:8;var a=Z.T,l={};Z.T=l,Em(e,!1,t,n);try{var u=r(),h=Z.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=ZS(u,i);oo(e,t,d,en(e))}else oo(e,t,i,en(e))}catch(g){oo(e,t,{then:function(){},status:"rejected",reason:g},en())}finally{bt.p=s,Z.T=a}}function nw(){}function Hf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=Q0(e).queue;G0(e,r,t,wr,n===null?nw:function(){return Y0(e),n(i)})}function Q0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:wr,baseState:wr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:wr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Y0(e){var t=Q0(e).next.queue;oo(e,t,{},en())}function Tm(){return xe(No)}function K0(){return ie().memoizedState}function X0(){return ie().memoizedState}function iw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=en();e=Fi(n);var i=Gi(t,e,n);i!==null&&(nn(i,t,n),ro(i,t,n)),t={cache:am()},e.payload=t;return}t=t.return}}function rw(e,t,n){var i=en();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Pc(e)?Z0(t,n):(n=nm(e,t,n,i),n!==null&&(nn(n,e,i),W0(n,t,i)))}function $0(e,t,n){var i=en();oo(e,t,n,i)}function oo(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pc(e))Z0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,rn(l,a))return Oc(e,t,r,0),kt===null&&xc(),!1}catch{}finally{}if(n=nm(e,t,r,i),n!==null)return nn(n,e,i),W0(n,t,i),!0}return!1}function Em(e,t,n,i){if(i={lane:2,revertLane:Dm(),action:i,hasEagerState:!1,eagerState:null,next:null},Pc(e)){if(t)throw Error(P(479))}else t=nm(e,n,i,2),t!==null&&nn(t,e,2)}function Pc(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function Z0(e,t){Os=ju=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,qv(e,n)}}var Bu={readContext:xe,use:Vc,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},J0={readContext:xe,use:Vc,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:xe,useEffect:ey,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,fu(4194308,4,z0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){fu(4,2,e,t)},useMemo:function(e,t){var n=Be();t=t===void 0?null:t;var i=e();if(Vr){Ui(!0);try{e()}finally{Ui(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Be();if(n!==void 0){var r=n(t);if(Vr){Ui(!0);try{n(t)}finally{Ui(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=rw.bind(null,lt,e),[i.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:function(e){e=Bf(e);var t=e.queue,n=$0.bind(null,lt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_m,useDeferredValue:function(e,t){var n=Be();return vm(n,e,t)},useTransition:function(){var e=Bf(!1);return e=G0.bind(null,lt,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=lt,r=Be();if(At){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),kt===null)throw Error(P(349));yt&124||R0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,ey(C0.bind(null,i,s,e),[e]),i.flags|=2048,Gs(9,kc(),I0.bind(null,i,s,n,t),null),n},useId:function(){var e=Be(),t=kt.identifierPrefix;if(At){var n=Zn,i=$n;n=(i&~(1<<32-tn(i)-1)).toString(32)+n,t=""+t+"R"+n,n=zu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=WS++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Tm,useFormState:Wp,useActionState:Wp,useOptimistic:function(e){var t=Be();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Em.bind(null,lt,!0,n),n.dispatch=t,[e,t]},useMemoCache:pm,useCacheRefresh:function(){return Be().memoizedState=iw.bind(null,lt)}},tT={readContext:xe,use:Vc,useCallback:q0,useContext:xe,useEffect:L0,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:j0,useMemo:H0,useReducer:hu,useRef:P0,useState:function(){return hu(oi)},useDebugValue:_m,useDeferredValue:function(e,t){var n=ie();return F0(n,xt.memoizedState,e,t)},useTransition:function(){var e=hu(oi)[0],t=ie().memoizedState;return[typeof e=="boolean"?e:Wo(e),t]},useSyncExternalStore:w0,useId:K0,useHostTransitionStatus:Tm,useFormState:Jp,useActionState:Jp,useOptimistic:function(e,t){var n=ie();return x0(n,xt,e,t)},useMemoCache:pm,useCacheRefresh:X0},sw={readContext:xe,use:Vc,useCallback:q0,useContext:xe,useEffect:L0,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:j0,useMemo:H0,useReducer:Lh,useRef:P0,useState:function(){return Lh(oi)},useDebugValue:_m,useDeferredValue:function(e,t){var n=ie();return xt===null?vm(n,e,t):F0(n,xt.memoizedState,e,t)},useTransition:function(){var e=Lh(oi)[0],t=ie().memoizedState;return[typeof e=="boolean"?e:Wo(e),t]},useSyncExternalStore:w0,useId:K0,useHostTransitionStatus:Tm,useFormState:ty,useActionState:ty,useOptimistic:function(e,t){var n=ie();return xt!==null?x0(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pm,useCacheRefresh:X0},Vs=null,Ro=0;function Gl(e){var t=Ro;return Ro+=1,Vs===null&&(Vs=[]),T0(Vs,e,t)}function za(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ql(e,t){throw t.$$typeof===kb?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ny(e){var t=e._init;return t(e._payload)}function eT(e){function t(S,v){if(e){var R=S.deletions;R===null?(S.deletions=[v],S.flags|=16):R.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(S,v){return S=ni(S,v),S.index=0,S.sibling=null,S}function s(S,v,R){return S.index=R,e?(R=S.alternate,R!==null?(R=R.index,R<v?(S.flags|=67108866,v):R):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function l(S,v,R,N){return v===null||v.tag!==6?(v=Vh(R,S.mode,N),v.return=S,v):(v=r(v,R),v.return=S,v)}function u(S,v,R,N){var U=R.type;return U===gs?d(S,v,R.props.children,N,R.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ci&&ny(U)===v.type)?(v=r(v,R.props),za(v,R),v.return=S,v):(v=uu(R.type,R.key,R.props,null,S.mode,N),za(v,R),v.return=S,v)}function h(S,v,R,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==R.containerInfo||v.stateNode.implementation!==R.implementation?(v=kh(R,S.mode,N),v.return=S,v):(v=r(v,R.children||[]),v.return=S,v)}function d(S,v,R,N,U){return v===null||v.tag!==7?(v=Rr(R,S.mode,N,U),v.return=S,v):(v=r(v,R),v.return=S,v)}function g(S,v,R){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Vh(""+v,S.mode,R),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ul:return R=uu(v.type,v.key,v.props,null,S.mode,R),za(R,v),R.return=S,R;case Fa:return v=kh(v,S.mode,R),v.return=S,v;case Ci:var N=v._init;return v=N(v._payload),g(S,v,R)}if(Ga(v)||Pa(v))return v=Rr(v,S.mode,R,null),v.return=S,v;if(typeof v.then=="function")return g(S,Gl(v),R);if(v.$$typeof===Xn)return g(S,Hl(S,v),R);Ql(S,v)}return null}function m(S,v,R,N){var U=v!==null?v.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return U!==null?null:l(S,v,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ul:return R.key===U?u(S,v,R,N):null;case Fa:return R.key===U?h(S,v,R,N):null;case Ci:return U=R._init,R=U(R._payload),m(S,v,R,N)}if(Ga(R)||Pa(R))return U!==null?null:d(S,v,R,N,null);if(typeof R.then=="function")return m(S,v,Gl(R),N);if(R.$$typeof===Xn)return m(S,v,Hl(S,R),N);Ql(S,R)}return null}function _(S,v,R,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return S=S.get(R)||null,l(v,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ul:return S=S.get(N.key===null?R:N.key)||null,u(v,S,N,U);case Fa:return S=S.get(N.key===null?R:N.key)||null,h(v,S,N,U);case Ci:var z=N._init;return N=z(N._payload),_(S,v,R,N,U)}if(Ga(N)||Pa(N))return S=S.get(R)||null,d(v,S,N,U,null);if(typeof N.then=="function")return _(S,v,R,Gl(N),U);if(N.$$typeof===Xn)return _(S,v,R,Hl(v,N),U);Ql(v,N)}return null}function x(S,v,R,N){for(var U=null,z=null,T=v,y=v=0,E=null;T!==null&&y<R.length;y++){T.index>y?(E=T,T=null):E=T.sibling;var A=m(S,T,R[y],N);if(A===null){T===null&&(T=E);break}e&&T&&A.alternate===null&&t(S,T),v=s(A,v,y),z===null?U=A:z.sibling=A,z=A,T=E}if(y===R.length)return n(S,T),At&&Er(S,y),U;if(T===null){for(;y<R.length;y++)T=g(S,R[y],N),T!==null&&(v=s(T,v,y),z===null?U=T:z.sibling=T,z=T);return At&&Er(S,y),U}for(T=i(T);y<R.length;y++)E=_(T,S,y,R[y],N),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=s(E,v,y),z===null?U=E:z.sibling=E,z=E);return e&&T.forEach(function(I){return t(S,I)}),At&&Er(S,y),U}function M(S,v,R,N){if(R==null)throw Error(P(151));for(var U=null,z=null,T=v,y=v=0,E=null,A=R.next();T!==null&&!A.done;y++,A=R.next()){T.index>y?(E=T,T=null):E=T.sibling;var I=m(S,T,A.value,N);if(I===null){T===null&&(T=E);break}e&&T&&I.alternate===null&&t(S,T),v=s(I,v,y),z===null?U=I:z.sibling=I,z=I,T=E}if(A.done)return n(S,T),At&&Er(S,y),U;if(T===null){for(;!A.done;y++,A=R.next())A=g(S,A.value,N),A!==null&&(v=s(A,v,y),z===null?U=A:z.sibling=A,z=A);return At&&Er(S,y),U}for(T=i(T);!A.done;y++,A=R.next())A=_(T,S,y,A.value,N),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?y:A.key),v=s(A,v,y),z===null?U=A:z.sibling=A,z=A);return e&&T.forEach(function(C){return t(S,C)}),At&&Er(S,y),U}function V(S,v,R,N){if(typeof R=="object"&&R!==null&&R.type===gs&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Ul:t:{for(var U=R.key;v!==null;){if(v.key===U){if(U=R.type,U===gs){if(v.tag===7){n(S,v.sibling),N=r(v,R.props.children),N.return=S,S=N;break t}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ci&&ny(U)===v.type){n(S,v.sibling),N=r(v,R.props),za(N,R),N.return=S,S=N;break t}n(S,v);break}else t(S,v);v=v.sibling}R.type===gs?(N=Rr(R.props.children,S.mode,N,R.key),N.return=S,S=N):(N=uu(R.type,R.key,R.props,null,S.mode,N),za(N,R),N.return=S,S=N)}return a(S);case Fa:t:{for(U=R.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===R.containerInfo&&v.stateNode.implementation===R.implementation){n(S,v.sibling),N=r(v,R.children||[]),N.return=S,S=N;break t}else{n(S,v);break}else t(S,v);v=v.sibling}N=kh(R,S.mode,N),N.return=S,S=N}return a(S);case Ci:return U=R._init,R=U(R._payload),V(S,v,R,N)}if(Ga(R))return x(S,v,R,N);if(Pa(R)){if(U=Pa(R),typeof U!="function")throw Error(P(150));return R=U.call(R),M(S,v,R,N)}if(typeof R.then=="function")return V(S,v,Gl(R),N);if(R.$$typeof===Xn)return V(S,v,Hl(S,R),N);Ql(S,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,v!==null&&v.tag===6?(n(S,v.sibling),N=r(v,R),N.return=S,S=N):(n(S,v),N=Vh(R,S.mode,N),N.return=S,S=N),a(S)):n(S,v)}return function(S,v,R,N){try{Ro=0;var U=V(S,v,R,N);return Vs=null,U}catch(T){if(T===Zo||T===Mc)throw T;var z=We(29,T,null,S.mode);return z.lanes=N,z.return=S,z}finally{}}}var Qs=eT(!0),nT=eT(!1),gn=zn(null),Mn=null;function xi(e){var t=e.alternate;Gt(ae,ae.current&1),Gt(gn,e),Mn===null&&(t===null||Fs.current!==null||t.memoizedState!==null)&&(Mn=e)}function iT(e){if(e.tag===22){if(Gt(ae,ae.current),Gt(gn,e),Mn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mn=e)}}else Oi()}function Oi(){Gt(ae,ae.current),Gt(gn,gn.current)}function Jn(e){me(gn),Mn===e&&(Mn=null),me(ae)}var ae=zn(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ad(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ff={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=en(),r=Fi(i);r.payload=t,n!=null&&(r.callback=n),t=Gi(e,r,i),t!==null&&(nn(t,e,i),ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=en(),r=Fi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Gi(e,r,i),t!==null&&(nn(t,e,i),ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),i=Fi(n);i.tag=2,t!=null&&(i.callback=t),t=Gi(e,i,n),t!==null&&(nn(t,e,n),ro(t,e,n))}};function iy(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!bo(n,i)||!bo(r,s):!0}function ry(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ff.enqueueReplaceState(t,t.state,null)}function kr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=zt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rT(e){Hu(e)}function sT(e){console.error(e)}function aT(e){Hu(e)}function Fu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function sy(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Gf(e,t,n){return n=Fi(n),n.tag=3,n.payload={element:null},n.callback=function(){Fu(e,t)},n}function oT(e){return e=Fi(e),e.tag=3,e}function lT(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){sy(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){sy(t,n,i),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function aw(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Xo(t,n,r,!0),n=gn.current,n!==null){switch(n.tag){case 13:return Mn===null?Jf():n.alternate===null&&$t===0&&($t=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Lf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xh(e,i,r)),!1;case 22:return n.flags|=65536,i===Lf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xh(e,i,r)),!1}throw Error(P(435,n.tag))}return Xh(e,i,r),Jf(),!1}if(At)return t=gn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Of&&(e=Error(P(422),{cause:i}),So(hn(e,n)))):(i!==Of&&(t=Error(P(423),{cause:i}),So(hn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=hn(i,n),r=Gf(e.stateNode,i,r),Ph(e,r),$t!==4&&($t=2)),!1;var s=Error(P(520),{cause:i});if(s=hn(s,n),co===null?co=[s]:co.push(s),$t!==4&&($t=2),t===null)return!0;i=hn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Gf(n.stateNode,i,e),Ph(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Qi===null||!Qi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=oT(r),lT(r,e,n,i),Ph(n,r),!1}n=n.return}while(n!==null);return!1}var uT=Error(P(461)),de=!1;function ye(e,t,n,i){t.child=e===null?nT(t,null,n,i):Qs(t,e.child,n,i)}function ay(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Mr(t),i=hm(e,t,n,a,s,r),l=fm(),e!==null&&!de?(dm(e,t,r),li(e,t,r)):(At&&l&&rm(t),t.flags|=1,ye(e,t,i,r),t.child)}function oy(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!im(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,cT(e,t,s,i,r)):(e=uu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Am(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(a,i)&&e.ref===t.ref)return li(e,t,r)}return t.flags|=1,e=ni(s,i),e.ref=t.ref,e.return=t,t.child=e}function cT(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(bo(s,i)&&e.ref===t.ref)if(de=!1,t.pendingProps=i=s,Am(e,r))e.flags&131072&&(de=!0);else return t.lanes=e.lanes,li(e,t,r)}return Qf(e,t,n,i,r)}function hT(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return ly(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cu(t,s!==null?s.cachePool:null),s!==null?Xp(t,s):zf(),iT(t);else return t.lanes=t.childLanes=536870912,ly(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(cu(t,s.cachePool),Xp(t,s),Oi(),t.memoizedState=null):(e!==null&&cu(t,null),zf(),Oi());return ye(e,t,r,n),t.child}function ly(e,t,n,i){var r=om();return r=r===null?null:{parent:se._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&cu(t,null),zf(),iT(t),e!==null&&Xo(e,t,i,!0),null}function du(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Qf(e,t,n,i,r){return Mr(t),n=hm(e,t,n,i,void 0,r),i=fm(),e!==null&&!de?(dm(e,t,r),li(e,t,r)):(At&&i&&rm(t),t.flags|=1,ye(e,t,n,r),t.child)}function uy(e,t,n,i,r,s){return Mr(t),t.updateQueue=null,n=S0(t,i,n,r),b0(e),i=fm(),e!==null&&!de?(dm(e,t,s),li(e,t,s)):(At&&i&&rm(t),t.flags|=1,ye(e,t,n,s),t.child)}function cy(e,t,n,i,r){if(Mr(t),t.stateNode===null){var s=bs,a=n.contextType;typeof a=="object"&&a!==null&&(s=xe(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ff,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},lm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?xe(a):bs,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Uh(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Ff.enqueueReplaceState(s,s.state,null),ao(t,i,s,r),so(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=kr(n,l);s.props=u;var h=s.context,d=n.contextType;a=bs,typeof d=="object"&&d!==null&&(a=xe(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&ry(t,s,i,a),Di=!1;var m=t.memoizedState;s.state=m,ao(t,i,s,r),so(),h=t.memoizedState,l||m!==h||Di?(typeof g=="function"&&(Uh(t,n,g,i),h=t.memoizedState),(u=Di||iy(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Uf(e,t),a=t.memoizedProps,d=kr(n,a),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=bs,typeof h=="object"&&h!==null&&(u=xe(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ry(t,s,i,u),Di=!1,m=t.memoizedState,s.state=m,ao(t,i,s,r),so();var _=t.memoizedState;a!==g||m!==_||Di||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof l=="function"&&(Uh(t,n,l,i),_=t.memoizedState),(d=Di||iy(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,du(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Qs(t,e.child,null,r),t.child=Qs(t,null,n,r)):ye(e,t,n,r),t.memoizedState=s.state,e=t.child):e=li(e,t,r),e}function hy(e,t,n,i){return Ko(),t.flags|=256,ye(e,t,n,i),t.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(e){return{baseLanes:e,cachePool:_0()}}function Bh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function fT(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ae.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(At){if(r?xi(t):Oi(),At){var l=Xt,u;if(u=l){t:{for(u=l,l=Dn;u.nodeType!==8;){if(!l){l=null;break t}if(u=En(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Ir!==null?{id:$n,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},u=We(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Me=t,Xt=null,u=!0):u=!1}u||Or(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return ad(l)?t.lanes=32:t.lanes=536870912,null;Jn(t)}return l=i.children,i=i.fallback,r?(Oi(),r=t.mode,l=Gu({mode:"hidden",children:l},r),i=Rr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=zh(n),r.childLanes=Bh(e,a,n),t.memoizedState=jh,i):(xi(t),Yf(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(xi(t),t.flags&=-257,t=qh(e,t,n)):t.memoizedState!==null?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),r=i.fallback,l=t.mode,i=Gu({mode:"visible",children:i.children},l),r=Rr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Qs(t,e.child,null,n),i=t.child,i.memoizedState=zh(n),i.childLanes=Bh(e,a,n),t.memoizedState=jh,t=r);else if(xi(t),ad(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,So({value:i,source:null,stack:null}),t=qh(e,t,n)}else if(de||Xo(e,t,n,!1),a=(n&e.childLanes)!==0,de||a){if(a=kt,a!==null&&(i=n&-n,i=i&42?1:Qd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,ua(e,i),nn(a,e,i),uT;l.data==="$?"||Jf(),t=qh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Xt=En(l.nextSibling),Me=t,At=!0,Cr=null,Dn=!1,e!==null&&(ln[un++]=$n,ln[un++]=Zn,ln[un++]=Ir,$n=e.id,Zn=e.overflow,Ir=t),t=Yf(t,i.children),t.flags|=4096);return t}return r?(Oi(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=ni(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=ni(h,r):(r=Rr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=zh(n):(u=l.cachePool,u!==null?(h=se._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=_0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Bh(e,a,n),t.memoizedState=jh,i):(xi(t),n=e.child,e=n.sibling,n=ni(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Yf(e,t){return t=Gu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gu(e,t){return e=We(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qh(e,t,n){return Qs(t,e.child,null,n),e=Yf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vf(e.return,t,n)}function Hh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function dT(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ye(e,t,i.children,n),i=ae.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,n,t);else if(e.tag===19)fy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Gt(ae,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&qu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hh(t,!0,n,null,s);break;case"together":Hh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Xo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Am(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function ow(e,t,n){switch(t.tag){case 3:Du(t,t.stateNode.containerInfo),Ni(t,se,e.memoizedState.cache),Ko();break;case 27:case 5:Af(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:Ni(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(xi(t),t.flags|=128,null):n&t.child.childLanes?fT(e,t,n):(xi(t),e=li(e,t,n),e!==null?e.sibling:null);xi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Xo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return dT(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Gt(ae,ae.current),i)break;return null;case 22:case 23:return t.lanes=0,hT(e,t,n);case 24:Ni(t,se,e.memoizedState.cache)}return li(e,t,n)}function mT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)de=!0;else{if(!Am(e,n)&&!(t.flags&128))return de=!1,ow(e,t,n);de=!!(e.flags&131072)}else de=!1,At&&t.flags&1048576&&p0(t,Pu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")im(i)?(e=kr(i,e),t.tag=1,t=cy(null,t,i,e,n)):(t.tag=0,t=Qf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Hd){t.tag=11,t=ay(null,t,i,e,n);break t}else if(r===Fd){t.tag=14,t=oy(null,t,i,e,n);break t}}throw t=Tf(i)||i,Error(P(306,t,""))}}return t;case 0:return Qf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=kr(i,t.pendingProps),cy(e,t,i,r,n);case 3:t:{if(Du(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Uf(e,t),ao(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ni(t,se,i),i!==s.cache&&kf(t,[se],n,!0),so(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=hy(e,t,i,n);break t}else if(i!==r){r=hn(Error(P(424)),t),So(r),t=hy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=En(e.firstChild),Me=t,At=!0,Cr=null,Dn=!0,n=nT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ko(),i===r){t=li(e,t,n);break t}ye(e,t,i,n)}t=t.child}return t;case 26:return du(e,t),e===null?(n=Dy(t.type,null,t.pendingProps,null))?t.memoizedState=n:At||(n=t.type,e=t.pendingProps,i=Wu(Hi.current).createElement(n),i[Ne]=t,i[Ge]=e,Ee(i,n,e),fe(i),t.stateNode=i):t.memoizedState=Dy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Af(t),e===null&&At&&(i=t.stateNode=tE(t.type,t.pendingProps,Hi.current),Me=t,Dn=!0,r=Xt,dr(t.type)?(od=r,Xt=En(i.firstChild)):Xt=r),ye(e,t,t.pendingProps.children,n),du(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&At&&((r=i=Xt)&&(i=kw(i,t.type,t.pendingProps,Dn),i!==null?(t.stateNode=i,Me=t,Xt=En(i.firstChild),Dn=!1,r=!0):r=!1),r||Or(t)),Af(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,rd(r,s)?i=null:a!==null&&rd(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=hm(e,t,JS,null,null,n),No._currentValue=r),du(e,t),ye(e,t,i,n),t.child;case 6:return e===null&&At&&((e=n=Xt)&&(n=Pw(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Me=t,Xt=null,e=!0):e=!1),e||Or(t)),null;case 13:return fT(e,t,n);case 4:return Du(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Qs(t,null,i,n):ye(e,t,i,n),t.child;case 11:return ay(e,t,t.type,t.pendingProps,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ni(t,t.type,i.value),ye(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Mr(t),r=xe(r),i=i(r),t.flags|=1,ye(e,t,i,n),t.child;case 14:return oy(e,t,t.type,t.pendingProps,n);case 15:return cT(e,t,t.type,t.pendingProps,n);case 19:return dT(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Gu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ni(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return hT(e,t,n);case 24:return Mr(t),i=xe(se),e===null?(r=om(),r===null&&(r=kt,s=am(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},lm(t),Ni(t,se,r)):(e.lanes&n&&(Uf(e,t),ao(t,null,null,n),so()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ni(t,se,i)):(i=s.cache,Ni(t,se,i),i!==r.cache&&kf(t,[se],n,!0))),ye(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function Gn(e){e.flags|=4}function dy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!iE(t)){if(t=gn.current,t!==null&&((yt&4194048)===yt?Mn!==null:(yt&62914560)!==yt&&!(yt&536870912)||t!==Mn))throw io=Lf,v0;e.flags|=8192}}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zv():536870912,e.lanes|=t,Ys|=t)}function Ba(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function lw(e,t,n){var i=t.pendingProps;switch(sm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return Qt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ii(se),zs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ja(t)?Gn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hp())),Qt(t),null;case 26:return n=t.memoizedState,e===null?(Gn(t),n!==null?(Qt(t),dy(t,n)):(Qt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Gn(t),Qt(t),dy(t,n)):(Qt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Gn(t),Qt(t),t.flags&=-16777217),null;case 27:Nu(t),n=Hi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Gn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Qt(t),null}e=xn.current,ja(t)?Bp(t):(e=tE(r,i,n),t.stateNode=e,Gn(t))}return Qt(t),null;case 5:if(Nu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Gn(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Qt(t),null}if(e=xn.current,ja(t))Bp(t);else{switch(r=Wu(Hi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Ne]=t,e[Ge]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(Ee(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gn(t)}}return Qt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Gn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=Hi.current,ja(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Me,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ne]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||ZT(e.nodeValue,n)),e||Or(t)}else e=Wu(e).createTextNode(i),e[Ne]=t,t.stateNode=e}return Qt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ja(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[Ne]=t}else Ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),r=!1}else r=Hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Jn(t),t):(Jn(t),null)}if(Jn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),Qt(t),null;case 4:return zs(),e===null&&Nm(t.stateNode.containerInfo),Qt(t),null;case 10:return ii(t.type),Qt(t),null;case 19:if(me(ae),r=t.memoizedState,r===null)return Qt(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)Ba(r,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qu(e),s!==null){for(t.flags|=128,Ba(r,!1),e=s.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)g0(n,e),n=n.sibling;return Gt(ae,ae.current&1|2),t.child}e=e.sibling}r.tail!==null&&On()>Yu&&(t.flags|=128,i=!0,Ba(r,!1),t.lanes=4194304)}else{if(!i)if(e=qu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Ba(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!At)return Qt(t),null}else 2*On()-r.renderingStartTime>Yu&&n!==536870912&&(t.flags|=128,i=!0,Ba(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=On(),t.sibling=null,e=ae.current,Gt(ae,i?e&1|2:e&1),t):(Qt(t),null);case 22:case 23:return Jn(t),um(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&me(Dr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ii(se),Qt(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function uw(e,t){switch(sm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(se),zs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nu(t),null;case 13:if(Jn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ae),null;case 4:return zs(),null;case 10:return ii(t.type),null;case 22:case 23:return Jn(t),um(),e!==null&&me(Dr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ii(se),null;case 25:return null;default:return null}}function gT(e,t){switch(sm(t),t.tag){case 3:ii(se),zs();break;case 26:case 27:case 5:Nu(t);break;case 4:zs();break;case 13:Jn(t);break;case 19:me(ae);break;case 10:ii(t.type);break;case 22:case 23:Jn(t),um(),e!==null&&me(Dr);break;case 24:ii(se)}}function tl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){Vt(t,t.return,l)}}function rr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){Vt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){Vt(t,t.return,d)}}function pT(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{A0(t,n)}catch(i){Vt(e,e.return,i)}}}function yT(e,t,n){n.props=kr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Vt(e,t,i)}}function lo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Vt(e,t,r)}}function Nn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Vt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Vt(e,t,r)}else n.current=null}function _T(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Vt(e,e.return,r)}}function Fh(e,t,n){try{var i=e.stateNode;Nw(i,e.type,n,t),i[Ge]=t}catch(r){Vt(e,e.return,r)}}function vT(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function Gh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zc));else if(i!==4&&(i===27&&dr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kf(e,t,n),e=e.sibling;e!==null;)Kf(e,t,n),e=e.sibling}function Qu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&dr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}function TT(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ee(t,i,n),t[Ne]=e,t[Ge]=n}catch(s){Vt(e,e.return,s)}}var Yn=!1,Wt=!1,Qh=!1,my=typeof WeakSet=="function"?WeakSet:Set,he=null;function cw(e,t){if(e=e.containerInfo,nd=nc,e=o0(e),tm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},nc=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){switch(t=he,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=kr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Vt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)sd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}}function ET(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n),i&4&&tl(5,n);break;case 1:if(Si(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Vt(n,n.return,a)}else{var r=kr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Vt(n,n.return,a)}}i&64&&pT(n),i&512&&lo(n,n.return);break;case 3:if(Si(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{A0(e,t)}catch(a){Vt(n,n.return,a)}}break;case 27:t===null&&i&4&&TT(n);case 26:case 5:Si(e,n),t===null&&i&4&&_T(n),i&512&&lo(n,n.return);break;case 12:Si(e,n);break;case 13:Si(e,n),i&4&&ST(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=vw.bind(null,n),Lw(e,n))));break;case 22:if(i=n.memoizedState!==null||Yn,!i){t=t!==null&&t.memoizedState!==null||Wt,r=Yn;var s=Wt;Yn=i,(Wt=t)&&!s?Ii(e,n,(n.subtreeFlags&8772)!==0):Si(e,n),Yn=r,Wt=s}break;case 30:break;default:Si(e,n)}}function AT(e){var t=e.alternate;t!==null&&(e.alternate=null,AT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,qe=!1;function Qn(e,t,n){for(n=n.child;n!==null;)bT(e,t,n),n=n.sibling}function bT(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ho,n)}catch{}switch(n.tag){case 26:Wt||Nn(n,t),Qn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Wt||Nn(n,t);var i=Ht,r=qe;dr(n.type)&&(Ht=n.stateNode,qe=!1),Qn(e,t,n),fo(n.stateNode),Ht=i,qe=r;break;case 5:Wt||Nn(n,t);case 6:if(i=Ht,r=qe,Ht=null,Qn(e,t,n),Ht=i,qe=r,Ht!==null)if(qe)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(n.stateNode)}catch(s){Vt(n,t,s)}else try{Ht.removeChild(n.stateNode)}catch(s){Vt(n,t,s)}break;case 18:Ht!==null&&(qe?(e=Ht,Ry(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mo(e)):Ry(Ht,n.stateNode));break;case 4:i=Ht,r=qe,Ht=n.stateNode.containerInfo,qe=!0,Qn(e,t,n),Ht=i,qe=r;break;case 0:case 11:case 14:case 15:Wt||rr(2,n,t),Wt||rr(4,n,t),Qn(e,t,n);break;case 1:Wt||(Nn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&yT(n,t,i)),Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:Wt=(i=Wt)||n.memoizedState!==null,Qn(e,t,n),Wt=i;break;default:Qn(e,t,n)}}function ST(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mo(e)}catch(n){Vt(t,t.return,n)}}function hw(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new my),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new my),t;default:throw Error(P(435,e.tag))}}function Yh(e,t){var n=hw(e);t.forEach(function(i){var r=Tw.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Xe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(dr(l.type)){Ht=l.stateNode,qe=!1;break t}break;case 5:Ht=l.stateNode,qe=!1;break t;case 3:case 4:Ht=l.stateNode.containerInfo,qe=!0;break t}l=l.return}if(Ht===null)throw Error(P(160));bT(s,a,r),Ht=null,qe=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)wT(t,e),t=t.sibling}var _n=null;function wT(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xe(t,e),$e(e),i&4&&(rr(3,e,e.return),tl(3,e),rr(5,e,e.return));break;case 1:Xe(t,e),$e(e),i&512&&(Wt||n===null||Nn(n,n.return)),i&64&&Yn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=_n;if(Xe(t,e),$e(e),i&512&&(Wt||n===null||Nn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Qo]||s[Ne]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Ee(s,i,n),s[Ne]=e,fe(s),i=s;break t;case"link":var a=xy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),Ee(s,i,n),r.head.appendChild(s);break;case"meta":if(a=xy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),Ee(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[Ne]=e,fe(s),i=s}e.stateNode=i}else Oy(r,e.type,e.stateNode);else e.stateNode=Ny(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Oy(r,e.type,e.stateNode):Ny(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Fh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xe(t,e),$e(e),i&512&&(Wt||n===null||Nn(n,n.return)),n!==null&&i&4&&Fh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xe(t,e),$e(e),i&512&&(Wt||n===null||Nn(n,n.return)),e.flags&32){r=e.stateNode;try{qs(r,"")}catch(_){Vt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Fh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Qh=!0);break;case 6:if(Xe(t,e),$e(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){Vt(e,e.return,_)}}break;case 3:if(pu=null,r=_n,_n=Ju(t.containerInfo),Xe(t,e),_n=r,$e(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Mo(t.containerInfo)}catch(_){Vt(e,e.return,_)}Qh&&(Qh=!1,RT(e));break;case 4:i=_n,_n=Ju(e.stateNode.containerInfo),Xe(t,e),$e(e),_n=i;break;case 12:Xe(t,e),$e(e);break;case 13:Xe(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Im=On()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Yh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Yn,d=Wt;if(Yn=h||r,Wt=d||u,Xe(t,e),Wt=d,Yn=h,$e(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Yn||Wt||Ar(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Vt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){Vt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Yh(e,n))));break;case 19:Xe(t,e),$e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Yh(e,i)));break;case 30:break;case 21:break;default:Xe(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(vT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Gh(e);Qu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(qs(a,""),n.flags&=-33);var l=Gh(e);Qu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Gh(e);Kf(e,h,u);break;default:throw Error(P(161))}}catch(d){Vt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;RT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ET(e,t.alternate,t),t=t.sibling}function Ar(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rr(4,t,t.return),Ar(t);break;case 1:Nn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&yT(t,t.return,n),Ar(t);break;case 27:fo(t.stateNode);case 26:case 5:Nn(t,t.return),Ar(t);break;case 22:t.memoizedState===null&&Ar(t);break;case 30:Ar(t);break;default:Ar(t)}e=e.sibling}}function Ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(r,s,n),tl(4,s);break;case 1:if(Ii(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Vt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)E0(u[r],l)}catch(h){Vt(i,i.return,h)}}n&&a&64&&pT(s),lo(s,s.return);break;case 27:TT(s);case 26:case 5:Ii(r,s,n),n&&i===null&&a&4&&_T(s),lo(s,s.return);break;case 12:Ii(r,s,n);break;case 13:Ii(r,s,n),n&&a&4&&ST(r,s);break;case 22:s.memoizedState===null&&Ii(r,s,n),lo(s,s.return);break;case 30:break;default:Ii(r,s,n)}t=t.sibling}}function bm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$o(n))}function Sm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$o(e))}function In(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)IT(e,t,n,i),t=t.sibling}function IT(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,i),r&2048&&tl(9,t);break;case 1:In(e,t,n,i);break;case 3:In(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$o(e)));break;case 12:if(r&2048){In(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Vt(t,t.return,u)}}else In(e,t,n,i);break;case 13:In(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?In(e,t,n,i):uo(e,t):s._visibility&2?In(e,t,n,i):(s._visibility|=2,us(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&bm(a,t);break;case 24:In(e,t,n,i),r&2048&&Sm(t.alternate,t);break;default:In(e,t,n,i)}}function us(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:us(s,a,l,u,r),tl(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?us(s,a,l,u,r):uo(s,a):(d._visibility|=2,us(s,a,l,u,r)),r&&h&2048&&bm(a.alternate,a);break;case 24:us(s,a,l,u,r),r&&h&2048&&Sm(a.alternate,a);break;default:us(s,a,l,u,r)}t=t.sibling}}function uo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:uo(n,i),r&2048&&bm(i.alternate,i);break;case 24:uo(n,i),r&2048&&Sm(i.alternate,i);break;default:uo(n,i)}t=t.sibling}}var Ya=8192;function ss(e){if(e.subtreeFlags&Ya)for(e=e.child;e!==null;)CT(e),e=e.sibling}function CT(e){switch(e.tag){case 26:ss(e),e.flags&Ya&&e.memoizedState!==null&&$w(_n,e.memoizedState,e.memoizedProps);break;case 5:ss(e);break;case 3:case 4:var t=_n;_n=Ju(e.stateNode.containerInfo),ss(e),_n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ya,Ya=16777216,ss(e),Ya=t):ss(e));break;default:ss(e)}}function DT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];he=i,xT(i,e)}DT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)NT(e),e=e.sibling}function NT(e){switch(e.tag){case 0:case 11:case 15:qa(e),e.flags&2048&&rr(9,e,e.return);break;case 3:qa(e);break;case 12:qa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,mu(e)):qa(e);break;default:qa(e)}}function mu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];he=i,xT(i,e)}DT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rr(8,t,t.return),mu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,mu(t));break;default:mu(t)}e=e.sibling}}function xT(e,t){for(;he!==null;){var n=he;switch(n.tag){case 0:case 11:case 15:rr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$o(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,he=i;else t:for(n=e;he!==null;){i=he;var r=i.sibling,s=i.return;if(AT(i),i===n){he=null;break t}if(r!==null){r.return=s,he=r;break t}he=s}}}var fw={getCacheForType:function(e){var t=xe(se),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},dw=typeof WeakMap=="function"?WeakMap:Map,Dt=0,kt=null,ct=null,yt=0,Ct=0,Ze=null,zi=!1,ca=!1,wm=!1,ui=0,$t=0,sr=0,Nr=0,Rm=0,mn=0,Ys=0,co=null,He=null,Xf=!1,Im=0,Yu=1/0,Ku=null,Qi=null,ve=0,Yi=null,Ks=null,ks=0,$f=0,Zf=null,OT=null,ho=0,Wf=null;function en(){if(Dt&2&&yt!==0)return yt&-yt;if(Z.T!==null){var e=Hs;return e!==0?e:Dm()}return Hv()}function MT(){mn===0&&(mn=!(yt&536870912)||At?jv():536870912);var e=gn.current;return e!==null&&(e.flags|=32),mn}function nn(e,t,n){(e===kt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Xs(e,0),Bi(e,yt,mn,!1)),Go(e,n),(!(Dt&2)||e!==kt)&&(e===kt&&(!(Dt&2)&&(Nr|=n),$t===4&&Bi(e,yt,mn,!1)),Bn(e))}function VT(e,t,n){if(Dt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Fo(e,t),r=i?pw(e,t):Kh(e,t,!0),s=i;do{if(r===0){ca&&!i&&Bi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!mw(n)){r=Kh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=co;var u=l.current.memoizedState.isDehydrated;if(u&&(Xs(l,a).flags|=256),a=Kh(l,a,!1),a!==2){if(wm&&!u){l.errorRecoveryDisabledLanes|=s,Nr|=s,r=4;break t}s=He,He=r,s!==null&&(He===null?He=s:He.push.apply(He,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Xs(e,0),Bi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:Bi(i,t,mn,!zi);break t;case 2:He=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Im+300-On(),10<r)){if(Bi(i,t,mn,!zi),Ic(i,0,!0)!==0)break t;i.timeoutHandle=JT(gy.bind(null,i,n,He,Ku,Xf,t,mn,Nr,Ys,zi,s,2,-0,0),r);break t}gy(i,n,He,Ku,Xf,t,mn,Nr,Ys,zi,s,0,-0,0)}}break}while(!0);Bn(e)}function gy(e,t,n,i,r,s,a,l,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:Xw},CT(t),g=Zw(),g!==null)){e.cancelPendingCommit=g(yy.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),Bi(e,s,a,!h);return}yy(e,t,s,n,i,r,a,l,u)}function mw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!rn(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t,n,i){t&=~Rm,t&=~Nr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-tn(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Bv(e,n,t)}function Lc(){return Dt&6?!0:(el(0),!1)}function Cm(){if(ct!==null){if(Ct===0)var e=ct.return;else e=ct,Wn=Fr=null,mm(e),Vs=null,Ro=0,e=ct;for(;e!==null;)gT(e.alternate,e),e=e.return;ct=null}}function Xs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ow(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cm(),kt=e,ct=n=ni(e.current,null),yt=t,Ct=0,Ze=null,zi=!1,ca=Fo(e,t),wm=!1,Ys=mn=Rm=Nr=sr=$t=0,He=co=null,Xf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-tn(i),s=1<<r;t|=e[r],i&=~s}return ui=t,xc(),n}function kT(e,t){lt=null,Z.H=Bu,t===Zo||t===Mc?(t=Yp(),Ct=3):t===v0?(t=Yp(),Ct=4):Ct=t===uT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ze=t,ct===null&&($t=1,Fu(e,hn(t,e.current)))}function PT(){var e=Z.H;return Z.H=Bu,e===null?Bu:e}function LT(){var e=Z.A;return Z.A=fw,e}function Jf(){$t=4,zi||(yt&4194048)!==yt&&gn.current!==null||(ca=!0),!(sr&134217727)&&!(Nr&134217727)||kt===null||Bi(kt,yt,mn,!1)}function Kh(e,t,n){var i=Dt;Dt|=2;var r=PT(),s=LT();(kt!==e||yt!==t)&&(Ku=null,Xs(e,t)),t=!1;var a=$t;t:do try{if(Ct!==0&&ct!==null){var l=ct,u=Ze;switch(Ct){case 8:Cm(),a=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var h=Ct;if(Ct=0,Ze=null,Rs(e,l,u,h),n&&ca){a=0;break t}break;default:h=Ct,Ct=0,Ze=null,Rs(e,l,u,h)}}gw(),a=$t;break}catch(d){kT(e,d)}while(!0);return t&&e.shellSuspendCounter++,Wn=Fr=null,Dt=i,Z.H=r,Z.A=s,ct===null&&(kt=null,yt=0,xc()),a}function gw(){for(;ct!==null;)UT(ct)}function pw(e,t){var n=Dt;Dt|=2;var i=PT(),r=LT();kt!==e||yt!==t?(Ku=null,Yu=On()+500,Xs(e,t)):ca=Fo(e,t);t:do try{if(Ct!==0&&ct!==null){t=ct;var s=Ze;e:switch(Ct){case 1:Ct=0,Ze=null,Rs(e,t,s,1);break;case 2:case 9:if(Qp(s)){Ct=0,Ze=null,py(t);break}t=function(){Ct!==2&&Ct!==9||kt!==e||(Ct=7),Bn(e)},s.then(t,t);break t;case 3:Ct=7;break t;case 4:Ct=5;break t;case 7:Qp(s)?(Ct=0,Ze=null,py(t)):(Ct=0,Ze=null,Rs(e,t,s,7));break;case 5:var a=null;switch(ct.tag){case 26:a=ct.memoizedState;case 5:case 27:var l=ct;if(!a||iE(a)){Ct=0,Ze=null;var u=l.sibling;if(u!==null)ct=u;else{var h=l.return;h!==null?(ct=h,Uc(h)):ct=null}break e}}Ct=0,Ze=null,Rs(e,t,s,5);break;case 6:Ct=0,Ze=null,Rs(e,t,s,6);break;case 8:Cm(),$t=6;break t;default:throw Error(P(462))}}yw();break}catch(d){kT(e,d)}while(!0);return Wn=Fr=null,Z.H=i,Z.A=r,Dt=n,ct!==null?0:(kt=null,yt=0,xc(),$t)}function yw(){for(;ct!==null&&!jb();)UT(ct)}function UT(e){var t=mT(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?Uc(e):ct=t}function py(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=uy(n,t,t.pendingProps,t.type,void 0,yt);break;case 11:t=uy(n,t,t.pendingProps,t.type.render,t.ref,yt);break;case 5:mm(t);default:gT(n,t),t=ct=g0(t,ui),t=mT(n,t,ui)}e.memoizedProps=e.pendingProps,t===null?Uc(e):ct=t}function Rs(e,t,n,i){Wn=Fr=null,mm(t),Vs=null,Ro=0;var r=t.return;try{if(aw(e,r,t,n,yt)){$t=1,Fu(e,hn(n,e.current)),ct=null;return}}catch(s){if(r!==null)throw ct=r,s;$t=1,Fu(e,hn(n,e.current)),ct=null;return}t.flags&32768?(At||i===1?e=!0:ca||yt&536870912?e=!1:(zi=e=!0,(i===2||i===9||i===3||i===6)&&(i=gn.current,i!==null&&i.tag===13&&(i.flags|=16384))),jT(t,e)):Uc(t)}function Uc(e){var t=e;do{if(t.flags&32768){jT(t,zi);return}e=t.return;var n=lw(t.alternate,t,ui);if(n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);$t===0&&($t=5)}function jT(e,t){do{var n=uw(e.alternate,e);if(n!==null){n.flags&=32767,ct=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ct=e;return}ct=e=n}while(e!==null);$t=6,ct=null}function yy(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do jc();while(ve!==0);if(Dt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=em,Xb(e,n,s,a,l,u),e===kt&&(ct=kt=null,yt=0),Ks=t,Yi=e,ks=n,$f=s,Zf=r,OT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Ew(xu,function(){return FT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Z.T,Z.T=null,r=bt.p,bt.p=2,a=Dt,Dt|=4;try{cw(e,t,n)}finally{Dt=a,bt.p=r,Z.T=i}}ve=1,zT(),BT(),qT()}}function zT(){if(ve===1){ve=0;var e=Yi,t=Ks,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=bt.p;bt.p=2;var r=Dt;Dt|=4;try{wT(t,e);var s=id,a=o0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&a0(l.ownerDocument.documentElement,l)){if(u!==null&&tm(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),x=l.textContent.length,M=Math.min(u.start,x),V=u.end===void 0?M:Math.min(u.end,x);!_.extend&&M>V&&(a=V,V=M,M=a);var S=Up(l,M),v=Up(l,V);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var R=g.createRange();R.setStart(S.node,S.offset),_.removeAllRanges(),M>V?(_.addRange(R),_.extend(v.node,v.offset)):(R.setEnd(v.node,v.offset),_.addRange(R))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var N=g[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}nc=!!nd,id=nd=null}finally{Dt=r,bt.p=i,Z.T=n}}e.current=t,ve=2}}function BT(){if(ve===2){ve=0;var e=Yi,t=Ks,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=bt.p;bt.p=2;var r=Dt;Dt|=4;try{ET(e,t.alternate,t)}finally{Dt=r,bt.p=i,Z.T=n}}ve=3}}function qT(){if(ve===4||ve===3){ve=0,zb();var e=Yi,t=Ks,n=ks,i=OT;t.subtreeFlags&10256||t.flags&10256?ve=5:(ve=0,Ks=Yi=null,HT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Qi=null),Yd(n),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ho,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Z.T,r=bt.p,bt.p=2,Z.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Z.T=t,bt.p=r}}ks&3&&jc(),Bn(e),r=e.pendingLanes,n&4194090&&r&42?e===Wf?ho++:(ho=0,Wf=e):ho=0,el(0)}}function HT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$o(t)))}function jc(e){return zT(),BT(),qT(),FT()}function FT(){if(ve!==5)return!1;var e=Yi,t=$f;$f=0;var n=Yd(ks),i=Z.T,r=bt.p;try{bt.p=32>n?32:n,Z.T=null,n=Zf,Zf=null;var s=Yi,a=ks;if(ve=0,Ks=Yi=null,ks=0,Dt&6)throw Error(P(331));var l=Dt;if(Dt|=4,NT(s.current),IT(s,s.current,a,n),Dt=l,el(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ho,s)}catch{}return!0}finally{bt.p=r,Z.T=i,HT(e,t)}}function _y(e,t,n){t=hn(n,t),t=Gf(e.stateNode,t,2),e=Gi(e,t,2),e!==null&&(Go(e,2),Bn(e))}function Vt(e,t,n){if(e.tag===3)_y(e,e,n);else for(;t!==null;){if(t.tag===3){_y(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qi===null||!Qi.has(i))){e=hn(n,e),n=oT(2),i=Gi(t,n,2),i!==null&&(lT(n,i,t,e),Go(i,2),Bn(i));break}}t=t.return}}function Xh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new dw;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(wm=!0,r.add(n),e=_w.bind(null,e,t,n),t.then(e,e))}function _w(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,kt===e&&(yt&n)===n&&($t===4||$t===3&&(yt&62914560)===yt&&300>On()-Im?!(Dt&2)&&Xs(e,0):Rm|=n,Ys===yt&&(Ys=0)),Bn(e)}function GT(e,t){t===0&&(t=zv()),e=ua(e,t),e!==null&&(Go(e,t),Bn(e))}function vw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GT(e,n)}function Tw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),GT(e,n)}function Ew(e,t){return Gd(e,t)}var Xu=null,cs=null,td=!1,$u=!1,$h=!1,xr=0;function Bn(e){e!==cs&&e.next===null&&(cs===null?Xu=cs=e:cs=cs.next=e),$u=!0,td||(td=!0,bw())}function el(e,t){if(!$h&&$u){$h=!0;do for(var n=!1,i=Xu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-tn(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,vy(i,s))}else s=yt,s=Ic(i,i===kt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Fo(i,s)||(n=!0,vy(i,s));i=i.next}while(n);$h=!1}}function Aw(){QT()}function QT(){$u=td=!1;var e=0;xr!==0&&(xw()&&(e=xr),xr=0);for(var t=On(),n=null,i=Xu;i!==null;){var r=i.next,s=YT(i,t);s===0?(i.next=null,n===null?Xu=r:n.next=r,r===null&&(cs=n)):(n=i,(e!==0||s&3)&&($u=!0)),i=r}el(e)}function YT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-tn(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=Kb(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=kt,n=yt,n=Ic(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ah(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Fo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ah(i),Yd(n)){case 2:case 8:n=Lv;break;case 32:n=xu;break;case 268435456:n=Uv;break;default:n=xu}return i=KT.bind(null,e),n=Gd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ah(i),e.callbackPriority=2,e.callbackNode=null,2}function KT(e,t){if(ve!==0&&ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var i=yt;return i=Ic(e,e===kt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(VT(e,i,t),YT(e,On()),e.callbackNode!=null&&e.callbackNode===n?KT.bind(null,e):null)}function vy(e,t){if(jc())return null;VT(e,t,!0)}function bw(){Mw(function(){Dt&6?Gd(Pv,Aw):QT()})}function Dm(){return xr===0&&(xr=jv()),xr}function Ty(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:au(""+e)}function Ey(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Sw(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Ty((r[Ge]||null).action),a=i.submitter;a&&(t=(t=a[Ge]||null)?Ty(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Cc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(xr!==0){var u=a?Ey(r,a):new FormData(r);Hf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Ey(r,a):new FormData(r),Hf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Zh=0;Zh<xf.length;Zh++){var Wh=xf[Zh],ww=Wh.toLowerCase(),Rw=Wh[0].toUpperCase()+Wh.slice(1);bn(ww,"on"+Rw)}bn(u0,"onAnimationEnd");bn(c0,"onAnimationIteration");bn(h0,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(HS,"onTransitionRun");bn(FS,"onTransitionStart");bn(GS,"onTransitionCancel");bn(f0,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function XT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Hu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){Hu(d)}r.currentTarget=null,s=u}}}}function ut(e,t){var n=t[Sf];n===void 0&&(n=t[Sf]=new Set);var i=e+"__bubble";n.has(i)||($T(t,e,2,!1),n.add(i))}function Jh(e,t,n){var i=0;t&&(i|=4),$T(n,e,i,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Nm(e){if(!e[Kl]){e[Kl]=!0,Fv.forEach(function(n){n!=="selectionchange"&&(Iw.has(n)||Jh(n,!1,e),Jh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Jh("selectionchange",!1,t))}}function $T(e,t,n,i){switch(lE(t)){case 2:var r=t2;break;case 8:r=e2;break;default:r=Vm}n=r.bind(null,t,n,e),r=void 0,!Cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function tf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=ys(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}Wv(function(){var h=s,d=$d(n),g=[];t:{var m=d0.get(e);if(m!==void 0){var _=Cc,x=e;switch(e){case"keypress":if(lu(n)===0)break t;case"keydown":case"keyup":_=ES;break;case"focusin":x="focus",_=Nh;break;case"focusout":x="blur",_=Nh;break;case"beforeblur":case"afterblur":_=Nh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=SS;break;case u0:case c0:case h0:_=fS;break;case f0:_=RS;break;case"scroll":case"scrollend":_=oS;break;case"wheel":_=CS;break;case"copy":case"cut":case"paste":_=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Np;break;case"toggle":case"beforetoggle":_=NS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),S=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,R;v!==null;){var N=v;if(R=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||R===null||S===null||(N=Eo(v,S),N!=null&&M.push(Co(v,N,R))),V)break;v=v.return}0<M.length&&(m=new _(m,x,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==If&&(x=n.relatedTarget||n.fromElement)&&(ys(x)||x[oa]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=h,x=x?ys(x):null,x!==null&&(V=qo(x),M=x.tag,x!==V||M!==5&&M!==27&&M!==6)&&(x=null)):(_=null,x=h),_!==x)){if(M=Cp,N="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=Np,N="onPointerLeave",S="onPointerEnter",v="pointer"),V=_==null?m:Qa(_),R=x==null?m:Qa(x),m=new M(N,v+"leave",_,n,d),m.target=V,m.relatedTarget=R,N=null,ys(d)===h&&(M=new M(S,v+"enter",x,n,d),M.target=R,M.relatedTarget=V,N=M),V=N,_&&x)e:{for(M=_,S=x,v=0,R=M;R;R=as(R))v++;for(R=0,N=S;N;N=as(N))R++;for(;0<v-R;)M=as(M),v--;for(;0<R-v;)S=as(S),R--;for(;v--;){if(M===S||S!==null&&M===S.alternate)break e;M=as(M),S=as(S)}M=null}else M=null;_!==null&&Ay(g,m,_,M,!1),x!==null&&V!==null&&Ay(g,V,x,M,!0)}}t:{if(m=h?Qa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=Vp;else if(Mp(m))if(r0)U=zS;else{U=US;var z=LS}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Xd(h.elementType)&&(U=Vp):U=jS;if(U&&(U=U(e,h))){i0(g,U,n,d);break t}z&&z(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Rf(m,"number",m.value)}switch(z=h?Qa(h):window,e){case"focusin":(Mp(z)||z.contentEditable==="true")&&(Ts=z,Df=h,eo=null);break;case"focusout":eo=Df=Ts=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,jp(g,n,d);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":jp(g,n,d)}var T;if(Jd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else vs?e0(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(t0&&n.locale!=="ko"&&(vs||y!=="onCompositionStart"?y==="onCompositionEnd"&&vs&&(T=Jv()):(ji=d,Zd="value"in ji?ji.value:ji.textContent,vs=!0)),z=Zu(h,y),0<z.length&&(y=new Dp(y,e,null,n,d),g.push({event:y,listeners:z}),T?y.data=T:(T=n0(n),T!==null&&(y.data=T)))),(T=OS?MS(e,n):VS(e,n))&&(y=Zu(h,"onBeforeInput"),0<y.length&&(z=new Dp("onBeforeInput","beforeinput",null,n,d),g.push({event:z,listeners:y}),z.data=T)),Sw(g,e,h,n,d)}XT(g,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Eo(e,n),r!=null&&i.unshift(Co(e,r,s)),r=Eo(e,t),r!=null&&i.push(Co(e,r,s))),e.tag===3)return i;e=e.return}return[]}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=Eo(n,s),h!=null&&a.unshift(Co(n,h,u))):r||(h=Eo(n,s),h!=null&&a.push(Co(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(Cw,`
`).replace(Dw,"")}function ZT(e,t){return t=by(t),by(e)===t}function zc(){}function Nt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||qs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&qs(e,""+i);break;case"className":Bl(e,"class",i);break;case"tabIndex":Bl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,n,i);break;case"style":Zv(e,i,s);break;case"data":if(t!=="object"){Bl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=au(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Nt(e,t,"name",r.name,r,null),Nt(e,t,"formEncType",r.formEncType,r,null),Nt(e,t,"formMethod",r.formMethod,r,null),Nt(e,t,"formTarget",r.formTarget,r,null)):(Nt(e,t,"encType",r.encType,r,null),Nt(e,t,"method",r.method,r,null),Nt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=au(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=zc);break;case"onScroll":i!=null&&ut("scroll",e);break;case"onScrollEnd":i!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=au(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ut("beforetoggle",e),ut("toggle",e),su(e,"popover",i);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":su(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sS.get(n)||n,su(e,n,i))}}function ed(e,t,n,i,r,s){switch(n){case"style":Zv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?qs(e,i):(typeof i=="number"||typeof i=="bigint")&&qs(e,""+i);break;case"onScroll":i!=null&&ut("scroll",e);break;case"onScrollEnd":i!=null&&ut("scrollend",e);break;case"onClick":i!=null&&(e.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ge]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):su(e,n,i)}}}function Ee(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Nt(e,t,s,a,n,null)}}r&&Nt(e,t,"srcSet",n.srcSet,n,null),i&&Nt(e,t,"src",n.src,n,null);return;case"input":ut("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:Nt(e,t,i,d,n,null)}}Kv(e,s,l,u,h,a,r,!1),Ou(e);return;case"select":ut("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Nt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Ds(e,!!i,t,!1):n!=null&&Ds(e,!!i,n,!0);return;case"textarea":ut("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Nt(e,t,a,l,n,null)}$v(e,i,r,s),Ou(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Nt(e,t,u,i,n,null)}return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(i=0;i<Io.length;i++)ut(Io[i],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:Nt(e,t,h,i,n,null)}return;default:if(Xd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Nt(e,t,l,i,n,null))}function Nw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Nt(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==g&&Nt(e,t,m,_,i,g)}}wf(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||Nt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Nt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?Ds(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ds(e,!!n,t,!0):Ds(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Nt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&Nt(e,t,a,r,i,s)}Xv(e,m,_);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:Nt(e,t,x,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Nt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Nt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:Nt(e,t,h,m,i,_)}return;default:if(Xd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&ed(e,t,V,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||ed(e,t,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&Nt(e,t,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Nt(e,t,g,m,i,_)}var nd=null,id=null;function Wu(e){return e.nodeType===9?e:e.ownerDocument}function Sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ef=null;function xw(){var e=window.event;return e&&e.type==="popstate"?e===ef?!1:(ef=e,!0):(ef=null,!1)}var JT=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(e){return wy.resolve(null).then(e).catch(Vw)}:JT;function Vw(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function Ry(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&fo(a.documentElement),n&2&&fo(a.body),n&4)for(n=a.head,fo(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Qo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),Mo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Mo(t)}function sd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),Kd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function kw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Qo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function Pw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var od=null;function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function tE(e,t,n){switch(t=Wu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function fo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kd(e)}var pn=new Map,Cy=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pi=bt.d;bt.d={f:Uw,r:jw,D:zw,C:Bw,L:qw,m:Hw,X:Gw,S:Fw,M:Qw};function Uw(){var e=pi.f(),t=Lc();return e||t}function jw(e){var t=la(e);t!==null&&t.tag===5&&t.type==="form"?Y0(t):pi.r(e)}var ha=typeof document>"u"?null:document;function eE(e,t,n){var i=ha;if(i&&typeof t=="string"&&t){var r=cn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Cy.has(r)||(Cy.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Ee(t,"link",e),fe(t),i.head.appendChild(t)))}}function zw(e){pi.D(e),eE("dns-prefetch",e,null)}function Bw(e,t){pi.C(e,t),eE("preconnect",e,t)}function qw(e,t,n){pi.L(e,t,n);var i=ha;if(i&&e&&t){var r='link[rel="preload"][as="'+cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+cn(n.imageSizes)+'"]')):r+='[href="'+cn(e)+'"]';var s=r;switch(t){case"style":s=$s(e);break;case"script":s=fa(e)}pn.has(s)||(e=zt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(nl(s))||t==="script"&&i.querySelector(il(s))||(t=i.createElement("link"),Ee(t,"link",e),fe(t),i.head.appendChild(t)))}}function Hw(e,t){pi.m(e,t);var n=ha;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+cn(i)+'"][href="'+cn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=fa(e)}if(!pn.has(s)&&(e=zt({rel:"modulepreload",href:e},t),pn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(il(s)))return}i=n.createElement("link"),Ee(i,"link",e),fe(i),n.head.appendChild(i)}}}function Fw(e,t,n){pi.S(e,t,n);var i=ha;if(i&&e){var r=Cs(i).hoistableStyles,s=$s(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(nl(s)))l.loading=5;else{e=zt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pn.get(s))&&xm(e,n);var u=a=i.createElement("link");fe(u),Ee(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,gu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function Gw(e,t){pi.X(e,t);var n=ha;if(n&&e){var i=Cs(n).hoistableScripts,r=fa(e),s=i.get(r);s||(s=n.querySelector(il(r)),s||(e=zt({src:e,async:!0},t),(t=pn.get(r))&&Om(e,t),s=n.createElement("script"),fe(s),Ee(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Qw(e,t){pi.M(e,t);var n=ha;if(n&&e){var i=Cs(n).hoistableScripts,r=fa(e),s=i.get(r);s||(s=n.querySelector(il(r)),s||(e=zt({src:e,async:!0,type:"module"},t),(t=pn.get(r))&&Om(e,t),s=n.createElement("script"),fe(s),Ee(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Dy(e,t,n,i){var r=(r=Hi.current)?Ju(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$s(n.href),n=Cs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$s(n.href);var s=Cs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(nl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),pn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pn.set(e,n),s||Yw(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fa(n),n=Cs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function $s(e){return'href="'+cn(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function nE(e){return zt({},e,{"data-precedence":e.precedence,precedence:null})}function Yw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ee(t,"link",n),fe(t),e.head.appendChild(t))}function fa(e){return'[src="'+cn(e)+'"]'}function il(e){return"script[async]"+e}function Ny(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+cn(n.href)+'"]');if(i)return t.instance=i,fe(i),i;var r=zt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),fe(i),Ee(i,"style",r),gu(i,n.precedence,e),t.instance=i;case"stylesheet":r=$s(n.href);var s=e.querySelector(nl(r));if(s)return t.state.loading|=4,t.instance=s,fe(s),s;i=nE(n),(r=pn.get(r))&&xm(i,r),s=(e.ownerDocument||e).createElement("link"),fe(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Ee(s,"link",i),t.state.loading|=4,gu(s,n.precedence,e),t.instance=s;case"script":return s=fa(n.src),(r=e.querySelector(il(s)))?(t.instance=r,fe(r),r):(i=n,(r=pn.get(s))&&(i=zt({},n),Om(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),fe(r),Ee(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,gu(i,n.precedence,e));return t.instance}function gu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function xm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Om(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pu=null;function xy(e,t,n){if(pu===null){var i=new Map,r=pu=new Map;r.set(n,i)}else r=pu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Qo]||s[Ne]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Oy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Kw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function iE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Do=null;function Xw(){}function $w(e,t,n){if(Do===null)throw Error(P(475));var i=Do;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=$s(n.href),s=e.querySelector(nl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=tc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,fe(s);return}s=e.ownerDocument||e,n=nE(n),(r=pn.get(r))&&xm(n,r),s=s.createElement("link"),fe(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Ee(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=tc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Zw(){if(Do===null)throw Error(P(475));var e=Do;return e.stylesheets&&e.count===0&&ld(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function ld(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,t.forEach(Ww,e),ec=null,tc.call(e))}function Ww(e,t){if(!(t.state.loading&4)){var n=ec.get(e);if(n)var i=n.get(null);else{n=new Map,ec.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=tc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var No={$$typeof:Xn,Provider:null,Consumer:null,_currentValue:wr,_currentValue2:wr,_threadCount:0};function Jw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.hiddenUpdates=bh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function rE(e,t,n,i,r,s,a,l,u,h,d,g){return e=new Jw(e,t,n,a,l,u,h,g),t=1,s===!0&&(t|=24),s=We(3,null,null,t),e.current=s,s.stateNode=e,t=am(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},lm(s),e}function sE(e){return e?(e=bs,e):bs}function aE(e,t,n,i,r,s){r=sE(r),i.context===null?i.context=r:i.pendingContext=r,i=Fi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Gi(e,i,t),n!==null&&(nn(n,e,t),ro(n,e,t))}function My(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mm(e,t){My(e,t),(e=e.alternate)&&My(e,t)}function oE(e){if(e.tag===13){var t=ua(e,67108864);t!==null&&nn(t,e,67108864),Mm(e,67108864)}}var nc=!0;function t2(e,t,n,i){var r=Z.T;Z.T=null;var s=bt.p;try{bt.p=2,Vm(e,t,n,i)}finally{bt.p=s,Z.T=r}}function e2(e,t,n,i){var r=Z.T;Z.T=null;var s=bt.p;try{bt.p=8,Vm(e,t,n,i)}finally{bt.p=s,Z.T=r}}function Vm(e,t,n,i){if(nc){var r=ud(i);if(r===null)tf(e,t,i,ic,n),Vy(e,i);else if(i2(r,e,t,n,i))i.stopPropagation();else if(Vy(e,i),t&4&&-1<n2.indexOf(e)){for(;r!==null;){var s=la(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Tr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-tn(a);l.entanglements[1]|=u,a&=~u}Bn(s),!(Dt&6)&&(Yu=On()+500,el(0))}}break;case 13:l=ua(s,2),l!==null&&nn(l,s,2),Lc(),Mm(s,2)}if(s=ud(i),s===null&&tf(e,t,i,ic,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else tf(e,t,i,null,n)}}function ud(e){return e=$d(e),km(e)}var ic=null;function km(e){if(ic=null,e=ys(e),e!==null){var t=qo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ov(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ic=e,null}function lE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bb()){case Pv:return 2;case Lv:return 8;case xu:case qb:return 32;case Uv:return 268435456;default:return 32}default:return 32}}var cd=!1,Ki=null,Xi=null,$i=null,xo=new Map,Oo=new Map,Mi=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(e,t){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Ha(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=la(t),t!==null&&oE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function i2(e,t,n,i,r){switch(t){case"focusin":return Ki=Ha(Ki,e,t,n,i,r),!0;case"dragenter":return Xi=Ha(Xi,e,t,n,i,r),!0;case"mouseover":return $i=Ha($i,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return xo.set(s,Ha(xo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Oo.set(s,Ha(Oo.get(s)||null,e,t,n,i,r)),!0}return!1}function uE(e){var t=ys(e.target);if(t!==null){var n=qo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ov(n),t!==null){e.blockedOn=t,$b(e.priority,function(){if(n.tag===13){var i=en();i=Qd(i);var r=ua(n,i);r!==null&&nn(r,n,i),Mm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ud(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);If=i,n.target.dispatchEvent(i),If=null}else return t=la(n),t!==null&&oE(t),e.blockedOn=n,!1;t.shift()}return!0}function ky(e,t,n){yu(e)&&n.delete(t)}function r2(){cd=!1,Ki!==null&&yu(Ki)&&(Ki=null),Xi!==null&&yu(Xi)&&(Xi=null),$i!==null&&yu($i)&&($i=null),xo.forEach(ky),Oo.forEach(ky)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,ue.unstable_scheduleCallback(ue.unstable_NormalPriority,r2)))}var $l=null;function Py(e){$l!==e&&($l=e,ue.unstable_scheduleCallback(ue.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(km(i||n)===null)continue;break}var s=la(n);s!==null&&(e.splice(t,3),t-=3,Hf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Mo(e){function t(u){return Xl(u,e)}Ki!==null&&Xl(Ki,e),Xi!==null&&Xl(Xi,e),$i!==null&&Xl($i,e),xo.forEach(t),Oo.forEach(t);for(var n=0;n<Mi.length;n++){var i=Mi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)uE(n),n.blockedOn===null&&Mi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ge]||null;if(typeof s=="function")a||Py(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ge]||null)l=a.formAction;else if(km(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Py(n)}}}function Pm(e){this._internalRoot=e}Bc.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=en();aE(n,i,e,t,null,null)};Bc.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;aE(e.current,2,null,e,null,null),Lc(),t[oa]=null}};function Bc(e){this._internalRoot=e}Bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mi.length&&t!==0&&t<Mi[n].priority;n++);Mi.splice(n,0,e),n===0&&uE(e)}};var Ly=Nv.version;if(Ly!=="19.1.0")throw Error(P(527,Ly,"19.1.0"));bt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Vb(t),e=e!==null?Mv(e):null,e=e===null?null:e.stateNode,e};var s2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Ho=Zl.inject(s2),Je=Zl}catch{}}wc.createRoot=function(e,t){if(!xv(e))throw Error(P(299));var n=!1,i="",r=rT,s=sT,a=aT,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=rE(e,1,!1,null,null,n,i,r,s,a,l,null),e[oa]=t.current,Nm(e),new Pm(t)};wc.hydrateRoot=function(e,t,n){if(!xv(e))throw Error(P(299));var i=!1,r="",s=rT,a=sT,l=aT,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=rE(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=sE(null),n=t.current,i=en(),i=Qd(i),r=Fi(i),r.callback=null,Gi(n,r,i),n=i,t.current.lanes=n,Go(t,n),Bn(t),e[oa]=t.current,Nm(e),new Bc(t)};wc.version="19.1.0";function cE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cE)}catch(e){console.error(e)}}cE(),Sv.exports=wc;var a2=Sv.exports;const o2=dv(a2),l2=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},u2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new c2;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const x=h<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(e){const t=hE(e);return fE.encodeByteArray(t,!0)},rc=function(e){return h2(e).replace(/\./g,"")},dE=function(e){try{return fE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=()=>f2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof Uy>"u")return;const e=Uy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dE(e[1]);return t&&JSON.parse(t)},qc=()=>{try{return l2()||d2()||m2()||g2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},mE=e=>{var t,n;return(n=(t=qc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},p2=e=>{const t=mE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},gE=()=>{var e;return(e=qc())===null||e===void 0?void 0:e.config},pE=e=>{var t;return(t=qc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(e){return e.endsWith(".cloudworkstations.dev")}async function yE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rc(JSON.stringify(n)),rc(JSON.stringify(a)),""].join(".")}const mo={};function v2(){const e={prod:[],emulator:[]};for(const t of Object.keys(mo))mo[t]?e.emulator.push(t):e.prod.push(t);return e}function T2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let jy=!1;function _E(e,t){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||mo[e]===t||mo[e]||jy)return;mo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=v2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=T2(i),_=n("text"),x=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;l(R),d(V,M);const N=h();u(v,S),R.append(v,x,V,N),document.body.appendChild(R)}s?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function A2(){var e;const t=(e=qc())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R2(){const e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I2(){return!A2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C2(){try{return typeof indexedDB=="object"}catch{return!1}}function D2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="FirebaseError";class yi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=N2,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?x2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new yi(r,l,i)}}function x2(e,t){return e.replace(O2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const O2=/\{\$([^}]+)}/g;function M2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(zy(s)&&zy(a)){if(!Pr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function zy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function V2(e,t){const n=new k2(e,t);return n.subscribe.bind(n)}class k2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");P2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=nf),r.error===void 0&&(r.error=nf),r.complete===void 0&&(r.complete=nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){return e&&e._delegate?e._delegate:e}class Lr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new y2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(j2(t))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=br){return this.instances.has(t)}getOptions(t=br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:U2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=br){return this.component?this.component.multipleInstances?t:br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U2(e){return e===br?void 0:e}function j2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new L2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ht||(ht={}));const B2={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},q2=ht.INFO,H2={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},F2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=H2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=q2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?B2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const G2=(e,t)=>t.some(n=>e instanceof n);let By,qy;function Q2(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y2(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,hd=new WeakMap,TE=new WeakMap,rf=new WeakMap,Um=new WeakMap;function K2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Zi(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&vE.set(n,e)}).catch(()=>{}),Um.set(t,e),t}function X2(e){if(hd.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});hd.set(e,t)}let fd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return hd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||TE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $2(e){fd=e(fd)}function Z2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(sf(this),t,...n);return TE.set(i,t.sort?t.sort():[t]),Zi(i)}:Y2().includes(e)?function(...t){return e.apply(sf(this),t),Zi(vE.get(this))}:function(...t){return Zi(e.apply(sf(this),t))}}function W2(e){return typeof e=="function"?Z2(e):(e instanceof IDBTransaction&&X2(e),G2(e,Q2())?new Proxy(e,fd):e)}function Zi(e){if(e instanceof IDBRequest)return K2(e);if(rf.has(e))return rf.get(e);const t=W2(e);return t!==e&&(rf.set(e,t),Um.set(t,e)),t}const sf=e=>Um.get(e);function J2(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Zi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Zi(a.result),u.oldVersion,u.newVersion,Zi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const tR=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],af=new Map;function Hy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(af.get(t))return af.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=eR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return af.set(t,s),s}$2(e=>({...e,get:(t,n,i)=>Hy(t,n)||e.get(t,n,i),has:(t,n)=>!!Hy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dd="@firebase/app",Fy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Lm("@firebase/app"),rR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",gR="@firebase/functions-compat",pR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",TR="@firebase/performance",ER="@firebase/performance-compat",AR="@firebase/remote-config",bR="@firebase/remote-config-compat",SR="@firebase/storage",wR="@firebase/storage-compat",RR="@firebase/firestore",IR="@firebase/ai",CR="@firebase/firestore-compat",DR="firebase",NR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",xR={[dd]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[gR]:"fire-fn-compat",[pR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[TR]:"fire-perf",[ER]:"fire-perf-compat",[AR]:"fire-rc",[bR]:"fire-rc-compat",[SR]:"fire-gcs",[wR]:"fire-gcs-compat",[RR]:"fire-fst",[CR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,OR=new Map,gd=new Map;function Gy(e,t){try{e.container.addComponent(t)}catch(n){ci.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zs(e){const t=e.name;if(gd.has(t))return ci.debug(`There were multiple attempts to register component ${t}.`),!1;gd.set(t,e);for(const n of sc.values())Gy(n,e);for(const n of OR.values())Gy(n,e);return!0}function jm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new rl("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=NR;function EE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:md,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Wi.create("bad-app-name",{appName:String(r)});if(n||(n=gE()),!n)throw Wi.create("no-options");const s=sc.get(r);if(s){if(Pr(n,s.options)&&Pr(i,s.config))return s;throw Wi.create("duplicate-app",{appName:r})}const a=new z2(r);for(const u of gd.values())a.addComponent(u);const l=new VR(n,i,a);return sc.set(r,l),l}function AE(e=md){const t=sc.get(e);if(!t&&e===md&&gE())return EE();if(!t)throw Wi.create("no-app",{appName:e});return t}function Ji(e,t,n){var i;let r=(i=xR[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}Zs(new Lr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",PR=1,Vo="firebase-heartbeat-store";let of=null;function bE(){return of||(of=J2(kR,PR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Vo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Wi.create("idb-open",{originalErrorMessage:e.message})})),of}async function LR(e){try{const n=(await bE()).transaction(Vo),i=await n.objectStore(Vo).get(SE(e));return await n.done,i}catch(t){if(t instanceof yi)ci.warn(t.message);else{const n=Wi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ci.warn(n.message)}}}async function Qy(e,t){try{const i=(await bE()).transaction(Vo,"readwrite");await i.objectStore(Vo).put(t,SE(e)),await i.done}catch(n){if(n instanceof yi)ci.warn(n.message);else{const i=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(i.message)}}}function SE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,jR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>jR){const a=HR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yy(),{heartbeatsToSend:i,unsentEntries:r}=BR(this._heartbeatsCache.heartbeats),s=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ci.warn(n),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function BR(e,t=UR){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Ky(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ky(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C2()?D2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ky(e){return rc(JSON.stringify({version:2,heartbeats:e})).length}function HR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(e){Zs(new Lr("platform-logger",t=>new nR(t),"PRIVATE")),Zs(new Lr("heartbeat",t=>new zR(t),"PRIVATE")),Ji(dd,Fy,e),Ji(dd,Fy,"esm2017"),Ji("fire-js","")}FR("");var GR="firebase",QR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(GR,QR,"app");function zm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=wE,RE=new rl("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Lm("@firebase/auth");function KR(e,...t){ac.logLevel<=ht.WARN&&ac.warn(`Auth (${ma}): ${e}`,...t)}function _u(e,...t){ac.logLevel<=ht.ERROR&&ac.error(`Auth (${ma}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e,...t){throw Bm(e,...t)}function Vn(e,...t){return Bm(e,...t)}function IE(e,t,n){const i=Object.assign(Object.assign({},YR()),{[t]:n});return new rl("auth","Firebase",i).create(t,{appName:e.name})}function ri(e){return IE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return RE.create(e,...t)}function tt(e,t,...n){if(!e)throw Bm(t,...n)}function ti(e){const t="INTERNAL ASSERTION FAILED: "+e;throw _u(t),new Error(t)}function fi(e,t){e||ti(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XR(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||S2()||"connection"in navigator)?navigator.onLine:!0}function ZR(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,n){this.shortDelay=t,this.longDelay=n,fi(n>t,"Short delay should be less than long delay!"),this.isMobile=E2()||w2()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e,t){fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tI=new al(3e4,6e4);function ol(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ga(e,t,n,i,r={}){return DE(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=sl(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:u},s);return b2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&da(e.emulatorConfig.host)&&(h.credentials="include"),CE.fetch()(await NE(e,e.config.apiHost,n,l),h)})}async function DE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},WR),t);try{const r=new eI(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Wl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Wl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Wl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw IE(e,d,h);hi(e,d)}}catch(r){if(r instanceof yi)throw r;hi(e,"network-request-failed",{message:String(r)})}}async function Hm(e,t,n,i,r={}){const s=await ga(e,t,n,i,r);return"mfaPendingCredential"in s&&hi(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function NE(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?qm(e.config,r):`${e.config.apiScheme}://${r}`;return JR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),tI.get())})}}function Wl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Vn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(e,t){return ga(e,"POST","/v1/accounts:delete",t)}async function oc(e,t){return ga(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(e,t=!1){const n=Qe(e),i=await n.getIdToken(t),r=Fm(i);tt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:go(lf(r.auth_time)),issuedAtTime:go(lf(r.iat)),expirationTime:go(lf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lf(e){return Number(e)*1e3}function Fm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return _u("JWT malformed, contained fewer than 3 sections"),null;try{const r=dE(n);return r?JSON.parse(r):(_u("Failed to decode base64 JWT payload"),null)}catch(r){return _u("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $y(e){const t=Fm(e);return tt(t,"internal-error"),tt(typeof t.exp<"u","internal-error"),tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof yi&&rI(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function rI({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ko(e,oc(n,{idToken:i}));tt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?xE(s.providerUserInfo):[],l=oI(e.providerData,a),u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,g)}async function aI(e){const t=Qe(e);await lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function xE(e){return e.map(t=>{var{providerId:n}=t,i=zm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(e,t){const n=await DE(e,{},async()=>{const i=sl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await NE(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&da(e.emulatorConfig.host)&&(u.credentials="include"),CE.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(e,t){return ga(e,"POST","/v2/accounts:revokeToken",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){tt(t.idToken,"internal-error"),tt(typeof t.idToken<"u","internal-error"),tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$y(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){tt(t.length!==0,"internal-error");const n=$y(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await lI(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ps;return i&&(tt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(tt(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(tt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ps,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,t){tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=zm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ko(this,this.stsTokenManager.getToken(this.auth,t));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(ri(this.auth));const t=await this.getIdToken();return await ko(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,M=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:N,isAnonymous:U,providerData:z,stsTokenManager:T}=n;tt(R&&T,t,"internal-error");const y=Ps.fromJSON(this.name,T);tt(typeof R=="string",t,"internal-error"),wi(g,t.name),wi(m,t.name),tt(typeof N=="boolean",t,"internal-error"),tt(typeof U=="boolean",t,"internal-error"),wi(_,t.name),wi(x,t.name),wi(M,t.name),wi(V,t.name),wi(S,t.name),wi(v,t.name);const E=new vn({uid:R,auth:t,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:_,tenantId:M,stsTokenManager:y,createdAt:S,lastLoginAt:v});return z&&Array.isArray(z)&&(E.providerData=z.map(A=>Object.assign({},A))),V&&(E._redirectEventId=V),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ps;r.updateFromServerResponse(n);const s=new vn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await lc(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];tt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?xE(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ps;l.updateFromIdToken(i);const u=new vn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new yd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function ei(e){fi(e instanceof Function,"Expected a class definition");let t=Zy.get(e);return t?(fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OE.type="NONE";const Wy=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(e,t,n){return`firebase:${e}:${t}:${n}`}class Ls{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=vu(this.userKey,r.apiKey,s),this.fullPersistenceKey=vu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await oc(this.auth,{idToken:t}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,t):null}return vn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ls(ei(Wy),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||ei(Wy);const a=vu(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await oc(t,{idToken:d}).catch(()=>{});if(!m)break;g=await vn._fromGetAccountInfoResponse(t,m,d)}else g=vn._fromJSON(t,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ls(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ls(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ME(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UE(t))return"Blackberry";if(jE(t))return"Webos";if(VE(t))return"Safari";if((t.includes("chrome/")||kE(t))&&!t.includes("edge/"))return"Chrome";if(LE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ME(e=Oe()){return/firefox\//i.test(e)}function VE(e=Oe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kE(e=Oe()){return/crios\//i.test(e)}function PE(e=Oe()){return/iemobile/i.test(e)}function LE(e=Oe()){return/android/i.test(e)}function UE(e=Oe()){return/blackberry/i.test(e)}function jE(e=Oe()){return/webos/i.test(e)}function Gm(e=Oe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cI(e=Oe()){var t;return Gm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hI(){return R2()&&document.documentMode===10}function zE(e=Oe()){return Gm(e)||LE(e)||jE(e)||UE(e)||/windows phone/i.test(e)||PE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e,t=[]){let n;switch(e){case"Browser":n=Jy(Oe());break;case"Worker":n=`${Jy(Oe())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(e,t={}){return ga(e,"GET","/v2/passwordPolicy",ol(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class gI{constructor(t){var n,i,r,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:mI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ls.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await oc(this,{idToken:t}),i=await vn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(fn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fn(this.app))return Promise.reject(ri(this));const n=t?Qe(t):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),n=new gI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new rl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uI(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ei(t)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Ls.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&KR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ll(e){return Qe(e)}class t_{constructor(t){this.auth=t,this.observer=null,this.addObserver=V2(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(e){Qm=e}function _I(e){return Qm.loadJS(e)}function vI(){return Qm.gapiScript}function TI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e,t){const n=jm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Pr(s,t??{}))return r;hi(r,"already-initialized")}return n.initialize({options:t})}function AI(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ei);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function bI(e,t,n){const i=ll(e);tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=qE(t),{host:a,port:l}=SI(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),tt(Pr(h,i.config.emulator)&&Pr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,da(a)?(yE(`${s}//${a}${u}`),_E("Auth",!0)):wI()}function qE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function SI(e){const t=qE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:e_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:e_(a)}}}function e_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wI(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(t){return ti("not implemented")}_linkToIdToken(t,n){return ti("not implemented")}_getReauthenticationResolver(t){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(e,t){return Hm(e,"POST","/v1/accounts:signInWithIdp",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="http://localhost";class Ur extends HE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=zm(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Ur(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Us(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Us(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Us(t,n)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=sl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ul{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vi.credentialFromTaggedObject(t)}static credentialFromError(t){return Vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vi.credential(t.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ur._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ul{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ul{constructor(){super("twitter.com")}static credential(t,n){return Ur._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Li.credentialFromTaggedObject(t)}static credentialFromError(t){return Li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Li.credential(n,i)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(e,t){return Hm(e,"POST","/v1/accounts:signUp",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await vn._fromIdTokenResponse(t,i,r),a=n_(i);return new di({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=n_(i);return new di({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function n_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(e){var t;if(fn(e.app))return Promise.reject(ri(e));const n=ll(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new di({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await II(n,{returnSecureToken:!0}),r=await di._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends yi{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new uc(t,n,i,r)}}function GE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(e,s,t,i):s})}async function DI(e,t,n=!1){const i=await ko(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return di._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(e,t,n=!1){const{auth:i}=e;if(fn(i.app))return Promise.reject(ri(i));const r="reauthenticate";try{const s=await ko(e,GE(i,r,t,e),n);tt(s.idToken,i,"internal-error");const a=Fm(s.idToken);tt(a,i,"internal-error");const{sub:l}=a;return tt(e.uid===l,i,"user-mismatch"),di._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(e,t,n=!1){if(fn(e.app))return Promise.reject(ri(e));const i="signIn",r=await GE(e,i,t),s=await di._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(e,t){return Hm(e,"POST","/v1/accounts:signInWithCustomToken",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t){if(fn(e.app))return Promise.reject(ri(e));const n=ll(e),i=await OI(n,{token:t,returnSecureToken:!0}),r=await di._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function VI(e,t,n,i){return Qe(e).onIdTokenChanged(t,n,i)}function kI(e,t,n){return Qe(e).beforeAuthStateChanged(t,n)}function PI(e,t,n,i){return Qe(e).onAuthStateChanged(t,n,i)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e3,UI=10;class YE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);hI()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,UI):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YE.type="LOCAL";const jI=YE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}KE.type="SESSION";const XE=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Hc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await zI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Ym("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function qI(e){kn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function HI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function GI(){return $E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebaseLocalStorageDb",QI=1,hc="firebaseLocalStorage",WE="fbase_key";class cl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fc(e,t){return e.transaction([hc],t?"readwrite":"readonly").objectStore(hc)}function YI(){const e=indexedDB.deleteDatabase(ZE);return new cl(e).toPromise()}function _d(){const e=indexedDB.open(ZE,QI);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(hc,{keyPath:WE})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(hc)?t(i):(i.close(),await YI(),t(await _d()))})})}async function i_(e,t,n){const i=Fc(e,!0).put({[WE]:t,value:n});return new cl(i).toPromise()}async function KI(e,t){const n=Fc(e,!1).get(t),i=await new cl(n).toPromise();return i===void 0?null:i.value}function r_(e,t){const n=Fc(e,!0).delete(t);return new cl(n).toPromise()}const XI=800,$I=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>$I)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(GI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await i_(t,cc,"1"),await r_(t,cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>i_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>KI(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>r_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Fc(r,!1).getAll();return new cl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const ZI=JE;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e,t){return t?ei(t):(tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends HE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Us(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Us(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Us(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JI(e){return xI(e.auth,new Km(e),e.bypassAuthState)}function tC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),NI(n,new Km(e),e.bypassAuthState)}async function eC(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),DI(n,new Km(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:hi(this.auth,"internal-error")}}resolve(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new al(2e3,1e4);class Is extends t1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return tt(t,this.auth,"internal-error"),t}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nC.get())};t()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",Tu=new Map;class rC extends t1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Tu.get(this.auth._key());if(!t){try{const i=await sC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Tu.set(this.auth._key(),t)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(e,t){const n=lC(t),i=oC(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function aC(e,t){Tu.set(e._key(),t)}function oC(e){return ei(e._redirectPersistence)}function lC(e){return vu(iC,e.config.apiKey,e.name)}async function uC(e,t,n=!1){if(fn(e.app))return Promise.reject(ri(e));const i=ll(e),r=WI(i,t),a=await new rC(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class hC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!e1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(s_(t))}saveEventToCache(t){this.cachedEventUids.add(s_(t)),this.lastProcessedEventTime=Date.now()}}function s_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function e1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fC(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(e,t={}){return ga(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function pC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dC(e);for(const n of t)try{if(yC(n))return}catch{}hi(e,"unauthorized-domain")}function yC(e){const t=pd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!gC.test(n))return!1;if(mC.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new al(3e4,6e4);function a_(){const e=kn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function vC(e){return new Promise((t,n)=>{var i,r,s;function a(){a_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{a_(),n(Vn(e,"network-request-failed"))},timeout:_C.get()})}if(!((r=(i=kn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=kn().gapi)===null||s===void 0)&&s.load)a();else{const l=TI("iframefcb");return kn()[l]=()=>{gapi.load?a():n(Vn(e,"network-request-failed"))},_I(`${vI()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Eu=null,t})}let Eu=null;function TC(e){return Eu=Eu||vC(e),Eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new al(5e3,15e3),AC="__/auth/iframe",bC="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RC(e){const t=e.config;tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qm(t,bC):`https://${e.config.authDomain}/${AC}`,i={apiKey:t.apiKey,appName:e.name,v:ma},r=wC.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${sl(i).slice(1)}`}async function IC(e){const t=await TC(e),n=kn().gapi;return tt(n,e,"internal-error"),t.open({where:document.body,url:RC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Vn(e,"network-request-failed"),l=kn().setTimeout(()=>{s(a)},EC.get());function u(){kn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,NC=600,xC="_blank",OC="http://localhost";class o_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(e,t,n,i=DC,r=NC){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},CC),{width:i.toString(),height:r.toString(),top:s,left:a}),h=Oe().toLowerCase();n&&(l=kE(h)?xC:n),ME(h)&&(t=t||OC,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,x])=>`${m}${_}=${x},`,"");if(cI(h)&&l!=="_self")return VC(t||"",l),new o_(null);const g=window.open(t||"",l,d);tt(g,e,"popup-blocked");try{g.focus()}catch{}return new o_(g)}function VC(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",PC="emulator/auth/handler",LC=encodeURIComponent("fac");async function l_(e,t,n,i,r,s){tt(e.config.authDomain,e,"auth-domain-config-required"),tt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ma,eventId:r};if(t instanceof FE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",M2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof ul){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${LC}=${encodeURIComponent(u)}`:"";return`${UC(e)}?${sl(l).slice(1)}${h}`}function UC({config:e}){return e.emulator?qm(e,PC):`https://${e.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(t,n,i,r){var s;fi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await l_(t,n,i,pd(),r);return MC(t,a,Ym())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await l_(t,n,i,pd(),r);return qI(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(fi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await IC(t),i=new hC(t);return n.register("authEvent",r=>(tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(uf,{type:uf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[uf];a!==void 0&&n(!!a),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||VE()||Gm()}}const zC=jC;var u_="@firebase/auth",c_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(e){Zs(new Lr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;tt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(e)},h=new pI(i,r,s,u);return AI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Zs(new Lr("auth-internal",t=>{const n=ll(t.getProvider("auth").getImmediate());return(i=>new BC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(u_,c_,qC(e)),Ji(u_,c_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=5*60,GC=pE("authIdTokenMaxAge")||FC;let h_=null;const QC=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>GC)return;const r=n==null?void 0:n.token;h_!==r&&(h_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function YC(e=AE()){const t=jm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=EI(e,{popupRedirectResolver:zC,persistence:[ZI,jI,XE]}),i=pE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=QC(s.toString());kI(n,a,()=>a(n.currentUser)),VI(n,l=>a(l))}}const r=mE("auth");return r&&bI(n,`http://${r}`),n}function KC(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}yI({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Vn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",KC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,n1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function E(){}E.prototype=y.prototype,T.D=y.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(A,I,C){for(var w=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)w[Q-2]=arguments[Q];return y.prototype[I].apply(A,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,E){E||(E=0);var A=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)A[I]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(I=0;16>I;++I)A[I]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=T.g[0],E=T.g[1],I=T.g[2];var C=T.g[3],w=y+(C^E&(I^C))+A[0]+3614090360&4294967295;y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+A[1]+3905402710&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+A[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+A[3]+3250441966&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+A[4]+4118548399&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+A[5]+1200080426&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+A[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+A[7]+4249261313&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+A[8]+1770035416&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+A[9]+2336552879&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+A[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+A[11]+2304563134&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(C^E&(I^C))+A[12]+1804603682&4294967295,y=E+(w<<7&4294967295|w>>>25),w=C+(I^y&(E^I))+A[13]+4254626195&4294967295,C=y+(w<<12&4294967295|w>>>20),w=I+(E^C&(y^E))+A[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(y^I&(C^y))+A[15]+1236535329&4294967295,E=I+(w<<22&4294967295|w>>>10),w=y+(I^C&(E^I))+A[1]+4129170786&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+A[6]+3225465664&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+A[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+A[0]+3921069994&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+A[5]+3593408605&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+A[10]+38016083&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+A[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+A[4]+3889429448&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+A[9]+568446438&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+A[14]+3275163606&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+A[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+A[8]+1163531501&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(I^C&(E^I))+A[13]+2850285829&4294967295,y=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(y^E))+A[2]+4243563512&4294967295,C=y+(w<<9&4294967295|w>>>23),w=I+(y^E&(C^y))+A[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^y&(I^C))+A[12]+2368359562&4294967295,E=I+(w<<20&4294967295|w>>>12),w=y+(E^I^C)+A[5]+4294588738&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+A[8]+2272392833&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+A[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+A[14]+4259657740&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+A[1]+2763975236&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+A[4]+1272893353&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+A[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+A[10]+3200236656&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+A[13]+681279174&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+A[0]+3936430074&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+A[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+A[6]+76029189&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(E^I^C)+A[9]+3654602809&4294967295,y=E+(w<<4&4294967295|w>>>28),w=C+(y^E^I)+A[12]+3873151461&4294967295,C=y+(w<<11&4294967295|w>>>21),w=I+(C^y^E)+A[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^y)+A[2]+3299628645&4294967295,E=I+(w<<23&4294967295|w>>>9),w=y+(I^(E|~C))+A[0]+4096336452&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+A[7]+1126891415&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+A[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+A[5]+4237533241&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+A[12]+1700485571&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+A[3]+2399980690&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+A[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+A[1]+2240044497&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+A[8]+1873313359&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+A[15]+4264355552&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+A[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+A[13]+1309151649&4294967295,E=I+(w<<21&4294967295|w>>>11),w=y+(I^(E|~C))+A[4]+4149444226&4294967295,y=E+(w<<6&4294967295|w>>>26),w=C+(E^(y|~I))+A[11]+3174756917&4294967295,C=y+(w<<10&4294967295|w>>>22),w=I+(y^(C|~E))+A[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+C&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var E=y-this.blockSize,A=this.B,I=this.h,C=0;C<y;){if(I==0)for(;C<=E;)r(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(A[I++]=T.charCodeAt(C++),I==this.blockSize){r(this,A),I=0;break}}else for(;C<y;)if(A[I++]=T[C++],I==this.blockSize){r(this,A),I=0;break}}this.h=I,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var E=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=E&255,E/=256;for(this.u(T),T=Array(16),y=E=0;4>y;++y)for(var A=0;32>A;A+=8)T[E++]=this.g[y]>>>A&255;return T};function s(T,y){var E=l;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=y(T)}function a(T,y){this.h=y;for(var E=[],A=!0,I=T.length-1;0<=I;I--){var C=T[I]|0;A&&C==y||(E[I]=C,A=!1)}this.g=E}var l={};function u(T){return-128<=T&&128>T?s(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return V(h(-T));for(var y=[],E=1,A=0;T>=E;A++)y[A]=T/E|0,E*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return V(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),A=g,I=0;I<T.length;I+=8){var C=Math.min(8,T.length-I),w=parseInt(T.substring(I,I+C),y);8>C?(C=h(Math.pow(y,C)),A=A.j(C).add(h(w))):(A=A.j(E),A=A.add(h(w)))}return A}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();for(var T=0,y=1,E=0;E<this.g.length;E++){var A=this.i(E);T+=(0<=A?A:4294967296+A)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(M(this))return"-"+V(this).toString(T);for(var y=h(Math.pow(T,6)),E=this,A="";;){var I=N(E,y).g;E=S(E,I.j(y));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=I,x(E))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function M(T){return T.h==-1}e.l=function(T){return T=S(this,T),M(T)?-1:x(T)?0:1};function V(T){for(var y=T.g.length,E=[],A=0;A<y;A++)E[A]=~T.g[A];return new a(E,~T.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0,I=0;I<=y;I++){var C=A+(this.i(I)&65535)+(T.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);A=w>>>16,C&=65535,w&=65535,E[I]=w<<16|C}return new a(E,E[E.length-1]&-2147483648?-1:0)};function S(T,y){return T.add(V(y))}e.j=function(T){if(x(this)||x(T))return g;if(M(this))return M(T)?V(this).j(V(T)):V(V(this).j(T));if(M(T))return V(this.j(V(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,E=[],A=0;A<2*y;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<T.g.length;I++){var C=this.i(A)>>>16,w=this.i(A)&65535,Q=T.i(I)>>>16,dt=T.i(I)&65535;E[2*A+2*I]+=w*dt,v(E,2*A+2*I),E[2*A+2*I+1]+=C*dt,v(E,2*A+2*I+1),E[2*A+2*I+1]+=w*Q,v(E,2*A+2*I+1),E[2*A+2*I+2]+=C*Q,v(E,2*A+2*I+2)}for(A=0;A<y;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=y;A<2*y;A++)E[A]=0;return new a(E,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function R(T,y){this.g=T,this.h=y}function N(T,y){if(x(y))throw Error("division by zero");if(x(T))return new R(g,g);if(M(T))return y=N(V(T),y),new R(V(y.g),V(y.h));if(M(y))return y=N(T,V(y)),new R(V(y.g),y.h);if(30<T.g.length){if(M(T)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=y;0>=A.l(T);)E=U(E),A=U(A);var I=z(E,1),C=z(A,1);for(A=z(A,2),E=z(E,2);!x(A);){var w=C.add(A);0>=w.l(T)&&(I=I.add(E),C=w),A=z(A,1),E=z(E,1)}return y=S(T,I.j(y)),new R(I,y)}for(I=g;0<=T.l(y);){for(E=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=h(E),w=C.j(y);M(w)||0<w.l(T);)E-=A,C=h(E),w=C.j(y);x(C)&&(C=m),I=I.add(C),T=S(T,w)}return new R(I,T)}e.A=function(T){return N(this,T).h},e.and=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)&T.i(A);return new a(E,this.h&T.h)},e.or=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)|T.i(A);return new a(E,this.h|T.h)},e.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),E=[],A=0;A<y;A++)E[A]=this.i(A)^T.i(A);return new a(E,this.h^T.h)};function U(T){for(var y=T.g.length+1,E=[],A=0;A<y;A++)E[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(E,T.h)}function z(T,y){var E=y>>5;y%=32;for(var A=T.g.length-E,I=[],C=0;C<A;C++)I[C]=0<y?T.i(C+E)>>>y|T.i(C+E+1)<<32-y:T.i(C+E);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,n1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,tr=a}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i1,Ka,r1,Au,vd,s1,a1,o1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var D=o[p];if(!(D in f))break t;f=f[D]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,D={next:function(){if(!p&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),o.apply(c,D)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,D,O){for(var j=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)j[Mt-2]=arguments[Mt];return c.prototype[D].apply(p,j)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function V(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const D=o.length||0,O=p.length||0;o.length=D+O;for(let j=0;j<O;j++)o[D+j]=p[j]}else o.push(p)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function z(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let f,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(f in p)o[f]=p[f];for(let O=0;O<E.length;O++)f=E[O],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function w(){var o=Rt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Q{constructor(){this.h=this.g=null}add(c,f){const p=dt.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var dt=new S(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,Rt=new Q,Bt=()=>{const o=l.Promise.resolve(void 0);W=()=>{o.then(_i)}};var _i=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(f){C(f)}var c=dt;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}J=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Ue(o,c){if(qt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){t:{try{N(c.nodeName);var D=!0;break t}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Xr[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ue.aa.h.call(this)}}x(Ue,qt);var Xr={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),sh=0;function $r(o,c,f,p,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=D,this.key=++sh,this.da=this.fa=!1}function Zr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Sn(o){this.src=o,this.g={},this.h=0}Sn.prototype.add=function(o,c,f,p,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var j=Ea(o,c,p,D);return-1<j?(c=o[j],f||(c.fa=!1)):(c=new $r(c,this.src,O,!!p,D),c.fa=f,o.push(c)),c};function Wr(o,c){var f=c.type;if(f in o.g){var p=o.g[f],D=Array.prototype.indexOf.call(p,c,void 0),O;(O=0<=D)&&Array.prototype.splice.call(p,D,1),O&&(Zr(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Ea(o,c,f,p){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return D}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Aa={};function ba(o,c,f,p,D){if(Array.isArray(c)){for(var O=0;O<c.length;O++)ba(o,c[O],f,p,D);return null}return f=yl(f),o&&o[je]?o.K(c,f,h(p)?!!p.capture:!1,D):ah(o,c,f,!1,p,D)}function ah(o,c,f,p,D,O){if(!c)throw Error("Invalid event type");var j=h(D)?!!D.capture:!!D,Mt=ts(o);if(Mt||(o[Jr]=Mt=new Sn(o)),f=Mt.add(c,f,p,j,O),f.proxy)return f;if(p=Sa(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Le||(D=j),D===void 0&&(D=!1),o.addEventListener(c.toString(),p,D);else if(o.attachEvent)o.attachEvent(pl(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Sa(){function o(f){return c.call(o.src,o.listener,f)}const c=oh;return o}function mt(o,c,f,p,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)mt(o,c[O],f,p,D);else p=h(p)?!!p.capture:!!p,f=yl(f),o&&o[je]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=Ea(O,f,p,D),-1<f&&(Zr(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=ts(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Ea(c,f,p,D)),(f=-1<o?c[o]:null)&&wn(f))}function wn(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[je])Wr(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(pl(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=ts(c))?(Wr(f,o),f.h==0&&(f.src=null,c[Jr]=null)):Zr(o)}}}function pl(o){return o in Aa?Aa[o]:Aa[o]="on"+o}function oh(o,c){if(o.da)o=!0;else{c=new Ue(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&wn(o),o=f.call(p,c)}return o}function ts(o){return o=o[Jr],o instanceof Sn?o:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function yl(o){return typeof o=="function"?o:(o[vi]||(o[vi]=function(c){return o.handleEvent(c)}),o[vi])}function re(){be.call(this),this.i=new Sn(this),this.M=this,this.F=null}x(re,be),re.prototype[je]=!0,re.prototype.removeEventListener=function(o,c,f,p){mt(this,o,c,f,p)};function ge(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new qt(c,o);else if(c instanceof qt)c.target=c.target||o;else{var D=c;c=new qt(p,o),A(c,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var j=c.g=f[O];D=Rn(j,p,!0,c)&&D}if(j=c.g=o,D=Rn(j,p,!0,c)&&D,D=Rn(j,p,!1,c)&&D,f)for(O=0;O<f.length;O++)j=c.g=f[O],D=Rn(j,p,!1,c)&&D}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)Zr(f[p]);delete o.g[c],o.h--}}this.F=null},re.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},re.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Rn(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,O=0;O<c.length;++O){var j=c[O];if(j&&!j.da&&j.capture==f){var Mt=j.listener,pe=j.ha||j.src;j.fa&&Wr(o.i,j),D=Mt.call(pe,p)!==!1&&D}}return D&&!p.defaultPrevented}function _l(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function vl(o){o.g=_l(()=>{o.g=null,o.i&&(o.i=!1,vl(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Tl extends be{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:vl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(o){be.call(this),this.h=o,this.g={}}x(mr,be);var wa=[];function El(o){z(o.g,function(c,f){this.g.hasOwnProperty(f)&&wn(c)},o),o.g={}}mr.prototype.N=function(){mr.aa.N.call(this),El(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=l.JSON.stringify,lh=l.JSON.parse,B=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function F(){}F.prototype.h=null;function et(o){return o.h||(o.h=o.i())}function st(){}var K={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _t(){qt.call(this,"d")}x(_t,qt);function It(){qt.call(this,"c")}x(It,qt);var Et={},gt=null;function St(){return gt=gt||new re}Et.La="serverreachability";function Pt(o){qt.call(this,Et.La,o)}x(Pt,qt);function vt(o){const c=St();ge(c,new Pt(c))}Et.STAT_EVENT="statevent";function Lt(o,c){qt.call(this,Et.STAT_EVENT,o),this.stat=c}x(Lt,qt);function Ot(o){const c=St();ge(c,new Lt(c,o))}Et.Ma="timingevent";function Se(o,c){qt.call(this,Et.Ma,o),this.size=c}x(Se,qt);function ze(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function Ia(o,c,f,p,D,O){o.info(function(){if(o.g)if(O)for(var j="",Mt=O.split("&"),pe=0;pe<Mt.length;pe++){var Tt=Mt[pe].split("=");if(1<Tt.length){var we=Tt[0];Tt=Tt[1];var Re=we.split("_");j=2<=Re.length&&Re[1]=="type"?j+(we+"="+Tt+"&"):j+(we+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+c+`
`+f+`
`+j})}function Al(o,c,f,p,D,O,j){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+c+`
`+f+`
`+O+" "+j})}function es(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+GA(o,f)+(p?" "+p:"")})}function FA(o,c){o.info(function(){return"TIMEOUT: "+c})}sn.prototype.info=function(){};function GA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return Ra(f)}catch{return c}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uh;function Sl(){}x(Sl,F),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},uh=new Sl;function Ti(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dg}function Dg(){this.i=null,this.g="",this.h=!1}var Ng={},ch={};function hh(o,c,f){o.L=1,o.v=Cl(qn(c)),o.m=f,o.P=!0,xg(o,null)}function xg(o,c){o.F=Date.now(),wl(o),o.A=qn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Gg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Dg,o.g=up(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Tl(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(wa[0]=D.toString()),D=wa);for(var O=0;O<D.length;O++){var j=ba(f,D[O],p||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),vt(),Ia(o.i,o.u,o.A,o.l,o.R,o.m)}Ti.prototype.ca=function(o){o=o.target;const c=this.M;c&&Hn(o)==3?c.j():this.Y(o)},Ti.prototype.Y=function(o){try{if(o==this.g)t:{const Re=Hn(this.g);var c=this.g.Ba();const rs=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Wg(this.g)))){this.J||Re!=4||c==7||(c==8||0>=rs?vt(3):vt(2)),fh(this);var f=this.g.Z();this.X=f;e:if(Og(this)){var p=Wg(this.g);o="";var D=p.length,O=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Ca(this);var j="";break e}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(O&&c==D-1)});p.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,Al(this.i,this.u,this.A,this.l,this.R,Re,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,pe=this.g;if((Mt=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Mt)){var Tt=Mt;break e}}Tt=null}if(f=Tt)es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,f);else{this.o=!1,this.s=3,Ot(12),gr(this),Ca(this);break t}}if(this.P){f=!0;let yn;for(;!this.J&&this.C<j.length;)if(yn=QA(this,j),yn==ch){Re==4&&(this.s=4,Ot(14),f=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Ng){this.s=4,Ot(15),es(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else es(this.i,this.l,yn,null),dh(this,yn);if(Og(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||j.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)es(this.i,this.l,j,"[Invalid Chunked Response]"),gr(this),Ca(this);else if(0<j.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),vh(we),we.M=!0,Ot(11))}}else es(this.i,this.l,j,null),dh(this,j);Re==4&&gr(this),this.o&&!this.J&&(Re==4?sp(this.j,this):(this.o=!1,wl(this)))}else ub(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),gr(this),Ca(this)}}}catch{}finally{}};function Og(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function QA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?ch:(f=Number(c.substring(f,p)),isNaN(f)?Ng:(p+=1,p+f>c.length?ch:(c=c.slice(p,p+f),o.C=p+f,c)))}Ti.prototype.cancel=function(){this.J=!0,gr(this)};function wl(o){o.S=Date.now()+o.I,Mg(o,o.I)}function Mg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ze(m(o.ba,o),c)}function fh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Ti.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(FA(this.i,this.A),this.L!=2&&(vt(),Ot(17)),gr(this),this.s=2,Ca(this)):Mg(this,this.S-o)};function Ca(o){o.j.G==0||o.J||sp(o.j,o)}function gr(o){fh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,El(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function dh(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||mh(f.h,o))){if(!o.K&&mh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)Vl(f),Ol(f);else break t;_h(f),Ot(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=ze(m(f.Za,f),6e3));if(1>=Pg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yr(f,11)}else if((o.K||f.g==o)&&Vl(f),!v(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let Tt=D[c];if(f.T=Tt[0],Tt=Tt[1],f.G==2)if(Tt[0]=="c"){f.K=Tt[1],f.ia=Tt[2];const we=Tt[3];we!=null&&(f.la=we,f.j.info("VER="+f.la));const Re=Tt[4];Re!=null&&(f.Aa=Re,f.j.info("SVER="+f.Aa));const rs=Tt[5];rs!=null&&typeof rs=="number"&&0<rs&&(p=1.5*rs,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const yn=o.g;if(yn){const Pl=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var O=p.h;O.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(gh(O,O.h),O.h=null))}if(p.D){const Th=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(p.ya=Th,Ut(p.I,p.D,Th))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var j=o;if(p.qa=lp(p,p.J?p.ia:null,p.W),j.K){Lg(p.h,j);var Mt=j,pe=p.L;pe&&(Mt.I=pe),Mt.B&&(fh(Mt),wl(Mt)),p.g=j}else ip(p);0<f.i.length&&Ml(f)}else Tt[0]!="stop"&&Tt[0]!="close"||yr(f,7);else f.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?yr(f,7):yh(f):Tt[0]!="noop"&&f.l&&f.l.ta(Tt),f.v=0)}}vt(4)}catch{}}var YA=class{constructor(o,c){this.g=o,this.map=c}};function Vg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Pg(o){return o.h?1:o.g?o.g.size:0}function mh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function gh(o,c){o.g?o.g.add(c):o.h=c}function Lg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Vg.prototype.cancel=function(){if(this.i=Ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ug(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function KA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function XA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function jg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=XA(o),p=KA(o),D=p.length,O=0;O<D;O++)c.call(void 0,p[O],f&&f[O],o)}var zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $A(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),D=null;if(0<=p){var O=o[f].substring(0,p);D=o[f].substring(p+1)}else O=o[f];c(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function pr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof pr){this.h=o.h,Rl(this,o.j),this.o=o.o,this.g=o.g,Il(this,o.s),this.l=o.l;var c=o.i,f=new xa;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Bg(this,f),this.m=o.m}else o&&(c=String(o).match(zg))?(this.h=!1,Rl(this,c[1]||"",!0),this.o=Da(c[2]||""),this.g=Da(c[3]||"",!0),Il(this,c[4]),this.l=Da(c[5]||"",!0),Bg(this,c[6]||"",!0),this.m=Da(c[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}pr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Na(c,qg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Na(c,qg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Na(f,f.charAt(0)=="/"?JA:WA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Na(f,eb)),o.join("")};function qn(o){return new pr(o)}function Rl(o,c,f){o.j=f?Da(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Il(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Bg(o,c,f){c instanceof xa?(o.i=c,nb(o.i,o.h)):(f||(c=Na(c,tb)),o.i=new xa(c,o.h))}function Ut(o,c,f){o.i.set(c,f)}function Cl(o){return Ut(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Da(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Na(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,ZA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ZA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qg=/[#\/\?@]/g,WA=/[#\?:]/g,JA=/[#\?]/g,tb=/[#\?@]/g,eb=/#/g;function xa(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Ei(o){o.g||(o.g=new Map,o.h=0,o.i&&$A(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=xa.prototype,e.add=function(o,c){Ei(this),this.i=null,o=ns(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Hg(o,c){Ei(o),c=ns(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Fg(o,c){return Ei(o),c=ns(o,c),o.g.has(c)}e.forEach=function(o,c){Ei(this),this.g.forEach(function(f,p){f.forEach(function(D){o.call(c,D,p,this)},this)},this)},e.na=function(){Ei(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const D=o[p];for(let O=0;O<D.length;O++)f.push(c[p])}return f},e.V=function(o){Ei(this);let c=[];if(typeof o=="string")Fg(this,o)&&(c=c.concat(this.g.get(ns(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Ei(this),this.i=null,o=ns(this,o),Fg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Gg(o,c,f){Hg(o,c),0<f.length&&(o.i=null,o.g.set(ns(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const O=encodeURIComponent(String(p)),j=this.V(p);for(p=0;p<j.length;p++){var D=O;j[p]!==""&&(D+="="+encodeURIComponent(String(j[p]))),o.push(D)}}return this.i=o.join("&")};function ns(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function nb(o,c){c&&!o.j&&(Ei(o),o.i=null,o.g.forEach(function(f,p){var D=p.toLowerCase();p!=D&&(Hg(this,p),Gg(this,D,f))},o)),o.j=c}function ib(o,c){const f=new sn;if(l.Image){const p=new Image;p.onload=_(Ai,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(Ai,f,"TestLoadImage: error",!1,c,p),p.onabort=_(Ai,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(Ai,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function rb(o,c){const f=new sn,p=new AbortController,D=setTimeout(()=>{p.abort(),Ai(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(O=>{clearTimeout(D),O.ok?Ai(f,"TestPingServer: ok",!0,c):Ai(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),Ai(f,"TestPingServer: error",!1,c)})}function Ai(o,c,f,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(f)}catch{}}function sb(){this.g=new B}function ab(o,c,f){const p=f||"";try{jg(o,function(D,O){let j=D;h(D)&&(j=Ra(D)),c.push(p+O+"="+encodeURIComponent(j))})}catch(D){throw c.push(p+"type="+encodeURIComponent("_badmap")),D}}function Dl(o){this.l=o.Ub||null,this.j=o.eb||!1}x(Dl,F),Dl.prototype.g=function(){return new Nl(this.l,this.j)},Dl.prototype.i=function(o){return function(){return o}}({});function Nl(o,c){re.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Nl,re),e=Nl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Ma(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Oa(this):Ma(this),this.readyState==3&&Qg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Oa(this))},e.Qa=function(o){this.g&&(this.response=o,Oa(this))},e.ga=function(){this.g&&Oa(this)};function Oa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ma(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Ma(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yg(o){let c="";return z(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function ph(o,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Yg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ut(o,c,f))}function Kt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Kt,re);var ob=/^https?$/i,lb=["POST","PUT"];e=Kt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uh.g(),this.v=this.o?et(this.o):et(uh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Kg(this,O);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)f.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lb,c,void 0))||p||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Kg(this,O)}};function Kg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Xg(o),xl(o)}function Xg(o){o.A||(o.A=!0,ge(o,"complete"),ge(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ge(this,"complete"),ge(this,"abort"),xl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xl(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$g(this):this.bb())},e.bb=function(){$g(this)};function $g(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Hn(o)!=4||o.Z()!=2)){if(o.u&&Hn(o)==4)_l(o.Ea,0,o);else if(ge(o,"readystatechange"),Hn(o)==4){o.h=!1;try{const j=o.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=j===0){var D=String(o.D).match(zg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),p=!ob.test(D?D.toLowerCase():"")}f=p}if(f)ge(o,"complete"),ge(o,"success");else{o.m=6;try{var O=2<Hn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Xg(o)}}finally{xl(o)}}}}function xl(o,c){if(o.g){Zg(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ge(o,"ready");try{f.onreadystatechange=p}catch{}}}function Zg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Hn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),lh(c)}};function Wg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ub(o){const c={};o=(o.g&&2<=Hn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(v(o[p]))continue;var f=I(o[p]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[D]||[];c[D]=O,O.push(f)}T(c,function(p){return p.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Jg(o){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,o),this.cb=Va("retryDelaySeedMs",1e4,o),this.Wa=Va("forwardChannelMaxRetries",2,o),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Vg(o&&o.concurrentRequestLimit),this.Da=new sb,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Jg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,p){Ot(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=lp(this,null,this.W),Ml(this)};function yh(o){if(tp(o),o.G==3){var c=o.U++,f=qn(o.I);if(Ut(f,"SID",o.K),Ut(f,"RID",c),Ut(f,"TYPE","terminate"),ka(o,f),c=new Ti(o,o.j,c),c.L=2,c.v=Cl(qn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=up(c.j,null),c.g.ea(c.v)),c.F=Date.now(),wl(c)}op(o)}function Ol(o){o.g&&(vh(o),o.g.cancel(),o.g=null)}function tp(o){Ol(o),o.u&&(l.clearTimeout(o.u),o.u=null),Vl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Ml(o){if(!kg(o.h)&&!o.s){o.s=!0;var c=o.Ga;W||Bt(),J||(W(),J=!0),Rt.add(c,o),o.B=0}}function cb(o,c){return Pg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ze(m(o.Ga,o,c),ap(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new Ti(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=np(this,D,c),f=qn(this.I),Ut(f,"RID",o),Ut(f,"CVER",22),this.D&&Ut(f,"X-HTTP-Session-Id",this.D),ka(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(Yg(O)))+"&"+c:this.m&&ph(f,this.m,O)),gh(this.h,D),this.Ua&&Ut(f,"TYPE","init"),this.P?(Ut(f,"$req",c),Ut(f,"SID","null"),D.T=!0,hh(D,f,null)):hh(D,f,c),this.G=2}}else this.G==3&&(o?ep(this,o):this.i.length==0||kg(this.h)||ep(this))};function ep(o,c){var f;c?f=c.l:f=o.U++;const p=qn(o.I);Ut(p,"SID",o.K),Ut(p,"RID",f),Ut(p,"AID",o.T),ka(o,p),o.m&&o.o&&ph(p,o.m,o.o),f=new Ti(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=np(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),gh(o.h,f),hh(f,p,c)}function ka(o,c){o.H&&z(o.H,function(f,p){Ut(c,p,f)}),o.l&&jg({},function(f,p){Ut(c,p,f)})}function np(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const j=["count="+f];O==-1?0<f?(O=D[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let Mt=!0;for(let pe=0;pe<f;pe++){let Tt=D[pe].g;const we=D[pe].map;if(Tt-=O,0>Tt)O=Math.max(0,D[pe].g-100),Mt=!1;else try{ab(we,j,"req"+Tt+"_")}catch{p&&p(we)}}if(Mt){p=j.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,p}function ip(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;W||Bt(),J||(W(),J=!0),Rt.add(c,o),o.v=0}}function _h(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ze(m(o.Fa,o),ap(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,rp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ze(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Ol(this),rp(this))};function vh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function rp(o){o.g=new Ti(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=qn(o.qa);Ut(c,"RID","rpc"),Ut(c,"SID",o.K),Ut(c,"AID",o.T),Ut(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ut(c,"TO",o.ja),Ut(c,"TYPE","xmlhttp"),ka(o,c),o.m&&o.o&&ph(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Cl(qn(c)),f.m=null,f.P=!0,xg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Ol(this),_h(this),Ot(19))};function Vl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function sp(o,c){var f=null;if(o.g==c){Vl(o),vh(o),o.g=null;var p=2}else if(mh(o.h,c))f=c.D,Lg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=o.B;p=St(),ge(p,new Se(p,f)),Ml(o)}else ip(o);else if(D=c.s,D==3||D==0&&0<c.X||!(p==1&&cb(o,c)||p==2&&_h(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),D){case 1:yr(o,5);break;case 4:yr(o,10);break;case 3:yr(o,6);break;default:yr(o,2)}}}function ap(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function yr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const D=!p;p=new pr(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rl(p,"https"),Cl(p),D?ib(p.toString(),f):rb(p.toString(),f)}else Ot(2);o.G=0,o.l&&o.l.sa(c),op(o),tp(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function op(o){if(o.G=0,o.ka=[],o.l){const c=Ug(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function lp(o,c,f){var p=f instanceof pr?qn(f):new pr(f);if(p.g!="")c&&(p.g=c+"."+p.g),Il(p,p.s);else{var D=l.location;p=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var O=new pr(null);p&&Rl(O,p),c&&(O.g=c),D&&Il(O,D),f&&(O.l=f),p=O}return f=o.D,c=o.ya,f&&c&&Ut(p,f,c),Ut(p,"VER",o.la),ka(o,p),p}function up(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Kt(new Dl({eb:f})):new Kt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function cp(){}e=cp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function kl(){}kl.prototype.g=function(o,c){return new Ke(o,c)};function Ke(o,c){re.call(this),this.g=new Jg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new is(this)}x(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){yh(this.g)},Ke.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Ra(o),o=f);c.i.push(new YA(c.Ya++,o)),c.G==3&&Ml(c)},Ke.prototype.N=function(){this.g.l=null,delete this.j,yh(this.g),delete this.g,Ke.aa.N.call(this)};function hp(o){_t.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}x(hp,_t);function fp(){It.call(this),this.status=1}x(fp,It);function is(o){this.g=o}x(is,cp),is.prototype.ua=function(){ge(this.g,"a")},is.prototype.ta=function(o){ge(this.g,new hp(o))},is.prototype.sa=function(o){ge(this.g,new fp)},is.prototype.ra=function(){ge(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,o1=function(){return new kl},a1=function(){return St()},s1=Et,vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,Au=bl,Cg.COMPLETE="complete",r1=Cg,st.EventType=K,K.OPEN="a",K.CLOSE="b",K.ERROR="c",K.MESSAGE="d",re.prototype.listen=re.prototype.K,Ka=st,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,i1=Kt}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",m_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ce.UNAUTHENTICATED=new Ce(null),Ce.GOOGLE_CREDENTIALS=new Ce("google-credentials-uid"),Ce.FIRST_PARTY=new Ce("first-party-uid"),Ce.MOCK_USER=new Ce("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Lm("@firebase/firestore");function hs(){return jr.logLevel}function H(e,...t){if(jr.logLevel<=ht.DEBUG){const n=t.map(Xm);jr.debug(`Firestore (${pa}): ${e}`,...n)}}function mi(e,...t){if(jr.logLevel<=ht.ERROR){const n=t.map(Xm);jr.error(`Firestore (${pa}): ${e}`,...n)}}function Ws(e,...t){if(jr.logLevel<=ht.WARN){const n=t.map(Xm);jr.warn(`Firestore (${pa}): ${e}`,...n)}}function Xm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,l1(e,i,n)}function l1(e,t,n){let i=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw mi(i),new Error(i)}function wt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||l1(t,r,i)}function rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ce.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZC{constructor(t){this.t=t,this.currentUser=Ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){wt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new er,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new er)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string",31837,{l:i}),new u1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wt(t===null||typeof t=="string",2055,{h:t}),new Ce(t)}}class WC{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ce.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ce.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){wt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=eD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function ot(e,t){return e<t?-1:e>t?1:0}function Td(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return ot(i,r);{const s=c1(),a=nD(s.encode(p_(e,n)),s.encode(p_(t,n)));return a!==0?a:ot(i,r)}}n+=i>65535?2:1}return ot(e.length,t.length)}function p_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function nD(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ot(e[n],t[n]);return ot(e.length,t.length)}function Js(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,__=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*__);return new oe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<y_)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-y_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(t){return new it(t)}static min(){return new it(new oe(0,0))}static max(){return new it(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class Cn{constructor(t,n,i){n===void 0?n=0:n>t.length&&$(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&$(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Cn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Cn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=Cn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return ot(t.length,n.length)}static compareSegments(t,n){const i=Cn.isNumericId(t),r=Cn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Cn.extractNumericId(t).compare(Cn.extractNumericId(n)):Td(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class jt extends Cn{construct(t,n,i){return new jt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends Cn{construct(t,n,i){return new Te(t,n,i)}static isValidIdentifier(t){return iD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Te([v_])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new G(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(n)}static emptyPath(){return new Te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(jt.fromString(t))}static fromName(t){return new X(jt.fromString(t).popFirst(5))}static empty(){return new X(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=-1;function rD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=it.fromTimestamp(i===1e9?new oe(n+1,0):new oe(n,i));return new ar(r,X.empty(),t)}function sD(e){return new ar(e.readTime,e.key,Po)}class ar{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ar(it.min(),X.empty(),Po)}static max(){return new ar(it.max(),X.empty(),Po)}}function aD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==oD)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function uD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Gc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Qc(e){return e==null}function fc(e){return e===0&&1/e==-1/0}function cD(e){return typeof e=="number"&&Number.isInteger(e)&&!fc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="";function hD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=T_(t)),t=fD(e.get(n),t);return T_(t)}function fD(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case f1:n+="";break;default:n+=s}}return n}function T_(e){return e+f1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function d1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){this.comparator=t,this.root=n||_e.EMPTY}insert(t,n){return new Yt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_e.BLACK,null,null))}remove(t){return new Yt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tu(this.root,t,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tu(this.root,t,this.comparator,!0)}}class tu{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _e{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??_e.RED,this.left=r??_e.EMPTY,this.right=s??_e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new _e(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return _e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw $(27949);return t+(this.isRed()?0:1)}}_e.EMPTY=null,_e.RED=!0,_e.BLACK=!1;_e.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new _e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.comparator=t,this.data=new Yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(t){return new A_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof le)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new le(this.comparator);return n.data=t,n}}class A_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new Tn([])}unionWith(t){let n=new le(Te.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Js(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new m1("Invalid base64 string: "+s):s}}(t);return new Ae(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new Ae(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ae.EMPTY_BYTE_STRING=new Ae("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(e){if(wt(!!e,39018),typeof e=="string"){let t=0;const n=dD.exec(e);if(wt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jt(e.seconds),nanos:Jt(e.nanos)}}function Jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function lr(e){return typeof e=="string"?Ae.fromBase64String(e):Ae.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="server_timestamp",p1="__type__",y1="__previous_value__",_1="__local_write_time__";function Zm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[p1])===null||n===void 0?void 0:n.stringValue)===g1}function Yc(e){const t=e.mapValue.fields[y1];return Zm(t)?Yc(t):t}function Lo(e){const t=or(e.mapValue.fields[_1].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const dc="(default)";class Uo{constructor(t,n){this.projectId=t,this.database=n||dc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===dc}isEqual(t){return t instanceof Uo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="__type__",gD="__max__",eu={mapValue:{}},T1="__vector__",mc="value";function ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zm(e)?4:yD(e)?9007199254740991:pD(e)?10:11:$(28295,{value:e})}function jn(e,t){if(e===t)return!0;const n=ur(e);if(n!==ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lo(e).isEqual(Lo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=or(r.timestampValue),l=or(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return lr(r.bytesValue).isEqual(lr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Jt(r.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(r.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Jt(r.integerValue)===Jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Jt(r.doubleValue),l=Jt(s.doubleValue);return a===l?fc(a)===fc(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Js(e.arrayValue.values||[],t.arrayValue.values||[],jn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(E_(a)!==E_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!jn(a[u],l[u])))return!1;return!0}(e,t);default:return $(52216,{left:e})}}function jo(e,t){return(e.values||[]).find(n=>jn(n,t))!==void 0}function ta(e,t){if(e===t)return 0;const n=ur(e),i=ur(t);if(n!==i)return ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Jt(s.integerValue||s.doubleValue),u=Jt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return b_(e.timestampValue,t.timestampValue);case 4:return b_(Lo(e),Lo(t));case 5:return Td(e.stringValue,t.stringValue);case 6:return function(s,a){const l=lr(s),u=lr(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ot(l[h],u[h]);if(d!==0)return d}return ot(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=ot(Jt(s.latitude),Jt(a.latitude));return l!==0?l:ot(Jt(s.longitude),Jt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return S_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[mc])===null||l===void 0?void 0:l.arrayValue,x=(u=m[mc])===null||u===void 0?void 0:u.arrayValue,M=ot(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:S_(_,x)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===eu.mapValue&&a===eu.mapValue)return 0;if(s===eu.mapValue)return 1;if(a===eu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=Td(u[g],d[g]);if(m!==0)return m;const _=ta(l[u[g]],h[d[g]]);if(_!==0)return _}return ot(u.length,d.length)}(e.mapValue,t.mapValue);default:throw $(23264,{Pe:n})}}function b_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=or(e),i=or(t),r=ot(n.seconds,i.seconds);return r!==0?r:ot(n.nanos,i.nanos)}function S_(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ta(n[r],i[r]);if(s)return s}return ot(n.length,i.length)}function ea(e){return Ed(e)}function Ed(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=or(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return lr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Ed(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Ed(n.fields[a])}`;return r+"}"}(e.mapValue):$(61005,{value:e})}function bu(e){switch(ur(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yc(e);return t?16+bu(t):16;case 5:return 2*e.stringValue.length;case 6:return lr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+bu(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Gr(i.fields,(s,a)=>{r+=s.length+bu(a)}),r}(e.mapValue);default:throw $(13486,{value:e})}}function w_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ad(e){return!!e&&"integerValue"in e}function Wm(e){return!!e&&"arrayValue"in e}function R_(e){return!!e&&"nullValue"in e}function I_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Su(e){return!!e&&"mapValue"in e}function pD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[v1])===null||n===void 0?void 0:n.stringValue)===T1}function po(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=po(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=po(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Su(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=po(n)}setAll(t){let n=Te.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=po(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Gr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new dn(po(this.value))}}function E1(e){const t=[];return Gr(e.fields,(n,i)=>{const r=new Te([n]);if(Su(i)){const s=E1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new De(t,0,it.min(),it.min(),it.min(),dn.empty(),0)}static newFoundDocument(t,n,i,r){return new De(t,1,n,it.min(),i,r,0)}static newNoDocument(t,n){return new De(t,2,n,it.min(),it.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new De(t,3,n,it.min(),it.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof De&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.position=t,this.inclusive=n}}function C_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=X.comparator(X.fromName(a.referenceValue),n.key):i=ta(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function D_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n="asc"){this.field=t,this.dir=n}}function _D(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class ne extends A1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new TD(t,n,i):n==="array-contains"?new bD(t,i):n==="in"?new SD(t,i):n==="not-in"?new wD(t,i):n==="array-contains-any"?new RD(t,i):new ne(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new ED(t,i):new AD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends A1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new An(t,n)}matches(t){return b1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function b1(e){return e.op==="and"}function S1(e){return vD(e)&&b1(e)}function vD(e){for(const t of e.filters)if(t instanceof An)return!1;return!0}function bd(e){if(e instanceof ne)return e.field.canonicalString()+e.op.toString()+ea(e.value);if(S1(e))return e.filters.map(t=>bd(t)).join(",");{const t=e.filters.map(n=>bd(n)).join(",");return`${e.op}(${t})`}}function w1(e,t){return e instanceof ne?function(i,r){return r instanceof ne&&i.op===r.op&&i.field.isEqual(r.field)&&jn(i.value,r.value)}(e,t):e instanceof An?function(i,r){return r instanceof An&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&w1(a,r.filters[l]),!0):!1}(e,t):void $(19439)}function R1(e){return e instanceof ne?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(e):e instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"}(e):"Filter"}class TD extends ne{constructor(t,n,i){super(t,n,i),this.key=X.fromName(i.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class ED extends ne{constructor(t,n){super(t,"in",n),this.keys=I1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class AD extends ne{constructor(t,n){super(t,"not-in",n),this.keys=I1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function I1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>X.fromName(i.referenceValue))}class bD extends ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wm(n)&&jo(n.arrayValue,this.value)}}class SD extends ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jo(this.value.arrayValue,n)}}class wD extends ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jo(this.value.arrayValue,n)}}class RD extends ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>jo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function N_(e,t=null,n=[],i=[],r=null,s=null,a=null){return new ID(e,t,n,i,r,s,a)}function Jm(e){const t=rt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>bd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ea(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ea(i)).join(",")),t.Ie=n}return t.Ie}function tg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_D(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!w1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!D_(e.startAt,t.startAt)&&D_(e.endAt,t.endAt)}function Sd(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CD(e,t,n,i,r,s,a,l){return new hl(e,t,n,i,r,s,a,l)}function Kc(e){return new hl(e)}function x_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function C1(e){return e.collectionGroup!==null}function yo(e){const t=rt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new le(Te.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new pc(s,i))}),n.has(Te.keyField().canonicalString())||t.Ee.push(new pc(Te.keyField(),i))}return t.Ee}function Pn(e){const t=rt(e);return t.de||(t.de=DD(t,yo(e))),t.de}function DD(e,t){if(e.limitType==="F")return N_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new pc(r.field,s)});const n=e.endAt?new gc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gc(e.startAt.position,e.startAt.inclusive):null;return N_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function wd(e,t){const n=e.filters.concat([t]);return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rd(e,t,n){return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xc(e,t){return tg(Pn(e),Pn(t))&&e.limitType===t.limitType}function D1(e){return`${Jm(Pn(e))}|lt:${e.limitType}`}function fs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>R1(r)).join(", ")}]`),Qc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ea(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ea(r)).join(",")),`Target(${i})`}(Pn(e))}; limitType=${e.limitType})`}function $c(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):X.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of yo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=C_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,yo(i),r)||i.endAt&&!function(a,l,u){const h=C_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,yo(i),r))}(e,t)}function ND(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function N1(e){return(t,n)=>{let i=!1;for(const r of yo(e)){const s=xD(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function xD(e,t,n){const i=e.field.isKeyField()?X.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?ta(u,h):$(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return $(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Yt(X.comparator);function gi(){return OD}const x1=new Yt(X.comparator);function Xa(...e){let t=x1;for(const n of e)t=t.insert(n.key,n);return t}function O1(e){let t=x1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Sr(){return _o()}function M1(){return _o()}function _o(){return new Qr(e=>e.toString(),(e,t)=>e.isEqual(t))}const MD=new Yt(X.comparator),VD=new le(X.comparator);function ft(...e){let t=VD;for(const n of e)t=t.add(n);return t}const kD=new le(ot);function PD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(t)?"-0":t}}function V1(e){return{integerValue:""+e}}function LD(e,t){return cD(t)?V1(t):eg(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this._=void 0}}function UD(e,t,n){return e instanceof yc?function(r,s){const a={fields:{[p1]:{stringValue:g1},[_1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Zm(s)&&(s=Yc(s)),s&&(a.fields[y1]=s),{mapValue:a}}(n,t):e instanceof zo?P1(e,t):e instanceof Bo?L1(e,t):function(r,s){const a=k1(r,s),l=O_(a)+O_(r.Re);return Ad(a)&&Ad(r.Re)?V1(l):eg(r.serializer,l)}(e,t)}function jD(e,t,n){return e instanceof zo?P1(e,t):e instanceof Bo?L1(e,t):n}function k1(e,t){return e instanceof _c?function(i){return Ad(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class yc extends Zc{}class zo extends Zc{constructor(t){super(),this.elements=t}}function P1(e,t){const n=U1(t);for(const i of e.elements)n.some(r=>jn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Bo extends Zc{constructor(t){super(),this.elements=t}}function L1(e,t){let n=U1(t);for(const i of e.elements)n=n.filter(r=>!jn(r,i));return{arrayValue:{values:n}}}class _c extends Zc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function O_(e){return Jt(e.integerValue||e.doubleValue)}function U1(e){return Wm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zD(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof zo&&r instanceof zo||i instanceof Bo&&r instanceof Bo?Js(i.elements,r.elements,jn):i instanceof _c&&r instanceof _c?jn(i.Re,r.Re):i instanceof yc&&r instanceof yc}(e.transform,t.transform)}class BD{constructor(t,n){this.version=t,this.transformResults=n}}class Ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wc{}function j1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ng(e.key,Ln.none()):new fl(e.key,e.data,Ln.none());{const n=e.data,i=dn.empty();let r=new le(Te.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Yr(e.key,i,new Tn(r.toArray()),Ln.none())}}function qD(e,t,n){e instanceof fl?function(r,s,a){const l=r.value.clone(),u=V_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Yr?function(r,s,a){if(!wu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=V_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(z1(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function vo(e,t,n,i){return e instanceof fl?function(s,a,l,u){if(!wu(s.precondition,a))return l;const h=s.value.clone(),d=k_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Yr?function(s,a,l,u){if(!wu(s.precondition,a))return l;const h=k_(s.fieldTransforms,u,a),d=a.data;return d.setAll(z1(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,a,l){return wu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function HD(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=k1(i.transform,r||null);s!=null&&(n===null&&(n=dn.empty()),n.set(i.field,s))}return n||null}function M_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Js(i,r,(s,a)=>zD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fl extends Wc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yr extends Wc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function z1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function V_(e,t,n){const i=new Map;wt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,jD(a,l,n[r]))}return i}function k_(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,UD(s,a,t))}return i}class ng extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends Wc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&qD(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=vo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=vo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=M1();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=j1(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(it.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ft())}isEqual(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,(n,i)=>M_(n,i))&&Js(this.baseMutations,t.baseMutations,(n,i)=>M_(n,i))}}class ig{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){wt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return MD}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new ig(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te,pt;function KD(e){switch(e){case L.OK:return $(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return $(15467,{code:e})}}function B1(e){if(e===void 0)return mi("GRPC error has no .code"),L.UNKNOWN;switch(e){case te.OK:return L.OK;case te.CANCELLED:return L.CANCELLED;case te.UNKNOWN:return L.UNKNOWN;case te.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case te.INTERNAL:return L.INTERNAL;case te.UNAVAILABLE:return L.UNAVAILABLE;case te.UNAUTHENTICATED:return L.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case te.NOT_FOUND:return L.NOT_FOUND;case te.ALREADY_EXISTS:return L.ALREADY_EXISTS;case te.PERMISSION_DENIED:return L.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case te.ABORTED:return L.ABORTED;case te.OUT_OF_RANGE:return L.OUT_OF_RANGE;case te.UNIMPLEMENTED:return L.UNIMPLEMENTED;case te.DATA_LOSS:return L.DATA_LOSS;default:return $(39323,{code:e})}}(pt=te||(te={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new tr([4294967295,4294967295],0);function P_(e){const t=c1().encode(e),n=new n1;return n.update(t),new Uint8Array(n.digest())}function L_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new tr([n,i],0),new tr([r,s],0)]}class rg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(i<0)throw new $a(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=tr.fromNumber(this.pe)}we(t,n,i){let r=t.add(n.multiply(tr.fromNumber(i)));return r.compare(XD)===1&&(r=new tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=P_(t),[i,r]=L_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);if(!this.be(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new rg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=P_(t),[i,r]=L_(n);for(let s=0;s<this.hashCount;s++){const a=this.we(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,dl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Jc(it.min(),r,new Yt(ot),gi(),ft())}}class dl{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new dl(i,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n,i,r){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=r}}class q1{constructor(t,n){this.targetId=t,this.Ce=n}}class H1{constructor(t,n,i=Ae.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class U_{constructor(){this.Fe=0,this.Me=j_(),this.xe=Ae.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ft(),n=ft(),i=ft();return this.Me.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:$(38017,{changeType:s})}}),new dl(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=j_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $D{constructor(t){this.ze=t,this.je=new Map,this.He=gi(),this.Je=nu(),this.Ye=nu(),this.Ze=new Yt(ot)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:$(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,i=t.Ce.count,r=this._t(n);if(r){const s=r.target;if(Sd(s))if(i===0){const a=new X(s.path);this.tt(n,a,De.newNoDocument(a,it.min()))}else wt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=lr(i).toUint8Array()}catch(u){if(u instanceof m1)return Ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rg(a,r,s)}catch(u){return Ws(u instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,s,null),r++)}),r}It(t){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&Sd(l.target)){const u=new X(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,De.newNoDocument(u,t))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let i=ft();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.He.forEach((s,a)=>a.setReadTime(t));const r=new Jc(t,n,this.Ze,this.He,i);return this.He=gi(),this.Je=nu(),this.Ye=nu(),this.Ze=new Yt(ot),r}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new U_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new le(ot),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new le(ot),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new U_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function nu(){return new Yt(X.comparator)}function j_(){return new Yt(X.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JD={and:"AND",or:"OR"};class t4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Id(e,t){return e.useProto3Json||Qc(t)?t:{value:t}}function vc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function e4(e,t){return vc(e,t.toTimestamp())}function Un(e){return wt(!!e,49232),it.fromTimestamp(function(n){const i=or(n);return new oe(i.seconds,i.nanos)}(e))}function sg(e,t){return Cd(e,t).canonicalString()}function Cd(e,t){const n=function(r){return new jt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function G1(e){const t=jt.fromString(e);return wt($1(t),10190,{key:t.toString()}),t}function Dd(e,t){return sg(e.databaseId,t.path)}function cf(e,t){const n=G1(t);if(n.get(1)!==e.databaseId.projectId)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(Y1(n))}function Q1(e,t){return sg(e.databaseId,t)}function n4(e){const t=G1(e);return t.length===4?jt.emptyPath():Y1(t)}function Nd(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Y1(e){return wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function z_(e,t,n){return{name:Dd(e,t),fields:n.value.mapValue.fields}}function i4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:$(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(wt(d===void 0||typeof d=="string",58123),Ae.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ae.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:B1(h.code);return new G(d,h.message||"")}(a);n=new H1(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=cf(e,i.document.name),s=Un(i.document.updateTime),a=i.document.createTime?Un(i.document.createTime):it.min(),l=new dn({mapValue:{fields:i.document.fields}}),u=De.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Ru(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=cf(e,i.document),s=i.readTime?Un(i.readTime):it.min(),a=De.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Ru([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=cf(e,i.document),s=i.removedTargetIds||[];n=new Ru([],s,r,null)}else{if(!("filter"in t))return $(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new YD(r,s),l=i.targetId;n=new q1(l,a)}}return n}function r4(e,t){let n;if(t instanceof fl)n={update:z_(e,t.key,t.value)};else if(t instanceof ng)n={delete:Dd(e,t.key)};else if(t instanceof Yr)n={update:z_(e,t.key,t.data),updateMask:d4(t.fieldMask)};else{if(!(t instanceof FD))return $(16599,{ft:t.type});n={verify:Dd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof yc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _c)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw $(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:e4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$(27497)}(e,t.precondition)),n}function s4(e,t){return e&&e.length>0?(wt(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?Un(r.updateTime):Un(s);return a.isEqual(it.min())&&(a=Un(s)),new BD(a,r.transformResults||[])}(n,t))):[]}function a4(e,t){return{documents:[Q1(e,t.path)]}}function o4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Q1(e,r);const s=function(h){if(h.length!==0)return X1(An.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:ds(m.field),direction:c4(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Id(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:r}}function l4(e){let t=n4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){wt(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=K1(g);return m instanceof An&&S1(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(x){return new pc(ms(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Qc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new gc(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new gc(_,m)}(n.endAt)),CD(t,r,a,s,l,"F",u,h)}function u4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ms(n.unaryFilter.field);return ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ms(n.unaryFilter.field);return ne.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ms(n.unaryFilter.field);return ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ms(n.unaryFilter.field);return ne.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(e):e.fieldFilter!==void 0?function(n){return ne.create(ms(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(i=>K1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(e):$(30097,{filter:e})}function c4(e){return ZD[e]}function h4(e){return WD[e]}function f4(e){return JD[e]}function ds(e){return{fieldPath:e.canonicalString()}}function ms(e){return Te.fromServerFormat(e.fieldPath)}function X1(e){return e instanceof ne?function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:h4(n.op),value:n.value}}}(e):e instanceof An?function(n){const i=n.getFilters().map(r=>X1(r));return i.length===1?i[0]:{compositeFilter:{op:f4(n.op),filters:i}}}(e):$(54877,{filter:e})}function d4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function $1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n,i,r,s=it.min(),a=it.min(),l=Ae.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.wt=t}}function g4(e){const t=l4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.Cn=new y4}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(ar.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class y4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new le(jt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new le(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class Fe{static withCacheSize(t){return new Fe(t,Fe.DEFAULT_COLLECTION_PERCENTILE,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.DEFAULT_COLLECTION_PERCENTILE=10,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fe.DEFAULT=new Fe(Z1,Fe.DEFAULT_COLLECTION_PERCENTILE,Fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fe.DISABLED=new Fe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new na(0)}static lr(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",_4=1048576;function H_([e,t],[n,i]){const r=ot(e,n);return r===0?ot(t,i):r}class v4{constructor(t){this.Er=t,this.buffer=new le(H_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();H_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(q_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_a(n)?H(q_,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.mr(3e5)})}}class E4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Gc.le);const i=new v4(n);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(B_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),hs()<=ht.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function A4(e,t){return new E4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.changes=new Qr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,De.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&vo(i.mutation,r,Tn.empty(),oe.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ft()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ft()){const r=Sr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Xa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Sr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ft()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=gi();const a=_o(),l=function(){return _o()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Yr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),vo(d.mutation,h,d.mutation.getFieldMask(),oe.now())):a.set(h.key,Tn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new S4(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(t,n){const i=_o();let r=new Yt((a,l)=>a-l),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Tn.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ft()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=M1();d.forEach(m=>{if(!s.has(m)){const _=j1(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(Sr());let l=Po,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,ft())).next(d=>({batchId:l,changes:O1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(i=>{let r=Xa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Xa();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new hl(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,De.newInvalidDocument(d)))});let l=Xa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&vo(d.mutation,h,Tn.empty(),oe.now()),$c(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return k.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:g4(r.bundledQuery),readTime:Un(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.overlays=new Yt(X.comparator),this.Qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Sr();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=Sr(),s=n.length+1,a=new X(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Yt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Sr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Sr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new QD(n,i));let s=this.Qr.get(n);s===void 0&&(s=ft(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.sessionToken=Ae.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.$r=new le(ce.Ur),this.Kr=new le(ce.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ce(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ce(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new X(new jt([])),i=new ce(n,t),r=new ce(n,t+1),s=[];return this.Kr.forEachInRange([i,r],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new X(new jt([])),i=new ce(n,t),r=new ce(n,t+1);let s=ft();return this.Kr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ce(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ce{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return X.comparator(t.key,n.key)||ot(t.Zr,n.Zr)}static Wr(t,n){return ot(t.Zr,n.Zr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new le(ce.Ur)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new GD(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new ce(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?$m:this.nr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ce(n,0),r=new ce(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],a=>{const l=this.ei(a.Zr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new le(ot);return n.forEach(r=>{const s=new ce(r,0),a=new ce(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{i=i.add(l.Zr)})}),k.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;X.isDocumentKey(s)||(s=s.child(""));const a=new ce(new X(s),0);let l=new le(ot);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Zr)),!0)},a),k.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){wt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return k.forEach(n.mutations,r=>{const s=new ce(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ce(n,0),r=this.Xr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.ii=t,this.docs=function(){return new Yt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():De.newInvalidDocument(n))}getEntries(t,n){let i=gi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():De.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=gi();const a=n.path,l=new X(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||aD(sD(d),i)<=0||(r.has(d.key)||$c(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){$(9500)}si(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new x4(this)}getSize(t){return k.resolve(this.size)}}class x4 extends b4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.persistence=t,this.oi=new Qr(n=>Jm(n),tg),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this._i=0,this.ai=new ag,this.targetCount=0,this.ui=na.cr()}forEachTarget(t,n){return this.oi.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),k.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new na(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Tr(n),k.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.ci={},this.overlays={},this.li=new Gc(0),this.hi=!1,this.hi=!0,this.Pi=new C4,this.referenceDelegate=t(this),this.Ti=new O4(this),this.indexManager=new p4,this.remoteDocumentCache=function(r){return new N4(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new m4(n),this.Ei=new R4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new I4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new D4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const r=new M4(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(t,n){return k.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class M4 extends lD{constructor(t){super(),this.currentSequenceNumber=t}}class og{constructor(t){this.persistence=t,this.Vi=new ag,this.mi=null}static fi(t){return new og(t)}get gi(){if(this.mi)return this.mi;throw $(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,i=>{const r=X.fromPath(i);return this.pi(t,r).next(s=>{s||n.removeEntry(r,it.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return k.or([()=>k.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Tc{constructor(t,n){this.persistence=t,this.yi=new Qr(i=>hD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=A4(this,n)}static fi(t,n){return new Tc(t,n)}di(){}Ai(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return k.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(i++,s.removeEntry(a,it.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),k.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bu(t.data.value)),n}Dr(t,n,i){return k.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.ds=i,this.As=r}static Rs(t,n){let i=ft(),r=ft();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new lg(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return I2()?8:uD(Oe())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ws(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new V4;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>s.result)}Ds(t,n,i,r){return i.documentReadCount<this.gs?(hs()<=ht.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(hs()<=ht.DEBUG&&H("QueryEngine","Query:",fs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(hs()<=ht.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pn(n))):k.resolve())}ws(t,n){if(x_(n))return k.resolve(null);let i=Pn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Rd(n,null,"F"),i=Pn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ft(...s);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,Rd(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,i,r){return x_(n)||r.isEqual(it.min())?k.resolve(null):this.ys.getDocuments(t,i).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(hs()<=ht.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fs(n)),this.Fs(t,a,n,rD(r,Po)).next(l=>l))})}vs(t,n){let i=new le(N1(t));return n.forEach((r,s)=>{$c(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return hs()<=ht.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",fs(n)),this.ys.getDocumentsMatchingQuery(t,n,ar.min(),i)}Fs(t,n,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",P4=3e8;class L4{constructor(t,n,i,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Yt(ot),this.Os=new Qr(s=>Jm(s),tg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function U4(e,t,n,i){return new L4(e,t,n,i)}async function J1(e,t){const n=rt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ft();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function j4(e,t){const n=rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=k.resolve();return m.forEach(x=>{_=_.next(()=>d.getEntry(u,x)).next(M=>{const V=h.docVersions.get(x);wt(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ft();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function tA(e){const t=rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function z4(e,t){const n=rt(e),i=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(Ae.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(M,V,S){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=P4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(s,_))});let u=gi(),h=ft();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(B4(s,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(it.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(g=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.xs=r,s))}function B4(e,t,n){let i=ft(),r=ft();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=gi();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(it.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):H(ug,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function q4(e,t){const n=rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function H4(e,t){const n=rt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Ti.allocateTargetId(i).next(a=>(r=new qi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function xd(e,t,n){const i=rt(e),r=i.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!_a(a))throw a;H(ug,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function F_(e,t,n){const i=rt(e);let r=it.min(),s=ft();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=rt(u),m=g.Os.get(d);return m!==void 0?k.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,Pn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?r:it.min(),n?s:ft())).next(l=>(F4(i,ND(t),l),{documents:l,$s:s})))}function F4(e,t,n){let i=e.Ns.get(t)||it.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ns.set(t,i)}class G_{constructor(){this.activeTargetIds=PD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G4{constructor(){this.xo=new G_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new G_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class Y_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(Q_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(Q_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function Od(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="RestConnection",Y4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K4{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===dc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,n,i,r,s){const a=Od(),l=this.jo(t,n.toUriEncodedString());H(hf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,s);const{host:h}=new URL(l),d=da(h);return this.Jo(t,l,u,i,d).then(g=>(H(hf,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Ws(hf,`RPC '${t}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(t,n,i,r,s,a){return this.zo(t,n,i,r,s)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}jo(t,n){const i=Y4[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie="WebChannelConnection";class $4 extends K4{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Od();return new Promise((l,u)=>{const h=new i1;h.setWithCredentials(!0),h.listenOnce(r1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Au.NO_ERROR:const g=h.getResponseJson();H(Ie,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),l(g);break;case Au.TIMEOUT:H(Ie,`RPC '${t}' ${a} timed out`),u(new G(L.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:const m=h.getStatus();if(H(Ie,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_==null?void 0:_.error;if(x&&x.status&&x.message){const M=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(v)>=0?v:L.UNKNOWN}(x.status);u(new G(M,x.message))}else u(new G(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(L.UNAVAILABLE,"Connection failed."));break;default:$(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{H(Ie,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);H(Ie,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}I_(t,n,i){const r=Od(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=o1(),l=a1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(Ie,`Creating RPC '${t}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const x=new X4({Zo:V=>{_?H(Ie,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(m||(H(Ie,`Opening RPC '${t}' stream ${r} transport.`),g.open(),m=!0),H(Ie,`RPC '${t}' stream ${r} sending:`,V),g.send(V))},Xo:()=>g.close()}),M=(V,S,v)=>{V.listen(S,R=>{try{v(R)}catch(N){setTimeout(()=>{throw N},0)}})};return M(g,Ka.EventType.OPEN,()=>{_||(H(Ie,`RPC '${t}' stream ${r} transport opened.`),x.__())}),M(g,Ka.EventType.CLOSE,()=>{_||(_=!0,H(Ie,`RPC '${t}' stream ${r} transport closed`),x.u_(),this.d_(g))}),M(g,Ka.EventType.ERROR,V=>{_||(_=!0,Ws(Ie,`RPC '${t}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),x.u_(new G(L.UNAVAILABLE,"The operation could not be completed")))}),M(g,Ka.EventType.MESSAGE,V=>{var S;if(!_){const v=V.data[0];wt(!!v,16349);const R=v,N=(R==null?void 0:R.error)||((S=R[0])===null||S===void 0?void 0:S.error);if(N){H(Ie,`RPC '${t}' stream ${r} received error:`,N);const U=N.status;let z=function(E){const A=te[E];if(A!==void 0)return B1(A)}(U),T=N.message;z===void 0&&(z=L.INTERNAL,T="Unknown error status: "+U+" with message "+N.message),_=!0,x.u_(new G(z,T)),g.close()}else H(Ie,`RPC '${t}' stream ${r} received:`,v),x.c_(v)}}),M(l,s1.STAT_EVENT,V=>{V.stat===vd.PROXY?H(Ie,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===vd.NOPROXY&&H(Ie,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){return new t4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,n,i=1e3,r=1.5,s=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="PersistentStream";class nA{constructor(t,n,i,r,s,a,l,u){this.xi=t,this.S_=i,this.D_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new eA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===n&&this.z_(i,r)},i=>{t(()=>{const r=new G(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(K_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(K_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z4 extends nA{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=i4(this.serializer,t),i=function(s){if(!("targetChange"in s))return it.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?it.min():a.readTime?Un(a.readTime):it.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Nd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Sd(u)?{documents:a4(s,u)}:{query:o4(s,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=F1(s,a.resumeToken);const h=Id(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(it.min())>0){l.readTime=vc(s,a.snapshotVersion.toTimestamp());const h=Id(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=u4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Nd(this.serializer),n.removeTarget=t,this.Q_(n)}}class W4 extends nA{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=s4(t.writeResults,t.commitTime),i=Un(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Nd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>r4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class tN extends J4{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(t,Cd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(L.UNKNOWN,s.toString())})}Yo(t,n,i,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Cd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class eN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mi(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="RemoteStore";class nN{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Kr(this)&&(H(zr,"Restarting streams for network reachability change."),await async function(u){const h=rt(u);h.da.add(4),await ml(h),h.Va.set("Unknown"),h.da.delete(4),await eh(h)}(this))})}),this.Va=new eN(i,r)}}async function eh(e){if(Kr(e))for(const t of e.Aa)await t(!0)}async function ml(e){for(const t of e.Aa)await t(!1)}function iA(e,t){const n=rt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),dg(n)?fg(n):va(n).N_()&&hg(n,t))}function cg(e,t){const n=rt(e),i=va(n);n.Ea.delete(t),i.N_()&&rA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Kr(n)&&n.Va.set("Unknown"))}function hg(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}va(e).Z_(t)}function rA(e,t){e.ma.Ke(t),va(e).X_(t)}function fg(e){e.ma=new $D({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),va(e).start(),e.Va.ca()}function dg(e){return Kr(e)&&!va(e).O_()&&e.Ea.size>0}function Kr(e){return rt(e).da.size===0}function sA(e){e.ma=void 0}async function iN(e){e.Va.set("Online")}async function rN(e){e.Ea.forEach((t,n)=>{hg(e,t)})}async function sN(e,t){sA(e),dg(e)?(e.Va.Pa(t),fg(e)):e.Va.set("Unknown")}async function aN(e,t,n){if(e.Va.set("Online"),t instanceof H1&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(i){H(zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ec(e,i)}else if(t instanceof Ru?e.ma.Xe(t):t instanceof q1?e.ma.ot(t):e.ma.nt(t),!n.isEqual(it.min()))try{const i=await tA(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ea.get(h);d&&s.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ea.get(u);if(!d)return;s.Ea.set(u,d.withResumeToken(Ae.EMPTY_BYTE_STRING,d.snapshotVersion)),rA(s,u);const g=new qi(d.target,u,h,d.sequenceNumber);hg(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){H(zr,"Failed to raise snapshot:",i),await Ec(e,i)}}async function Ec(e,t,n){if(!_a(t))throw t;e.da.add(1),await ml(e),e.Va.set("Offline"),n||(n=()=>tA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(zr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await eh(e)})}function aA(e,t){return t().catch(n=>Ec(e,n,t))}async function nh(e){const t=rt(e),n=cr(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:$m;for(;oN(t);)try{const r=await q4(t.localStore,i);if(r===null){t.Ia.length===0&&n.k_();break}i=r.batchId,lN(t,r)}catch(r){await Ec(t,r)}oA(t)&&lA(t)}function oN(e){return Kr(e)&&e.Ia.length<10}function lN(e,t){e.Ia.push(t);const n=cr(e);n.N_()&&n.ea&&n.ta(t.mutations)}function oA(e){return Kr(e)&&!cr(e).O_()&&e.Ia.length>0}function lA(e){cr(e).start()}async function uN(e){cr(e).ia()}async function cN(e){const t=cr(e);for(const n of e.Ia)t.ta(n.mutations)}async function hN(e,t,n){const i=e.Ia.shift(),r=ig.from(i,t,n);await aA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await nh(e)}async function fN(e,t){t&&cr(e).ea&&await async function(i,r){if(function(a){return KD(a)&&a!==L.ABORTED}(r.code)){const s=i.Ia.shift();cr(i).L_(),await aA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await nh(i)}}(e,t),oA(e)&&lA(e)}async function X_(e,t){const n=rt(e);n.asyncQueue.verifyOperationInProgress(),H(zr,"RemoteStore received new credentials");const i=Kr(n);n.da.add(3),await ml(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await eh(n)}async function dN(e,t){const n=rt(e);t?(n.da.delete(2),await eh(n)):t||(n.da.add(2),await ml(n),n.Va.set("Unknown"))}function va(e){return e.fa||(e.fa=function(n,i,r){const s=rt(n);return s.oa(),new Z4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:iN.bind(null,e),n_:rN.bind(null,e),i_:sN.bind(null,e),Y_:aN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),dg(e)?fg(e):e.Va.set("Unknown")):(await e.fa.stop(),sA(e))})),e.fa}function cr(e){return e.ga||(e.ga=function(n,i,r){const s=rt(n);return s.oa(),new W4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:uN.bind(null,e),i_:fN.bind(null,e),na:cN.bind(null,e),ra:hN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await nh(e)):(await e.ga.stop(),e.Ia.length>0&&(H(zr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new mg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(e,t){if(mi("AsyncQueue",`${t}: ${e}`),_a(e))return new G(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(t){return new js(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||X.comparator(n.key,i.key):(n,i)=>X.comparator(n.key,i.key),this.keyedMap=Xa(),this.sortedSet=new Yt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof js)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new js;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.pa=new Yt(X.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):$(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class ia{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ia(t,n,js.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class gN{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=rt(n),s=r.queries;r.queries=Z_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(L.ABORTED,"Firestore shutting down"))}}function Z_(){return new Qr(e=>D1(e),Xc)}async function uA(e,t){const n=rt(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Da()&&t.va()&&(i=2):(s=new mN,i=t.va()?0:1);try{switch(i){case 0:s.ba=await n.onListen(r,!0);break;case 1:s.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=gg(a,`Initialization of query '${fs(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&pg(n)}async function cA(e,t){const n=rt(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.va()?0:1:!s.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function pN(e,t){const n=rt(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Ma(r)&&(i=!0);a.ba=r}}i&&pg(n)}function yN(e,t,n){const i=rt(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function pg(e){e.Ca.forEach(t=>{t.next()})}var Md,W_;(W_=Md||(Md={})).xa="default",W_.Cache="cache";class hA{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new ia(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=ia.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.key=t}}class dA{constructor(t){this.key=t}}class _N{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.Za=N1(t),this.Xa=new js(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new $_,r=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,g)=>{const m=r.get(d),_=$c(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;m&&_?m.data.isEqual(_.data)?x!==M&&(i.track({type:3,doc:_}),V=!0):this.ru(m,_)||(i.track({type:2,doc:_}),V=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),V=!0):m&&!_&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:s}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,g)=>function(_,x){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{Vt:V})}};return M(_)-M(x)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new ia(this.query,t.Xa,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ft(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new dA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new fA(i))}),n}au(t){this.Ha=t.$s,this.Ya=ft();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return ia.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const yg="SyncEngine";class vN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class TN{constructor(t){this.key=t,this.cu=!1}}class EN{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Qr(l=>D1(l),Xc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(X.comparator),this.Eu=new Map,this.du=new ag,this.Au={},this.Ru=new Map,this.Vu=na.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function AN(e,t,n=!0){const i=vA(e);let r;const s=i.hu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.uu()):r=await mA(i,t,n,!0),r}async function bN(e,t){const n=vA(e);await mA(n,t,!0,!1)}async function mA(e,t,n,i){const r=await H4(e.localStore,Pn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await SN(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&iA(e.remoteStore,r),l}async function SN(e,t,n,i,r){e.fu=(g,m,_)=>async function(M,V,S,v){let R=V.view.tu(S);R.Cs&&(R=await F_(M.localStore,V.query,!1).then(({documents:T})=>V.view.tu(T,R)));const N=v&&v.targetChanges.get(V.targetId),U=v&&v.targetMismatches.get(V.targetId)!=null,z=V.view.applyChanges(R,M.isPrimaryClient,N,U);return tv(M,V.targetId,z.ou),z.snapshot}(e,g,m,_);const s=await F_(e.localStore,t,!0),a=new _N(t,s.$s),l=a.tu(s.documents),u=dl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);tv(e,n,h.ou);const d=new vN(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function wN(e,t,n){const i=rt(e),r=i.hu.get(t),s=i.Pu.get(r.targetId);if(s.length>1)return i.Pu.set(r.targetId,s.filter(a=>!Xc(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await xd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&cg(i.remoteStore,r.targetId),Vd(i,r.targetId)}).catch(ya)):(Vd(i,r.targetId),await xd(i.localStore,r.targetId,!0))}async function RN(e,t){const n=rt(e),i=n.hu.get(t),r=n.Pu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cg(n.remoteStore,i.targetId))}async function IN(e,t,n){const i=VN(e);try{const r=await function(a,l){const u=rt(a),h=oe.now(),d=l.reduce((_,x)=>_.add(x.key),ft());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=gi(),M=ft();return u.Bs.getEntries(_,d).next(V=>{x=V,x.forEach((S,v)=>{v.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(V=>{g=V;const S=[];for(const v of l){const R=HD(v,g.get(v.key).overlayedDocument);R!=null&&S.push(new Yr(v.key,R,E1(R.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(V=>{m=V;const S=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,V.batchId,S)})}).then(()=>({batchId:m.batchId,changes:O1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Yt(ot)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,r.batchId,n),await gl(i,r.changes),await nh(i.remoteStore)}catch(r){const s=gg(r,"Failed to persist write");n.reject(s)}}async function gA(e,t){const n=rt(e);try{const i=await z4(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Eu.get(s);a&&(wt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?wt(a.cu,14607):r.removedDocuments.size>0&&(wt(a.cu,42227),a.cu=!1))}),await gl(n,i,t)}catch(i){await ya(i)}}function J_(e,t,n){const i=rt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.hu.forEach((s,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=rt(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&pg(u)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function CN(e,t,n){const i=rt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Eu.get(t),s=r&&r.key;if(s){let a=new Yt(X.comparator);a=a.insert(s,De.newNoDocument(s,it.min()));const l=ft().add(s),u=new Jc(it.min(),new Map,new Yt(ot),a,l);await gA(i,u),i.Iu=i.Iu.remove(s),i.Eu.delete(t),_g(i)}else await xd(i.localStore,t,!1).then(()=>Vd(i,t,n)).catch(ya)}async function DN(e,t){const n=rt(e),i=t.batch.batchId;try{const r=await j4(n.localStore,t);yA(n,i,null),pA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gl(n,r)}catch(r){await ya(r)}}async function NN(e,t,n){const i=rt(e);try{const r=await function(a,l){const u=rt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(wt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);yA(i,t,n),pA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gl(i,r)}catch(r){await ya(r)}}function pA(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function yA(e,t,n){const i=rt(e);let r=i.Au[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}function Vd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||_A(e,i)})}function _A(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(cg(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),_g(e))}function tv(e,t,n){for(const i of n)i instanceof fA?(e.du.addReference(i.key,t),xN(e,i)):i instanceof dA?(H(yg,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||_A(e,i.key)):$(19791,{pu:i})}function xN(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(yg,"New document in limbo: "+n),e.Tu.add(i),_g(e))}function _g(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new X(jt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new TN(n)),e.Iu=e.Iu.insert(n,i),iA(e.remoteStore,new qi(Pn(Kc(n.path)),i,"TargetPurposeLimboResolution",Gc.le))}}async function gl(e,t,n){const i=rt(e),r=[],s=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=lg.Rs(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.lu.Y_(r),await async function(u,h){const d=rt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>k.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!_a(g))throw g;H(ug,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),x=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(m,M)}}}(i.localStore,s))}async function ON(e,t){const n=rt(e);if(!n.currentUser.isEqual(t)){H(yg,"User change. New user:",t.toKey());const i=await J1(n.localStore,t);n.currentUser=t,function(s,a){s.Ru.forEach(l=>{l.forEach(u=>{u.reject(new G(L.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gl(n,i.ks)}}function MN(e,t){const n=rt(e),i=n.Eu.get(t);if(i&&i.cu)return ft().add(i.key);{let r=ft();const s=n.Pu.get(t);if(!s)return r;for(const a of s){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function vA(e){const t=rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CN.bind(null,t),t.lu.Y_=pN.bind(null,t.eventManager),t.lu.gu=yN.bind(null,t.eventManager),t}function VN(e){const t=rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,t),t}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return U4(this.persistence,new k4,t.initialUser,this.serializer)}Su(t){return new W1(og.fi,this.serializer)}bu(t){return new G4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class kN extends Ac{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){wt(this.persistence.referenceDelegate instanceof Tc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new T4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Fe.withCacheSize(this.cacheSizeBytes):Fe.DEFAULT;return new W1(i=>Tc.fi(i,n),this.serializer)}}class kd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gN}()}createDatastore(t){const n=th(t.databaseInfo.databaseId),i=function(s){return new $4(s)}(t.databaseInfo);return function(s,a,l,u){return new tN(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new nN(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>J_(this.syncEngine,n,0),function(){return Y_.C()?new Y_:new Q4}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const g=new EN(r,s,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=rt(r);H(zr,"RemoteStore shutting down."),s.da.add(5),await ml(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kd.provider={build:()=>new kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class PN{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ce.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(hr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(hr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=gg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function df(e,t){e.asyncQueue.verifyOperationInProgress(),H(hr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await J1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ev(e,t){e.asyncQueue.verifyOperationInProgress();const n=await LN(e);H(hr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>X_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>X_(t.remoteStore,r)),e._onlineComponents=t}async function LN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(hr,"Using user provided OfflineComponentProvider");try{await df(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await df(e,new Ac)}}else H(hr,"Using default OfflineComponentProvider"),await df(e,new kN(void 0));return e._offlineComponents}async function EA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(hr,"Using user provided OnlineComponentProvider"),await ev(e,e._uninitializedComponentsProvider._online)):(H(hr,"Using default OnlineComponentProvider"),await ev(e,new kd))),e._onlineComponents}function UN(e){return EA(e).then(t=>t.syncEngine)}async function Pd(e){const t=await EA(e),n=t.eventManager;return n.onListen=AN.bind(null,t.syncEngine),n.onUnlisten=wN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RN.bind(null,t.syncEngine),n}function jN(e,t,n={}){const i=new er;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new TA({next:m=>{d.xu(),a.enqueueAndForget(()=>cA(s,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new G(L.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new G(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new hA(Kc(l.path),d,{includeMetadataChanges:!0,Qa:!0});return uA(s,g)}(await Pd(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(e,t,n){if(!n)throw new G(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zN(e,t,n,i){if(t===!0&&i===!0)throw new G(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function iv(e){if(!X.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rv(e){if(X.isDocumentKey(e))throw new G(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ih(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$(12329,{type:typeof e})}function si(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(e);throw new G(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firestore.googleapis.com",sv=!0;class av{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new G(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=sv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_4)throw new G(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new XC;switch(i.type){case"firstParty":return new JC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=nv.get(n);i&&(H("ComponentProvider","Removing Datastore"),nv.delete(n),i.terminate())}(this),Promise.resolve()}}function BN(e,t,n,i={}){var r;e=si(e,rh);const s=da(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&(yE(`https://${u}`),_E("Firestore",!0)),a.host!==SA&&a.host!==u&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:s,emulatorOptions:i});if(!Pr(h,l)&&(e._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Ce.MOCK_USER;else{d=_2(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ce(m)}e._authCredentials=new $C(new u1(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ta(this.firestore,t,this._query)}}class ke{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}}class nr extends Ta{constructor(t,n,i){super(t,n,Kc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new X(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function mf(e,t,...n){if(e=Qe(e),bA("collection","path",t),e instanceof rh){const i=jt.fromString(t,...n);return rv(i),new nr(e,null,i)}{if(!(e instanceof ke||e instanceof nr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return rv(i),new nr(e.firestore,null,i)}}function vr(e,t,...n){if(e=Qe(e),arguments.length===1&&(t=h1.newId()),bA("doc","path",t),e instanceof rh){const i=jt.fromString(t,...n);return iv(i),new ke(e,null,new X(i))}{if(!(e instanceof ke||e instanceof nr))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return iv(i),new ke(e.firestore,e instanceof nr?e.converter:null,new X(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="AsyncQueue";class lv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new eA(this,"async_queue_retry"),this.rc=()=>{const i=ff();i&&H(ov,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new er;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!_a(t))throw t;H(ov,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,mi("INTERNAL UNHANDLED ERROR: ",uv(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=mg.createAndSchedule(this,t,n,i,s=>this.uc(s));return this.Zu.push(r),r}oc(){this.Xu&&$(47125,{cc:uv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function uv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ra extends rh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new lv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lv(t),this._firestoreClient=void 0,await t}}}function qN(e,t){const n=typeof e=="object"?e:AE(),i=typeof e=="string"?e:dc,r=jm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=p2("firestore");s&&BN(r,...s)}return r}function vg(e){if(e._terminated)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||HN(e),e._firestoreClient}function HN(e){var t,n,i;const r=e._freezeSettings(),s=function(l,u,h,d){return new mD(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new PN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sa(Ae.fromBase64String(t))}catch(n){throw new G(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new sa(Ae.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^__.*__$/;class GN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new fl(t,this.data,n,this.fieldTransforms)}}function RA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ic:e})}}class bg{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return bc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(RA(this.Ic)&&FN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class QN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||th(t)}bc(t,n,i,r=!1){return new bg({Ic:t,methodName:n,wc:i,path:Te.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IA(e){const t=e._freezeSettings(),n=th(e._databaseId);return new QN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YN(e,t,n,i,r,s={}){const a=e.bc(s.merge||s.mergeFields?2:0,t,n,r);NA("Data must be an object, but it was:",a,i);const l=CA(i,a);let u,h;if(s.merge)u=new Tn(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=XN(t,g,n);if(!a.contains(m))throw new G(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZN(d,m)||d.push(m)}u=new Tn(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new GN(new dn(l),u,h)}function KN(e,t,n,i=!1){return Sg(n,e.bc(i?4:3,t))}function Sg(e,t){if(DA(e=Qe(e)))return NA("Unsupported field value:",t,e),CA(e,t);if(e instanceof wA)return function(i,r){if(!RA(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Sg(l,r.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return LD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=oe.fromDate(i);return{timestampValue:vc(r.serializer,s)}}if(i instanceof oe){const s=new oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vc(r.serializer,s)}}if(i instanceof Eg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:F1(r.serializer,i._byteString)};if(i instanceof ke){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ag)return function(a,l){return{mapValue:{fields:{[v1]:{stringValue:T1},[mc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return eg(l.serializer,h)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${ih(i)}`)}(e,t)}function CA(e,t){const n={};return d1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(e,(i,r)=>{const s=Sg(r,t.Ac(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function DA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof Eg||e instanceof sa||e instanceof ke||e instanceof wA||e instanceof Ag)}function NA(e,t,n){if(!DA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=ih(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function XN(e,t,n){if((t=Qe(t))instanceof Tg)return t._internalPath;if(typeof t=="string")return xA(e,t);throw bc("Field path arguments must be of type string or ",e,!1,void 0,n)}const $N=new RegExp("[~\\*/\\[\\]]");function xA(e,t,n){if(t.search($N)>=0)throw bc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tg(...t.split("."))._internalPath}catch{throw bc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(L.INVALID_ARGUMENT,l+e+u)}function ZN(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(MA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WN extends OA{data(){return super.data()}}function MA(e,t){return typeof t=="string"?xA(e,t):t instanceof Tg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class tx extends wg{}function ex(e,t,...n){let i=[];t instanceof wg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof Ig).length,l=s.filter(u=>u instanceof Rg).length;if(a>1||a>0&&l>0)throw new G(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Rg extends tx{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Rg(t,n,i)}_apply(t){const n=this._parse(t);return VA(t._query,n),new Ta(t.firestore,t.converter,wd(t._query,n))}_parse(t){const n=IA(t.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){fv(g,d);const x=[];for(const M of g)x.push(hv(u,s,M));m={arrayValue:{values:x}}}else m=hv(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||fv(g,d),m=KN(l,a,g,d==="in"||d==="not-in");return ne.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ig extends wg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ig(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)VA(a,u),a=wd(a,u)}(t._query,n),new Ta(t.firestore,t.converter,wd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hv(e,t,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new G(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(t)&&n.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(jt.fromString(n));if(!X.isDocumentKey(i))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return w_(e,new X(i))}if(n instanceof ke)return w_(e,n._key);throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function fv(e,t){if(!Array.isArray(e)||e.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VA(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nx{convertValue(t,n="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw $(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Gr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[mc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Jt(a.doubleValue));return new Ag(s)}convertGeoPoint(t){return new Eg(Jt(t.latitude),Jt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Yc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Lo(t));default:return null}}convertTimestamp(t){const n=or(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=jt.fromString(t);wt($1(i),9688,{name:t});const r=new Uo(i.get(1),i.get(3)),s=new X(i.popFirst(5));return r.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kA extends OA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(MA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Iu extends kA{data(t={}){return super.data(t)}}class rx{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Za(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Iu(this._firestore,this._userDataWriter,i.key,i,new Za(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Iu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Iu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:sx(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){e=si(e,ke);const t=si(e.firestore,ra);return jN(vg(t),e._key).then(n=>UA(t,e,n))}class PA extends nx{constructor(t){super(),this.firestore=t}convertBytes(t){return new sa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function gf(e,t,n){e=si(e,ke);const i=si(e.firestore,ra),r=ix(e.converter,t);return LA(i,[YN(IA(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Ln.none())])}function ox(e){return LA(si(e.firestore,ra),[new ng(e._key,Ln.none())])}function lx(e,...t){var n,i,r;e=Qe(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||cv(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(cv(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let u,h,d;if(e instanceof ke)h=si(e.firestore,ra),d=Kc(e._key.path),u={next:g=>{t[a]&&t[a](UA(h,e,g))},error:t[a+1],complete:t[a+2]};else{const g=si(e,Ta);h=si(g.firestore,ra),d=g._query;const m=new PA(h);u={next:_=>{t[a]&&t[a](new rx(h,m,g,_))},error:t[a+1],complete:t[a+2]},JN(e._query)}return function(m,_,x,M){const V=new TA(M),S=new hA(_,V,x);return m.asyncQueue.enqueueAndForget(async()=>uA(await Pd(m),S)),()=>{V.xu(),m.asyncQueue.enqueueAndForget(async()=>cA(await Pd(m),S))}}(vg(h),d,l,u)}function LA(e,t){return function(i,r){const s=new er;return i.asyncQueue.enqueueAndForget(async()=>IN(await UN(i),r,s)),s.promise}(vg(e),t)}function UA(e,t,n){const i=n.docs.get(t._key),r=new PA(e);return new kA(e,r,t._key,i,new Za(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){pa=r})(ma),Zs(new Lr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ra(new ZC(i.getProvider("auth-internal")),new tD(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ji(d_,m_,t),Ji(d_,m_,"esm2017")})();const ux="/pokemonTeamBuilder/assets/Normal_icon_LA-BGryHHJt.png",cx="/pokemonTeamBuilder/assets/Fire_icon_LA-gNUdPIF8.png",hx="/pokemonTeamBuilder/assets/Water_icon_LA-CLtETpPC.png",fx="/pokemonTeamBuilder/assets/Electric_icon_LA-Cn0cgNK4.png",dx="/pokemonTeamBuilder/assets/Grass_icon_LA-LMWJ0iHE.png",mx="/pokemonTeamBuilder/assets/Ice_icon_LA-f6cK0r3g.png",gx="/pokemonTeamBuilder/assets/Fighting_icon_LA-DHouTAMI.png",px="/pokemonTeamBuilder/assets/Poison_icon_LA-DiKpEp3q.png",yx="/pokemonTeamBuilder/assets/Ground_icon_LA-Dx9ZtHU7.png",_x="/pokemonTeamBuilder/assets/Flying_icon_LA-BRe4cDmN.png",vx="/pokemonTeamBuilder/assets/Psychic_icon_LA-4mhvBiGh.png",Tx="/pokemonTeamBuilder/assets/Bug_icon_LA-BuBZ1E4V.png",Ex="/pokemonTeamBuilder/assets/Rock_icon_LA-_NZ0uszu.png",Ax="/pokemonTeamBuilder/assets/Ghost_icon_LA-BUwsRPAF.png",bx="/pokemonTeamBuilder/assets/Dragon_icon_LA-ChtV_ew5.png",Sx="/pokemonTeamBuilder/assets/Dark_icon_LA-B_1cMoFb.png",wx="/pokemonTeamBuilder/assets/Steel_icon_LA-DW5Y2PLB.png",Rx="/pokemonTeamBuilder/assets/Fairy_icon_LA-DRiwHR6t.png",Kn="https://art.pixilart.com/sr2a947c8f967b8.png",nt={primary:"#7d65e1",background:"#111827",card:"#1F2937",cardLight:"#374151",textMuted:"#9CA3AF"},jA={normal:"#A8A77A",fire:"#EE8130",water:"#6390F0",electric:"#F7D02C",grass:"#7AC74C",ice:"#96D9D6",fighting:"#C22E28",poison:"#A33EA1",ground:"#E2BF65",flying:"#A98FF3",psychic:"#F95587",bug:"#A6B91A",rock:"#B6A136",ghost:"#735797",dragon:"#6F35FC",dark:"#705746",steel:"#B7B7CE",fairy:"#D685AD"},zA={normal:ux,fire:cx,water:hx,electric:fx,grass:dx,ice:mx,fighting:gx,poison:px,ground:yx,flying:_x,psychic:vx,bug:Tx,rock:Ex,ghost:Ax,dragon:bx,dark:Sx,steel:wx,fairy:Rx},ru={normal:{damageTaken:{Fighting:2,Ghost:0},damageDealt:{Rock:.5,Steel:.5}},fire:{damageTaken:{Water:2,Ground:2,Rock:2,Fire:.5,Grass:.5,Ice:.5,Bug:.5,Steel:.5,Fairy:.5},damageDealt:{Fire:.5,Water:.5,Rock:.5,Dragon:.5,Grass:2,Ice:2,Bug:2,Steel:2}},water:{damageTaken:{Grass:2,Electric:2,Fire:.5,Water:.5,Ice:.5,Steel:.5},damageDealt:{Water:.5,Grass:.5,Dragon:.5,Fire:2,Ground:2,Rock:2}},grass:{damageTaken:{Fire:2,Ice:2,Poison:2,Flying:2,Bug:2,Water:.5,Grass:.5,Electric:.5,Ground:.5},damageDealt:{Fire:.5,Grass:.5,Poison:.5,Flying:.5,Bug:.5,Steel:.5,Dragon:.5,Water:2,Ground:2,Rock:2}},electric:{damageTaken:{Ground:2,Electric:.5,Flying:.5,Steel:.5},damageDealt:{Grass:.5,Electric:.5,Dragon:.5,Ground:0,Water:2,Flying:2}},ice:{damageTaken:{Fire:2,Fighting:2,Rock:2,Steel:2,Ice:.5},damageDealt:{Fire:.5,Water:.5,Ice:.5,Steel:.5,Grass:2,Ground:2,Flying:2,Dragon:2}},fighting:{damageTaken:{Flying:2,Psychic:2,Fairy:2,Bug:.5,Rock:.5,Dark:.5},damageDealt:{Flying:.5,Psychic:.5,Bug:.5,Fairy:.5,Poison:.5,Ghost:0,Normal:2,Ice:2,Rock:2,Dark:2,Steel:2}},poison:{damageTaken:{Ground:2,Psychic:2,Grass:.5,Fighting:.5,Poison:.5,Bug:.5,Fairy:.5},damageDealt:{Ground:.5,Rock:.5,Poison:.5,Ghost:.5,Steel:0,Grass:2,Fairy:2}},ground:{damageTaken:{Water:2,Grass:2,Ice:2,Poison:.5,Rock:.5,Electric:0},damageDealt:{Grass:.5,Bug:.5,Flying:0,Fire:2,Electric:2,Poison:2,Rock:2,Steel:2}},flying:{damageTaken:{Electric:2,Ice:2,Rock:2,Grass:.5,Fighting:.5,Bug:.5,Ground:0},damageDealt:{Electric:.5,Rock:.5,Steel:.5,Grass:2,Fighting:2,Bug:2}},psychic:{damageTaken:{Bug:2,Ghost:2,Dark:2,Fighting:.5,Psychic:.5},damageDealt:{Steel:.5,Psychic:.5,Dark:0,Fighting:2,Poison:2}},bug:{damageTaken:{Fire:2,Flying:2,Rock:2,Grass:.5,Fighting:.5,Ground:.5},damageDealt:{Fire:.5,Fighting:.5,Poison:.5,Flying:.5,Ghost:.5,Steel:.5,Fairy:.5,Grass:2,Psychic:2,Dark:2}},rock:{damageTaken:{Water:2,Grass:2,Fighting:2,Ground:2,Steel:2,Normal:.5,Fire:.5,Poison:.5,Flying:.5},damageDealt:{Fighting:.5,Ground:.5,Steel:.5,Fire:2,Ice:2,Flying:2,Bug:2}},ghost:{damageTaken:{Ghost:2,Dark:2,Poison:.5,Bug:.5,Normal:0,Fighting:0},damageDealt:{Steel:.5,Dark:.5,Normal:0,Ghost:2,Psychic:2}},dragon:{damageTaken:{Ice:2,Dragon:2,Fairy:2,Fire:.5,Water:.5,Grass:.5,Electric:.5},damageDealt:{Steel:.5,Fairy:0,Dragon:2}},dark:{damageTaken:{Fighting:2,Bug:2,Fairy:2,Ghost:.5,Dark:.5,Psychic:0},damageDealt:{Fighting:.5,Dark:.5,Fairy:.5,Ghost:2,Psychic:2}},steel:{damageTaken:{Fire:2,Fighting:2,Ground:2,Normal:.5,Grass:.5,Ice:.5,Flying:.5,Psychic:.5,Bug:.5,Rock:.5,Dragon:.5,Steel:.5,Fairy:.5,Poison:0},damageDealt:{Fire:.5,Water:.5,Electric:.5,Steel:.5,Ice:2,Rock:2,Fairy:2}},fairy:{damageTaken:{Poison:2,Steel:2,Fighting:.5,Bug:.5,Dark:.5,Dragon:0},damageDealt:{Fire:.5,Poison:.5,Steel:.5,Fighting:2,Dragon:2,Dark:2}}},Ix=()=>b.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),Cx=()=>b.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),BA=({className:e="w-6 h-6",isFavorite:t})=>b.jsxs("svg",{className:e,fill:t?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:t?"#FBBF24":nt.textMuted},children:[" ",b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.95-.69l1.519-4.674z"})," "]}),Dx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",b.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})," "]}),Nx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",b.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.586l3.95-3.95a1 1 0 111.414 1.414L11.414 10l3.95 3.95a1 1 0 01-1.414 1.414L10 11.414l-3.95 3.95a1 1 0 01-1.414-1.414L8.586 10l-3.95-3.95a1 1 0 011.414-1.414L10 8.586z"})]}),xx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})," "]}),Ox=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[" ",b.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})," "]}),Mx=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),qA=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),HA=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Vx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-pokeball shrink-0",children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),b.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),b.jsx("path",{d:"M3 12h6"}),b.jsx("path",{d:"M15 12h6"})]}),kx=()=>b.jsx("svg",{className:"w-6 h-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),Px=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),Lx=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),Ux=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"}),b.jsx("path",{d:"M9 12l2 2l4 -4"})]}),jx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"}),b.jsx("path",{d:"M12 6l-2 4l4 3l-2 4v3"})]}),zx=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),b.jsx("path",{d:"M12 8v4"}),b.jsx("path",{d:"M12 16h.01"})]}),Ld=({type:e})=>b.jsxs("span",{className:"text-xs font-semibold mr-1 mb-1 px-2.5 py-1 rounded-full text-white shadow-sm",style:{backgroundColor:jA[e]||"#777"},children:[" ",e.toUpperCase()," "]}),Bx={apiKey:"AIzaSyARU0ZFaHQhC3Iz2v48MMugAx5LwhDAFaM",authDomain:"pokemonbuilder-8f80d.firebaseapp.com",projectId:"pokemonbuilder-8f80d",storageBucket:"pokemonbuilder-8f80d.appspot.com",messagingSenderId:"514902448758",appId:"1:514902448758:web:818f024a8ce15bffa65d57",measurementId:"G-MLY0EFTHDK"},Ri="pokemonTeamBuilder",qx=(e,t)=>{const[n,i]=Y.useState(e);return Y.useEffect(()=>{const r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),n},Hx=bv.memo(({onAdd:e,onShowDetails:t,details:n,lastRef:i,isSuggested:r})=>{const s=l=>{l.stopPropagation(),e(n)},a=l=>{l.stopPropagation(),t(n)};return n?b.jsxs("div",{ref:i,onClick:s,className:`rounded-lg p-3 text-center group relative cursor-pointer transition-all duration-300 ${r?"ring-2 ring-green-400 shadow-lg":""}`,style:{backgroundColor:nt.cardLight},children:[r&&b.jsx("div",{className:"absolute -top-2 -right-2 text-xs bg-green-500 text-white font-bold py-1 px-2 rounded-full z-10",children:"Suggested"}),b.jsx("img",{src:n.sprite||Kn,onError:l=>{l.currentTarget.src=Kn},alt:n.name,className:"mx-auto h-24 w-24 group-hover:scale-110 transition-transform"}),b.jsx("p",{className:"mt-2 text-sm font-semibold capitalize",children:n.name}),b.jsx("div",{className:"flex justify-center items-center mt-1 gap-1",children:n.types.map(l=>b.jsx("img",{src:zA[l],alt:l,className:"w-5 h-5"},l))}),b.jsx("button",{onClick:a,className:`
            absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
            opacity-100     
            lg:opacity-0    
            lg:group-hover:opacity-100 
            lg:transition-opacity
            `,children:b.jsx(HA,{})})]}):b.jsxs("div",{ref:i,className:"rounded-lg p-3 text-center h-[172px]",style:{backgroundColor:nt.cardLight},children:[b.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-700 rounded-md animate-pulse"}),b.jsx("div",{className:"mt-2 h-5 w-24 mx-auto bg-gray-700 rounded animate-pulse"}),b.jsx("div",{className:"flex justify-center items-center mt-2 gap-2",children:b.jsx("div",{className:"h-5 w-5 bg-gray-700 rounded-full animate-pulse"})})]})}),Fx=({stat:e,value:t})=>{const n={hp:"bg-red-500",attack:"bg-orange-500",defense:"bg-yellow-500","special-attack":"bg-blue-500","special-defense":"bg-green-500",speed:"bg-pink-500"},i=t/255*100;return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("p",{className:"w-1/3 text-sm font-semibold capitalize text-right",children:e.replace("-"," ")}),b.jsx("div",{className:"w-2/3 bg-gray-600 rounded-full h-4",children:b.jsx("div",{className:`${n[e]} h-4 rounded-full text-xs text-white flex items-center justify-end pr-2`,style:{width:`${i}%`},children:t})})]})},Gx=({pokemon:e,onClose:t,onAdd:n,currentTeam:i})=>{var s,a;if(!e)return null;const r=i.some(l=>l.id===e.id);return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg p-6 relative animate-fade-in",onClick:l=>l.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:b.jsx(qA,{})}),b.jsxs("div",{className:"text-center",children:[b.jsx("img",{src:e.animatedSprite||e.sprite,alt:e.name,className:"mx-auto h-32 w-32 image-pixelated"}),b.jsxs("h2",{className:"text-3xl font-bold capitalize mt-2",children:[e.name," ",b.jsxs("span",{className:"text-gray-400",children:["#",e.id]})]}),b.jsx("div",{className:"flex justify-center gap-2 mt-2",children:e.types.map(l=>b.jsx(Ld,{type:l},l))})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Base Stats"}),b.jsx("div",{className:"space-y-2",children:(s=e.stats)==null?void 0:s.map(l=>b.jsx(Fx,{stat:l.stat.name,value:l.base_stat},l.stat.name))})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Abilities"}),b.jsx("div",{className:"text-center space-x-2",children:(a=e.abilities)==null?void 0:a.map(l=>b.jsx("span",{className:"capitalize inline-block bg-gray-700 px-3 py-1 rounded-full text-sm",children:l.ability.name.replace("-"," ")},l.ability.name))})]}),b.jsx("div",{className:"mt-8 flex justify-center",children:!r&&b.jsxs("button",{onClick:()=>{n(e),t()},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[b.jsx(Ox,{})," Add to Team"]})})]})})},Qx=({currentTeam:e,teamName:t,setTeamName:n,handleRemoveFromTeam:i,handleSaveTeam:r,editingTeamId:s,handleClearTeam:a,recentTeams:l,setCurrentPage:u,handleToggleFavorite:h,handleEditTeam:d,handleShareTeam:g,teamAnalysis:m,searchInput:_,setSearchInput:x,selectedGeneration:M,setSelectedGeneration:V,generations:S,isInitialLoading:v,isFiltering:R,availablePokemons:N,pokemonDetailsCache:U,handleAddPokemonToTeam:z,lastPokemonElementRef:T,isFetchingMore:y,visibleCount:E,selectedTypes:A,handleTypeSelection:I,showDetails:C,suggestedPokemonIds:w})=>b.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[b.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[b.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:nt.card},children:[b.jsx("h2",{className:"text-base md:text-lg font-bold mb-4 border-b-2 pb-2",style:{fontFamily:"'Press Start 2P'",borderColor:nt.primary},children:"Current Team"}),b.jsx("input",{type:"text",value:t,onChange:Q=>n(Q.target.value),placeholder:"Team Name",className:"w-full text-white p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:nt.cardLight,borderColor:"transparent"}}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 min-h-[120px] p-4 rounded-lg mt-4 ",style:{backgroundColor:"rgba(0,0,0,0.2)"},children:[e.map(Q=>b.jsxs("div",{className:"text-center relative group cursor-pointer",onClick:dt=>{dt.stopPropagation(),i(Q.id)},children:[b.jsx("img",{src:Q.animatedSprite||Q.sprite||Kn,onError:dt=>{dt.currentTarget.src=Q.sprite||Kn},alt:Q.name,className:"mx-auto h-20 w-20"}),b.jsx("p",{className:"text-xs capitalize truncate",children:Q.name}),b.jsx("button",{onClick:dt=>{dt.stopPropagation(),C(Q)},className:`
                        absolute top-2 left-2 text-gray-400 hover:text-white transition-colors
                        opacity-100     
                        lg:opacity-0    
                        lg:group-hover:opacity-100 
                        lg:transition-opacity
                        `,children:b.jsx(HA,{})}),b.jsx("button",{onClick:dt=>{dt.stopPropagation(),i(Q.id)},className:`
                            absolute top-1 right-1 bg-red-600 text-white rounded-full h-5 w-5 flex items-center justify-center text-sm
                            opacity-100 visible
                            lg:opacity-0 lg:invisible
                            lg:group-hover:opacity-100 lg:group-hover:visible
                            transition-opacity duration-200
                        `,children:"X"})]},Q.id)),Array.from({length:6-e.length}).map((Q,dt)=>b.jsx("div",{className:"flex items-center justify-center",children:b.jsx("img",{src:Kn,alt:"Empty team slot",className:"w-12 h-12 opacity-40"})},dt))]}),b.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[b.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center font-bold py-2 px-4 rounded-lg",style:{backgroundColor:nt.primary,color:nt.background},children:[" ",b.jsx(xx,{})," ",s?"Update":"Save"," "]}),b.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Clear Team",children:b.jsx(Nx,{})})]})]}),b.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:nt.card},children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-base md:text-lg font-bold",style:{fontFamily:"'Press Start 2P'"},children:"Recent Teams"}),b.jsx("button",{onClick:()=>u("allTeams"),className:"text-sm text-purple-400 hover:underline",children:"View All"})]}),b.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:l.length>0?l.map(Q=>b.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between transition-colors",style:{backgroundColor:nt.cardLight},children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"font-bold text-lg truncate",children:Q.name}),b.jsx("div",{className:"flex mt-1",children:Q.pokemons.map(dt=>b.jsx("img",{src:dt.sprite||Kn,onError:q=>{q.currentTarget.src=Kn},alt:dt.name,className:"h-8 w-8 -ml-2 border-2 rounded-full",style:{borderColor:nt.cardLight,backgroundColor:nt.card}},dt.id))})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-2",children:[b.jsx("button",{onClick:()=>h(Q),title:"Favorite",children:b.jsx(BA,{isFavorite:Q.isFavorite})}),b.jsx("button",{onClick:()=>d(Q),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1 px-3 rounded-full",children:"Edit"})]})]},Q.id)):b.jsx("p",{className:"text-center py-4",style:{color:nt.textMuted},children:"No recent teams yet."})})]})]}),b.jsx("div",{className:"lg:col-span-6",children:b.jsxs("section",{className:"p-6 rounded-xl shadow-lg h-full flex flex-col",style:{backgroundColor:nt.card},children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4",style:{fontFamily:"'Press Start 2P'"},children:"Choose your Pokmon!"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsx("input",{type:"text",placeholder:"Search Pokmon...",value:_,onChange:Q=>x(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none",style:{backgroundColor:nt.cardLight,borderColor:"transparent"}}),b.jsxs("select",{value:M,onChange:Q=>V(Q.target.value),className:"w-full p-3 rounded-lg border-2 focus:outline-none appearance-none capitalize",style:{backgroundColor:nt.cardLight,borderColor:"transparent"},children:[b.jsx("option",{value:"all",children:"All Generations"}),S.map(Q=>b.jsx("option",{value:Q.name,className:"capitalize",children:Q.name.replace("-"," ")},Q.name))]})]})]}),b.jsx("div",{className:"relative flex-grow h-[60vh]",children:v?b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:nt.primary}})}):b.jsxs(b.Fragment,{children:[R&&b.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10 rounded-lg",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:nt.primary}})}),b.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-2",children:N.slice(0,E).map((Q,dt)=>b.jsx(Hx,{details:U[Q.id],onAdd:z,onShowDetails:C,lastRef:dt===E-1?T:null,isSuggested:w.has(Q.id)},Q.id))}),y&&b.jsx("div",{className:"flex justify-center py-4",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:nt.primary}})}),N.length===0&&!R&&b.jsx("p",{className:"text-center py-8",style:{color:nt.textMuted},children:"No Pokmon found with these filters. :("})]})]})})]})}),b.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[b.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:nt.card},children:[b.jsx("h3",{className:"text-base md:text-lg font-bold mb-3 text-center",style:{fontFamily:"'Press Start 2P'"},children:"Filter by Type"}),b.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-5 gap-1.5",children:Object.keys(jA).map(Q=>b.jsx("button",{onClick:()=>I(Q),className:`p-1.5 rounded-lg bg-transparent transition-colors hover:bg-gray-700/50 ${A.has(Q)?"ring-2 ring-white":""}`,title:Q,children:b.jsx("img",{src:zA[Q],alt:Q,className:"w-full h-full object-contain"})},Q))})]}),e.length>0&&b.jsxs("section",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:nt.card},children:[b.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4",children:"Team Analysis"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold mb-2 text-green-400",children:"Offensive Coverage:"}),b.jsx("div",{className:"flex flex-wrap gap-1",children:m.strengths.size>0?Array.from(m.strengths).sort().map(Q=>b.jsx(Ld,{type:Q},Q)):b.jsx("p",{className:"text-sm",style:{color:nt.textMuted},children:"No type advantages found."})})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"font-semibold mb-2 text-red-400",children:"Defensive Weaknesses:"}),b.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(m.weaknesses).length>0?Object.entries(m.weaknesses).sort(([,Q],[,dt])=>dt-Q).map(([Q,dt])=>b.jsxs("div",{className:"flex items-center",children:[b.jsx(Ld,{type:Q}),b.jsxs("span",{className:"text-xs text-red-300",children:["(",dt,"x)"]})]},Q)):b.jsx("p",{className:"text-sm",style:{color:nt.textMuted},children:"Your team is rock solid!"})})]})]})]})]}),Yx=({teams:e,onEdit:t,onDelete:n,onToggleFavorite:i,searchTerm:r,setSearchTerm:s})=>b.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{backgroundColor:nt.card},children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"All Saved Teams"}),b.jsx("input",{type:"text",placeholder:"Search teams by name...",value:r,onChange:a=>s(a.target.value),className:"w-full p-3 mb-6 rounded-lg border-2 focus:outline-none",style:{backgroundColor:nt.cardLight,borderColor:"transparent"}}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0?e.map(a=>b.jsxs("div",{className:"p-4 rounded-lg flex flex-col justify-between",style:{backgroundColor:nt.cardLight},children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("p",{className:"font-bold text-xl truncate mb-2",children:a.name}),b.jsx("button",{onClick:()=>i(a),title:"Favorite",children:b.jsx(BA,{isFavorite:a.isFavorite})})]}),b.jsx("div",{className:"flex my-2",children:a.pokemons.map(l=>b.jsx("img",{src:l.sprite||Kn,onError:u=>{u.currentTarget.src=Kn},alt:l.name,className:"h-12 w-12 -ml-3 border-2 rounded-full",style:{borderColor:nt.cardLight,backgroundColor:nt.card}},l.id))}),b.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[b.jsx("button",{onClick:()=>t(a),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Edit"}),b.jsx("button",{onClick:()=>n(a.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:b.jsx(Dx,{})})]})]},a.id)):b.jsx("p",{className:"col-span-full text-center py-8",style:{color:nt.textMuted},children:"No teams found."})})]});function Kx(){const[e,t]=Y.useState(null),[n,i]=Y.useState(null),[r,s]=Y.useState([]),[a,l]=Y.useState([]),[u,h]=Y.useState({}),[d,g]=Y.useState({}),[m,_]=Y.useState([]),[x,M]=Y.useState("all"),[V,S]=Y.useState(new Set),[v,R]=Y.useState(""),N=qx(v,300),[U,z]=Y.useState([]),[T,y]=Y.useState([]),[E,A]=Y.useState(""),[I,C]=Y.useState(null),[w,Q]=Y.useState({strengths:new Set,weaknesses:{}}),[dt,q]=Y.useState(!0),[W,J]=Y.useState(!1),[Rt,Bt]=Y.useState(!1),[_i,be]=Y.useState([]),[qt,Le]=Y.useState("builder"),[Ue,Xr]=Y.useState(!1),[je,sh]=Y.useState(!1),[$r,Zr]=Y.useState(""),[Sn,Wr]=Y.useState(50),[Ea,Jr]=Y.useState(null),[Aa,ba]=Y.useState(3),[ah,Sa]=Y.useState(new Set);Y.useEffect(()=>{const B=()=>{window.innerWidth<768?ba(2):ba(3)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const mt=Y.useCallback((B,F="info")=>{const et=Date.now();be(st=>[...st,{id:et,message:B,type:F}]),setTimeout(()=>be(st=>st.filter(K=>K.id!==et)),3e3)},[]),wn=Y.useMemo(()=>{const B=new Set(U.map(F=>F.id));return a.filter(F=>!B.has(F.id))},[a,U]),pl=Y.useMemo(()=>T.sort((B,F)=>new Date(F.updatedAt||F.createdAt)-new Date(B.updatedAt||B.createdAt)).slice(0,3),[T]),oh=Y.useMemo(()=>{let B=[...T].sort((F,et)=>et.isFavorite-F.isFavorite||new Date(et.updatedAt||F.createdAt)-new Date(F.updatedAt||F.createdAt));return $r&&(B=B.filter(F=>F.name.toLowerCase().includes($r.toLowerCase()))),B},[T,$r]),ts=Y.useCallback(async B=>{if(!n)return;mt("Loading shared team...","info");const F=vr(n,`artifacts/${Ri}/public/data/teams`,B);try{const et=await ax(F);if(et.exists()){const st=et.data(),K=st.pokemons.map(async It=>{var St,Pt,vt,Lt,Ot,Se;if(u[It.id])return u[It.id];const gt=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${It.id}`)).json();return{id:gt.id,name:gt.name,sprite:(St=gt.sprites)==null?void 0:St.front_default,types:gt.types.map(ze=>ze.type.name),animatedSprite:(Se=(Ot=(Lt=(vt=(Pt=gt.sprites)==null?void 0:Pt.versions)==null?void 0:vt["generation-v"])==null?void 0:Lt["black-white"])==null?void 0:Ot.animated)==null?void 0:Se.front_default,stats:gt.stats,abilities:gt.abilities}}),_t=await Promise.all(K);h(It=>({...It,..._t.reduce((Et,gt)=>({...Et,[gt.id]:gt}),{})})),z(_t.filter(Boolean)),A(st.name),C(null),mt(`Loaded team: ${st.name}`,"success")}else mt("Shared team not found.","error")}catch{mt("Failed to load shared team.","error")}},[n,u,mt]);Y.useEffect(()=>{try{const B=EE(Bx),F=YC(B);i(qN(B));const et=PI(F,K=>{K&&t(K.uid)});return(async()=>{if(!F.currentUser)try{const K=typeof __initial_auth_token<"u"?__initial_auth_token:null;K?await MI(F,K):await CI(F)}catch{mt("Authentication failed. Please refresh.","error")}})(),()=>et()}catch{mt("Failed to connect to services.","error")}},[]),Y.useEffect(()=>{(async()=>{try{const st=(await(await fetch("https://pokeapi.co/api/v2/pokemon-species?limit=1025")).json()).results.map(Pt=>fetch(Pt.url).then(vt=>vt.json())),_t=(await Promise.all(st)).flatMap(Pt=>Pt.varieties.map(vt=>({name:vt.pokemon.name,url:vt.pokemon.url}))),Et=Array.from(new Map(_t.map(Pt=>[Pt.url,Pt])).values()).map(Pt=>({id:parseInt(Pt.url.split("/")[6]),name:Pt.name,url:Pt.url}));s(Et),l(Et);const St=await(await fetch("https://pokeapi.co/api/v2/generation")).json();_(St.results)}catch{mt("Failed to load Pokmon data.","error")}finally{q(!1)}})()},[]),Y.useEffect(()=>{if(!n||dt)return;const F=new URLSearchParams(window.location.search).get("team");F&&ts(F)},[n,dt,ts]),Y.useEffect(()=>{(async()=>{if(dt)return;J(!0);let F=[...r];const et={"generation-i":[1,151],"generation-ii":[152,251],"generation-iii":[252,386],"generation-iv":[387,493],"generation-v":[494,649],"generation-vi":[650,721],"generation-vii":[722,809],"generation-viii":[810,905],"generation-ix":[906,1025]};if(x!=="all"&&et[x]){const[st,K]=et[x];F=F.filter(_t=>_t.id>=st&&_t.id<=K)}if(N&&(F=F.filter(st=>st.name.toLowerCase().includes(N.toLowerCase()))),V.size>0)try{const st=Array.from(V).map(It=>fetch(`https://pokeapi.co/api/v2/type/${It.toLowerCase()}`).then(Et=>Et.json()).then(Et=>new Set(Et.pokemon.map(gt=>gt.pokemon.name)))),_t=(await Promise.all(st)).reduce((It,Et)=>new Set([...It].filter(gt=>Et.has(gt))));F=F.filter(It=>_t.has(It.name))}catch{mt("Failed to apply type filter.","error")}l(F),Wr(50),J(!1)})()},[x,V,N,r,dt]),Y.useEffect(()=>{let B=!0;const F=async()=>{const st=wn.slice(0,Sn).filter(K=>!u[K.id]||!u[K.id].evolution_chain_url);if(st.length!==0){Bt(!0);try{const K=await Promise.all(st.map(gt=>fetch(gt.url).then(St=>St.json()))),_t=K.map(gt=>fetch(gt.species.url).then(St=>St.json())),It=await Promise.all(_t);if(!B)return;const Et=K.reduce((gt,St,Pt)=>{var vt,Lt,Ot,Se,ze,sn;return gt[St.id]={id:St.id,name:St.name,sprite:(vt=St.sprites)==null?void 0:vt.front_default,animatedSprite:(sn=(ze=(Se=(Ot=(Lt=St.sprites)==null?void 0:Lt.versions)==null?void 0:Ot["generation-v"])==null?void 0:Se["black-white"])==null?void 0:ze.animated)==null?void 0:sn.front_default,types:St.types.map(Ia=>Ia.type.name),stats:St.stats,abilities:St.abilities,evolution_chain_url:It[Pt].evolution_chain.url},gt},{});h(gt=>({...gt,...Et}))}catch{}finally{B&&Bt(!1)}}};return wn.length>0&&F(),()=>{B=!1}},[wn,Sn,u]),Y.useEffect(()=>{if(!e||!n)return;const B=ex(mf(n,`artifacts/${Ri}/users/${e}/teams`));return lx(B,et=>{y(et.docs.map(st=>({id:st.id,...st.data()})))},()=>mt("Could not load saved teams.","error"))},[e,n]),Y.useEffect(()=>{const B=U.map(K=>u[K.id]).filter(Boolean);if(B.length<U.length||B.length===0){Q({strengths:new Set,weaknesses:{}}),Sa(new Set);return}const F={},et=new Set;B.flatMap(K=>K.types).forEach(K=>{var _t;Object.entries(((_t=ru[K])==null?void 0:_t.damageDealt)||{}).forEach(([It,Et])=>{Et>1&&et.add(It.toLowerCase())})}),Object.keys(ru).forEach(K=>{const _t=K.charAt(0).toUpperCase()+K.slice(1);let It=0,Et=0;B.forEach(gt=>{const St=gt.types.reduce((Pt,vt)=>{var Lt;return Pt*(((Lt=ru[vt])==null?void 0:Lt.damageTaken[_t])??1)},1);St>1?It++:St<1&&Et++}),It>0&&It>Et&&(F[K]=It)}),Q({strengths:et,weaknesses:F}),(async()=>{const K=Object.keys(F);if(K.length===0||r.length===0){Sa(new Set);return}const _t=async vt=>{if(d[vt])return d[vt];try{let Se=(await(await fetch(vt)).json()).chain;for(;Se&&Se.evolves_to.length>0;)Se=Se.evolves_to[0];const ze=Se.species.name;return g(sn=>({...sn,[vt]:ze})),ze}catch{return null}},Et=r.filter(vt=>{const Lt=u[vt.id];return Lt?K.some(Ot=>{const Se=Ot.charAt(0).toUpperCase()+Ot.slice(1);return Lt.types.reduce((sn,Ia)=>{var Al;return sn*(((Al=ru[Ia])==null?void 0:Al.damageTaken[Se])??1)},1)<1}):!1}).map(async vt=>{const Lt=u[vt.id];return Lt!=null&&Lt.evolution_chain_url?await _t(Lt.evolution_chain_url):null}),gt=await Promise.all(Et),St=[...new Set(gt.filter(Boolean))],Pt=new Set(St.map(vt=>{var Lt;return(Lt=r.find(Ot=>Ot.name===vt))==null?void 0:Lt.id}).filter(Boolean));Sa(Pt)})()},[U,u,r,d]);const vi=Y.useRef(),yl=Y.useCallback(B=>{Rt||W||(vi.current&&vi.current.disconnect(),vi.current=new IntersectionObserver(F=>{F[0].isIntersecting&&wn.length>Sn&&Wr(et=>et+50)}),B&&vi.current.observe(B))},[Rt,W,wn,Sn]),re=Y.useCallback(B=>{if(U.length>=6)return mt("Your team is full (6 Pokmon)!","warning");if(U.find(F=>F.id===B.id))return mt("This Pokmon is already on your team.","warning");z(F=>[...F,B])},[U,mt]),ge=Y.useCallback(B=>{z(F=>F.filter(et=>et.id!==B))},[]),Rn=Y.useCallback(()=>{z([]),A(""),C(null)},[]),_l=Y.useCallback(async()=>{var et,st;if(!n||!e)return mt("Database connection not ready.","error");if(U.length===0)return mt("Your team is empty!","warning");if(!E.trim())return mt("Please name your team.","warning");const B=I||vr(mf(n,`artifacts/${Ri}/users/${e}/teams`)).id,F={name:E,pokemons:U.map(K=>({id:K.id,name:K.name,sprite:K.sprite})),isFavorite:((et=T.find(K=>K.id===I))==null?void 0:et.isFavorite)||!1,createdAt:((st=T.find(K=>K.id===I))==null?void 0:st.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};try{await gf(vr(n,`artifacts/${Ri}/users/${e}/teams`,B),F),mt(`Team "${E}" saved!`,"success"),Rn()}catch{mt("Error saving team.","error")}},[n,e,U,E,I,T,mt,Rn]),vl=Y.useCallback(async()=>{if(!n)return mt("Database not ready.","error");if(U.length===0)return mt("Cannot share an empty team!","warning");const B=vr(mf(n,`artifacts/${Ri}/public/data/teams`)).id,F={name:E||"Unnamed Team",pokemons:U.map(et=>({id:et.id,name:et.name,sprite:et.sprite}))};try{await gf(vr(n,`artifacts/${Ri}/public/data/teams`,B),F);const et=`${window.location.origin}${window.location.pathname}?team=${B}`,st=document.createElement("textarea");st.value=et,document.body.appendChild(st),st.focus(),st.select();try{document.execCommand("copy")?mt("Share link copied to clipboard!","success"):mt("Failed to copy link.","error")}catch{mt("Failed to copy link.","error")}document.body.removeChild(st)}catch{mt("Could not generate share link.","error")}},[n,U,E,mt]),Tl=Y.useCallback(async B=>{const F=B.pokemons.map(async st=>{var It,Et,gt,St,Pt,vt;if(u[st.id])return u[st.id];const _t=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${st.id}`)).json();return{id:_t.id,name:_t.name,sprite:(It=_t.sprites)==null?void 0:It.front_default,types:_t.types.map(Lt=>Lt.type.name),animatedSprite:(vt=(Pt=(St=(gt=(Et=_t.sprites)==null?void 0:Et.versions)==null?void 0:gt["generation-v"])==null?void 0:St["black-white"])==null?void 0:Pt.animated)==null?void 0:vt.front_default,stats:_t.stats,abilities:_t.abilities}}),et=await Promise.all(F);h(st=>({...st,...et.reduce((K,_t)=>({...K,[_t.id]:_t}),{})})),z(et.filter(Boolean)),A(B.name),C(B.id),Le("builder"),Xr(!1),window.scrollTo({top:0,behavior:"smooth"})},[u]),mr=Y.useCallback(async B=>{if(!(!n||!e))try{await ox(vr(n,`artifacts/${Ri}/users/${e}/teams`,B)),I===B&&Rn(),mt("Team deleted.","info")}catch{mt("Error deleting team.","error")}},[n,e,I,Rn,mt]),wa=Y.useCallback(async B=>{if(!(!n||!e))try{await gf(vr(n,`artifacts/${Ri}/users/${e}/teams`,B.id),{...B,isFavorite:!B.isFavorite})}catch{mt("Could not update favorite status.","error")}},[n,e,mt]),El=Y.useCallback(B=>{S(F=>{const et=new Set(F);return et.has(B)?et.delete(B):et.add(B),et})},[]),Ra=Y.useCallback(B=>{Jr(B)},[]),lh=()=>{switch(qt){case"allTeams":return b.jsx(Yx,{teams:oh,onEdit:Tl,onDelete:mr,onToggleFavorite:wa,searchTerm:$r,setSearchTerm:Zr});default:return b.jsx(Qx,{currentTeam:U,teamName:E,setTeamName:A,handleRemoveFromTeam:ge,handleSaveTeam:_l,editingTeamId:I,handleClearTeam:Rn,recentTeams:pl,setCurrentPage:Le,handleToggleFavorite:wa,handleEditTeam:Tl,handleShareTeam:vl,teamAnalysis:w,searchInput:v,setSearchInput:R,selectedGeneration:x,setSelectedGeneration:M,generations:m,isInitialLoading:dt,isFiltering:W,availablePokemons:wn,pokemonDetailsCache:u,handleAddPokemonToTeam:re,lastPokemonElementRef:yl,isFetchingMore:Rt,visibleCount:Sn,selectedTypes:V,handleTypeSelection:El,showDetails:Ra,suggestedPokemonIds:ah})}};return b.jsxs("div",{className:"min-h-screen text-white font-sans",style:{backgroundColor:nt.background},children:[b.jsx(Gx,{pokemon:Ea,onClose:()=>Jr(null),onAdd:re,currentTeam:U}),b.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-2",children:_i.slice(0,Aa).map(B=>b.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg text-white animate-fade-in-out ${B.type==="success"?"bg-green-600":B.type==="warning"?"bg-yellow-600":"bg-red-600"}`,children:[B.type==="success"&&b.jsx(Ux,{}),B.type==="error"&&b.jsx(jx,{}),B.type==="warning"&&b.jsx(zx,{}),B.message]},B.id))}),b.jsxs("div",{className:"flex min-h-screen",children:[b.jsx("aside",{className:`fixed lg:relative lg:translate-x-0 inset-y-0 left-0 z-40 transition-all duration-300 ease-in-out ${je?"lg:w-20":"w-52"} ${Ue?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:nt.card},children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:`flex items-center h-16 p-4 ${je?"justify-center":"justify-between"}`,children:[b.jsx("h2",{className:`text-xl font-bold transition-opacity duration-200 whitespace-nowrap ${je?"lg:opacity-0 lg:hidden":"opacity-100"}`,style:{fontFamily:"'Press Start 2P'",color:nt.primary},children:"Menu"}),b.jsx("button",{onClick:()=>sh(!je),className:"p-1 rounded-lg hidden lg:block transition-colors hover:bg-purple-500/20",style:{color:nt.textMuted},children:je?b.jsx(Lx,{}):b.jsx(Px,{})})]}),b.jsx("nav",{className:"px-4 flex-grow",children:b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("button",{onClick:()=>{Le("builder"),Xr(!1)},className:`w-full p-3 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${qt==="builder"?"bg-purple-500/30":""} ${je?"justify-center":""}`,children:[b.jsx(Vx,{})," ",b.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${je?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"Team Builder"})]})}),b.jsx("li",{children:b.jsxs("button",{onClick:()=>{Le("allTeams"),Xr(!1)},className:`w-full p-3 mt-2 rounded-lg font-bold flex items-center transition-colors hover:bg-purple-500/20 ${qt==="allTeams"?"bg-purple-500/30":""} ${je?"justify-center":""}`,children:[b.jsx(kx,{})," ",b.jsx("span",{className:`whitespace-nowrap overflow-hidden transition-all duration-300 ${je?"lg:w-0 lg:ml-0 opacity-0":"w-auto ml-3 opacity-100"}`,children:"All Teams"})]})})]})})]})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("header",{className:"relative flex items-center justify-between pt-4 px-4 h-24",children:[b.jsx("button",{onClick:()=>Xr(!Ue),className:"lg:hidden p-2 rounded-md",style:{backgroundColor:nt.cardLight},children:Ue?b.jsx(qA,{}):b.jsx(Mx,{})}),b.jsxs("div",{className:"flex-1 text-center px-2 overflow-hidden",children:[b.jsx("h1",{className:"text-xs sm:text-base lg:text-3xl font-bold tracking-wider truncate sm:ml-16",style:{fontFamily:"'Press Start 2P'",color:nt.primary},children:"Pokmon Team Builder"}),b.jsx("p",{className:"text-xs sm:text-sm md:text-base mt-1 truncate",style:{fontFamily:"'Press Start 2P'",color:nt.primary},children:"By: Enzo Esmeraldo"})]}),b.jsx("div",{className:"w-10 lg:hidden"})]}),b.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:lh()}),b.jsxs("footer",{className:"text-center mt-12 py-6 border-t",style:{borderColor:nt.cardLight},children:[b.jsxs("p",{className:"text-sm",style:{color:nt.textMuted},children:["Developed and built by ",b.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"Enzo Esmeraldo"})," "]}),b.jsxs("p",{className:"text-xs mt-2",style:{color:nt.textMuted},children:["Using the ",b.jsx("a",{href:"https://pokeapi.co/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-white",children:"PokAPI"}),". Pokmon and their names are trademarks of Nintendo."]}),b.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[b.jsx("a",{href:"https://github.com/ensinho",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:nt.textMuted},children:b.jsx(Ix,{})}),b.jsx("a",{href:"https://www.linkedin.com/in/enzoesmeraldo/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",style:{color:nt.textMuted},children:b.jsx(Cx,{})})]})]})]})]}),b.jsx("style",{children:` @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); .custom-scrollbar::-webkit-scrollbar { width: 12px; } .custom-scrollbar::-webkit-scrollbar-track { background: ${nt.card}; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: ${nt.primary}; border-radius: 20px; border: 3px solid ${nt.card}; } @keyframes fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .animate-fade-in { animation: fade-in 0.2s ease-out forwards; } .image-pixelated { image-rendering: pixelated; } `})]})}o2.createRoot(document.getElementById("root")).render(b.jsx(bv.StrictMode,{children:b.jsx(Kx,{})}));
